(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const A of s.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Im={exports:{}},_0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function jR(){if(NE)return _0;NE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var A=null;if(s!==void 0&&(A=""+s),i.key!==void 0&&(A=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:A,ref:i!==void 0?i:null,props:s}}return _0.Fragment=e,_0.jsx=r,_0.jsxs=r,_0}var FE;function GR(){return FE||(FE=1,Im.exports=jR()),Im.exports}var p=GR(),Nm={exports:{}},or={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function KR(){if(RE)return or;RE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),A=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),B=Symbol.iterator;function F(me){return me===null||typeof me!="object"?null:(me=B&&me[B]||me["@@iterator"],typeof me=="function"?me:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function j(me,Z,de){this.props=me,this.context=Z,this.refs=k,this.updater=de||D}j.prototype.isReactComponent={},j.prototype.setState=function(me,Z){if(typeof me!="object"&&typeof me!="function"&&me!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,me,Z,"setState")},j.prototype.forceUpdate=function(me){this.updater.enqueueForceUpdate(this,me,"forceUpdate")};function G(){}G.prototype=j.prototype;function Q(me,Z,de){this.props=me,this.context=Z,this.refs=k,this.updater=de||D}var ee=Q.prototype=new G;ee.constructor=Q,R(ee,j.prototype),ee.isPureReactComponent=!0;var ne=Array.isArray;function te(){}var M={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function O(me,Z,de){var fe=de.ref;return{$$typeof:t,type:me,key:Z,ref:fe!==void 0?fe:null,props:de}}function z(me,Z){return O(me.type,Z,me.props)}function J(me){return typeof me=="object"&&me!==null&&me.$$typeof===t}function W(me){var Z={"=":"=0",":":"=2"};return"$"+me.replace(/[=:]/g,function(de){return Z[de]})}var X=/\/+/g;function Me(me,Z){return typeof me=="object"&&me!==null&&me.key!=null?W(""+me.key):Z.toString(36)}function ye(me){switch(me.status){case"fulfilled":return me.value;case"rejected":throw me.reason;default:switch(typeof me.status=="string"?me.then(te,te):(me.status="pending",me.then(function(Z){me.status==="pending"&&(me.status="fulfilled",me.value=Z)},function(Z){me.status==="pending"&&(me.status="rejected",me.reason=Z)})),me.status){case"fulfilled":return me.value;case"rejected":throw me.reason}}throw me}function we(me,Z,de,fe,oe){var xe=typeof me;(xe==="undefined"||xe==="boolean")&&(me=null);var Ye=!1;if(me===null)Ye=!0;else switch(xe){case"bigint":case"string":case"number":Ye=!0;break;case"object":switch(me.$$typeof){case t:case e:Ye=!0;break;case x:return Ye=me._init,we(Ye(me._payload),Z,de,fe,oe)}}if(Ye)return oe=oe(me),Ye=fe===""?"."+Me(me,0):fe,ne(oe)?(de="",Ye!=null&&(de=Ye.replace(X,"$&/")+"/"),we(oe,Z,de,"",function(Le){return Le})):oe!=null&&(J(oe)&&(oe=z(oe,de+(oe.key==null||me&&me.key===oe.key?"":(""+oe.key).replace(X,"$&/")+"/")+Ye)),Z.push(oe)),1;Ye=0;var Fe=fe===""?".":fe+":";if(ne(me))for(var _e=0;_e<me.length;_e++)fe=me[_e],xe=Fe+Me(fe,_e),Ye+=we(fe,Z,de,xe,oe);else if(_e=F(me),typeof _e=="function")for(me=_e.call(me),_e=0;!(fe=me.next()).done;)fe=fe.value,xe=Fe+Me(fe,_e++),Ye+=we(fe,Z,de,xe,oe);else if(xe==="object"){if(typeof me.then=="function")return we(ye(me),Z,de,fe,oe);throw Z=String(me),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(me).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ye}function ce(me,Z,de){if(me==null)return me;var fe=[],oe=0;return we(me,fe,"","",function(xe){return Z.call(de,xe,oe++)}),fe}function He(me){if(me._status===-1){var Z=me._result;Z=Z(),Z.then(function(de){(me._status===0||me._status===-1)&&(me._status=1,me._result=de)},function(de){(me._status===0||me._status===-1)&&(me._status=2,me._result=de)}),me._status===-1&&(me._status=0,me._result=Z)}if(me._status===1)return me._result.default;throw me._result}var Be=typeof reportError=="function"?reportError:function(me){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof me=="object"&&me!==null&&typeof me.message=="string"?String(me.message):String(me),error:me});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",me);return}console.error(me)},tt={map:ce,forEach:function(me,Z,de){ce(me,function(){Z.apply(this,arguments)},de)},count:function(me){var Z=0;return ce(me,function(){Z++}),Z},toArray:function(me){return ce(me,function(Z){return Z})||[]},only:function(me){if(!J(me))throw Error("React.Children.only expected to receive a single React element child.");return me}};return or.Activity=C,or.Children=tt,or.Component=j,or.Fragment=r,or.Profiler=i,or.PureComponent=Q,or.StrictMode=n,or.Suspense=h,or.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,or.__COMPILER_RUNTIME={__proto__:null,c:function(me){return M.H.useMemoCache(me)}},or.cache=function(me){return function(){return me.apply(null,arguments)}},or.cacheSignal=function(){return null},or.cloneElement=function(me,Z,de){if(me==null)throw Error("The argument must be a React element, but you passed "+me+".");var fe=R({},me.props),oe=me.key;if(Z!=null)for(xe in Z.key!==void 0&&(oe=""+Z.key),Z)!H.call(Z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Z.ref===void 0||(fe[xe]=Z[xe]);var xe=arguments.length-2;if(xe===1)fe.children=de;else if(1<xe){for(var Ye=Array(xe),Fe=0;Fe<xe;Fe++)Ye[Fe]=arguments[Fe+2];fe.children=Ye}return O(me.type,oe,fe)},or.createContext=function(me){return me={$$typeof:A,_currentValue:me,_currentValue2:me,_threadCount:0,Provider:null,Consumer:null},me.Provider=me,me.Consumer={$$typeof:s,_context:me},me},or.createElement=function(me,Z,de){var fe,oe={},xe=null;if(Z!=null)for(fe in Z.key!==void 0&&(xe=""+Z.key),Z)H.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(oe[fe]=Z[fe]);var Ye=arguments.length-2;if(Ye===1)oe.children=de;else if(1<Ye){for(var Fe=Array(Ye),_e=0;_e<Ye;_e++)Fe[_e]=arguments[_e+2];oe.children=Fe}if(me&&me.defaultProps)for(fe in Ye=me.defaultProps,Ye)oe[fe]===void 0&&(oe[fe]=Ye[fe]);return O(me,xe,oe)},or.createRef=function(){return{current:null}},or.forwardRef=function(me){return{$$typeof:c,render:me}},or.isValidElement=J,or.lazy=function(me){return{$$typeof:x,_payload:{_status:-1,_result:me},_init:He}},or.memo=function(me,Z){return{$$typeof:d,type:me,compare:Z===void 0?null:Z}},or.startTransition=function(me){var Z=M.T,de={};M.T=de;try{var fe=me(),oe=M.S;oe!==null&&oe(de,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(te,Be)}catch(xe){Be(xe)}finally{Z!==null&&de.types!==null&&(Z.types=de.types),M.T=Z}},or.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},or.use=function(me){return M.H.use(me)},or.useActionState=function(me,Z,de){return M.H.useActionState(me,Z,de)},or.useCallback=function(me,Z){return M.H.useCallback(me,Z)},or.useContext=function(me){return M.H.useContext(me)},or.useDebugValue=function(){},or.useDeferredValue=function(me,Z){return M.H.useDeferredValue(me,Z)},or.useEffect=function(me,Z){return M.H.useEffect(me,Z)},or.useEffectEvent=function(me){return M.H.useEffectEvent(me)},or.useId=function(){return M.H.useId()},or.useImperativeHandle=function(me,Z,de){return M.H.useImperativeHandle(me,Z,de)},or.useInsertionEffect=function(me,Z){return M.H.useInsertionEffect(me,Z)},or.useLayoutEffect=function(me,Z){return M.H.useLayoutEffect(me,Z)},or.useMemo=function(me,Z){return M.H.useMemo(me,Z)},or.useOptimistic=function(me,Z){return M.H.useOptimistic(me,Z)},or.useReducer=function(me,Z,de){return M.H.useReducer(me,Z,de)},or.useRef=function(me){return M.H.useRef(me)},or.useState=function(me){return M.H.useState(me)},or.useSyncExternalStore=function(me,Z,de){return M.H.useSyncExternalStore(me,Z,de)},or.useTransition=function(){return M.H.useTransition()},or.version="19.2.4",or}var DE;function q2(){return DE||(DE=1,Nm.exports=KR()),Nm.exports}var Se=q2();const zR=L4(Se);var Fm={exports:{}},T0={},Rm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function WR(){return UE||(UE=1,(function(t){function e(we,ce){var He=we.length;we.push(ce);e:for(;0<He;){var Be=He-1>>>1,tt=we[Be];if(0<i(tt,ce))we[Be]=ce,we[He]=tt,He=Be;else break e}}function r(we){return we.length===0?null:we[0]}function n(we){if(we.length===0)return null;var ce=we[0],He=we.pop();if(He!==ce){we[0]=He;e:for(var Be=0,tt=we.length,me=tt>>>1;Be<me;){var Z=2*(Be+1)-1,de=we[Z],fe=Z+1,oe=we[fe];if(0>i(de,He))fe<tt&&0>i(oe,de)?(we[Be]=oe,we[fe]=He,Be=fe):(we[Be]=de,we[Z]=He,Be=Z);else if(fe<tt&&0>i(oe,He))we[Be]=oe,we[fe]=He,Be=fe;else break e}}return ce}function i(we,ce){var He=we.sortIndex-ce.sortIndex;return He!==0?He:we.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var A=Date,c=A.now();t.unstable_now=function(){return A.now()-c}}var h=[],d=[],x=1,C=null,B=3,F=!1,D=!1,R=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ee(we){for(var ce=r(d);ce!==null;){if(ce.callback===null)n(d);else if(ce.startTime<=we)n(d),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=r(d)}}function ne(we){if(R=!1,ee(we),!D)if(r(h)!==null)D=!0,te||(te=!0,W());else{var ce=r(d);ce!==null&&ye(ne,ce.startTime-we)}}var te=!1,M=-1,H=5,O=-1;function z(){return k?!0:!(t.unstable_now()-O<H)}function J(){if(k=!1,te){var we=t.unstable_now();O=we;var ce=!0;try{e:{D=!1,R&&(R=!1,G(M),M=-1),F=!0;var He=B;try{t:{for(ee(we),C=r(h);C!==null&&!(C.expirationTime>we&&z());){var Be=C.callback;if(typeof Be=="function"){C.callback=null,B=C.priorityLevel;var tt=Be(C.expirationTime<=we);if(we=t.unstable_now(),typeof tt=="function"){C.callback=tt,ee(we),ce=!0;break t}C===r(h)&&n(h),ee(we)}else n(h);C=r(h)}if(C!==null)ce=!0;else{var me=r(d);me!==null&&ye(ne,me.startTime-we),ce=!1}}break e}finally{C=null,B=He,F=!1}ce=void 0}}finally{ce?W():te=!1}}}var W;if(typeof Q=="function")W=function(){Q(J)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Me=X.port2;X.port1.onmessage=J,W=function(){Me.postMessage(null)}}else W=function(){j(J,0)};function ye(we,ce){M=j(function(){we(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(we){we.callback=null},t.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<we?Math.floor(1e3/we):5},t.unstable_getCurrentPriorityLevel=function(){return B},t.unstable_next=function(we){switch(B){case 1:case 2:case 3:var ce=3;break;default:ce=B}var He=B;B=ce;try{return we()}finally{B=He}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(we,ce){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var He=B;B=we;try{return ce()}finally{B=He}},t.unstable_scheduleCallback=function(we,ce,He){var Be=t.unstable_now();switch(typeof He=="object"&&He!==null?(He=He.delay,He=typeof He=="number"&&0<He?Be+He:Be):He=Be,we){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=He+tt,we={id:x++,callback:ce,priorityLevel:we,startTime:He,expirationTime:tt,sortIndex:-1},He>Be?(we.sortIndex=He,e(d,we),r(h)===null&&we===r(d)&&(R?(G(M),M=-1):R=!0,ye(ne,He-Be))):(we.sortIndex=tt,e(h,we),D||F||(D=!0,te||(te=!0,W()))),we},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(we){var ce=B;return function(){var He=B;B=ce;try{return we.apply(this,arguments)}finally{B=He}}}})(Dm)),Dm}var kE;function XR(){return kE||(kE=1,Rm.exports=WR()),Rm.exports}var Um={exports:{}},$i={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function qR(){if(ME)return $i;ME=1;var t=q2();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,d,x){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:C==null?null:""+C,children:h,containerInfo:d,implementation:x}}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return $i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,$i.createPortal=function(h,d){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(h,d,null,x)},$i.flushSync=function(h){var d=A.T,x=n.p;try{if(A.T=null,n.p=2,h)return h()}finally{A.T=d,n.p=x,n.d.f()}},$i.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},$i.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},$i.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var x=d.as,C=c(x,d.crossOrigin),B=typeof d.integrity=="string"?d.integrity:void 0,F=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;x==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:C,integrity:B,fetchPriority:F}):x==="script"&&n.d.X(h,{crossOrigin:C,integrity:B,fetchPriority:F,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},$i.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var x=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},$i.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var x=d.as,C=c(x,d.crossOrigin);n.d.L(h,x,{crossOrigin:C,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},$i.preloadModule=function(h,d){if(typeof h=="string")if(d){var x=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},$i.requestFormReset=function(h){n.d.r(h)},$i.unstable_batchedUpdates=function(h,d){return h(d)},$i.useFormState=function(h,d,x){return A.H.useFormState(h,d,x)},$i.useFormStatus=function(){return A.H.useHostTransitionStatus()},$i.version="19.2.4",$i}var OE;function YR(){if(OE)return Um.exports;OE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Um.exports=qR(),Um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function JR(){if(LE)return T0;LE=1;var t=XR(),e=q2(),r=YR();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,g=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(g=l.return),a=l.return;while(a)}return l.tag===3?g:null}function A(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function h(a){if(s(a)!==a)throw Error(n(188))}function d(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(n(188));return l!==a?null:a}for(var g=a,v=l;;){var S=g.return;if(S===null)break;var N=S.alternate;if(N===null){if(v=S.return,v!==null){g=v;continue}break}if(S.child===N.child){for(N=S.child;N;){if(N===g)return h(S),a;if(N===v)return h(S),l;N=N.sibling}throw Error(n(188))}if(g.return!==v.return)g=S,v=N;else{for(var V=!1,se=S.child;se;){if(se===g){V=!0,g=S,v=N;break}if(se===v){V=!0,v=S,g=N;break}se=se.sibling}if(!V){for(se=N.child;se;){if(se===g){V=!0,g=N,v=S;break}if(se===v){V=!0,v=N,g=S;break}se=se.sibling}if(!V)throw Error(n(189))}}if(g.alternate!==v)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?a:l}function x(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=x(a),l!==null)return l;a=a.sibling}return null}var C=Object.assign,B=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function W(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var X=Symbol.for("react.client.reference");function Me(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===X?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case R:return"Fragment";case j:return"Profiler";case k:return"StrictMode";case ne:return"Suspense";case te:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case D:return"Portal";case Q:return a.displayName||"Context";case G:return(a._context.displayName||"Context")+".Consumer";case ee:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return l=a.displayName||null,l!==null?l:Me(a.type)||"Memo";case H:l=a._payload,a=a._init;try{return Me(a(l))}catch{}}return null}var ye=Array.isArray,we=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,He={pending:!1,data:null,method:null,action:null},Be=[],tt=-1;function me(a){return{current:a}}function Z(a){0>tt||(a.current=Be[tt],Be[tt]=null,tt--)}function de(a,l){tt++,Be[tt]=a.current,a.current=l}var fe=me(null),oe=me(null),xe=me(null),Ye=me(null);function Fe(a,l){switch(de(xe,l),de(oe,a),de(fe,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?$C(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=$C(l),a=eE(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Z(fe),de(fe,a)}function _e(){Z(fe),Z(oe),Z(xe)}function Le(a){a.memoizedState!==null&&de(Ye,a);var l=fe.current,g=eE(l,a.type);l!==g&&(de(oe,a),de(fe,g))}function xt(a){oe.current===a&&(Z(fe),Z(oe)),Ye.current===a&&(Z(Ye),y0._currentValue=He)}var pe,St;function kt(a){if(pe===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);pe=l&&l[1]||"",St=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+a+St}var Lt=!1;function Ne(a,l){if(!a||Lt)return"";Lt=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(rt){var qe=rt}Reflect.construct(a,[],ct)}else{try{ct.call()}catch(rt){qe=rt}a.call(ct.prototype)}}else{try{throw Error()}catch(rt){qe=rt}(ct=a())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(rt){if(rt&&qe&&typeof rt.stack=="string")return[rt.stack,qe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=v.DetermineComponentFrameRoot(),V=N[0],se=N[1];if(V&&se){var Te=V.split(`
`),ze=se.split(`
`);for(S=v=0;v<Te.length&&!Te[v].includes("DetermineComponentFrameRoot");)v++;for(;S<ze.length&&!ze[S].includes("DetermineComponentFrameRoot");)S++;if(v===Te.length||S===ze.length)for(v=Te.length-1,S=ze.length-1;1<=v&&0<=S&&Te[v]!==ze[S];)S--;for(;1<=v&&0<=S;v--,S--)if(Te[v]!==ze[S]){if(v!==1||S!==1)do if(v--,S--,0>S||Te[v]!==ze[S]){var ot=`
`+Te[v].replace(" at new "," at ");return a.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",a.displayName)),ot}while(1<=v&&0<=S);break}}}finally{Lt=!1,Error.prepareStackTrace=g}return(g=a?a.displayName||a.name:"")?kt(g):""}function Ue(a,l){switch(a.tag){case 26:case 27:case 5:return kt(a.type);case 16:return kt("Lazy");case 13:return a.child!==l&&l!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return Ne(a.type,!1);case 11:return Ne(a.type.render,!1);case 1:return Ne(a.type,!0);case 31:return kt("Activity");default:return""}}function gt(a){try{var l="",g=null;do l+=Ue(a,g),g=a,a=a.return;while(a);return l}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Bt=Object.prototype.hasOwnProperty,ur=t.unstable_scheduleCallback,_t=t.unstable_cancelCallback,Bn=t.unstable_shouldYield,hn=t.unstable_requestPaint,Ge=t.unstable_now,It=t.unstable_getCurrentPriorityLevel,Tt=t.unstable_ImmediatePriority,Jt=t.unstable_UserBlockingPriority,fr=t.unstable_NormalPriority,pr=t.unstable_LowPriority,Xt=t.unstable_IdlePriority,at=t.log,De=t.unstable_setDisableYieldValue,Je=null,Ee=null;function st(a){if(typeof at=="function"&&De(a),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(Je,a)}catch{}}var At=Math.clz32?Math.clz32:Ci,Nt=Math.log,Yr=Math.LN2;function Ci(a){return a>>>=0,a===0?32:31-(Nt(a)/Yr|0)|0}var qi=256,$t=262144,ti=4194304;function Gr(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ri(a,l,g){var v=a.pendingLanes;if(v===0)return 0;var S=0,N=a.suspendedLanes,V=a.pingedLanes;a=a.warmLanes;var se=v&134217727;return se!==0?(v=se&~N,v!==0?S=Gr(v):(V&=se,V!==0?S=Gr(V):g||(g=se&~a,g!==0&&(S=Gr(g))))):(se=v&~N,se!==0?S=Gr(se):V!==0?S=Gr(V):g||(g=v&~a,g!==0&&(S=Gr(g)))),S===0?0:l!==0&&l!==S&&(l&N)===0&&(N=S&-S,g=l&-l,N>=g||N===32&&(g&4194048)!==0)?l:S}function wn(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function ga(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _n(){var a=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),a}function Ei(a){for(var l=[],g=0;31>g;g++)l.push(a);return l}function ds(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function zr(a,l,g,v,S,N){var V=a.pendingLanes;a.pendingLanes=g,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=g,a.entangledLanes&=g,a.errorRecoveryDisabledLanes&=g,a.shellSuspendCounter=0;var se=a.entanglements,Te=a.expirationTimes,ze=a.hiddenUpdates;for(g=V&~g;0<g;){var ot=31-At(g),ct=1<<ot;se[ot]=0,Te[ot]=-1;var qe=ze[ot];if(qe!==null)for(ze[ot]=null,ot=0;ot<qe.length;ot++){var rt=qe[ot];rt!==null&&(rt.lane&=-536870913)}g&=~ct}v!==0&&So(a,v,0),N!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=N&~(V&~l))}function So(a,l,g){a.pendingLanes|=l,a.suspendedLanes&=~l;var v=31-At(l);a.entangledLanes|=l,a.entanglements[v]=a.entanglements[v]|1073741824|g&261930}function ni(a,l){var g=a.entangledLanes|=l;for(a=a.entanglements;g;){var v=31-At(g),S=1<<v;S&l|a[v]&l&&(a[v]|=l),g&=~S}}function Ss(a,l){var g=l&-l;return g=(g&42)!==0?1:kn(g),(g&(a.suspendedLanes|l))!==0?0:g}function kn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function hs(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function re(){var a=ce.p;return a!==0?a:(a=window.event,a===void 0?32:EE(a.type))}function ae(a,l){var g=ce.p;try{return ce.p=a,l()}finally{ce.p=g}}var le=Math.random().toString(36).slice(2),ue="__reactFiber$"+le,he="__reactProps$"+le,Ce="__reactContainer$"+le,je="__reactEvents$"+le,nt="__reactListeners$"+le,Qe="__reactHandles$"+le,We="__reactResources$"+le,Xe="__reactMarker$"+le;function ut(a){delete a[ue],delete a[he],delete a[je],delete a[nt],delete a[Qe]}function ht(a){var l=a[ue];if(l)return l;for(var g=a.parentNode;g;){if(l=g[Ce]||g[ue]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(a=oE(a);a!==null;){if(g=a[ue])return g;a=oE(a)}return l}a=g,g=a.parentNode}return null}function pt(a){if(a=a[ue]||a[Ce]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function wt(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function Ct(a){var l=a[We];return l||(l=a[We]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Dt(a){a[Xe]=!0}var it=new Set,Fr={};function Gt(a,l){Nn(a,l),Nn(a+"Capture",l)}function Nn(a,l){for(Fr[a]=l,a=0;a<l.length;a++)it.add(l[a])}var Pa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dr={},nr={};function ar(a){return Bt.call(nr,a)?!0:Bt.call(dr,a)?!1:Pa.test(a)?nr[a]=!0:(dr[a]=!0,!1)}function Mn(a,l,g){if(ar(l))if(g===null)a.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+g)}}function pa(a,l,g){if(g===null)a.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+g)}}function Yi(a,l,g,v){if(v===null)a.removeAttribute(g);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(g);return}a.setAttributeNS(l,g,""+v)}}function Sr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Js(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Gu(a,l,g){var v=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,N=v.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return S.call(this)},set:function(V){g=""+V,N.call(this,V)}}),Object.defineProperty(a,l,{enumerable:v.enumerable}),{getValue:function(){return g},setValue:function(V){g=""+V},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function rn(a){if(!a._valueTracker){var l=Js(a)?"checked":"value";a._valueTracker=Gu(a,l,""+a[l])}}function Is(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var g=l.getValue(),v="";return a&&(v=Js(a)?a.checked?"true":"false":a.value),a=v,a!==g?(l.setValue(a),!0):!1}function pA(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ji=/[\n"\\]/g;function Zt(a){return a.replace(Ji,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function vn(a,l,g,v,S,N,V,se){a.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.type=V:a.removeAttribute("type"),l!=null?V==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Sr(l)):a.value!==""+Sr(l)&&(a.value=""+Sr(l)):V!=="submit"&&V!=="reset"||a.removeAttribute("value"),l!=null?ge(a,V,Sr(l)):g!=null?ge(a,V,Sr(g)):v!=null&&a.removeAttribute("value"),S==null&&N!=null&&(a.defaultChecked=!!N),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?a.name=""+Sr(se):a.removeAttribute("name")}function Ve(a,l,g,v,S,N,V,se){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.type=N),l!=null||g!=null){if(!(N!=="submit"&&N!=="reset"||l!=null)){rn(a);return}g=g!=null?""+Sr(g):"",l=l!=null?""+Sr(l):g,se||l===a.value||(a.value=l),a.defaultValue=l}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,a.checked=se?a.checked:!!v,a.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(a.name=V),rn(a)}function ge(a,l,g){l==="number"&&pA(a.ownerDocument)===a||a.defaultValue===""+g||(a.defaultValue=""+g)}function Et(a,l,g,v){if(a=a.options,l){l={};for(var S=0;S<g.length;S++)l["$"+g[S]]=!0;for(g=0;g<a.length;g++)S=l.hasOwnProperty("$"+a[g].value),a[g].selected!==S&&(a[g].selected=S),S&&v&&(a[g].defaultSelected=!0)}else{for(g=""+Sr(g),l=null,S=0;S<a.length;S++){if(a[S].value===g){a[S].selected=!0,v&&(a[S].defaultSelected=!0);return}l!==null||a[S].disabled||(l=a[S])}l!==null&&(l.selected=!0)}}function gn(a,l,g){if(l!=null&&(l=""+Sr(l),l!==a.value&&(a.value=l),g==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=g!=null?""+Sr(g):""}function zn(a,l,g,v){if(l==null){if(v!=null){if(g!=null)throw Error(n(92));if(ye(v)){if(1<v.length)throw Error(n(93));v=v[0]}g=v}g==null&&(g=""),l=g}g=Sr(l),a.defaultValue=g,v=a.textContent,v===g&&v!==""&&v!==null&&(a.value=v),rn(a)}function Ns(a,l){if(l){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=l;return}}a.textContent=l}var yl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bi(a,l,g){var v=l.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?v?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":v?a.setProperty(l,g):typeof g!="number"||g===0||yl.has(l)?l==="float"?a.cssFloat=g:a[l]=(""+g).trim():a[l]=g+"px"}function Vt(a,l,g){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,g!=null){for(var v in g)!g.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?a.setProperty(v,""):v==="float"?a.cssFloat="":a[v]="");for(var S in l)v=l[S],l.hasOwnProperty(S)&&g[S]!==v&&Bi(a,S,v)}else for(var N in l)l.hasOwnProperty(N)&&Bi(a,N,l[N])}function Jr(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(a){return Ku.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Fn(){}var oo=null;function mA(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var nn=null,hi=null;function Zs(a){var l=pt(a);if(l&&(a=l.stateNode)){var g=a[he]||null;e:switch(a=l.stateNode,l.type){case"input":if(vn(a,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),l=g.name,g.type==="radio"&&l!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Zt(""+l)+'"][type="radio"]'),l=0;l<g.length;l++){var v=g[l];if(v!==a&&v.form===a.form){var S=v[he]||null;if(!S)throw Error(n(90));vn(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<g.length;l++)v=g[l],v.form===a.form&&Is(v)}break e;case"textarea":gn(a,g.value,g.defaultValue);break e;case"select":l=g.value,l!=null&&Et(a,!!g.multiple,l,!1)}}}var Kt=!1;function Cc(a,l,g){if(Kt)return a(l,g);Kt=!0;try{var v=a(l);return v}finally{if(Kt=!1,(nn!==null||hi!==null)&&(Od(),nn&&(l=nn,a=hi,hi=nn=null,Zs(l),a)))for(l=0;l<a.length;l++)Zs(a[l])}}function zt(a,l){var g=a.stateNode;if(g===null)return null;var v=g[he]||null;if(v===null)return null;g=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(n(231,l,typeof g));return g}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=!1;if(Zr)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Cl=!1}var Zi=null,Ds=null,ma=null;function Us(){if(ma)return ma;var a,l=Ds,g=l.length,v,S="value"in Zi?Zi.value:Zi.textContent,N=S.length;for(a=0;a<g&&l[a]===S[a];a++);var V=g-a;for(v=1;v<=V&&l[g-v]===S[N-v];v++);return ma=S.slice(a,1<v?1-v:void 0)}function $s(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ks(){return!0}function sn(){return!1}function On(a){function l(g,v,S,N,V){this._reactName=g,this._targetInst=S,this.type=v,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var se in a)a.hasOwnProperty(se)&&(g=a[se],this[se]=g?g(N):N[se]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?ks:sn,this.isPropagationStopped=sn,this}return C(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),l}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ln=On(gs),Ha=C({},gs,{view:0,detail:0}),El=On(Ha),Va,xA,Ri,Io=C({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ri&&(Ri&&a.type==="mousemove"?(Va=a.screenX-Ri.screenX,xA=a.screenY-Ri.screenY):xA=Va=0,Ri=a),Va)},movementY:function(a){return"movementY"in a?a.movementY:xA}}),kr=On(Io),Ao=C({},Io,{dataTransfer:0}),No=On(Ao),Ms=C({},Ha,{relatedTarget:0}),lo=On(Ms),Ze=C({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),tr=On(Ze),Wn=C({},gs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Fo=On(Wn),co=C({},gs,{data:0}),Bl=On(co),Ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_l={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ro={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Ro[a])?!!l[a]:!1}function xa(){return Tn}var un=C({},Ha,{key:function(a){if(a.key){var l=Ec[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=$s(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_l[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(a){return a.type==="keypress"?$s(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?$s(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Do=On(un),Di=C({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mr=On(Di),jt=C({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Bc=On(jt),Wr=C({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Os=On(Wr),Qn=C({},Io,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),_c=On(Qn),ps=C({},gs,{newState:0,oldState:0}),wa=On(ps),b=[9,13,27,32],L=Zr&&"CompositionEvent"in window,K=null;Zr&&"documentMode"in document&&(K=document.documentMode);var Ae=Zr&&"TextEvent"in window&&!K,Pe=Zr&&(!L||K&&8<K&&11>=K),et=" ",bt=!1;function Qr(a,l){switch(a){case"keyup":return b.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pn(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var mr=!1;function fn(a,l){switch(a){case"compositionend":return pn(l);case"keypress":return l.which!==32?null:(bt=!0,et);case"textInput":return a=l.data,a===et&&bt?null:a;default:return null}}function Rn(a,l){if(mr)return a==="compositionend"||!L&&Qr(a,l)?(a=Us(),ma=Ds=Zi=null,mr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Pe&&l.locale!=="ko"?null:l.data;default:return null}}var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ui(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Xn[a.type]:l==="textarea"}function _i(a,l,g,v){nn?hi?hi.push(v):hi=[v]:nn=v,l=Gd(l,"onChange"),0<l.length&&(g=new Ln("onChange","change",null,g,v),a.push({event:g,listeners:l}))}var ja=null,Uo=null;function Vg(a){WC(a,0)}function Tl(a){var l=wt(a);if(Is(l))return a}function ea(a,l){if(a==="change")return l}var td=!1;if(Zr){var bl;if(Zr){var ko="oninput"in document;if(!ko){var Er=document.createElement("div");Er.setAttribute("oninput","return;"),ko=typeof Er.oninput=="function"}bl=ko}else bl=!1;td=bl&&(!document.documentMode||9<document.documentMode)}function Sl(){ja&&(ja.detachEvent("onpropertychange",q),Uo=ja=null)}function q(a){if(a.propertyName==="value"&&Tl(Uo)){var l=[];_i(l,Uo,a,mA(a)),Cc(Vg,l)}}function o(a,l,g){a==="focusin"?(Sl(),ja=l,Uo=g,ja.attachEvent("onpropertychange",q)):a==="focusout"&&Sl()}function u(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Tl(Uo)}function f(a,l){if(a==="click")return Tl(l)}function m(a,l){if(a==="input"||a==="change")return Tl(l)}function w(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var y=typeof Object.is=="function"?Object.is:w;function _(a,l){if(y(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var g=Object.keys(a),v=Object.keys(l);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var S=g[v];if(!Bt.call(l,S)||!y(a[S],l[S]))return!1}return!0}function I(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function U(a,l){var g=I(a);a=0;for(var v;g;){if(g.nodeType===3){if(v=a+g.textContent.length,a<=l&&v>=l)return{node:g,offset:l-a};a=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=I(g)}}function P(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?P(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Y(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=pA(a.document);l instanceof a.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)a=l.contentWindow;else break;l=pA(a.document)}return l}function ie(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var ve=Zr&&"documentMode"in document&&11>=document.documentMode,be=null,Ie=null,Oe=null,$e=!1;function yt(a,l,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;$e||be==null||be!==pA(v)||(v=be,"selectionStart"in v&&ie(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Oe&&_(Oe,v)||(Oe=v,v=Gd(Ie,"onSelect"),0<v.length&&(l=new Ln("onSelect","select",null,l,g),a.push({event:l,listeners:v}),l.target=be)))}function vt(a,l){var g={};return g[a.toLowerCase()]=l.toLowerCase(),g["Webkit"+a]="webkit"+l,g["Moz"+a]="moz"+l,g}var dt={animationend:vt("Animation","AnimationEnd"),animationiteration:vt("Animation","AnimationIteration"),animationstart:vt("Animation","AnimationStart"),transitionrun:vt("Transition","TransitionRun"),transitionstart:vt("Transition","TransitionStart"),transitioncancel:vt("Transition","TransitionCancel"),transitionend:vt("Transition","TransitionEnd")},vr={},ir={};Zr&&(ir=document.createElement("div").style,"AnimationEvent"in window||(delete dt.animationend.animation,delete dt.animationiteration.animation,delete dt.animationstart.animation),"TransitionEvent"in window||delete dt.transitionend.transition);function Pn(a){if(vr[a])return vr[a];if(!dt[a])return a;var l=dt[a],g;for(g in l)if(l.hasOwnProperty(g)&&g in ir)return vr[a]=l[g];return a}var Ls=Pn("animationend"),ki=Pn("animationiteration"),Xr=Pn("animationstart"),gi=Pn("transitionrun"),ms=Pn("transitionstart"),wA=Pn("transitioncancel"),Mo=Pn("transitionend"),rd=new Map,zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zu.push("scrollEnd");function Ga(a,l){rd.set(a,l),Gt(l,[a])}var nd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},va=[],Tc=0,jg=0;function id(){for(var a=Tc,l=jg=Tc=0;l<a;){var g=va[l];va[l++]=null;var v=va[l];va[l++]=null;var S=va[l];va[l++]=null;var N=va[l];if(va[l++]=null,v!==null&&S!==null){var V=v.pending;V===null?S.next=S:(S.next=V.next,V.next=S),v.pending=S}N!==0&&Sv(g,S,N)}}function sd(a,l,g,v){va[Tc++]=a,va[Tc++]=l,va[Tc++]=g,va[Tc++]=v,jg|=v,a.lanes|=v,a=a.alternate,a!==null&&(a.lanes|=v)}function Gg(a,l,g,v){return sd(a,l,g,v),ad(a)}function Il(a,l){return sd(a,null,null,l),ad(a)}function Sv(a,l,g){a.lanes|=g;var v=a.alternate;v!==null&&(v.lanes|=g);for(var S=!1,N=a.return;N!==null;)N.childLanes|=g,v=N.alternate,v!==null&&(v.childLanes|=g),N.tag===22&&(a=N.stateNode,a===null||a._visibility&1||(S=!0)),a=N,N=N.return;return a.tag===3?(N=a.stateNode,S&&l!==null&&(S=31-At(g),a=N.hiddenUpdates,v=a[S],v===null?a[S]=[l]:v.push(l),l.lane=g|536870912),N):null}function ad(a){if(50<h0)throw h0=0,$p=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var bc={};function T8(a,l,g,v){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(a,l,g,v){return new T8(a,l,g,v)}function Kg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Oo(a,l){var g=a.alternate;return g===null?(g=ta(a.tag,l,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=l,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&65011712,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,l=a.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g.refCleanup=a.refCleanup,g}function Iv(a,l){a.flags&=65011714;var g=a.alternate;return g===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=g.childLanes,a.lanes=g.lanes,a.child=g.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=g.memoizedProps,a.memoizedState=g.memoizedState,a.updateQueue=g.updateQueue,a.type=g.type,l=g.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function od(a,l,g,v,S,N){var V=0;if(v=a,typeof a=="function")Kg(a)&&(V=1);else if(typeof a=="string")V=FR(a,g,fe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=ta(31,g,l,S),a.elementType=O,a.lanes=N,a;case R:return Nl(g.children,S,N,l);case k:V=8,S|=24;break;case j:return a=ta(12,g,l,S|2),a.elementType=j,a.lanes=N,a;case ne:return a=ta(13,g,l,S),a.elementType=ne,a.lanes=N,a;case te:return a=ta(19,g,l,S),a.elementType=te,a.lanes=N,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Q:V=10;break e;case G:V=9;break e;case ee:V=11;break e;case M:V=14;break e;case H:V=16,v=null;break e}V=29,g=Error(n(130,a===null?"null":typeof a,"")),v=null}return l=ta(V,g,l,S),l.elementType=a,l.type=v,l.lanes=N,l}function Nl(a,l,g,v){return a=ta(7,a,v,l),a.lanes=g,a}function zg(a,l,g){return a=ta(6,a,null,l),a.lanes=g,a}function Nv(a){var l=ta(18,null,null,0);return l.stateNode=a,l}function Wg(a,l,g){return l=ta(4,a.children!==null?a.children:[],a.key,l),l.lanes=g,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Fv=new WeakMap;function ya(a,l){if(typeof a=="object"&&a!==null){var g=Fv.get(a);return g!==void 0?g:(l={value:a,source:l,stack:gt(l)},Fv.set(a,l),l)}return{value:a,source:l,stack:gt(l)}}var Sc=[],Ic=0,Ad=null,Wu=0,Ca=[],Ea=0,vA=null,uo=1,fo="";function Lo(a,l){Sc[Ic++]=Wu,Sc[Ic++]=Ad,Ad=a,Wu=l}function Rv(a,l,g){Ca[Ea++]=uo,Ca[Ea++]=fo,Ca[Ea++]=vA,vA=a;var v=uo;a=fo;var S=32-At(v)-1;v&=~(1<<S),g+=1;var N=32-At(l)+S;if(30<N){var V=S-S%5;N=(v&(1<<V)-1).toString(32),v>>=V,S-=V,uo=1<<32-At(l)+S|g<<S|v,fo=N+a}else uo=1<<N|g<<S|v,fo=a}function Xg(a){a.return!==null&&(Lo(a,1),Rv(a,1,0))}function qg(a){for(;a===Ad;)Ad=Sc[--Ic],Sc[Ic]=null,Wu=Sc[--Ic],Sc[Ic]=null;for(;a===vA;)vA=Ca[--Ea],Ca[Ea]=null,fo=Ca[--Ea],Ca[Ea]=null,uo=Ca[--Ea],Ca[Ea]=null}function Dv(a,l){Ca[Ea++]=uo,Ca[Ea++]=fo,Ca[Ea++]=vA,uo=l.id,fo=l.overflow,vA=a}var Mi=null,yn=null,Ir=!1,yA=null,Ba=!1,Yg=Error(n(519));function CA(a){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xu(ya(l,a)),Yg}function Uv(a){var l=a.stateNode,g=a.type,v=a.memoizedProps;switch(l[ue]=a,l[he]=v,g){case"dialog":Cr("cancel",l),Cr("close",l);break;case"iframe":case"object":case"embed":Cr("load",l);break;case"video":case"audio":for(g=0;g<p0.length;g++)Cr(p0[g],l);break;case"source":Cr("error",l);break;case"img":case"image":case"link":Cr("error",l),Cr("load",l);break;case"details":Cr("toggle",l);break;case"input":Cr("invalid",l),Ve(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Cr("invalid",l);break;case"textarea":Cr("invalid",l),zn(l,v.value,v.defaultValue,v.children)}g=v.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||l.textContent===""+g||v.suppressHydrationWarning===!0||JC(l.textContent,g)?(v.popover!=null&&(Cr("beforetoggle",l),Cr("toggle",l)),v.onScroll!=null&&Cr("scroll",l),v.onScrollEnd!=null&&Cr("scrollend",l),v.onClick!=null&&(l.onclick=Fn),l=!0):l=!1,l||CA(a,!0)}function kv(a){for(Mi=a.return;Mi;)switch(Mi.tag){case 5:case 31:case 13:Ba=!1;return;case 27:case 3:Ba=!0;return;default:Mi=Mi.return}}function Nc(a){if(a!==Mi)return!1;if(!Ir)return kv(a),Ir=!0,!1;var l=a.tag,g;if((g=l!==3&&l!==27)&&((g=l===5)&&(g=a.type,g=!(g!=="form"&&g!=="button")||hm(a.type,a.memoizedProps)),g=!g),g&&yn&&CA(a),kv(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));yn=aE(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));yn=aE(a)}else l===27?(l=yn,MA(a.type)?(a=wm,wm=null,yn=a):yn=l):yn=Mi?Ta(a.stateNode.nextSibling):null;return!0}function Fl(){yn=Mi=null,Ir=!1}function Jg(){var a=yA;return a!==null&&(Vs===null?Vs=a:Vs.push.apply(Vs,a),yA=null),a}function Xu(a){yA===null?yA=[a]:yA.push(a)}var Zg=me(null),Rl=null,Qo=null;function EA(a,l,g){de(Zg,l._currentValue),l._currentValue=g}function Po(a){a._currentValue=Zg.current,Z(Zg)}function $g(a,l,g){for(;a!==null;){var v=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),a===g)break;a=a.return}}function ep(a,l,g,v){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var N=S.dependencies;if(N!==null){var V=S.child;N=N.firstContext;e:for(;N!==null;){var se=N;N=S;for(var Te=0;Te<l.length;Te++)if(se.context===l[Te]){N.lanes|=g,se=N.alternate,se!==null&&(se.lanes|=g),$g(N.return,g,a),v||(V=null);break e}N=se.next}}else if(S.tag===18){if(V=S.return,V===null)throw Error(n(341));V.lanes|=g,N=V.alternate,N!==null&&(N.lanes|=g),$g(V,g,a),V=null}else V=S.child;if(V!==null)V.return=S;else for(V=S;V!==null;){if(V===a){V=null;break}if(S=V.sibling,S!==null){S.return=V.return,V=S;break}V=V.return}S=V}}function Fc(a,l,g,v){a=null;for(var S=l,N=!1;S!==null;){if(!N){if((S.flags&524288)!==0)N=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var V=S.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var se=S.type;y(S.pendingProps.value,V.value)||(a!==null?a.push(se):a=[se])}}else if(S===Ye.current){if(V=S.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(y0):a=[y0])}S=S.return}a!==null&&ep(l,a,g,v),l.flags|=262144}function ld(a){for(a=a.firstContext;a!==null;){if(!y(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Dl(a){Rl=a,Qo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Oi(a){return Mv(Rl,a)}function cd(a,l){return Rl===null&&Dl(a),Mv(a,l)}function Mv(a,l){var g=l._currentValue;if(l={context:l,memoizedValue:g,next:null},Qo===null){if(a===null)throw Error(n(308));Qo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Qo=Qo.next=l;return g}var b8=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(g,v){a.push(v)}};this.abort=function(){l.aborted=!0,a.forEach(function(g){return g()})}},S8=t.unstable_scheduleCallback,I8=t.unstable_NormalPriority,ii={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tp(){return{controller:new b8,data:new Map,refCount:0}}function qu(a){a.refCount--,a.refCount===0&&S8(I8,function(){a.controller.abort()})}var Yu=null,rp=0,Rc=0,Dc=null;function N8(a,l){if(Yu===null){var g=Yu=[];rp=0,Rc=sm(),Dc={status:"pending",value:void 0,then:function(v){g.push(v)}}}return rp++,l.then(Ov,Ov),l}function Ov(){if(--rp===0&&Yu!==null){Dc!==null&&(Dc.status="fulfilled");var a=Yu;Yu=null,Rc=0,Dc=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function F8(a,l){var g=[],v={status:"pending",value:null,reason:null,then:function(S){g.push(S)}};return a.then(function(){v.status="fulfilled",v.value=l;for(var S=0;S<g.length;S++)(0,g[S])(l)},function(S){for(v.status="rejected",v.reason=S,S=0;S<g.length;S++)(0,g[S])(void 0)}),v}var Lv=we.S;we.S=function(a,l){yC=Ge(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&N8(a,l),Lv!==null&&Lv(a,l)};var Ul=me(null);function np(){var a=Ul.current;return a!==null?a:dn.pooledCache}function ud(a,l){l===null?de(Ul,Ul.current):de(Ul,l.pool)}function Qv(){var a=np();return a===null?null:{parent:ii._currentValue,pool:a}}var Uc=Error(n(460)),ip=Error(n(474)),fd=Error(n(542)),dd={then:function(){}};function Pv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Hv(a,l,g){switch(g=a[g],g===void 0?a.push(l):g!==l&&(l.then(Fn,Fn),l=g),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,jv(a),a;default:if(typeof l.status=="string")l.then(Fn,Fn);else{if(a=dn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(v){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=v}},function(v){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,jv(a),a}throw Ml=l,Uc}}function kl(a){try{var l=a._init;return l(a._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(Ml=g,Uc):g}}var Ml=null;function Vv(){if(Ml===null)throw Error(n(459));var a=Ml;return Ml=null,a}function jv(a){if(a===Uc||a===fd)throw Error(n(483))}var kc=null,Ju=0;function hd(a){var l=Ju;return Ju+=1,kc===null&&(kc=[]),Hv(kc,a,l)}function Zu(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function gd(a,l){throw l.$$typeof===B?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Gv(a){function l(ke,Re){if(a){var Ke=ke.deletions;Ke===null?(ke.deletions=[Re],ke.flags|=16):Ke.push(Re)}}function g(ke,Re){if(!a)return null;for(;Re!==null;)l(ke,Re),Re=Re.sibling;return null}function v(ke){for(var Re=new Map;ke!==null;)ke.key!==null?Re.set(ke.key,ke):Re.set(ke.index,ke),ke=ke.sibling;return Re}function S(ke,Re){return ke=Oo(ke,Re),ke.index=0,ke.sibling=null,ke}function N(ke,Re,Ke){return ke.index=Ke,a?(Ke=ke.alternate,Ke!==null?(Ke=Ke.index,Ke<Re?(ke.flags|=67108866,Re):Ke):(ke.flags|=67108866,Re)):(ke.flags|=1048576,Re)}function V(ke){return a&&ke.alternate===null&&(ke.flags|=67108866),ke}function se(ke,Re,Ke,lt){return Re===null||Re.tag!==6?(Re=zg(Ke,ke.mode,lt),Re.return=ke,Re):(Re=S(Re,Ke),Re.return=ke,Re)}function Te(ke,Re,Ke,lt){var Wt=Ke.type;return Wt===R?ot(ke,Re,Ke.props.children,lt,Ke.key):Re!==null&&(Re.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===H&&kl(Wt)===Re.type)?(Re=S(Re,Ke.props),Zu(Re,Ke),Re.return=ke,Re):(Re=od(Ke.type,Ke.key,Ke.props,null,ke.mode,lt),Zu(Re,Ke),Re.return=ke,Re)}function ze(ke,Re,Ke,lt){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Ke.containerInfo||Re.stateNode.implementation!==Ke.implementation?(Re=Wg(Ke,ke.mode,lt),Re.return=ke,Re):(Re=S(Re,Ke.children||[]),Re.return=ke,Re)}function ot(ke,Re,Ke,lt,Wt){return Re===null||Re.tag!==7?(Re=Nl(Ke,ke.mode,lt,Wt),Re.return=ke,Re):(Re=S(Re,Ke),Re.return=ke,Re)}function ct(ke,Re,Ke){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=zg(""+Re,ke.mode,Ke),Re.return=ke,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case F:return Ke=od(Re.type,Re.key,Re.props,null,ke.mode,Ke),Zu(Ke,Re),Ke.return=ke,Ke;case D:return Re=Wg(Re,ke.mode,Ke),Re.return=ke,Re;case H:return Re=kl(Re),ct(ke,Re,Ke)}if(ye(Re)||W(Re))return Re=Nl(Re,ke.mode,Ke,null),Re.return=ke,Re;if(typeof Re.then=="function")return ct(ke,hd(Re),Ke);if(Re.$$typeof===Q)return ct(ke,cd(ke,Re),Ke);gd(ke,Re)}return null}function qe(ke,Re,Ke,lt){var Wt=Re!==null?Re.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Wt!==null?null:se(ke,Re,""+Ke,lt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case F:return Ke.key===Wt?Te(ke,Re,Ke,lt):null;case D:return Ke.key===Wt?ze(ke,Re,Ke,lt):null;case H:return Ke=kl(Ke),qe(ke,Re,Ke,lt)}if(ye(Ke)||W(Ke))return Wt!==null?null:ot(ke,Re,Ke,lt,null);if(typeof Ke.then=="function")return qe(ke,Re,hd(Ke),lt);if(Ke.$$typeof===Q)return qe(ke,Re,cd(ke,Ke),lt);gd(ke,Ke)}return null}function rt(ke,Re,Ke,lt,Wt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return ke=ke.get(Ke)||null,se(Re,ke,""+lt,Wt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case F:return ke=ke.get(lt.key===null?Ke:lt.key)||null,Te(Re,ke,lt,Wt);case D:return ke=ke.get(lt.key===null?Ke:lt.key)||null,ze(Re,ke,lt,Wt);case H:return lt=kl(lt),rt(ke,Re,Ke,lt,Wt)}if(ye(lt)||W(lt))return ke=ke.get(Ke)||null,ot(Re,ke,lt,Wt,null);if(typeof lt.then=="function")return rt(ke,Re,Ke,hd(lt),Wt);if(lt.$$typeof===Q)return rt(ke,Re,Ke,cd(Re,lt),Wt);gd(Re,lt)}return null}function Qt(ke,Re,Ke,lt){for(var Wt=null,Pr=null,Ht=Re,xr=Re=0,_r=null;Ht!==null&&xr<Ke.length;xr++){Ht.index>xr?(_r=Ht,Ht=null):_r=Ht.sibling;var Hr=qe(ke,Ht,Ke[xr],lt);if(Hr===null){Ht===null&&(Ht=_r);break}a&&Ht&&Hr.alternate===null&&l(ke,Ht),Re=N(Hr,Re,xr),Pr===null?Wt=Hr:Pr.sibling=Hr,Pr=Hr,Ht=_r}if(xr===Ke.length)return g(ke,Ht),Ir&&Lo(ke,xr),Wt;if(Ht===null){for(;xr<Ke.length;xr++)Ht=ct(ke,Ke[xr],lt),Ht!==null&&(Re=N(Ht,Re,xr),Pr===null?Wt=Ht:Pr.sibling=Ht,Pr=Ht);return Ir&&Lo(ke,xr),Wt}for(Ht=v(Ht);xr<Ke.length;xr++)_r=rt(Ht,ke,xr,Ke[xr],lt),_r!==null&&(a&&_r.alternate!==null&&Ht.delete(_r.key===null?xr:_r.key),Re=N(_r,Re,xr),Pr===null?Wt=_r:Pr.sibling=_r,Pr=_r);return a&&Ht.forEach(function(HA){return l(ke,HA)}),Ir&&Lo(ke,xr),Wt}function Yt(ke,Re,Ke,lt){if(Ke==null)throw Error(n(151));for(var Wt=null,Pr=null,Ht=Re,xr=Re=0,_r=null,Hr=Ke.next();Ht!==null&&!Hr.done;xr++,Hr=Ke.next()){Ht.index>xr?(_r=Ht,Ht=null):_r=Ht.sibling;var HA=qe(ke,Ht,Hr.value,lt);if(HA===null){Ht===null&&(Ht=_r);break}a&&Ht&&HA.alternate===null&&l(ke,Ht),Re=N(HA,Re,xr),Pr===null?Wt=HA:Pr.sibling=HA,Pr=HA,Ht=_r}if(Hr.done)return g(ke,Ht),Ir&&Lo(ke,xr),Wt;if(Ht===null){for(;!Hr.done;xr++,Hr=Ke.next())Hr=ct(ke,Hr.value,lt),Hr!==null&&(Re=N(Hr,Re,xr),Pr===null?Wt=Hr:Pr.sibling=Hr,Pr=Hr);return Ir&&Lo(ke,xr),Wt}for(Ht=v(Ht);!Hr.done;xr++,Hr=Ke.next())Hr=rt(Ht,ke,xr,Hr.value,lt),Hr!==null&&(a&&Hr.alternate!==null&&Ht.delete(Hr.key===null?xr:Hr.key),Re=N(Hr,Re,xr),Pr===null?Wt=Hr:Pr.sibling=Hr,Pr=Hr);return a&&Ht.forEach(function(VR){return l(ke,VR)}),Ir&&Lo(ke,xr),Wt}function An(ke,Re,Ke,lt){if(typeof Ke=="object"&&Ke!==null&&Ke.type===R&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case F:e:{for(var Wt=Ke.key;Re!==null;){if(Re.key===Wt){if(Wt=Ke.type,Wt===R){if(Re.tag===7){g(ke,Re.sibling),lt=S(Re,Ke.props.children),lt.return=ke,ke=lt;break e}}else if(Re.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===H&&kl(Wt)===Re.type){g(ke,Re.sibling),lt=S(Re,Ke.props),Zu(lt,Ke),lt.return=ke,ke=lt;break e}g(ke,Re);break}else l(ke,Re);Re=Re.sibling}Ke.type===R?(lt=Nl(Ke.props.children,ke.mode,lt,Ke.key),lt.return=ke,ke=lt):(lt=od(Ke.type,Ke.key,Ke.props,null,ke.mode,lt),Zu(lt,Ke),lt.return=ke,ke=lt)}return V(ke);case D:e:{for(Wt=Ke.key;Re!==null;){if(Re.key===Wt)if(Re.tag===4&&Re.stateNode.containerInfo===Ke.containerInfo&&Re.stateNode.implementation===Ke.implementation){g(ke,Re.sibling),lt=S(Re,Ke.children||[]),lt.return=ke,ke=lt;break e}else{g(ke,Re);break}else l(ke,Re);Re=Re.sibling}lt=Wg(Ke,ke.mode,lt),lt.return=ke,ke=lt}return V(ke);case H:return Ke=kl(Ke),An(ke,Re,Ke,lt)}if(ye(Ke))return Qt(ke,Re,Ke,lt);if(W(Ke)){if(Wt=W(Ke),typeof Wt!="function")throw Error(n(150));return Ke=Wt.call(Ke),Yt(ke,Re,Ke,lt)}if(typeof Ke.then=="function")return An(ke,Re,hd(Ke),lt);if(Ke.$$typeof===Q)return An(ke,Re,cd(ke,Ke),lt);gd(ke,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,Re!==null&&Re.tag===6?(g(ke,Re.sibling),lt=S(Re,Ke),lt.return=ke,ke=lt):(g(ke,Re),lt=zg(Ke,ke.mode,lt),lt.return=ke,ke=lt),V(ke)):g(ke,Re)}return function(ke,Re,Ke,lt){try{Ju=0;var Wt=An(ke,Re,Ke,lt);return kc=null,Wt}catch(Ht){if(Ht===Uc||Ht===fd)throw Ht;var Pr=ta(29,Ht,null,ke.mode);return Pr.lanes=lt,Pr.return=ke,Pr}finally{}}}var Ol=Gv(!0),Kv=Gv(!1),BA=!1;function sp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function _A(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function TA(a,l,g){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(Kr&2)!==0){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,l=ad(a),Sv(a,null,g),l}return sd(a,v,l,g),ad(a)}function $u(a,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194048)!==0)){var v=l.lanes;v&=a.pendingLanes,g|=v,l.lanes=g,ni(a,g)}}function op(a,l){var g=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var S=null,N=null;if(g=g.firstBaseUpdate,g!==null){do{var V={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};N===null?S=N=V:N=N.next=V,g=g.next}while(g!==null);N===null?S=N=l:N=N.next=l}else S=N=l;g={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:N,shared:v.shared,callbacks:v.callbacks},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=l:a.next=l,g.lastBaseUpdate=l}var Ap=!1;function e0(){if(Ap){var a=Dc;if(a!==null)throw a}}function t0(a,l,g,v){Ap=!1;var S=a.updateQueue;BA=!1;var N=S.firstBaseUpdate,V=S.lastBaseUpdate,se=S.shared.pending;if(se!==null){S.shared.pending=null;var Te=se,ze=Te.next;Te.next=null,V===null?N=ze:V.next=ze,V=Te;var ot=a.alternate;ot!==null&&(ot=ot.updateQueue,se=ot.lastBaseUpdate,se!==V&&(se===null?ot.firstBaseUpdate=ze:se.next=ze,ot.lastBaseUpdate=Te))}if(N!==null){var ct=S.baseState;V=0,ot=ze=Te=null,se=N;do{var qe=se.lane&-536870913,rt=qe!==se.lane;if(rt?(Br&qe)===qe:(v&qe)===qe){qe!==0&&qe===Rc&&(Ap=!0),ot!==null&&(ot=ot.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Qt=a,Yt=se;qe=l;var An=g;switch(Yt.tag){case 1:if(Qt=Yt.payload,typeof Qt=="function"){ct=Qt.call(An,ct,qe);break e}ct=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=Yt.payload,qe=typeof Qt=="function"?Qt.call(An,ct,qe):Qt,qe==null)break e;ct=C({},ct,qe);break e;case 2:BA=!0}}qe=se.callback,qe!==null&&(a.flags|=64,rt&&(a.flags|=8192),rt=S.callbacks,rt===null?S.callbacks=[qe]:rt.push(qe))}else rt={lane:qe,tag:se.tag,payload:se.payload,callback:se.callback,next:null},ot===null?(ze=ot=rt,Te=ct):ot=ot.next=rt,V|=qe;if(se=se.next,se===null){if(se=S.shared.pending,se===null)break;rt=se,se=rt.next,rt.next=null,S.lastBaseUpdate=rt,S.shared.pending=null}}while(!0);ot===null&&(Te=ct),S.baseState=Te,S.firstBaseUpdate=ze,S.lastBaseUpdate=ot,N===null&&(S.shared.lanes=0),FA|=V,a.lanes=V,a.memoizedState=ct}}function zv(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function Wv(a,l){var g=a.callbacks;if(g!==null)for(a.callbacks=null,a=0;a<g.length;a++)zv(g[a],l)}var Mc=me(null),pd=me(0);function Xv(a,l){a=qo,de(pd,a),de(Mc,l),qo=a|l.baseLanes}function lp(){de(pd,qo),de(Mc,Mc.current)}function cp(){qo=pd.current,Z(Mc),Z(pd)}var ra=me(null),_a=null;function bA(a){var l=a.alternate;de(qn,qn.current&1),de(ra,a),_a===null&&(l===null||Mc.current!==null||l.memoizedState!==null)&&(_a=a)}function up(a){de(qn,qn.current),de(ra,a),_a===null&&(_a=a)}function qv(a){a.tag===22?(de(qn,qn.current),de(ra,a),_a===null&&(_a=a)):SA()}function SA(){de(qn,qn.current),de(ra,ra.current)}function na(a){Z(ra),_a===a&&(_a=null),Z(qn)}var qn=me(0);function md(a){for(var l=a;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||mm(g)||xm(g)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ho=0,hr=null,an=null,si=null,xd=!1,Oc=!1,Ll=!1,wd=0,r0=0,Lc=null,R8=0;function Hn(){throw Error(n(321))}function fp(a,l){if(l===null)return!1;for(var g=0;g<l.length&&g<a.length;g++)if(!y(a[g],l[g]))return!1;return!0}function dp(a,l,g,v,S,N){return Ho=N,hr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,we.H=a===null||a.memoizedState===null?Ry:Sp,Ll=!1,N=g(v,S),Ll=!1,Oc&&(N=Jv(l,g,v,S)),Yv(a),N}function Yv(a){we.H=s0;var l=an!==null&&an.next!==null;if(Ho=0,si=an=hr=null,xd=!1,r0=0,Lc=null,l)throw Error(n(300));a===null||ai||(a=a.dependencies,a!==null&&ld(a)&&(ai=!0))}function Jv(a,l,g,v){hr=a;var S=0;do{if(Oc&&(Lc=null),r0=0,Oc=!1,25<=S)throw Error(n(301));if(S+=1,si=an=null,a.updateQueue!=null){var N=a.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}we.H=Dy,N=l(g,v)}while(Oc);return N}function D8(){var a=we.H,l=a.useState()[0];return l=typeof l.then=="function"?n0(l):l,a=a.useState()[0],(an!==null?an.memoizedState:null)!==a&&(hr.flags|=1024),l}function hp(){var a=wd!==0;return wd=0,a}function gp(a,l,g){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~g}function pp(a){if(xd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}xd=!1}Ho=0,si=an=hr=null,Oc=!1,r0=wd=0,Lc=null}function xs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?hr.memoizedState=si=a:si=si.next=a,si}function Yn(){if(an===null){var a=hr.alternate;a=a!==null?a.memoizedState:null}else a=an.next;var l=si===null?hr.memoizedState:si.next;if(l!==null)si=l,an=a;else{if(a===null)throw hr.alternate===null?Error(n(467)):Error(n(310));an=a,a={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},si===null?hr.memoizedState=si=a:si=si.next=a}return si}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function n0(a){var l=r0;return r0+=1,Lc===null&&(Lc=[]),a=Hv(Lc,a,l),l=hr,(si===null?l.memoizedState:si.next)===null&&(l=l.alternate,we.H=l===null||l.memoizedState===null?Ry:Sp),a}function yd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return n0(a);if(a.$$typeof===Q)return Oi(a)}throw Error(n(438,String(a)))}function mp(a){var l=null,g=hr.updateQueue;if(g!==null&&(l=g.memoCache),l==null){var v=hr.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),g===null&&(g=vd(),hr.updateQueue=g),g.memoCache=l,g=l.data[l.index],g===void 0)for(g=l.data[l.index]=Array(a),v=0;v<a;v++)g[v]=z;return l.index++,g}function Vo(a,l){return typeof l=="function"?l(a):l}function Cd(a){var l=Yn();return xp(l,an,a)}function xp(a,l,g){var v=a.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=g;var S=a.baseQueue,N=v.pending;if(N!==null){if(S!==null){var V=S.next;S.next=N.next,N.next=V}l.baseQueue=S=N,v.pending=null}if(N=a.baseState,S===null)a.memoizedState=N;else{l=S.next;var se=V=null,Te=null,ze=l,ot=!1;do{var ct=ze.lane&-536870913;if(ct!==ze.lane?(Br&ct)===ct:(Ho&ct)===ct){var qe=ze.revertLane;if(qe===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),ct===Rc&&(ot=!0);else if((Ho&qe)===qe){ze=ze.next,qe===Rc&&(ot=!0);continue}else ct={lane:0,revertLane:ze.revertLane,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Te===null?(se=Te=ct,V=N):Te=Te.next=ct,hr.lanes|=qe,FA|=qe;ct=ze.action,Ll&&g(N,ct),N=ze.hasEagerState?ze.eagerState:g(N,ct)}else qe={lane:ct,revertLane:ze.revertLane,gesture:ze.gesture,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Te===null?(se=Te=qe,V=N):Te=Te.next=qe,hr.lanes|=ct,FA|=ct;ze=ze.next}while(ze!==null&&ze!==l);if(Te===null?V=N:Te.next=se,!y(N,a.memoizedState)&&(ai=!0,ot&&(g=Dc,g!==null)))throw g;a.memoizedState=N,a.baseState=V,a.baseQueue=Te,v.lastRenderedState=N}return S===null&&(v.lanes=0),[a.memoizedState,v.dispatch]}function wp(a){var l=Yn(),g=l.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=a;var v=g.dispatch,S=g.pending,N=l.memoizedState;if(S!==null){g.pending=null;var V=S=S.next;do N=a(N,V.action),V=V.next;while(V!==S);y(N,l.memoizedState)||(ai=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),g.lastRenderedState=N}return[N,v]}function Zv(a,l,g){var v=hr,S=Yn(),N=Ir;if(N){if(g===void 0)throw Error(n(407));g=g()}else g=l();var V=!y((an||S).memoizedState,g);if(V&&(S.memoizedState=g,ai=!0),S=S.queue,Cp(ty.bind(null,v,S,a),[a]),S.getSnapshot!==l||V||si!==null&&si.memoizedState.tag&1){if(v.flags|=2048,Qc(9,{destroy:void 0},ey.bind(null,v,S,g,l),null),dn===null)throw Error(n(349));N||(Ho&127)!==0||$v(v,l,g)}return g}function $v(a,l,g){a.flags|=16384,a={getSnapshot:l,value:g},l=hr.updateQueue,l===null?(l=vd(),hr.updateQueue=l,l.stores=[a]):(g=l.stores,g===null?l.stores=[a]:g.push(a))}function ey(a,l,g,v){l.value=g,l.getSnapshot=v,ry(l)&&ny(a)}function ty(a,l,g){return g(function(){ry(l)&&ny(a)})}function ry(a){var l=a.getSnapshot;a=a.value;try{var g=l();return!y(a,g)}catch{return!0}}function ny(a){var l=Il(a,2);l!==null&&js(l,a,2)}function vp(a){var l=xs();if(typeof a=="function"){var g=a;if(a=g(),Ll){st(!0);try{g()}finally{st(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:a},l}function iy(a,l,g,v){return a.baseState=g,xp(a,an,typeof v=="function"?v:Vo)}function U8(a,l,g,v,S){if(_d(a))throw Error(n(485));if(a=l.action,a!==null){var N={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};we.T!==null?g(!0):N.isTransition=!1,v(N),g=l.pending,g===null?(N.next=l.pending=N,sy(l,N)):(N.next=g.next,l.pending=g.next=N)}}function sy(a,l){var g=l.action,v=l.payload,S=a.state;if(l.isTransition){var N=we.T,V={};we.T=V;try{var se=g(S,v),Te=we.S;Te!==null&&Te(V,se),ay(a,l,se)}catch(ze){yp(a,l,ze)}finally{N!==null&&V.types!==null&&(N.types=V.types),we.T=N}}else try{N=g(S,v),ay(a,l,N)}catch(ze){yp(a,l,ze)}}function ay(a,l,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(v){oy(a,l,v)},function(v){return yp(a,l,v)}):oy(a,l,g)}function oy(a,l,g){l.status="fulfilled",l.value=g,Ay(l),a.state=g,l=a.pending,l!==null&&(g=l.next,g===l?a.pending=null:(g=g.next,l.next=g,sy(a,g)))}function yp(a,l,g){var v=a.pending;if(a.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=g,Ay(l),l=l.next;while(l!==v)}a.action=null}function Ay(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function ly(a,l){return l}function cy(a,l){if(Ir){var g=dn.formState;if(g!==null){e:{var v=hr;if(Ir){if(yn){t:{for(var S=yn,N=Ba;S.nodeType!==8;){if(!N){S=null;break t}if(S=Ta(S.nextSibling),S===null){S=null;break t}}N=S.data,S=N==="F!"||N==="F"?S:null}if(S){yn=Ta(S.nextSibling),v=S.data==="F!";break e}}CA(v)}v=!1}v&&(l=g[0])}}return g=xs(),g.memoizedState=g.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:l},g.queue=v,g=Iy.bind(null,hr,v),v.dispatch=g,v=vp(!1),N=bp.bind(null,hr,!1,v.queue),v=xs(),S={state:l,dispatch:null,action:a,pending:null},v.queue=S,g=U8.bind(null,hr,S,N,g),S.dispatch=g,v.memoizedState=a,[l,g,!1]}function uy(a){var l=Yn();return fy(l,an,a)}function fy(a,l,g){if(l=xp(a,l,ly)[0],a=Cd(Vo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=n0(l)}catch(V){throw V===Uc?fd:V}else v=l;l=Yn();var S=l.queue,N=S.dispatch;return g!==l.memoizedState&&(hr.flags|=2048,Qc(9,{destroy:void 0},k8.bind(null,S,g),null)),[v,N,a]}function k8(a,l){a.action=l}function dy(a){var l=Yn(),g=an;if(g!==null)return fy(l,g,a);Yn(),l=l.memoizedState,g=Yn();var v=g.queue.dispatch;return g.memoizedState=a,[l,v,!1]}function Qc(a,l,g,v){return a={tag:a,create:g,deps:v,inst:l,next:null},l=hr.updateQueue,l===null&&(l=vd(),hr.updateQueue=l),g=l.lastEffect,g===null?l.lastEffect=a.next=a:(v=g.next,g.next=a,a.next=v,l.lastEffect=a),a}function hy(){return Yn().memoizedState}function Ed(a,l,g,v){var S=xs();hr.flags|=a,S.memoizedState=Qc(1|l,{destroy:void 0},g,v===void 0?null:v)}function Bd(a,l,g,v){var S=Yn();v=v===void 0?null:v;var N=S.memoizedState.inst;an!==null&&v!==null&&fp(v,an.memoizedState.deps)?S.memoizedState=Qc(l,N,g,v):(hr.flags|=a,S.memoizedState=Qc(1|l,N,g,v))}function gy(a,l){Ed(8390656,8,a,l)}function Cp(a,l){Bd(2048,8,a,l)}function M8(a){hr.flags|=4;var l=hr.updateQueue;if(l===null)l=vd(),hr.updateQueue=l,l.events=[a];else{var g=l.events;g===null?l.events=[a]:g.push(a)}}function py(a){var l=Yn().memoizedState;return M8({ref:l,nextImpl:a}),function(){if((Kr&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function my(a,l){return Bd(4,2,a,l)}function xy(a,l){return Bd(4,4,a,l)}function wy(a,l){if(typeof l=="function"){a=a();var g=l(a);return function(){typeof g=="function"?g():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function vy(a,l,g){g=g!=null?g.concat([a]):null,Bd(4,4,wy.bind(null,l,a),g)}function Ep(){}function yy(a,l){var g=Yn();l=l===void 0?null:l;var v=g.memoizedState;return l!==null&&fp(l,v[1])?v[0]:(g.memoizedState=[a,l],a)}function Cy(a,l){var g=Yn();l=l===void 0?null:l;var v=g.memoizedState;if(l!==null&&fp(l,v[1]))return v[0];if(v=a(),Ll){st(!0);try{a()}finally{st(!1)}}return g.memoizedState=[v,l],v}function Bp(a,l,g){return g===void 0||(Ho&1073741824)!==0&&(Br&261930)===0?a.memoizedState=l:(a.memoizedState=g,a=EC(),hr.lanes|=a,FA|=a,g)}function Ey(a,l,g,v){return y(g,l)?g:Mc.current!==null?(a=Bp(a,g,v),y(a,l)||(ai=!0),a):(Ho&42)===0||(Ho&1073741824)!==0&&(Br&261930)===0?(ai=!0,a.memoizedState=g):(a=EC(),hr.lanes|=a,FA|=a,l)}function By(a,l,g,v,S){var N=ce.p;ce.p=N!==0&&8>N?N:8;var V=we.T,se={};we.T=se,bp(a,!1,l,g);try{var Te=S(),ze=we.S;if(ze!==null&&ze(se,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var ot=F8(Te,v);i0(a,l,ot,aa(a))}else i0(a,l,v,aa(a))}catch(ct){i0(a,l,{then:function(){},status:"rejected",reason:ct},aa())}finally{ce.p=N,V!==null&&se.types!==null&&(V.types=se.types),we.T=V}}function O8(){}function _p(a,l,g,v){if(a.tag!==5)throw Error(n(476));var S=_y(a).queue;By(a,S,l,He,g===null?O8:function(){return Ty(a),g(v)})}function _y(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:He,baseState:He,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:He},next:null};var g={};return l.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:g},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Ty(a){var l=_y(a);l.next===null&&(l=a.alternate.memoizedState),i0(a,l.next.queue,{},aa())}function Tp(){return Oi(y0)}function by(){return Yn().memoizedState}function Sy(){return Yn().memoizedState}function L8(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var g=aa();a=_A(g);var v=TA(l,a,g);v!==null&&(js(v,l,g),$u(v,l,g)),l={cache:tp()},a.payload=l;return}l=l.return}}function Q8(a,l,g){var v=aa();g={lane:v,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},_d(a)?Ny(l,g):(g=Gg(a,l,g,v),g!==null&&(js(g,a,v),Fy(g,l,v)))}function Iy(a,l,g){var v=aa();i0(a,l,g,v)}function i0(a,l,g,v){var S={lane:v,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(_d(a))Ny(l,S);else{var N=a.alternate;if(a.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var V=l.lastRenderedState,se=N(V,g);if(S.hasEagerState=!0,S.eagerState=se,y(se,V))return sd(a,l,S,0),dn===null&&id(),!1}catch{}finally{}if(g=Gg(a,l,S,v),g!==null)return js(g,a,v),Fy(g,l,v),!0}return!1}function bp(a,l,g,v){if(v={lane:2,revertLane:sm(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},_d(a)){if(l)throw Error(n(479))}else l=Gg(a,g,v,2),l!==null&&js(l,a,2)}function _d(a){var l=a.alternate;return a===hr||l!==null&&l===hr}function Ny(a,l){Oc=xd=!0;var g=a.pending;g===null?l.next=l:(l.next=g.next,g.next=l),a.pending=l}function Fy(a,l,g){if((g&4194048)!==0){var v=l.lanes;v&=a.pendingLanes,g|=v,l.lanes=g,ni(a,g)}}var s0={readContext:Oi,use:yd,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn};s0.useEffectEvent=Hn;var Ry={readContext:Oi,use:yd,useCallback:function(a,l){return xs().memoizedState=[a,l===void 0?null:l],a},useContext:Oi,useEffect:gy,useImperativeHandle:function(a,l,g){g=g!=null?g.concat([a]):null,Ed(4194308,4,wy.bind(null,l,a),g)},useLayoutEffect:function(a,l){return Ed(4194308,4,a,l)},useInsertionEffect:function(a,l){Ed(4,2,a,l)},useMemo:function(a,l){var g=xs();l=l===void 0?null:l;var v=a();if(Ll){st(!0);try{a()}finally{st(!1)}}return g.memoizedState=[v,l],v},useReducer:function(a,l,g){var v=xs();if(g!==void 0){var S=g(l);if(Ll){st(!0);try{g(l)}finally{st(!1)}}}else S=l;return v.memoizedState=v.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},v.queue=a,a=a.dispatch=Q8.bind(null,hr,a),[v.memoizedState,a]},useRef:function(a){var l=xs();return a={current:a},l.memoizedState=a},useState:function(a){a=vp(a);var l=a.queue,g=Iy.bind(null,hr,l);return l.dispatch=g,[a.memoizedState,g]},useDebugValue:Ep,useDeferredValue:function(a,l){var g=xs();return Bp(g,a,l)},useTransition:function(){var a=vp(!1);return a=By.bind(null,hr,a.queue,!0,!1),xs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,g){var v=hr,S=xs();if(Ir){if(g===void 0)throw Error(n(407));g=g()}else{if(g=l(),dn===null)throw Error(n(349));(Br&127)!==0||$v(v,l,g)}S.memoizedState=g;var N={value:g,getSnapshot:l};return S.queue=N,gy(ty.bind(null,v,N,a),[a]),v.flags|=2048,Qc(9,{destroy:void 0},ey.bind(null,v,N,g,l),null),g},useId:function(){var a=xs(),l=dn.identifierPrefix;if(Ir){var g=fo,v=uo;g=(v&~(1<<32-At(v)-1)).toString(32)+g,l="_"+l+"R_"+g,g=wd++,0<g&&(l+="H"+g.toString(32)),l+="_"}else g=R8++,l="_"+l+"r_"+g.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:Tp,useFormState:cy,useActionState:cy,useOptimistic:function(a){var l=xs();l.memoizedState=l.baseState=a;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=g,l=bp.bind(null,hr,!0,g),g.dispatch=l,[a,l]},useMemoCache:mp,useCacheRefresh:function(){return xs().memoizedState=L8.bind(null,hr)},useEffectEvent:function(a){var l=xs(),g={impl:a};return l.memoizedState=g,function(){if((Kr&2)!==0)throw Error(n(440));return g.impl.apply(void 0,arguments)}}},Sp={readContext:Oi,use:yd,useCallback:yy,useContext:Oi,useEffect:Cp,useImperativeHandle:vy,useInsertionEffect:my,useLayoutEffect:xy,useMemo:Cy,useReducer:Cd,useRef:hy,useState:function(){return Cd(Vo)},useDebugValue:Ep,useDeferredValue:function(a,l){var g=Yn();return Ey(g,an.memoizedState,a,l)},useTransition:function(){var a=Cd(Vo)[0],l=Yn().memoizedState;return[typeof a=="boolean"?a:n0(a),l]},useSyncExternalStore:Zv,useId:by,useHostTransitionStatus:Tp,useFormState:uy,useActionState:uy,useOptimistic:function(a,l){var g=Yn();return iy(g,an,a,l)},useMemoCache:mp,useCacheRefresh:Sy};Sp.useEffectEvent=py;var Dy={readContext:Oi,use:yd,useCallback:yy,useContext:Oi,useEffect:Cp,useImperativeHandle:vy,useInsertionEffect:my,useLayoutEffect:xy,useMemo:Cy,useReducer:wp,useRef:hy,useState:function(){return wp(Vo)},useDebugValue:Ep,useDeferredValue:function(a,l){var g=Yn();return an===null?Bp(g,a,l):Ey(g,an.memoizedState,a,l)},useTransition:function(){var a=wp(Vo)[0],l=Yn().memoizedState;return[typeof a=="boolean"?a:n0(a),l]},useSyncExternalStore:Zv,useId:by,useHostTransitionStatus:Tp,useFormState:dy,useActionState:dy,useOptimistic:function(a,l){var g=Yn();return an!==null?iy(g,an,a,l):(g.baseState=a,[a,g.queue.dispatch])},useMemoCache:mp,useCacheRefresh:Sy};Dy.useEffectEvent=py;function Ip(a,l,g,v){l=a.memoizedState,g=g(v,l),g=g==null?l:C({},l,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var Np={enqueueSetState:function(a,l,g){a=a._reactInternals;var v=aa(),S=_A(v);S.payload=l,g!=null&&(S.callback=g),l=TA(a,S,v),l!==null&&(js(l,a,v),$u(l,a,v))},enqueueReplaceState:function(a,l,g){a=a._reactInternals;var v=aa(),S=_A(v);S.tag=1,S.payload=l,g!=null&&(S.callback=g),l=TA(a,S,v),l!==null&&(js(l,a,v),$u(l,a,v))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var g=aa(),v=_A(g);v.tag=2,l!=null&&(v.callback=l),l=TA(a,v,g),l!==null&&(js(l,a,g),$u(l,a,g))}};function Uy(a,l,g,v,S,N,V){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,N,V):l.prototype&&l.prototype.isPureReactComponent?!_(g,v)||!_(S,N):!0}function ky(a,l,g,v){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,v),l.state!==a&&Np.enqueueReplaceState(l,l.state,null)}function Ql(a,l){var g=l;if("ref"in l){g={};for(var v in l)v!=="ref"&&(g[v]=l[v])}if(a=a.defaultProps){g===l&&(g=C({},g));for(var S in a)g[S]===void 0&&(g[S]=a[S])}return g}function My(a){nd(a)}function Oy(a){console.error(a)}function Ly(a){nd(a)}function Td(a,l){try{var g=a.onUncaughtError;g(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function Qy(a,l,g){try{var v=a.onCaughtError;v(g.value,{componentStack:g.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Fp(a,l,g){return g=_A(g),g.tag=3,g.payload={element:null},g.callback=function(){Td(a,l)},g}function Py(a){return a=_A(a),a.tag=3,a}function Hy(a,l,g,v){var S=g.type.getDerivedStateFromError;if(typeof S=="function"){var N=v.value;a.payload=function(){return S(N)},a.callback=function(){Qy(l,g,v)}}var V=g.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(a.callback=function(){Qy(l,g,v),typeof S!="function"&&(RA===null?RA=new Set([this]):RA.add(this));var se=v.stack;this.componentDidCatch(v.value,{componentStack:se!==null?se:""})})}function P8(a,l,g,v,S){if(g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=g.alternate,l!==null&&Fc(l,g,S,!0),g=ra.current,g!==null){switch(g.tag){case 31:case 13:return _a===null?Ld():g.alternate===null&&Vn===0&&(Vn=3),g.flags&=-257,g.flags|=65536,g.lanes=S,v===dd?g.flags|=16384:(l=g.updateQueue,l===null?g.updateQueue=new Set([v]):l.add(v),rm(a,v,S)),!1;case 22:return g.flags|=65536,v===dd?g.flags|=16384:(l=g.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},g.updateQueue=l):(g=l.retryQueue,g===null?l.retryQueue=new Set([v]):g.add(v)),rm(a,v,S)),!1}throw Error(n(435,g.tag))}return rm(a,v,S),Ld(),!1}if(Ir)return l=ra.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,v!==Yg&&(a=Error(n(422),{cause:v}),Xu(ya(a,g)))):(v!==Yg&&(l=Error(n(423),{cause:v}),Xu(ya(l,g))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,v=ya(v,g),S=Fp(a.stateNode,v,S),op(a,S),Vn!==4&&(Vn=2)),!1;var N=Error(n(520),{cause:v});if(N=ya(N,g),d0===null?d0=[N]:d0.push(N),Vn!==4&&(Vn=2),l===null)return!0;v=ya(v,g),g=l;do{switch(g.tag){case 3:return g.flags|=65536,a=S&-S,g.lanes|=a,a=Fp(g.stateNode,v,a),op(g,a),!1;case 1:if(l=g.type,N=g.stateNode,(g.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(RA===null||!RA.has(N))))return g.flags|=65536,S&=-S,g.lanes|=S,S=Py(S),Hy(S,a,g,v),op(g,S),!1}g=g.return}while(g!==null);return!1}var Rp=Error(n(461)),ai=!1;function Li(a,l,g,v){l.child=a===null?Kv(l,null,g,v):Ol(l,a.child,g,v)}function Vy(a,l,g,v,S){g=g.render;var N=l.ref;if("ref"in v){var V={};for(var se in v)se!=="ref"&&(V[se]=v[se])}else V=v;return Dl(l),v=dp(a,l,g,V,N,S),se=hp(),a!==null&&!ai?(gp(a,l,S),jo(a,l,S)):(Ir&&se&&Xg(l),l.flags|=1,Li(a,l,v,S),l.child)}function jy(a,l,g,v,S){if(a===null){var N=g.type;return typeof N=="function"&&!Kg(N)&&N.defaultProps===void 0&&g.compare===null?(l.tag=15,l.type=N,Gy(a,l,N,v,S)):(a=od(g.type,null,v,l,l.mode,S),a.ref=l.ref,a.return=l,l.child=a)}if(N=a.child,!Pp(a,S)){var V=N.memoizedProps;if(g=g.compare,g=g!==null?g:_,g(V,v)&&a.ref===l.ref)return jo(a,l,S)}return l.flags|=1,a=Oo(N,v),a.ref=l.ref,a.return=l,l.child=a}function Gy(a,l,g,v,S){if(a!==null){var N=a.memoizedProps;if(_(N,v)&&a.ref===l.ref)if(ai=!1,l.pendingProps=v=N,Pp(a,S))(a.flags&131072)!==0&&(ai=!0);else return l.lanes=a.lanes,jo(a,l,S)}return Dp(a,l,g,v,S)}function Ky(a,l,g,v){var S=v.children,N=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((l.flags&128)!==0){if(N=N!==null?N.baseLanes|g:g,a!==null){for(v=l.child=a.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~N}else v=0,l.child=null;return zy(a,l,N,g,v)}if((g&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&ud(l,N!==null?N.cachePool:null),N!==null?Xv(l,N):lp(),qv(l);else return v=l.lanes=536870912,zy(a,l,N!==null?N.baseLanes|g:g,g,v)}else N!==null?(ud(l,N.cachePool),Xv(l,N),SA(),l.memoizedState=null):(a!==null&&ud(l,null),lp(),SA());return Li(a,l,S,g),l.child}function a0(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function zy(a,l,g,v,S){var N=np();return N=N===null?null:{parent:ii._currentValue,pool:N},l.memoizedState={baseLanes:g,cachePool:N},a!==null&&ud(l,null),lp(),qv(l),a!==null&&Fc(a,l,v,!0),l.childLanes=S,null}function bd(a,l){return l=Id({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function Wy(a,l,g){return Ol(l,a.child,null,g),a=bd(l,l.pendingProps),a.flags|=2,na(l),l.memoizedState=null,a}function H8(a,l,g){var v=l.pendingProps,S=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Ir){if(v.mode==="hidden")return a=bd(l,v),l.lanes=536870912,a0(null,a);if(up(l),(a=yn)?(a=sE(a,Ba),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:vA!==null?{id:uo,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},g=Nv(a),g.return=l,l.child=g,Mi=l,yn=null)):a=null,a===null)throw CA(l);return l.lanes=536870912,null}return bd(l,v)}var N=a.memoizedState;if(N!==null){var V=N.dehydrated;if(up(l),S)if(l.flags&256)l.flags&=-257,l=Wy(a,l,g);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(n(558));else if(ai||Fc(a,l,g,!1),S=(g&a.childLanes)!==0,ai||S){if(v=dn,v!==null&&(V=Ss(v,g),V!==0&&V!==N.retryLane))throw N.retryLane=V,Il(a,V),js(v,a,V),Rp;Ld(),l=Wy(a,l,g)}else a=N.treeContext,yn=Ta(V.nextSibling),Mi=l,Ir=!0,yA=null,Ba=!1,a!==null&&Dv(l,a),l=bd(l,v),l.flags|=4096;return l}return a=Oo(a.child,{mode:v.mode,children:v.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Sd(a,l){var g=l.ref;if(g===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(a===null||a.ref!==g)&&(l.flags|=4194816)}}function Dp(a,l,g,v,S){return Dl(l),g=dp(a,l,g,v,void 0,S),v=hp(),a!==null&&!ai?(gp(a,l,S),jo(a,l,S)):(Ir&&v&&Xg(l),l.flags|=1,Li(a,l,g,S),l.child)}function Xy(a,l,g,v,S,N){return Dl(l),l.updateQueue=null,g=Jv(l,v,g,S),Yv(a),v=hp(),a!==null&&!ai?(gp(a,l,N),jo(a,l,N)):(Ir&&v&&Xg(l),l.flags|=1,Li(a,l,g,N),l.child)}function qy(a,l,g,v,S){if(Dl(l),l.stateNode===null){var N=bc,V=g.contextType;typeof V=="object"&&V!==null&&(N=Oi(V)),N=new g(v,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Np,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=v,N.state=l.memoizedState,N.refs={},sp(l),V=g.contextType,N.context=typeof V=="object"&&V!==null?Oi(V):bc,N.state=l.memoizedState,V=g.getDerivedStateFromProps,typeof V=="function"&&(Ip(l,g,V,v),N.state=l.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&Np.enqueueReplaceState(N,N.state,null),t0(l,v,N,S),e0(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(a===null){N=l.stateNode;var se=l.memoizedProps,Te=Ql(g,se);N.props=Te;var ze=N.context,ot=g.contextType;V=bc,typeof ot=="object"&&ot!==null&&(V=Oi(ot));var ct=g.getDerivedStateFromProps;ot=typeof ct=="function"||typeof N.getSnapshotBeforeUpdate=="function",se=l.pendingProps!==se,ot||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(se||ze!==V)&&ky(l,N,v,V),BA=!1;var qe=l.memoizedState;N.state=qe,t0(l,v,N,S),e0(),ze=l.memoizedState,se||qe!==ze||BA?(typeof ct=="function"&&(Ip(l,g,ct,v),ze=l.memoizedState),(Te=BA||Uy(l,g,Te,v,qe,ze,V))?(ot||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=ze),N.props=v,N.state=ze,N.context=V,v=Te):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{N=l.stateNode,ap(a,l),V=l.memoizedProps,ot=Ql(g,V),N.props=ot,ct=l.pendingProps,qe=N.context,ze=g.contextType,Te=bc,typeof ze=="object"&&ze!==null&&(Te=Oi(ze)),se=g.getDerivedStateFromProps,(ze=typeof se=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==ct||qe!==Te)&&ky(l,N,v,Te),BA=!1,qe=l.memoizedState,N.state=qe,t0(l,v,N,S),e0();var rt=l.memoizedState;V!==ct||qe!==rt||BA||a!==null&&a.dependencies!==null&&ld(a.dependencies)?(typeof se=="function"&&(Ip(l,g,se,v),rt=l.memoizedState),(ot=BA||Uy(l,g,ot,v,qe,rt,Te)||a!==null&&a.dependencies!==null&&ld(a.dependencies))?(ze||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(v,rt,Te),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(v,rt,Te)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=rt),N.props=v,N.state=rt,N.context=Te,v=ot):(typeof N.componentDidUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(l.flags|=1024),v=!1)}return N=v,Sd(a,l),v=(l.flags&128)!==0,N||v?(N=l.stateNode,g=v&&typeof g.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,a!==null&&v?(l.child=Ol(l,a.child,null,S),l.child=Ol(l,null,g,S)):Li(a,l,g,S),l.memoizedState=N.state,a=l.child):a=jo(a,l,S),a}function Yy(a,l,g,v){return Fl(),l.flags|=256,Li(a,l,g,v),l.child}var Up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kp(a){return{baseLanes:a,cachePool:Qv()}}function Mp(a,l,g){return a=a!==null?a.childLanes&~g:0,l&&(a|=sa),a}function Jy(a,l,g){var v=l.pendingProps,S=!1,N=(l.flags&128)!==0,V;if((V=N)||(V=a!==null&&a.memoizedState===null?!1:(qn.current&2)!==0),V&&(S=!0,l.flags&=-129),V=(l.flags&32)!==0,l.flags&=-33,a===null){if(Ir){if(S?bA(l):SA(),(a=yn)?(a=sE(a,Ba),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:vA!==null?{id:uo,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},g=Nv(a),g.return=l,l.child=g,Mi=l,yn=null)):a=null,a===null)throw CA(l);return xm(a)?l.lanes=32:l.lanes=536870912,null}var se=v.children;return v=v.fallback,S?(SA(),S=l.mode,se=Id({mode:"hidden",children:se},S),v=Nl(v,S,g,null),se.return=l,v.return=l,se.sibling=v,l.child=se,v=l.child,v.memoizedState=kp(g),v.childLanes=Mp(a,V,g),l.memoizedState=Up,a0(null,v)):(bA(l),Op(l,se))}var Te=a.memoizedState;if(Te!==null&&(se=Te.dehydrated,se!==null)){if(N)l.flags&256?(bA(l),l.flags&=-257,l=Lp(a,l,g)):l.memoizedState!==null?(SA(),l.child=a.child,l.flags|=128,l=null):(SA(),se=v.fallback,S=l.mode,v=Id({mode:"visible",children:v.children},S),se=Nl(se,S,g,null),se.flags|=2,v.return=l,se.return=l,v.sibling=se,l.child=v,Ol(l,a.child,null,g),v=l.child,v.memoizedState=kp(g),v.childLanes=Mp(a,V,g),l.memoizedState=Up,l=a0(null,v));else if(bA(l),xm(se)){if(V=se.nextSibling&&se.nextSibling.dataset,V)var ze=V.dgst;V=ze,v=Error(n(419)),v.stack="",v.digest=V,Xu({value:v,source:null,stack:null}),l=Lp(a,l,g)}else if(ai||Fc(a,l,g,!1),V=(g&a.childLanes)!==0,ai||V){if(V=dn,V!==null&&(v=Ss(V,g),v!==0&&v!==Te.retryLane))throw Te.retryLane=v,Il(a,v),js(V,a,v),Rp;mm(se)||Ld(),l=Lp(a,l,g)}else mm(se)?(l.flags|=192,l.child=a.child,l=null):(a=Te.treeContext,yn=Ta(se.nextSibling),Mi=l,Ir=!0,yA=null,Ba=!1,a!==null&&Dv(l,a),l=Op(l,v.children),l.flags|=4096);return l}return S?(SA(),se=v.fallback,S=l.mode,Te=a.child,ze=Te.sibling,v=Oo(Te,{mode:"hidden",children:v.children}),v.subtreeFlags=Te.subtreeFlags&65011712,ze!==null?se=Oo(ze,se):(se=Nl(se,S,g,null),se.flags|=2),se.return=l,v.return=l,v.sibling=se,l.child=v,a0(null,v),v=l.child,se=a.child.memoizedState,se===null?se=kp(g):(S=se.cachePool,S!==null?(Te=ii._currentValue,S=S.parent!==Te?{parent:Te,pool:Te}:S):S=Qv(),se={baseLanes:se.baseLanes|g,cachePool:S}),v.memoizedState=se,v.childLanes=Mp(a,V,g),l.memoizedState=Up,a0(a.child,v)):(bA(l),g=a.child,a=g.sibling,g=Oo(g,{mode:"visible",children:v.children}),g.return=l,g.sibling=null,a!==null&&(V=l.deletions,V===null?(l.deletions=[a],l.flags|=16):V.push(a)),l.child=g,l.memoizedState=null,g)}function Op(a,l){return l=Id({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Id(a,l){return a=ta(22,a,null,l),a.lanes=0,a}function Lp(a,l,g){return Ol(l,a.child,null,g),a=Op(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Zy(a,l,g){a.lanes|=l;var v=a.alternate;v!==null&&(v.lanes|=l),$g(a.return,l,g)}function Qp(a,l,g,v,S,N){var V=a.memoizedState;V===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:S,treeForkCount:N}:(V.isBackwards=l,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=g,V.tailMode=S,V.treeForkCount=N)}function $y(a,l,g){var v=l.pendingProps,S=v.revealOrder,N=v.tail;v=v.children;var V=qn.current,se=(V&2)!==0;if(se?(V=V&1|2,l.flags|=128):V&=1,de(qn,V),Li(a,l,v,g),v=Ir?Wu:0,!se&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Zy(a,g,l);else if(a.tag===19)Zy(a,g,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(S){case"forwards":for(g=l.child,S=null;g!==null;)a=g.alternate,a!==null&&md(a)===null&&(S=g),g=g.sibling;g=S,g===null?(S=l.child,l.child=null):(S=g.sibling,g.sibling=null),Qp(l,!1,S,g,N,v);break;case"backwards":case"unstable_legacy-backwards":for(g=null,S=l.child,l.child=null;S!==null;){if(a=S.alternate,a!==null&&md(a)===null){l.child=S;break}a=S.sibling,S.sibling=g,g=S,S=a}Qp(l,!0,g,null,N,v);break;case"together":Qp(l,!1,null,null,void 0,v);break;default:l.memoizedState=null}return l.child}function jo(a,l,g){if(a!==null&&(l.dependencies=a.dependencies),FA|=l.lanes,(g&l.childLanes)===0)if(a!==null){if(Fc(a,l,g,!1),(g&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,g=Oo(a,a.pendingProps),l.child=g,g.return=l;a.sibling!==null;)a=a.sibling,g=g.sibling=Oo(a,a.pendingProps),g.return=l;g.sibling=null}return l.child}function Pp(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&ld(a)))}function V8(a,l,g){switch(l.tag){case 3:Fe(l,l.stateNode.containerInfo),EA(l,ii,a.memoizedState.cache),Fl();break;case 27:case 5:Le(l);break;case 4:Fe(l,l.stateNode.containerInfo);break;case 10:EA(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,up(l),null;break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(bA(l),l.flags|=128,null):(g&l.child.childLanes)!==0?Jy(a,l,g):(bA(l),a=jo(a,l,g),a!==null?a.sibling:null);bA(l);break;case 19:var S=(a.flags&128)!==0;if(v=(g&l.childLanes)!==0,v||(Fc(a,l,g,!1),v=(g&l.childLanes)!==0),S){if(v)return $y(a,l,g);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),de(qn,qn.current),v)break;return null;case 22:return l.lanes=0,Ky(a,l,g,l.pendingProps);case 24:EA(l,ii,a.memoizedState.cache)}return jo(a,l,g)}function eC(a,l,g){if(a!==null)if(a.memoizedProps!==l.pendingProps)ai=!0;else{if(!Pp(a,g)&&(l.flags&128)===0)return ai=!1,V8(a,l,g);ai=(a.flags&131072)!==0}else ai=!1,Ir&&(l.flags&1048576)!==0&&Rv(l,Wu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var v=l.pendingProps;if(a=kl(l.elementType),l.type=a,typeof a=="function")Kg(a)?(v=Ql(a,v),l.tag=1,l=qy(null,l,a,v,g)):(l.tag=0,l=Dp(null,l,a,v,g));else{if(a!=null){var S=a.$$typeof;if(S===ee){l.tag=11,l=Vy(null,l,a,v,g);break e}else if(S===M){l.tag=14,l=jy(null,l,a,v,g);break e}}throw l=Me(a)||a,Error(n(306,l,""))}}return l;case 0:return Dp(a,l,l.type,l.pendingProps,g);case 1:return v=l.type,S=Ql(v,l.pendingProps),qy(a,l,v,S,g);case 3:e:{if(Fe(l,l.stateNode.containerInfo),a===null)throw Error(n(387));v=l.pendingProps;var N=l.memoizedState;S=N.element,ap(a,l),t0(l,v,null,g);var V=l.memoizedState;if(v=V.cache,EA(l,ii,v),v!==N.cache&&ep(l,[ii],g,!0),e0(),v=V.element,N.isDehydrated)if(N={element:v,isDehydrated:!1,cache:V.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=Yy(a,l,v,g);break e}else if(v!==S){S=ya(Error(n(424)),l),Xu(S),l=Yy(a,l,v,g);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(yn=Ta(a.firstChild),Mi=l,Ir=!0,yA=null,Ba=!0,g=Kv(l,null,v,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Fl(),v===S){l=jo(a,l,g);break e}Li(a,l,v,g)}l=l.child}return l;case 26:return Sd(a,l),a===null?(g=uE(l.type,null,l.pendingProps,null))?l.memoizedState=g:Ir||(g=l.type,a=l.pendingProps,v=Kd(xe.current).createElement(g),v[ue]=l,v[he]=a,Qi(v,g,a),Dt(v),l.stateNode=v):l.memoizedState=uE(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Le(l),a===null&&Ir&&(v=l.stateNode=AE(l.type,l.pendingProps,xe.current),Mi=l,Ba=!0,S=yn,MA(l.type)?(wm=S,yn=Ta(v.firstChild)):yn=S),Li(a,l,l.pendingProps.children,g),Sd(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Ir&&((S=v=yn)&&(v=xR(v,l.type,l.pendingProps,Ba),v!==null?(l.stateNode=v,Mi=l,yn=Ta(v.firstChild),Ba=!1,S=!0):S=!1),S||CA(l)),Le(l),S=l.type,N=l.pendingProps,V=a!==null?a.memoizedProps:null,v=N.children,hm(S,N)?v=null:V!==null&&hm(S,V)&&(l.flags|=32),l.memoizedState!==null&&(S=dp(a,l,D8,null,null,g),y0._currentValue=S),Sd(a,l),Li(a,l,v,g),l.child;case 6:return a===null&&Ir&&((a=g=yn)&&(g=wR(g,l.pendingProps,Ba),g!==null?(l.stateNode=g,Mi=l,yn=null,a=!0):a=!1),a||CA(l)),null;case 13:return Jy(a,l,g);case 4:return Fe(l,l.stateNode.containerInfo),v=l.pendingProps,a===null?l.child=Ol(l,null,v,g):Li(a,l,v,g),l.child;case 11:return Vy(a,l,l.type,l.pendingProps,g);case 7:return Li(a,l,l.pendingProps,g),l.child;case 8:return Li(a,l,l.pendingProps.children,g),l.child;case 12:return Li(a,l,l.pendingProps.children,g),l.child;case 10:return v=l.pendingProps,EA(l,l.type,v.value),Li(a,l,v.children,g),l.child;case 9:return S=l.type._context,v=l.pendingProps.children,Dl(l),S=Oi(S),v=v(S),l.flags|=1,Li(a,l,v,g),l.child;case 14:return jy(a,l,l.type,l.pendingProps,g);case 15:return Gy(a,l,l.type,l.pendingProps,g);case 19:return $y(a,l,g);case 31:return H8(a,l,g);case 22:return Ky(a,l,g,l.pendingProps);case 24:return Dl(l),v=Oi(ii),a===null?(S=np(),S===null&&(S=dn,N=tp(),S.pooledCache=N,N.refCount++,N!==null&&(S.pooledCacheLanes|=g),S=N),l.memoizedState={parent:v,cache:S},sp(l),EA(l,ii,S)):((a.lanes&g)!==0&&(ap(a,l),t0(l,null,null,g),e0()),S=a.memoizedState,N=l.memoizedState,S.parent!==v?(S={parent:v,cache:v},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),EA(l,ii,v)):(v=N.cache,EA(l,ii,v),v!==S.cache&&ep(l,[ii],g,!0))),Li(a,l,l.pendingProps.children,g),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Go(a){a.flags|=4}function Hp(a,l,g,v,S){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(S&335544128)===S)if(a.stateNode.complete)a.flags|=8192;else if(bC())a.flags|=8192;else throw Ml=dd,ip}else a.flags&=-16777217}function tC(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!pE(l))if(bC())a.flags|=8192;else throw Ml=dd,ip}function Nd(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?_n():536870912,a.lanes|=l,jc|=l)}function o0(a,l){if(!Ir)switch(a.tailMode){case"hidden":l=a.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Cn(a){var l=a.alternate!==null&&a.alternate.child===a.child,g=0,v=0;if(l)for(var S=a.child;S!==null;)g|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)g|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=v,a.childLanes=g,l}function j8(a,l,g){var v=l.pendingProps;switch(qg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(l),null;case 1:return Cn(l),null;case 3:return g=l.stateNode,v=null,a!==null&&(v=a.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),Po(ii),_e(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Nc(l)?Go(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Jg())),Cn(l),null;case 26:var S=l.type,N=l.memoizedState;return a===null?(Go(l),N!==null?(Cn(l),tC(l,N)):(Cn(l),Hp(l,S,null,v,g))):N?N!==a.memoizedState?(Go(l),Cn(l),tC(l,N)):(Cn(l),l.flags&=-16777217):(a=a.memoizedProps,a!==v&&Go(l),Cn(l),Hp(l,S,a,v,g)),null;case 27:if(xt(l),g=xe.current,S=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==v&&Go(l);else{if(!v){if(l.stateNode===null)throw Error(n(166));return Cn(l),null}a=fe.current,Nc(l)?Uv(l):(a=AE(S,v,g),l.stateNode=a,Go(l))}return Cn(l),null;case 5:if(xt(l),S=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==v&&Go(l);else{if(!v){if(l.stateNode===null)throw Error(n(166));return Cn(l),null}if(N=fe.current,Nc(l))Uv(l);else{var V=Kd(xe.current);switch(N){case 1:N=V.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:N=V.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":N=V.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":N=V.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":N=V.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof v.is=="string"?V.createElement("select",{is:v.is}):V.createElement("select"),v.multiple?N.multiple=!0:v.size&&(N.size=v.size);break;default:N=typeof v.is=="string"?V.createElement(S,{is:v.is}):V.createElement(S)}}N[ue]=l,N[he]=v;e:for(V=l.child;V!==null;){if(V.tag===5||V.tag===6)N.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===l)break e;for(;V.sibling===null;){if(V.return===null||V.return===l)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}l.stateNode=N;e:switch(Qi(N,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Go(l)}}return Cn(l),Hp(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,g),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==v&&Go(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(n(166));if(a=xe.current,Nc(l)){if(a=l.stateNode,g=l.memoizedProps,v=null,S=Mi,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}a[ue]=l,a=!!(a.nodeValue===g||v!==null&&v.suppressHydrationWarning===!0||JC(a.nodeValue,g)),a||CA(l,!0)}else a=Kd(a).createTextNode(v),a[ue]=l,l.stateNode=a}return Cn(l),null;case 31:if(g=l.memoizedState,a===null||a.memoizedState!==null){if(v=Nc(l),g!==null){if(a===null){if(!v)throw Error(n(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[ue]=l}else Fl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Cn(l),a=!1}else g=Jg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),a=!0;if(!a)return l.flags&256?(na(l),l):(na(l),null);if((l.flags&128)!==0)throw Error(n(558))}return Cn(l),null;case 13:if(v=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=Nc(l),v!==null&&v.dehydrated!==null){if(a===null){if(!S)throw Error(n(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[ue]=l}else Fl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Cn(l),S=!1}else S=Jg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(na(l),l):(na(l),null)}return na(l),(l.flags&128)!==0?(l.lanes=g,l):(g=v!==null,a=a!==null&&a.memoizedState!==null,g&&(v=l.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),N=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(N=v.memoizedState.cachePool.pool),N!==S&&(v.flags|=2048)),g!==a&&g&&(l.child.flags|=8192),Nd(l,l.updateQueue),Cn(l),null);case 4:return _e(),a===null&&lm(l.stateNode.containerInfo),Cn(l),null;case 10:return Po(l.type),Cn(l),null;case 19:if(Z(qn),v=l.memoizedState,v===null)return Cn(l),null;if(S=(l.flags&128)!==0,N=v.rendering,N===null)if(S)o0(v,!1);else{if(Vn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(N=md(a),N!==null){for(l.flags|=128,o0(v,!1),a=N.updateQueue,l.updateQueue=a,Nd(l,a),l.subtreeFlags=0,a=g,g=l.child;g!==null;)Iv(g,a),g=g.sibling;return de(qn,qn.current&1|2),Ir&&Lo(l,v.treeForkCount),l.child}a=a.sibling}v.tail!==null&&Ge()>kd&&(l.flags|=128,S=!0,o0(v,!1),l.lanes=4194304)}else{if(!S)if(a=md(N),a!==null){if(l.flags|=128,S=!0,a=a.updateQueue,l.updateQueue=a,Nd(l,a),o0(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Ir)return Cn(l),null}else 2*Ge()-v.renderingStartTime>kd&&g!==536870912&&(l.flags|=128,S=!0,o0(v,!1),l.lanes=4194304);v.isBackwards?(N.sibling=l.child,l.child=N):(a=v.last,a!==null?a.sibling=N:l.child=N,v.last=N)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Ge(),a.sibling=null,g=qn.current,de(qn,S?g&1|2:g&1),Ir&&Lo(l,v.treeForkCount),a):(Cn(l),null);case 22:case 23:return na(l),cp(),v=l.memoizedState!==null,a!==null?a.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(g&536870912)!==0&&(l.flags&128)===0&&(Cn(l),l.subtreeFlags&6&&(l.flags|=8192)):Cn(l),g=l.updateQueue,g!==null&&Nd(l,g.retryQueue),g=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==g&&(l.flags|=2048),a!==null&&Z(Ul),null;case 24:return g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Po(ii),Cn(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function G8(a,l){switch(qg(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Po(ii),_e(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return xt(l),null;case 31:if(l.memoizedState!==null){if(na(l),l.alternate===null)throw Error(n(340));Fl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(na(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Fl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Z(qn),null;case 4:return _e(),null;case 10:return Po(l.type),null;case 22:case 23:return na(l),cp(),a!==null&&Z(Ul),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Po(ii),null;case 25:return null;default:return null}}function rC(a,l){switch(qg(l),l.tag){case 3:Po(ii),_e();break;case 26:case 27:case 5:xt(l);break;case 4:_e();break;case 31:l.memoizedState!==null&&na(l);break;case 13:na(l);break;case 19:Z(qn);break;case 10:Po(l.type);break;case 22:case 23:na(l),cp(),a!==null&&Z(Ul);break;case 24:Po(ii)}}function A0(a,l){try{var g=l.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var S=v.next;g=S;do{if((g.tag&a)===a){v=void 0;var N=g.create,V=g.inst;v=N(),V.destroy=v}g=g.next}while(g!==S)}}catch(se){en(l,l.return,se)}}function IA(a,l,g){try{var v=l.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var N=S.next;v=N;do{if((v.tag&a)===a){var V=v.inst,se=V.destroy;if(se!==void 0){V.destroy=void 0,S=l;var Te=g,ze=se;try{ze()}catch(ot){en(S,Te,ot)}}}v=v.next}while(v!==N)}}catch(ot){en(l,l.return,ot)}}function nC(a){var l=a.updateQueue;if(l!==null){var g=a.stateNode;try{Wv(l,g)}catch(v){en(a,a.return,v)}}}function iC(a,l,g){g.props=Ql(a.type,a.memoizedProps),g.state=a.memoizedState;try{g.componentWillUnmount()}catch(v){en(a,l,v)}}function l0(a,l){try{var g=a.ref;if(g!==null){switch(a.tag){case 26:case 27:case 5:var v=a.stateNode;break;case 30:v=a.stateNode;break;default:v=a.stateNode}typeof g=="function"?a.refCleanup=g(v):g.current=v}}catch(S){en(a,l,S)}}function ho(a,l){var g=a.ref,v=a.refCleanup;if(g!==null)if(typeof v=="function")try{v()}catch(S){en(a,l,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(S){en(a,l,S)}else g.current=null}function sC(a){var l=a.type,g=a.memoizedProps,v=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":g.autoFocus&&v.focus();break e;case"img":g.src?v.src=g.src:g.srcSet&&(v.srcset=g.srcSet)}}catch(S){en(a,a.return,S)}}function Vp(a,l,g){try{var v=a.stateNode;fR(v,a.type,g,l),v[he]=l}catch(S){en(a,a.return,S)}}function aC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&MA(a.type)||a.tag===4}function jp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||aC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&MA(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Gp(a,l,g){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(a,l):(l=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,l.appendChild(a),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=Fn));else if(v!==4&&(v===27&&MA(a.type)&&(g=a.stateNode,l=null),a=a.child,a!==null))for(Gp(a,l,g),a=a.sibling;a!==null;)Gp(a,l,g),a=a.sibling}function Fd(a,l,g){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?g.insertBefore(a,l):g.appendChild(a);else if(v!==4&&(v===27&&MA(a.type)&&(g=a.stateNode),a=a.child,a!==null))for(Fd(a,l,g),a=a.sibling;a!==null;)Fd(a,l,g),a=a.sibling}function oC(a){var l=a.stateNode,g=a.memoizedProps;try{for(var v=a.type,S=l.attributes;S.length;)l.removeAttributeNode(S[0]);Qi(l,v,g),l[ue]=a,l[he]=g}catch(N){en(a,a.return,N)}}var Ko=!1,oi=!1,Kp=!1,AC=typeof WeakSet=="function"?WeakSet:Set,Ti=null;function K8(a,l){if(a=a.containerInfo,fm=Zd,a=Y(a),ie(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var S=v.anchorOffset,N=v.focusNode;v=v.focusOffset;try{g.nodeType,N.nodeType}catch{g=null;break e}var V=0,se=-1,Te=-1,ze=0,ot=0,ct=a,qe=null;t:for(;;){for(var rt;ct!==g||S!==0&&ct.nodeType!==3||(se=V+S),ct!==N||v!==0&&ct.nodeType!==3||(Te=V+v),ct.nodeType===3&&(V+=ct.nodeValue.length),(rt=ct.firstChild)!==null;)qe=ct,ct=rt;for(;;){if(ct===a)break t;if(qe===g&&++ze===S&&(se=V),qe===N&&++ot===v&&(Te=V),(rt=ct.nextSibling)!==null)break;ct=qe,qe=ct.parentNode}ct=rt}g=se===-1||Te===-1?null:{start:se,end:Te}}else g=null}g=g||{start:0,end:0}}else g=null;for(dm={focusedElem:a,selectionRange:g},Zd=!1,Ti=l;Ti!==null;)if(l=Ti,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Ti=a;else for(;Ti!==null;){switch(l=Ti,N=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(g=0;g<a.length;g++)S=a[g],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&N!==null){a=void 0,g=l,S=N.memoizedProps,N=N.memoizedState,v=g.stateNode;try{var Qt=Ql(g.type,S);a=v.getSnapshotBeforeUpdate(Qt,N),v.__reactInternalSnapshotBeforeUpdate=a}catch(Yt){en(g,g.return,Yt)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,g=a.nodeType,g===9)pm(a);else if(g===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":pm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,Ti=a;break}Ti=l.return}}function lC(a,l,g){var v=g.flags;switch(g.tag){case 0:case 11:case 15:Wo(a,g),v&4&&A0(5,g);break;case 1:if(Wo(a,g),v&4)if(a=g.stateNode,l===null)try{a.componentDidMount()}catch(V){en(g,g.return,V)}else{var S=Ql(g.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(S,l,a.__reactInternalSnapshotBeforeUpdate)}catch(V){en(g,g.return,V)}}v&64&&nC(g),v&512&&l0(g,g.return);break;case 3:if(Wo(a,g),v&64&&(a=g.updateQueue,a!==null)){if(l=null,g.child!==null)switch(g.child.tag){case 27:case 5:l=g.child.stateNode;break;case 1:l=g.child.stateNode}try{Wv(a,l)}catch(V){en(g,g.return,V)}}break;case 27:l===null&&v&4&&oC(g);case 26:case 5:Wo(a,g),l===null&&v&4&&sC(g),v&512&&l0(g,g.return);break;case 12:Wo(a,g);break;case 31:Wo(a,g),v&4&&fC(a,g);break;case 13:Wo(a,g),v&4&&dC(a,g),v&64&&(a=g.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(g=eR.bind(null,g),vR(a,g))));break;case 22:if(v=g.memoizedState!==null||Ko,!v){l=l!==null&&l.memoizedState!==null||oi,S=Ko;var N=oi;Ko=v,(oi=l)&&!N?Xo(a,g,(g.subtreeFlags&8772)!==0):Wo(a,g),Ko=S,oi=N}break;case 30:break;default:Wo(a,g)}}function cC(a){var l=a.alternate;l!==null&&(a.alternate=null,cC(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&ut(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var bn=null,Qs=!1;function zo(a,l,g){for(g=g.child;g!==null;)uC(a,l,g),g=g.sibling}function uC(a,l,g){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(Je,g)}catch{}switch(g.tag){case 26:oi||ho(g,l),zo(a,l,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:oi||ho(g,l);var v=bn,S=Qs;MA(g.type)&&(bn=g.stateNode,Qs=!1),zo(a,l,g),x0(g.stateNode),bn=v,Qs=S;break;case 5:oi||ho(g,l);case 6:if(v=bn,S=Qs,bn=null,zo(a,l,g),bn=v,Qs=S,bn!==null)if(Qs)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(g.stateNode)}catch(N){en(g,l,N)}else try{bn.removeChild(g.stateNode)}catch(N){en(g,l,N)}break;case 18:bn!==null&&(Qs?(a=bn,nE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,g.stateNode),Jc(a)):nE(bn,g.stateNode));break;case 4:v=bn,S=Qs,bn=g.stateNode.containerInfo,Qs=!0,zo(a,l,g),bn=v,Qs=S;break;case 0:case 11:case 14:case 15:IA(2,g,l),oi||IA(4,g,l),zo(a,l,g);break;case 1:oi||(ho(g,l),v=g.stateNode,typeof v.componentWillUnmount=="function"&&iC(g,l,v)),zo(a,l,g);break;case 21:zo(a,l,g);break;case 22:oi=(v=oi)||g.memoizedState!==null,zo(a,l,g),oi=v;break;default:zo(a,l,g)}}function fC(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Jc(a)}catch(g){en(l,l.return,g)}}}function dC(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Jc(a)}catch(g){en(l,l.return,g)}}function z8(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new AC),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new AC),l;default:throw Error(n(435,a.tag))}}function Rd(a,l){var g=z8(a);l.forEach(function(v){if(!g.has(v)){g.add(v);var S=tR.bind(null,a,v);v.then(S,S)}})}function Ps(a,l){var g=l.deletions;if(g!==null)for(var v=0;v<g.length;v++){var S=g[v],N=a,V=l,se=V;e:for(;se!==null;){switch(se.tag){case 27:if(MA(se.type)){bn=se.stateNode,Qs=!1;break e}break;case 5:bn=se.stateNode,Qs=!1;break e;case 3:case 4:bn=se.stateNode.containerInfo,Qs=!0;break e}se=se.return}if(bn===null)throw Error(n(160));uC(N,V,S),bn=null,Qs=!1,N=S.alternate,N!==null&&(N.return=null),S.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)hC(l,a),l=l.sibling}var Ka=null;function hC(a,l){var g=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ps(l,a),Hs(a),v&4&&(IA(3,a,a.return),A0(3,a),IA(5,a,a.return));break;case 1:Ps(l,a),Hs(a),v&512&&(oi||g===null||ho(g,g.return)),v&64&&Ko&&(a=a.updateQueue,a!==null&&(v=a.callbacks,v!==null&&(g=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=g===null?v:g.concat(v))));break;case 26:var S=Ka;if(Ps(l,a),Hs(a),v&512&&(oi||g===null||ho(g,g.return)),v&4){var N=g!==null?g.memoizedState:null;if(v=a.memoizedState,g===null)if(v===null)if(a.stateNode===null){e:{v=a.type,g=a.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":N=S.getElementsByTagName("title")[0],(!N||N[Xe]||N[ue]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=S.createElement(v),S.head.insertBefore(N,S.querySelector("head > title"))),Qi(N,v,g),N[ue]=a,Dt(N),v=N;break e;case"link":var V=hE("link","href",S).get(v+(g.href||""));if(V){for(var se=0;se<V.length;se++)if(N=V[se],N.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&N.getAttribute("rel")===(g.rel==null?null:g.rel)&&N.getAttribute("title")===(g.title==null?null:g.title)&&N.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){V.splice(se,1);break t}}N=S.createElement(v),Qi(N,v,g),S.head.appendChild(N);break;case"meta":if(V=hE("meta","content",S).get(v+(g.content||""))){for(se=0;se<V.length;se++)if(N=V[se],N.getAttribute("content")===(g.content==null?null:""+g.content)&&N.getAttribute("name")===(g.name==null?null:g.name)&&N.getAttribute("property")===(g.property==null?null:g.property)&&N.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&N.getAttribute("charset")===(g.charSet==null?null:g.charSet)){V.splice(se,1);break t}}N=S.createElement(v),Qi(N,v,g),S.head.appendChild(N);break;default:throw Error(n(468,v))}N[ue]=a,Dt(N),v=N}a.stateNode=v}else gE(S,a.type,a.stateNode);else a.stateNode=dE(S,v,a.memoizedProps);else N!==v?(N===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):N.count--,v===null?gE(S,a.type,a.stateNode):dE(S,v,a.memoizedProps)):v===null&&a.stateNode!==null&&Vp(a,a.memoizedProps,g.memoizedProps)}break;case 27:Ps(l,a),Hs(a),v&512&&(oi||g===null||ho(g,g.return)),g!==null&&v&4&&Vp(a,a.memoizedProps,g.memoizedProps);break;case 5:if(Ps(l,a),Hs(a),v&512&&(oi||g===null||ho(g,g.return)),a.flags&32){S=a.stateNode;try{Ns(S,"")}catch(Qt){en(a,a.return,Qt)}}v&4&&a.stateNode!=null&&(S=a.memoizedProps,Vp(a,S,g!==null?g.memoizedProps:S)),v&1024&&(Kp=!0);break;case 6:if(Ps(l,a),Hs(a),v&4){if(a.stateNode===null)throw Error(n(162));v=a.memoizedProps,g=a.stateNode;try{g.nodeValue=v}catch(Qt){en(a,a.return,Qt)}}break;case 3:if(Xd=null,S=Ka,Ka=zd(l.containerInfo),Ps(l,a),Ka=S,Hs(a),v&4&&g!==null&&g.memoizedState.isDehydrated)try{Jc(l.containerInfo)}catch(Qt){en(a,a.return,Qt)}Kp&&(Kp=!1,gC(a));break;case 4:v=Ka,Ka=zd(a.stateNode.containerInfo),Ps(l,a),Hs(a),Ka=v;break;case 12:Ps(l,a),Hs(a);break;case 31:Ps(l,a),Hs(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Rd(a,v)));break;case 13:Ps(l,a),Hs(a),a.child.flags&8192&&a.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Ud=Ge()),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Rd(a,v)));break;case 22:S=a.memoizedState!==null;var Te=g!==null&&g.memoizedState!==null,ze=Ko,ot=oi;if(Ko=ze||S,oi=ot||Te,Ps(l,a),oi=ot,Ko=ze,Hs(a),v&8192)e:for(l=a.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(g===null||Te||Ko||oi||Pl(a)),g=null,l=a;;){if(l.tag===5||l.tag===26){if(g===null){Te=g=l;try{if(N=Te.stateNode,S)V=N.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{se=Te.stateNode;var ct=Te.memoizedProps.style,qe=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;se.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(Qt){en(Te,Te.return,Qt)}}}else if(l.tag===6){if(g===null){Te=l;try{Te.stateNode.nodeValue=S?"":Te.memoizedProps}catch(Qt){en(Te,Te.return,Qt)}}}else if(l.tag===18){if(g===null){Te=l;try{var rt=Te.stateNode;S?iE(rt,!0):iE(Te.stateNode,!1)}catch(Qt){en(Te,Te.return,Qt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;g===l&&(g=null),l=l.return}g===l&&(g=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=a.updateQueue,v!==null&&(g=v.retryQueue,g!==null&&(v.retryQueue=null,Rd(a,g))));break;case 19:Ps(l,a),Hs(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Rd(a,v)));break;case 30:break;case 21:break;default:Ps(l,a),Hs(a)}}function Hs(a){var l=a.flags;if(l&2){try{for(var g,v=a.return;v!==null;){if(aC(v)){g=v;break}v=v.return}if(g==null)throw Error(n(160));switch(g.tag){case 27:var S=g.stateNode,N=jp(a);Fd(a,N,S);break;case 5:var V=g.stateNode;g.flags&32&&(Ns(V,""),g.flags&=-33);var se=jp(a);Fd(a,se,V);break;case 3:case 4:var Te=g.stateNode.containerInfo,ze=jp(a);Gp(a,ze,Te);break;default:throw Error(n(161))}}catch(ot){en(a,a.return,ot)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function gC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;gC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Wo(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)lC(a,l.alternate,l),l=l.sibling}function Pl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:IA(4,l,l.return),Pl(l);break;case 1:ho(l,l.return);var g=l.stateNode;typeof g.componentWillUnmount=="function"&&iC(l,l.return,g),Pl(l);break;case 27:x0(l.stateNode);case 26:case 5:ho(l,l.return),Pl(l);break;case 22:l.memoizedState===null&&Pl(l);break;case 30:Pl(l);break;default:Pl(l)}a=a.sibling}}function Xo(a,l,g){for(g=g&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,S=a,N=l,V=N.flags;switch(N.tag){case 0:case 11:case 15:Xo(S,N,g),A0(4,N);break;case 1:if(Xo(S,N,g),v=N,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ze){en(v,v.return,ze)}if(v=N,S=v.updateQueue,S!==null){var se=v.stateNode;try{var Te=S.shared.hiddenCallbacks;if(Te!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Te.length;S++)zv(Te[S],se)}catch(ze){en(v,v.return,ze)}}g&&V&64&&nC(N),l0(N,N.return);break;case 27:oC(N);case 26:case 5:Xo(S,N,g),g&&v===null&&V&4&&sC(N),l0(N,N.return);break;case 12:Xo(S,N,g);break;case 31:Xo(S,N,g),g&&V&4&&fC(S,N);break;case 13:Xo(S,N,g),g&&V&4&&dC(S,N);break;case 22:N.memoizedState===null&&Xo(S,N,g),l0(N,N.return);break;case 30:break;default:Xo(S,N,g)}l=l.sibling}}function zp(a,l){var g=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==g&&(a!=null&&a.refCount++,g!=null&&qu(g))}function Wp(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&qu(a))}function za(a,l,g,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)pC(a,l,g,v),l=l.sibling}function pC(a,l,g,v){var S=l.flags;switch(l.tag){case 0:case 11:case 15:za(a,l,g,v),S&2048&&A0(9,l);break;case 1:za(a,l,g,v);break;case 3:za(a,l,g,v),S&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&qu(a)));break;case 12:if(S&2048){za(a,l,g,v),a=l.stateNode;try{var N=l.memoizedProps,V=N.id,se=N.onPostCommit;typeof se=="function"&&se(V,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Te){en(l,l.return,Te)}}else za(a,l,g,v);break;case 31:za(a,l,g,v);break;case 13:za(a,l,g,v);break;case 23:break;case 22:N=l.stateNode,V=l.alternate,l.memoizedState!==null?N._visibility&2?za(a,l,g,v):c0(a,l):N._visibility&2?za(a,l,g,v):(N._visibility|=2,Pc(a,l,g,v,(l.subtreeFlags&10256)!==0||!1)),S&2048&&zp(V,l);break;case 24:za(a,l,g,v),S&2048&&Wp(l.alternate,l);break;default:za(a,l,g,v)}}function Pc(a,l,g,v,S){for(S=S&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var N=a,V=l,se=g,Te=v,ze=V.flags;switch(V.tag){case 0:case 11:case 15:Pc(N,V,se,Te,S),A0(8,V);break;case 23:break;case 22:var ot=V.stateNode;V.memoizedState!==null?ot._visibility&2?Pc(N,V,se,Te,S):c0(N,V):(ot._visibility|=2,Pc(N,V,se,Te,S)),S&&ze&2048&&zp(V.alternate,V);break;case 24:Pc(N,V,se,Te,S),S&&ze&2048&&Wp(V.alternate,V);break;default:Pc(N,V,se,Te,S)}l=l.sibling}}function c0(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var g=a,v=l,S=v.flags;switch(v.tag){case 22:c0(g,v),S&2048&&zp(v.alternate,v);break;case 24:c0(g,v),S&2048&&Wp(v.alternate,v);break;default:c0(g,v)}l=l.sibling}}var u0=8192;function Hc(a,l,g){if(a.subtreeFlags&u0)for(a=a.child;a!==null;)mC(a,l,g),a=a.sibling}function mC(a,l,g){switch(a.tag){case 26:Hc(a,l,g),a.flags&u0&&a.memoizedState!==null&&RR(g,Ka,a.memoizedState,a.memoizedProps);break;case 5:Hc(a,l,g);break;case 3:case 4:var v=Ka;Ka=zd(a.stateNode.containerInfo),Hc(a,l,g),Ka=v;break;case 22:a.memoizedState===null&&(v=a.alternate,v!==null&&v.memoizedState!==null?(v=u0,u0=16777216,Hc(a,l,g),u0=v):Hc(a,l,g));break;default:Hc(a,l,g)}}function xC(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function f0(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var g=0;g<l.length;g++){var v=l[g];Ti=v,vC(v,a)}xC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)wC(a),a=a.sibling}function wC(a){switch(a.tag){case 0:case 11:case 15:f0(a),a.flags&2048&&IA(9,a,a.return);break;case 3:f0(a);break;case 12:f0(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Dd(a)):f0(a);break;default:f0(a)}}function Dd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var g=0;g<l.length;g++){var v=l[g];Ti=v,vC(v,a)}xC(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:IA(8,l,l.return),Dd(l);break;case 22:g=l.stateNode,g._visibility&2&&(g._visibility&=-3,Dd(l));break;default:Dd(l)}a=a.sibling}}function vC(a,l){for(;Ti!==null;){var g=Ti;switch(g.tag){case 0:case 11:case 15:IA(8,g,l);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var v=g.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:qu(g.memoizedState.cache)}if(v=g.child,v!==null)v.return=g,Ti=v;else e:for(g=a;Ti!==null;){v=Ti;var S=v.sibling,N=v.return;if(cC(v),v===g){Ti=null;break e}if(S!==null){S.return=N,Ti=S;break e}Ti=N}}}var W8={getCacheForType:function(a){var l=Oi(ii),g=l.data.get(a);return g===void 0&&(g=a(),l.data.set(a,g)),g},cacheSignal:function(){return Oi(ii).controller.signal}},X8=typeof WeakMap=="function"?WeakMap:Map,Kr=0,dn=null,yr=null,Br=0,$r=0,ia=null,NA=!1,Vc=!1,Xp=!1,qo=0,Vn=0,FA=0,Hl=0,qp=0,sa=0,jc=0,d0=null,Vs=null,Yp=!1,Ud=0,yC=0,kd=1/0,Md=null,RA=null,pi=0,DA=null,Gc=null,Yo=0,Jp=0,Zp=null,CC=null,h0=0,$p=null;function aa(){return(Kr&2)!==0&&Br!==0?Br&-Br:we.T!==null?sm():re()}function EC(){if(sa===0)if((Br&536870912)===0||Ir){var a=$t;$t<<=1,($t&3932160)===0&&($t=262144),sa=a}else sa=536870912;return a=ra.current,a!==null&&(a.flags|=32),sa}function js(a,l,g){(a===dn&&($r===2||$r===9)||a.cancelPendingCommit!==null)&&(Kc(a,0),UA(a,Br,sa,!1)),ds(a,g),((Kr&2)===0||a!==dn)&&(a===dn&&((Kr&2)===0&&(Hl|=g),Vn===4&&UA(a,Br,sa,!1)),go(a))}function BC(a,l,g){if((Kr&6)!==0)throw Error(n(327));var v=!g&&(l&127)===0&&(l&a.expiredLanes)===0||wn(a,l),S=v?J8(a,l):tm(a,l,!0),N=v;do{if(S===0){Vc&&!v&&UA(a,l,0,!1);break}else{if(g=a.current.alternate,N&&!q8(g)){S=tm(a,l,!1),N=!1;continue}if(S===2){if(N=l,a.errorRecoveryDisabledLanes&N)var V=0;else V=a.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){l=V;e:{var se=a;S=d0;var Te=se.current.memoizedState.isDehydrated;if(Te&&(Kc(se,V).flags|=256),V=tm(se,V,!1),V!==2){if(Xp&&!Te){se.errorRecoveryDisabledLanes|=N,Hl|=N,S=4;break e}N=Vs,Vs=S,N!==null&&(Vs===null?Vs=N:Vs.push.apply(Vs,N))}S=V}if(N=!1,S!==2)continue}}if(S===1){Kc(a,0),UA(a,l,0,!0);break}e:{switch(v=a,N=S,N){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:UA(v,l,sa,!NA);break e;case 2:Vs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(S=Ud+300-Ge(),10<S)){if(UA(v,l,sa,!NA),ri(v,0,!0)!==0)break e;Yo=l,v.timeoutHandle=tE(_C.bind(null,v,g,Vs,Md,Yp,l,sa,Hl,jc,NA,N,"Throttled",-0,0),S);break e}_C(v,g,Vs,Md,Yp,l,sa,Hl,jc,NA,N,null,-0,0)}}break}while(!0);go(a)}function _C(a,l,g,v,S,N,V,se,Te,ze,ot,ct,qe,rt){if(a.timeoutHandle=-1,ct=l.subtreeFlags,ct&8192||(ct&16785408)===16785408){ct={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},mC(l,N,ct);var Qt=(N&62914560)===N?Ud-Ge():(N&4194048)===N?yC-Ge():0;if(Qt=DR(ct,Qt),Qt!==null){Yo=N,a.cancelPendingCommit=Qt(DC.bind(null,a,l,N,g,v,S,V,se,Te,ot,ct,null,qe,rt)),UA(a,N,V,!ze);return}}DC(a,l,N,g,v,S,V,se,Te)}function q8(a){for(var l=a;;){var g=l.tag;if((g===0||g===11||g===15)&&l.flags&16384&&(g=l.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var v=0;v<g.length;v++){var S=g[v],N=S.getSnapshot;S=S.value;try{if(!y(N(),S))return!1}catch{return!1}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function UA(a,l,g,v){l&=~qp,l&=~Hl,a.suspendedLanes|=l,a.pingedLanes&=~l,v&&(a.warmLanes|=l),v=a.expirationTimes;for(var S=l;0<S;){var N=31-At(S),V=1<<N;v[N]=-1,S&=~V}g!==0&&So(a,g,l)}function Od(){return(Kr&6)===0?(g0(0),!1):!0}function em(){if(yr!==null){if($r===0)var a=yr.return;else a=yr,Qo=Rl=null,pp(a),kc=null,Ju=0,a=yr;for(;a!==null;)rC(a.alternate,a),a=a.return;yr=null}}function Kc(a,l){var g=a.timeoutHandle;g!==-1&&(a.timeoutHandle=-1,gR(g)),g=a.cancelPendingCommit,g!==null&&(a.cancelPendingCommit=null,g()),Yo=0,em(),dn=a,yr=g=Oo(a.current,null),Br=l,$r=0,ia=null,NA=!1,Vc=wn(a,l),Xp=!1,jc=sa=qp=Hl=FA=Vn=0,Vs=d0=null,Yp=!1,(l&8)!==0&&(l|=l&32);var v=a.entangledLanes;if(v!==0)for(a=a.entanglements,v&=l;0<v;){var S=31-At(v),N=1<<S;l|=a[S],v&=~N}return qo=l,id(),g}function TC(a,l){hr=null,we.H=s0,l===Uc||l===fd?(l=Vv(),$r=3):l===ip?(l=Vv(),$r=4):$r=l===Rp?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ia=l,yr===null&&(Vn=1,Td(a,ya(l,a.current)))}function bC(){var a=ra.current;return a===null?!0:(Br&4194048)===Br?_a===null:(Br&62914560)===Br||(Br&536870912)!==0?a===_a:!1}function SC(){var a=we.H;return we.H=s0,a===null?s0:a}function IC(){var a=we.A;return we.A=W8,a}function Ld(){Vn=4,NA||(Br&4194048)!==Br&&ra.current!==null||(Vc=!0),(FA&134217727)===0&&(Hl&134217727)===0||dn===null||UA(dn,Br,sa,!1)}function tm(a,l,g){var v=Kr;Kr|=2;var S=SC(),N=IC();(dn!==a||Br!==l)&&(Md=null,Kc(a,l)),l=!1;var V=Vn;e:do try{if($r!==0&&yr!==null){var se=yr,Te=ia;switch($r){case 8:em(),V=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(l=!0);var ze=$r;if($r=0,ia=null,zc(a,se,Te,ze),g&&Vc){V=0;break e}break;default:ze=$r,$r=0,ia=null,zc(a,se,Te,ze)}}Y8(),V=Vn;break}catch(ot){TC(a,ot)}while(!0);return l&&a.shellSuspendCounter++,Qo=Rl=null,Kr=v,we.H=S,we.A=N,yr===null&&(dn=null,Br=0,id()),V}function Y8(){for(;yr!==null;)NC(yr)}function J8(a,l){var g=Kr;Kr|=2;var v=SC(),S=IC();dn!==a||Br!==l?(Md=null,kd=Ge()+500,Kc(a,l)):Vc=wn(a,l);e:do try{if($r!==0&&yr!==null){l=yr;var N=ia;t:switch($r){case 1:$r=0,ia=null,zc(a,l,N,1);break;case 2:case 9:if(Pv(N)){$r=0,ia=null,FC(l);break}l=function(){$r!==2&&$r!==9||dn!==a||($r=7),go(a)},N.then(l,l);break e;case 3:$r=7;break e;case 4:$r=5;break e;case 7:Pv(N)?($r=0,ia=null,FC(l)):($r=0,ia=null,zc(a,l,N,7));break;case 5:var V=null;switch(yr.tag){case 26:V=yr.memoizedState;case 5:case 27:var se=yr;if(V?pE(V):se.stateNode.complete){$r=0,ia=null;var Te=se.sibling;if(Te!==null)yr=Te;else{var ze=se.return;ze!==null?(yr=ze,Qd(ze)):yr=null}break t}}$r=0,ia=null,zc(a,l,N,5);break;case 6:$r=0,ia=null,zc(a,l,N,6);break;case 8:em(),Vn=6;break e;default:throw Error(n(462))}}Z8();break}catch(ot){TC(a,ot)}while(!0);return Qo=Rl=null,we.H=v,we.A=S,Kr=g,yr!==null?0:(dn=null,Br=0,id(),Vn)}function Z8(){for(;yr!==null&&!Bn();)NC(yr)}function NC(a){var l=eC(a.alternate,a,qo);a.memoizedProps=a.pendingProps,l===null?Qd(a):yr=l}function FC(a){var l=a,g=l.alternate;switch(l.tag){case 15:case 0:l=Xy(g,l,l.pendingProps,l.type,void 0,Br);break;case 11:l=Xy(g,l,l.pendingProps,l.type.render,l.ref,Br);break;case 5:pp(l);default:rC(g,l),l=yr=Iv(l,qo),l=eC(g,l,qo)}a.memoizedProps=a.pendingProps,l===null?Qd(a):yr=l}function zc(a,l,g,v){Qo=Rl=null,pp(l),kc=null,Ju=0;var S=l.return;try{if(P8(a,S,l,g,Br)){Vn=1,Td(a,ya(g,a.current)),yr=null;return}}catch(N){if(S!==null)throw yr=S,N;Vn=1,Td(a,ya(g,a.current)),yr=null;return}l.flags&32768?(Ir||v===1?a=!0:Vc||(Br&536870912)!==0?a=!1:(NA=a=!0,(v===2||v===9||v===3||v===6)&&(v=ra.current,v!==null&&v.tag===13&&(v.flags|=16384))),RC(l,a)):Qd(l)}function Qd(a){var l=a;do{if((l.flags&32768)!==0){RC(l,NA);return}a=l.return;var g=j8(l.alternate,l,qo);if(g!==null){yr=g;return}if(l=l.sibling,l!==null){yr=l;return}yr=l=a}while(l!==null);Vn===0&&(Vn=5)}function RC(a,l){do{var g=G8(a.alternate,a);if(g!==null){g.flags&=32767,yr=g;return}if(g=a.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!l&&(a=a.sibling,a!==null)){yr=a;return}yr=a=g}while(a!==null);Vn=6,yr=null}function DC(a,l,g,v,S,N,V,se,Te){a.cancelPendingCommit=null;do Pd();while(pi!==0);if((Kr&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(N=l.lanes|l.childLanes,N|=jg,zr(a,g,N,V,se,Te),a===dn&&(yr=dn=null,Br=0),Gc=l,DA=a,Yo=g,Jp=N,Zp=S,CC=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,rR(fr,function(){return LC(),null})):(a.callbackNode=null,a.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=we.T,we.T=null,S=ce.p,ce.p=2,V=Kr,Kr|=4;try{K8(a,l,g)}finally{Kr=V,ce.p=S,we.T=v}}pi=1,UC(),kC(),MC()}}function UC(){if(pi===1){pi=0;var a=DA,l=Gc,g=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||g){g=we.T,we.T=null;var v=ce.p;ce.p=2;var S=Kr;Kr|=4;try{hC(l,a);var N=dm,V=Y(a.containerInfo),se=N.focusedElem,Te=N.selectionRange;if(V!==se&&se&&se.ownerDocument&&P(se.ownerDocument.documentElement,se)){if(Te!==null&&ie(se)){var ze=Te.start,ot=Te.end;if(ot===void 0&&(ot=ze),"selectionStart"in se)se.selectionStart=ze,se.selectionEnd=Math.min(ot,se.value.length);else{var ct=se.ownerDocument||document,qe=ct&&ct.defaultView||window;if(qe.getSelection){var rt=qe.getSelection(),Qt=se.textContent.length,Yt=Math.min(Te.start,Qt),An=Te.end===void 0?Yt:Math.min(Te.end,Qt);!rt.extend&&Yt>An&&(V=An,An=Yt,Yt=V);var ke=U(se,Yt),Re=U(se,An);if(ke&&Re&&(rt.rangeCount!==1||rt.anchorNode!==ke.node||rt.anchorOffset!==ke.offset||rt.focusNode!==Re.node||rt.focusOffset!==Re.offset)){var Ke=ct.createRange();Ke.setStart(ke.node,ke.offset),rt.removeAllRanges(),Yt>An?(rt.addRange(Ke),rt.extend(Re.node,Re.offset)):(Ke.setEnd(Re.node,Re.offset),rt.addRange(Ke))}}}}for(ct=[],rt=se;rt=rt.parentNode;)rt.nodeType===1&&ct.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<ct.length;se++){var lt=ct[se];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Zd=!!fm,dm=fm=null}finally{Kr=S,ce.p=v,we.T=g}}a.current=l,pi=2}}function kC(){if(pi===2){pi=0;var a=DA,l=Gc,g=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||g){g=we.T,we.T=null;var v=ce.p;ce.p=2;var S=Kr;Kr|=4;try{lC(a,l.alternate,l)}finally{Kr=S,ce.p=v,we.T=g}}pi=3}}function MC(){if(pi===4||pi===3){pi=0,hn();var a=DA,l=Gc,g=Yo,v=CC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?pi=5:(pi=0,Gc=DA=null,OC(a,a.pendingLanes));var S=a.pendingLanes;if(S===0&&(RA=null),hs(g),l=l.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(Je,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=we.T,S=ce.p,ce.p=2,we.T=null;try{for(var N=a.onRecoverableError,V=0;V<v.length;V++){var se=v[V];N(se.value,{componentStack:se.stack})}}finally{we.T=l,ce.p=S}}(Yo&3)!==0&&Pd(),go(a),S=a.pendingLanes,(g&261930)!==0&&(S&42)!==0?a===$p?h0++:(h0=0,$p=a):h0=0,g0(0)}}function OC(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,qu(l)))}function Pd(){return UC(),kC(),MC(),LC()}function LC(){if(pi!==5)return!1;var a=DA,l=Jp;Jp=0;var g=hs(Yo),v=we.T,S=ce.p;try{ce.p=32>g?32:g,we.T=null,g=Zp,Zp=null;var N=DA,V=Yo;if(pi=0,Gc=DA=null,Yo=0,(Kr&6)!==0)throw Error(n(331));var se=Kr;if(Kr|=4,wC(N.current),pC(N,N.current,V,g),Kr=se,g0(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(Je,N)}catch{}return!0}finally{ce.p=S,we.T=v,OC(a,l)}}function QC(a,l,g){l=ya(g,l),l=Fp(a.stateNode,l,2),a=TA(a,l,2),a!==null&&(ds(a,2),go(a))}function en(a,l,g){if(a.tag===3)QC(a,a,g);else for(;l!==null;){if(l.tag===3){QC(l,a,g);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(RA===null||!RA.has(v))){a=ya(g,a),g=Py(2),v=TA(l,g,2),v!==null&&(Hy(g,v,l,a),ds(v,2),go(v));break}}l=l.return}}function rm(a,l,g){var v=a.pingCache;if(v===null){v=a.pingCache=new X8;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(g)||(Xp=!0,S.add(g),a=$8.bind(null,a,l,g),l.then(a,a))}function $8(a,l,g){var v=a.pingCache;v!==null&&v.delete(l),a.pingedLanes|=a.suspendedLanes&g,a.warmLanes&=~g,dn===a&&(Br&g)===g&&(Vn===4||Vn===3&&(Br&62914560)===Br&&300>Ge()-Ud?(Kr&2)===0&&Kc(a,0):qp|=g,jc===Br&&(jc=0)),go(a)}function PC(a,l){l===0&&(l=_n()),a=Il(a,l),a!==null&&(ds(a,l),go(a))}function eR(a){var l=a.memoizedState,g=0;l!==null&&(g=l.retryLane),PC(a,g)}function tR(a,l){var g=0;switch(a.tag){case 31:case 13:var v=a.stateNode,S=a.memoizedState;S!==null&&(g=S.retryLane);break;case 19:v=a.stateNode;break;case 22:v=a.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(l),PC(a,g)}function rR(a,l){return ur(a,l)}var Hd=null,Wc=null,nm=!1,Vd=!1,im=!1,kA=0;function go(a){a!==Wc&&a.next===null&&(Wc===null?Hd=Wc=a:Wc=Wc.next=a),Vd=!0,nm||(nm=!0,iR())}function g0(a,l){if(!im&&Vd){im=!0;do for(var g=!1,v=Hd;v!==null;){if(a!==0){var S=v.pendingLanes;if(S===0)var N=0;else{var V=v.suspendedLanes,se=v.pingedLanes;N=(1<<31-At(42|a)+1)-1,N&=S&~(V&~se),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(g=!0,GC(v,N))}else N=Br,N=ri(v,v===dn?N:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(N&3)===0||wn(v,N)||(g=!0,GC(v,N));v=v.next}while(g);im=!1}}function nR(){HC()}function HC(){Vd=nm=!1;var a=0;kA!==0&&hR()&&(a=kA);for(var l=Ge(),g=null,v=Hd;v!==null;){var S=v.next,N=VC(v,l);N===0?(v.next=null,g===null?Hd=S:g.next=S,S===null&&(Wc=g)):(g=v,(a!==0||(N&3)!==0)&&(Vd=!0)),v=S}pi!==0&&pi!==5||g0(a),kA!==0&&(kA=0)}function VC(a,l){for(var g=a.suspendedLanes,v=a.pingedLanes,S=a.expirationTimes,N=a.pendingLanes&-62914561;0<N;){var V=31-At(N),se=1<<V,Te=S[V];Te===-1?((se&g)===0||(se&v)!==0)&&(S[V]=ga(se,l)):Te<=l&&(a.expiredLanes|=se),N&=~se}if(l=dn,g=Br,g=ri(a,a===l?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v=a.callbackNode,g===0||a===l&&($r===2||$r===9)||a.cancelPendingCommit!==null)return v!==null&&v!==null&&_t(v),a.callbackNode=null,a.callbackPriority=0;if((g&3)===0||wn(a,g)){if(l=g&-g,l===a.callbackPriority)return l;switch(v!==null&&_t(v),hs(g)){case 2:case 8:g=Jt;break;case 32:g=fr;break;case 268435456:g=Xt;break;default:g=fr}return v=jC.bind(null,a),g=ur(g,v),a.callbackPriority=l,a.callbackNode=g,l}return v!==null&&v!==null&&_t(v),a.callbackPriority=2,a.callbackNode=null,2}function jC(a,l){if(pi!==0&&pi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var g=a.callbackNode;if(Pd()&&a.callbackNode!==g)return null;var v=Br;return v=ri(a,a===dn?v:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v===0?null:(BC(a,v,l),VC(a,Ge()),a.callbackNode!=null&&a.callbackNode===g?jC.bind(null,a):null)}function GC(a,l){if(Pd())return null;BC(a,l,!0)}function iR(){pR(function(){(Kr&6)!==0?ur(Tt,nR):HC()})}function sm(){if(kA===0){var a=Rc;a===0&&(a=qi,qi<<=1,(qi&261888)===0&&(qi=256)),kA=a}return kA}function KC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Fs(""+a)}function zC(a,l){var g=l.ownerDocument.createElement("input");return g.name=l.name,g.value=l.value,a.id&&g.setAttribute("form",a.id),l.parentNode.insertBefore(g,l),a=new FormData(a),g.parentNode.removeChild(g),a}function sR(a,l,g,v,S){if(l==="submit"&&g&&g.stateNode===S){var N=KC((S[he]||null).action),V=v.submitter;V&&(l=(l=V[he]||null)?KC(l.formAction):V.getAttribute("formAction"),l!==null&&(N=l,V=null));var se=new Ln("action","action",null,v,S);a.push({event:se,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(kA!==0){var Te=V?zC(S,V):new FormData(S);_p(g,{pending:!0,data:Te,method:S.method,action:N},null,Te)}}else typeof N=="function"&&(se.preventDefault(),Te=V?zC(S,V):new FormData(S),_p(g,{pending:!0,data:Te,method:S.method,action:N},N,Te))},currentTarget:S}]})}}for(var am=0;am<zu.length;am++){var om=zu[am],aR=om.toLowerCase(),oR=om[0].toUpperCase()+om.slice(1);Ga(aR,"on"+oR)}Ga(Ls,"onAnimationEnd"),Ga(ki,"onAnimationIteration"),Ga(Xr,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(gi,"onTransitionRun"),Ga(ms,"onTransitionStart"),Ga(wA,"onTransitionCancel"),Ga(Mo,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var p0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(p0));function WC(a,l){l=(l&4)!==0;for(var g=0;g<a.length;g++){var v=a[g],S=v.event;v=v.listeners;e:{var N=void 0;if(l)for(var V=v.length-1;0<=V;V--){var se=v[V],Te=se.instance,ze=se.currentTarget;if(se=se.listener,Te!==N&&S.isPropagationStopped())break e;N=se,S.currentTarget=ze;try{N(S)}catch(ot){nd(ot)}S.currentTarget=null,N=Te}else for(V=0;V<v.length;V++){if(se=v[V],Te=se.instance,ze=se.currentTarget,se=se.listener,Te!==N&&S.isPropagationStopped())break e;N=se,S.currentTarget=ze;try{N(S)}catch(ot){nd(ot)}S.currentTarget=null,N=Te}}}}function Cr(a,l){var g=l[je];g===void 0&&(g=l[je]=new Set);var v=a+"__bubble";g.has(v)||(XC(l,a,2,!1),g.add(v))}function Am(a,l,g){var v=0;l&&(v|=4),XC(g,a,v,l)}var jd="_reactListening"+Math.random().toString(36).slice(2);function lm(a){if(!a[jd]){a[jd]=!0,it.forEach(function(g){g!=="selectionchange"&&(AR.has(g)||Am(g,!1,a),Am(g,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[jd]||(l[jd]=!0,Am("selectionchange",!1,l))}}function XC(a,l,g,v){switch(EE(l)){case 2:var S=MR;break;case 8:S=OR;break;default:S=Bm}g=S.bind(null,l,g,a),S=void 0,!Cl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?a.addEventListener(l,g,{capture:!0,passive:S}):a.addEventListener(l,g,!0):S!==void 0?a.addEventListener(l,g,{passive:S}):a.addEventListener(l,g,!1)}function cm(a,l,g,v,S){var N=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var se=v.stateNode.containerInfo;if(se===S)break;if(V===4)for(V=v.return;V!==null;){var Te=V.tag;if((Te===3||Te===4)&&V.stateNode.containerInfo===S)return;V=V.return}for(;se!==null;){if(V=ht(se),V===null)return;if(Te=V.tag,Te===5||Te===6||Te===26||Te===27){v=N=V;continue e}se=se.parentNode}}v=v.return}Cc(function(){var ze=N,ot=mA(g),ct=[];e:{var qe=rd.get(a);if(qe!==void 0){var rt=Ln,Qt=a;switch(a){case"keypress":if($s(g)===0)break e;case"keydown":case"keyup":rt=Do;break;case"focusin":Qt="focus",rt=lo;break;case"focusout":Qt="blur",rt=lo;break;case"beforeblur":case"afterblur":rt=lo;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=No;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Bc;break;case Ls:case ki:case Xr:rt=tr;break;case Mo:rt=Os;break;case"scroll":case"scrollend":rt=El;break;case"wheel":rt=_c;break;case"copy":case"cut":case"paste":rt=Fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Mr;break;case"toggle":case"beforetoggle":rt=wa}var Yt=(l&4)!==0,An=!Yt&&(a==="scroll"||a==="scrollend"),ke=Yt?qe!==null?qe+"Capture":null:qe;Yt=[];for(var Re=ze,Ke;Re!==null;){var lt=Re;if(Ke=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||Ke===null||ke===null||(lt=zt(Re,ke),lt!=null&&Yt.push(m0(Re,lt,Ke))),An)break;Re=Re.return}0<Yt.length&&(qe=new rt(qe,Qt,null,g,ot),ct.push({event:qe,listeners:Yt}))}}if((l&7)===0){e:{if(qe=a==="mouseover"||a==="pointerover",rt=a==="mouseout"||a==="pointerout",qe&&g!==oo&&(Qt=g.relatedTarget||g.fromElement)&&(ht(Qt)||Qt[Ce]))break e;if((rt||qe)&&(qe=ot.window===ot?ot:(qe=ot.ownerDocument)?qe.defaultView||qe.parentWindow:window,rt?(Qt=g.relatedTarget||g.toElement,rt=ze,Qt=Qt?ht(Qt):null,Qt!==null&&(An=s(Qt),Yt=Qt.tag,Qt!==An||Yt!==5&&Yt!==27&&Yt!==6)&&(Qt=null)):(rt=null,Qt=ze),rt!==Qt)){if(Yt=kr,lt="onMouseLeave",ke="onMouseEnter",Re="mouse",(a==="pointerout"||a==="pointerover")&&(Yt=Mr,lt="onPointerLeave",ke="onPointerEnter",Re="pointer"),An=rt==null?qe:wt(rt),Ke=Qt==null?qe:wt(Qt),qe=new Yt(lt,Re+"leave",rt,g,ot),qe.target=An,qe.relatedTarget=Ke,lt=null,ht(ot)===ze&&(Yt=new Yt(ke,Re+"enter",Qt,g,ot),Yt.target=Ke,Yt.relatedTarget=An,lt=Yt),An=lt,rt&&Qt)t:{for(Yt=lR,ke=rt,Re=Qt,Ke=0,lt=ke;lt;lt=Yt(lt))Ke++;lt=0;for(var Wt=Re;Wt;Wt=Yt(Wt))lt++;for(;0<Ke-lt;)ke=Yt(ke),Ke--;for(;0<lt-Ke;)Re=Yt(Re),lt--;for(;Ke--;){if(ke===Re||Re!==null&&ke===Re.alternate){Yt=ke;break t}ke=Yt(ke),Re=Yt(Re)}Yt=null}else Yt=null;rt!==null&&qC(ct,qe,rt,Yt,!1),Qt!==null&&An!==null&&qC(ct,An,Qt,Yt,!0)}}e:{if(qe=ze?wt(ze):window,rt=qe.nodeName&&qe.nodeName.toLowerCase(),rt==="select"||rt==="input"&&qe.type==="file")var Pr=ea;else if(Ui(qe))if(td)Pr=m;else{Pr=u;var Ht=o}else rt=qe.nodeName,!rt||rt.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?ze&&Jr(ze.elementType)&&(Pr=ea):Pr=f;if(Pr&&(Pr=Pr(a,ze))){_i(ct,Pr,g,ot);break e}Ht&&Ht(a,qe,ze),a==="focusout"&&ze&&qe.type==="number"&&ze.memoizedProps.value!=null&&ge(qe,"number",qe.value)}switch(Ht=ze?wt(ze):window,a){case"focusin":(Ui(Ht)||Ht.contentEditable==="true")&&(be=Ht,Ie=ze,Oe=null);break;case"focusout":Oe=Ie=be=null;break;case"mousedown":$e=!0;break;case"contextmenu":case"mouseup":case"dragend":$e=!1,yt(ct,g,ot);break;case"selectionchange":if(ve)break;case"keydown":case"keyup":yt(ct,g,ot)}var xr;if(L)e:{switch(a){case"compositionstart":var _r="onCompositionStart";break e;case"compositionend":_r="onCompositionEnd";break e;case"compositionupdate":_r="onCompositionUpdate";break e}_r=void 0}else mr?Qr(a,g)&&(_r="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(_r="onCompositionStart");_r&&(Pe&&g.locale!=="ko"&&(mr||_r!=="onCompositionStart"?_r==="onCompositionEnd"&&mr&&(xr=Us()):(Zi=ot,Ds="value"in Zi?Zi.value:Zi.textContent,mr=!0)),Ht=Gd(ze,_r),0<Ht.length&&(_r=new Bl(_r,a,null,g,ot),ct.push({event:_r,listeners:Ht}),xr?_r.data=xr:(xr=pn(g),xr!==null&&(_r.data=xr)))),(xr=Ae?fn(a,g):Rn(a,g))&&(_r=Gd(ze,"onBeforeInput"),0<_r.length&&(Ht=new Bl("onBeforeInput","beforeinput",null,g,ot),ct.push({event:Ht,listeners:_r}),Ht.data=xr)),sR(ct,a,ze,g,ot)}WC(ct,l)})}function m0(a,l,g){return{instance:a,listener:l,currentTarget:g}}function Gd(a,l){for(var g=l+"Capture",v=[];a!==null;){var S=a,N=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||N===null||(S=zt(a,g),S!=null&&v.unshift(m0(a,S,N)),S=zt(a,l),S!=null&&v.push(m0(a,S,N))),a.tag===3)return v;a=a.return}return[]}function lR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function qC(a,l,g,v,S){for(var N=l._reactName,V=[];g!==null&&g!==v;){var se=g,Te=se.alternate,ze=se.stateNode;if(se=se.tag,Te!==null&&Te===v)break;se!==5&&se!==26&&se!==27||ze===null||(Te=ze,S?(ze=zt(g,N),ze!=null&&V.unshift(m0(g,ze,Te))):S||(ze=zt(g,N),ze!=null&&V.push(m0(g,ze,Te)))),g=g.return}V.length!==0&&a.push({event:l,listeners:V})}var cR=/\r\n?/g,uR=/\u0000|\uFFFD/g;function YC(a){return(typeof a=="string"?a:""+a).replace(cR,`
`).replace(uR,"")}function JC(a,l){return l=YC(l),YC(a)===l}function on(a,l,g,v,S,N){switch(g){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||Ns(a,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&Ns(a,""+v);break;case"className":pa(a,"class",v);break;case"tabIndex":pa(a,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":pa(a,g,v);break;case"style":Vt(a,v,N);break;case"data":if(l!=="object"){pa(a,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||g!=="href")){a.removeAttribute(g);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(g);break}v=Fs(""+v),a.setAttribute(g,v);break;case"action":case"formAction":if(typeof v=="function"){a.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(g==="formAction"?(l!=="input"&&on(a,l,"name",S.name,S,null),on(a,l,"formEncType",S.formEncType,S,null),on(a,l,"formMethod",S.formMethod,S,null),on(a,l,"formTarget",S.formTarget,S,null)):(on(a,l,"encType",S.encType,S,null),on(a,l,"method",S.method,S,null),on(a,l,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(g);break}v=Fs(""+v),a.setAttribute(g,v);break;case"onClick":v!=null&&(a.onclick=Fn);break;case"onScroll":v!=null&&Cr("scroll",a);break;case"onScrollEnd":v!=null&&Cr("scrollend",a);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(g=v.__html,g!=null){if(S.children!=null)throw Error(n(60));a.innerHTML=g}}break;case"multiple":a.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":a.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){a.removeAttribute("xlink:href");break}g=Fs(""+v),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(g,""+v):a.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(g,""):a.removeAttribute(g);break;case"capture":case"download":v===!0?a.setAttribute(g,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(g,v):a.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?a.setAttribute(g,v):a.removeAttribute(g);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?a.removeAttribute(g):a.setAttribute(g,v);break;case"popover":Cr("beforetoggle",a),Cr("toggle",a),Mn(a,"popover",v);break;case"xlinkActuate":Yi(a,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Yi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Yi(a,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Yi(a,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Yi(a,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Yi(a,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Yi(a,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Yi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Yi(a,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Mn(a,"is",v);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=yc.get(g)||g,Mn(a,g,v))}}function um(a,l,g,v,S,N){switch(g){case"style":Vt(a,v,N);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(g=v.__html,g!=null){if(S.children!=null)throw Error(n(60));a.innerHTML=g}}break;case"children":typeof v=="string"?Ns(a,v):(typeof v=="number"||typeof v=="bigint")&&Ns(a,""+v);break;case"onScroll":v!=null&&Cr("scroll",a);break;case"onScrollEnd":v!=null&&Cr("scrollend",a);break;case"onClick":v!=null&&(a.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fr.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(S=g.endsWith("Capture"),l=g.slice(2,S?g.length-7:void 0),N=a[he]||null,N=N!=null?N[g]:null,typeof N=="function"&&a.removeEventListener(l,N,S),typeof v=="function")){typeof N!="function"&&N!==null&&(g in a?a[g]=null:a.hasAttribute(g)&&a.removeAttribute(g)),a.addEventListener(l,v,S);break e}g in a?a[g]=v:v===!0?a.setAttribute(g,""):Mn(a,g,v)}}}function Qi(a,l,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cr("error",a),Cr("load",a);var v=!1,S=!1,N;for(N in g)if(g.hasOwnProperty(N)){var V=g[N];if(V!=null)switch(N){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:on(a,l,N,V,g,null)}}S&&on(a,l,"srcSet",g.srcSet,g,null),v&&on(a,l,"src",g.src,g,null);return;case"input":Cr("invalid",a);var se=N=V=S=null,Te=null,ze=null;for(v in g)if(g.hasOwnProperty(v)){var ot=g[v];if(ot!=null)switch(v){case"name":S=ot;break;case"type":V=ot;break;case"checked":Te=ot;break;case"defaultChecked":ze=ot;break;case"value":N=ot;break;case"defaultValue":se=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(n(137,l));break;default:on(a,l,v,ot,g,null)}}Ve(a,N,se,Te,ze,V,S,!1);return;case"select":Cr("invalid",a),v=V=N=null;for(S in g)if(g.hasOwnProperty(S)&&(se=g[S],se!=null))switch(S){case"value":N=se;break;case"defaultValue":V=se;break;case"multiple":v=se;default:on(a,l,S,se,g,null)}l=N,g=V,a.multiple=!!v,l!=null?Et(a,!!v,l,!1):g!=null&&Et(a,!!v,g,!0);return;case"textarea":Cr("invalid",a),N=S=v=null;for(V in g)if(g.hasOwnProperty(V)&&(se=g[V],se!=null))switch(V){case"value":v=se;break;case"defaultValue":S=se;break;case"children":N=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(91));break;default:on(a,l,V,se,g,null)}zn(a,v,S,N);return;case"option":for(Te in g)if(g.hasOwnProperty(Te)&&(v=g[Te],v!=null))switch(Te){case"selected":a.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:on(a,l,Te,v,g,null)}return;case"dialog":Cr("beforetoggle",a),Cr("toggle",a),Cr("cancel",a),Cr("close",a);break;case"iframe":case"object":Cr("load",a);break;case"video":case"audio":for(v=0;v<p0.length;v++)Cr(p0[v],a);break;case"image":Cr("error",a),Cr("load",a);break;case"details":Cr("toggle",a);break;case"embed":case"source":case"link":Cr("error",a),Cr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in g)if(g.hasOwnProperty(ze)&&(v=g[ze],v!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:on(a,l,ze,v,g,null)}return;default:if(Jr(l)){for(ot in g)g.hasOwnProperty(ot)&&(v=g[ot],v!==void 0&&um(a,l,ot,v,g,void 0));return}}for(se in g)g.hasOwnProperty(se)&&(v=g[se],v!=null&&on(a,l,se,v,g,null))}function fR(a,l,g,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,N=null,V=null,se=null,Te=null,ze=null,ot=null;for(rt in g){var ct=g[rt];if(g.hasOwnProperty(rt)&&ct!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":Te=ct;default:v.hasOwnProperty(rt)||on(a,l,rt,null,v,ct)}}for(var qe in v){var rt=v[qe];if(ct=g[qe],v.hasOwnProperty(qe)&&(rt!=null||ct!=null))switch(qe){case"type":N=rt;break;case"name":S=rt;break;case"checked":ze=rt;break;case"defaultChecked":ot=rt;break;case"value":V=rt;break;case"defaultValue":se=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,l));break;default:rt!==ct&&on(a,l,qe,rt,v,ct)}}vn(a,V,se,Te,ze,ot,N,S);return;case"select":rt=V=se=qe=null;for(N in g)if(Te=g[N],g.hasOwnProperty(N)&&Te!=null)switch(N){case"value":break;case"multiple":rt=Te;default:v.hasOwnProperty(N)||on(a,l,N,null,v,Te)}for(S in v)if(N=v[S],Te=g[S],v.hasOwnProperty(S)&&(N!=null||Te!=null))switch(S){case"value":qe=N;break;case"defaultValue":se=N;break;case"multiple":V=N;default:N!==Te&&on(a,l,S,N,v,Te)}l=se,g=V,v=rt,qe!=null?Et(a,!!g,qe,!1):!!v!=!!g&&(l!=null?Et(a,!!g,l,!0):Et(a,!!g,g?[]:"",!1));return;case"textarea":rt=qe=null;for(se in g)if(S=g[se],g.hasOwnProperty(se)&&S!=null&&!v.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:on(a,l,se,null,v,S)}for(V in v)if(S=v[V],N=g[V],v.hasOwnProperty(V)&&(S!=null||N!=null))switch(V){case"value":qe=S;break;case"defaultValue":rt=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==N&&on(a,l,V,S,v,N)}gn(a,qe,rt);return;case"option":for(var Qt in g)if(qe=g[Qt],g.hasOwnProperty(Qt)&&qe!=null&&!v.hasOwnProperty(Qt))switch(Qt){case"selected":a.selected=!1;break;default:on(a,l,Qt,null,v,qe)}for(Te in v)if(qe=v[Te],rt=g[Te],v.hasOwnProperty(Te)&&qe!==rt&&(qe!=null||rt!=null))switch(Te){case"selected":a.selected=qe&&typeof qe!="function"&&typeof qe!="symbol";break;default:on(a,l,Te,qe,v,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in g)qe=g[Yt],g.hasOwnProperty(Yt)&&qe!=null&&!v.hasOwnProperty(Yt)&&on(a,l,Yt,null,v,qe);for(ze in v)if(qe=v[ze],rt=g[ze],v.hasOwnProperty(ze)&&qe!==rt&&(qe!=null||rt!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(n(137,l));break;default:on(a,l,ze,qe,v,rt)}return;default:if(Jr(l)){for(var An in g)qe=g[An],g.hasOwnProperty(An)&&qe!==void 0&&!v.hasOwnProperty(An)&&um(a,l,An,void 0,v,qe);for(ot in v)qe=v[ot],rt=g[ot],!v.hasOwnProperty(ot)||qe===rt||qe===void 0&&rt===void 0||um(a,l,ot,qe,v,rt);return}}for(var ke in g)qe=g[ke],g.hasOwnProperty(ke)&&qe!=null&&!v.hasOwnProperty(ke)&&on(a,l,ke,null,v,qe);for(ct in v)qe=v[ct],rt=g[ct],!v.hasOwnProperty(ct)||qe===rt||qe==null&&rt==null||on(a,l,ct,qe,v,rt)}function ZC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,g=performance.getEntriesByType("resource"),v=0;v<g.length;v++){var S=g[v],N=S.transferSize,V=S.initiatorType,se=S.duration;if(N&&se&&ZC(V)){for(V=0,se=S.responseEnd,v+=1;v<g.length;v++){var Te=g[v],ze=Te.startTime;if(ze>se)break;var ot=Te.transferSize,ct=Te.initiatorType;ot&&ZC(ct)&&(Te=Te.responseEnd,V+=ot*(Te<se?1:(se-ze)/(Te-ze)))}if(--v,l+=8*(N+V)/(S.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var fm=null,dm=null;function Kd(a){return a.nodeType===9?a:a.ownerDocument}function $C(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eE(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function hm(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var gm=null;function hR(){var a=window.event;return a&&a.type==="popstate"?a===gm?!1:(gm=a,!0):(gm=null,!1)}var tE=typeof setTimeout=="function"?setTimeout:void 0,gR=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,pR=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(a){return rE.resolve(null).then(a).catch(mR)}:tE;function mR(a){setTimeout(function(){throw a})}function MA(a){return a==="head"}function nE(a,l){var g=l,v=0;do{var S=g.nextSibling;if(a.removeChild(g),S&&S.nodeType===8)if(g=S.data,g==="/$"||g==="/&"){if(v===0){a.removeChild(S),Jc(l);return}v--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")v++;else if(g==="html")x0(a.ownerDocument.documentElement);else if(g==="head"){g=a.ownerDocument.head,x0(g);for(var N=g.firstChild;N;){var V=N.nextSibling,se=N.nodeName;N[Xe]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&N.rel.toLowerCase()==="stylesheet"||g.removeChild(N),N=V}}else g==="body"&&x0(a.ownerDocument.body);g=S}while(g);Jc(l)}function iE(a,l){var g=a;a=0;do{var v=g.nextSibling;if(g.nodeType===1?l?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(l?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),v&&v.nodeType===8)if(g=v.data,g==="/$"){if(a===0)break;a--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||a++;g=v}while(g)}function pm(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var g=l;switch(l=l.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":pm(g),ut(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}a.removeChild(g)}}function xR(a,l,g,v){for(;a.nodeType===1;){var S=g;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(v){if(!a[Xe])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(N=a.getAttribute("rel"),N==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(N!==S.rel||a.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(N=a.getAttribute("src"),(N!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&N&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var N=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===N)return a}else return a;if(a=Ta(a.nextSibling),a===null)break}return null}function wR(a,l,g){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!g||(a=Ta(a.nextSibling),a===null))return null;return a}function sE(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Ta(a.nextSibling),a===null))return null;return a}function mm(a){return a.data==="$?"||a.data==="$~"}function xm(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function vR(a,l){var g=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||g.readyState!=="loading")l();else{var v=function(){l(),g.removeEventListener("DOMContentLoaded",v)};g.addEventListener("DOMContentLoaded",v),a._reactRetry=v}}function Ta(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var wm=null;function aE(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"||g==="/&"){if(l===0)return Ta(a.nextSibling);l--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||l++}a=a.nextSibling}return null}function oE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(l===0)return a;l--}else g!=="/$"&&g!=="/&"||l++}a=a.previousSibling}return null}function AE(a,l,g){switch(l=Kd(g),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function x0(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);ut(a)}var ba=new Map,lE=new Set;function zd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Jo=ce.d;ce.d={f:yR,r:CR,D:ER,C:BR,L:_R,m:TR,X:SR,S:bR,M:IR};function yR(){var a=Jo.f(),l=Od();return a||l}function CR(a){var l=pt(a);l!==null&&l.tag===5&&l.type==="form"?Ty(l):Jo.r(a)}var Xc=typeof document>"u"?null:document;function cE(a,l,g){var v=Xc;if(v&&typeof l=="string"&&l){var S=Zt(l);S='link[rel="'+a+'"][href="'+S+'"]',typeof g=="string"&&(S+='[crossorigin="'+g+'"]'),lE.has(S)||(lE.add(S),a={rel:a,crossOrigin:g,href:l},v.querySelector(S)===null&&(l=v.createElement("link"),Qi(l,"link",a),Dt(l),v.head.appendChild(l)))}}function ER(a){Jo.D(a),cE("dns-prefetch",a,null)}function BR(a,l){Jo.C(a,l),cE("preconnect",a,l)}function _R(a,l,g){Jo.L(a,l,g);var v=Xc;if(v&&a&&l){var S='link[rel="preload"][as="'+Zt(l)+'"]';l==="image"&&g&&g.imageSrcSet?(S+='[imagesrcset="'+Zt(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(S+='[imagesizes="'+Zt(g.imageSizes)+'"]')):S+='[href="'+Zt(a)+'"]';var N=S;switch(l){case"style":N=qc(a);break;case"script":N=Yc(a)}ba.has(N)||(a=C({rel:"preload",href:l==="image"&&g&&g.imageSrcSet?void 0:a,as:l},g),ba.set(N,a),v.querySelector(S)!==null||l==="style"&&v.querySelector(w0(N))||l==="script"&&v.querySelector(v0(N))||(l=v.createElement("link"),Qi(l,"link",a),Dt(l),v.head.appendChild(l)))}}function TR(a,l){Jo.m(a,l);var g=Xc;if(g&&a){var v=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+Zt(v)+'"][href="'+Zt(a)+'"]',N=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Yc(a)}if(!ba.has(N)&&(a=C({rel:"modulepreload",href:a},l),ba.set(N,a),g.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(v0(N)))return}v=g.createElement("link"),Qi(v,"link",a),Dt(v),g.head.appendChild(v)}}}function bR(a,l,g){Jo.S(a,l,g);var v=Xc;if(v&&a){var S=Ct(v).hoistableStyles,N=qc(a);l=l||"default";var V=S.get(N);if(!V){var se={loading:0,preload:null};if(V=v.querySelector(w0(N)))se.loading=5;else{a=C({rel:"stylesheet",href:a,"data-precedence":l},g),(g=ba.get(N))&&vm(a,g);var Te=V=v.createElement("link");Dt(Te),Qi(Te,"link",a),Te._p=new Promise(function(ze,ot){Te.onload=ze,Te.onerror=ot}),Te.addEventListener("load",function(){se.loading|=1}),Te.addEventListener("error",function(){se.loading|=2}),se.loading|=4,Wd(V,l,v)}V={type:"stylesheet",instance:V,count:1,state:se},S.set(N,V)}}}function SR(a,l){Jo.X(a,l);var g=Xc;if(g&&a){var v=Ct(g).hoistableScripts,S=Yc(a),N=v.get(S);N||(N=g.querySelector(v0(S)),N||(a=C({src:a,async:!0},l),(l=ba.get(S))&&ym(a,l),N=g.createElement("script"),Dt(N),Qi(N,"link",a),g.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(S,N))}}function IR(a,l){Jo.M(a,l);var g=Xc;if(g&&a){var v=Ct(g).hoistableScripts,S=Yc(a),N=v.get(S);N||(N=g.querySelector(v0(S)),N||(a=C({src:a,async:!0,type:"module"},l),(l=ba.get(S))&&ym(a,l),N=g.createElement("script"),Dt(N),Qi(N,"link",a),g.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(S,N))}}function uE(a,l,g,v){var S=(S=xe.current)?zd(S):null;if(!S)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(l=qc(g.href),g=Ct(S).hoistableStyles,v=g.get(l),v||(v={type:"style",instance:null,count:0,state:null},g.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){a=qc(g.href);var N=Ct(S).hoistableStyles,V=N.get(a);if(V||(S=S.ownerDocument||S,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(a,V),(N=S.querySelector(w0(a)))&&!N._p&&(V.instance=N,V.state.loading=5),ba.has(a)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ba.set(a,g),N||NR(S,a,g,V.state))),l&&v===null)throw Error(n(528,""));return V}if(l&&v!==null)throw Error(n(529,""));return null;case"script":return l=g.async,g=g.src,typeof g=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Yc(g),g=Ct(S).hoistableScripts,v=g.get(l),v||(v={type:"script",instance:null,count:0,state:null},g.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function qc(a){return'href="'+Zt(a)+'"'}function w0(a){return'link[rel="stylesheet"]['+a+"]"}function fE(a){return C({},a,{"data-precedence":a.precedence,precedence:null})}function NR(a,l,g,v){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=a.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Qi(l,"link",g),Dt(l),a.head.appendChild(l))}function Yc(a){return'[src="'+Zt(a)+'"]'}function v0(a){return"script[async]"+a}function dE(a,l,g){if(l.count++,l.instance===null)switch(l.type){case"style":var v=a.querySelector('style[data-href~="'+Zt(g.href)+'"]');if(v)return l.instance=v,Dt(v),v;var S=C({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return v=(a.ownerDocument||a).createElement("style"),Dt(v),Qi(v,"style",S),Wd(v,g.precedence,a),l.instance=v;case"stylesheet":S=qc(g.href);var N=a.querySelector(w0(S));if(N)return l.state.loading|=4,l.instance=N,Dt(N),N;v=fE(g),(S=ba.get(S))&&vm(v,S),N=(a.ownerDocument||a).createElement("link"),Dt(N);var V=N;return V._p=new Promise(function(se,Te){V.onload=se,V.onerror=Te}),Qi(N,"link",v),l.state.loading|=4,Wd(N,g.precedence,a),l.instance=N;case"script":return N=Yc(g.src),(S=a.querySelector(v0(N)))?(l.instance=S,Dt(S),S):(v=g,(S=ba.get(N))&&(v=C({},g),ym(v,S)),a=a.ownerDocument||a,S=a.createElement("script"),Dt(S),Qi(S,"link",v),a.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,Wd(v,g.precedence,a));return l.instance}function Wd(a,l,g){for(var v=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,N=S,V=0;V<v.length;V++){var se=v[V];if(se.dataset.precedence===l)N=se;else if(N!==S)break}N?N.parentNode.insertBefore(a,N.nextSibling):(l=g.nodeType===9?g.head:g,l.insertBefore(a,l.firstChild))}function vm(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function ym(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Xd=null;function hE(a,l,g){if(Xd===null){var v=new Map,S=Xd=new Map;S.set(g,v)}else S=Xd,v=S.get(g),v||(v=new Map,S.set(g,v));if(v.has(a))return v;for(v.set(a,null),g=g.getElementsByTagName(a),S=0;S<g.length;S++){var N=g[S];if(!(N[Xe]||N[ue]||a==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var V=N.getAttribute(l)||"";V=a+V;var se=v.get(V);se?se.push(N):v.set(V,[N])}}return v}function gE(a,l,g){a=a.ownerDocument||a,a.head.insertBefore(g,l==="title"?a.querySelector("head > title"):null)}function FR(a,l,g){if(g===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function pE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function RR(a,l,g,v){if(g.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var S=qc(v.href),N=l.querySelector(w0(S));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=qd.bind(a),l.then(a,a)),g.state.loading|=4,g.instance=N,Dt(N);return}N=l.ownerDocument||l,v=fE(v),(S=ba.get(S))&&vm(v,S),N=N.createElement("link"),Dt(N);var V=N;V._p=new Promise(function(se,Te){V.onload=se,V.onerror=Te}),Qi(N,"link",v),g.instance=N}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(g,l),(l=g.state.preload)&&(g.state.loading&3)===0&&(a.count++,g=qd.bind(a),l.addEventListener("load",g),l.addEventListener("error",g))}}var Cm=0;function DR(a,l){return a.stylesheets&&a.count===0&&Jd(a,a.stylesheets),0<a.count||0<a.imgCount?function(g){var v=setTimeout(function(){if(a.stylesheets&&Jd(a,a.stylesheets),a.unsuspend){var N=a.unsuspend;a.unsuspend=null,N()}},6e4+l);0<a.imgBytes&&Cm===0&&(Cm=62500*dR());var S=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Jd(a,a.stylesheets),a.unsuspend)){var N=a.unsuspend;a.unsuspend=null,N()}},(a.imgBytes>Cm?50:800)+l);return a.unsuspend=g,function(){a.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function qd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Yd=null;function Jd(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Yd=new Map,l.forEach(UR,a),Yd=null,qd.call(a))}function UR(a,l){if(!(l.state.loading&4)){var g=Yd.get(a);if(g)var v=g.get(null);else{g=new Map,Yd.set(a,g);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<S.length;N++){var V=S[N];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(g.set(V.dataset.precedence,V),v=V)}v&&g.set(null,v)}S=l.instance,V=S.getAttribute("data-precedence"),N=g.get(V)||v,N===v&&g.set(null,S),g.set(V,S),this.count++,v=qd.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),N?N.parentNode.insertBefore(S,N.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),l.state.loading|=4}}var y0={$$typeof:Q,Provider:null,Consumer:null,_currentValue:He,_currentValue2:He,_threadCount:0};function kR(a,l,g,v,S,N,V,se,Te){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function mE(a,l,g,v,S,N,V,se,Te,ze,ot,ct){return a=new kR(a,l,g,V,Te,ze,ot,ct,se),l=1,N===!0&&(l|=24),N=ta(3,null,null,l),a.current=N,N.stateNode=a,l=tp(),l.refCount++,a.pooledCache=l,l.refCount++,N.memoizedState={element:v,isDehydrated:g,cache:l},sp(N),a}function xE(a){return a?(a=bc,a):bc}function wE(a,l,g,v,S,N){S=xE(S),v.context===null?v.context=S:v.pendingContext=S,v=_A(l),v.payload={element:g},N=N===void 0?null:N,N!==null&&(v.callback=N),g=TA(a,v,l),g!==null&&(js(g,a,l),$u(g,a,l))}function vE(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<l?g:l}}function Em(a,l){vE(a,l),(a=a.alternate)&&vE(a,l)}function yE(a){if(a.tag===13||a.tag===31){var l=Il(a,67108864);l!==null&&js(l,a,67108864),Em(a,67108864)}}function CE(a){if(a.tag===13||a.tag===31){var l=aa();l=kn(l);var g=Il(a,l);g!==null&&js(g,a,l),Em(a,l)}}var Zd=!0;function MR(a,l,g,v){var S=we.T;we.T=null;var N=ce.p;try{ce.p=2,Bm(a,l,g,v)}finally{ce.p=N,we.T=S}}function OR(a,l,g,v){var S=we.T;we.T=null;var N=ce.p;try{ce.p=8,Bm(a,l,g,v)}finally{ce.p=N,we.T=S}}function Bm(a,l,g,v){if(Zd){var S=_m(v);if(S===null)cm(a,l,v,$d,g),BE(a,v);else if(QR(S,a,l,g,v))v.stopPropagation();else if(BE(a,v),l&4&&-1<LR.indexOf(a)){for(;S!==null;){var N=pt(S);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var V=Gr(N.pendingLanes);if(V!==0){var se=N;for(se.pendingLanes|=2,se.entangledLanes|=2;V;){var Te=1<<31-At(V);se.entanglements[1]|=Te,V&=~Te}go(N),(Kr&6)===0&&(kd=Ge()+500,g0(0))}}break;case 31:case 13:se=Il(N,2),se!==null&&js(se,N,2),Od(),Em(N,2)}if(N=_m(v),N===null&&cm(a,l,v,$d,g),N===S)break;S=N}S!==null&&v.stopPropagation()}else cm(a,l,v,null,g)}}function _m(a){return a=mA(a),Tm(a)}var $d=null;function Tm(a){if($d=null,a=ht(a),a!==null){var l=s(a);if(l===null)a=null;else{var g=l.tag;if(g===13){if(a=A(l),a!==null)return a;a=null}else if(g===31){if(a=c(l),a!==null)return a;a=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return $d=a,null}function EE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case Tt:return 2;case Jt:return 8;case fr:case pr:return 32;case Xt:return 268435456;default:return 32}default:return 32}}var bm=!1,OA=null,LA=null,QA=null,C0=new Map,E0=new Map,PA=[],LR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BE(a,l){switch(a){case"focusin":case"focusout":OA=null;break;case"dragenter":case"dragleave":LA=null;break;case"mouseover":case"mouseout":QA=null;break;case"pointerover":case"pointerout":C0.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":E0.delete(l.pointerId)}}function B0(a,l,g,v,S,N){return a===null||a.nativeEvent!==N?(a={blockedOn:l,domEventName:g,eventSystemFlags:v,nativeEvent:N,targetContainers:[S]},l!==null&&(l=pt(l),l!==null&&yE(l)),a):(a.eventSystemFlags|=v,l=a.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),a)}function QR(a,l,g,v,S){switch(l){case"focusin":return OA=B0(OA,a,l,g,v,S),!0;case"dragenter":return LA=B0(LA,a,l,g,v,S),!0;case"mouseover":return QA=B0(QA,a,l,g,v,S),!0;case"pointerover":var N=S.pointerId;return C0.set(N,B0(C0.get(N)||null,a,l,g,v,S)),!0;case"gotpointercapture":return N=S.pointerId,E0.set(N,B0(E0.get(N)||null,a,l,g,v,S)),!0}return!1}function _E(a){var l=ht(a.target);if(l!==null){var g=s(l);if(g!==null){if(l=g.tag,l===13){if(l=A(g),l!==null){a.blockedOn=l,ae(a.priority,function(){CE(g)});return}}else if(l===31){if(l=c(g),l!==null){a.blockedOn=l,ae(a.priority,function(){CE(g)});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function eh(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var g=_m(a.nativeEvent);if(g===null){g=a.nativeEvent;var v=new g.constructor(g.type,g);oo=v,g.target.dispatchEvent(v),oo=null}else return l=pt(g),l!==null&&yE(l),a.blockedOn=g,!1;l.shift()}return!0}function TE(a,l,g){eh(a)&&g.delete(l)}function PR(){bm=!1,OA!==null&&eh(OA)&&(OA=null),LA!==null&&eh(LA)&&(LA=null),QA!==null&&eh(QA)&&(QA=null),C0.forEach(TE),E0.forEach(TE)}function th(a,l){a.blockedOn===l&&(a.blockedOn=null,bm||(bm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PR)))}var rh=null;function bE(a){rh!==a&&(rh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rh===a&&(rh=null);for(var l=0;l<a.length;l+=3){var g=a[l],v=a[l+1],S=a[l+2];if(typeof v!="function"){if(Tm(v||g)===null)continue;break}var N=pt(g);N!==null&&(a.splice(l,3),l-=3,_p(N,{pending:!0,data:S,method:g.method,action:v},v,S))}}))}function Jc(a){function l(Te){return th(Te,a)}OA!==null&&th(OA,a),LA!==null&&th(LA,a),QA!==null&&th(QA,a),C0.forEach(l),E0.forEach(l);for(var g=0;g<PA.length;g++){var v=PA[g];v.blockedOn===a&&(v.blockedOn=null)}for(;0<PA.length&&(g=PA[0],g.blockedOn===null);)_E(g),g.blockedOn===null&&PA.shift();if(g=(a.ownerDocument||a).$$reactFormReplay,g!=null)for(v=0;v<g.length;v+=3){var S=g[v],N=g[v+1],V=S[he]||null;if(typeof N=="function")V||bE(g);else if(V){var se=null;if(N&&N.hasAttribute("formAction")){if(S=N,V=N[he]||null)se=V.formAction;else if(Tm(S)!==null)continue}else se=V.action;typeof se=="function"?g[v+1]=se:(g.splice(v,3),v-=3),bE(g)}}}function SE(){function a(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(V){return S=V})},focusReset:"manual",scroll:"manual"})}function l(){S!==null&&(S(),S=null),v||setTimeout(g,20)}function g(){if(!v&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(g,100),function(){v=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),S!==null&&(S(),S=null)}}}function Sm(a){this._internalRoot=a}nh.prototype.render=Sm.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var g=l.current,v=aa();wE(g,v,a,l,null,null)},nh.prototype.unmount=Sm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;wE(a.current,2,null,a,null,null),Od(),l[Ce]=null}};function nh(a){this._internalRoot=a}nh.prototype.unstable_scheduleHydration=function(a){if(a){var l=re();a={blockedOn:null,target:a,priority:l};for(var g=0;g<PA.length&&l!==0&&l<PA[g].priority;g++);PA.splice(g,0,a),g===0&&_E(a)}};var IE=e.version;if(IE!=="19.2.4")throw Error(n(527,IE,"19.2.4"));ce.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=d(l),a=a!==null?x(a):null,a=a===null?null:a.stateNode,a};var HR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:we,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Je=ih.inject(HR),Ee=ih}catch{}}return T0.createRoot=function(a,l){if(!i(a))throw Error(n(299));var g=!1,v="",S=My,N=Oy,V=Ly;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(V=l.onRecoverableError)),l=mE(a,1,!1,null,null,g,v,null,S,N,V,SE),a[Ce]=l.current,lm(a),new Sm(l)},T0.hydrateRoot=function(a,l,g){if(!i(a))throw Error(n(299));var v=!1,S="",N=My,V=Oy,se=Ly,Te=null;return g!=null&&(g.unstable_strictMode===!0&&(v=!0),g.identifierPrefix!==void 0&&(S=g.identifierPrefix),g.onUncaughtError!==void 0&&(N=g.onUncaughtError),g.onCaughtError!==void 0&&(V=g.onCaughtError),g.onRecoverableError!==void 0&&(se=g.onRecoverableError),g.formState!==void 0&&(Te=g.formState)),l=mE(a,1,!0,l,g??null,v,S,Te,N,V,se,SE),l.context=xE(null),g=l.current,v=aa(),v=kn(v),S=_A(v),S.callback=null,TA(g,S,v),g=v,l.current.lanes=g,ds(l,g),go(l),a[Ce]=l.current,lm(a),new nh(l)},T0.version="19.2.4",T0}var QE;function ZR(){if(QE)return Fm.exports;QE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fm.exports=JR(),Fm.exports}var $R=ZR();const e6=L4($R),t6=({onLoginSuccess:t,settings:e})=>{const[r,n]=Se.useState(""),[i,s]=Se.useState(!1),[A,c]=Se.useState(""),h=d=>{if(d.preventDefault(),c(""),r===e.loginPassword){t({role:"admin",name:e.userName,phone:e.loginPhone,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}});return}const x=e.staffList.find(C=>C.password===r);if(x){t({role:"staff",name:x.name,phone:x.phone,permissions:x.permissions});return}c("   ")};return p.jsx("div",{className:"relative w-full h-screen custom-gradient-bg flex items-center justify-center overflow-hidden",children:p.jsxs("div",{className:"w-full h-full md:max-w-4xl md:h-auto md:flex md:rounded-[3rem] md:overflow-hidden md:shadow-2xl md:bg-[#1a1a1a]",children:[p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-6 pt-12 md:pt-0 md:bg-black/20 md:p-12",children:[p.jsx("h1",{className:"text-white text-3xl md:text-4xl font-bold mb-2",children:"   "}),p.jsx("h2",{className:"text-white text-5xl md:text-6xl font-extrabold tracking-wider",children:"MAMA"}),p.jsx("p",{className:"text-gray-400 mt-4 text-sm font-medium",children:"    "})]}),p.jsxs("div",{className:"bg-[#1a1a1a] rounded-t-[3rem] md:rounded-none w-full px-8 pt-8 pb-12 flex flex-col items-center transition-all duration-500 border-t border-gray-800 md:border-t-0 md:border-r md:w-[450px] md:h-auto h-full mt-auto md:mt-0 justify-center",children:[p.jsx("div",{className:"w-16 h-1.5 bg-gray-500 rounded-full mb-10 opacity-30 md:hidden"}),p.jsx("h3",{className:"text-white text-3xl font-bold mb-10",children:" "}),A&&p.jsx("div",{className:"w-full bg-red-500/10 border border-red-500/30 rounded-xl py-3 px-4 mb-6 text-red-500 text-center text-sm font-bold animate-in fade-in slide-in-from-top-2",children:A}),p.jsxs("form",{onSubmit:h,className:"w-full space-y-6",children:[p.jsxs("div",{className:"input-container relative",children:[p.jsx("label",{className:"input-label",children:" "}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:i?"text":"password",placeholder:"  ",className:"custom-input pl-12",value:r,onChange:d=>n(d.target.value),required:!0}),p.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#57b385] transition-colors",onClick:()=>s(!i),"aria-label":i?"  ":"  ",children:i?p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),p.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),p.jsx("button",{type:"submit",className:"w-full btn-gradient py-4 rounded-2xl text-white text-xl font-bold shadow-lg hover:brightness-110 active:scale-[0.98] transition-all",children:" "})]}),p.jsx("div",{className:"mt-20 text-center",children:p.jsxs("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:["    ",new Date().getFullYear()," MAMA SYSTEMS"]})})]})]})})},Q4=(t,e)=>{const r=window.open("","_blank");if(!r){alert("     ");return}const n=t.items||[];n.reduce((s,A)=>s+A.count,0);const i=`
    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
      <head>
        <title> #${t.id}</title>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
          
          * {
            box-sizing: border-box;
          }

          body {
            font-family: 'Tajawal', sans-serif;
            margin: 0;
            padding: 0;
            background-color: white;
            color: black;
            font-size: 12px;
          }
          
          .receipt {
            max-width: ${e.receiptSize==="58mm"?"58mm":"80mm"};
            margin: 0 auto;
            padding: 10px 20px; /* Added significant side padding */
          }
          
          .header {
            text-align: center;
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 10px;
          }
          
          .logo {
            max-width: 60px;
            max-height: 60px;
            margin-bottom: 5px;
          }
          
          .title {
            font-size: 16px;
            font-weight: 800;
            margin: 5px 0;
          }
          
          .info {
            font-size: 10px;
            margin-bottom: 5px;
          }
          
          .customer-info {
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 5px;
          }
          
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10px;
          }
          
          th {
            text-align: right;
            border-bottom: 1px solid #000;
            font-size: 10px;
            padding: 2px 0;
          }
          
          td {
            text-align: right;
            font-size: 10px;
            padding: 4px 0;
            vertical-align: top;
          }
          
          .col-price { text-align: center; }
          .col-total { text-align: left; }
          
          .totals {
            border-top: 1px dashed #000;
            padding-top: 5px;
            margin-top: 5px;
          }
          
          .row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
            font-weight: bold;
          }
          
          .total-row {
            font-size: 14px;
            font-weight: 900;
            margin-top: 5px;
          }
          
          .footer {
            text-align: center;
            margin-top: 15px;
            font-size: 9px;
            border-top: 1px dashed #000;
            padding-top: 10px;
          }

          @media print {
            body { margin: 0; padding: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="receipt">
          
          <!-- Header -->
          <div class="header">
            ${e.businessLogo?`<img src="${e.businessLogo}" class="logo" />`:""}
            <div class="title">${e.businessName}</div>
            <div class="info">${e.userName}</div>
            <div class="info">: ${new Date().toLocaleString("ar-MA")}</div>
            <div class="info"> : ${t.id}</div>
          </div>

          <!-- Customer -->
          <div class="customer-info">
            <div style="font-weight: bold;">: ${t.name}</div>
            ${t.phone?`<div>: ${t.phone}</div>`:""}
          </div>

          <!-- Items -->
          <table>
            <thead>
              <tr>
                <th width="50%"></th>
                <th width="15%" class="col-price"></th>
                <th width="35%" class="col-total"></th>
              </tr>
            </thead>
            <tbody>
              ${n.map(s=>`
                <tr>
                  <td>${s.productName}</td>
                  <td class="col-price">${s.count}</td>
                  <td class="col-total">${s.total.toFixed(2)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <!-- Totals -->
          <div class="totals">
            <div class="row total-row">
              <span> :</span>
              <span>${t.amount.toFixed(2)} .</span>
            </div>
            <div class="row">
              <span> (${t.method==="direct"?"":""}):</span>
              <span>${t.paidAmount.toFixed(2)} .</span>
            </div>
            ${t.remainingAmount>0?`
            <div class="row" style="color: black;">
              <span> ():</span>
              <span>${t.remainingAmount.toFixed(2)} .</span>
            </div>
            `:""}
          </div>

          <!-- Footer -->
          <div class="footer">
            <p> </p>
            <p>Thank you for your visit</p>
            ${e.showBarcode?`
              <div style="margin-top: 10px;">
                <svg id="barcode"></svg>
              </div>
              <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"><\/script>
              <script>
                try {
                  JsBarcode("#barcode", "${t.id}", {
                    format: "CODE128",
                    width: 1.5,
                    height: 40,
                    displayValue: true,
                    fontSize: 12
                  });
                } catch(e) {}
              <\/script>
            `:""}
          </div>
        </div>

        <script>
          // Print automatically when loaded
          window.onload = function() {
            setTimeout(function() {
              window.print();
              // Optional: window.close();
            }, 500);
          }
        <\/script>
      </body>
    </html>
  `;r.document.write(i),r.document.close()};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nx=function(t,e){return Nx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Nx(t,e)};function so(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Nx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fx=function(){return Fx=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Fx.apply(this,arguments)};function ws(t,e,r,n){function i(s){return s instanceof r?s:new r(function(A){A(s)})}return new(r||(r=Promise))(function(s,A){function c(x){try{d(n.next(x))}catch(C){A(C)}}function h(x){try{d(n.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(c,h)}d((n=n.apply(t,[])).next())})}function rs(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,A;return A={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function c(d){return function(x){return h([d,x])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(x){d=[6,x],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function ah(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var aA=(function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),rg=function(t,e){return aA.fromClientRect(t,e.getBoundingClientRect())},r6=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new aA(0,0,n,i)},ng=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},$n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var A=t[i];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},PE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var oh=0;oh<PE.length;oh++)n6[PE.charCodeAt(oh)]=oh;var HE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ah=0;Ah<HE.length;Ah++)U0[HE.charCodeAt(Ah)]=Ah;var i6=function(t){var e=t.length*.75,r=t.length,n,i=0,s,A,c,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),x=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)s=U0[t.charCodeAt(n)],A=U0[t.charCodeAt(n+1)],c=U0[t.charCodeAt(n+2)],h=U0[t.charCodeAt(n+3)],x[i++]=s<<2|A>>4,x[i++]=(A&15)<<4|c>>2,x[i++]=(c&3)<<6|h&63;return d},s6=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},a6=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Jl=5,Y2=11,km=2,o6=Y2-Jl,P4=65536>>Jl,A6=1<<Jl,Mm=A6-1,l6=1024>>Jl,c6=P4+l6,u6=c6,f6=32,d6=u6+f6,h6=65536>>Y2,g6=1<<o6,p6=g6-1,VE=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},m6=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},x6=function(t,e){var r=i6(t),n=Array.isArray(r)?a6(r):new Uint32Array(r),i=Array.isArray(r)?s6(r):new Uint16Array(r),s=24,A=VE(i,s/2,n[4]/2),c=n[5]===2?VE(i,(s+n[4])/2):m6(n,Math.ceil((s+n[4])/4));return new w6(n[0],n[1],n[2],n[3],A,c)},w6=(function(){function t(e,r,n,i,s,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Jl],r=(r<<km)+(e&Mm),this.data[r];if(e<=65535)return r=this.index[P4+(e-55296>>Jl)],r=(r<<km)+(e&Mm),this.data[r];if(e<this.highStart)return r=d6-h6+(e>>Y2),r=this.index[r],r+=e>>Jl&p6,r=this.index[r],r=(r<<km)+(e&Mm),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),jE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lh=0;lh<jE.length;lh++)v6[jE.charCodeAt(lh)]=lh;var y6="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",GE=50,C6=1,H4=2,V4=3,E6=4,B6=5,KE=7,j4=8,zE=9,qA=10,Rx=11,WE=12,Dx=13,_6=14,k0=15,Ux=16,ch=17,b0=18,T6=19,XE=20,kx=21,S0=22,Om=23,Zc=24,Aa=25,M0=26,O0=27,$c=28,b6=29,Kl=30,S6=31,uh=32,fh=33,Mx=34,Ox=35,Lx=36,mf=37,Qx=38,t1=39,r1=40,Lm=41,G4=42,I6=43,N6=[9001,65288],K4="!",Tr="",dh="",Px=x6(y6),Zo=[Kl,Lx],Hx=[C6,H4,V4,B6],z4=[qA,j4],qE=[O0,M0],F6=Hx.concat(z4),YE=[Qx,t1,r1,Mx,Ox],R6=[k0,Dx],D6=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,A){var c=Px.get(s);if(c>GE?(i.push(!0),c-=GE):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(A),r.push(Ux);if(c===E6||c===Rx){if(A===0)return n.push(A),r.push(Kl);var h=r[A-1];return F6.indexOf(h)===-1?(n.push(n[A-1]),r.push(h)):(n.push(A),r.push(Kl))}if(n.push(A),c===S6)return r.push(e==="strict"?kx:mf);if(c===G4||c===b6)return r.push(Kl);if(c===I6)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(mf):r.push(Kl);r.push(c)}),[n,r,i]},Qm=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var A=n[s];if(A===e)return!0;if(A!==qA)break}if(i===qA)for(var s=r;s>0;){s--;var c=n[s];if(Array.isArray(t)?t.indexOf(c)!==-1:t===c)for(var h=r;h<=n.length;){h++;var A=n[h];if(A===e)return!0;if(A!==qA)break}if(c!==qA)break}return!1},JE=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===qA)r--;else return n}return 0},U6=function(t,e,r,n,i){if(r[n]===0)return Tr;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Tr;var A=s-1,c=s+1,h=e[s],d=A>=0?e[A]:0,x=e[c];if(h===H4&&x===V4)return Tr;if(Hx.indexOf(h)!==-1)return K4;if(Hx.indexOf(x)!==-1||z4.indexOf(x)!==-1)return Tr;if(JE(s,e)===j4)return dh;if(Px.get(t[s])===Rx||(h===uh||h===fh)&&Px.get(t[c])===Rx||h===KE||x===KE||h===zE||[qA,Dx,k0].indexOf(h)===-1&&x===zE||[ch,b0,T6,Zc,$c].indexOf(x)!==-1||JE(s,e)===S0||Qm(Om,S0,s,e)||Qm([ch,b0],kx,s,e)||Qm(WE,WE,s,e))return Tr;if(h===qA)return dh;if(h===Om||x===Om)return Tr;if(x===Ux||h===Ux)return dh;if([Dx,k0,kx].indexOf(x)!==-1||h===_6||d===Lx&&R6.indexOf(h)!==-1||h===$c&&x===Lx||x===XE||Zo.indexOf(x)!==-1&&h===Aa||Zo.indexOf(h)!==-1&&x===Aa||h===O0&&[mf,uh,fh].indexOf(x)!==-1||[mf,uh,fh].indexOf(h)!==-1&&x===M0||Zo.indexOf(h)!==-1&&qE.indexOf(x)!==-1||qE.indexOf(h)!==-1&&Zo.indexOf(x)!==-1||[O0,M0].indexOf(h)!==-1&&(x===Aa||[S0,k0].indexOf(x)!==-1&&e[c+1]===Aa)||[S0,k0].indexOf(h)!==-1&&x===Aa||h===Aa&&[Aa,$c,Zc].indexOf(x)!==-1)return Tr;if([Aa,$c,Zc,ch,b0].indexOf(x)!==-1)for(var C=s;C>=0;){var B=e[C];if(B===Aa)return Tr;if([$c,Zc].indexOf(B)!==-1)C--;else break}if([O0,M0].indexOf(x)!==-1)for(var C=[ch,b0].indexOf(h)!==-1?A:s;C>=0;){var B=e[C];if(B===Aa)return Tr;if([$c,Zc].indexOf(B)!==-1)C--;else break}if(Qx===h&&[Qx,t1,Mx,Ox].indexOf(x)!==-1||[t1,Mx].indexOf(h)!==-1&&[t1,r1].indexOf(x)!==-1||[r1,Ox].indexOf(h)!==-1&&x===r1||YE.indexOf(h)!==-1&&[XE,M0].indexOf(x)!==-1||YE.indexOf(x)!==-1&&h===O0||Zo.indexOf(h)!==-1&&Zo.indexOf(x)!==-1||h===Zc&&Zo.indexOf(x)!==-1||Zo.concat(Aa).indexOf(h)!==-1&&x===S0&&N6.indexOf(t[c])===-1||Zo.concat(Aa).indexOf(x)!==-1&&h===b0)return Tr;if(h===Lm&&x===Lm){for(var F=r[s],D=1;F>0&&(F--,e[F]===Lm);)D++;if(D%2!==0)return Tr}return h===uh&&x===fh?Tr:dh},k6=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=D6(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(c){return[Aa,Kl,G4].indexOf(c)!==-1?mf:c}));var A=e.wordBreak==="keep-all"?s.map(function(c,h){return c&&t[h]>=19968&&t[h]<=40959}):void 0;return[n,i,A]},M6=(function(){function t(e,r,n,i){this.codePoints=e,this.required=r===K4,this.start=n,this.end=i}return t.prototype.slice=function(){return $n.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),O6=function(t,e){var r=ng(t),n=k6(r,e),i=n[0],s=n[1],A=n[2],c=r.length,h=0,d=0;return{next:function(){if(d>=c)return{done:!0,value:null};for(var x=Tr;d<c&&(x=U6(r,s,i,++d,A))===Tr;);if(x!==Tr||d===c){var C=new M6(r,x,h,d);return h=d,{value:C,done:!1}}return{done:!0,value:null}}}},L6=1,Q6=2,Of=4,ZE=8,f1=10,$E=47,J0=92,P6=9,H6=32,hh=34,I0=61,V6=35,j6=36,G6=37,gh=39,ph=40,N0=41,K6=95,zs=45,z6=33,W6=60,X6=62,q6=64,Y6=91,J6=93,Z6=61,$6=123,mh=63,eD=125,eB=124,tD=126,rD=128,tB=65533,Pm=42,Wl=43,nD=44,iD=58,sD=59,xf=46,aD=0,oD=8,AD=11,lD=14,cD=31,uD=127,po=-1,W4=48,X4=97,q4=101,fD=102,dD=117,hD=122,Y4=65,J4=69,Z4=70,gD=85,pD=90,is=function(t){return t>=W4&&t<=57},mD=function(t){return t>=55296&&t<=57343},eu=function(t){return is(t)||t>=Y4&&t<=Z4||t>=X4&&t<=fD},xD=function(t){return t>=X4&&t<=hD},wD=function(t){return t>=Y4&&t<=pD},vD=function(t){return xD(t)||wD(t)},yD=function(t){return t>=rD},xh=function(t){return t===f1||t===P6||t===H6},d1=function(t){return vD(t)||yD(t)||t===K6},rB=function(t){return d1(t)||is(t)||t===zs},CD=function(t){return t>=aD&&t<=oD||t===AD||t>=lD&&t<=cD||t===uD},WA=function(t,e){return t!==J0?!1:e!==f1},wh=function(t,e,r){return t===zs?d1(e)||WA(e,r):d1(t)?!0:!!(t===J0&&WA(t,e))},Hm=function(t,e,r){return t===Wl||t===zs?is(e)?!0:e===xf&&is(r):is(t===xf?e:t)},ED=function(t){var e=0,r=1;(t[e]===Wl||t[e]===zs)&&(t[e]===zs&&(r=-1),e++);for(var n=[];is(t[e]);)n.push(t[e++]);var i=n.length?parseInt($n.apply(void 0,n),10):0;t[e]===xf&&e++;for(var s=[];is(t[e]);)s.push(t[e++]);var A=s.length,c=A?parseInt($n.apply(void 0,s),10):0;(t[e]===J4||t[e]===q4)&&e++;var h=1;(t[e]===Wl||t[e]===zs)&&(t[e]===zs&&(h=-1),e++);for(var d=[];is(t[e]);)d.push(t[e++]);var x=d.length?parseInt($n.apply(void 0,d),10):0;return r*(i+c*Math.pow(10,-A))*Math.pow(10,h*x)},BD={type:2},_D={type:3},TD={type:4},bD={type:13},SD={type:8},ID={type:21},ND={type:9},FD={type:10},RD={type:11},DD={type:12},UD={type:14},vh={type:23},kD={type:1},MD={type:25},OD={type:24},LD={type:26},QD={type:27},PD={type:28},HD={type:29},VD={type:31},Vx={type:32},$4=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(ng(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==Vx;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case hh:return this.consumeStringToken(hh);case V6:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(rB(r)||WA(n,i)){var s=wh(r,n,i)?Q6:L6,A=this.consumeName();return{type:5,value:A,flags:s}}break;case j6:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),bD;break;case gh:return this.consumeStringToken(gh);case ph:return BD;case N0:return _D;case Pm:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),UD;break;case Wl:if(Hm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case nD:return TD;case zs:var c=e,h=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Hm(c,h,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(wh(c,h,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(h===zs&&d===X6)return this.consumeCodePoint(),this.consumeCodePoint(),OD;break;case xf:if(Hm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case $E:if(this.peekCodePoint(0)===Pm)for(this.consumeCodePoint();;){var x=this.consumeCodePoint();if(x===Pm&&(x=this.consumeCodePoint(),x===$E))return this.consumeToken();if(x===po)return this.consumeToken()}break;case iD:return LD;case sD:return QD;case W6:if(this.peekCodePoint(0)===z6&&this.peekCodePoint(1)===zs&&this.peekCodePoint(2)===zs)return this.consumeCodePoint(),this.consumeCodePoint(),MD;break;case q6:var C=this.peekCodePoint(0),B=this.peekCodePoint(1),F=this.peekCodePoint(2);if(wh(C,B,F)){var A=this.consumeName();return{type:7,value:A}}break;case Y6:return PD;case J0:if(WA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case J6:return HD;case Z6:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),SD;break;case $6:return RD;case eD:return DD;case dD:case gD:var D=this.peekCodePoint(0),R=this.peekCodePoint(1);return D===Wl&&(eu(R)||R===mh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case eB:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),ND;if(this.peekCodePoint(0)===eB)return this.consumeCodePoint(),ID;break;case tD:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),FD;break;case po:return Vx}return xh(e)?(this.consumeWhiteSpace(),VD):is(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):d1(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:$n(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();eu(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===mh&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt($n.apply(void 0,e.map(function(h){return h===mh?W4:h})),16),s=parseInt($n.apply(void 0,e.map(function(h){return h===mh?Z4:h})),16);return{type:30,start:i,end:s}}var A=parseInt($n.apply(void 0,e),16);if(this.peekCodePoint(0)===zs&&eu(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var c=[];eu(r)&&c.length<6;)c.push(r),r=this.consumeCodePoint();var s=parseInt($n.apply(void 0,c),16);return{type:30,start:A,end:s}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ph?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ph?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===po)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===gh||r===hh){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===po||this.peekCodePoint(0)===N0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),vh)}for(;;){var i=this.consumeCodePoint();if(i===po||i===N0)return{type:22,value:$n.apply(void 0,e)};if(xh(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===po||this.peekCodePoint(0)===N0?(this.consumeCodePoint(),{type:22,value:$n.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vh);if(i===hh||i===gh||i===ph||CD(i))return this.consumeBadUrlRemnants(),vh;if(i===J0)if(WA(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),vh;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;xh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===N0||e===po)return;WA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=$n.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===po||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===f1)return this._value.splice(0,n),kD;if(i===J0){var s=this._value[n+1];s!==po&&s!==void 0&&(s===f1?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):WA(i,s)&&(r+=this.consumeStringSlice(n),r+=$n(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Of,n=this.peekCodePoint(0);for((n===Wl||n===zs)&&e.push(this.consumeCodePoint());is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===xf&&is(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=ZE;is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===J4||n===q4)&&((i===Wl||i===zs)&&is(s)||is(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=ZE;is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[ED(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),A=this.peekCodePoint(2);if(wh(i,s,A)){var c=this.consumeName();return{type:15,number:r,flags:n,unit:c}}return i===G6?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(eu(e)){for(var r=$n(e);eu(this.peekCodePoint(0))&&r.length<6;)r+=$n(this.consumeCodePoint());xh(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||mD(n)||n>1114111?tB:n}return e===po?tB:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(rB(r))e+=$n(r);else if(WA(r,this.peekCodePoint(0)))e+=$n(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t})(),eS=(function(){function t(e){this._tokens=e}return t.create=function(e){var r=new $4;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||GD(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Vx:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),Lf=function(t){return t.type===15},Uu=function(t){return t.type===17},cn=function(t){return t.type===20},jD=function(t){return t.type===0},jx=function(t,e){return cn(t)&&t.value===e},tS=function(t){return t.type!==31},Bu=function(t){return t.type!==31&&t.type!==4},Bo=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},GD=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},ll=function(t){return t.type===17||t.type===15},fi=function(t){return t.type===16||ll(t)},rS=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Gi={type:17,number:0,flags:Of},J2={type:16,number:50,flags:Of},YA={type:16,number:100,flags:Of},L0=function(t,e,r){var n=t[0],i=t[1];return[mn(n,e),mn(typeof i<"u"?i:n,r)]},mn=function(t,e){if(t.type===16)return t.number/100*e;if(Lf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},nS="deg",iS="grad",sS="rad",aS="turn",ig={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case nS:return Math.PI*e.number/180;case iS:return Math.PI/200*e.number;case sS:return e.number;case aS:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},oS=function(t){return t.type===15&&(t.unit===nS||t.unit===iS||t.unit===sS||t.unit===aS)},AS=function(t){var e=t.filter(cn).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Gi,Gi];case"to top":case"bottom":return Da(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Gi,YA];case"to right":case"left":return Da(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[YA,YA];case"to bottom":case"top":return Da(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[YA,Gi];case"to left":case"right":return Da(270)}return 0},Da=function(t){return Math.PI*t/180},rl={name:"color",parse:function(t,e){if(e.type===18){var r=KD[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return JA(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),A=e.value.substring(3,4);return JA(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(A+A,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return JA(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),A=e.value.substring(6,8);return JA(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(A,16)/255)}}if(e.type===20){var c=nA[e.value.toUpperCase()];if(typeof c<"u")return c}return nA.TRANSPARENT}},nl=function(t){return(255&t)===0},bi=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},JA=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},nB=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},iB=function(t,e){var r=e.filter(Bu);if(r.length===3){var n=r.map(nB),i=n[0],s=n[1],A=n[2];return JA(i,s,A,1)}if(r.length===4){var c=r.map(nB),i=c[0],s=c[1],A=c[2],h=c[3];return JA(i,s,A,h)}return 0};function Vm(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var sB=function(t,e){var r=e.filter(Bu),n=r[0],i=r[1],s=r[2],A=r[3],c=(n.type===17?Da(n.number):ig.parse(t,n))/(Math.PI*2),h=fi(i)?i.number/100:0,d=fi(s)?s.number/100:0,x=typeof A<"u"&&fi(A)?mn(A,1):1;if(h===0)return JA(d*255,d*255,d*255,1);var C=d<=.5?d*(h+1):d+h-d*h,B=d*2-C,F=Vm(B,C,c+1/3),D=Vm(B,C,c),R=Vm(B,C,c-1/3);return JA(F*255,D*255,R*255,x)},KD={hsl:sB,hsla:sB,rgb:iB,rgba:iB},Z0=function(t,e){return rl.parse(t,eS.create(e).parseComponentValue())},nA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zD={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(cn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},WD={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},sg=function(t,e){var r=rl.parse(t,e[0]),n=e[1];return n&&fi(n)?{color:r,stop:n}:{color:r,stop:null}},aB=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Gi),n.stop===null&&(n.stop=YA);for(var i=[],s=0,A=0;A<t.length;A++){var c=t[A].stop;if(c!==null){var h=mn(c,e);h>s?i.push(h):i.push(s),s=h}else i.push(null)}for(var d=null,A=0;A<i.length;A++){var x=i[A];if(x===null)d===null&&(d=A);else if(d!==null){for(var C=A-d,B=i[d-1],F=(x-B)/(C+1),D=1;D<=C;D++)i[d+D-1]=F*D;d=null}}return t.map(function(R,k){var j=R.color;return{color:j,stop:Math.max(Math.min(1,i[k]/e),0)}})},XD=function(t,e,r){var n=e/2,i=r/2,s=mn(t[0],e)-n,A=i-mn(t[1],r);return(Math.atan2(A,s)+Math.PI*2)%(Math.PI*2)},qD=function(t,e,r){var n=typeof t=="number"?t:XD(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,A=r/2,c=i/2,h=Math.sin(n-Math.PI/2)*c,d=Math.cos(n-Math.PI/2)*c;return[i,s-d,s+d,A-h,A+h]},Ja=function(t,e){return Math.sqrt(t*t+e*e)},oB=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(A,c){var h=c[0],d=c[1],x=Ja(r-h,n-d);return(i?x<A.optimumDistance:x>A.optimumDistance)?{optimumCorner:c,optimumDistance:x}:A},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},YD=function(t,e,r,n,i){var s=0,A=0;switch(t.size){case 0:t.shape===0?s=A=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),A=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=A=Math.min(Ja(e,r),Ja(e,r-i),Ja(e-n,r),Ja(e-n,r-i));else if(t.shape===1){var c=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),h=oB(n,i,e,r,!0),d=h[0],x=h[1];s=Ja(d-e,(x-r)/c),A=c*s}break;case 1:t.shape===0?s=A=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),A=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=A=Math.max(Ja(e,r),Ja(e,r-i),Ja(e-n,r),Ja(e-n,r-i));else if(t.shape===1){var c=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),C=oB(n,i,e,r,!1),d=C[0],x=C[1];s=Ja(d-e,(x-r)/c),A=c*s}break}return Array.isArray(t.size)&&(s=mn(t.size[0],n),A=t.size.length===2?mn(t.size[1],i):s),[s,A]},JD=function(t,e){var r=Da(180),n=[];return Bo(e).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&A.value==="to"){r=AS(i);return}else if(oS(A)){r=ig.parse(t,A);return}}var c=sg(t,i);n.push(c)}),{angle:r,stops:n,type:1}},yh=function(t,e){var r=Da(180),n=[];return Bo(e).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){r=AS(i);return}else if(oS(A)){r=(ig.parse(t,A)+Da(270))%Da(360);return}}var c=sg(t,i);n.push(c)}),{angle:r,stops:n,type:1}},ZD=function(t,e){var r=Da(180),n=[],i=1,s=0,A=3,c=[];return Bo(e).forEach(function(h,d){var x=h[0];if(d===0){if(cn(x)&&x.value==="linear"){i=1;return}else if(cn(x)&&x.value==="radial"){i=2;return}}if(x.type===18){if(x.name==="from"){var C=rl.parse(t,x.values[0]);n.push({stop:Gi,color:C})}else if(x.name==="to"){var C=rl.parse(t,x.values[0]);n.push({stop:YA,color:C})}else if(x.name==="color-stop"){var B=x.values.filter(Bu);if(B.length===2){var C=rl.parse(t,B[1]),F=B[0];Uu(F)&&n.push({stop:{type:16,number:F.number*100,flags:F.flags},color:C})}}}}),i===1?{angle:(r+Da(180))%Da(360),stops:n,type:i}:{size:A,shape:s,stops:n,position:c,type:i}},lS="closest-side",cS="farthest-side",uS="closest-corner",fS="farthest-corner",dS="circle",hS="ellipse",gS="cover",pS="contain",$D=function(t,e){var r=0,n=3,i=[],s=[];return Bo(e).forEach(function(A,c){var h=!0;if(c===0){var d=!1;h=A.reduce(function(C,B){if(d)if(cn(B))switch(B.value){case"center":return s.push(J2),C;case"top":case"left":return s.push(Gi),C;case"right":case"bottom":return s.push(YA),C}else(fi(B)||ll(B))&&s.push(B);else if(cn(B))switch(B.value){case dS:return r=0,!1;case hS:return r=1,!1;case"at":return d=!0,!1;case lS:return n=0,!1;case gS:case cS:return n=1,!1;case pS:case uS:return n=2,!1;case fS:return n=3,!1}else if(ll(B)||fi(B))return Array.isArray(n)||(n=[]),n.push(B),!1;return C},h)}if(h){var x=sg(t,A);i.push(x)}}),{size:n,shape:r,stops:i,position:s,type:2}},Ch=function(t,e){var r=0,n=3,i=[],s=[];return Bo(e).forEach(function(A,c){var h=!0;if(c===0?h=A.reduce(function(x,C){if(cn(C))switch(C.value){case"center":return s.push(J2),!1;case"top":case"left":return s.push(Gi),!1;case"right":case"bottom":return s.push(YA),!1}else if(fi(C)||ll(C))return s.push(C),!1;return x},h):c===1&&(h=A.reduce(function(x,C){if(cn(C))switch(C.value){case dS:return r=0,!1;case hS:return r=1,!1;case pS:case lS:return n=0,!1;case cS:return n=1,!1;case uS:return n=2,!1;case gS:case fS:return n=3,!1}else if(ll(C)||fi(C))return Array.isArray(n)||(n=[]),n.push(C),!1;return x},h)),h){var d=sg(t,A);i.push(d)}}),{size:n,shape:r,stops:i,position:s,type:2}},e5=function(t){return t.type===1},t5=function(t){return t.type===2},Z2={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=mS[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function r5(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!mS[t.name])}var mS={"linear-gradient":JD,"-moz-linear-gradient":yh,"-ms-linear-gradient":yh,"-o-linear-gradient":yh,"-webkit-linear-gradient":yh,"radial-gradient":$D,"-moz-radial-gradient":Ch,"-ms-radial-gradient":Ch,"-o-radial-gradient":Ch,"-webkit-radial-gradient":Ch,"-webkit-gradient":ZD},n5={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Bu(n)&&r5(n)}).map(function(n){return Z2.parse(t,n)})}},i5={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(cn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},s5={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Bo(e).map(function(r){return r.filter(fi)}).map(rS)}},a5={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Bo(e).map(function(r){return r.filter(cn).map(function(n){return n.value}).join(" ")}).map(o5)}},o5=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},mu;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(mu||(mu={}));var A5={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Bo(e).map(function(r){return r.filter(l5)})}},l5=function(t){return cn(t)||fi(t)},ag=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},c5=ag("top"),u5=ag("right"),f5=ag("bottom"),d5=ag("left"),og=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return rS(r.filter(fi))}}},h5=og("top-left"),g5=og("top-right"),p5=og("bottom-right"),m5=og("bottom-left"),Ag=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},x5=Ag("top"),w5=Ag("right"),v5=Ag("bottom"),y5=Ag("left"),lg=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Lf(r)?r.number:0}}},C5=lg("top"),E5=lg("right"),B5=lg("bottom"),_5=lg("left"),T5={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},b5={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},S5={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(cn).reduce(function(r,n){return r|I5(n.value)},0)}},I5=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},N5={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},F5={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},h1;(function(t){t.NORMAL="normal",t.STRICT="strict"})(h1||(h1={}));var R5={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return h1.STRICT;case"normal":default:return h1.NORMAL}}},D5={name:"line-height",initialValue:"normal",prefix:!1,type:4},AB=function(t,e){return cn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:fi(t)?mn(t,e):e},U5={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Z2.parse(t,e)}},k5={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Gx={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},cg=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},M5=cg("top"),O5=cg("right"),L5=cg("bottom"),Q5=cg("left"),P5={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(cn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},H5={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},ug=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},V5=ug("top"),j5=ug("right"),G5=ug("bottom"),K5=ug("left"),z5={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},W5={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},X5={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&jx(e[0],"none")?[]:Bo(e).map(function(r){for(var n={color:nA.TRANSPARENT,offsetX:Gi,offsetY:Gi,blur:Gi},i=0,s=0;s<r.length;s++){var A=r[s];ll(A)?(i===0?n.offsetX=A:i===1?n.offsetY=A:n.blur=A,i++):n.color=rl.parse(t,A)}return n})}},q5={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Y5={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=$5[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},J5=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},Z5=function(t){var e=t.filter(function(h){return h.type===17}).map(function(h){return h.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],c=e[13];return e[14],e[15],e.length===16?[r,n,i,s,A,c]:null},$5={matrix:J5,matrix3d:Z5},lB={type:16,number:50,flags:Of},eU=[lB,lB],tU={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(fi);return r.length!==2?eU:[r[0],r[1]]}},rU={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},$0;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})($0||($0={}));var nU={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return $0.BREAK_ALL;case"keep-all":return $0.KEEP_ALL;case"normal":default:return $0.NORMAL}}},iU={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Uu(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},xS={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},sU={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Uu(e)?e.number:1}},aU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},oU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(cn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},AU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},lU={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},cU={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Uu(e))return e.number;if(cn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},uU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(cn).map(function(r){return r.value})}},fU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},xi=function(t,e){return(t&e)!==0},dU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},hU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(tS),s=0;s<i.length;s++){var A=i[s],c=i[s+1];if(A.type===20){var h=c&&Uu(c)?c.number:1;n.push({counter:A.value,increment:h})}}return n}},gU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(tS),i=0;i<n.length;i++){var s=n[i],A=n[i+1];if(cn(s)&&s.value!=="none"){var c=A&&Uu(A)?A.number:0;r.push({counter:s.value,reset:c})}}return r}},pU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Lf).map(function(r){return xS.parse(t,r)})}},mU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(jD);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var A=i[s].value,c=i[s+1].value;n.push({open:A,close:c})}return n}},cB=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},xU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&jx(e[0],"none")?[]:Bo(e).map(function(r){for(var n={color:255,offsetX:Gi,offsetY:Gi,blur:Gi,spread:Gi,inset:!1},i=0,s=0;s<r.length;s++){var A=r[s];jx(A,"inset")?n.inset=!0:ll(A)?(i===0?n.offsetX=A:i===1?n.offsetY=A:i===2?n.blur=A:n.spread=A,i++):n.color=rl.parse(t,A)}return n})}},wU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(cn).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},vU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},yU={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Lf(e)?e.number:0}},CU=(function(){function t(e,r){var n,i;this.animationDuration=Ut(e,pU,r.animationDuration),this.backgroundClip=Ut(e,zD,r.backgroundClip),this.backgroundColor=Ut(e,WD,r.backgroundColor),this.backgroundImage=Ut(e,n5,r.backgroundImage),this.backgroundOrigin=Ut(e,i5,r.backgroundOrigin),this.backgroundPosition=Ut(e,s5,r.backgroundPosition),this.backgroundRepeat=Ut(e,a5,r.backgroundRepeat),this.backgroundSize=Ut(e,A5,r.backgroundSize),this.borderTopColor=Ut(e,c5,r.borderTopColor),this.borderRightColor=Ut(e,u5,r.borderRightColor),this.borderBottomColor=Ut(e,f5,r.borderBottomColor),this.borderLeftColor=Ut(e,d5,r.borderLeftColor),this.borderTopLeftRadius=Ut(e,h5,r.borderTopLeftRadius),this.borderTopRightRadius=Ut(e,g5,r.borderTopRightRadius),this.borderBottomRightRadius=Ut(e,p5,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ut(e,m5,r.borderBottomLeftRadius),this.borderTopStyle=Ut(e,x5,r.borderTopStyle),this.borderRightStyle=Ut(e,w5,r.borderRightStyle),this.borderBottomStyle=Ut(e,v5,r.borderBottomStyle),this.borderLeftStyle=Ut(e,y5,r.borderLeftStyle),this.borderTopWidth=Ut(e,C5,r.borderTopWidth),this.borderRightWidth=Ut(e,E5,r.borderRightWidth),this.borderBottomWidth=Ut(e,B5,r.borderBottomWidth),this.borderLeftWidth=Ut(e,_5,r.borderLeftWidth),this.boxShadow=Ut(e,xU,r.boxShadow),this.color=Ut(e,T5,r.color),this.direction=Ut(e,b5,r.direction),this.display=Ut(e,S5,r.display),this.float=Ut(e,N5,r.cssFloat),this.fontFamily=Ut(e,AU,r.fontFamily),this.fontSize=Ut(e,lU,r.fontSize),this.fontStyle=Ut(e,fU,r.fontStyle),this.fontVariant=Ut(e,uU,r.fontVariant),this.fontWeight=Ut(e,cU,r.fontWeight),this.letterSpacing=Ut(e,F5,r.letterSpacing),this.lineBreak=Ut(e,R5,r.lineBreak),this.lineHeight=Ut(e,D5,r.lineHeight),this.listStyleImage=Ut(e,U5,r.listStyleImage),this.listStylePosition=Ut(e,k5,r.listStylePosition),this.listStyleType=Ut(e,Gx,r.listStyleType),this.marginTop=Ut(e,M5,r.marginTop),this.marginRight=Ut(e,O5,r.marginRight),this.marginBottom=Ut(e,L5,r.marginBottom),this.marginLeft=Ut(e,Q5,r.marginLeft),this.opacity=Ut(e,sU,r.opacity);var s=Ut(e,P5,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Ut(e,H5,r.overflowWrap),this.paddingTop=Ut(e,V5,r.paddingTop),this.paddingRight=Ut(e,j5,r.paddingRight),this.paddingBottom=Ut(e,G5,r.paddingBottom),this.paddingLeft=Ut(e,K5,r.paddingLeft),this.paintOrder=Ut(e,wU,r.paintOrder),this.position=Ut(e,W5,r.position),this.textAlign=Ut(e,z5,r.textAlign),this.textDecorationColor=Ut(e,aU,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Ut(e,oU,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Ut(e,X5,r.textShadow),this.textTransform=Ut(e,q5,r.textTransform),this.transform=Ut(e,Y5,r.transform),this.transformOrigin=Ut(e,tU,r.transformOrigin),this.visibility=Ut(e,rU,r.visibility),this.webkitTextStrokeColor=Ut(e,vU,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ut(e,yU,r.webkitTextStrokeWidth),this.wordBreak=Ut(e,nU,r.wordBreak),this.zIndex=Ut(e,iU,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return nl(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return xi(this.display,4)||xi(this.display,33554432)||xi(this.display,268435456)||xi(this.display,536870912)||xi(this.display,67108864)||xi(this.display,134217728)},t})(),EU=(function(){function t(e,r){this.content=Ut(e,dU,r.content),this.quotes=Ut(e,mU,r.quotes)}return t})(),uB=(function(){function t(e,r){this.counterIncrement=Ut(e,hU,r.counterIncrement),this.counterReset=Ut(e,gU,r.counterReset)}return t})(),Ut=function(t,e,r){var n=new $4,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new eS(n.read());switch(e.type){case 2:var A=s.parseComponentValue();return e.parse(t,cn(A)?A.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return ig.parse(t,s.parseComponentValue());case"color":return rl.parse(t,s.parseComponentValue());case"image":return Z2.parse(t,s.parseComponentValue());case"length":var c=s.parseComponentValue();return ll(c)?c:Gi;case"length-percentage":var h=s.parseComponentValue();return fi(h)?h:Gi;case"time":return xS.parse(t,s.parseComponentValue())}break}},BU="data-html2canvas-debug",_U=function(t){var e=t.getAttribute(BU);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Kx=function(t,e){var r=_U(t);return r===1||e===r},_o=(function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Kx(r,3))debugger;this.styles=new CU(e,window.getComputedStyle(r,null)),Xx(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=rg(this.context,r),Kx(r,4)&&(this.flags|=16)}return t})(),TU="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",fB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eh=0;Eh<fB.length;Eh++)Q0[fB.charCodeAt(Eh)]=Eh;var bU=function(t){var e=t.length*.75,r=t.length,n,i=0,s,A,c,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),x=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)s=Q0[t.charCodeAt(n)],A=Q0[t.charCodeAt(n+1)],c=Q0[t.charCodeAt(n+2)],h=Q0[t.charCodeAt(n+3)],x[i++]=s<<2|A>>4,x[i++]=(A&15)<<4|c>>2,x[i++]=(c&3)<<6|h&63;return d},SU=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},IU=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Zl=5,$2=11,jm=2,NU=$2-Zl,wS=65536>>Zl,FU=1<<Zl,Gm=FU-1,RU=1024>>Zl,DU=wS+RU,UU=DU,kU=32,MU=UU+kU,OU=65536>>$2,LU=1<<NU,QU=LU-1,dB=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},PU=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},HU=function(t,e){var r=bU(t),n=Array.isArray(r)?IU(r):new Uint32Array(r),i=Array.isArray(r)?SU(r):new Uint16Array(r),s=24,A=dB(i,s/2,n[4]/2),c=n[5]===2?dB(i,(s+n[4])/2):PU(n,Math.ceil((s+n[4])/4));return new VU(n[0],n[1],n[2],n[3],A,c)},VU=(function(){function t(e,r,n,i,s,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Zl],r=(r<<jm)+(e&Gm),this.data[r];if(e<=65535)return r=this.index[wS+(e-55296>>Zl)],r=(r<<jm)+(e&Gm),this.data[r];if(e<this.highStart)return r=MU-OU+(e>>$2),r=this.index[r],r+=e>>Zl&QU,r=this.index[r],r=(r<<jm)+(e&Gm),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),hB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jU=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Bh=0;Bh<hB.length;Bh++)jU[hB.charCodeAt(Bh)]=Bh;var GU=1,Km=2,zm=3,gB=4,pB=5,KU=7,mB=8,Wm=9,Xm=10,xB=11,wB=12,vB=13,yB=14,qm=15,zU=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},WU=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var A=t[i];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},XU=HU(TU),Na="",Ym="",qU=function(t){return XU.get(t)},YU=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],A=e[r];if(s===Km&&A===zm)return Na;if(s===Km||s===zm||s===gB||A===Km||A===zm||A===gB)return Ym;if(s===mB&&[mB,Wm,xB,wB].indexOf(A)!==-1||(s===xB||s===Wm)&&(A===Wm||A===Xm)||(s===wB||s===Xm)&&A===Xm||A===vB||A===pB||A===KU||s===GU)return Na;if(s===vB&&A===yB){for(;i===pB;)i=e[--n];if(i===yB)return Na}if(s===qm&&A===qm){for(var c=0;i===qm;)c++,i=e[--n];if(c%2===0)return Na}return Ym},JU=function(t){var e=zU(t),r=e.length,n=0,i=0,s=e.map(qU);return{next:function(){if(n>=r)return{done:!0,value:null};for(var A=Na;n<r&&(A=YU(e,s,++n))===Na;);if(A!==Na||n===r){var c=WU.apply(null,e.slice(i,n));return i=n,{value:c,done:!1}}return{done:!0,value:null}}}},ZU=function(t){for(var e=JU(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},$U=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},ek=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=ng(n.data).map(function(h){return $n(h)}),s=0,A={},c=i.every(function(h,d){r.setStart(n,s),r.setEnd(n,s+h.length);var x=r.getBoundingClientRect();s+=h.length;var C=x.x>A.x||x.y>A.y;return A=x,d===0?!0:C});return t.body.removeChild(e),c},tk=function(){return typeof new Image().crossOrigin<"u"},rk=function(){return typeof new XMLHttpRequest().responseType=="string"},nk=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},CB=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},ik=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var A=zx(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),EB(A).then(function(c){n.drawImage(c,0,0);var h=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=t.createElement("div");return d.style.backgroundImage="url("+s+")",d.style.height=r+"px",CB(h)?EB(zx(r,r,0,0,d)):Promise.reject(!1)}).then(function(c){return n.drawImage(c,0,0),CB(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},zx=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",A=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(c),c.appendChild(i),A},EB=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Pi={get SUPPORT_RANGE_BOUNDS(){var t=$U(document);return Object.defineProperty(Pi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Pi.SUPPORT_RANGE_BOUNDS&&ek(document);return Object.defineProperty(Pi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=nk(document);return Object.defineProperty(Pi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?ik(document):Promise.resolve(!1);return Object.defineProperty(Pi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=tk();return Object.defineProperty(Pi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=rk();return Object.defineProperty(Pi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Pi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Pi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},ef=(function(){function t(e,r){this.text=e,this.bounds=r}return t})(),sk=function(t,e,r,n){var i=Ak(e,r),s=[],A=0;return i.forEach(function(c){if(r.textDecorationLine.length||c.trim().length>0)if(Pi.SUPPORT_RANGE_BOUNDS){var h=BB(n,A,c.length).getClientRects();if(h.length>1){var d=ew(c),x=0;d.forEach(function(B){s.push(new ef(B,aA.fromDOMRectList(t,BB(n,x+A,B.length).getClientRects()))),x+=B.length})}else s.push(new ef(c,aA.fromDOMRectList(t,h)))}else{var C=n.splitText(c.length);s.push(new ef(c,ak(t,n))),n=C}else Pi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(c.length));A+=c.length}),s},ak=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=rg(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return aA.EMPTY},BB=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},ew=function(t){if(Pi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return ZU(t)},ok=function(t,e){if(Pi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return ck(t,e)},Ak=function(t,e){return e.letterSpacing!==0?ew(t):ok(t,e)},lk=[32,160,4961,65792,65793,4153,4241],ck=function(t,e){for(var r=O6(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var A=i.value.slice(),c=ng(A),h="";c.forEach(function(d){lk.indexOf(d)===-1?h+=$n(d):(h.length&&n.push(h),n.push($n(d)),h="")}),h.length&&n.push(h)}};!(i=r.next()).done;)s();return n},uk=(function(){function t(e,r,n){this.text=fk(r.data,n.textTransform),this.textBounds=sk(e,this.text,n,r)}return t})(),fk=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(dk,hk);case 2:return t.toUpperCase();default:return t}},dk=/(^|\s|:|-|\(|\))([a-z])/g,hk=function(t,e,r){return t.length>0?e+r.toUpperCase():t},vS=(function(t){so(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e})(_o),yS=(function(t){so(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e})(_o),CS=(function(t){so(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,A=rg(r,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(_o),ES=(function(t){so(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(_o),Wx=(function(t){so(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e})(_o),gk=[{type:15,flags:0,unit:"px",number:3}],pk=[{type:16,flags:0,number:50}],mk=function(t){return t.width>t.height?new aA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new aA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},xk=function(t){var e=t.type===wk?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},g1="checkbox",p1="radio",wk="password",_B=707406591,tw=(function(t){so(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=xk(n),(i.type===g1||i.type===p1)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=mk(i.bounds)),i.type){case g1:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=gk;break;case p1:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=pk;break}return i}return e})(_o),BS=(function(t){so(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(_o),_S=(function(t){so(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(_o),TS=(function(t){so(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=SS(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Z0(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):nA.TRANSPARENT,A=n.contentWindow.document.body?Z0(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):nA.TRANSPARENT;i.backgroundColor=nl(s)?nl(A)?i.styles.backgroundColor:A:s}}catch{}return i}return e})(_o),vk=["OL","UL","MENU"],n1=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,IS(i)&&i.data.trim().length>0)r.textNodes.push(new uk(t,i,r.styles));else if(fu(i))if(DS(i)&&i.assignedNodes)i.assignedNodes().forEach(function(c){return n1(t,c,r,n)});else{var A=bS(t,i);A.styles.isVisible()&&(yk(i,A,n)?A.flags|=4:Ck(A.styles)&&(A.flags|=2),vk.indexOf(i.tagName)!==-1&&(A.flags|=8),r.elements.push(A),i.slot,i.shadowRoot?n1(t,i.shadowRoot,A,n):!m1(i)&&!NS(i)&&!x1(i)&&n1(t,i,A,n))}},bS=function(t,e){return qx(e)?new vS(t,e):FS(e)?new yS(t,e):NS(e)?new CS(t,e):Ek(e)?new ES(t,e):Bk(e)?new Wx(t,e):_k(e)?new tw(t,e):x1(e)?new BS(t,e):m1(e)?new _S(t,e):RS(e)?new TS(t,e):new _o(t,e)},SS=function(t,e){var r=bS(t,e);return r.flags|=4,n1(t,e,r,r),r},yk=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||rw(t)&&r.styles.isTransparent()},Ck=function(t){return t.isPositioned()||t.isFloating()},IS=function(t){return t.nodeType===Node.TEXT_NODE},fu=function(t){return t.nodeType===Node.ELEMENT_NODE},Xx=function(t){return fu(t)&&typeof t.style<"u"&&!i1(t)},i1=function(t){return typeof t.className=="object"},Ek=function(t){return t.tagName==="LI"},Bk=function(t){return t.tagName==="OL"},_k=function(t){return t.tagName==="INPUT"},Tk=function(t){return t.tagName==="HTML"},NS=function(t){return t.tagName==="svg"},rw=function(t){return t.tagName==="BODY"},FS=function(t){return t.tagName==="CANVAS"},TB=function(t){return t.tagName==="VIDEO"},qx=function(t){return t.tagName==="IMG"},RS=function(t){return t.tagName==="IFRAME"},bB=function(t){return t.tagName==="STYLE"},bk=function(t){return t.tagName==="SCRIPT"},m1=function(t){return t.tagName==="TEXTAREA"},x1=function(t){return t.tagName==="SELECT"},DS=function(t){return t.tagName==="SLOT"},SB=function(t){return t.tagName.indexOf("-")>0},Sk=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(c){var h=r.counters[c.counter];h&&c.increment!==0&&(s=!1,h.length||h.push(1),h[Math.max(0,h.length-1)]+=c.increment)});var A=[];return s&&i.forEach(function(c){var h=r.counters[c.counter];A.push(c.counter),h||(h=r.counters[c.counter]=[]),h.push(c.reset)}),A},t})(),IB={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},NB={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ik={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Nk={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},tu=function(t,e,r,n,i,s){return t<e||t>r?wf(t,i,s.length>0):n.integers.reduce(function(A,c,h){for(;t>=c;)t-=c,A+=n.values[h];return A},"")+s},US=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Jn=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(US(Math.abs(t),s,n,function(A){return $n(Math.floor(A%s)+e)})+i)},Vl=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return US(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},su=1,KA=2,zA=4,P0=8,$o=function(t,e,r,n,i,s){if(t<-9999||t>9999)return wf(t,4,i.length>0);var A=Math.abs(t),c=i;if(A===0)return e[0]+c;for(var h=0;A>0&&h<=4;h++){var d=A%10;d===0&&xi(s,su)&&c!==""?c=e[d]+c:d>1||d===1&&h===0||d===1&&h===1&&xi(s,KA)||d===1&&h===1&&xi(s,zA)&&t>100||d===1&&h>1&&xi(s,P0)?c=e[d]+(h>0?r[h-1]:"")+c:d===1&&h>0&&(c=r[h-1]+c),A=Math.floor(A/10)}return(t<0?n:"")+c},FB="",RB="",DB="",Jm="",wf=function(t,e,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",A=r?" ":"";switch(e){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var c=Jn(t,48,57,!0,n);return c.length<4?"0"+c:c;case 4:return Vl(t,"",i);case 6:return tu(t,1,3999,IB,3,n).toLowerCase();case 7:return tu(t,1,3999,IB,3,n);case 8:return Jn(t,945,969,!1,n);case 9:return Jn(t,97,122,!1,n);case 10:return Jn(t,65,90,!1,n);case 11:return Jn(t,1632,1641,!0,n);case 12:case 49:return tu(t,1,9999,NB,3,n);case 35:return tu(t,1,9999,NB,3,n).toLowerCase();case 13:return Jn(t,2534,2543,!0,n);case 14:case 30:return Jn(t,6112,6121,!0,n);case 15:return Vl(t,"",i);case 16:return Vl(t,"",i);case 17:case 48:return $o(t,"",FB,"",i,KA|zA|P0);case 47:return $o(t,"",RB,"",i,su|KA|zA|P0);case 42:return $o(t,"",FB,"",i,KA|zA|P0);case 41:return $o(t,"",RB,"",i,su|KA|zA|P0);case 26:return $o(t,"","",DB,i,0);case 25:return $o(t,"","",DB,i,su|KA|zA);case 31:return $o(t,"","",Jm,s,su|KA|zA);case 33:return $o(t,"","",Jm,s,0);case 32:return $o(t,"","",Jm,s,su|KA|zA);case 18:return Jn(t,2406,2415,!0,n);case 20:return tu(t,1,19999,Nk,3,n);case 21:return Jn(t,2790,2799,!0,n);case 22:return Jn(t,2662,2671,!0,n);case 22:return tu(t,1,10999,Ik,3,n);case 23:return Vl(t,"");case 24:return Vl(t,"");case 27:return Jn(t,3302,3311,!0,n);case 28:return Vl(t,"",i);case 29:return Vl(t,"",i);case 34:return Jn(t,3792,3801,!0,n);case 37:return Jn(t,6160,6169,!0,n);case 38:return Jn(t,4160,4169,!0,n);case 39:return Jn(t,2918,2927,!0,n);case 40:return Jn(t,1776,1785,!0,n);case 43:return Jn(t,3046,3055,!0,n);case 44:return Jn(t,3174,3183,!0,n);case 45:return Jn(t,3664,3673,!0,n);case 46:return Jn(t,3872,3881,!0,n);case 3:default:return Jn(t,48,57,!0,n)}},kS="data-html2canvas-ignore",UB=(function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Sk,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=Fk(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,c=i.contentWindow,h=c.document,d=Uk(i).then(function(){return ws(n,void 0,void 0,function(){var x,C;return rs(this,function(B){switch(B.label){case 0:return this.scrolledElements.forEach(Lk),c&&(c.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==r.top||c.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-r.left,c.scrollY-r.top,0,0))),x=this.options.onclone,C=this.clonedReferenceElement,typeof C>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:B.sent(),B.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Dk(h)]:[3,4];case 3:B.sent(),B.label=4;case 4:return typeof x=="function"?[2,Promise.resolve().then(function(){return x(h,C)}).then(function(){return i})]:[2,i]}})})});return h.open(),h.write(Mk(document.doctype)+"<html></html>"),Ok(this.referenceElement.ownerDocument,s,A),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),d},t.prototype.createElementClone=function(e){if(Kx(e,2))debugger;if(FS(e))return this.createCanvasClone(e);if(TB(e))return this.createVideoClone(e);if(bB(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return qx(r)&&(qx(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),SB(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Zm(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,A){return A&&typeof A.cssText=="string"?s+A.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),A=i.getContext("2d");if(A)if(!this.options.allowTaint&&s)A.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var c=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(c){var h=c.getContextAttributes();(h==null?void 0:h.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!fu(r)||!bk(r)&&!r.hasAttribute(kS)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!fu(r)||!bB(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(fu(s)&&DS(s)&&typeof s.assignedNodes=="function"){var A=s.assignedNodes();A.length&&A.forEach(function(c){return i.appendChildNode(r,c,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(IS(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&fu(e)&&(Xx(e)||i1(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),A=n.getComputedStyle(e,":before"),c=n.getComputedStyle(e,":after");this.referenceElement===e&&Xx(i)&&(this.clonedReferenceElement=i),rw(i)&&Hk(i);var h=this.counters.parse(new uB(this.context,s)),d=this.resolvePseudoContent(e,i,A,tf.BEFORE);SB(e)&&(r=!0),TB(e)||this.cloneChildNodes(e,i,r),d&&i.insertBefore(d,i.firstChild);var x=this.resolvePseudoContent(e,i,c,tf.AFTER);return x&&i.appendChild(x),this.counters.pop(h),(s&&(this.options.copyStyles||i1(e))&&!RS(e)||r)&&Zm(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(m1(e)||x1(e))&&(m1(i)||x1(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var A=n.content,c=r.ownerDocument;if(!(!c||!A||A==="none"||A==="-moz-alt-content"||n.display==="none")){this.counters.parse(new uB(this.context,n));var h=new EU(this.context,n),d=c.createElement("html2canvaspseudoelement");Zm(n,d),h.content.forEach(function(C){if(C.type===0)d.appendChild(c.createTextNode(C.value));else if(C.type===22){var B=c.createElement("img");B.src=C.value,B.style.opacity="1",d.appendChild(B)}else if(C.type===18){if(C.name==="attr"){var F=C.values.filter(cn);F.length&&d.appendChild(c.createTextNode(e.getAttribute(F[0].value)||""))}else if(C.name==="counter"){var D=C.values.filter(Bu),R=D[0],k=D[1];if(R&&cn(R)){var j=s.counters.getCounterValue(R.value),G=k&&cn(k)?Gx.parse(s.context,k.value):3;d.appendChild(c.createTextNode(wf(j,G,!1)))}}else if(C.name==="counters"){var Q=C.values.filter(Bu),R=Q[0],ee=Q[1],k=Q[2];if(R&&cn(R)){var ne=s.counters.getCounterValues(R.value),te=k&&cn(k)?Gx.parse(s.context,k.value):3,M=ee&&ee.type===0?ee.value:"",H=ne.map(function(J){return wf(J,te,!1)}).join(M);d.appendChild(c.createTextNode(H))}}}else if(C.type===20)switch(C.value){case"open-quote":d.appendChild(c.createTextNode(cB(h.quotes,s.quoteDepth++,!0)));break;case"close-quote":d.appendChild(c.createTextNode(cB(h.quotes,--s.quoteDepth,!1)));break;default:d.appendChild(c.createTextNode(C.value))}}),d.className=Yx+" "+Jx;var x=i===tf.BEFORE?" "+Yx:" "+Jx;return i1(r)?r.className.baseValue+=x:r.className+=x,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),tf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(tf||(tf={}));var Fk=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(kS,"true"),t.body.appendChild(r),r},Rk=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Dk=function(t){return Promise.all([].slice.call(t.images,0).map(Rk))},Uk=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},kk=["all","d","content"],Zm=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);kk.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Mk=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Ok=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Lk=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Qk=":before",Pk=":after",Yx="___html2canvas___pseudoelement_before",Jx="___html2canvas___pseudoelement_after",kB=`{
    content: "" !important;
    display: none !important;
}`,Hk=function(t){Vk(t,"."+Yx+Qk+kB+`
         .`+Jx+Pk+kB)},Vk=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},MS=(function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),jk=(function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(ex(e)||Wk(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ws(this,void 0,void 0,function(){var r,n,i,s,A=this;return rs(this,function(c){switch(c.label){case 0:return r=MS.isSameOrigin(e),n=!$m(e)&&this._options.useCORS===!0&&Pi.SUPPORT_CORS_IMAGES&&!r,i=!$m(e)&&!r&&!ex(e)&&typeof this._options.proxy=="string"&&Pi.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!$m(e)&&!ex(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(h,d){var x=new Image;x.onload=function(){return h(x)},x.onerror=d,(Xk(s)||n)&&(x.crossOrigin="anonymous"),x.src=s,x.complete===!0&&setTimeout(function(){return h(x)},500),A._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,A){var c=Pi.SUPPORT_RESPONSE_TYPE?"blob":"text",h=new XMLHttpRequest;h.onload=function(){if(h.status===200)if(c==="text")s(h.response);else{var C=new FileReader;C.addEventListener("load",function(){return s(C.result)},!1),C.addEventListener("error",function(B){return A(B)},!1),C.readAsDataURL(h.response)}else A("Failed to proxy resource "+i+" with status code "+h.status)},h.onerror=A;var d=n.indexOf("?")>-1?"&":"?";if(h.open("GET",""+n+d+"url="+encodeURIComponent(e)+"&responseType="+c),c!=="text"&&h instanceof XMLHttpRequest&&(h.responseType=c),r._options.imageTimeout){var x=r._options.imageTimeout;h.timeout=x,h.ontimeout=function(){return A("Timed out ("+x+"ms) proxying "+i)}}h.send()})},t})(),Gk=/^data:image\/svg\+xml/i,Kk=/^data:image\/.*;base64,/i,zk=/^data:image\/.*/i,Wk=function(t){return Pi.SUPPORT_SVG_DRAWING||!qk(t)},$m=function(t){return zk.test(t)},Xk=function(t){return Kk.test(t)},ex=function(t){return t.substr(0,4)==="blob"},qk=function(t){return t.substr(-3).toLowerCase()==="svg"||Gk.test(t)},Rt=(function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t})(),ru=function(t,e,r){return new Rt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},_h=(function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=ru(this.start,this.startControl,e),i=ru(this.startControl,this.endControl,e),s=ru(this.endControl,this.end,e),A=ru(n,i,e),c=ru(i,s,e),h=ru(A,c,e);return r?new t(this.start,n,A,h):new t(h,c,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Ra=function(t){return t.type===1},Yk=(function(){function t(e){var r=e.styles,n=e.bounds,i=L0(r.borderTopLeftRadius,n.width,n.height),s=i[0],A=i[1],c=L0(r.borderTopRightRadius,n.width,n.height),h=c[0],d=c[1],x=L0(r.borderBottomRightRadius,n.width,n.height),C=x[0],B=x[1],F=L0(r.borderBottomLeftRadius,n.width,n.height),D=F[0],R=F[1],k=[];k.push((s+h)/n.width),k.push((D+C)/n.width),k.push((A+R)/n.height),k.push((d+B)/n.height);var j=Math.max.apply(Math,k);j>1&&(s/=j,A/=j,h/=j,d/=j,C/=j,B/=j,D/=j,R/=j);var G=n.width-h,Q=n.height-B,ee=n.width-C,ne=n.height-R,te=r.borderTopWidth,M=r.borderRightWidth,H=r.borderBottomWidth,O=r.borderLeftWidth,z=mn(r.paddingTop,e.bounds.width),J=mn(r.paddingRight,e.bounds.width),W=mn(r.paddingBottom,e.bounds.width),X=mn(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||A>0?Sn(n.left+O/3,n.top+te/3,s-O/3,A-te/3,qr.TOP_LEFT):new Rt(n.left+O/3,n.top+te/3),this.topRightBorderDoubleOuterBox=s>0||A>0?Sn(n.left+G,n.top+te/3,h-M/3,d-te/3,qr.TOP_RIGHT):new Rt(n.left+n.width-M/3,n.top+te/3),this.bottomRightBorderDoubleOuterBox=C>0||B>0?Sn(n.left+ee,n.top+Q,C-M/3,B-H/3,qr.BOTTOM_RIGHT):new Rt(n.left+n.width-M/3,n.top+n.height-H/3),this.bottomLeftBorderDoubleOuterBox=D>0||R>0?Sn(n.left+O/3,n.top+ne,D-O/3,R-H/3,qr.BOTTOM_LEFT):new Rt(n.left+O/3,n.top+n.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||A>0?Sn(n.left+O*2/3,n.top+te*2/3,s-O*2/3,A-te*2/3,qr.TOP_LEFT):new Rt(n.left+O*2/3,n.top+te*2/3),this.topRightBorderDoubleInnerBox=s>0||A>0?Sn(n.left+G,n.top+te*2/3,h-M*2/3,d-te*2/3,qr.TOP_RIGHT):new Rt(n.left+n.width-M*2/3,n.top+te*2/3),this.bottomRightBorderDoubleInnerBox=C>0||B>0?Sn(n.left+ee,n.top+Q,C-M*2/3,B-H*2/3,qr.BOTTOM_RIGHT):new Rt(n.left+n.width-M*2/3,n.top+n.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=D>0||R>0?Sn(n.left+O*2/3,n.top+ne,D-O*2/3,R-H*2/3,qr.BOTTOM_LEFT):new Rt(n.left+O*2/3,n.top+n.height-H*2/3),this.topLeftBorderStroke=s>0||A>0?Sn(n.left+O/2,n.top+te/2,s-O/2,A-te/2,qr.TOP_LEFT):new Rt(n.left+O/2,n.top+te/2),this.topRightBorderStroke=s>0||A>0?Sn(n.left+G,n.top+te/2,h-M/2,d-te/2,qr.TOP_RIGHT):new Rt(n.left+n.width-M/2,n.top+te/2),this.bottomRightBorderStroke=C>0||B>0?Sn(n.left+ee,n.top+Q,C-M/2,B-H/2,qr.BOTTOM_RIGHT):new Rt(n.left+n.width-M/2,n.top+n.height-H/2),this.bottomLeftBorderStroke=D>0||R>0?Sn(n.left+O/2,n.top+ne,D-O/2,R-H/2,qr.BOTTOM_LEFT):new Rt(n.left+O/2,n.top+n.height-H/2),this.topLeftBorderBox=s>0||A>0?Sn(n.left,n.top,s,A,qr.TOP_LEFT):new Rt(n.left,n.top),this.topRightBorderBox=h>0||d>0?Sn(n.left+G,n.top,h,d,qr.TOP_RIGHT):new Rt(n.left+n.width,n.top),this.bottomRightBorderBox=C>0||B>0?Sn(n.left+ee,n.top+Q,C,B,qr.BOTTOM_RIGHT):new Rt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=D>0||R>0?Sn(n.left,n.top+ne,D,R,qr.BOTTOM_LEFT):new Rt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||A>0?Sn(n.left+O,n.top+te,Math.max(0,s-O),Math.max(0,A-te),qr.TOP_LEFT):new Rt(n.left+O,n.top+te),this.topRightPaddingBox=h>0||d>0?Sn(n.left+Math.min(G,n.width-M),n.top+te,G>n.width+M?0:Math.max(0,h-M),Math.max(0,d-te),qr.TOP_RIGHT):new Rt(n.left+n.width-M,n.top+te),this.bottomRightPaddingBox=C>0||B>0?Sn(n.left+Math.min(ee,n.width-O),n.top+Math.min(Q,n.height-H),Math.max(0,C-M),Math.max(0,B-H),qr.BOTTOM_RIGHT):new Rt(n.left+n.width-M,n.top+n.height-H),this.bottomLeftPaddingBox=D>0||R>0?Sn(n.left+O,n.top+Math.min(ne,n.height-H),Math.max(0,D-O),Math.max(0,R-H),qr.BOTTOM_LEFT):new Rt(n.left+O,n.top+n.height-H),this.topLeftContentBox=s>0||A>0?Sn(n.left+O+X,n.top+te+z,Math.max(0,s-(O+X)),Math.max(0,A-(te+z)),qr.TOP_LEFT):new Rt(n.left+O+X,n.top+te+z),this.topRightContentBox=h>0||d>0?Sn(n.left+Math.min(G,n.width+O+X),n.top+te+z,G>n.width+O+X?0:h-O+X,d-(te+z),qr.TOP_RIGHT):new Rt(n.left+n.width-(M+J),n.top+te+z),this.bottomRightContentBox=C>0||B>0?Sn(n.left+Math.min(ee,n.width-(O+X)),n.top+Math.min(Q,n.height+te+z),Math.max(0,C-(M+J)),B-(H+W),qr.BOTTOM_RIGHT):new Rt(n.left+n.width-(M+J),n.top+n.height-(H+W)),this.bottomLeftContentBox=D>0||R>0?Sn(n.left+O+X,n.top+ne,Math.max(0,D-(O+X)),R-(H+W),qr.BOTTOM_LEFT):new Rt(n.left+O+X,n.top+n.height-(H+W))}return t})(),qr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(qr||(qr={}));var Sn=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),A=r*s,c=n*s,h=t+r,d=e+n;switch(i){case qr.TOP_LEFT:return new _h(new Rt(t,d),new Rt(t,d-c),new Rt(h-A,e),new Rt(h,e));case qr.TOP_RIGHT:return new _h(new Rt(t,e),new Rt(t+A,e),new Rt(h,d-c),new Rt(h,d));case qr.BOTTOM_RIGHT:return new _h(new Rt(h,e),new Rt(h,e+c),new Rt(t+A,d),new Rt(t,d));case qr.BOTTOM_LEFT:default:return new _h(new Rt(h,d),new Rt(h-A,d),new Rt(t,e+c),new Rt(t,e))}},w1=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Jk=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},v1=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Zk=(function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t})(),Th=(function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t})(),$k=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),eM=function(t){return t.type===0},OS=function(t){return t.type===1},tM=function(t){return t.type===2},MB=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},rM=function(t,e,r,n,i){return t.map(function(s,A){switch(A){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},LS=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),QS=(function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new Yk(this.container),this.container.styles.opacity<1&&this.effects.push(new $k(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Zk(n,i,s))}if(this.container.styles.overflowX!==0){var A=w1(this.curves),c=v1(this.curves);MB(A,c)?this.effects.push(new Th(A,6)):(this.effects.push(new Th(A,2)),this.effects.push(new Th(c,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(h){return!OS(h)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var A=w1(n.curves),c=v1(n.curves);MB(A,c)||i.unshift(new Th(c,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(h){return xi(h.target,e)})},t})(),Zx=function(t,e,r,n){t.container.elements.forEach(function(i){var s=xi(i.flags,4),A=xi(i.flags,2),c=new QS(i,t);xi(i.styles.display,2048)&&n.push(c);var h=xi(i.flags,8)?[]:n;if(s||A){var d=s||i.styles.isPositioned()?r:e,x=new LS(c);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var C=i.styles.zIndex.order;if(C<0){var B=0;d.negativeZIndex.some(function(D,R){return C>D.element.container.styles.zIndex.order?(B=R,!1):B>0}),d.negativeZIndex.splice(B,0,x)}else if(C>0){var F=0;d.positiveZIndex.some(function(D,R){return C>=D.element.container.styles.zIndex.order?(F=R+1,!1):F>0}),d.positiveZIndex.splice(F,0,x)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(x)}else i.styles.isFloating()?d.nonPositionedFloats.push(x):d.nonPositionedInlineLevel.push(x);Zx(c,x,s?x:r,h)}else i.styles.isInlineLevel()?e.inlineLevel.push(c):e.nonInlineLevel.push(c),Zx(c,e,r,h);xi(i.flags,8)&&PS(i,h)})},PS=function(t,e){for(var r=t instanceof Wx?t.start:1,n=t instanceof Wx?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof ES&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=wf(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},nM=function(t){var e=new QS(t,null),r=new LS(e),n=[];return Zx(e,r,r,n),PS(e.container,n),r},OB=function(t,e){switch(e){case 0:return Ua(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ua(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ua(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ua(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},iM=function(t,e){switch(e){case 0:return Ua(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ua(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ua(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ua(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},sM=function(t,e){switch(e){case 0:return Ua(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ua(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ua(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ua(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},aM=function(t,e){switch(e){case 0:return bh(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return bh(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return bh(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return bh(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},bh=function(t,e){var r=[];return Ra(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ra(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ua=function(t,e,r,n){var i=[];return Ra(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ra(r)?i.push(r.subdivide(.5,!0)):i.push(r),Ra(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Ra(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},HS=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},y1=function(t){var e=t.styles,r=t.bounds,n=mn(e.paddingLeft,r.width),i=mn(e.paddingRight,r.width),s=mn(e.paddingTop,r.width),A=mn(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+A))},oM=function(t,e){return t===0?e.bounds:t===2?y1(e):HS(e)},AM=function(t,e){return t===0?e.bounds:t===2?y1(e):HS(e)},tx=function(t,e,r){var n=oM(au(t.styles.backgroundOrigin,e),t),i=AM(au(t.styles.backgroundClip,e),t),s=lM(au(t.styles.backgroundSize,e),r,n),A=s[0],c=s[1],h=L0(au(t.styles.backgroundPosition,e),n.width-A,n.height-c),d=cM(au(t.styles.backgroundRepeat,e),h,s,n,i),x=Math.round(n.left+h[0]),C=Math.round(n.top+h[1]);return[d,x,C,A,c]},nu=function(t){return cn(t)&&t.value===mu.AUTO},Sh=function(t){return typeof t=="number"},lM=function(t,e,r){var n=e[0],i=e[1],s=e[2],A=t[0],c=t[1];if(!A)return[0,0];if(fi(A)&&c&&fi(c))return[mn(A,r.width),mn(c,r.height)];var h=Sh(s);if(cn(A)&&(A.value===mu.CONTAIN||A.value===mu.COVER)){if(Sh(s)){var d=r.width/r.height;return d<s!=(A.value===mu.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var x=Sh(n),C=Sh(i),B=x||C;if(nu(A)&&(!c||nu(c))){if(x&&C)return[n,i];if(!h&&!B)return[r.width,r.height];if(B&&h){var F=x?n:i*s,D=C?i:n/s;return[F,D]}var R=x?n:r.width,k=C?i:r.height;return[R,k]}if(h){var j=0,G=0;return fi(A)?j=mn(A,r.width):fi(c)&&(G=mn(c,r.height)),nu(A)?j=G*s:(!c||nu(c))&&(G=j/s),[j,G]}var Q=null,ee=null;if(fi(A)?Q=mn(A,r.width):c&&fi(c)&&(ee=mn(c,r.height)),Q!==null&&(!c||nu(c))&&(ee=x&&C?Q/n*i:r.height),ee!==null&&nu(A)&&(Q=x&&C?ee/i*n:r.width),Q!==null&&ee!==null)return[Q,ee];throw new Error("Unable to calculate background-size for element")},au=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},cM=function(t,e,r,n,i){var s=e[0],A=e[1],c=r[0],h=r[1];switch(t){case 2:return[new Rt(Math.round(n.left),Math.round(n.top+A)),new Rt(Math.round(n.left+n.width),Math.round(n.top+A)),new Rt(Math.round(n.left+n.width),Math.round(h+n.top+A)),new Rt(Math.round(n.left),Math.round(h+n.top+A))];case 3:return[new Rt(Math.round(n.left+s),Math.round(n.top)),new Rt(Math.round(n.left+s+c),Math.round(n.top)),new Rt(Math.round(n.left+s+c),Math.round(n.height+n.top)),new Rt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Rt(Math.round(n.left+s),Math.round(n.top+A)),new Rt(Math.round(n.left+s+c),Math.round(n.top+A)),new Rt(Math.round(n.left+s+c),Math.round(n.top+A+h)),new Rt(Math.round(n.left+s),Math.round(n.top+A+h))];default:return[new Rt(Math.round(i.left),Math.round(i.top)),new Rt(Math.round(i.left+i.width),Math.round(i.top)),new Rt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Rt(Math.round(i.left),Math.round(i.height+i.top))]}},uM="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",LB="Hidden Text",fM=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",A.appendChild(n),i.src=uM,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(LB)),n.appendChild(s),n.appendChild(i);var c=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(LB)),n.style.lineHeight="normal",i.style.verticalAlign="super";var h=i.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:c,middle:h}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t})(),VS=(function(){function t(e,r){this.context=e,this.options=r}return t})(),dM=1e4,hM=(function(t){so(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new fM(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),tM(r)&&(this.ctx.globalAlpha=r.opacity),eM(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),OS(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ws(this,void 0,void 0,function(){var n;return rs(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ws(this,void 0,void 0,function(){return rs(this,function(n){switch(n.label){case 0:if(xi(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var A=ew(r.text);A.reduce(function(c,h){return s.ctx.fillText(h,c,r.bounds.top+i),c+s.ctx.measureText(h).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),i=wM(r.fontFamily).join(", "),s=Lf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return ws(this,void 0,void 0,function(){var i,s,A,c,h,d,x,C,B=this;return rs(this,function(F){return i=this.createFontStyle(n),s=i[0],A=i[1],c=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",h=this.fontMetrics.getMetrics(A,c),d=h.baseline,x=h.middle,C=n.paintOrder,r.textBounds.forEach(function(D){C.forEach(function(R){switch(R){case 0:B.ctx.fillStyle=bi(n.color),B.renderTextWithLetterSpacing(D,n.letterSpacing,d);var k=n.textShadow;k.length&&D.text.trim().length&&(k.slice(0).reverse().forEach(function(j){B.ctx.shadowColor=bi(j.color),B.ctx.shadowOffsetX=j.offsetX.number*B.options.scale,B.ctx.shadowOffsetY=j.offsetY.number*B.options.scale,B.ctx.shadowBlur=j.blur.number,B.renderTextWithLetterSpacing(D,n.letterSpacing,d)}),B.ctx.shadowColor="",B.ctx.shadowOffsetX=0,B.ctx.shadowOffsetY=0,B.ctx.shadowBlur=0),n.textDecorationLine.length&&(B.ctx.fillStyle=bi(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(j){switch(j){case 1:B.ctx.fillRect(D.bounds.left,Math.round(D.bounds.top+d),D.bounds.width,1);break;case 2:B.ctx.fillRect(D.bounds.left,Math.round(D.bounds.top),D.bounds.width,1);break;case 3:B.ctx.fillRect(D.bounds.left,Math.ceil(D.bounds.top+x),D.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&D.text.trim().length&&(B.ctx.strokeStyle=bi(n.webkitTextStrokeColor),B.ctx.lineWidth=n.webkitTextStrokeWidth,B.ctx.lineJoin=window.chrome?"miter":"round",B.ctx.strokeText(D.text,D.bounds.left,D.bounds.top+d)),B.ctx.strokeStyle="",B.ctx.lineWidth=0,B.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=y1(r),A=v1(n);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ws(this,void 0,void 0,function(){var n,i,s,A,c,h,G,G,d,x,C,B,ee,F,D,ne,R,k,j,G,Q,ee,ne;return rs(this,function(te){switch(te.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,A=0,c=n.textNodes,te.label=1;case 1:return A<c.length?(h=c[A],[4,this.renderTextNode(h,s)]):[3,4];case 2:te.sent(),te.label=3;case 3:return A++,[3,1];case 4:if(!(n instanceof vS))return[3,8];te.label=5;case 5:return te.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return G=te.sent(),this.renderReplacedElement(n,i,G),[3,8];case 7:return te.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof yS&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof CS))return[3,12];te.label=9;case 9:return te.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return G=te.sent(),this.renderReplacedElement(n,i,G),[3,12];case 11:return te.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof TS&&n.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:x=te.sent(),n.width&&n.height&&this.ctx.drawImage(x,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),te.label=14;case 14:if(n instanceof tw&&(C=Math.min(n.bounds.width,n.bounds.height),n.type===g1?n.checked&&(this.ctx.save(),this.path([new Rt(n.bounds.left+C*.39363,n.bounds.top+C*.79),new Rt(n.bounds.left+C*.16,n.bounds.top+C*.5549),new Rt(n.bounds.left+C*.27347,n.bounds.top+C*.44071),new Rt(n.bounds.left+C*.39694,n.bounds.top+C*.5649),new Rt(n.bounds.left+C*.72983,n.bounds.top+C*.23),new Rt(n.bounds.left+C*.84,n.bounds.top+C*.34085),new Rt(n.bounds.left+C*.39363,n.bounds.top+C*.79)]),this.ctx.fillStyle=bi(_B),this.ctx.fill(),this.ctx.restore()):n.type===p1&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+C/2,n.bounds.top+C/2,C/4,0,Math.PI*2,!0),this.ctx.fillStyle=bi(_B),this.ctx.fill(),this.ctx.restore())),gM(n)&&n.value.length){switch(B=this.createFontStyle(s),ee=B[0],F=B[1],D=this.fontMetrics.getMetrics(ee,F).baseline,this.ctx.font=ee,this.ctx.fillStyle=bi(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=mM(n.styles.textAlign),ne=y1(n),R=0,n.styles.textAlign){case 1:R+=ne.width/2;break;case 2:R+=ne.width;break}k=ne.add(R,0,0,-ne.height/2+1),this.ctx.save(),this.path([new Rt(ne.left,ne.top),new Rt(ne.left+ne.width,ne.top),new Rt(ne.left+ne.width,ne.top+ne.height),new Rt(ne.left,ne.top+ne.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ef(n.value,k),s.letterSpacing,D),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!xi(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(j=n.styles.listStyleImage,j.type!==0)return[3,18];G=void 0,Q=j.url,te.label=15;case 15:return te.trys.push([15,17,,18]),[4,this.context.cache.match(Q)];case 16:return G=te.sent(),this.ctx.drawImage(G,n.bounds.left-(G.width+10),n.bounds.top),[3,18];case 17:return te.sent(),this.context.logger.error("Error loading list-style-image "+Q),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(ee=this.createFontStyle(s)[0],this.ctx.font=ee,this.ctx.fillStyle=bi(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ne=new aA(n.bounds.left,n.bounds.top+mn(n.styles.paddingTop,n.bounds.width),n.bounds.width,AB(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ef(r.listValue,ne),s.letterSpacing,AB(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),te.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ws(this,void 0,void 0,function(){var n,i,j,s,A,j,c,h,j,d,x,j,C,B,j,F,D,j,R,k,j;return rs(this,function(G){switch(G.label){case 0:if(xi(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:G.sent(),n=0,i=r.negativeZIndex,G.label=2;case 2:return n<i.length?(j=i[n],[4,this.renderStack(j)]):[3,5];case 3:G.sent(),G.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:G.sent(),s=0,A=r.nonInlineLevel,G.label=7;case 7:return s<A.length?(j=A[s],[4,this.renderNode(j)]):[3,10];case 8:G.sent(),G.label=9;case 9:return s++,[3,7];case 10:c=0,h=r.nonPositionedFloats,G.label=11;case 11:return c<h.length?(j=h[c],[4,this.renderStack(j)]):[3,14];case 12:G.sent(),G.label=13;case 13:return c++,[3,11];case 14:d=0,x=r.nonPositionedInlineLevel,G.label=15;case 15:return d<x.length?(j=x[d],[4,this.renderStack(j)]):[3,18];case 16:G.sent(),G.label=17;case 17:return d++,[3,15];case 18:C=0,B=r.inlineLevel,G.label=19;case 19:return C<B.length?(j=B[C],[4,this.renderNode(j)]):[3,22];case 20:G.sent(),G.label=21;case 21:return C++,[3,19];case 22:F=0,D=r.zeroOrAutoZIndexOrTransformedOrOpacity,G.label=23;case 23:return F<D.length?(j=D[F],[4,this.renderStack(j)]):[3,26];case 24:G.sent(),G.label=25;case 25:return F++,[3,23];case 26:R=0,k=r.positiveZIndex,G.label=27;case 27:return R<k.length?(j=k[R],[4,this.renderStack(j)]):[3,30];case 28:G.sent(),G.label=29;case 29:return R++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var A=Ra(i)?i.start:i;s===0?n.ctx.moveTo(A.x,A.y):n.ctx.lineTo(A.x,A.y),Ra(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var A=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,c=A.createElement("canvas");c.width=Math.max(1,n),c.height=Math.max(1,i);var h=c.getContext("2d");return h.drawImage(r,0,0,r.width,r.height,0,0,n,i),c},e.prototype.renderBackgroundImage=function(r){return ws(this,void 0,void 0,function(){var n,i,s,A,c,h;return rs(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,i=function(x){var C,B,F,z,we,ce,X,Me,H,D,z,we,ce,X,Me,R,k,j,G,Q,ee,ne,te,M,H,O,z,J,W,X,Me,ye,we,ce,He,Be,tt,me,Z,de,fe,oe;return rs(this,function(xe){switch(xe.label){case 0:if(x.type!==0)return[3,5];C=void 0,B=x.url,xe.label=1;case 1:return xe.trys.push([1,3,,4]),[4,s.context.cache.match(B)];case 2:return C=xe.sent(),[3,4];case 3:return xe.sent(),s.context.logger.error("Error loading background-image "+B),[3,4];case 4:return C&&(F=tx(r,n,[C.width,C.height,C.width/C.height]),z=F[0],we=F[1],ce=F[2],X=F[3],Me=F[4],H=s.ctx.createPattern(s.resizeImage(C,X,Me),"repeat"),s.renderRepeat(z,H,we,ce)),[3,6];case 5:e5(x)?(D=tx(r,n,[null,null,null]),z=D[0],we=D[1],ce=D[2],X=D[3],Me=D[4],R=qD(x.angle,X,Me),k=R[0],j=R[1],G=R[2],Q=R[3],ee=R[4],ne=document.createElement("canvas"),ne.width=X,ne.height=Me,te=ne.getContext("2d"),M=te.createLinearGradient(j,Q,G,ee),aB(x.stops,k).forEach(function(Ye){return M.addColorStop(Ye.stop,bi(Ye.color))}),te.fillStyle=M,te.fillRect(0,0,X,Me),X>0&&Me>0&&(H=s.ctx.createPattern(ne,"repeat"),s.renderRepeat(z,H,we,ce))):t5(x)&&(O=tx(r,n,[null,null,null]),z=O[0],J=O[1],W=O[2],X=O[3],Me=O[4],ye=x.position.length===0?[J2]:x.position,we=mn(ye[0],X),ce=mn(ye[ye.length-1],Me),He=YD(x,we,ce,X,Me),Be=He[0],tt=He[1],Be>0&&tt>0&&(me=s.ctx.createRadialGradient(J+we,W+ce,0,J+we,W+ce,Be),aB(x.stops,Be*2).forEach(function(Ye){return me.addColorStop(Ye.stop,bi(Ye.color))}),s.path(z),s.ctx.fillStyle=me,Be!==tt?(Z=r.bounds.left+.5*r.bounds.width,de=r.bounds.top+.5*r.bounds.height,fe=tt/Be,oe=1/fe,s.ctx.save(),s.ctx.translate(Z,de),s.ctx.transform(1,0,0,fe,0,0),s.ctx.translate(-Z,-de),s.ctx.fillRect(J,oe*(W-de)+de,X,Me*oe),s.ctx.restore()):s.ctx.fill())),xe.label=6;case 6:return n--,[2]}})},s=this,A=0,c=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return A<c.length?(h=c[A],[5,i(h)]):[3,4];case 2:d.sent(),d.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return ws(this,void 0,void 0,function(){return rs(this,function(s){return this.path(OB(i,n)),this.ctx.fillStyle=bi(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return ws(this,void 0,void 0,function(){var A,c;return rs(this,function(h){switch(h.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return h.sent(),[2];case 2:return A=iM(s,i),this.path(A),this.ctx.fillStyle=bi(r),this.ctx.fill(),c=sM(s,i),this.path(c),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ws(this,void 0,void 0,function(){var n,i,s,A,c,h,d,x,C=this;return rs(this,function(B){switch(B.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!nl(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],A=pM(au(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),nl(n.backgroundColor)||(this.ctx.fillStyle=bi(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:B.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(F){C.ctx.save();var D=w1(r.curves),R=F.inset?0:dM,k=rM(D,-R+(F.inset?1:-1)*F.spread.number,(F.inset?1:-1)*F.spread.number,F.spread.number*(F.inset?-2:2),F.spread.number*(F.inset?-2:2));F.inset?(C.path(D),C.ctx.clip(),C.mask(k)):(C.mask(D),C.ctx.clip(),C.path(k)),C.ctx.shadowOffsetX=F.offsetX.number+R,C.ctx.shadowOffsetY=F.offsetY.number,C.ctx.shadowColor=bi(F.color),C.ctx.shadowBlur=F.blur.number,C.ctx.fillStyle=F.inset?bi(F.color):"rgba(0,0,0,1)",C.ctx.fill(),C.ctx.restore()}),B.label=2;case 2:c=0,h=0,d=s,B.label=3;case 3:return h<d.length?(x=d[h],x.style!==0&&!nl(x.color)&&x.width>0?x.style!==2?[3,5]:[4,this.renderDashedDottedBorder(x.color,x.width,c,r.curves,2)]:[3,11]):[3,13];case 4:return B.sent(),[3,11];case 5:return x.style!==3?[3,7]:[4,this.renderDashedDottedBorder(x.color,x.width,c,r.curves,3)];case 6:return B.sent(),[3,11];case 7:return x.style!==4?[3,9]:[4,this.renderDoubleBorder(x.color,x.width,c,r.curves)];case 8:return B.sent(),[3,11];case 9:return[4,this.renderSolidBorder(x.color,c,r.curves)];case 10:B.sent(),B.label=11;case 11:c++,B.label=12;case 12:return h++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,A){return ws(this,void 0,void 0,function(){var c,h,d,x,C,B,F,D,R,k,j,G,Q,ee,ne,te,ne,te;return rs(this,function(M){return this.ctx.save(),c=aM(s,i),h=OB(s,i),A===2&&(this.path(h),this.ctx.clip()),Ra(h[0])?(d=h[0].start.x,x=h[0].start.y):(d=h[0].x,x=h[0].y),Ra(h[1])?(C=h[1].end.x,B=h[1].end.y):(C=h[1].x,B=h[1].y),i===0||i===2?F=Math.abs(d-C):F=Math.abs(x-B),this.ctx.beginPath(),A===3?this.formatPath(c):this.formatPath(h.slice(0,2)),D=n<3?n*3:n*2,R=n<3?n*2:n,A===3&&(D=n,R=n),k=!0,F<=D*2?k=!1:F<=D*2+R?(j=F/(2*D+R),D*=j,R*=j):(G=Math.floor((F+R)/(D+R)),Q=(F-G*D)/(G-1),ee=(F-(G+1)*D)/G,R=ee<=0||Math.abs(R-Q)<Math.abs(R-ee)?Q:ee),k&&(A===3?this.ctx.setLineDash([0,D+R]):this.ctx.setLineDash([D,R])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=bi(r),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(Ra(h[0])&&(ne=h[3],te=h[0],this.ctx.beginPath(),this.formatPath([new Rt(ne.end.x,ne.end.y),new Rt(te.start.x,te.start.y)]),this.ctx.stroke()),Ra(h[1])&&(ne=h[1],te=h[2],this.ctx.beginPath(),this.formatPath([new Rt(ne.end.x,ne.end.y),new Rt(te.start.x,te.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ws(this,void 0,void 0,function(){var n;return rs(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=bi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=nM(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(VS),gM=function(t){return t instanceof _S||t instanceof BS?!0:t instanceof tw&&t.type!==p1&&t.type!==g1},pM=function(t,e){switch(t){case 0:return w1(e);case 2:return Jk(e);case 1:default:return v1(e)}},mM=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},xM=["-apple-system","system-ui"],wM=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return xM.indexOf(e)===-1}):t},vM=(function(t){so(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return ws(this,void 0,void 0,function(){var n,i;return rs(this,function(s){switch(s.label){case 0:return n=zx(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,yM(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=bi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(VS),yM=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},CM=(function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ah([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),EM=(function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new CM({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new jk(this,e)}return t.instanceCount=1,t})(),rc=function(t,e){return e===void 0&&(e={}),BM(t,e)};typeof window<"u"&&MS.setContext(window);var BM=function(t,e){return ws(void 0,void 0,void 0,function(){var r,n,i,s,A,c,h,d,x,C,B,F,D,R,k,j,G,Q,ee,ne,M,te,M,H,O,z,J,W,X,Me,ye,we,ce,He,Be,tt,me,Z,de,fe;return rs(this,function(oe){switch(oe.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(O=e.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:e.proxy,useCORS:(z=e.useCORS)!==null&&z!==void 0?z:!1},s=Fx({logging:(J=e.logging)!==null&&J!==void 0?J:!0,cache:e.cache},i),A={windowWidth:(W=e.windowWidth)!==null&&W!==void 0?W:n.innerWidth,windowHeight:(X=e.windowHeight)!==null&&X!==void 0?X:n.innerHeight,scrollX:(Me=e.scrollX)!==null&&Me!==void 0?Me:n.pageXOffset,scrollY:(ye=e.scrollY)!==null&&ye!==void 0?ye:n.pageYOffset},c=new aA(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),h=new EM(s,c),d=(we=e.foreignObjectRendering)!==null&&we!==void 0?we:!1,x={allowTaint:(ce=e.allowTaint)!==null&&ce!==void 0?ce:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},h.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),C=new UB(h,t,x),B=C.clonedReferenceElement,B?[4,C.toIFrame(r,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return F=oe.sent(),D=rw(B)||Tk(B)?r6(B.ownerDocument):rg(h,B),R=D.width,k=D.height,j=D.left,G=D.top,Q=_M(h,B,e.backgroundColor),ee={canvas:e.canvas,backgroundColor:Q,scale:(Be=(He=e.scale)!==null&&He!==void 0?He:n.devicePixelRatio)!==null&&Be!==void 0?Be:1,x:((tt=e.x)!==null&&tt!==void 0?tt:0)+j,y:((me=e.y)!==null&&me!==void 0?me:0)+G,width:(Z=e.width)!==null&&Z!==void 0?Z:Math.ceil(R),height:(de=e.height)!==null&&de!==void 0?de:Math.ceil(k)},d?(h.logger.debug("Document cloned, using foreign object rendering"),M=new vM(h,ee),[4,M.render(B)]):[3,3];case 2:return ne=oe.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+j+","+G+" with size "+R+"x"+k+" using computed rendering"),h.logger.debug("Starting DOM parsing"),te=SS(h,B),Q===te.styles.backgroundColor&&(te.styles.backgroundColor=nA.TRANSPARENT),h.logger.debug("Starting renderer for element at "+ee.x+","+ee.y+" with size "+ee.width+"x"+ee.height),M=new hM(h,ee),[4,M.render(te)];case 4:ne=oe.sent(),oe.label=5;case 5:return(!((fe=e.removeContainer)!==null&&fe!==void 0)||fe)&&(UB.destroy(F)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,ne]}})})},_M=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Z0(t,getComputedStyle(n.documentElement).backgroundColor):nA.TRANSPARENT,s=n.body?Z0(t,getComputedStyle(n.body).backgroundColor):nA.TRANSPARENT,A=typeof r=="string"?Z0(t,r):r===null?nA.TRANSPARENT:4294967295;return e===n.documentElement?nl(i)?nl(s)?A:s:i:A};const TM=({currentUser:t,onLogout:e,onNavigateToProducts:r,onNavigateToCreateInvoice:n,onNavigateToSettings:i,onNavigateToCustomers:s,onNavigateToNotifications:A,onNavigateToSuppliers:c,onNavigateToClientRequests:h,onNavigateToCheckbook:d,onNavigateToSpecialOrders:x,invoices:C,products:B,onEditInvoice:F,onDeleteInvoice:D,onNewInvoiceForCustomer:R,settings:k,unreadNotificationsCount:j})=>{const[G,Q]=Se.useState("unpaid"),[ee,ne]=Se.useState(!1),[te,M]=Se.useState(""),[H,O]=Se.useState(!1),[z,J]=Se.useState(null),[W,X]=Se.useState(null),Me=Se.useRef(null),ye=Se.useRef(!1),we=Se.useRef(null);Se.useEffect(()=>{if(z&&k.showBarcode&&we.current)try{setTimeout(()=>{const oe=document.getElementById("hidden-barcode");oe&&typeof JsBarcode<"u"&&JsBarcode(oe,z.id,{format:"CODE128",width:1.5,height:40,displayValue:!0,fontSize:12,lineColor:"#000000"})},100)}catch(oe){console.error("Barcode generation failed",oe)}},[z,k.showBarcode]);const ce=oe=>{ye.current=!1,Me.current=setTimeout(()=>{ye.current=!0,(t.role==="admin"||t.permissions.isManager)&&(X(oe),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},He=()=>{Me.current&&(clearTimeout(Me.current),Me.current=null)},Be=()=>{W&&D&&(D(W.id),X(null))};Se.useEffect(()=>{z&&window.scrollTo({top:0,behavior:"smooth"})},[z]);const tt=oe=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(oe),me=async()=>{if(!(!z||!we.current)){O(!0);try{(await rc(we.current,{scale:3,backgroundColor:"#ffffff",useCORS:!0,logging:!1,width:we.current.offsetWidth,windowWidth:1e3})).toBlob(async xe=>{if(!xe){O(!1),alert("  ");return}try{const Ye=new ClipboardItem({"image/png":xe});await navigator.clipboard.write([Ye]);let Fe=z.phone?z.phone.replace(/\D/g,""):"";(Fe.startsWith("06")||Fe.startsWith("07")||Fe.startsWith("05"))&&(Fe="212"+Fe.substring(1)),window.open(Fe?`https://wa.me/${Fe}`:"https://wa.me/","_blank")}catch{alert("   ."),window.open("https://wa.me/","_blank")}finally{O(!1)}},"image/png",1)}catch{O(!1)}}},Z=()=>{z&&Q4(z,k)},de=()=>{Q("unpaid"),M(""),ne(!1),J(null)},fe=Se.useMemo(()=>C.filter(oe=>{const xe=G==="all"?!0:oe.type===G,Ye=oe.name.includes(te)||oe.id.includes(te);return xe&&Ye}).sort((oe,xe)=>xe.createdAt-oe.createdAt),[C,G,te]);return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[z&&p.jsxs("div",{ref:we,style:{position:"fixed",top:0,left:-9999,width:k.receiptSize==="58mm"?"58mm":"80mm",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",padding:"10px 20px",fontSize:"12px",lineHeight:"1.4",direction:"rtl",zIndex:-1,boxSizing:"border-box"},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"1px dashed #000",paddingBottom:"10px",marginBottom:"10px"},children:[k.businessLogo&&p.jsx("img",{src:k.businessLogo,alt:"Logo",style:{maxWidth:"60px",maxHeight:"60px",marginBottom:"5px"}}),p.jsx("div",{style:{fontSize:"16px",fontWeight:"800",margin:"5px 0"},children:k.businessName}),p.jsx("div",{style:{fontSize:"10px"},children:k.userName}),p.jsxs("div",{style:{fontSize:"10px"},children:[": ",new Date().toLocaleDateString("ar-MA")]}),p.jsxs("div",{style:{fontSize:"10px"},children:[" : ",z.id]})]}),p.jsxs("div",{style:{marginBottom:"10px",borderBottom:"1px dashed #000",paddingBottom:"5px"},children:[p.jsxs("div",{style:{fontWeight:"bold"},children:[": ",z.name]}),z.phone&&p.jsxs("div",{children:[": ",z.phone]})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px",fontSize:"10px"},children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #000",padding:"2px 0 8px 0"},children:""}),p.jsx("th",{style:{textAlign:"center",borderBottom:"1px solid #000",padding:"2px 0 8px 0",width:"15%"},children:""}),p.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #000",padding:"2px 0 8px 0",width:"35%"},children:""})]})}),p.jsx("tbody",{children:z.items.map((oe,xe)=>p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"4px 0",verticalAlign:"top"},children:oe.productName}),p.jsx("td",{style:{padding:"4px 0",textAlign:"center",verticalAlign:"top"},children:oe.count}),p.jsx("td",{style:{padding:"4px 0",textAlign:"left",verticalAlign:"top"},children:oe.total.toFixed(2)})]},xe))})]}),p.jsxs("div",{style:{borderTop:"1px dashed #000",paddingTop:"5px",marginTop:"5px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"900",fontSize:"14px",marginTop:"5px"},children:[p.jsx("span",{children:":"}),p.jsxs("span",{children:[z.amount.toFixed(2)," ."]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[p.jsx("span",{children:":"}),p.jsxs("span",{children:[z.paidAmount.toFixed(2)," ."]})]}),z.remainingAmount>0&&p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[p.jsx("span",{children:":"}),p.jsxs("span",{children:[z.remainingAmount.toFixed(2)," ."]})]})]}),p.jsxs("div",{style:{textAlign:"center",marginTop:"15px",fontSize:"9px",borderTop:"1px dashed #000",paddingTop:"10px"},children:[p.jsx("p",{children:" "}),p.jsx("p",{children:"Thank you for your visit"}),k.showBarcode&&p.jsx("div",{style:{marginTop:"10px",display:"flex",justifyContent:"center"},children:p.jsx("svg",{id:"hidden-barcode"})})]})]}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:border-b md:border-gray-800 md:bg-black/90 md:backdrop-blur-md",children:[p.jsxs("h1",{className:"text-xl font-bold text-gray-100",children:["  ",t.name]}),p.jsxs("div",{className:"flex items-center gap-3",children:[t.permissions.viewNotifications&&p.jsxs("button",{onClick:A,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors relative active:scale-95",title:"",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),p.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),j>0&&p.jsx("span",{className:"absolute top-2 right-2.5 w-4 h-4 bg-red-500 rounded-full border border-black text-[8px] flex items-center justify-center text-white font-black animate-bounce",children:j})]}),p.jsx("button",{onClick:i,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-[#57b385] transition-colors active:scale-95",title:"",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto scroll-smooth custom-scrollbar pb-32 md:px-6",children:[p.jsxs("div",{className:"md:grid md:grid-cols-2 lg:grid-cols-4 md:gap-4 md:mb-6",children:[t.permissions.manageSuppliers&&p.jsx("div",{className:"px-6 md:px-0 pt-4 pb-0 md:py-0",children:p.jsx("button",{onClick:c,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"w-14 h-14 bg-red-500/10 rounded-2xl flex items-center justify-center text-red-500 border border-red-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14c-.6.6-1 1.5-1 2.3v3.7c0 1.1.9 2 2 2h3.7c.9 0 1.7-.4 2.3-1L15.4 15"}),p.jsx("path",{d:"m11 16 2 2"}),p.jsx("path",{d:"m14 13 4 4"}),p.jsx("path",{d:"M22 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})]})}),p.jsxs("div",{className:"text-right",children:[p.jsx("h3",{className:"text-lg font-black text-white",children:""}),p.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})}),t.permissions.manageRequests&&p.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:p.jsx("button",{onClick:h,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"w-14 h-14 bg-blue-500/10 rounded-2xl flex items-center justify-center text-blue-500 border border-blue-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),p.jsx("path",{d:"M12 11h4"}),p.jsx("path",{d:"M12 16h4"}),p.jsx("path",{d:"M8 11h.01"}),p.jsx("path",{d:"M8 16h.01"})]})}),p.jsxs("div",{className:"text-right",children:[p.jsx("h3",{className:"text-lg font-black text-white",children:""}),p.jsx("p",{className:"text-xs text-gray-500",children:"   "})]})]})})}),t.permissions.manageCheckbook&&p.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:p.jsx("button",{onClick:d,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"w-14 h-14 bg-purple-500/10 rounded-2xl flex items-center justify-center text-purple-500 border border-purple-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),p.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),p.jsxs("div",{className:"text-right",children:[p.jsx("h3",{className:"text-lg font-black text-white",children:""}),p.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})}),t.permissions.manageSpecialOrders&&p.jsx("div",{className:"px-6 md:px-0 pt-3 pb-4 md:py-0",children:p.jsx("button",{onClick:x,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"w-14 h-14 bg-rose-500/10 rounded-2xl flex items-center justify-center text-rose-500 border border-rose-500/20",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),p.jsxs("div",{className:"text-right",children:[p.jsx("h3",{className:"text-lg font-black text-white",children:""}),p.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})})]}),p.jsx("div",{className:"px-6 md:px-0 pt-2 pb-2",children:p.jsx("h2",{className:"text-xl font-extrabold text-gray-200 border-r-[6px] border-[#57b385] pr-4 py-1 flex items-center gap-3",children:" "})}),p.jsxs("div",{className:"sticky top-0 bg-[#0c0c0c] z-10 md:static md:bg-transparent",children:[p.jsxs("div",{className:"px-6 md:px-0 flex border-b border-gray-800",children:[p.jsxs("button",{onClick:()=>Q("unpaid"),className:`flex-1 py-3 font-bold transition-all relative ${G==="unpaid"?"text-white":"text-gray-500"}`,children:[" ",G==="unpaid"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),p.jsxs("button",{onClick:()=>Q("paid"),className:`flex-1 py-3 font-bold transition-all relative ${G==="paid"?"text-white":"text-gray-500"}`,children:["",G==="paid"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),p.jsxs("button",{onClick:()=>Q("all"),className:`flex-1 py-3 font-bold transition-all relative ${G==="all"?"text-white":"text-gray-500"}`,children:["",G==="all"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]})]}),p.jsx("div",{className:"px-6 md:px-0 py-4 flex items-center justify-between min-h-[72px]",children:ee?p.jsxs("div",{className:"flex items-center justify-between w-full gap-3 animate-in slide-in-from-right duration-300",children:[p.jsx("button",{onClick:()=>{ne(!1),M("")},className:"w-10 h-10 min-w-[40px] bg-[#57b385] rounded-xl flex items-center justify-center text-white shadow-lg active:scale-90 transition-transform",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("div",{className:"flex-1 max-w-[180px] relative",children:p.jsx("input",{autoFocus:!0,type:"text",placeholder:"   ...",className:"w-full bg-black/40 border border-gray-800 rounded-full py-2.5 px-4 text-xs text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600",value:te,onChange:oe=>M(oe.target.value)})}),p.jsxs("div",{className:"text-sm font-bold text-gray-100 whitespace-nowrap",children:[p.jsx("span",{className:"text-[#57b385] font-black",children:fe.length})," "]})]}):p.jsxs("div",{className:"flex items-center justify-between w-full animate-in fade-in duration-300",children:[p.jsx("button",{onClick:()=>ne(!0),className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400 hover:text-[#57b385] transition-all active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})}),p.jsxs("div",{className:"text-sm font-bold text-gray-100 flex items-center gap-1.5",children:[p.jsx("span",{className:"text-[#57b385] font-black",children:fe.length}),"  "]})]})})]}),p.jsx("div",{className:"px-4 md:px-0 space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4",children:fe.length>0?fe.map(oe=>p.jsxs("div",{onMouseDown:()=>ce(oe),onMouseUp:He,onMouseLeave:He,onTouchStart:()=>ce(oe),onTouchEnd:He,onClick:()=>!ye.current&&J(oe),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex md:flex-col items-center gap-4 group hover:border-gray-700 transition-all active:scale-[0.98] cursor-pointer relative overflow-hidden h-full",children:[p.jsxs("div",{className:"flex items-center gap-4 w-full",children:[p.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 items-center justify-center text-[#7c8b9a] group-hover:scale-105 transition-all shadow-inner group-hover:border-[#57b385]/30 flex",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),p.jsxs("div",{className:"flex-1 text-right",children:[p.jsx("h4",{className:"text-xl md:text-2xl font-black text-white mb-2 tracking-tight",children:oe.name}),p.jsx("span",{className:"text-xs text-gray-500 font-bold whitespace-nowrap",children:new Date(oe.createdAt).toLocaleDateString("ar-MA",{day:"numeric",month:"short"})})]})]}),p.jsx("div",{className:"flex flex-col gap-1.5 items-end w-full md:mt-2",children:p.jsxs("div",{className:"bg-[#1a1a1a]/80 px-4 py-2 rounded-full border border-gray-800/50 flex items-center justify-between w-full shadow-lg",children:[p.jsxs("span",{className:`text-sm font-black ${oe.remainingAmount>0?"text-red-400":"text-[#57b385]"} whitespace-nowrap`,children:[tt(oe.remainingAmount>0?oe.remainingAmount:oe.amount)," ."]}),p.jsx("div",{className:"bg-[#1a1a1a] px-2 py-0.5 rounded-lg border border-gray-800 text-[#7c8b9a] font-mono text-[9px] font-bold shadow-inner",children:oe.id})]})})]},oe.id)):p.jsxs("div",{className:"text-center py-10 text-gray-600 flex flex-col items-center gap-4 col-span-full",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-20",children:[p.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),p.jsx("p",{children:"  "})]})})]}),z&&p.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/90 md:backdrop-blur-sm flex flex-col md:items-center md:justify-center animate-in slide-in-from-bottom md:slide-in-from-bottom-10 md:fade-in duration-400 overflow-hidden",children:p.jsxs("div",{className:"w-full h-full md:h-auto md:max-h-[90vh] md:max-w-2xl bg-[#0c0c0c] md:bg-[#111111] md:border md:border-gray-800 md:rounded-[3rem] md:shadow-2xl flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"px-6 pt-10 md:pt-6 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#111111]",children:[p.jsx("button",{onClick:()=>J(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsx("h2",{className:"text-xl font-bold",children:" "}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>R(z.name,z.phone||""),disabled:!t.permissions.createInvoices,className:`p-3 bg-blue-500/10 rounded-2xl border border-blue-500/20 text-blue-500 hover:bg-blue-500 hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,title:"   ",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),p.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),p.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),p.jsx("button",{onClick:()=>F(z),disabled:!t.permissions.createInvoices,className:`p-3 bg-[#57b385]/10 rounded-2xl border border-[#57b385]/20 text-[#57b385] hover:bg-[#57b385] hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 20h9"}),p.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:z.name.charAt(0)}),p.jsx("h3",{className:"text-2xl font-black text-white",children:z.name}),p.jsxs("div",{className:"flex flex-col items-center gap-2",children:[p.jsxs("div",{className:"flex justify-center gap-2",children:[p.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:z.id}),p.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:z.date})]}),z.creatorName&&p.jsxs("span",{className:"text-[10px] bg-black/40 px-4 py-1 rounded-full border border-gray-800 text-[#57b385] font-black",children:[": ",z.creatorName]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("h4",{className:"text-xs font-bold text-gray-500 border-b border-gray-800 pb-2",children:["  (",z.items.length,")"]}),p.jsx("div",{className:"md:grid md:grid-cols-2 gap-3",children:z.items.map((oe,xe)=>p.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/40 p-4 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-white text-sm mb-1",children:oe.productName}),p.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:[p.jsx("span",{className:"text-[#57b385] font-bold",children:oe.count}),"  ",tt(oe.price)]})]}),p.jsx("div",{className:"font-black text-[#57b385]",children:tt(oe.total)})]},xe))})]}),p.jsxs("div",{className:"bg-[#1a1a1a] rounded-[2rem] border border-gray-800 p-5 space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-gray-400 font-bold",children:" "}),p.jsxs("span",{className:"text-lg font-black text-white",children:[tt(z.amount)," ."]})]}),p.jsx("div",{className:"w-full h-px bg-gray-700/50"}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),p.jsxs("span",{className:"text-sm font-black text-[#57b385]",children:[tt(z.paidAmount)," ."]})]}),z.remainingAmount>0&&p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),p.jsxs("span",{className:"text-sm font-black text-red-500",children:[tt(z.remainingAmount)," ."]})]})]})]}),p.jsxs("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#111111] border-t border-gray-800 pb-10 md:pb-6 flex gap-4",children:[p.jsx("button",{onClick:me,disabled:H,className:`flex-1 bg-[#25D366] text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3 ${H?"opacity-50 cursor-not-allowed":""}`,children:H?p.jsx("span",{className:"text-sm",children:" ..."}):p.jsxs(p.Fragment,{children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),p.jsx("polyline",{points:"16 6 12 2 8 6"}),p.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),""]})}),p.jsx("button",{onClick:Z,className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-200 py-4 rounded-2xl font-bold active:scale-95 transition-all flex items-center justify-center",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),p.jsx("button",{onClick:()=>J(null),className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),W&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsxs("p",{className:"text-sm text-gray-400",children:["       ",p.jsx("span",{className:"text-white font-bold",children:W.id})," "]})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:Be,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>X(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),p.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[p.jsx(Ih,{onClick:de,icon:p.jsx(bM,{}),label:"",active:!0}),p.jsx(Ih,{onClick:r,icon:p.jsx(SM,{}),label:""}),p.jsx("div",{className:"relative -top-6",children:p.jsx("button",{onClick:n,disabled:!t.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:p.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),p.jsx(Ih,{onClick:s,icon:p.jsx(IM,{}),label:""}),p.jsx(Ih,{onClick:i,icon:p.jsx(NM,{}),label:""})]})]})},Ih=({icon:t,label:e,active:r=!1,onClick:n})=>p.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[p.jsx("div",{className:r?"scale-110":"",children:t}),p.jsx("span",{className:"text-[10px] font-bold",children:e})]}),bM=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),SM=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),IM=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),NM=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jS=1252,FM=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],nw={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},iw=function(t){FM.indexOf(t)!=-1&&(jS=nw[0]=t)};function RM(){iw(1252)}var $a=function(t){iw(t)};function GS(){$a(1200),RM()}function QB(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function DM(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function KS(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var H0=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?DM(t.slice(2)):e==254&&r==255?KS(t.slice(2)):e==65279?t.slice(1):t},Nh=function(e){return String.fromCharCode(e)},PB=function(e){return String.fromCharCode(e)},vf,ZA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function HB(t){for(var e="",r=0,n=0,i=0,s=0,A=0,c=0,h=0,d=0;d<t.length;)r=t.charCodeAt(d++),s=r>>2,n=t.charCodeAt(d++),A=(r&3)<<4|n>>4,i=t.charCodeAt(d++),c=(n&15)<<2|i>>6,h=i&63,isNaN(n)?c=h=64:isNaN(i)&&(h=64),e+=ZA.charAt(s)+ZA.charAt(A)+ZA.charAt(c)+ZA.charAt(h);return e}function ha(t){var e="",r=0,n=0,i=0,s=0,A=0,c=0,h=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)s=ZA.indexOf(t.charAt(d++)),A=ZA.indexOf(t.charAt(d++)),r=s<<2|A>>4,e+=String.fromCharCode(r),c=ZA.indexOf(t.charAt(d++)),n=(A&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),h=ZA.indexOf(t.charAt(d++)),i=(c&3)<<6|h,h!==64&&(e+=String.fromCharCode(i));return e}var Nr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),uc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function cl(t){return Nr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function VB(t){return Nr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Za=function(e){return Nr?uc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function fc(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function sw(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return sw(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var XA=Nr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:uc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function UM(t){for(var e=[],r=0,n=t.length+250,i=cl(t.length+255),s=0;s<t.length;++s){var A=t.charCodeAt(s);if(A<128)i[r++]=A;else if(A<2048)i[r++]=192|A>>6&31,i[r++]=128|A&63;else if(A>=55296&&A<57344){A=(A&1023)+64;var c=t.charCodeAt(++s)&1023;i[r++]=240|A>>8&7,i[r++]=128|A>>2&63,i[r++]=128|c>>6&15|(A&3)<<4,i[r++]=128|c&63}else i[r++]=224|A>>12&15,i[r++]=128|A>>6&63,i[r++]=128|A&63;r>n&&(e.push(i.slice(0,r)),r=0,i=cl(65535),n=65530)}return e.push(i.slice(0,r)),XA(e)}var Bs=/\u0000/g,V0=/[\u0001-\u0006]/g;function xu(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function eo(t,e){var r=""+t;return r.length>=e?r:Gn("0",e-r.length)+r}function aw(t,e){var r=""+t;return r.length>=e?r:Gn(" ",e-r.length)+r}function C1(t,e){var r=""+t;return r.length>=e?r:r+Gn(" ",e-r.length)}function kM(t,e){var r=""+Math.round(t);return r.length>=e?r:Gn("0",e-r.length)+r}function MM(t,e){var r=""+t;return r.length>=e?r:Gn("0",e-r.length)+r}var jB=Math.pow(2,32);function iu(t,e){if(t>jB||t<-jB)return kM(t,e);var r=Math.round(t);return MM(r,e)}function E1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var GB=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],rx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function OM(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var gr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},KB={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},LM={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function B1(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,A=1,c=0,h=1,d=0,x=0,C=Math.floor(i);d<e&&(C=Math.floor(i),c=C*A+s,x=C*d+h,!(i-C<5e-8));)i=1/(i-C),s=A,A=c,h=d,d=x;if(x>e&&(d>e?(x=h,c=s):(x=d,c=A)),!r)return[0,n*c,x];var B=Math.floor(n*c/x);return[B,n*c-B*x,x]}function Xl(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,A=[],c={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++n,++c.D)),n===60)A=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)A=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var h=new Date(1900,0,1);h.setDate(h.getDate()+n-1),A=[h.getFullYear(),h.getMonth()+1,h.getDate()],s=h.getDay(),n<60&&(s=(s+6)%7),r&&(s=GM(h,A))}return c.y=A[0],c.m=A[1],c.d=A[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var zS=new Date(1899,11,31,0,0,0),QM=zS.getTime(),PM=new Date(1900,2,1,0,0,0);function WS(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=PM&&(r+=1440*60*1e3),(r-(QM+(t.getTimezoneOffset()-zS.getTimezoneOffset())*6e4))/(1440*60*1e3)}function ow(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function HM(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function VM(t){var e=t<0?12:11,r=ow(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function jM(t){var e=ow(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function yf(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=VM(t):e===10?r=t.toFixed(10).substr(0,12):r=jM(t),ow(HM(r.toUpperCase()))}function nc(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):yf(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Oa(14,WS(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function GM(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function KM(t,e,r,n){var i="",s=0,A=0,c=r.y,h,d=0;switch(t){case 98:c=r.y+543;case 121:switch(e.length){case 1:case 2:h=c%100,d=2;break;default:h=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:h=r.m,d=e.length;break;case 3:return rx[r.m-1][1];case 5:return rx[r.m-1][0];default:return rx[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=r.d,d=e.length;break;case 3:return GB[r.q][0];default:return GB[r.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(r.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=r.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=r.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?eo(r.S,e.length):(n>=2?A=n===3?1e3:100:A=n===1?10:1,s=Math.round(A*(r.S+r.u)),s>=60*A&&(s=0),e==="s"?s===0?"0":""+s/A:(i=eo(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=r.D*24+r.H;break;case"[m]":case"[mm]":h=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":h=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:h=c,d=1;break}var x=d>0?eo(h,d):"";return x}function $A(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var XS=/%/g;function zM(t,e,r){var n=e.replace(XS,""),i=e.length-n.length;return iA(t,n,r*Math.pow(10,2*i))+Gn("%",i)}function WM(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return iA(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function qS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+qS(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var A=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(A-r.length+s):r+="E+"+(A-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,d,x){return h+d+x.substr(0,(i+s)%i)+"."+x.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var YS=/# (\?+)( ?)\/( ?)(\d+)/;function XM(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),A=i-s*n,c=n;return r+(s===0?"":""+s)+" "+(A===0?Gn(" ",t[1].length+1+t[4].length):aw(A,t[1].length)+t[2]+"/"+t[3]+eo(c,t[4].length))}function qM(t,e,r){return r+(e===0?"":""+e)+Gn(" ",t[1].length+2+t[4].length)}var JS=/^#*0*\.([0#]+)/,ZS=/\).*[0#]/,$S=/\(###\) ###\\?-####/;function ys(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function zB(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function WB(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function YM(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function JM(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ia(t,e,r){if(t.charCodeAt(0)===40&&!e.match(ZS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ia("n",n,r):"("+Ia("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return WM(t,e,r);if(e.indexOf("%")!==-1)return zM(t,e,r);if(e.indexOf("E")!==-1)return qS(e,r);if(e.charCodeAt(0)===36)return"$"+Ia(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,A,c,h=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+iu(h,e.length);if(e.match(/^[#?]+$/))return i=iu(r,0),i==="0"&&(i=""),i.length>e.length?i:ys(e.substr(0,e.length-i.length))+i;if(s=e.match(YS))return XM(s,h,d);if(e.match(/^#+0+$/))return d+iu(h,e.length-e.indexOf("0"));if(s=e.match(JS))return i=zB(r,s[1].length).replace(/^([^\.]+)$/,"$1."+ys(s[1])).replace(/\.$/,"."+ys(s[1])).replace(/\.(\d*)$/,function(D,R){return"."+R+Gn("0",ys(s[1]).length-R.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+zB(h,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+$A(iu(h,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ia(t,e,-r):$A(""+(Math.floor(r)+YM(r,s[1].length)))+"."+eo(WB(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ia(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xu(Ia(t,e.replace(/[\\-]/g,""),r)),A=0,xu(xu(e.replace(/\\/g,"")).replace(/[0#]/g,function(D){return A<i.length?i.charAt(A++):D==="0"?"0":""}));if(e.match($S))return i=Ia(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var x="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return A=Math.min(s[4].length,7),c=B1(h,Math.pow(10,A)-1,!1),i=""+d,x=iA("n",s[1],c[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),i+=x+s[2]+"/"+s[3],x=C1(c[2],A),x.length<s[4].length&&(x=ys(s[4].substr(s[4].length-x.length))+x),i+=x,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return A=Math.min(Math.max(s[1].length,s[4].length),7),c=B1(h,Math.pow(10,A)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?aw(c[1],A)+s[2]+"/"+s[3]+C1(c[2],A):Gn(" ",2*A+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=iu(r,0),e.length<=i.length?i:ys(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),A=i.indexOf(".");var C=e.indexOf(".")-A,B=e.length-i.length-C;return ys(e.substr(0,C)+i+e.substr(e.length-B))}if(s=e.match(/^00,000\.([#0]*0)$/))return A=WB(r,s[1].length),r<0?"-"+Ia(t,e,-r):$A(JM(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(D){return"00,"+(D.length<3?eo(0,3-D.length):"")+D})+"."+eo(A,s[1].length);switch(e){case"###,##0.00":return Ia(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var F=$A(iu(h,0));return F!=="0"?d+F:"";case"###,###.00":return Ia(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ia(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function ZM(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return iA(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function $M(t,e,r){var n=e.replace(XS,""),i=e.length-n.length;return iA(t,n,r*Math.pow(10,2*i))+Gn("%",i)}function eI(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+eI(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var A=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(A-r.length+s):r+="E+"+(A-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,d,x){return h+d+x.substr(0,(i+s)%i)+"."+x.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function xo(t,e,r){if(t.charCodeAt(0)===40&&!e.match(ZS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?xo("n",n,r):"("+xo("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return ZM(t,e,r);if(e.indexOf("%")!==-1)return $M(t,e,r);if(e.indexOf("E")!==-1)return eI(e,r);if(e.charCodeAt(0)===36)return"$"+xo(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,A,c,h=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+eo(h,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:ys(e.substr(0,e.length-i.length))+i;if(s=e.match(YS))return qM(s,h,d);if(e.match(/^#+0+$/))return d+eo(h,e.length-e.indexOf("0"));if(s=e.match(JS))return i=(""+r).replace(/^([^\.]+)$/,"$1."+ys(s[1])).replace(/\.$/,"."+ys(s[1])),i=i.replace(/\.(\d*)$/,function(D,R){return"."+R+Gn("0",ys(s[1]).length-R.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+$A(""+h);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+xo(t,e,-r):$A(""+r)+"."+Gn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return xo(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xu(xo(t,e.replace(/[\\-]/g,""),r)),A=0,xu(xu(e.replace(/\\/g,"")).replace(/[0#]/g,function(D){return A<i.length?i.charAt(A++):D==="0"?"0":""}));if(e.match($S))return i=xo(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var x="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return A=Math.min(s[4].length,7),c=B1(h,Math.pow(10,A)-1,!1),i=""+d,x=iA("n",s[1],c[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),i+=x+s[2]+"/"+s[3],x=C1(c[2],A),x.length<s[4].length&&(x=ys(s[4].substr(s[4].length-x.length))+x),i+=x,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return A=Math.min(Math.max(s[1].length,s[4].length),7),c=B1(h,Math.pow(10,A)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?aw(c[1],A)+s[2]+"/"+s[3]+C1(c[2],A):Gn(" ",2*A+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:ys(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),A=i.indexOf(".");var C=e.indexOf(".")-A,B=e.length-i.length-C;return ys(e.substr(0,C)+i+e.substr(e.length-B))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+xo(t,e,-r):$A(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(D){return"00,"+(D.length<3?eo(0,3-D.length):"")+D})+"."+eo(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var F=$A(""+h);return F!=="0"?d+F:"";default:if(e.match(/\.[0#?]*$/))return xo(t,e.slice(0,e.lastIndexOf(".")),r)+ys(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function iA(t,e,r){return(r|0)===r?xo(t,e,r):Ia(t,e,r)}function eO(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var tI=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ku(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":E1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(tI))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function tO(t,e,r,n){for(var i=[],s="",A=0,c="",h="t",d,x,C,B="H";A<t.length;)switch(c=t.charAt(A)){case"G":if(!E1(t,A))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},A+=7;break;case'"':for(s="";(C=t.charCodeAt(++A))!==34&&A<t.length;)s+=String.fromCharCode(C);i[i.length]={t:"t",v:s},++A;break;case"\\":var F=t.charAt(++A),D=F==="("||F===")"?F:"t";i[i.length]={t:D,v:F},++A;break;case"_":i[i.length]={t:"t",v:" "},A+=2;break;case"@":i[i.length]={t:"T",v:e},++A;break;case"B":case"b":if(t.charAt(A+1)==="1"||t.charAt(A+1)==="2"){if(d==null&&(d=Xl(e,r,t.charAt(A+1)==="2"),d==null))return"";i[i.length]={t:"X",v:t.substr(A,2)},h=c,A+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=Xl(e,r),d==null))return"";for(s=c;++A<t.length&&t.charAt(A).toLowerCase()===c;)s+=c;c==="m"&&h.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=B),i[i.length]={t:c,v:s},h=c;break;case"A":case"a":case"":var R={t:c,v:c};if(d==null&&(d=Xl(e,r)),t.substr(A,3).toUpperCase()==="A/P"?(d!=null&&(R.v=d.H>=12?"P":"A"),R.t="T",B="h",A+=3):t.substr(A,5).toUpperCase()==="AM/PM"?(d!=null&&(R.v=d.H>=12?"PM":"AM"),R.t="T",A+=5,B="h"):t.substr(A,5).toUpperCase()==="/"?(d!=null&&(R.v=d.H>=12?"":""),R.t="T",A+=5,B="h"):(R.t="t",++A),d==null&&R.t==="T")return"";i[i.length]=R,h=c;break;case"[":for(s=c;t.charAt(A++)!=="]"&&A<t.length;)s+=t.charAt(A);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(tI)){if(d==null&&(d=Xl(e,r),d==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},h=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",ku(t)||(i[i.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=c;++A<t.length&&(c=t.charAt(A))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++A<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(A))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;t.charAt(++A)===c;)s+=c;i[i.length]={t:c,v:s},h=c;break;case"*":++A,(t.charAt(A)==" "||t.charAt(A)=="*")&&++A;break;case"(":case")":i[i.length]={t:n===1?"t":c,v:c},++A;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;A<t.length&&"0123456789".indexOf(t.charAt(++A))>-1;)s+=t.charAt(A);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++A;break;case"$":i[i.length]={t:"t",v:"$"},++A;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++A;break}var k=0,j=0,G;for(A=i.length-1,h="t";A>=0;--A)switch(i[A].t){case"h":case"H":i[A].t=B,h="h",k<1&&(k=1);break;case"s":(G=i[A].v.match(/\.0+$/))&&(j=Math.max(j,G[0].length-1)),k<3&&(k=3);case"d":case"y":case"M":case"e":h=i[A].t;break;case"m":h==="s"&&(i[A].t="M",k<2&&(k=2));break;case"X":break;case"Z":k<1&&i[A].v.match(/[Hh]/)&&(k=1),k<2&&i[A].v.match(/[Mm]/)&&(k=2),k<3&&i[A].v.match(/[Ss]/)&&(k=3)}switch(k){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var Q="",ee;for(A=0;A<i.length;++A)switch(i[A].t){case"t":case"T":case" ":case"D":break;case"X":i[A].v="",i[A].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[A].v=KM(i[A].t.charCodeAt(0),i[A].v,d,j),i[A].t="t";break;case"n":case"?":for(ee=A+1;i[ee]!=null&&((c=i[ee].t)==="?"||c==="D"||(c===" "||c==="t")&&i[ee+1]!=null&&(i[ee+1].t==="?"||i[ee+1].t==="t"&&i[ee+1].v==="/")||i[A].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[ee].v==="/"||i[ee].v===" "&&i[ee+1]!=null&&i[ee+1].t=="?"));)i[A].v+=i[ee].v,i[ee]={v:"",t:";"},++ee;Q+=i[A].v,A=ee-1;break;case"G":i[A].t="t",i[A].v=nc(e,r);break}var ne="",te,M;if(Q.length>0){Q.charCodeAt(0)==40?(te=e<0&&Q.charCodeAt(0)===45?-e:e,M=iA("n",Q,te)):(te=e<0&&n>1?-e:e,M=iA("n",Q,te),te<0&&i[0]&&i[0].t=="t"&&(M=M.substr(1),i[0].v="-"+i[0].v)),ee=M.length-1;var H=i.length;for(A=0;A<i.length;++A)if(i[A]!=null&&i[A].t!="t"&&i[A].v.indexOf(".")>-1){H=A;break}var O=i.length;if(H===i.length&&M.indexOf("E")===-1){for(A=i.length-1;A>=0;--A)i[A]==null||"n?".indexOf(i[A].t)===-1||(ee>=i[A].v.length-1?(ee-=i[A].v.length,i[A].v=M.substr(ee+1,i[A].v.length)):ee<0?i[A].v="":(i[A].v=M.substr(0,ee+1),ee=-1),i[A].t="t",O=A);ee>=0&&O<i.length&&(i[O].v=M.substr(0,ee+1)+i[O].v)}else if(H!==i.length&&M.indexOf("E")===-1){for(ee=M.indexOf(".")-1,A=H;A>=0;--A)if(!(i[A]==null||"n?".indexOf(i[A].t)===-1)){for(x=i[A].v.indexOf(".")>-1&&A===H?i[A].v.indexOf(".")-1:i[A].v.length-1,ne=i[A].v.substr(x+1);x>=0;--x)ee>=0&&(i[A].v.charAt(x)==="0"||i[A].v.charAt(x)==="#")&&(ne=M.charAt(ee--)+ne);i[A].v=ne,i[A].t="t",O=A}for(ee>=0&&O<i.length&&(i[O].v=M.substr(0,ee+1)+i[O].v),ee=M.indexOf(".")+1,A=H;A<i.length;++A)if(!(i[A]==null||"n?(".indexOf(i[A].t)===-1&&A!==H)){for(x=i[A].v.indexOf(".")>-1&&A===H?i[A].v.indexOf(".")+1:0,ne=i[A].v.substr(0,x);x<i[A].v.length;++x)ee<M.length&&(ne+=M.charAt(ee++));i[A].v=ne,i[A].t="t",O=A}}}for(A=0;A<i.length;++A)i[A]!=null&&"n?".indexOf(i[A].t)>-1&&(te=n>1&&e<0&&A>0&&i[A-1].v==="-"?-e:e,i[A].v=iA(i[A].t,i[A].v,te),i[A].t="t");var z="";for(A=0;A!==i.length;++A)i[A]!=null&&(z+=i[A].v);return z}var XB=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function qB(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function rO(t,e){var r=eO(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var A=r[0].match(XB),c=r[1].match(XB);return qB(e,A)?[n,r[0]]:qB(e,c)?[n,r[1]]:[n,r[A!=null&&c!=null?2:1]]}return[n,s]}function Oa(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:gr)[t],n==null&&(n=r.table&&r.table[KB[t]]||gr[KB[t]]),n==null&&(n=LM[t]||"General");break}if(E1(n,0))return nc(e,r);e instanceof Date&&(e=WS(e,r.date1904));var i=rO(n,e);if(E1(i[1]))return nc(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return tO(i[1],e,r,i[0])}function $l(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(gr[r]==null){e<0&&(e=r);continue}if(gr[r]==t){e=r;break}}e<0&&(e=391)}return gr[e]=t,e}function rI(){gr=OM()}var nO={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},nI=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function iO(t){var e=typeof t=="number"?gr[t]:t;return e=e.replace(nI,"(\\d+)"),new RegExp("^"+e+"$")}function sO(t,e,r){var n=-1,i=-1,s=-1,A=-1,c=-1,h=-1;(e.match(nI)||[]).forEach(function(C,B){var F=parseInt(r[B+1],10);switch(C.toLowerCase().charAt(0)){case"y":n=F;break;case"d":s=F;break;case"h":A=F;break;case"s":h=F;break;case"m":A>=0?c=F:i=F;break}}),h>=0&&c==-1&&i>=0&&(c=i,i=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var x=("00"+(A>=0?A:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return A==-1&&c==-1&&h==-1?d:n==-1&&i==-1&&s==-1?x:d+"T"+x}var aO=(function(){var t={};t.version="1.2.0";function e(){for(var M=0,H=new Array(256),O=0;O!=256;++O)M=O,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,H[O]=M;return typeof Int32Array<"u"?new Int32Array(H):H}var r=e();function n(M){var H=0,O=0,z=0,J=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)J[z]=M[z];for(z=0;z!=256;++z)for(O=M[z],H=256+z;H<4096;H+=256)O=J[H]=O>>>8^M[O&255];var W=[];for(z=1;z!=16;++z)W[z-1]=typeof Int32Array<"u"?J.subarray(z*256,z*256+256):J.slice(z*256,z*256+256);return W}var i=n(r),s=i[0],A=i[1],c=i[2],h=i[3],d=i[4],x=i[5],C=i[6],B=i[7],F=i[8],D=i[9],R=i[10],k=i[11],j=i[12],G=i[13],Q=i[14];function ee(M,H){for(var O=H^-1,z=0,J=M.length;z<J;)O=O>>>8^r[(O^M.charCodeAt(z++))&255];return~O}function ne(M,H){for(var O=H^-1,z=M.length-15,J=0;J<z;)O=Q[M[J++]^O&255]^G[M[J++]^O>>8&255]^j[M[J++]^O>>16&255]^k[M[J++]^O>>>24]^R[M[J++]]^D[M[J++]]^F[M[J++]]^B[M[J++]]^C[M[J++]]^x[M[J++]]^d[M[J++]]^h[M[J++]]^c[M[J++]]^A[M[J++]]^s[M[J++]]^r[M[J++]];for(z+=15;J<z;)O=O>>>8^r[(O^M[J++])&255];return~O}function te(M,H){for(var O=H^-1,z=0,J=M.length,W=0,X=0;z<J;)W=M.charCodeAt(z++),W<128?O=O>>>8^r[(O^W)&255]:W<2048?(O=O>>>8^r[(O^(192|W>>6&31))&255],O=O>>>8^r[(O^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,X=M.charCodeAt(z++)&1023,O=O>>>8^r[(O^(240|W>>8&7))&255],O=O>>>8^r[(O^(128|W>>2&63))&255],O=O>>>8^r[(O^(128|X>>6&15|(W&3)<<4))&255],O=O>>>8^r[(O^(128|X&63))&255]):(O=O>>>8^r[(O^(224|W>>12&15))&255],O=O>>>8^r[(O^(128|W>>6&63))&255],O=O>>>8^r[(O^(128|W&63))&255]);return~O}return t.table=r,t.bstr=ee,t.buf=ne,t.str=te,t})(),Dr=(function(){var e={};e.version="1.2.1";function r(re,ae){for(var le=re.split("/"),ue=ae.split("/"),he=0,Ce=0,je=Math.min(le.length,ue.length);he<je;++he){if(Ce=le[he].length-ue[he].length)return Ce;if(le[he]!=ue[he])return le[he]<ue[he]?-1:1}return le.length-ue.length}function n(re){if(re.charAt(re.length-1)=="/")return re.slice(0,-1).indexOf("/")===-1?re:n(re.slice(0,-1));var ae=re.lastIndexOf("/");return ae===-1?re:re.slice(0,ae+1)}function i(re){if(re.charAt(re.length-1)=="/")return i(re.slice(0,-1));var ae=re.lastIndexOf("/");return ae===-1?re:re.slice(ae+1)}function s(re,ae){typeof ae=="string"&&(ae=new Date(ae));var le=ae.getHours();le=le<<6|ae.getMinutes(),le=le<<5|ae.getSeconds()>>>1,re.write_shift(2,le);var ue=ae.getFullYear()-1980;ue=ue<<4|ae.getMonth()+1,ue=ue<<5|ae.getDate(),re.write_shift(2,ue)}function A(re){var ae=re.read_shift(2)&65535,le=re.read_shift(2)&65535,ue=new Date,he=le&31;le>>>=5;var Ce=le&15;le>>>=4,ue.setMilliseconds(0),ue.setFullYear(le+1980),ue.setMonth(Ce-1),ue.setDate(he);var je=ae&31;ae>>>=5;var nt=ae&63;return ae>>>=6,ue.setHours(ae),ue.setMinutes(nt),ue.setSeconds(je<<1),ue}function c(re){Vi(re,0);for(var ae={},le=0;re.l<=re.length-4;){var ue=re.read_shift(2),he=re.read_shift(2),Ce=re.l+he,je={};switch(ue){case 21589:le=re.read_shift(1),le&1&&(je.mtime=re.read_shift(4)),he>5&&(le&2&&(je.atime=re.read_shift(4)),le&4&&(je.ctime=re.read_shift(4))),je.mtime&&(je.mt=new Date(je.mtime*1e3));break}re.l=Ce,ae[ue]=je}return ae}var h;function d(){return h||(h={})}function x(re,ae){if(re[0]==80&&re[1]==75)return qi(re,ae);if((re[0]|32)==109&&(re[1]|32)==105)return ds(re,ae);if(re.length<512)throw new Error("CFB file size "+re.length+" < 512");var le=3,ue=512,he=0,Ce=0,je=0,nt=0,Qe=0,We=[],Xe=re.slice(0,512);Vi(Xe,0);var ut=C(Xe);switch(le=ut[0],le){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(ut[1]==0)return qi(re,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+le)}ue!==512&&(Xe=re.slice(0,ue),Vi(Xe,28));var ht=re.slice(0,ue);B(Xe,le);var pt=Xe.read_shift(4,"i");if(le===3&&pt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pt);Xe.l+=4,je=Xe.read_shift(4,"i"),Xe.l+=4,Xe.chk("00100000","Mini Stream Cutoff Size: "),nt=Xe.read_shift(4,"i"),he=Xe.read_shift(4,"i"),Qe=Xe.read_shift(4,"i"),Ce=Xe.read_shift(4,"i");for(var wt=-1,Ct=0;Ct<109&&(wt=Xe.read_shift(4,"i"),!(wt<0));++Ct)We[Ct]=wt;var Dt=F(re,ue);k(Qe,Ce,Dt,ue,We);var it=G(Dt,je,We,ue);it[je].name="!Directory",he>0&&nt!==X&&(it[nt].name="!MiniFAT"),it[We[0]].name="!FAT",it.fat_addrs=We,it.ssz=ue;var Fr={},Gt=[],Nn=[],Pa=[];Q(je,it,Dt,Gt,he,Fr,Nn,nt),D(Nn,Pa,Gt),Gt.shift();var dr={FileIndex:Nn,FullPaths:Pa};return ae&&ae.raw&&(dr.raw={header:ht,sectors:Dt}),dr}function C(re){if(re[re.l]==80&&re[re.l+1]==75)return[0,0];re.chk(Me,"Header Signature: "),re.l+=16;var ae=re.read_shift(2,"u");return[re.read_shift(2,"u"),ae]}function B(re,ae){var le=9;switch(re.l+=2,le=re.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+le);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+le);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+le)}re.chk("0600","Mini Sector Shift: "),re.chk("000000000000","Reserved: ")}function F(re,ae){for(var le=Math.ceil(re.length/ae)-1,ue=[],he=1;he<le;++he)ue[he-1]=re.slice(he*ae,(he+1)*ae);return ue[le-1]=re.slice(le*ae),ue}function D(re,ae,le){for(var ue=0,he=0,Ce=0,je=0,nt=0,Qe=le.length,We=[],Xe=[];ue<Qe;++ue)We[ue]=Xe[ue]=ue,ae[ue]=le[ue];for(;nt<Xe.length;++nt)ue=Xe[nt],he=re[ue].L,Ce=re[ue].R,je=re[ue].C,We[ue]===ue&&(he!==-1&&We[he]!==he&&(We[ue]=We[he]),Ce!==-1&&We[Ce]!==Ce&&(We[ue]=We[Ce])),je!==-1&&(We[je]=ue),he!==-1&&ue!=We[ue]&&(We[he]=We[ue],Xe.lastIndexOf(he)<nt&&Xe.push(he)),Ce!==-1&&ue!=We[ue]&&(We[Ce]=We[ue],Xe.lastIndexOf(Ce)<nt&&Xe.push(Ce));for(ue=1;ue<Qe;++ue)We[ue]===ue&&(Ce!==-1&&We[Ce]!==Ce?We[ue]=We[Ce]:he!==-1&&We[he]!==he&&(We[ue]=We[he]));for(ue=1;ue<Qe;++ue)if(re[ue].type!==0){if(nt=ue,nt!=We[nt])do nt=We[nt],ae[ue]=ae[nt]+"/"+ae[ue];while(nt!==0&&We[nt]!==-1&&nt!=We[nt]);We[ue]=-1}for(ae[0]+="/",ue=1;ue<Qe;++ue)re[ue].type!==2&&(ae[ue]+="/")}function R(re,ae,le){for(var ue=re.start,he=re.size,Ce=[],je=ue;le&&he>0&&je>=0;)Ce.push(ae.slice(je*W,je*W+W)),he-=W,je=zl(le,je*4);return Ce.length===0?mi(0):XA(Ce).slice(0,re.size)}function k(re,ae,le,ue,he){var Ce=X;if(re===X){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(re!==-1){var je=le[re],nt=(ue>>>2)-1;if(!je)return;for(var Qe=0;Qe<nt&&(Ce=zl(je,Qe*4))!==X;++Qe)he.push(Ce);k(zl(je,ue-4),ae-1,le,ue,he)}}function j(re,ae,le,ue,he){var Ce=[],je=[];he||(he=[]);var nt=ue-1,Qe=0,We=0;for(Qe=ae;Qe>=0;){he[Qe]=!0,Ce[Ce.length]=Qe,je.push(re[Qe]);var Xe=le[Math.floor(Qe*4/ue)];if(We=Qe*4&nt,ue<4+We)throw new Error("FAT boundary crossed: "+Qe+" 4 "+ue);if(!re[Xe])break;Qe=zl(re[Xe],We)}return{nodes:Ce,data:s_([je])}}function G(re,ae,le,ue){var he=re.length,Ce=[],je=[],nt=[],Qe=[],We=ue-1,Xe=0,ut=0,ht=0,pt=0;for(Xe=0;Xe<he;++Xe)if(nt=[],ht=Xe+ae,ht>=he&&(ht-=he),!je[ht]){Qe=[];var wt=[];for(ut=ht;ut>=0;){wt[ut]=!0,je[ut]=!0,nt[nt.length]=ut,Qe.push(re[ut]);var Ct=le[Math.floor(ut*4/ue)];if(pt=ut*4&We,ue<4+pt)throw new Error("FAT boundary crossed: "+ut+" 4 "+ue);if(!re[Ct]||(ut=zl(re[Ct],pt),wt[ut]))break}Ce[ht]={nodes:nt,data:s_([Qe])}}return Ce}function Q(re,ae,le,ue,he,Ce,je,nt){for(var Qe=0,We=ue.length?2:0,Xe=ae[re].data,ut=0,ht=0,pt;ut<Xe.length;ut+=128){var wt=Xe.slice(ut,ut+128);Vi(wt,64),ht=wt.read_shift(2),pt=fw(wt,0,ht-We),ue.push(pt);var Ct={name:pt,type:wt.read_shift(1),color:wt.read_shift(1),L:wt.read_shift(4,"i"),R:wt.read_shift(4,"i"),C:wt.read_shift(4,"i"),clsid:wt.read_shift(16),state:wt.read_shift(4,"i"),start:0,size:0},Dt=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);Dt!==0&&(Ct.ct=ee(wt,wt.l-8));var it=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);it!==0&&(Ct.mt=ee(wt,wt.l-8)),Ct.start=wt.read_shift(4,"i"),Ct.size=wt.read_shift(4,"i"),Ct.size<0&&Ct.start<0&&(Ct.size=Ct.type=0,Ct.start=X,Ct.name=""),Ct.type===5?(Qe=Ct.start,he>0&&Qe!==X&&(ae[Qe].name="!StreamData")):Ct.size>=4096?(Ct.storage="fat",ae[Ct.start]===void 0&&(ae[Ct.start]=j(le,Ct.start,ae.fat_addrs,ae.ssz)),ae[Ct.start].name=Ct.name,Ct.content=ae[Ct.start].data.slice(0,Ct.size)):(Ct.storage="minifat",Ct.size<0?Ct.size=0:Qe!==X&&Ct.start!==X&&ae[Qe]&&(Ct.content=R(Ct,ae[Qe].data,(ae[nt]||{}).data))),Ct.content&&Vi(Ct.content,0),Ce[pt]=Ct,je.push(Ct)}}function ee(re,ae){return new Date((ca(re,ae+4)/1e7*Math.pow(2,32)+ca(re,ae)/1e7-11644473600)*1e3)}function ne(re,ae){return d(),x(h.readFileSync(re),ae)}function te(re,ae){var le=ae&&ae.type;switch(le||Nr&&Buffer.isBuffer(re)&&(le="buffer"),le||"base64"){case"file":return ne(re,ae);case"base64":return x(Za(ha(re)),ae);case"binary":return x(Za(re),ae)}return x(re,ae)}function M(re,ae){var le=ae||{},ue=le.root||"Root Entry";if(re.FullPaths||(re.FullPaths=[]),re.FileIndex||(re.FileIndex=[]),re.FullPaths.length!==re.FileIndex.length)throw new Error("inconsistent CFB structure");re.FullPaths.length===0&&(re.FullPaths[0]=ue+"/",re.FileIndex[0]={name:ue,type:5}),le.CLSID&&(re.FileIndex[0].clsid=le.CLSID),H(re)}function H(re){var ae="Sh33tJ5";if(!Dr.find(re,"/"+ae)){var le=mi(4);le[0]=55,le[1]=le[3]=50,le[2]=54,re.FileIndex.push({name:ae,type:2,content:le,size:4,L:69,R:69,C:69}),re.FullPaths.push(re.FullPaths[0]+ae),O(re)}}function O(re,ae){M(re);for(var le=!1,ue=!1,he=re.FullPaths.length-1;he>=0;--he){var Ce=re.FileIndex[he];switch(Ce.type){case 0:ue?le=!0:(re.FileIndex.pop(),re.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(Ce.R*Ce.L*Ce.C)&&(le=!0),Ce.R>-1&&Ce.L>-1&&Ce.R==Ce.L&&(le=!0);break;default:le=!0;break}}if(!(!le&&!ae)){var je=new Date(1987,1,19),nt=0,Qe=Object.create?Object.create(null):{},We=[];for(he=0;he<re.FullPaths.length;++he)Qe[re.FullPaths[he]]=!0,re.FileIndex[he].type!==0&&We.push([re.FullPaths[he],re.FileIndex[he]]);for(he=0;he<We.length;++he){var Xe=n(We[he][0]);ue=Qe[Xe],ue||(We.push([Xe,{name:i(Xe).replace("/",""),type:1,clsid:we,ct:je,mt:je,content:null}]),Qe[Xe]=!0)}for(We.sort(function(pt,wt){return r(pt[0],wt[0])}),re.FullPaths=[],re.FileIndex=[],he=0;he<We.length;++he)re.FullPaths[he]=We[he][0],re.FileIndex[he]=We[he][1];for(he=0;he<We.length;++he){var ut=re.FileIndex[he],ht=re.FullPaths[he];if(ut.name=i(ht).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||we,he===0)ut.C=We.length>1?1:-1,ut.size=0,ut.type=5;else if(ht.slice(-1)=="/"){for(nt=he+1;nt<We.length&&n(re.FullPaths[nt])!=ht;++nt);for(ut.C=nt>=We.length?-1:nt,nt=he+1;nt<We.length&&n(re.FullPaths[nt])!=n(ht);++nt);ut.R=nt>=We.length?-1:nt,ut.type=1}else n(re.FullPaths[he+1]||"")==n(ht)&&(ut.R=he+1),ut.type=2}}}function z(re,ae){var le=ae||{};if(le.fileType=="mad")return zr(re,le);switch(O(re),le.fileType){case"zip":return ti(re,le)}var ue=(function(pt){for(var wt=0,Ct=0,Dt=0;Dt<pt.FileIndex.length;++Dt){var it=pt.FileIndex[Dt];if(it.content){var Fr=it.content.length;Fr>0&&(Fr<4096?wt+=Fr+63>>6:Ct+=Fr+511>>9)}}for(var Gt=pt.FullPaths.length+3>>2,Nn=wt+7>>3,Pa=wt+127>>7,dr=Nn+Ct+Gt+Pa,nr=dr+127>>7,ar=nr<=109?0:Math.ceil((nr-109)/127);dr+nr+ar+127>>7>nr;)ar=++nr<=109?0:Math.ceil((nr-109)/127);var Mn=[1,ar,nr,Pa,Gt,Ct,wt,0];return pt.FileIndex[0].size=wt<<6,Mn[7]=(pt.FileIndex[0].start=Mn[0]+Mn[1]+Mn[2]+Mn[3]+Mn[4]+Mn[5])+(Mn[6]+7>>3),Mn})(re),he=mi(ue[7]<<9),Ce=0,je=0;{for(Ce=0;Ce<8;++Ce)he.write_shift(1,ye[Ce]);for(Ce=0;Ce<8;++Ce)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),Ce=0;Ce<3;++Ce)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ue[2]),he.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:X),he.write_shift(4,ue[3]),he.write_shift(-4,ue[1]?ue[0]-1:X),he.write_shift(4,ue[1]),Ce=0;Ce<109;++Ce)he.write_shift(-4,Ce<ue[2]?ue[1]+Ce:-1)}if(ue[1])for(je=0;je<ue[1];++je){for(;Ce<236+je*127;++Ce)he.write_shift(-4,Ce<ue[2]?ue[1]+Ce:-1);he.write_shift(-4,je===ue[1]-1?X:je+1)}var nt=function(pt){for(je+=pt;Ce<je-1;++Ce)he.write_shift(-4,Ce+1);pt&&(++Ce,he.write_shift(-4,X))};for(je=Ce=0,je+=ue[1];Ce<je;++Ce)he.write_shift(-4,ce.DIFSECT);for(je+=ue[2];Ce<je;++Ce)he.write_shift(-4,ce.FATSECT);nt(ue[3]),nt(ue[4]);for(var Qe=0,We=0,Xe=re.FileIndex[0];Qe<re.FileIndex.length;++Qe)Xe=re.FileIndex[Qe],Xe.content&&(We=Xe.content.length,!(We<4096)&&(Xe.start=je,nt(We+511>>9)));for(nt(ue[6]+7>>3);he.l&511;)he.write_shift(-4,ce.ENDOFCHAIN);for(je=Ce=0,Qe=0;Qe<re.FileIndex.length;++Qe)Xe=re.FileIndex[Qe],Xe.content&&(We=Xe.content.length,!(!We||We>=4096)&&(Xe.start=je,nt(We+63>>6)));for(;he.l&511;)he.write_shift(-4,ce.ENDOFCHAIN);for(Ce=0;Ce<ue[4]<<2;++Ce){var ut=re.FullPaths[Ce];if(!ut||ut.length===0){for(Qe=0;Qe<17;++Qe)he.write_shift(4,0);for(Qe=0;Qe<3;++Qe)he.write_shift(4,-1);for(Qe=0;Qe<12;++Qe)he.write_shift(4,0);continue}Xe=re.FileIndex[Ce],Ce===0&&(Xe.start=Xe.size?Xe.start-1:X);var ht=Ce===0&&le.root||Xe.name;if(We=2*(ht.length+1),he.write_shift(64,ht,"utf16le"),he.write_shift(2,We),he.write_shift(1,Xe.type),he.write_shift(1,Xe.color),he.write_shift(-4,Xe.L),he.write_shift(-4,Xe.R),he.write_shift(-4,Xe.C),Xe.clsid)he.write_shift(16,Xe.clsid,"hex");else for(Qe=0;Qe<4;++Qe)he.write_shift(4,0);he.write_shift(4,Xe.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,Xe.start),he.write_shift(4,Xe.size),he.write_shift(4,0)}for(Ce=1;Ce<re.FileIndex.length;++Ce)if(Xe=re.FileIndex[Ce],Xe.size>=4096)if(he.l=Xe.start+1<<9,Nr&&Buffer.isBuffer(Xe.content))Xe.content.copy(he,he.l,0,Xe.size),he.l+=Xe.size+511&-512;else{for(Qe=0;Qe<Xe.size;++Qe)he.write_shift(1,Xe.content[Qe]);for(;Qe&511;++Qe)he.write_shift(1,0)}for(Ce=1;Ce<re.FileIndex.length;++Ce)if(Xe=re.FileIndex[Ce],Xe.size>0&&Xe.size<4096)if(Nr&&Buffer.isBuffer(Xe.content))Xe.content.copy(he,he.l,0,Xe.size),he.l+=Xe.size+63&-64;else{for(Qe=0;Qe<Xe.size;++Qe)he.write_shift(1,Xe.content[Qe]);for(;Qe&63;++Qe)he.write_shift(1,0)}if(Nr)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function J(re,ae){var le=re.FullPaths.map(function(Qe){return Qe.toUpperCase()}),ue=le.map(function(Qe){var We=Qe.split("/");return We[We.length-(Qe.slice(-1)=="/"?2:1)]}),he=!1;ae.charCodeAt(0)===47?(he=!0,ae=le[0].slice(0,-1)+ae):he=ae.indexOf("/")!==-1;var Ce=ae.toUpperCase(),je=he===!0?le.indexOf(Ce):ue.indexOf(Ce);if(je!==-1)return re.FileIndex[je];var nt=!Ce.match(V0);for(Ce=Ce.replace(Bs,""),nt&&(Ce=Ce.replace(V0,"!")),je=0;je<le.length;++je)if((nt?le[je].replace(V0,"!"):le[je]).replace(Bs,"")==Ce||(nt?ue[je].replace(V0,"!"):ue[je]).replace(Bs,"")==Ce)return re.FileIndex[je];return null}var W=64,X=-2,Me="d0cf11e0a1b11ae1",ye=[208,207,17,224,161,177,26,225],we="00000000000000000000000000000000",ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:X,FREESECT:-1,HEADER_SIGNATURE:Me,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:we,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function He(re,ae,le){d();var ue=z(re,le);h.writeFileSync(ae,ue)}function Be(re){for(var ae=new Array(re.length),le=0;le<re.length;++le)ae[le]=String.fromCharCode(re[le]);return ae.join("")}function tt(re,ae){var le=z(re,ae);switch(ae&&ae.type||"buffer"){case"file":return d(),h.writeFileSync(ae.filename,le),le;case"binary":return typeof le=="string"?le:Be(le);case"base64":return HB(typeof le=="string"?le:Be(le));case"buffer":if(Nr)return Buffer.isBuffer(le)?le:uc(le);case"array":return typeof le=="string"?Za(le):le}return le}var me;function Z(re){try{var ae=re.InflateRaw,le=new ae;if(le._processChunk(new Uint8Array([3,0]),le._finishFlushFlag),le.bytesRead)me=re;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function de(re,ae){if(!me)return Yr(re,ae);var le=me.InflateRaw,ue=new le,he=ue._processChunk(re.slice(re.l),ue._finishFlushFlag);return re.l+=ue.bytesRead,he}function fe(re){return me?me.deflateRawSync(re):Xt(re)}var oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Fe(re){var ae=(re<<1|re<<11)&139536|(re<<5|re<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var _e=typeof Uint8Array<"u",Le=_e?new Uint8Array(256):[],xt=0;xt<256;++xt)Le[xt]=Fe(xt);function pe(re,ae){var le=Le[re&255];return ae<=8?le>>>8-ae:(le=le<<8|Le[re>>8&255],ae<=16?le>>>16-ae:(le=le<<8|Le[re>>16&255],le>>>24-ae))}function St(re,ae){var le=ae&7,ue=ae>>>3;return(re[ue]|(le<=6?0:re[ue+1]<<8))>>>le&3}function kt(re,ae){var le=ae&7,ue=ae>>>3;return(re[ue]|(le<=5?0:re[ue+1]<<8))>>>le&7}function Lt(re,ae){var le=ae&7,ue=ae>>>3;return(re[ue]|(le<=4?0:re[ue+1]<<8))>>>le&15}function Ne(re,ae){var le=ae&7,ue=ae>>>3;return(re[ue]|(le<=3?0:re[ue+1]<<8))>>>le&31}function Ue(re,ae){var le=ae&7,ue=ae>>>3;return(re[ue]|(le<=1?0:re[ue+1]<<8))>>>le&127}function gt(re,ae,le){var ue=ae&7,he=ae>>>3,Ce=(1<<le)-1,je=re[he]>>>ue;return le<8-ue||(je|=re[he+1]<<8-ue,le<16-ue)||(je|=re[he+2]<<16-ue,le<24-ue)||(je|=re[he+3]<<24-ue),je&Ce}function Bt(re,ae,le){var ue=ae&7,he=ae>>>3;return ue<=5?re[he]|=(le&7)<<ue:(re[he]|=le<<ue&255,re[he+1]=(le&7)>>8-ue),ae+3}function ur(re,ae,le){var ue=ae&7,he=ae>>>3;return le=(le&1)<<ue,re[he]|=le,ae+1}function _t(re,ae,le){var ue=ae&7,he=ae>>>3;return le<<=ue,re[he]|=le&255,le>>>=8,re[he+1]=le,ae+8}function Bn(re,ae,le){var ue=ae&7,he=ae>>>3;return le<<=ue,re[he]|=le&255,le>>>=8,re[he+1]=le&255,re[he+2]=le>>>8,ae+16}function hn(re,ae){var le=re.length,ue=2*le>ae?2*le:ae+5,he=0;if(le>=ae)return re;if(Nr){var Ce=VB(ue);if(re.copy)re.copy(Ce);else for(;he<re.length;++he)Ce[he]=re[he];return Ce}else if(_e){var je=new Uint8Array(ue);if(je.set)je.set(re);else for(;he<le;++he)je[he]=re[he];return je}return re.length=ue,re}function Ge(re){for(var ae=new Array(re),le=0;le<re;++le)ae[le]=0;return ae}function It(re,ae,le){var ue=1,he=0,Ce=0,je=0,nt=0,Qe=re.length,We=_e?new Uint16Array(32):Ge(32);for(Ce=0;Ce<32;++Ce)We[Ce]=0;for(Ce=Qe;Ce<le;++Ce)re[Ce]=0;Qe=re.length;var Xe=_e?new Uint16Array(Qe):Ge(Qe);for(Ce=0;Ce<Qe;++Ce)We[he=re[Ce]]++,ue<he&&(ue=he),Xe[Ce]=0;for(We[0]=0,Ce=1;Ce<=ue;++Ce)We[Ce+16]=nt=nt+We[Ce-1]<<1;for(Ce=0;Ce<Qe;++Ce)nt=re[Ce],nt!=0&&(Xe[Ce]=We[nt+16]++);var ut=0;for(Ce=0;Ce<Qe;++Ce)if(ut=re[Ce],ut!=0)for(nt=pe(Xe[Ce],ue)>>ue-ut,je=(1<<ue+4-ut)-1;je>=0;--je)ae[nt|je<<ut]=ut&15|Ce<<4;return ue}var Tt=_e?new Uint16Array(512):Ge(512),Jt=_e?new Uint16Array(32):Ge(32);if(!_e){for(var fr=0;fr<512;++fr)Tt[fr]=0;for(fr=0;fr<32;++fr)Jt[fr]=0}(function(){for(var re=[],ae=0;ae<32;ae++)re.push(5);It(re,Jt,32);var le=[];for(ae=0;ae<=143;ae++)le.push(8);for(;ae<=255;ae++)le.push(9);for(;ae<=279;ae++)le.push(7);for(;ae<=287;ae++)le.push(8);It(le,Tt,288)})();var pr=(function(){for(var ae=_e?new Uint8Array(32768):[],le=0,ue=0;le<Ye.length-1;++le)for(;ue<Ye[le+1];++ue)ae[ue]=le;for(;ue<32768;++ue)ae[ue]=29;var he=_e?new Uint8Array(259):[];for(le=0,ue=0;le<xe.length-1;++le)for(;ue<xe[le+1];++ue)he[ue]=le;function Ce(nt,Qe){for(var We=0;We<nt.length;){var Xe=Math.min(65535,nt.length-We),ut=We+Xe==nt.length;for(Qe.write_shift(1,+ut),Qe.write_shift(2,Xe),Qe.write_shift(2,~Xe&65535);Xe-- >0;)Qe[Qe.l++]=nt[We++]}return Qe.l}function je(nt,Qe){for(var We=0,Xe=0,ut=_e?new Uint16Array(32768):[];Xe<nt.length;){var ht=Math.min(65535,nt.length-Xe);if(ht<10){for(We=Bt(Qe,We,+(Xe+ht==nt.length)),We&7&&(We+=8-(We&7)),Qe.l=We/8|0,Qe.write_shift(2,ht),Qe.write_shift(2,~ht&65535);ht-- >0;)Qe[Qe.l++]=nt[Xe++];We=Qe.l*8;continue}We=Bt(Qe,We,+(Xe+ht==nt.length)+2);for(var pt=0;ht-- >0;){var wt=nt[Xe];pt=(pt<<5^wt)&32767;var Ct=-1,Dt=0;if((Ct=ut[pt])&&(Ct|=Xe&-32768,Ct>Xe&&(Ct-=32768),Ct<Xe))for(;nt[Ct+Dt]==nt[Xe+Dt]&&Dt<250;)++Dt;if(Dt>2){wt=he[Dt],wt<=22?We=_t(Qe,We,Le[wt+1]>>1)-1:(_t(Qe,We,3),We+=5,_t(Qe,We,Le[wt-23]>>5),We+=3);var it=wt<8?0:wt-4>>2;it>0&&(Bn(Qe,We,Dt-xe[wt]),We+=it),wt=ae[Xe-Ct],We=_t(Qe,We,Le[wt]>>3),We-=3;var Fr=wt<4?0:wt-2>>1;Fr>0&&(Bn(Qe,We,Xe-Ct-Ye[wt]),We+=Fr);for(var Gt=0;Gt<Dt;++Gt)ut[pt]=Xe&32767,pt=(pt<<5^nt[Xe])&32767,++Xe;ht-=Dt-1}else wt<=143?wt=wt+48:We=ur(Qe,We,1),We=_t(Qe,We,Le[wt]),ut[pt]=Xe&32767,++Xe}We=_t(Qe,We,0)-1}return Qe.l=(We+7)/8|0,Qe.l}return function(Qe,We){return Qe.length<8?Ce(Qe,We):je(Qe,We)}})();function Xt(re){var ae=mi(50+Math.floor(re.length*1.1)),le=pr(re,ae);return ae.slice(0,le)}var at=_e?new Uint16Array(32768):Ge(32768),De=_e?new Uint16Array(32768):Ge(32768),Je=_e?new Uint16Array(128):Ge(128),Ee=1,st=1;function At(re,ae){var le=Ne(re,ae)+257;ae+=5;var ue=Ne(re,ae)+1;ae+=5;var he=Lt(re,ae)+4;ae+=4;for(var Ce=0,je=_e?new Uint8Array(19):Ge(19),nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Qe=1,We=_e?new Uint8Array(8):Ge(8),Xe=_e?new Uint8Array(8):Ge(8),ut=je.length,ht=0;ht<he;++ht)je[oe[ht]]=Ce=kt(re,ae),Qe<Ce&&(Qe=Ce),We[Ce]++,ae+=3;var pt=0;for(We[0]=0,ht=1;ht<=Qe;++ht)Xe[ht]=pt=pt+We[ht-1]<<1;for(ht=0;ht<ut;++ht)(pt=je[ht])!=0&&(nt[ht]=Xe[pt]++);var wt=0;for(ht=0;ht<ut;++ht)if(wt=je[ht],wt!=0){pt=Le[nt[ht]]>>8-wt;for(var Ct=(1<<7-wt)-1;Ct>=0;--Ct)Je[pt|Ct<<wt]=wt&7|ht<<3}var Dt=[];for(Qe=1;Dt.length<le+ue;)switch(pt=Je[Ue(re,ae)],ae+=pt&7,pt>>>=3){case 16:for(Ce=3+St(re,ae),ae+=2,pt=Dt[Dt.length-1];Ce-- >0;)Dt.push(pt);break;case 17:for(Ce=3+kt(re,ae),ae+=3;Ce-- >0;)Dt.push(0);break;case 18:for(Ce=11+Ue(re,ae),ae+=7;Ce-- >0;)Dt.push(0);break;default:Dt.push(pt),Qe<pt&&(Qe=pt);break}var it=Dt.slice(0,le),Fr=Dt.slice(le);for(ht=le;ht<286;++ht)it[ht]=0;for(ht=ue;ht<30;++ht)Fr[ht]=0;return Ee=It(it,at,286),st=It(Fr,De,30),ae}function Nt(re,ae){if(re[0]==3&&!(re[1]&3))return[cl(ae),2];for(var le=0,ue=0,he=VB(ae||1<<18),Ce=0,je=he.length>>>0,nt=0,Qe=0;(ue&1)==0;){if(ue=kt(re,le),le+=3,ue>>>1)ue>>1==1?(nt=9,Qe=5):(le=At(re,le),nt=Ee,Qe=st);else{le&7&&(le+=8-(le&7));var We=re[le>>>3]|re[(le>>>3)+1]<<8;if(le+=32,We>0)for(!ae&&je<Ce+We&&(he=hn(he,Ce+We),je=he.length);We-- >0;)he[Ce++]=re[le>>>3],le+=8;continue}for(;;){!ae&&je<Ce+32767&&(he=hn(he,Ce+32767),je=he.length);var Xe=gt(re,le,nt),ut=ue>>>1==1?Tt[Xe]:at[Xe];if(le+=ut&15,ut>>>=4,(ut>>>8&255)===0)he[Ce++]=ut;else{if(ut==256)break;ut-=257;var ht=ut<8?0:ut-4>>2;ht>5&&(ht=0);var pt=Ce+xe[ut];ht>0&&(pt+=gt(re,le,ht),le+=ht),Xe=gt(re,le,Qe),ut=ue>>>1==1?Jt[Xe]:De[Xe],le+=ut&15,ut>>>=4;var wt=ut<4?0:ut-2>>1,Ct=Ye[ut];for(wt>0&&(Ct+=gt(re,le,wt),le+=wt),!ae&&je<pt&&(he=hn(he,pt+100),je=he.length);Ce<pt;)he[Ce]=he[Ce-Ct],++Ce}}}return ae?[he,le+7>>>3]:[he.slice(0,Ce),le+7>>>3]}function Yr(re,ae){var le=re.slice(re.l||0),ue=Nt(le,ae);return re.l+=ue[1],ue[0]}function Ci(re,ae){if(re)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function qi(re,ae){var le=re;Vi(le,0);var ue=[],he=[],Ce={FileIndex:ue,FullPaths:he};M(Ce,{root:ae.root});for(var je=le.length-4;(le[je]!=80||le[je+1]!=75||le[je+2]!=5||le[je+3]!=6)&&je>=0;)--je;le.l=je+4,le.l+=4;var nt=le.read_shift(2);le.l+=6;var Qe=le.read_shift(4);for(le.l=Qe,je=0;je<nt;++je){le.l+=20;var We=le.read_shift(4),Xe=le.read_shift(4),ut=le.read_shift(2),ht=le.read_shift(2),pt=le.read_shift(2);le.l+=8;var wt=le.read_shift(4),Ct=c(le.slice(le.l+ut,le.l+ut+ht));le.l+=ut+ht+pt;var Dt=le.l;le.l=wt+4,$t(le,We,Xe,Ce,Ct),le.l=Dt}return Ce}function $t(re,ae,le,ue,he){re.l+=2;var Ce=re.read_shift(2),je=re.read_shift(2),nt=A(re);if(Ce&8257)throw new Error("Unsupported ZIP encryption");for(var Qe=re.read_shift(4),We=re.read_shift(4),Xe=re.read_shift(4),ut=re.read_shift(2),ht=re.read_shift(2),pt="",wt=0;wt<ut;++wt)pt+=String.fromCharCode(re[re.l++]);if(ht){var Ct=c(re.slice(re.l,re.l+ht));(Ct[21589]||{}).mt&&(nt=Ct[21589].mt),((he||{})[21589]||{}).mt&&(nt=he[21589].mt)}re.l+=ht;var Dt=re.slice(re.l,re.l+We);switch(je){case 8:Dt=de(re,Xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+je)}var it=!1;Ce&8&&(Qe=re.read_shift(4),Qe==134695760&&(Qe=re.read_shift(4),it=!0),We=re.read_shift(4),Xe=re.read_shift(4)),We!=ae&&Ci(it,"Bad compressed size: "+ae+" != "+We),Xe!=le&&Ci(it,"Bad uncompressed size: "+le+" != "+Xe),ni(ue,pt,Dt,{unsafe:!0,mt:nt})}function ti(re,ae){var le=ae||{},ue=[],he=[],Ce=mi(1),je=le.compression?8:0,nt=0,Qe=0,We=0,Xe=0,ut=0,ht=re.FullPaths[0],pt=ht,wt=re.FileIndex[0],Ct=[],Dt=0;for(Qe=1;Qe<re.FullPaths.length;++Qe)if(pt=re.FullPaths[Qe].slice(ht.length),wt=re.FileIndex[Qe],!(!wt.size||!wt.content||pt=="Sh33tJ5")){var it=Xe,Fr=mi(pt.length);for(We=0;We<pt.length;++We)Fr.write_shift(1,pt.charCodeAt(We)&127);Fr=Fr.slice(0,Fr.l),Ct[ut]=aO.buf(wt.content,0);var Gt=wt.content;je==8&&(Gt=fe(Gt)),Ce=mi(30),Ce.write_shift(4,67324752),Ce.write_shift(2,20),Ce.write_shift(2,nt),Ce.write_shift(2,je),wt.mt?s(Ce,wt.mt):Ce.write_shift(4,0),Ce.write_shift(-4,Ct[ut]),Ce.write_shift(4,Gt.length),Ce.write_shift(4,wt.content.length),Ce.write_shift(2,Fr.length),Ce.write_shift(2,0),Xe+=Ce.length,ue.push(Ce),Xe+=Fr.length,ue.push(Fr),Xe+=Gt.length,ue.push(Gt),Ce=mi(46),Ce.write_shift(4,33639248),Ce.write_shift(2,0),Ce.write_shift(2,20),Ce.write_shift(2,nt),Ce.write_shift(2,je),Ce.write_shift(4,0),Ce.write_shift(-4,Ct[ut]),Ce.write_shift(4,Gt.length),Ce.write_shift(4,wt.content.length),Ce.write_shift(2,Fr.length),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(4,0),Ce.write_shift(4,it),Dt+=Ce.l,he.push(Ce),Dt+=Fr.length,he.push(Fr),++ut}return Ce=mi(22),Ce.write_shift(4,101010256),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,ut),Ce.write_shift(2,ut),Ce.write_shift(4,Dt),Ce.write_shift(4,Xe),Ce.write_shift(2,0),XA([XA(ue),XA(he),Ce])}var Gr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ri(re,ae){if(re.ctype)return re.ctype;var le=re.name||"",ue=le.match(/\.([^\.]+)$/);return ue&&Gr[ue[1]]||ae&&(ue=(le=ae).match(/[\.\\]([^\.\\])+$/),ue&&Gr[ue[1]])?Gr[ue[1]]:"application/octet-stream"}function wn(re){for(var ae=HB(re),le=[],ue=0;ue<ae.length;ue+=76)le.push(ae.slice(ue,ue+76));return le.join(`\r
`)+`\r
`}function ga(re){var ae=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(We){var Xe=We.charCodeAt(0).toString(16).toUpperCase();return"="+(Xe.length==1?"0"+Xe:Xe)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var le=[],ue=ae.split(`\r
`),he=0;he<ue.length;++he){var Ce=ue[he];if(Ce.length==0){le.push("");continue}for(var je=0;je<Ce.length;){var nt=76,Qe=Ce.slice(je,je+nt);Qe.charAt(nt-1)=="="?nt--:Qe.charAt(nt-2)=="="?nt-=2:Qe.charAt(nt-3)=="="&&(nt-=3),Qe=Ce.slice(je,je+nt),je+=nt,je<Ce.length&&(Qe+="="),le.push(Qe)}}return le.join(`\r
`)}function _n(re){for(var ae=[],le=0;le<re.length;++le){for(var ue=re[le];le<=re.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+re[++le];ae.push(ue)}for(var he=0;he<ae.length;++he)ae[he]=ae[he].replace(/[=][0-9A-Fa-f]{2}/g,function(Ce){return String.fromCharCode(parseInt(Ce.slice(1),16))});return Za(ae.join(`\r
`))}function Ei(re,ae,le){for(var ue="",he="",Ce="",je,nt=0;nt<10;++nt){var Qe=ae[nt];if(!Qe||Qe.match(/^\s*$/))break;var We=Qe.match(/^(.*?):\s*([^\s].*)$/);if(We)switch(We[1].toLowerCase()){case"content-location":ue=We[2].trim();break;case"content-type":Ce=We[2].trim();break;case"content-transfer-encoding":he=We[2].trim();break}}switch(++nt,he.toLowerCase()){case"base64":je=Za(ha(ae.slice(nt).join("")));break;case"quoted-printable":je=_n(ae.slice(nt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var Xe=ni(re,ue.slice(le.length),je,{unsafe:!0});Ce&&(Xe.ctype=Ce)}function ds(re,ae){if(Be(re.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var le=ae&&ae.root||"",ue=(Nr&&Buffer.isBuffer(re)?re.toString("binary"):Be(re)).split(`\r
`),he=0,Ce="";for(he=0;he<ue.length;++he)if(Ce=ue[he],!!/^Content-Location:/i.test(Ce)&&(Ce=Ce.slice(Ce.indexOf("file")),le||(le=Ce.slice(0,Ce.lastIndexOf("/")+1)),Ce.slice(0,le.length)!=le))for(;le.length>0&&(le=le.slice(0,le.length-1),le=le.slice(0,le.lastIndexOf("/")+1),Ce.slice(0,le.length)!=le););var je=(ue[1]||"").match(/boundary="(.*?)"/);if(!je)throw new Error("MAD cannot find boundary");var nt="--"+(je[1]||""),Qe=[],We=[],Xe={FileIndex:Qe,FullPaths:We};M(Xe);var ut,ht=0;for(he=0;he<ue.length;++he){var pt=ue[he];pt!==nt&&pt!==nt+"--"||(ht++&&Ei(Xe,ue.slice(ut,he),le),ut=he)}return Xe}function zr(re,ae){var le=ae||{},ue=le.boundary||"SheetJS";ue="------="+ue;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],Ce=re.FullPaths[0],je=Ce,nt=re.FileIndex[0],Qe=1;Qe<re.FullPaths.length;++Qe)if(je=re.FullPaths[Qe].slice(Ce.length),nt=re.FileIndex[Qe],!(!nt.size||!nt.content||je=="Sh33tJ5")){je=je.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Dt){return"_x"+Dt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Dt){return"_u"+Dt.charCodeAt(0).toString(16)+"_"});for(var We=nt.content,Xe=Nr&&Buffer.isBuffer(We)?We.toString("binary"):Be(We),ut=0,ht=Math.min(1024,Xe.length),pt=0,wt=0;wt<=ht;++wt)(pt=Xe.charCodeAt(wt))>=32&&pt<128&&++ut;var Ct=ut>=ht*4/5;he.push(ue),he.push("Content-Location: "+(le.root||"file:///C:/SheetJS/")+je),he.push("Content-Transfer-Encoding: "+(Ct?"quoted-printable":"base64")),he.push("Content-Type: "+ri(nt,je)),he.push(""),he.push(Ct?ga(Xe):wn(Xe))}return he.push(ue+`--\r
`),he.join(`\r
`)}function So(re){var ae={};return M(ae,re),ae}function ni(re,ae,le,ue){var he=ue&&ue.unsafe;he||M(re);var Ce=!he&&Dr.find(re,ae);if(!Ce){var je=re.FullPaths[0];ae.slice(0,je.length)==je?je=ae:(je.slice(-1)!="/"&&(je+="/"),je=(je+ae).replace("//","/")),Ce={name:i(ae),type:2},re.FileIndex.push(Ce),re.FullPaths.push(je),he||Dr.utils.cfb_gc(re)}return Ce.content=le,Ce.size=le?le.length:0,ue&&(ue.CLSID&&(Ce.clsid=ue.CLSID),ue.mt&&(Ce.mt=ue.mt),ue.ct&&(Ce.ct=ue.ct)),Ce}function Ss(re,ae){M(re);var le=Dr.find(re,ae);if(le){for(var ue=0;ue<re.FileIndex.length;++ue)if(re.FileIndex[ue]==le)return re.FileIndex.splice(ue,1),re.FullPaths.splice(ue,1),!0}return!1}function kn(re,ae,le){M(re);var ue=Dr.find(re,ae);if(ue){for(var he=0;he<re.FileIndex.length;++he)if(re.FileIndex[he]==ue)return re.FileIndex[he].name=i(le),re.FullPaths[he]=le,!0}return!1}function hs(re){O(re,!0)}return e.find=J,e.read=te,e.parse=x,e.write=tt,e.writeFile=He,e.utils={cfb_new:So,cfb_add:ni,cfb_del:Ss,cfb_mov:kn,cfb_gc:hs,ReadShift:rf,CheckField:_I,prep_blob:Vi,bconcat:XA,use_zlib:Z,_deflateRaw:Xt,_inflateRaw:Yr,consts:ce},e})();function oO(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function Co(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function Aw(t){for(var e=[],r=Co(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var _1=new Date(1899,11,30,0,0,0);function Ts(t,e){var r=t.getTime(),n=_1.getTime()+(t.getTimezoneOffset()-_1.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var iI=new Date,AO=_1.getTime()+(iI.getTimezoneOffset()-_1.getTimezoneOffset())*6e4,YB=iI.getTimezoneOffset();function fg(t){var e=new Date;return e.setTime(t*24*60*60*1e3+AO),e.getTimezoneOffset()!==YB&&e.setTime(e.getTime()+(e.getTimezoneOffset()-YB)*6e4),e}function lO(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(r=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[s],10)}return e}var JB=new Date("2017-02-19T19:06:09.000Z"),sI=isNaN(JB.getFullYear())?new Date("2/19/17"):JB,cO=sI.getFullYear()==2017;function Ni(t,e){var r=new Date(t);if(cO)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(sI.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function ic(t,e){if(Nr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return G0(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return G0(KS(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return G0(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return G0(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Ki(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Ki(t[r]));return e}function Gn(t,e){for(var r="";r.length<e;)r+=t;return r}function to(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var uO=["january","february","march","april","may","june","july","august","september","october","november","december"];function _u(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var A=t.toLowerCase();if(A.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(A=A.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),A.length>3&&uO.indexOf(A)==-1)return r}else if(A.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var fO=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),A=[s[0]],c=1;c<s.length;++c)A.push(i),A.push(s[c]);return A}})();function aI(t){return t?t.content&&t.type?ic(t.content,!0):t.data?H0(t.data):t.asNodeBuffer&&Nr?H0(t.asNodeBuffer().toString("binary")):t.asBinary?H0(t.asBinary()):t._data&&t._data.getContent?H0(ic(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function oI(t){if(!t)return null;if(t.data)return QB(t.data);if(t.asNodeBuffer&&Nr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?QB(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function dO(t){return t&&t.name.slice(-4)===".bin"?oI(t):aI(t)}function Fa(t,e){for(var r=t.FullPaths||Co(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var A=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==A||i==A)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function lw(t,e){var r=Fa(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function ci(t,e,r){if(!r)return dO(lw(t,e));if(!e)return null;try{return ci(t,e)}catch{return null}}function ua(t,e,r){if(!r)return aI(lw(t,e));if(!e)return null;try{return ua(t,e)}catch{return null}}function hO(t,e,r){return oI(lw(t,e))}function ZB(t){for(var e=t.FullPaths||Co(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function gO(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Nr?n=uc(r):n=UM(r),Dr.utils.cfb_add(t,e,n)}Dr.utils.cfb_add(t,e,r)}else t.file(e,r)}function AI(t,e){switch(e.type){case"base64":return Dr.read(t,{type:"base64"});case"binary":return Dr.read(t,{type:"binary"});case"buffer":case"array":return Dr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function j0(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var lI=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,pO=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,$B=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,mO=/<[^>]*>/g,fs=lI.match($B)?$B:mO,xO=/<\w*:/,wO=/<(\/?)\w+:/;function er(t,e,r){for(var n={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var A=t.match(pO),c=0,h="",d=0,x="",C="",B=1;if(A)for(d=0;d!=A.length;++d){for(C=A[d],s=0;s!=C.length&&C.charCodeAt(s)!==61;++s);for(x=C.slice(0,s).trim();C.charCodeAt(s+1)==32;)++s;for(B=(i=C.charCodeAt(s+1))==34||i==39?1:0,h=C.slice(s+1+B,C.length-B),c=0;c!=x.length&&x.charCodeAt(c)!==58;++c);if(c===x.length)x.indexOf("_")>0&&(x=x.slice(0,x.indexOf("_"))),n[x]=h,n[x.toLowerCase()]=h;else{var F=(c===5&&x.slice(0,5)==="xmlns"?"xmlns":"")+x.slice(c+1);if(n[F]&&x.slice(c-3,c)=="ext")continue;n[F]=h,n[F.toLowerCase()]=h}}return n}function To(t){return t.replace(wO,"<$1")}var cI={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},vO=Aw(cI),Lr=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(c,h){return cI[c]||String.fromCharCode(parseInt(h,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,h){return String.fromCharCode(parseInt(h,16))});var A=i.indexOf("]]>");return r(i.slice(0,s))+i.slice(s+9,A)+r(i.slice(A+3))}})(),yO=/[&<>'"]/g,CO=/[\u0000-\u001f]/g;function cw(t){var e=t+"";return e.replace(yO,function(r){return vO[r]}).replace(/\n/g,"<br/>").replace(CO,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var e_=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function In(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function nx(t){for(var e="",r=0,n=0,i=0,s=0,A=0,c=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){A=(n&31)<<6,A|=i&63,e+=String.fromCharCode(A);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}A=t.charCodeAt(r++),c=((n&7)<<18|(i&63)<<12|(s&63)<<6|A&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function t_(t){var e=cl(2*t.length),r,n,i=1,s=0,A=0,c;for(n=0;n<t.length;n+=i)i=1,(c=t.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(t.charCodeAt(n+1)&63),i=2):c<240?(r=(c&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(c&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,A=55296+(r>>>10&1023),r=56320+(r&1023)),A!==0&&(e[s++]=A&255,e[s++]=A>>>8,A=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function r_(t){return uc(t,"binary").toString("utf8")}var Fh="foo bar baz",xn=Nr&&(r_(Fh)==nx(Fh)&&r_||t_(Fh)==nx(Fh)&&t_)||nx,G0=Nr?function(t){return uc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Cf=(function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),uI=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),EO=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),BO=/<\/?(?:vt:)?variant>/g,_O=/<(?:vt:)([^>]*)>([\s\S]*)</;function n_(t,e){var r=er(t),n=t.match(EO(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(s){var A=s.replace(BO,"").match(_O);A&&i.push({v:xn(A[2]),t:A[1]})}),i}var TO=/(^\s|\s$|\n)/;function bO(t){return Co(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function SO(t,e,r){return"<"+t+(r!=null?bO(r):"")+(e!=null?(e.match(TO)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function uw(t){if(Nr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return xn(fc(sw(t)));throw new Error("Bad input format: expected Buffer or string")}var Ef=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,IO={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},NO=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function FO(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function RO(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,A=n?-e:e;isFinite(A)?A==0?i=s=0:(i=Math.floor(Math.log(A)/Math.LN2),s=A*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)t[r+c]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var i_=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},s_=Nr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:uc(e)})):i_(t)}:i_,a_=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(rA(t,i)));return n.join("").replace(Bs,"")},fw=Nr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Bs,""):a_(t,e,r)}:a_,o_=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},fI=Nr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):o_(t,e,r)}:o_,A_=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(ou(t,i)));return n.join("")},Qf=Nr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):A_(e,r,n)}:A_,dI=function(t,e){var r=ca(t,e);return r>0?Qf(t,e+4,e+4+r-1):""},hI=dI,gI=function(t,e){var r=ca(t,e);return r>0?Qf(t,e+4,e+4+r-1):""},pI=gI,mI=function(t,e){var r=2*ca(t,e);return r>0?Qf(t,e+4,e+4+r-1):""},xI=mI,wI=function(e,r){var n=ca(e,r);return n>0?fw(e,r+4,r+4+n):""},vI=wI,yI=function(t,e){var r=ca(t,e);return r>0?Qf(t,e+4,e+4+r):""},CI=yI,EI=function(t,e){return FO(t,e)},T1=EI,BI=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Nr&&(hI=function(e,r){if(!Buffer.isBuffer(e))return dI(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},pI=function(e,r){if(!Buffer.isBuffer(e))return gI(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},xI=function(e,r){if(!Buffer.isBuffer(e))return mI(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},vI=function(e,r){if(!Buffer.isBuffer(e))return wI(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},CI=function(e,r){if(!Buffer.isBuffer(e))return yI(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},T1=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):EI(e,r)},BI=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var ou=function(t,e){return t[e]},rA=function(t,e){return t[e+1]*256+t[e]},DO=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},ca=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},zl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},UO=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function rf(t,e){var r="",n,i,s=[],A,c,h,d;switch(e){case"dbcs":if(d=this.l,Nr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(h=0;h<t;++h)r+=String.fromCharCode(rA(this,d)),d+=2;t*=2;break;case"utf8":r=Qf(this,this.l,this.l+t);break;case"utf16le":t*=2,r=fw(this,this.l,this.l+t);break;case"wstr":return rf.call(this,t,"dbcs");case"lpstr-ansi":r=hI(this,this.l),t=4+ca(this,this.l);break;case"lpstr-cp":r=pI(this,this.l),t=4+ca(this,this.l);break;case"lpwstr":r=xI(this,this.l),t=4+2*ca(this,this.l);break;case"lpp4":t=4+ca(this,this.l),r=vI(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ca(this,this.l),r=CI(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(A=ou(this,this.l+t++))!==0;)s.push(Nh(A));r=s.join("");break;case"_wstr":for(t=0,r="";(A=rA(this,this.l+t))!==0;)s.push(Nh(A)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",d=this.l,h=0;h<t;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return A=ou(this,d),this.l=d+1,c=rf.call(this,t-h,A?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Nh(rA(this,d))),d+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,h=0;h!=t;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return A=ou(this,d),this.l=d+1,c=rf.call(this,t-h,A?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Nh(ou(this,d))),d+=1}r=s.join("");break;default:switch(t){case 1:return n=ou(this,this.l),this.l++,n;case 2:return n=(e==="i"?DO:rA)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?zl:UO)(this,this.l),this.l+=4,n):(i=ca(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=T1(this,this.l):i=T1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=fI(this,this.l,t);break}}return this.l+=t,r}var kO=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},MO=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},OO=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function LO(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)OO(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var A=e.charCodeAt(i);this[this.l++]=A&255,this[this.l++]=A>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,kO(this,e,this.l);break;case 8:if(n=8,r==="f"){RO(this,e,this.l);break}case 16:break;case-4:n=4,MO(this,e,this.l);break}return this.l+=n,this}function _I(t,e){var r=fI(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Vi(t,e){t.l=e,t.read_shift=rf,t.chk=_I,t.write_shift=LO}function us(t,e){t.l+=e}function mi(t){var e=cl(t);return Vi(e,0),e}function dA(t,e,r){if(t){var n,i,s;Vi(t,t.l||0);for(var A=t.length,c=0,h=0;t.l<A;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var d=R1[c]||R1[65535];for(n=t.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=t.read_shift(1))&127)<<7*i;h=t.l+s;var x=d.f&&d.f(t,s,r);if(t.l=h,e(x,d,c))return}}}function $x(){var t=[],e=Nr?256:2048,r=function(d){var x=mi(d);return Vi(x,0),x},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(d){return n&&d<n.length-n.l?n:(i(),n=r(Math.max(d+1,e)))},A=function(){return i(),XA(t)},c=function(d){i(),n=d,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:c,end:A,_bufs:t}}function nf(t,e,r){var n=Ki(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function l_(t,e,r){var n=Ki(t);return n.s=nf(n.s,e.s,r),n.e=nf(n.e,e.s,r),n}function sf(t,e){if(t.cRel&&t.c<0)for(t=Ki(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ki(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Ar(t);return!t.cRel&&t.cRel!=null&&(r=HO(r)),!t.rRel&&t.rRel!=null&&(r=QO(r)),r}function ix(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+wi(t.s.c)+":"+(t.e.cRel?"":"$")+wi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+zi(t.s.r)+":"+(t.e.rRel?"":"$")+zi(t.e.r):sf(t.s,e.biff)+":"+sf(t.e,e.biff)}function dw(t){return parseInt(PO(t),10)-1}function zi(t){return""+(t+1)}function QO(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function PO(t){return t.replace(/\$(\d+)$/,"$1")}function hw(t){for(var e=VO(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function wi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function HO(t){return t.replace(/^([A-Z])/,"$$$1")}function VO(t){return t.replace(/^\$([A-Z])/,"$1")}function jO(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Es(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Ar(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Mu(t){var e=t.indexOf(":");return e==-1?{s:Es(t),e:Es(t)}:{s:Es(t.slice(0,e)),e:Es(t.slice(e+1))}}function Ur(t,e){return typeof e>"u"||typeof e=="number"?Ur(t.s,t.e):(typeof t!="string"&&(t=Ar(t)),typeof e!="string"&&(e=Ar(e)),t==e?t:t+":"+e)}function Kn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function c_(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Oa(t.z,r?Ts(e):e)}catch{}try{return t.w=Oa((t.XF||{}).numFmtId||(r?14:0),r?Ts(e):e)}catch{return""+e}}function oA(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?gc[t.v]||t.v:e==null?c_(t,t.v):c_(t,e))}function ml(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function TI(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),A=0,c=0;if(s&&n.origin!=null){if(typeof n.origin=="number")A=n.origin;else{var h=typeof n.origin=="string"?Es(n.origin):n.origin;A=h.r,c=h.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var x=Kn(s["!ref"]);d.s.c=x.s.c,d.s.r=x.s.r,d.e.c=Math.max(d.e.c,x.e.c),d.e.r=Math.max(d.e.r,x.e.r),A==-1&&(d.e.r=A=x.e.r+1)}for(var C=0;C!=e.length;++C)if(e[C]){if(!Array.isArray(e[C]))throw new Error("aoa_to_sheet expects an array of arrays");for(var B=0;B!=e[C].length;++B)if(!(typeof e[C][B]>"u")){var F={v:e[C][B]},D=A+C,R=c+B;if(d.s.r>D&&(d.s.r=D),d.s.c>R&&(d.s.c=R),d.e.r<D&&(d.e.r=D),d.e.c<R&&(d.e.c=R),e[C][B]&&typeof e[C][B]=="object"&&!Array.isArray(e[C][B])&&!(e[C][B]instanceof Date))F=e[C][B];else if(Array.isArray(F.v)&&(F.f=e[C][B][1],F.v=F.v[0]),F.v===null)if(F.f)F.t="n";else if(n.nullError)F.t="e",F.v=0;else if(n.sheetStubs)F.t="z";else continue;else typeof F.v=="number"?F.t="n":typeof F.v=="boolean"?F.t="b":F.v instanceof Date?(F.z=n.dateNF||gr[14],n.cellDates?(F.t="d",F.w=Oa(F.z,Ts(F.v))):(F.t="n",F.v=Ts(F.v),F.w=Oa(F.z,F.v))):F.t="s";if(i)s[D]||(s[D]=[]),s[D][R]&&s[D][R].z&&(F.z=s[D][R].z),s[D][R]=F;else{var k=Ar({c:R,r:D});s[k]&&s[k].z&&(F.z=s[k].z),s[k]=F}}}return d.s.c<1e7&&(s["!ref"]=Ur(d)),s}function Ou(t,e){return TI(null,t,e)}function GO(t){return t.read_shift(4,"i")}function cs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function KO(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function gw(t,e){var r=t.l,n=t.read_shift(1),i=cs(t),s=[],A={t:i,h:i};if((n&1)!==0){for(var c=t.read_shift(4),h=0;h!=c;++h)s.push(KO(t));A.r=s}else A.r=[{ich:0,ifnt:0}];return t.l=r+e,A}var zO=gw;function Qa(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function dc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var WO=cs;function pw(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var XO=cs,e2=pw;function mw(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?T1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):zl(e,0)>>2;return r?i/100:i}function bI(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var hc=bI;function os(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function qO(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),A=t.read_shift(1),c=t.read_shift(1),h=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var d=ec[i];d&&(e.rgb=_f(d));break;case 2:e.rgb=_f([A,c,h]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function YO(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function SI(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function JO(t){return SI(t,1)}function ZO(t){return SI(t,2)}var xw=2,Ks=3,Rh=11,u_=12,b1=19,Dh=64,$O=65,eL=71,tL=4108,rL=4126,Si=80,II=81,nL=[Si,II],iL={1:{n:"CodePage",t:xw},2:{n:"Category",t:Si},3:{n:"PresentationFormat",t:Si},4:{n:"ByteCount",t:Ks},5:{n:"LineCount",t:Ks},6:{n:"ParagraphCount",t:Ks},7:{n:"SlideCount",t:Ks},8:{n:"NoteCount",t:Ks},9:{n:"HiddenCount",t:Ks},10:{n:"MultimediaClipCount",t:Ks},11:{n:"ScaleCrop",t:Rh},12:{n:"HeadingPairs",t:tL},13:{n:"TitlesOfParts",t:rL},14:{n:"Manager",t:Si},15:{n:"Company",t:Si},16:{n:"LinksUpToDate",t:Rh},17:{n:"CharacterCount",t:Ks},19:{n:"SharedDoc",t:Rh},22:{n:"HyperlinksChanged",t:Rh},23:{n:"AppVersion",t:Ks,p:"version"},24:{n:"DigSig",t:$O},26:{n:"ContentType",t:Si},27:{n:"ContentStatus",t:Si},28:{n:"Language",t:Si},29:{n:"Version",t:Si},255:{},2147483648:{n:"Locale",t:b1},2147483651:{n:"Behavior",t:b1},1919054434:{}},sL={1:{n:"CodePage",t:xw},2:{n:"Title",t:Si},3:{n:"Subject",t:Si},4:{n:"Author",t:Si},5:{n:"Keywords",t:Si},6:{n:"Comments",t:Si},7:{n:"Template",t:Si},8:{n:"LastAuthor",t:Si},9:{n:"RevNumber",t:Si},10:{n:"EditTime",t:Dh},11:{n:"LastPrinted",t:Dh},12:{n:"CreatedDate",t:Dh},13:{n:"ModifiedDate",t:Dh},14:{n:"PageCount",t:Ks},15:{n:"WordCount",t:Ks},16:{n:"CharCount",t:Ks},17:{n:"Thumbnail",t:eL},18:{n:"Application",t:Si},19:{n:"DocSecurity",t:Ks},255:{},2147483648:{n:"Locale",t:b1},2147483651:{n:"Behavior",t:b1},1919054434:{}},f_={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},aL=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function oL(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var AL=oL([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ec=Ki(AL),gc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},NI={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},d_={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function lL(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function cL(t){var e=lL();if(!t||!t.match)return e;var r={};if((t.match(fs)||[]).forEach(function(n){var i=er(n);switch(i[0].replace(xO,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[d_[i.ContentType]]!==void 0&&e[d_[i.ContentType]].push(i.PartName);break}}),e.xmlns!==IO.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var du={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function t2(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function af(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(fs)||[]).forEach(function(i){var s=er(i);if(s[0]==="<Relationship"){var A={};A.Type=s.Type,A.Target=s.Target,A.Id=s.Id,s.TargetMode&&(A.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:j0(s.Target,e);r[c]=A,n[s.Id]=A}}),r["!id"]=n,r}var uL="application/vnd.oasis.opendocument.spreadsheet";function fL(t,e){for(var r=uw(t),n,i;n=Ef.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=er(n[0],!1),i.path=="/"&&i.type!==uL)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var of=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],dL=(function(){for(var t=new Array(of.length),e=0;e<of.length;++e){var r=of[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function FI(t){var e={};t=xn(t);for(var r=0;r<of.length;++r){var n=of[r],i=t.match(dL[r]);i!=null&&i.length>0&&(e[n[1]]=Lr(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Ni(e[n[1]]))}return e}var hL=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function RI(t,e,r,n){var i=[];if(typeof t=="string")i=n_(t,n);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(x){return{v:x}}));var A=typeof e=="string"?n_(e,n).map(function(x){return x.v}):e,c=0,h=0;if(A.length>0)for(var d=0;d!==i.length;d+=2){switch(h=+i[d+1].v,i[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=h,r.SheetNames=A.slice(c,c+h);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=h,r.DefinedNames=A.slice(c,c+h);break;case"Charts":case"Diagramme":r.Chartsheets=h,r.ChartNames=A.slice(c,c+h);break}c+=h}}function gL(t,e,r){var n={};return e||(e={}),t=xn(t),hL.forEach(function(i){var s=(t.match(Cf(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Lr(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var A=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));A&&A.length>0&&(n[i[1]]=A[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&RI(n.HeadingPairs,n.TitlesOfParts,e,r),e}var pL=/<[^>]+>[^<]*/g;function mL(t,e){var r={},n="",i=t.match(pL);if(i)for(var s=0;s!=i.length;++s){var A=i[s],c=er(A);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Lr(c.name);break;case"</property>":n=null;break;default:if(A.indexOf("<vt:")===0){var h=A.split(">"),d=h[0].slice(4),x=h[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[n]=Lr(x);break;case"bool":r[n]=In(x);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(x,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(x);break;case"filetime":case"date":r[n]=Ni(x);break;case"cy":case"error":r[n]=Lr(x);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",A,d,h)}}else if(A.slice(0,2)!=="</"){if(e.WTF)throw new Error(A)}}}return r}var xL={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},sx;function wL(t,e,r){sx||(sx=Aw(xL)),e=sx[e]||e,t[e]=r}function ww(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function DI(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function UI(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function kI(t,e,r){return e===31?UI(t):DI(t,e,r)}function r2(t,e,r){return kI(t,e,r===!1?0:4)}function vL(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return kI(t,e,0)}function yL(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(Bs,""),t.l-i&2&&(t.l+=2)}return r}function CL(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(Bs,"");return r}function EL(t){var e=t.l,r=S1(t,II);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=S1(t,Ks);return[r,n]}function BL(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(EL(t));return r}function h_(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var s=t.read_shift(4),A=t.read_shift(4);n[s]=t.read_shift(A,e===1200?"utf16le":"utf8").replace(Bs,"").replace(V0,"!"),e===1200&&A%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function MI(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function _L(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function S1(t,e,r){var n=t.read_shift(2),i,s=r||{};if(t.l+=2,e!==u_&&n!==e&&nL.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===u_?n:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return DI(t,n,4).replace(Bs,"");case 31:return UI(t);case 64:return ww(t);case 65:return MI(t);case 71:return _L(t);case 80:return r2(t,n,!s.raw).replace(Bs,"");case 81:return vL(t,n).replace(Bs,"");case 4108:return BL(t);case 4126:case 4127:return n==4127?yL(t):CL(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function g_(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),s=[],A=0,c=0,h=-1,d={};for(A=0;A!=i;++A){var x=t.read_shift(4),C=t.read_shift(4);s[A]=[x,C+r]}s.sort(function(G,Q){return G[1]-Q[1]});var B={};for(A=0;A!=i;++A){if(t.l!==s[A][1]){var F=!0;if(A>0&&e)switch(e[s[A-1][0]].t){case 2:t.l+2===s[A][1]&&(t.l+=2,F=!1);break;case 80:t.l<=s[A][1]&&(t.l=s[A][1],F=!1);break;case 4108:t.l<=s[A][1]&&(t.l=s[A][1],F=!1);break}if((!e||A==0)&&t.l<=s[A][1]&&(F=!1,t.l=s[A][1]),F)throw new Error("Read Error: Expected address "+s[A][1]+" at "+t.l+" :"+A)}if(e){var D=e[s[A][0]];if(B[D.n]=S1(t,D.t,{raw:!0}),D.p==="version"&&(B[D.n]=String(B[D.n]>>16)+"."+("0000"+String(B[D.n]&65535)).slice(-4)),D.n=="CodePage")switch(B[D.n]){case 0:B[D.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:$a(c=B[D.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+B[D.n])}}else if(s[A][0]===1){if(c=B.CodePage=S1(t,xw),$a(c),h!==-1){var R=t.l;t.l=s[h][1],d=h_(t,c),t.l=R}}else if(s[A][0]===0){if(c===0){h=A,t.l=s[A+1][1];continue}d=h_(t,c)}else{var k=d[s[A][0]],j;switch(t[t.l]){case 65:t.l+=4,j=MI(t);break;case 30:t.l+=4,j=r2(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,j=r2(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,j=t.read_shift(4,"i");break;case 19:t.l+=4,j=t.read_shift(4);break;case 5:t.l+=4,j=t.read_shift(8,"f");break;case 11:t.l+=4,j=Zn(t,4);break;case 64:t.l+=4,j=Ni(ww(t));break;default:throw new Error("unparsed value: "+t[t.l])}B[k]=j}}return t.l=r+n,B}function p_(t,e,r){var n=t.content;if(!n)return{};Vi(n,0);var i,s,A,c,h=0;n.chk("feff","Byte Order: "),n.read_shift(2);var d=n.read_shift(4),x=n.read_shift(16);if(x!==Dr.utils.consts.HEADER_CLSID&&x!==r)throw new Error("Bad PropertySet CLSID "+x);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),c=n.read_shift(4),i===1&&c!==n.l)throw new Error("Length mismatch: "+c+" !== "+n.l);i===2&&(A=n.read_shift(16),h=n.read_shift(4));var C=g_(n,e),B={SystemIdentifier:d};for(var F in C)B[F]=C[F];if(B.FMTID=s,i===1)return B;if(h-n.l==2&&(n.l+=2),n.l!==h)throw new Error("Length mismatch 2: "+n.l+" !== "+h);var D;try{D=g_(n,null)}catch{}for(F in D)B[F]=D[F];return B.FMTID=[s,A],B}function VA(t,e){return t.read_shift(e),null}function TL(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function Zn(t,e){return t.read_shift(e)===1}function ui(t){return t.read_shift(2,"u")}function OI(t,e){return TL(t,e,ui)}function bL(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function Pf(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var A=n?t.read_shift(n,i):"";return A}function SL(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,s=1+(r&1),A=0,c,h={};i&&(A=t.read_shift(2)),n&&(c=t.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",x=e===0?"":t.read_shift(e,d);return i&&(t.l+=4*A),n&&(t.l+=c),h.t=x,i||(h.raw="<t>"+h.t+"</t>",h.r=h.t),h}function sc(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Hf(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):sc(t,n,r)}function pc(t,e,r){if(r.biff>5)return Hf(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function IL(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function NL(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Bs,"");return n&&(t.l+=24),i}function FL(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var A=t.read_shift(s>>1,"utf16le").replace(Bs,"");return r+A}function RL(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return NL(t);case"0303000000000000c000000000000046":return FL(t);default:throw new Error("Unsupported Moniker "+r)}}function Uh(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Bs,""):"";return r}function DL(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var s,A,c,h,d="",x,C;i&16&&(s=Uh(t,r-t.l)),i&128&&(A=Uh(t,r-t.l)),(i&257)===257&&(c=Uh(t,r-t.l)),(i&257)===1&&(h=RL(t,r-t.l)),i&8&&(d=Uh(t,r-t.l)),i&32&&(x=t.read_shift(16)),i&64&&(C=ww(t)),t.l=r;var B=A||c||h||"";B&&d&&(B+="#"+d),B||(B="#"+d),i&2&&B.charAt(0)=="/"&&B.charAt(1)!="/"&&(B="file://"+B);var F={Target:B};return x&&(F.guid=x),C&&(F.time=C),s&&(F.Tooltip=s),F}function LI(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function QI(t,e){var r=LI(t);return r[3]=0,r}function bo(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function UL(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function kL(t,e,r){return e===0?"":pc(t,e,r)}function ML(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),A=t.read_shift(n,"i");return[i,s,A]}function PI(t){var e=t.read_shift(2),r=mw(t);return[e,r]}function OL(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=Pf(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,i}function dg(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function HI(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var LL=HI;function VI(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function QL(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function PL(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function es(t){t.l+=2,t.l+=t.read_shift(2)}var HL={0:es,4:es,5:es,6:es,7:PL,8:es,9:es,10:es,11:es,12:es,13:QL,14:es,15:es,16:es,17:es,18:es,19:es,20:es,21:VI};function VL(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(HL[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function kh(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function jL(t,e){return e===0||t.read_shift(2),1200}function GL(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=pc(t,0,r);return t.read_shift(e+n-t.l),i}function KL(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function zL(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var A=Pf(t,0,r);return A.length===0&&(A="Sheet1"),{pos:n,hs:i,dt:s,name:A}}function WL(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),s=[],A=0;A!=i&&t.l<r;++A)s.push(SL(t));return s.Count=n,s.Unique=i,s}function XL(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function qL(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function YL(t){var e=UL(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function JL(t){return t.read_shift(2),t.read_shift(4)}function m_(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function ZL(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),A=t.read_shift(2),c=t.read_shift(2),h=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:s,CurTab:A,FirstTab:c,Selected:h,TabRatio:d}}function $L(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function e9(){}function t9(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Pf(t,0,r),n}function r9(t){var e=bo(t);return e.isst=t.read_shift(4),e}function n9(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=bo(t);r.biff==2&&t.l++;var s=Hf(t,n-t.l,r);return i.val=s,i}function i9(t,e,r){var n=t.read_shift(2),i=pc(t,0,r);return[n,i]}var s9=pc;function x_(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,s=t.read_shift(i),A=t.read_shift(i),c=t.read_shift(2),h=t.read_shift(2);return t.l=n,{s:{r:s,c},e:{r:A,c:h}}}function a9(t){var e=t.read_shift(2),r=t.read_shift(2),n=PI(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function o9(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(PI(t));if(t.l!==r)throw new Error("MulRK read error");var A=t.read_shift(2);if(s.length!=A-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:A,rkrec:s}}function A9(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var A=t.read_shift(2);if(s.length!=A-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:A,ixfe:s}}function l9(t,e,r,n){var i={},s=t.read_shift(4),A=t.read_shift(4),c=t.read_shift(4),h=t.read_shift(2);return i.patternType=aL[c>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=A&15,i.dgRight=A>>4&15,i.dgTop=A>>8&15,i.dgBottom=A>>12&15,i.icvLeft=A>>16&127,i.icvRight=A>>23&127,i.grbitDiag=A>>30&3,i.icvTop=c&127,i.icvBottom=c>>7&127,i.icvDiag=c>>14&127,i.dgDiag=c>>21&15,i.icvFore=h&127,i.icvBack=h>>7&127,i.fsxButton=h>>14&1),i}function c9(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=l9(t,e,n.fStyle,r),n}function u9(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function w_(t,e,r){var n=bo(t);(r.biff==2||e==9)&&++t.l;var i=bL(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function f9(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=bo(t),i=os(t);return n.val=i,n}var v_=kL;function d9(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var A=sc(t,s),c=[];n>t.l;)c.push(Hf(t));return[s,i,A,c]}function y_(t,e,r){var n=t.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=OL(t,e-2,r)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var h9=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function C_(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(1),A=t.read_shift(1),c=t.read_shift(r&&r.biff==2?1:2),h=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),h=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var d=sc(t,A,r);i&32&&(d=h9[d.charCodeAt(0)]);var x=n-t.l;r&&r.biff==2&&--x;var C=n==t.l||c===0||!(x>0)?[]:qP(t,x,r,c);return{chKey:s,Name:d,itab:h,rgce:C}}function jI(t,e,r){if(r.biff<8)return g9(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(ML(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function g9(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Pf(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function p9(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),s=sc(t,n,r),A=sc(t,i,r);return[s,A]}function m9(t,e,r){var n=HI(t);t.l++;var i=t.read_shift(1);return e-=8,[YP(t,e,r),i,n]}function E_(t,e,r){var n=LL(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,WP(t,e,r)]}function x9(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function w9(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),A=t.read_shift(2),c=pc(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},c,A,s]}}function v9(t,e,r){return w9(t,e,r)}function y9(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(dg(t));return r}function C9(t,e,r){if(r&&r.biff<8)return B9(t,e,r);var n=VI(t),i=VL(t,e-22,n[1]);return{cmo:n,ft:i}}var E9={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function B9(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var A=[];return A.push((E9[n]||us)(t,e,r)),{cmo:[i,n,s],ft:A}}function _9(t,e,r){var n=t.l,i="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],A;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:A=IL(t,6,r);var c=t.read_shift(2);t.read_shift(2),ui(t,2);var h=t.read_shift(2);t.l+=h;for(var d=1;d<t.lens.length-1;++d){if(t.l-n!=t.lens[d])throw new Error("TxO: bad continue record");var x=t[t.l],C=sc(t,t.lens[d+1]-t.lens[d]-1);if(i+=C,i.length>=(x?c:2*c))break}if(i.length!==c&&i.length!==c*2)throw new Error("cchText: "+c+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function T9(t,e){var r=dg(t);t.l+=16;var n=DL(t,e-24);return[r,n]}function b9(t,e){t.read_shift(2);var r=dg(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Bs,""),[r,n]}function S9(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=f_[r]||r,r=t.read_shift(2),e[1]=f_[r]||r,e}function I9(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(QI(t));return r}function N9(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(QI(t));return r}function F9(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function GI(t,e,r){if(!r.cellStyles)return us(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),A=t.read_shift(n),c=t.read_shift(n),h=t.read_shift(2);n==2&&(t.l+=2);var d={s:i,e:s,w:A,ixfe:c,flags:h};return(r.biff>=5||!r.biff)&&(d.level=h>>8&7),d}function R9(t,e){var r={};return e<32||(t.l+=16,r.header=os(t),r.footer=os(t),t.l+=2),r}function D9(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}var U9=bo,k9=OI,M9=Hf;function O9(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function L9(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=bo(t);++t.l;var i=pc(t,e-7,r);return n.t="str",n.val=i,n}function Q9(t){var e=bo(t);++t.l;var r=os(t);return e.t="n",e.val=r,e}function P9(t){var e=bo(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function H9(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function V9(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function j9(t,e,r){var n=t.l+e,i=bo(t),s=t.read_shift(2),A=sc(t,s,r);return t.l=n,i.t="str",i.val=A,i}var G9=[2,3,48,49,131,139,140,245],B_=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Aw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,h){var d=[],x=cl(1);switch(h.type){case"base64":x=Za(ha(c));break;case"binary":x=Za(c);break;case"buffer":case"array":x=c;break}Vi(x,0);var C=x.read_shift(1),B=!!(C&136),F=!1,D=!1;switch(C){case 2:break;case 3:break;case 48:F=!0,B=!0;break;case 49:F=!0,B=!0;break;case 131:break;case 139:break;case 140:D=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+C.toString(16))}var R=0,k=521;C==2&&(R=x.read_shift(2)),x.l+=3,C!=2&&(R=x.read_shift(4)),R>1048576&&(R=1e6),C!=2&&(k=x.read_shift(2));var j=x.read_shift(2),G=h.codepage||1252;C!=2&&(x.l+=16,x.read_shift(1),x[x.l]!==0&&(G=t[x[x.l]]),x.l+=1,x.l+=2),D&&(x.l+=36);for(var Q=[],ee={},ne=Math.min(x.length,C==2?521:k-10-(F?264:0)),te=D?32:11;x.l<ne&&x[x.l]!=13;)switch(ee={},ee.name=vf.utils.decode(G,x.slice(x.l,x.l+te)).replace(/[\u0000\r\n].*$/g,""),x.l+=te,ee.type=String.fromCharCode(x.read_shift(1)),C!=2&&!D&&(ee.offset=x.read_shift(4)),ee.len=x.read_shift(1),C==2&&(ee.offset=x.read_shift(2)),ee.dec=x.read_shift(1),ee.name.length&&Q.push(ee),C!=2&&(x.l+=D?13:14),ee.type){case"B":(!F||ee.len!=8)&&h.WTF&&console.log("Skipping "+ee.name+":"+ee.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+ee.name+":"+ee.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+ee.type)}if(x[x.l]!==13&&(x.l=k-1),x.read_shift(1)!==13)throw new Error("DBF Terminator not found "+x.l+" "+x[x.l]);x.l=k;var M=0,H=0;for(d[0]=[],H=0;H!=Q.length;++H)d[0][H]=Q[H].name;for(;R-- >0;){if(x[x.l]===42){x.l+=j;continue}for(++x.l,d[++M]=[],H=0,H=0;H!=Q.length;++H){var O=x.slice(x.l,x.l+Q[H].len);x.l+=Q[H].len,Vi(O,0);var z=vf.utils.decode(G,O);switch(Q[H].type){case"C":z.trim().length&&(d[M][H]=z.replace(/\s+$/,""));break;case"D":z.length===8?d[M][H]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):d[M][H]=z;break;case"F":d[M][H]=parseFloat(z.trim());break;case"+":case"I":d[M][H]=D?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":d[M][H]=!0;break;case"N":case"F":d[M][H]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!B)throw new Error("DBF Unexpected MEMO for type "+C.toString(16));d[M][H]="##MEMO##"+(D?parseInt(z.trim(),10):O.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(d[M][H]=+z||0);break;case"@":d[M][H]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":d[M][H]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":d[M][H]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[M][H]=-O.read_shift(-8,"f");break;case"B":if(F&&Q[H].len==8){d[M][H]=O.read_shift(8,"f");break}case"G":case"P":O.l+=Q[H].len;break;case"0":if(Q[H].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+Q[H].type)}}}if(C!=2&&x.l<x.length&&x[x.l++]!=26)throw new Error("DBF EOF Marker missing "+(x.l-1)+" of "+x.length+" "+x[x.l-1].toString(16));return h&&h.sheetRows&&(d=d.slice(0,h.sheetRows)),h.DBF=Q,d}function n(c,h){var d=h||{};d.dateNF||(d.dateNF="yyyymmdd");var x=Ou(r(c,d),d);return x["!cols"]=d.DBF.map(function(C){return{wch:C.len,DBF:C}}),delete d.DBF,x}function i(c,h){try{return ml(n(c,h),h)}catch(d){if(h&&h.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function A(c,h){var d=h||{};if(+d.codepage>=0&&$a(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var x=$x(),C=l2(c,{header:1,raw:!0,cellDates:!0}),B=C[0],F=C.slice(1),D=c["!cols"]||[],R=0,k=0,j=0,G=1;for(R=0;R<B.length;++R){if(((D[R]||{}).DBF||{}).name){B[R]=D[R].DBF.name,++j;continue}if(B[R]!=null){if(++j,typeof B[R]=="number"&&(B[R]=B[R].toString(10)),typeof B[R]!="string")throw new Error("DBF Invalid column name "+B[R]+" |"+typeof B[R]+"|");if(B.indexOf(B[R])!==R){for(k=0;k<1024;++k)if(B.indexOf(B[R]+"_"+k)==-1){B[R]+="_"+k;break}}}}var Q=Kn(c["!ref"]),ee=[],ne=[],te=[];for(R=0;R<=Q.e.c-Q.s.c;++R){var M="",H="",O=0,z=[];for(k=0;k<F.length;++k)F[k][R]!=null&&z.push(F[k][R]);if(z.length==0||B[R]==null){ee[R]="?";continue}for(k=0;k<z.length;++k){switch(typeof z[k]){case"number":H="B";break;case"string":H="C";break;case"boolean":H="L";break;case"object":H=z[k]instanceof Date?"D":"C";break;default:H="C"}O=Math.max(O,String(z[k]).length),M=M&&M!=H?"C":H}O>250&&(O=250),H=((D[R]||{}).DBF||{}).type,H=="C"&&D[R].DBF.len>O&&(O=D[R].DBF.len),M=="B"&&H=="N"&&(M="N",te[R]=D[R].DBF.dec,O=D[R].DBF.len),ne[R]=M=="C"||H=="N"?O:s[M]||0,G+=ne[R],ee[R]=M}var J=x.next(32);for(J.write_shift(4,318902576),J.write_shift(4,F.length),J.write_shift(2,296+32*j),J.write_shift(2,G),R=0;R<4;++R)J.write_shift(4,0);for(J.write_shift(4,0|(+e[jS]||3)<<8),R=0,k=0;R<B.length;++R)if(B[R]!=null){var W=x.next(32),X=(B[R].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,X,"sbcs"),W.write_shift(1,ee[R]=="?"?"C":ee[R],"sbcs"),W.write_shift(4,k),W.write_shift(1,ne[R]||s[ee[R]]||0),W.write_shift(1,te[R]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),k+=ne[R]||s[ee[R]]||0}var Me=x.next(264);for(Me.write_shift(4,13),R=0;R<65;++R)Me.write_shift(4,0);for(R=0;R<F.length;++R){var ye=x.next(G);for(ye.write_shift(1,0),k=0;k<B.length;++k)if(B[k]!=null)switch(ee[k]){case"L":ye.write_shift(1,F[R][k]==null?63:F[R][k]?84:70);break;case"B":ye.write_shift(8,F[R][k]||0,"f");break;case"N":var we="0";for(typeof F[R][k]=="number"&&(we=F[R][k].toFixed(te[k]||0)),j=0;j<ne[k]-we.length;++j)ye.write_shift(1,32);ye.write_shift(1,we,"sbcs");break;case"D":F[R][k]?(ye.write_shift(4,("0000"+F[R][k].getFullYear()).slice(-4),"sbcs"),ye.write_shift(2,("00"+(F[R][k].getMonth()+1)).slice(-2),"sbcs"),ye.write_shift(2,("00"+F[R][k].getDate()).slice(-2),"sbcs")):ye.write_shift(8,"00000000","sbcs");break;case"C":var ce=String(F[R][k]!=null?F[R][k]:"").slice(0,ne[k]);for(ye.write_shift(1,ce,"sbcs"),j=0;j<ne[k]-ce.length;++j)ye.write_shift(1,32);break}}return x.next(1).write_shift(1,26),x.end()}return{to_workbook:i,to_sheet:n,from_sheet:A}})(),K9=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Co(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(B,F){var D=t[F];return typeof D=="number"?PB(D):D},n=function(B,F,D){var R=F.charCodeAt(0)-32<<4|D.charCodeAt(0)-48;return R==59?B:PB(R)};t["|"]=254;function i(B,F){switch(F.type){case"base64":return s(ha(B),F);case"binary":return s(B,F);case"buffer":return s(Nr&&Buffer.isBuffer(B)?B.toString("binary"):fc(B),F);case"array":return s(ic(B),F)}throw new Error("Unrecognized type "+F.type)}function s(B,F){var D=B.split(/[\n\r]+/),R=-1,k=-1,j=0,G=0,Q=[],ee=[],ne=null,te={},M=[],H=[],O=[],z=0,J;for(+F.codepage>=0&&$a(+F.codepage);j!==D.length;++j){z=0;var W=D[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),X=W.replace(/;;/g,"\0").split(";").map(function(oe){return oe.replace(/\u0000/g,";")}),Me=X[0],ye;if(W.length>0)switch(Me){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":X[1].charAt(0)=="P"&&ee.push(W.slice(3).replace(/;;/g,";"));break;case"C":var we=!1,ce=!1,He=!1,Be=!1,tt=-1,me=-1;for(G=1;G<X.length;++G)switch(X[G].charAt(0)){case"A":break;case"X":k=parseInt(X[G].slice(1))-1,ce=!0;break;case"Y":for(R=parseInt(X[G].slice(1))-1,ce||(k=0),J=Q.length;J<=R;++J)Q[J]=[];break;case"K":ye=X[G].slice(1),ye.charAt(0)==='"'?ye=ye.slice(1,ye.length-1):ye==="TRUE"?ye=!0:ye==="FALSE"?ye=!1:isNaN(to(ye))?isNaN(_u(ye).getDate())||(ye=Ni(ye)):(ye=to(ye),ne!==null&&ku(ne)&&(ye=fg(ye))),we=!0;break;case"E":Be=!0;var Z=wu(X[G].slice(1),{r:R,c:k});Q[R][k]=[Q[R][k],Z];break;case"S":He=!0,Q[R][k]=[Q[R][k],"S5S"];break;case"G":break;case"R":tt=parseInt(X[G].slice(1))-1;break;case"C":me=parseInt(X[G].slice(1))-1;break;default:if(F&&F.WTF)throw new Error("SYLK bad record "+W)}if(we&&(Q[R][k]&&Q[R][k].length==2?Q[R][k][0]=ye:Q[R][k]=ye,ne=null),He){if(Be)throw new Error("SYLK shared formula cannot have own formula");var de=tt>-1&&Q[tt][me];if(!de||!de[1])throw new Error("SYLK shared formula cannot find base");Q[R][k][1]=e3(de[1],{r:R-tt,c:k-me})}break;case"F":var fe=0;for(G=1;G<X.length;++G)switch(X[G].charAt(0)){case"X":k=parseInt(X[G].slice(1))-1,++fe;break;case"Y":for(R=parseInt(X[G].slice(1))-1,J=Q.length;J<=R;++J)Q[J]=[];break;case"M":z=parseInt(X[G].slice(1))/20;break;case"F":break;case"G":break;case"P":ne=ee[parseInt(X[G].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=X[G].slice(1).split(" "),J=parseInt(O[0],10);J<=parseInt(O[1],10);++J)z=parseInt(O[2],10),H[J-1]=z===0?{hidden:!0}:{wch:z},Tu(H[J-1]);break;case"C":k=parseInt(X[G].slice(1))-1,H[k]||(H[k]={});break;case"R":R=parseInt(X[G].slice(1))-1,M[R]||(M[R]={}),z>0?(M[R].hpt=z,M[R].hpx=Tf(z)):z===0&&(M[R].hidden=!0);break;default:if(F&&F.WTF)throw new Error("SYLK bad record "+W)}fe<1&&(ne=null);break;default:if(F&&F.WTF)throw new Error("SYLK bad record "+W)}}return M.length>0&&(te["!rows"]=M),H.length>0&&(te["!cols"]=H),F&&F.sheetRows&&(Q=Q.slice(0,F.sheetRows)),[Q,te]}function A(B,F){var D=i(B,F),R=D[0],k=D[1],j=Ou(R,F);return Co(k).forEach(function(G){j[G]=k[G]}),j}function c(B,F){return ml(A(B,F),F)}function h(B,F,D,R){var k="C;Y"+(D+1)+";X"+(R+1)+";K";switch(B.t){case"n":k+=B.v||0,B.f&&!B.F&&(k+=";E"+F7(B.f,{r:D,c:R}));break;case"b":k+=B.v?"TRUE":"FALSE";break;case"e":k+=B.w||B.v;break;case"d":k+='"'+(B.w||B.v)+'"';break;case"s":k+='"'+B.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return k}function d(B,F){F.forEach(function(D,R){var k="F;W"+(R+1)+" "+(R+1)+" ";D.hidden?k+="0":(typeof D.width=="number"&&!D.wpx&&(D.wpx=N1(D.width)),typeof D.wpx=="number"&&!D.wch&&(D.wch=F1(D.wpx)),typeof D.wch=="number"&&(k+=Math.round(D.wch))),k.charAt(k.length-1)!=" "&&B.push(k)})}function x(B,F){F.forEach(function(D,R){var k="F;";D.hidden?k+="M0;":D.hpt?k+="M"+20*D.hpt+";":D.hpx&&(k+="M"+20*JI(D.hpx)+";"),k.length>2&&B.push(k+"R"+(R+1))})}function C(B,F){var D=["ID;PWXL;N;E"],R=[],k=Kn(B["!ref"]),j,G=Array.isArray(B),Q=`\r
`;D.push("P;PGeneral"),D.push("F;P0;DG0G8;M255"),B["!cols"]&&d(D,B["!cols"]),B["!rows"]&&x(D,B["!rows"]),D.push("B;Y"+(k.e.r-k.s.r+1)+";X"+(k.e.c-k.s.c+1)+";D"+[k.s.c,k.s.r,k.e.c,k.e.r].join(" "));for(var ee=k.s.r;ee<=k.e.r;++ee)for(var ne=k.s.c;ne<=k.e.c;++ne){var te=Ar({r:ee,c:ne});j=G?(B[ee]||[])[ne]:B[te],!(!j||j.v==null&&(!j.f||j.F))&&R.push(h(j,B,ee,ne))}return D.join(Q)+Q+R.join(Q)+Q+"E"+Q}return{to_workbook:c,to_sheet:A,from_sheet:C}})(),z9=(function(){function t(s,A){switch(A.type){case"base64":return e(ha(s),A);case"binary":return e(s,A);case"buffer":return e(Nr&&Buffer.isBuffer(s)?s.toString("binary"):fc(s),A);case"array":return e(ic(s),A)}throw new Error("Unrecognized type "+A.type)}function e(s,A){for(var c=s.split(`
`),h=-1,d=-1,x=0,C=[];x!==c.length;++x){if(c[x].trim()==="BOT"){C[++h]=[],d=0;continue}if(!(h<0)){var B=c[x].trim().split(","),F=B[0],D=B[1];++x;for(var R=c[x]||"";(R.match(/["]/g)||[]).length&1&&x<c.length-1;)R+=`
`+c[++x];switch(R=R.trim(),+F){case-1:if(R==="BOT"){C[++h]=[],d=0;continue}else if(R!=="EOD")throw new Error("Unrecognized DIF special command "+R);break;case 0:R==="TRUE"?C[h][d]=!0:R==="FALSE"?C[h][d]=!1:isNaN(to(D))?isNaN(_u(D).getDate())?C[h][d]=D:C[h][d]=Ni(D):C[h][d]=to(D),++d;break;case 1:R=R.slice(1,R.length-1),R=R.replace(/""/g,'"'),R&&R.match(/^=".*"$/)&&(R=R.slice(2,-1)),C[h][d++]=R!==""?R:null;break}if(R==="EOD")break}}return A&&A.sheetRows&&(C=C.slice(0,A.sheetRows)),C}function r(s,A){return Ou(t(s,A),A)}function n(s,A){return ml(r(s,A),A)}var i=(function(){var s=function(h,d,x,C,B){h.push(d),h.push(x+","+C),h.push('"'+B.replace(/"/g,'""')+'"')},A=function(h,d,x,C){h.push(d+","+x),h.push(d==1?'"'+C.replace(/"/g,'""')+'"':C)};return function(h){var d=[],x=Kn(h["!ref"]),C,B=Array.isArray(h);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,x.e.r-x.s.r+1,""),s(d,"TUPLES",0,x.e.c-x.s.c+1,""),s(d,"DATA",0,0,"");for(var F=x.s.r;F<=x.e.r;++F){A(d,-1,0,"BOT");for(var D=x.s.c;D<=x.e.c;++D){var R=Ar({r:F,c:D});if(C=B?(h[F]||[])[D]:h[R],!C){A(d,1,0,"");continue}switch(C.t){case"n":var k=C.w;!k&&C.v!=null&&(k=C.v),k==null?C.f&&!C.F?A(d,1,0,"="+C.f):A(d,1,0,""):A(d,0,k,"V");break;case"b":A(d,0,C.v?1:0,C.v?"TRUE":"FALSE");break;case"s":A(d,1,0,isNaN(C.v)?C.v:'="'+C.v+'"');break;case"d":C.w||(C.w=Oa(C.z||gr[14],Ts(Ni(C.v)))),A(d,0,C.w,"V");break;default:A(d,1,0,"")}}}A(d,-1,0,"EOD");var j=`\r
`,G=d.join(j);return G}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),W9=(function(){function t(C){return C.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(C){return C.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(C,B){for(var F=C.split(`
`),D=-1,R=-1,k=0,j=[];k!==F.length;++k){var G=F[k].trim().split(":");if(G[0]==="cell"){var Q=Es(G[1]);if(j.length<=Q.r)for(D=j.length;D<=Q.r;++D)j[D]||(j[D]=[]);switch(D=Q.r,R=Q.c,G[2]){case"t":j[D][R]=t(G[3]);break;case"v":j[D][R]=+G[3];break;case"vtf":var ee=G[G.length-1];case"vtc":switch(G[3]){case"nl":j[D][R]=!!+G[4];break;default:j[D][R]=+G[4];break}G[2]=="vtf"&&(j[D][R]=[j[D][R],ee])}}}return B&&B.sheetRows&&(j=j.slice(0,B.sheetRows)),j}function n(C,B){return Ou(r(C,B),B)}function i(C,B){return ml(n(C,B),B)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),A=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function d(C){if(!C||!C["!ref"])return"";for(var B=[],F=[],D,R="",k=Mu(C["!ref"]),j=Array.isArray(C),G=k.s.r;G<=k.e.r;++G)for(var Q=k.s.c;Q<=k.e.c;++Q)if(R=Ar({r:G,c:Q}),D=j?(C[G]||[])[Q]:C[R],!(!D||D.v==null||D.t==="z")){switch(F=["cell",R,"t"],D.t){case"s":case"str":F.push(e(D.v));break;case"n":D.f?(F[2]="vtf",F[3]="n",F[4]=D.v,F[5]=e(D.f)):(F[2]="v",F[3]=D.v);break;case"b":F[2]="vt"+(D.f?"f":"c"),F[3]="nl",F[4]=D.v?"1":"0",F[5]=e(D.f||(D.v?"TRUE":"FALSE"));break;case"d":var ee=Ts(Ni(D.v));F[2]="vtc",F[3]="nd",F[4]=""+ee,F[5]=D.w||Oa(D.z||gr[14],ee);break;case"e":continue}B.push(F.join(":"))}return B.push("sheet:c:"+(k.e.c-k.s.c+1)+":r:"+(k.e.r-k.s.r+1)+":tvf:1"),B.push("valueformat:1:text-wiki"),B.join(`
`)}function x(C){return[s,A,c,A,d(C),h].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:x}})(),Bf=(function(){function t(x,C,B,F,D){D.raw?C[B][F]=x:x===""||(x==="TRUE"?C[B][F]=!0:x==="FALSE"?C[B][F]=!1:isNaN(to(x))?isNaN(_u(x).getDate())?C[B][F]=x:C[B][F]=Ni(x):C[B][F]=to(x))}function e(x,C){var B=C||{},F=[];if(!x||x.length===0)return F;for(var D=x.split(/[\r\n]/),R=D.length-1;R>=0&&D[R].length===0;)--R;for(var k=10,j=0,G=0;G<=R;++G)j=D[G].indexOf(" "),j==-1?j=D[G].length:j++,k=Math.max(k,j);for(G=0;G<=R;++G){F[G]=[];var Q=0;for(t(D[G].slice(0,k).trim(),F,G,Q,B),Q=1;Q<=(D[G].length-k)/10+1;++Q)t(D[G].slice(k+(Q-1)*10,k+Q*10).trim(),F,G,Q,B)}return B.sheetRows&&(F=F.slice(0,B.sheetRows)),F}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(x){for(var C={},B=!1,F=0,D=0;F<x.length;++F)(D=x.charCodeAt(F))==34?B=!B:!B&&D in r&&(C[D]=(C[D]||0)+1);D=[];for(F in C)Object.prototype.hasOwnProperty.call(C,F)&&D.push([C[F],F]);if(!D.length){C=n;for(F in C)Object.prototype.hasOwnProperty.call(C,F)&&D.push([C[F],F])}return D.sort(function(R,k){return R[0]-k[0]||n[R[1]]-n[k[1]]}),r[D.pop()[1]]||44}function s(x,C){var B=C||{},F="",D=B.dense?[]:{},R={s:{c:0,r:0},e:{c:0,r:0}};x.slice(0,4)=="sep="?x.charCodeAt(5)==13&&x.charCodeAt(6)==10?(F=x.charAt(4),x=x.slice(7)):x.charCodeAt(5)==13||x.charCodeAt(5)==10?(F=x.charAt(4),x=x.slice(6)):F=i(x.slice(0,1024)):B&&B.FS?F=B.FS:F=i(x.slice(0,1024));var k=0,j=0,G=0,Q=0,ee=0,ne=F.charCodeAt(0),te=!1,M=0,H=x.charCodeAt(0);x=x.replace(/\r\n/mg,`
`);var O=B.dateNF!=null?iO(B.dateNF):null;function z(){var J=x.slice(Q,ee),W={};if(J.charAt(0)=='"'&&J.charAt(J.length-1)=='"'&&(J=J.slice(1,-1).replace(/""/g,'"')),J.length===0)W.t="z";else if(B.raw)W.t="s",W.v=J;else if(J.trim().length===0)W.t="s",W.v=J;else if(J.charCodeAt(0)==61)J.charCodeAt(1)==34&&J.charCodeAt(J.length-1)==34?(W.t="s",W.v=J.slice(2,-1).replace(/""/g,'"')):D7(J)?(W.t="n",W.f=J.slice(1)):(W.t="s",W.v=J);else if(J=="TRUE")W.t="b",W.v=!0;else if(J=="FALSE")W.t="b",W.v=!1;else if(!isNaN(G=to(J)))W.t="n",B.cellText!==!1&&(W.w=J),W.v=G;else if(!isNaN(_u(J).getDate())||O&&J.match(O)){W.z=B.dateNF||gr[14];var X=0;O&&J.match(O)&&(J=sO(J,B.dateNF,J.match(O)||[]),X=1),B.cellDates?(W.t="d",W.v=Ni(J,X)):(W.t="n",W.v=Ts(Ni(J,X))),B.cellText!==!1&&(W.w=Oa(W.z,W.v instanceof Date?Ts(W.v):W.v)),B.cellNF||delete W.z}else W.t="s",W.v=J;if(W.t=="z"||(B.dense?(D[k]||(D[k]=[]),D[k][j]=W):D[Ar({c:j,r:k})]=W),Q=ee+1,H=x.charCodeAt(Q),R.e.c<j&&(R.e.c=j),R.e.r<k&&(R.e.r=k),M==ne)++j;else if(j=0,++k,B.sheetRows&&B.sheetRows<=k)return!0}e:for(;ee<x.length;++ee)switch(M=x.charCodeAt(ee)){case 34:H===34&&(te=!te);break;case ne:case 10:case 13:if(!te&&z())break e;break}return ee-Q>0&&z(),D["!ref"]=Ur(R),D}function A(x,C){return!(C&&C.PRN)||C.FS||x.slice(0,4)=="sep="||x.indexOf("	")>=0||x.indexOf(",")>=0||x.indexOf(";")>=0?s(x,C):Ou(e(x,C),C)}function c(x,C){var B="",F=C.type=="string"?[0,0,0,0]:bw(x,C);switch(C.type){case"base64":B=ha(x);break;case"binary":B=x;break;case"buffer":C.codepage==65001?B=x.toString("utf8"):C.codepage&&typeof vf<"u"||(B=Nr&&Buffer.isBuffer(x)?x.toString("binary"):fc(x));break;case"array":B=ic(x);break;case"string":B=x;break;default:throw new Error("Unrecognized type "+C.type)}return F[0]==239&&F[1]==187&&F[2]==191?B=xn(B.slice(3)):C.type!="string"&&C.type!="buffer"&&C.codepage==65001?B=xn(B):C.type=="binary"&&typeof vf<"u",B.slice(0,19)=="socialcalc:version:"?W9.to_sheet(C.type=="string"?B:xn(B),C):A(B,C)}function h(x,C){return ml(c(x,C),C)}function d(x){for(var C=[],B=Kn(x["!ref"]),F,D=Array.isArray(x),R=B.s.r;R<=B.e.r;++R){for(var k=[],j=B.s.c;j<=B.e.c;++j){var G=Ar({r:R,c:j});if(F=D?(x[R]||[])[j]:x[G],!F||F.v==null){k.push("          ");continue}for(var Q=(F.w||(oA(F),F.w)||"").slice(0,10);Q.length<10;)Q+=" ";k.push(Q+(j===0?" ":""))}C.push(k.join(""))}return C.join(`
`)}return{to_workbook:h,to_sheet:c,from_sheet:d}})();function X9(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=K9.to_workbook(t,r);return r.WTF=n,i}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Bf.to_workbook(t,e)}}var Af=(function(){function t(Z,de,fe){if(Z){Vi(Z,Z.l||0);for(var oe=fe.Enum||tt;Z.l<Z.length;){var xe=Z.read_shift(2),Ye=oe[xe]||oe[65535],Fe=Z.read_shift(2),_e=Z.l+Fe,Le=Ye.f&&Ye.f(Z,Fe,fe);if(Z.l=_e,de(Le,Ye,xe))return}}}function e(Z,de){switch(de.type){case"base64":return r(Za(ha(Z)),de);case"binary":return r(Za(Z),de);case"buffer":case"array":return r(Z,de)}throw"Unsupported type "+de.type}function r(Z,de){if(!Z)return Z;var fe=de||{},oe=fe.dense?[]:{},xe="Sheet1",Ye="",Fe=0,_e={},Le=[],xt=[],pe={s:{r:0,c:0},e:{r:0,c:0}},St=fe.sheetRows||0;if(Z[2]==0&&(Z[3]==8||Z[3]==9)&&Z.length>=16&&Z[14]==5&&Z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Z[2]==2)fe.Enum=tt,t(Z,function(Ue,gt,Bt){switch(Bt){case 0:fe.vers=Ue,Ue>=4096&&(fe.qpro=!0);break;case 6:pe=Ue;break;case 204:Ue&&(Ye=Ue);break;case 222:Ye=Ue;break;case 15:case 51:fe.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:Bt==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=fe.dateNF||gr[14],fe.cellDates&&(Ue[1].t="d",Ue[1].v=fg(Ue[1].v))),fe.qpro&&Ue[3]>Fe&&(oe["!ref"]=Ur(pe),_e[xe]=oe,Le.push(xe),oe=fe.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},Fe=Ue[3],xe=Ye||"Sheet"+(Fe+1),Ye="");var ur=fe.dense?(oe[Ue[0].r]||[])[Ue[0].c]:oe[Ar(Ue[0])];if(ur){ur.t=Ue[1].t,ur.v=Ue[1].v,Ue[1].z!=null&&(ur.z=Ue[1].z),Ue[1].f!=null&&(ur.f=Ue[1].f);break}fe.dense?(oe[Ue[0].r]||(oe[Ue[0].r]=[]),oe[Ue[0].r][Ue[0].c]=Ue[1]):oe[Ar(Ue[0])]=Ue[1];break}},fe);else if(Z[2]==26||Z[2]==14)fe.Enum=me,Z[2]==14&&(fe.qpro=!0,Z.l=0),t(Z,function(Ue,gt,Bt){switch(Bt){case 204:xe=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>Fe&&(oe["!ref"]=Ur(pe),_e[xe]=oe,Le.push(xe),oe=fe.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},Fe=Ue[3],xe="Sheet"+(Fe+1)),St>0&&Ue[0].r>=St)break;fe.dense?(oe[Ue[0].r]||(oe[Ue[0].r]=[]),oe[Ue[0].r][Ue[0].c]=Ue[1]):oe[Ar(Ue[0])]=Ue[1],pe.e.c<Ue[0].c&&(pe.e.c=Ue[0].c),pe.e.r<Ue[0].r&&(pe.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(xt[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:xt[Ue[0]]=Ue[1],Ue[0]==Fe&&(xe=Ue[1]);break}},fe);else throw new Error("Unrecognized LOTUS BOF "+Z[2]);if(oe["!ref"]=Ur(pe),_e[Ye||xe]=oe,Le.push(Ye||xe),!xt.length)return{SheetNames:Le,Sheets:_e};for(var kt={},Lt=[],Ne=0;Ne<xt.length;++Ne)_e[Le[Ne]]?(Lt.push(xt[Ne]||Le[Ne]),kt[xt[Ne]]=_e[xt[Ne]]||_e[Le[Ne]]):(Lt.push(xt[Ne]),kt[xt[Ne]]={"!ref":"A1"});return{SheetNames:Lt,Sheets:kt}}function n(Z,de){var fe=de||{};if(+fe.codepage>=0&&$a(+fe.codepage),fe.type=="string")throw new Error("Cannot write WK1 to JS string");var oe=$x(),xe=Kn(Z["!ref"]),Ye=Array.isArray(Z),Fe=[];Xa(oe,0,s(1030)),Xa(oe,6,h(xe));for(var _e=Math.min(xe.e.r,8191),Le=xe.s.r;Le<=_e;++Le)for(var xt=zi(Le),pe=xe.s.c;pe<=xe.e.c;++pe){Le===xe.s.r&&(Fe[pe]=wi(pe));var St=Fe[pe]+xt,kt=Ye?(Z[Le]||[])[pe]:Z[St];if(!(!kt||kt.t=="z"))if(kt.t=="n")(kt.v|0)==kt.v&&kt.v>=-32768&&kt.v<=32767?Xa(oe,13,F(Le,pe,kt.v)):Xa(oe,14,R(Le,pe,kt.v));else{var Lt=oA(kt);Xa(oe,15,C(Le,pe,Lt.slice(0,239)))}}return Xa(oe,1),oe.end()}function i(Z,de){var fe=de||{};if(+fe.codepage>=0&&$a(+fe.codepage),fe.type=="string")throw new Error("Cannot write WK3 to JS string");var oe=$x();Xa(oe,0,A(Z));for(var xe=0,Ye=0;xe<Z.SheetNames.length;++xe)(Z.Sheets[Z.SheetNames[xe]]||{})["!ref"]&&Xa(oe,27,Be(Z.SheetNames[xe],Ye++));var Fe=0;for(xe=0;xe<Z.SheetNames.length;++xe){var _e=Z.Sheets[Z.SheetNames[xe]];if(!(!_e||!_e["!ref"])){for(var Le=Kn(_e["!ref"]),xt=Array.isArray(_e),pe=[],St=Math.min(Le.e.r,8191),kt=Le.s.r;kt<=St;++kt)for(var Lt=zi(kt),Ne=Le.s.c;Ne<=Le.e.c;++Ne){kt===Le.s.r&&(pe[Ne]=wi(Ne));var Ue=pe[Ne]+Lt,gt=xt?(_e[kt]||[])[Ne]:_e[Ue];if(!(!gt||gt.t=="z"))if(gt.t=="n")Xa(oe,23,z(kt,Ne,Fe,gt.v));else{var Bt=oA(gt);Xa(oe,22,M(kt,Ne,Fe,Bt.slice(0,239)))}}++Fe}}return Xa(oe,1),oe.end()}function s(Z){var de=mi(2);return de.write_shift(2,Z),de}function A(Z){var de=mi(26);de.write_shift(2,4096),de.write_shift(2,4),de.write_shift(4,0);for(var fe=0,oe=0,xe=0,Ye=0;Ye<Z.SheetNames.length;++Ye){var Fe=Z.SheetNames[Ye],_e=Z.Sheets[Fe];if(!(!_e||!_e["!ref"])){++xe;var Le=Mu(_e["!ref"]);fe<Le.e.r&&(fe=Le.e.r),oe<Le.e.c&&(oe=Le.e.c)}}return fe>8191&&(fe=8191),de.write_shift(2,fe),de.write_shift(1,xe),de.write_shift(1,oe),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(1,1),de.write_shift(1,2),de.write_shift(4,0),de.write_shift(4,0),de}function c(Z,de,fe){var oe={s:{c:0,r:0},e:{c:0,r:0}};return de==8&&fe.qpro?(oe.s.c=Z.read_shift(1),Z.l++,oe.s.r=Z.read_shift(2),oe.e.c=Z.read_shift(1),Z.l++,oe.e.r=Z.read_shift(2),oe):(oe.s.c=Z.read_shift(2),oe.s.r=Z.read_shift(2),de==12&&fe.qpro&&(Z.l+=2),oe.e.c=Z.read_shift(2),oe.e.r=Z.read_shift(2),de==12&&fe.qpro&&(Z.l+=2),oe.s.c==65535&&(oe.s.c=oe.e.c=oe.s.r=oe.e.r=0),oe)}function h(Z){var de=mi(8);return de.write_shift(2,Z.s.c),de.write_shift(2,Z.s.r),de.write_shift(2,Z.e.c),de.write_shift(2,Z.e.r),de}function d(Z,de,fe){var oe=[{c:0,r:0},{t:"n",v:0},0,0];return fe.qpro&&fe.vers!=20768?(oe[0].c=Z.read_shift(1),oe[3]=Z.read_shift(1),oe[0].r=Z.read_shift(2),Z.l+=2):(oe[2]=Z.read_shift(1),oe[0].c=Z.read_shift(2),oe[0].r=Z.read_shift(2)),oe}function x(Z,de,fe){var oe=Z.l+de,xe=d(Z,de,fe);if(xe[1].t="s",fe.vers==20768){Z.l++;var Ye=Z.read_shift(1);return xe[1].v=Z.read_shift(Ye,"utf8"),xe}return fe.qpro&&Z.l++,xe[1].v=Z.read_shift(oe-Z.l,"cstr"),xe}function C(Z,de,fe){var oe=mi(7+fe.length);oe.write_shift(1,255),oe.write_shift(2,de),oe.write_shift(2,Z),oe.write_shift(1,39);for(var xe=0;xe<oe.length;++xe){var Ye=fe.charCodeAt(xe);oe.write_shift(1,Ye>=128?95:Ye)}return oe.write_shift(1,0),oe}function B(Z,de,fe){var oe=d(Z,de,fe);return oe[1].v=Z.read_shift(2,"i"),oe}function F(Z,de,fe){var oe=mi(7);return oe.write_shift(1,255),oe.write_shift(2,de),oe.write_shift(2,Z),oe.write_shift(2,fe,"i"),oe}function D(Z,de,fe){var oe=d(Z,de,fe);return oe[1].v=Z.read_shift(8,"f"),oe}function R(Z,de,fe){var oe=mi(13);return oe.write_shift(1,255),oe.write_shift(2,de),oe.write_shift(2,Z),oe.write_shift(8,fe,"f"),oe}function k(Z,de,fe){var oe=Z.l+de,xe=d(Z,de,fe);if(xe[1].v=Z.read_shift(8,"f"),fe.qpro)Z.l=oe;else{var Ye=Z.read_shift(2);ee(Z.slice(Z.l,Z.l+Ye),xe),Z.l+=Ye}return xe}function j(Z,de,fe){var oe=de&32768;return de&=-32769,de=(oe?Z:0)+(de>=8192?de-16384:de),(oe?"":"$")+(fe?wi(de):zi(de))}var G={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Q=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function ee(Z,de){Vi(Z,0);for(var fe=[],oe=0,xe="",Ye="",Fe="",_e="";Z.l<Z.length;){var Le=Z[Z.l++];switch(Le){case 0:fe.push(Z.read_shift(8,"f"));break;case 1:Ye=j(de[0].c,Z.read_shift(2),!0),xe=j(de[0].r,Z.read_shift(2),!1),fe.push(Ye+xe);break;case 2:{var xt=j(de[0].c,Z.read_shift(2),!0),pe=j(de[0].r,Z.read_shift(2),!1);Ye=j(de[0].c,Z.read_shift(2),!0),xe=j(de[0].r,Z.read_shift(2),!1),fe.push(xt+pe+":"+Ye+xe)}break;case 3:if(Z.l<Z.length){console.error("WK1 premature formula end");return}break;case 4:fe.push("("+fe.pop()+")");break;case 5:fe.push(Z.read_shift(2));break;case 6:{for(var St="";Le=Z[Z.l++];)St+=String.fromCharCode(Le);fe.push('"'+St.replace(/"/g,'""')+'"')}break;case 8:fe.push("-"+fe.pop());break;case 23:fe.push("+"+fe.pop());break;case 22:fe.push("NOT("+fe.pop()+")");break;case 20:case 21:_e=fe.pop(),Fe=fe.pop(),fe.push(["AND","OR"][Le-20]+"("+Fe+","+_e+")");break;default:if(Le<32&&Q[Le])_e=fe.pop(),Fe=fe.pop(),fe.push(Fe+Q[Le]+_e);else if(G[Le]){if(oe=G[Le][1],oe==69&&(oe=Z[Z.l++]),oe>fe.length){console.error("WK1 bad formula parse 0x"+Le.toString(16)+":|"+fe.join("|")+"|");return}var kt=fe.slice(-oe);fe.length-=oe,fe.push(G[Le][0]+"("+kt.join(",")+")")}else return Le<=7?console.error("WK1 invalid opcode "+Le.toString(16)):Le<=24?console.error("WK1 unsupported op "+Le.toString(16)):Le<=30?console.error("WK1 invalid opcode "+Le.toString(16)):Le<=115?console.error("WK1 unsupported function opcode "+Le.toString(16)):console.error("WK1 unrecognized opcode "+Le.toString(16))}}fe.length==1?de[1].f=""+fe[0]:console.error("WK1 bad formula parse |"+fe.join("|")+"|")}function ne(Z){var de=[{c:0,r:0},{t:"n",v:0},0];return de[0].r=Z.read_shift(2),de[3]=Z[Z.l++],de[0].c=Z[Z.l++],de}function te(Z,de){var fe=ne(Z);return fe[1].t="s",fe[1].v=Z.read_shift(de-4,"cstr"),fe}function M(Z,de,fe,oe){var xe=mi(6+oe.length);xe.write_shift(2,Z),xe.write_shift(1,fe),xe.write_shift(1,de),xe.write_shift(1,39);for(var Ye=0;Ye<oe.length;++Ye){var Fe=oe.charCodeAt(Ye);xe.write_shift(1,Fe>=128?95:Fe)}return xe.write_shift(1,0),xe}function H(Z,de){var fe=ne(Z);fe[1].v=Z.read_shift(2);var oe=fe[1].v>>1;if(fe[1].v&1)switch(oe&7){case 0:oe=(oe>>3)*5e3;break;case 1:oe=(oe>>3)*500;break;case 2:oe=(oe>>3)/20;break;case 3:oe=(oe>>3)/200;break;case 4:oe=(oe>>3)/2e3;break;case 5:oe=(oe>>3)/2e4;break;case 6:oe=(oe>>3)/16;break;case 7:oe=(oe>>3)/64;break}return fe[1].v=oe,fe}function O(Z,de){var fe=ne(Z),oe=Z.read_shift(4),xe=Z.read_shift(4),Ye=Z.read_shift(2);if(Ye==65535)return oe===0&&xe===3221225472?(fe[1].t="e",fe[1].v=15):oe===0&&xe===3489660928?(fe[1].t="e",fe[1].v=42):fe[1].v=0,fe;var Fe=Ye&32768;return Ye=(Ye&32767)-16446,fe[1].v=(1-Fe*2)*(xe*Math.pow(2,Ye+32)+oe*Math.pow(2,Ye)),fe}function z(Z,de,fe,oe){var xe=mi(14);if(xe.write_shift(2,Z),xe.write_shift(1,fe),xe.write_shift(1,de),oe==0)return xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(2,65535),xe;var Ye=0,Fe=0,_e=0,Le=0;return oe<0&&(Ye=1,oe=-oe),Fe=Math.log2(oe)|0,oe/=Math.pow(2,Fe-31),Le=oe>>>0,(Le&2147483648)==0&&(oe/=2,++Fe,Le=oe>>>0),oe-=Le,Le|=2147483648,Le>>>=0,oe*=Math.pow(2,32),_e=oe>>>0,xe.write_shift(4,_e),xe.write_shift(4,Le),Fe+=16383+(Ye?32768:0),xe.write_shift(2,Fe),xe}function J(Z,de){var fe=O(Z);return Z.l+=de-14,fe}function W(Z,de){var fe=ne(Z),oe=Z.read_shift(4);return fe[1].v=oe>>6,fe}function X(Z,de){var fe=ne(Z),oe=Z.read_shift(8,"f");return fe[1].v=oe,fe}function Me(Z,de){var fe=X(Z);return Z.l+=de-10,fe}function ye(Z,de){return Z[Z.l+de-1]==0?Z.read_shift(de,"cstr"):""}function we(Z,de){var fe=Z[Z.l++];fe>de-1&&(fe=de-1);for(var oe="";oe.length<fe;)oe+=String.fromCharCode(Z[Z.l++]);return oe}function ce(Z,de,fe){if(!(!fe.qpro||de<21)){var oe=Z.read_shift(1);Z.l+=17,Z.l+=1,Z.l+=2;var xe=Z.read_shift(de-21,"cstr");return[oe,xe]}}function He(Z,de){for(var fe={},oe=Z.l+de;Z.l<oe;){var xe=Z.read_shift(2);if(xe==14e3){for(fe[xe]=[0,""],fe[xe][0]=Z.read_shift(2);Z[Z.l];)fe[xe][1]+=String.fromCharCode(Z[Z.l]),Z.l++;Z.l++}}return fe}function Be(Z,de){var fe=mi(5+Z.length);fe.write_shift(2,14e3),fe.write_shift(2,de);for(var oe=0;oe<Z.length;++oe){var xe=Z.charCodeAt(oe);fe[fe.l++]=xe>127?95:xe}return fe[fe.l++]=0,fe}var tt={0:{n:"BOF",f:ui},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:B},14:{n:"NUMBER",f:D},15:{n:"LABEL",f:x},16:{n:"FORMULA",f:k},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:x},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ye},222:{n:"SHEETNAMELP",f:we},65535:{n:""}},me={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:te},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:H},25:{n:"FORMULA19",f:J},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:He},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:X},40:{n:"FORMULA28",f:Me},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ye},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function q9(t){var e={},r=t.match(fs),n=0,i=!1;if(r)for(;n!=r.length;++n){var s=er(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=nw[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Y9=(function(){var t=Cf("t"),e=Cf("rPr");function r(s){var A=s.match(t);if(!A)return{t:"s",v:""};var c={t:"s",v:Lr(A[1])},h=s.match(e);return h&&(c.s=q9(h[1])),c}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(A){return A.replace(n,"").split(i).map(r).filter(function(c){return c.v})}})(),J9=(function(){var e=/(\r\n|\n)/g;function r(i,s,A){var c=[];i.u&&c.push("text-decoration: underline;"),i.uval&&c.push("text-underline-style:"+i.uval+";"),i.sz&&c.push("font-size:"+i.sz+"pt;"),i.outline&&c.push("text-effect: outline;"),i.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),i.b&&(s.push("<b>"),A.push("</b>")),i.i&&(s.push("<i>"),A.push("</i>")),i.strike&&(s.push("<s>"),A.push("</s>"));var h=i.valign||"";return h=="superscript"||h=="super"?h="sup":h=="subscript"&&(h="sub"),h!=""&&(s.push("<"+h+">"),A.push("</"+h+">")),A.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&r(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),Z9=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,$9=/<(?:\w+:)?r>/,eQ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function vw(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Lr(xn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=xn(t),r&&(n.h=cw(n.t))):t.match($9)&&(n.r=xn(t),n.t=Lr(xn((t.replace(eQ,"").match(Z9)||[]).join("").replace(fs,""))),r&&(n.h=J9(Y9(n.r)))),n):{t:""}}var tQ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,rQ=/<(?:\w+:)?(?:si|sstItem)>/g,nQ=/<\/(?:\w+:)?(?:si|sstItem)>/;function iQ(t,e){var r=[],n="";if(!t)return r;var i=t.match(tQ);if(i){n=i[2].replace(rQ,"").split(nQ);for(var s=0;s!=n.length;++s){var A=vw(n[s].trim(),e);A!=null&&(r[r.length]=A)}i=er(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function sQ(t){return[t.read_shift(4),t.read_shift(4)]}function aQ(t,e){var r=[],n=!1;return dA(t,function(s,A,c){switch(c){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(A.T,!n||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function KI(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function sA(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function oQ(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=sA(t,4),e.U=sA(t,4),e.W=sA(t,4),e}function AQ(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function lQ(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(AQ(t));return e}function cQ(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function uQ(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=sA(t,4),e.U=sA(t,4),e.W=sA(t,4),e}function fQ(t){var e=uQ(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function zI(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function WI(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function dQ(t){var e=sA(t);switch(e.Minor){case 2:return[e.Minor,hQ(t)];case 3:return[e.Minor,gQ()];case 4:return[e.Minor,pQ(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function hQ(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=zI(t,r),i=WI(t,t.length-t.l);return{t:"Std",h:n,v:i}}function gQ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pQ(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(fs,function(s){var A=er(s);switch(To(A[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){n[c]=A[c]});break;case"<dataIntegrity":n.encryptedHmacKey=A.encryptedHmacKey,n.encryptedHmacValue=A.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=A.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(A);break;default:throw A[0]}}),n}function mQ(t,e){var r={},n=r.EncryptionVersionInfo=sA(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=zI(t,i),e-=i,r.EncryptionVerifier=WI(t,e),r}function xQ(t){var e={},r=e.EncryptionVersionInfo=sA(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function wQ(t){var e=0,r,n=KI(t),i=n.length+1,s,A,c,h,d;for(r=cl(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)A=r[s],c=(e&16384)===0?0:1,h=e<<1&32767,d=c|h,e=d^A;return e^52811}var XI=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(A){return(A/2|A*128)&255},i=function(A,c){return n(A^c)},s=function(A){for(var c=e[A.length-1],h=104,d=A.length-1;d>=0;--d)for(var x=A[d],C=0;C!=7;++C)x&64&&(c^=r[h]),x*=2,--h;return c};return function(A){for(var c=KI(A),h=s(c),d=c.length,x=cl(16),C=0;C!=16;++C)x[C]=0;var B,F,D;for((d&1)===1&&(B=h>>8,x[d]=i(t[0],B),--d,B=h&255,F=c[c.length-1],x[d]=i(F,B));d>0;)--d,B=h>>8,x[d]=i(c[d],B),--d,B=h&255,x[d]=i(c[d],B);for(d=15,D=15-c.length;D>0;)B=h>>8,x[d]=i(t[D],B),--d,--D,B=h&255,x[d]=i(c[d],B),--d,--D;return x}})(),vQ=function(t,e,r,n,i){i||(i=e),n||(n=XI(t));var s,A;for(s=0;s!=e.length;++s)A=e[s],A^=n[r],A=(A>>5|A<<3)&255,i[s]=A,++r;return[i,r,n]},yQ=function(t){var e=0,r=XI(t);return function(n){var i=vQ("",n,e,r);return e=i[1],i[0]}};function CQ(t,e,r,n){var i={key:ui(t),verificationBytes:ui(t)};return r.password&&(i.verifier=wQ(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=yQ(r.password)),i}function EQ(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=xQ(t):n.Data=mQ(t,e),n}function BQ(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?EQ(t,e-2,n):CQ(t,r.biff>=8?e:e-2,r,n),n}var _Q=(function(){function t(i,s){switch(s.type){case"base64":return e(ha(i),s);case"binary":return e(i,s);case"buffer":return e(Nr&&Buffer.isBuffer(i)?i.toString("binary"):fc(i),s);case"array":return e(ic(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var A=s||{},c=A.dense?[]:{},h=i.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(x,C){Array.isArray(c)&&(c[C]=[]);for(var B=/\\\w+\b/g,F=0,D,R=-1;D=B.exec(x);){switch(D[0]){case"\\cell":var k=x.slice(F,B.lastIndex-D[0].length);if(k[0]==" "&&(k=k.slice(1)),++R,k.length){var j={v:k,t:"s"};Array.isArray(c)?c[C][R]=j:c[Ar({r:C,c:R})]=j}break}F=B.lastIndex}R>d.e.c&&(d.e.c=R)}),c["!ref"]=Ur(d),c}function r(i,s){return ml(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],A=Kn(i["!ref"]),c,h=Array.isArray(i),d=A.s.r;d<=A.e.r;++d){s.push("\\trowd\\trautofit1");for(var x=A.s.c;x<=A.e.c;++x)s.push("\\cellx"+(x+1));for(s.push("\\pard\\intbl"),x=A.s.c;x<=A.e.c;++x){var C=Ar({r:d,c:x});c=h?(i[d]||[])[x]:i[C],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(oA(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function TQ(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function _f(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function bQ(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),s=Math.min(e,r,n),A=i-s;if(A===0)return[0,0,e];var c=0,h=0,d=i+s;switch(h=A/(d>1?2-d:d),i){case e:c=((r-n)/A+6)%6;break;case r:c=(n-e)/A+2;break;case n:c=(e-r)/A+4;break}return[c/6,h,d/2]}function SQ(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),s=n-i/2,A=[s,s,s],c=6*e,h;if(r!==0)switch(c|0){case 0:case 6:h=i*c,A[0]+=i,A[1]+=h;break;case 1:h=i*(2-c),A[0]+=h,A[1]+=i;break;case 2:h=i*(c-2),A[1]+=i,A[2]+=h;break;case 3:h=i*(4-c),A[1]+=h,A[2]+=i;break;case 4:h=i*(c-4),A[2]+=i,A[0]+=h;break;case 5:h=i*(6-c),A[2]+=h,A[0]+=i;break}for(var d=0;d!=3;++d)A[d]=Math.round(A[d]*255);return A}function I1(t,e){if(e===0)return t;var r=bQ(TQ(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),_f(SQ(r))}var qI=6,IQ=15,NQ=1,Cs=qI;function N1(t){return Math.floor((t+Math.round(128/Cs)/256)*Cs)}function F1(t){return Math.floor((t-5)/Cs*100+.5)/100}function n2(t){return Math.round((t*Cs+5)/Cs*256)/256}function ax(t){return n2(F1(N1(t)))}function yw(t){var e=Math.abs(t-ax(t)),r=Cs;if(e>.005)for(Cs=NQ;Cs<IQ;++Cs)Math.abs(t-ax(t))<=e&&(e=Math.abs(t-ax(t)),r=Cs);Cs=r}function Tu(t){t.width?(t.wpx=N1(t.width),t.wch=F1(t.wpx),t.MDW=Cs):t.wpx?(t.wch=F1(t.wpx),t.width=n2(t.wch),t.MDW=Cs):typeof t.wch=="number"&&(t.width=n2(t.wch),t.wpx=N1(t.width),t.MDW=Cs),t.customWidth&&delete t.customWidth}var FQ=96,YI=FQ;function JI(t){return t*96/YI}function Tf(t){return t*YI/96}var RQ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function DQ(t,e,r,n){e.Borders=[];var i={},s=!1;(t[0].match(fs)||[]).forEach(function(A){var c=er(A);switch(To(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},c.diagonalUp&&(i.diagonalUp=In(c.diagonalUp)),c.diagonalDown&&(i.diagonalDown=In(c.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function UQ(t,e,r,n){e.Fills=[];var i={},s=!1;(t[0].match(fs)||[]).forEach(function(A){var c=er(A);switch(To(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":c.patternType&&(i.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),c.indexed&&(i.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(i.bgColor.theme=parseInt(c.theme,10)),c.tint&&(i.bgColor.tint=parseFloat(c.tint)),c.rgb&&(i.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),c.theme&&(i.fgColor.theme=parseInt(c.theme,10)),c.tint&&(i.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(i.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function kQ(t,e,r,n){e.Fonts=[];var i={},s=!1;(t[0].match(fs)||[]).forEach(function(A){var c=er(A);switch(To(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":c.val&&(i.name=xn(c.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=c.val?In(c.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=c.val?In(c.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(c.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=c.val?In(c.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=c.val?In(c.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=c.val?In(c.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=c.val?In(c.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=c.val?In(c.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":c.val&&(i.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(i.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(i.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(i.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=nw[parseInt(c.val,10)];break;case"<color":if(i.color||(i.color={}),c.auto&&(i.color.auto=In(c.auto)),c.rgb)i.color.rgb=c.rgb.slice(-6);else if(c.indexed){i.color.index=parseInt(c.indexed,10);var h=ec[i.color.index];i.color.index==81&&(h=ec[1]),h||(h=ec[1]),i.color.rgb=h[0].toString(16)+h[1].toString(16)+h[2].toString(16)}else c.theme&&(i.color.theme=parseInt(c.theme,10),c.tint&&(i.color.tint=parseFloat(c.tint)),c.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=I1(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function MQ(t,e,r){e.NumberFmt=[];for(var n=Co(gr),i=0;i<n.length;++i)e.NumberFmt[n[i]]=gr[n[i]];var s=t[0].match(fs);if(s)for(i=0;i<s.length;++i){var A=er(s[i]);switch(To(A[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Lr(xn(A.formatCode)),h=parseInt(A.numFmtId,10);if(e.NumberFmt[h]=c,h>0){if(h>392){for(h=392;h>60&&e.NumberFmt[h]!=null;--h);e.NumberFmt[h]=c}$l(c,h)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+A[0]+" in numFmts")}}}var Mh=["numFmtId","fillId","fontId","borderId","xfId"],Oh=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function OQ(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(fs)||[]).forEach(function(s){var A=er(s),c=0;switch(To(A[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=A,delete n[0],c=0;c<Mh.length;++c)n[Mh[c]]&&(n[Mh[c]]=parseInt(n[Mh[c]],10));for(c=0;c<Oh.length;++c)n[Oh[c]]&&(n[Oh[c]]=In(n[Oh[c]]));if(e.NumberFmt&&n.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[c]){n.numFmtId=c;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var h={};A.vertical&&(h.vertical=A.vertical),A.horizontal&&(h.horizontal=A.horizontal),A.textRotation!=null&&(h.textRotation=A.textRotation),A.indent&&(h.indent=A.indent),A.wrapText&&(h.wrapText=In(A.wrapText)),n.alignment=h;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+A[0]+" in cellXfs")}})}var LQ=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,h,d){var x={};if(!c)return x;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var C;return(C=c.match(e))&&MQ(C,x,d),(C=c.match(i))&&kQ(C,x,h,d),(C=c.match(n))&&UQ(C,x,h,d),(C=c.match(s))&&DQ(C,x,h,d),(C=c.match(r))&&OQ(C,x,d),x}})();function QQ(t,e){var r=t.read_shift(2),n=cs(t);return[r,n]}function PQ(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=YO(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var A=t.read_shift(1);A!=0&&(n.underline=A);var c=t.read_shift(1);c>0&&(n.family=c);var h=t.read_shift(1);switch(h>0&&(n.charset=h),t.l++,n.color=qO(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=cs(t),n}var HQ=us;function VQ(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}var jQ=us;function GQ(t,e,r){var n={};n.NumberFmt=[];for(var i in gr)n.NumberFmt[i]=gr[i];n.CellXf=[],n.Fonts=[];var s=[],A=!1;return dA(t,function(h,d,x){switch(x){case 44:n.NumberFmt[h[0]]=h[1],$l(h[1],h[0]);break;case 43:n.Fonts.push(h),h.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(h.color.rgb=I1(e.themeElements.clrScheme[h.color.theme].rgb,h.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(h);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:A=!0;break;case 36:A=!1;break;case 37:s.push(x),A=!0;break;case 38:s.pop(),A=!1;break;default:if(d.T>0)s.push(x);else if(d.T<0)s.pop();else if(!A||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+x.toString(16))}}),n}var KQ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function zQ(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(fs)||[]).forEach(function(i){var s=er(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[KQ.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function WQ(){}function XQ(){}var qQ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,YQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,JQ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ZQ(t,e,r){e.themeElements={};var n;[["clrScheme",qQ,zQ],["fontScheme",YQ,WQ],["fmtScheme",JQ,XQ]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var $Q=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function ZI(t,e){(!t||t.length===0)&&(t=e7());var r,n={};if(!(r=t.match($Q)))throw new Error("themeElements not found in theme");return ZQ(r[0],n,e),n.raw=t,n}function e7(t,e){var r=[lI];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function t7(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var A;try{A=AI(s,{type:"array"})}catch{return}var c=ua(A,"theme/theme/theme1.xml",!0);if(c)return ZI(c,r)}}function r7(t){return t.read_shift(4)}function n7(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=i7(t,4);break;case 2:e.xclrValue=LI(t);break;case 3:e.xclrValue=r7(t);break;case 4:t.l+=4;break}return t.l+=8,e}function i7(t,e){return us(t,e)}function s7(t,e){return us(t,e)}function a7(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=n7(t);break;case 6:n[1]=s7(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function o7(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(a7(t,r-t.l));return{ixfe:n,ext:s}}function A7(t,e){e.forEach(function(r){r[0]})}function l7(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:cs(t)}}function c7(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function u7(t){return t.l+=4,t.read_shift(4)!=0}function f7(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},s=[],A=!1,c=2;return dA(t,function(h,d,x){switch(x){case 335:n.Types.push({name:h.name});break;case 51:h.forEach(function(C){c==1?n.Cell.push({type:n.Types[C[0]-1].name,index:C[1]}):c==0&&n.Value.push({type:n.Types[C[0]-1].name,index:C[1]})});break;case 337:c=h?1:0;break;case 338:c=2;break;case 35:s.push(x),A=!0;break;case 36:s.pop(),A=!1;break;default:if(!d.T){if(!A||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+x.toString(16))}}}),n}function d7(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,s=2,A;return t.replace(fs,function(c){var h=er(c);switch(To(h[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:h.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<n.Types.length;++d)n.Types[d].name==h.name&&(A=n.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[h.t-1].name,index:+h.v}):s==0&&n.Value.push({type:n.Types[h.t-1].name,index:+h.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!A)break;A.offsets||(A.offsets=[]),A.offsets.push(+h.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+h[0]+" in metadata")}return c}),n}function h7(t){var e=[];if(!t)return e;var r=1;return(t.match(fs)||[]).forEach(function(n){var i=er(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function g7(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Ar(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function p7(t,e,r){var n=[];return dA(t,function(s,A,c){switch(c){case 63:n.push(s);break;default:if(!A.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function m7(t,e,r,n){if(!t)return t;var i=n||{},s=!1;dA(t,function(c,h,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!h.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},i)}function x7(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function __(t,e,r,n){var i=Array.isArray(t),s;e.forEach(function(A){var c=Es(A.ref);if(i?(t[c.r]||(t[c.r]=[]),s=t[c.r][c.c]):s=t[A.ref],!s){s={t:"z"},i?t[c.r][c.c]=s:t[A.ref]=s;var h=Kn(t["!ref"]||"BDWGO1000001:A1");h.s.r>c.r&&(h.s.r=c.r),h.e.r<c.r&&(h.e.r=c.r),h.s.c>c.c&&(h.s.c=c.c),h.e.c<c.c&&(h.e.c=c.c);var d=Ur(h);d!==t["!ref"]&&(t["!ref"]=d)}s.c||(s.c=[]);var x={a:A.author,t:A.t,r:A.r,T:r};A.h&&(x.h=A.h);for(var C=s.c.length-1;C>=0;--C){if(!r&&s.c[C].T)return;r&&!s.c[C].T&&s.c.splice(C,1)}if(r&&n){for(C=0;C<n.length;++C)if(x.a==n[C].id){x.a=n[C].name||x.a;break}}s.c.push(x)})}function w7(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(A){if(!(A===""||A.trim()==="")){var c=A.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&r.push(c[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(A){if(!(A===""||A.trim()==="")){var c=A.match(/<(?:\w+:)?comment[^>]*>/);if(c){var h=er(c[0]),d={author:h.authorId&&r[h.authorId]||"sheetjsghost",ref:h.ref,guid:h.guid},x=Es(h.ref);if(!(e.sheetRows&&e.sheetRows<=x.r)){var C=A.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),B=!!C&&!!C[1]&&vw(C[1])||{r:"",t:"",h:""};d.r=B.r,B.r=="<t></t>"&&(B.t=B.h=""),d.t=(B.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=B.h),n.push(d)}}}}),n}function v7(t,e){var r=[],n=!1,i={},s=0;return t.replace(fs,function(c,h){var d=er(c);switch(To(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":s=h+c.length;break;case"</text>":i.t=t.slice(s,h).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),r}function y7(t,e){var r=[],n=!1;return t.replace(fs,function(s){var A=er(s);switch(To(A[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:A.displayname,id:A.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+A[0]+" in threaded comments")}return s}),r}function C7(t){var e={};e.iauthor=t.read_shift(4);var r=hc(t);return e.rfx=r.s,e.ref=Ar(r.s),t.l+=16,e}var E7=cs;function B7(t,e){var r=[],n=[],i={},s=!1;return dA(t,function(c,h,d){switch(d){case 632:n.push(c);break;case 635:i=c;break;case 637:i.t=c.t,i.h=c.h,i.r=c.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!h.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}var _7="application/vnd.ms-office.vbaProject";function T7(t){var e=Dr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Dr.utils.cfb_add(e,i,t.FileIndex[n].content)}}),Dr.write(e)}function b7(){return{"!type":"dialog"}}function S7(){return{"!type":"dialog"}}function I7(){return{"!type":"macro"}}function N7(){return{"!type":"macro"}}var wu=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,A){var c=!1,h=!1;s.length==0?h=!0:s.charAt(0)=="["&&(h=!0,s=s.slice(1,-1)),A.length==0?c=!0:A.charAt(0)=="["&&(c=!0,A=A.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,x=A.length>0?parseInt(A,10)|0:0;return c?x+=e.c:--x,h?d+=e.r:--d,i+(c?"":"$")+wi(x)+(h?"":"$")+zi(d)}return function(i,s){return e=s,i.replace(t,r)}})(),$I=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,F7=(function(){return function(e,r){return e.replace($I,function(n,i,s,A,c,h){var d=hw(A)-(s?0:r.c),x=dw(h)-(c?0:r.r),C=x==0?"":c?x+1:"["+x+"]",B=d==0?"":s?d+1:"["+d+"]";return i+"R"+C+"C"+B})}})();function e3(t,e){return t.replace($I,function(r,n,i,s,A,c){return n+(i=="$"?i+s:wi(hw(s)+e.c))+(A=="$"?A+c:zi(dw(c)+e.r))})}function R7(t,e,r){var n=Mu(e),i=n.s,s=Es(r),A={r:s.r-i.r,c:s.c-i.c};return e3(t,A)}function D7(t){return t.length!=1}function T_(t){return t.replace(/_xlfn\./g,"")}function Ai(t){t.l+=1}function ul(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function t3(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return r3(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),A=ul(t),c=ul(t);return{s:{r:i,c:A[0],cRel:A[1],rRel:A[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function r3(t){var e=ul(t),r=ul(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function U7(t,e,r){if(r.biff<8)return r3(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=ul(t),A=ul(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:A[0],cRel:A[1],rRel:A[2]}}}function n3(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return k7(t);var n=t.read_shift(r&&r.biff==12?4:2),i=ul(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function k7(t){var e=ul(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function M7(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function O7(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return L7(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),A=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(A==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:A,rRel:c}}function L7(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function Q7(t,e,r){var n=(t[t.l++]&96)>>5,i=t3(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function P7(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var A=t3(t,s,r);return[n,i,A]}function H7(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function V7(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function j7(t,e,r){var n=(t[t.l++]&96)>>5,i=U7(t,e-1,r);return[n,i]}function G7(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function b_(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function K7(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function z7(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function W7(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function X7(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function q7(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function i3(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Y7(t){return t.read_shift(2),i3(t)}function J7(t){return t.read_shift(2),i3(t)}function Z7(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=n3(t,0,r);return[n,i]}function $7(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=O7(t,0,r);return[n,i]}function eP(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=n3(t,0,r);return[n,i,s]}function tP(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[rH[i],o3[i],n]}function rP(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:nP(t);return[i,(s[0]===0?o3:tH)[s[1]]]}function nP(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function iP(t,e,r){t.l+=r&&r.biff==2?3:4}function sP(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function aP(t){return t.l++,gc[t.read_shift(1)]}function oP(t){return t.l++,t.read_shift(2)}function AP(t){return t.l++,t.read_shift(1)!==0}function lP(t){return t.l++,os(t)}function cP(t,e,r){return t.l++,Pf(t,e-1,r)}function uP(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Zn(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=gc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=os(t);break;case 2:r[1]=pc(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function fP(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?hc:dg)(t));return i}function dP(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,A=[];s!=n&&(A[s]=[]);++s)for(var c=0;c!=i;++c)A[s][c]=uP(t,r.biff);return A}function hP(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function gP(t,e,r){if(r.biff==5)return pP(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function pP(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function mP(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function xP(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function wP(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function vP(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var yP=us,CP=us,EP=us;function Vf(t,e,r){return t.l+=2,[M7(t)]}function Cw(t){return t.l+=6,[]}var BP=Vf,_P=Cw,TP=Cw,bP=Vf;function s3(t){return t.l+=2,[ui(t),t.read_shift(2)&1]}var SP=Vf,IP=s3,NP=Cw,FP=Vf,RP=Vf,DP=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function UP(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),A=DP[r>>2&31];return{ixti:e,coltype:r&3,rt:A,idx:n,c:i,C:s}}function kP(t){return t.l+=2,[t.read_shift(4)]}function MP(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function OP(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function LP(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function QP(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function PP(t){return t.l+=4,[0,0]}var S_={1:{n:"PtgExp",f:sP},2:{n:"PtgTbl",f:EP},3:{n:"PtgAdd",f:Ai},4:{n:"PtgSub",f:Ai},5:{n:"PtgMul",f:Ai},6:{n:"PtgDiv",f:Ai},7:{n:"PtgPower",f:Ai},8:{n:"PtgConcat",f:Ai},9:{n:"PtgLt",f:Ai},10:{n:"PtgLe",f:Ai},11:{n:"PtgEq",f:Ai},12:{n:"PtgGe",f:Ai},13:{n:"PtgGt",f:Ai},14:{n:"PtgNe",f:Ai},15:{n:"PtgIsect",f:Ai},16:{n:"PtgUnion",f:Ai},17:{n:"PtgRange",f:Ai},18:{n:"PtgUplus",f:Ai},19:{n:"PtgUminus",f:Ai},20:{n:"PtgPercent",f:Ai},21:{n:"PtgParen",f:Ai},22:{n:"PtgMissArg",f:Ai},23:{n:"PtgStr",f:cP},26:{n:"PtgSheet",f:MP},27:{n:"PtgEndSheet",f:OP},28:{n:"PtgErr",f:aP},29:{n:"PtgBool",f:AP},30:{n:"PtgInt",f:oP},31:{n:"PtgNum",f:lP},32:{n:"PtgArray",f:G7},33:{n:"PtgFunc",f:tP},34:{n:"PtgFuncVar",f:rP},35:{n:"PtgName",f:hP},36:{n:"PtgRef",f:Z7},37:{n:"PtgArea",f:Q7},38:{n:"PtgMemArea",f:mP},39:{n:"PtgMemErr",f:yP},40:{n:"PtgMemNoMem",f:CP},41:{n:"PtgMemFunc",f:xP},42:{n:"PtgRefErr",f:wP},43:{n:"PtgAreaErr",f:H7},44:{n:"PtgRefN",f:$7},45:{n:"PtgAreaN",f:j7},46:{n:"PtgMemAreaN",f:LP},47:{n:"PtgMemNoMemN",f:QP},57:{n:"PtgNameX",f:gP},58:{n:"PtgRef3d",f:eP},59:{n:"PtgArea3d",f:P7},60:{n:"PtgRefErr3d",f:vP},61:{n:"PtgAreaErr3d",f:V7},255:{}},HP={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},VP={1:{n:"PtgElfLel",f:s3},2:{n:"PtgElfRw",f:FP},3:{n:"PtgElfCol",f:BP},6:{n:"PtgElfRwV",f:RP},7:{n:"PtgElfColV",f:bP},10:{n:"PtgElfRadical",f:SP},11:{n:"PtgElfRadicalS",f:NP},13:{n:"PtgElfColS",f:_P},15:{n:"PtgElfColSV",f:TP},16:{n:"PtgElfRadicalLel",f:IP},25:{n:"PtgList",f:UP},29:{n:"PtgSxName",f:kP},255:{}},jP={0:{n:"PtgAttrNoop",f:PP},1:{n:"PtgAttrSemi",f:q7},2:{n:"PtgAttrIf",f:W7},4:{n:"PtgAttrChoose",f:K7},8:{n:"PtgAttrGoto",f:z7},16:{n:"PtgAttrSum",f:iP},32:{n:"PtgAttrBaxcel",f:b_},33:{n:"PtgAttrBaxcel",f:b_},64:{n:"PtgAttrSpace",f:Y7},65:{n:"PtgAttrSpaceSemi",f:J7},128:{n:"PtgAttrIfError",f:X7},255:{}};function jf(t,e,r,n){if(n.biff<8)return us(t,e);for(var i=t.l+e,s=[],A=0;A!==r.length;++A)switch(r[A][0]){case"PtgArray":r[A][1]=dP(t,0,n),s.push(r[A][1]);break;case"PtgMemArea":r[A][2]=fP(t,r[A][1],n),s.push(r[A][2]);break;case"PtgExp":n&&n.biff==12&&(r[A][1][1]=t.read_shift(4),s.push(r[A][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[A][0]}return e=i-t.l,e!==0&&s.push(us(t,e)),s}function Gf(t,e,r){for(var n=t.l+e,i,s,A=[];n!=t.l;)e=n-t.l,s=t[t.l],i=S_[s]||S_[HP[s]],(s===24||s===25)&&(i=(s===24?VP:jP)[t[t.l+1]]),!i||!i.f?us(t,e):A.push([i.n,i.f(t,e,r)]);return A}function GP(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var A=n[s];if(A)switch(A[0]){case 2:i.push('"'+A[1].replace(/"/g,'""')+'"');break;default:i.push(A[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var KP={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function zP(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function a3(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function I_(t,e,r){var n=a3(t,e,r);return n=="#REF"?n:zP(n,r)}function ss(t,e,r,n,i){var s=i&&i.biff||8,A={s:{c:0,r:0}},c=[],h,d,x,C=0,B=0,F,D="";if(!t[0]||!t[0][0])return"";for(var R=-1,k="",j=0,G=t[0].length;j<G;++j){var Q=t[0][j];switch(Q[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=c.pop(),d=c.pop(),R>=0){switch(t[0][R][1][0]){case 0:k=Gn(" ",t[0][R][1][1]);break;case 1:k=Gn("\r",t[0][R][1][1]);break;default:if(k="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][R][1][0])}d=d+k,R=-1}c.push(d+KP[Q[0]]+h);break;case"PtgIsect":h=c.pop(),d=c.pop(),c.push(d+" "+h);break;case"PtgUnion":h=c.pop(),d=c.pop(),c.push(d+","+h);break;case"PtgRange":h=c.pop(),d=c.pop(),c.push(d+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":x=nf(Q[1][1],A,i),c.push(sf(x,s));break;case"PtgRefN":x=r?nf(Q[1][1],r,i):Q[1][1],c.push(sf(x,s));break;case"PtgRef3d":C=Q[1][1],x=nf(Q[1][2],A,i),D=I_(n,C,i),c.push(D+"!"+sf(x,s));break;case"PtgFunc":case"PtgFuncVar":var ee=Q[1][0],ne=Q[1][1];ee||(ee=0),ee&=127;var te=ee==0?[]:c.slice(-ee);c.length-=ee,ne==="User"&&(ne=te.shift()),c.push(ne+"("+te.join(",")+")");break;case"PtgBool":c.push(Q[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(Q[1]);break;case"PtgNum":c.push(String(Q[1]));break;case"PtgStr":c.push('"'+Q[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(Q[1]);break;case"PtgAreaN":F=l_(Q[1][1],r?{s:r}:A,i),c.push(ix(F,i));break;case"PtgArea":F=l_(Q[1][1],A,i),c.push(ix(F,i));break;case"PtgArea3d":C=Q[1][1],F=Q[1][2],D=I_(n,C,i),c.push(D+"!"+ix(F,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":B=Q[1][2];var M=(n.names||[])[B-1]||(n[0]||[])[B],H=M?M.Name:"SH33TJSNAME"+String(B);H&&H.slice(0,6)=="_xlfn."&&!i.xlfn&&(H=H.slice(6)),c.push(H);break;case"PtgNameX":var O=Q[1][1];B=Q[1][2];var z;if(i.biff<=5)O<0&&(O=-O),n[O]&&(z=n[O][B]);else{var J="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][B]&&n[O][B].itab>0&&(J=n.SheetNames[n[O][B].itab-1]+"!"):J=n.SheetNames[B-1]+"!"),n[O]&&n[O][B])J+=n[O][B].Name;else if(n[0]&&n[0][B])J+=n[0][B].Name;else{var W=(a3(n,O,i)||"").split(";;");W[B-1]?J=W[B-1]:J+="SH33TJSERRX"}c.push(J);break}z||(z={Name:"SH33TJSERRY"}),c.push(z.Name);break;case"PtgParen":var X="(",Me=")";if(R>=0){switch(k="",t[0][R][1][0]){case 2:X=Gn(" ",t[0][R][1][1])+X;break;case 3:X=Gn("\r",t[0][R][1][1])+X;break;case 4:Me=Gn(" ",t[0][R][1][1])+Me;break;case 5:Me=Gn("\r",t[0][R][1][1])+Me;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][R][1][0])}R=-1}c.push(X+c.pop()+Me);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":x={c:Q[1][1],r:Q[1][0]};var ye={c:r.c,r:r.r};if(n.sharedf[Ar(x)]){var we=n.sharedf[Ar(x)];c.push(ss(we,A,ye,n,i))}else{var ce=!1;for(h=0;h!=n.arrayf.length;++h)if(d=n.arrayf[h],!(x.c<d[0].s.c||x.c>d[0].e.c)&&!(x.r<d[0].s.r||x.r>d[0].e.r)){c.push(ss(d[1],A,ye,n,i)),ce=!0;break}ce||c.push(Q[1])}break;case"PtgArray":c.push("{"+GP(Q[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":R=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+Q[1].idx+"[#"+Q[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(Q));default:throw new Error("Unrecognized Formula Token: "+String(Q))}var He=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&R>=0&&He.indexOf(t[0][j][0])==-1){Q=t[0][R];var Be=!0;switch(Q[1][0]){case 4:Be=!1;case 0:k=Gn(" ",Q[1][1]);break;case 5:Be=!1;case 1:k=Gn("\r",Q[1][1]);break;default:if(k="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Q[1][0])}c.push((Be?k:"")+c.pop()+(Be?"":k)),R=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function WP(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,A=t.read_shift(i);if(A==65535)return[[],us(t,e-2)];var c=Gf(t,A,r);return e!==A+i&&(s=jf(t,e-A-i,c,r)),t.l=n,[c,s]}function XP(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,A=t.read_shift(i);if(A==65535)return[[],us(t,e-2)];var c=Gf(t,A,r);return e!==A+i&&(s=jf(t,e-A-i,c,r)),t.l=n,[c,s]}function qP(t,e,r,n){var i=t.l+e,s=Gf(t,n,r),A;return i!==t.l&&(A=jf(t,i-t.l,s,r)),[s,A]}function YP(t,e,r){var n=t.l+e,i,s=t.read_shift(2),A=Gf(t,s,r);return s==65535?[[],us(t,e-2)]:(e!==s+2&&(i=jf(t,n-s-2,A,r)),[A,i])}function JP(t){var e;if(rA(t,t.l+6)!==65535)return[os(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function ox(t,e,r){var n=t.l+e,i=bo(t);r.biff==2&&++t.l;var s=JP(t),A=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var c=XP(t,n-t.l,r);return{cell:i,val:s[0],formula:c,shared:A>>3&1,tt:s[1]}}function hg(t,e,r){var n=t.read_shift(4),i=Gf(t,n,r),s=t.read_shift(4),A=s>0?jf(t,s,i,r):null;return[i,A]}var ZP=hg,gg=hg,$P=hg,eH=hg,tH={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},o3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},rH={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function N_(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Ax(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var lf={},vu={};function cf(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function A3(t,e,r,n,i,s){try{n.cellNF&&(t.z=gr[e])}catch(c){if(n.WTF)throw c}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Ni(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(gr[e]==null&&$l(nO[e]||"General",e),t.t==="e")t.w=t.w||gc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yf(t.v);else if(t.t==="d"){var A=Ts(t.v);(A|0)===A?t.w=A.toString(10):t.w=yf(A)}else{if(t.v===void 0)return"";t.w=nc(t.v,vu)}else t.t==="d"?t.w=Oa(e,Ts(t.v),vu):t.w=Oa(e,t.v,vu)}catch(c){if(n.WTF)throw c}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=I1(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=I1(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(n.WTF&&s.Fills)throw c}}}function nH(t,e){var r=Kn(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Ur(r))}var iH=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,sH=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,aH=/<(?:\w:)?hyperlink [^>]*>/mg,oH=/"(\w*:\w*)"/,AH=/<(?:\w:)?col\b[^>]*[\/]?>/g,lH=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,cH=/<(?:\w:)?pageMargins[^>]*\/>/g,l3=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,uH=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,fH=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function dH(t,e,r,n,i,s,A){if(!t)return t;n||(n={"!id":{}});var c=e.dense?[]:{},h={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",x="",C=t.match(sH);C?(d=t.slice(0,C.index),x=t.slice(C.index+C[0].length)):d=x=t;var B=d.match(l3);B?Ew(B[0],c,i,r):(B=d.match(uH))&&hH(B[0],B[1]||"",c,i,r);var F=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(F>0){var D=d.slice(F,F+50).match(oH);D&&nH(c,D[1])}var R=d.match(fH);R&&R[1]&&vH(R[1],i);var k=[];if(e.cellStyles){var j=d.match(AH);j&&mH(k,j)}C&&yH(C[1],c,e,h,s,A);var G=x.match(lH);G&&(c["!autofilter"]=xH(G[0]));var Q=[],ee=x.match(iH);if(ee)for(F=0;F!=ee.length;++F)Q[F]=Kn(ee[F].slice(ee[F].indexOf('"')+1));var ne=x.match(aH);ne&&gH(c,ne,n);var te=x.match(cH);if(te&&(c["!margins"]=pH(er(te[0]))),!c["!ref"]&&h.e.c>=h.s.c&&h.e.r>=h.s.r&&(c["!ref"]=Ur(h)),e.sheetRows>0&&c["!ref"]){var M=Kn(c["!ref"]);e.sheetRows<=+M.e.r&&(M.e.r=e.sheetRows-1,M.e.r>h.e.r&&(M.e.r=h.e.r),M.e.r<M.s.r&&(M.s.r=M.e.r),M.e.c>h.e.c&&(M.e.c=h.e.c),M.e.c<M.s.c&&(M.s.c=M.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Ur(M))}return k.length>0&&(c["!cols"]=k),Q.length>0&&(c["!merges"]=Q),c}function Ew(t,e,r,n){var i=er(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Lr(xn(i.codeName)))}function hH(t,e,r,n,i){Ew(t.slice(0,t.indexOf(">")),r,n,i)}function gH(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var s=er(xn(e[i]),!0);if(!s.ref)return;var A=((r||{})["!id"]||[])[s.id];A?(s.Target=A.Target,s.location&&(s.Target+="#"+Lr(s.location))):(s.Target="#"+Lr(s.location),A={Target:s.Target,TargetMode:"Internal"}),s.Rel=A,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=Kn(s.ref),h=c.s.r;h<=c.e.r;++h)for(var d=c.s.c;d<=c.e.c;++d){var x=Ar({c:d,r:h});n?(t[h]||(t[h]=[]),t[h][d]||(t[h][d]={t:"z",v:void 0}),t[h][d].l=s):(t[x]||(t[x]={t:"z",v:void 0}),t[x].l=s)}}}function pH(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function mH(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=er(e[n],!0);i.hidden&&(i.hidden=In(i.hidden));var s=parseInt(i.min,10)-1,A=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,yw(i.width)),Tu(i);s<=A;)t[s++]=Ki(i)}}function xH(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var wH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function vH(t,e){e.Views||(e.Views=[{}]),(t.match(wH)||[]).forEach(function(r,n){var i=er(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),In(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var yH=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Cf("v"),A=Cf("f");return function(h,d,x,C,B,F){for(var D=0,R="",k=[],j=[],G=0,Q=0,ee=0,ne="",te,M,H=0,O=0,z,J,W=0,X=0,Me=Array.isArray(F.CellXf),ye,we=[],ce=[],He=Array.isArray(d),Be=[],tt={},me=!1,Z=!!x.sheetStubs,de=h.split(e),fe=0,oe=de.length;fe!=oe;++fe){R=de[fe].trim();var xe=R.length;if(xe!==0){var Ye=0;e:for(D=0;D<xe;++D)switch(R[D]){case">":if(R[D-1]!="/"){++D;break e}if(x&&x.cellStyles){if(M=er(R.slice(Ye,D),!0),H=M.r!=null?parseInt(M.r,10):H+1,O=-1,x.sheetRows&&x.sheetRows<H)continue;tt={},me=!1,M.ht&&(me=!0,tt.hpt=parseFloat(M.ht),tt.hpx=Tf(tt.hpt)),M.hidden=="1"&&(me=!0,tt.hidden=!0),M.outlineLevel!=null&&(me=!0,tt.level=+M.outlineLevel),me&&(Be[H-1]=tt)}break;case"<":Ye=D;break}if(Ye>=D)break;if(M=er(R.slice(Ye,D),!0),H=M.r!=null?parseInt(M.r,10):H+1,O=-1,!(x.sheetRows&&x.sheetRows<H)){C.s.r>H-1&&(C.s.r=H-1),C.e.r<H-1&&(C.e.r=H-1),x&&x.cellStyles&&(tt={},me=!1,M.ht&&(me=!0,tt.hpt=parseFloat(M.ht),tt.hpx=Tf(tt.hpt)),M.hidden=="1"&&(me=!0,tt.hidden=!0),M.outlineLevel!=null&&(me=!0,tt.level=+M.outlineLevel),me&&(Be[H-1]=tt)),k=R.slice(D).split(t);for(var Fe=0;Fe!=k.length&&k[Fe].trim().charAt(0)=="<";++Fe);for(k=k.slice(Fe),D=0;D!=k.length;++D)if(R=k[D].trim(),R.length!==0){if(j=R.match(r),G=D,Q=0,ee=0,R="<c "+(R.slice(0,1)=="<"?">":"")+R,j!=null&&j.length===2){for(G=0,ne=j[1],Q=0;Q!=ne.length&&!((ee=ne.charCodeAt(Q)-64)<1||ee>26);++Q)G=26*G+ee;--G,O=G}else++O;for(Q=0;Q!=R.length&&R.charCodeAt(Q)!==62;++Q);if(++Q,M=er(R.slice(0,Q),!0),M.r||(M.r=Ar({r:H-1,c:O})),ne=R.slice(Q),te={t:""},(j=ne.match(s))!=null&&j[1]!==""&&(te.v=Lr(j[1])),x.cellFormula){if((j=ne.match(A))!=null&&j[1]!==""){if(te.f=Lr(xn(j[1])).replace(/\r\n/g,`
`),x.xlfn||(te.f=T_(te.f)),j[0].indexOf('t="array"')>-1)te.F=(ne.match(i)||[])[1],te.F.indexOf(":")>-1&&we.push([Kn(te.F),te.F]);else if(j[0].indexOf('t="shared"')>-1){J=er(j[0]);var _e=Lr(xn(j[1]));x.xlfn||(_e=T_(_e)),ce[parseInt(J.si,10)]=[J,_e,M.r]}}else(j=ne.match(/<f[^>]*\/>/))&&(J=er(j[0]),ce[J.si]&&(te.f=R7(ce[J.si][1],ce[J.si][2],M.r)));var Le=Es(M.r);for(Q=0;Q<we.length;++Q)Le.r>=we[Q][0].s.r&&Le.r<=we[Q][0].e.r&&Le.c>=we[Q][0].s.c&&Le.c<=we[Q][0].e.c&&(te.F=we[Q][1])}if(M.t==null&&te.v===void 0)if(te.f||te.F)te.v=0,te.t="n";else if(Z)te.t="z";else continue;else te.t=M.t||"n";switch(C.s.c>O&&(C.s.c=O),C.e.c<O&&(C.e.c=O),te.t){case"n":if(te.v==""||te.v==null){if(!Z)continue;te.t="z"}else te.v=parseFloat(te.v);break;case"s":if(typeof te.v>"u"){if(!Z)continue;te.t="z"}else z=lf[parseInt(te.v,10)],te.v=z.t,te.r=z.r,x.cellHTML&&(te.h=z.h);break;case"str":te.t="s",te.v=te.v!=null?xn(te.v):"",x.cellHTML&&(te.h=cw(te.v));break;case"inlineStr":j=ne.match(n),te.t="s",j!=null&&(z=vw(j[1]))?(te.v=z.t,x.cellHTML&&(te.h=z.h)):te.v="";break;case"b":te.v=In(te.v);break;case"d":x.cellDates?te.v=Ni(te.v,1):(te.v=Ts(Ni(te.v,1)),te.t="n");break;case"e":(!x||x.cellText!==!1)&&(te.w=te.v),te.v=NI[te.v];break}if(W=X=0,ye=null,Me&&M.s!==void 0&&(ye=F.CellXf[M.s],ye!=null&&(ye.numFmtId!=null&&(W=ye.numFmtId),x.cellStyles&&ye.fillId!=null&&(X=ye.fillId))),A3(te,W,X,x,B,F),x.cellDates&&Me&&te.t=="n"&&ku(gr[W])&&(te.t="d",te.v=fg(te.v)),M.cm&&x.xlmeta){var xt=(x.xlmeta.Cell||[])[+M.cm-1];xt&&xt.type=="XLDAPR"&&(te.D=!0)}if(He){var pe=Es(M.r);d[pe.r]||(d[pe.r]=[]),d[pe.r][pe.c]=te}else d[M.r]=te}}}}Be.length>0&&(d["!rows"]=Be)}})();function CH(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}var EH=hc;function BH(){}function _H(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=WO(t),r}function TH(t){var e=Qa(t);return[e]}function bH(t){var e=dc(t);return[e]}function SH(t){var e=Qa(t),r=t.read_shift(1);return[e,r,"b"]}function IH(t){var e=dc(t),r=t.read_shift(1);return[e,r,"b"]}function NH(t){var e=Qa(t),r=t.read_shift(1);return[e,r,"e"]}function FH(t){var e=dc(t),r=t.read_shift(1);return[e,r,"e"]}function RH(t){var e=Qa(t),r=t.read_shift(4);return[e,r,"s"]}function DH(t){var e=dc(t),r=t.read_shift(4);return[e,r,"s"]}function UH(t){var e=Qa(t),r=os(t);return[e,r,"n"]}function c3(t){var e=dc(t),r=os(t);return[e,r,"n"]}function kH(t){var e=Qa(t),r=mw(t);return[e,r,"n"]}function MH(t){var e=dc(t),r=mw(t);return[e,r,"n"]}function OH(t){var e=Qa(t),r=gw(t);return[e,r,"is"]}function LH(t){var e=Qa(t),r=cs(t);return[e,r,"str"]}function QH(t){var e=dc(t),r=cs(t);return[e,r,"str"]}function PH(t,e,r){var n=t.l+e,i=Qa(t);i.r=r["!row"];var s=t.read_shift(1),A=[i,s,"b"];if(r.cellFormula){t.l+=2;var c=gg(t,n-t.l,r);A[3]=ss(c,null,i,r.supbooks,r)}else t.l=n;return A}function HH(t,e,r){var n=t.l+e,i=Qa(t);i.r=r["!row"];var s=t.read_shift(1),A=[i,s,"e"];if(r.cellFormula){t.l+=2;var c=gg(t,n-t.l,r);A[3]=ss(c,null,i,r.supbooks,r)}else t.l=n;return A}function VH(t,e,r){var n=t.l+e,i=Qa(t);i.r=r["!row"];var s=os(t),A=[i,s,"n"];if(r.cellFormula){t.l+=2;var c=gg(t,n-t.l,r);A[3]=ss(c,null,i,r.supbooks,r)}else t.l=n;return A}function jH(t,e,r){var n=t.l+e,i=Qa(t);i.r=r["!row"];var s=cs(t),A=[i,s,"str"];if(r.cellFormula){t.l+=2;var c=gg(t,n-t.l,r);A[3]=ss(c,null,i,r.supbooks,r)}else t.l=n;return A}var GH=hc;function KH(t,e){var r=t.l+e,n=hc(t),i=pw(t),s=cs(t),A=cs(t),c=cs(t);t.l=r;var h={rfx:n,relId:i,loc:s,display:c};return A&&(h.Tooltip=A),h}function zH(){}function WH(t,e,r){var n=t.l+e,i=bI(t),s=t.read_shift(1),A=[i];if(A[2]=s,r.cellFormula){var c=ZP(t,n-t.l,r);A[1]=c}else t.l=n;return A}function XH(t,e,r){var n=t.l+e,i=hc(t),s=[i];if(r.cellFormula){var A=eH(t,n-t.l,r);s[1]=A,t.l=n}else t.l=n;return s}var qH=["left","right","top","bottom","header","footer"];function YH(t){var e={};return qH.forEach(function(r){e[r]=os(t)}),e}function JH(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function ZH(){}function $H(){}function eV(t,e,r,n,i,s,A){if(!t)return t;var c=e||{};n||(n={"!id":{}});var h=c.dense?[]:{},d,x={s:{r:2e6,c:2e6},e:{r:0,c:0}},C=!1,B=!1,F,D,R,k,j,G,Q,ee,ne,te=[];c.biff=12,c["!row"]=0;var M=0,H=!1,O=[],z={},J=c.supbooks||i.supbooks||[[]];if(J.sharedf=z,J.arrayf=O,J.SheetNames=i.SheetNames||i.Sheets.map(function(He){return He.name}),!c.supbooks&&(c.supbooks=J,i.Names))for(var W=0;W<i.Names.length;++W)J[0][W+1]=i.Names[W];var X=[],Me=[],ye=!1;R1[16]={n:"BrtShortReal",f:c3};var we;if(dA(t,function(Be,tt,me){if(!B)switch(me){case 148:d=Be;break;case 0:F=Be,c.sheetRows&&c.sheetRows<=F.r&&(B=!0),ee=zi(k=F.r),c["!row"]=F.r,(Be.hidden||Be.hpt||Be.level!=null)&&(Be.hpt&&(Be.hpx=Tf(Be.hpt)),Me[Be.r]=Be);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(D={t:Be[2]},Be[2]){case"n":D.v=Be[1];break;case"s":Q=lf[Be[1]],D.v=Q.t,D.r=Q.r;break;case"b":D.v=!!Be[1];break;case"e":D.v=Be[1],c.cellText!==!1&&(D.w=gc[D.v]);break;case"str":D.t="s",D.v=Be[1];break;case"is":D.t="s",D.v=Be[1].t;break}if((R=A.CellXf[Be[0].iStyleRef])&&A3(D,R.numFmtId,null,c,s,A),j=Be[0].c==-1?j+1:Be[0].c,c.dense?(h[k]||(h[k]=[]),h[k][j]=D):h[wi(j)+ee]=D,c.cellFormula){for(H=!1,M=0;M<O.length;++M){var Z=O[M];F.r>=Z[0].s.r&&F.r<=Z[0].e.r&&j>=Z[0].s.c&&j<=Z[0].e.c&&(D.F=Ur(Z[0]),H=!0)}!H&&Be.length>3&&(D.f=Be[3])}if(x.s.r>F.r&&(x.s.r=F.r),x.s.c>j&&(x.s.c=j),x.e.r<F.r&&(x.e.r=F.r),x.e.c<j&&(x.e.c=j),c.cellDates&&R&&D.t=="n"&&ku(gr[R.numFmtId])){var de=Xl(D.v);de&&(D.t="d",D.v=new Date(de.y,de.m-1,de.d,de.H,de.M,de.S,de.u))}we&&(we.type=="XLDAPR"&&(D.D=!0),we=void 0);break;case 1:case 12:if(!c.sheetStubs||C)break;D={t:"z",v:void 0},j=Be[0].c==-1?j+1:Be[0].c,c.dense?(h[k]||(h[k]=[]),h[k][j]=D):h[wi(j)+ee]=D,x.s.r>F.r&&(x.s.r=F.r),x.s.c>j&&(x.s.c=j),x.e.r<F.r&&(x.e.r=F.r),x.e.c<j&&(x.e.c=j),we&&(we.type=="XLDAPR"&&(D.D=!0),we=void 0);break;case 176:te.push(Be);break;case 49:we=((c.xlmeta||{}).Cell||[])[Be-1];break;case 494:var fe=n["!id"][Be.relId];for(fe?(Be.Target=fe.Target,Be.loc&&(Be.Target+="#"+Be.loc),Be.Rel=fe):Be.relId==""&&(Be.Target="#"+Be.loc),k=Be.rfx.s.r;k<=Be.rfx.e.r;++k)for(j=Be.rfx.s.c;j<=Be.rfx.e.c;++j)c.dense?(h[k]||(h[k]=[]),h[k][j]||(h[k][j]={t:"z",v:void 0}),h[k][j].l=Be):(G=Ar({c:j,r:k}),h[G]||(h[G]={t:"z",v:void 0}),h[G].l=Be);break;case 426:if(!c.cellFormula)break;O.push(Be),ne=c.dense?h[k][j]:h[wi(j)+ee],ne.f=ss(Be[1],x,{r:F.r,c:j},J,c),ne.F=Ur(Be[0]);break;case 427:if(!c.cellFormula)break;z[Ar(Be[0].s)]=Be[1],ne=c.dense?h[k][j]:h[wi(j)+ee],ne.f=ss(Be[1],x,{r:F.r,c:j},J,c);break;case 60:if(!c.cellStyles)break;for(;Be.e>=Be.s;)X[Be.e--]={width:Be.w/256,hidden:!!(Be.flags&1),level:Be.level},ye||(ye=!0,yw(Be.w/256)),Tu(X[Be.e+1]);break;case 161:h["!autofilter"]={ref:Ur(Be)};break;case 476:h["!margins"]=Be;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),Be.name&&(i.Sheets[r].CodeName=Be.name),(Be.above||Be.left)&&(h["!outline"]={above:Be.above,left:Be.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Be.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:C=!0;break;case 36:C=!1;break;case 37:C=!0;break;case 38:C=!1;break;default:if(!tt.T){if(!C||c.WTF)throw new Error("Unexpected record 0x"+me.toString(16))}}},c),delete c.supbooks,delete c["!row"],!h["!ref"]&&(x.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(h["!ref"]=Ur(d||x)),c.sheetRows&&h["!ref"]){var ce=Kn(h["!ref"]);c.sheetRows<=+ce.e.r&&(ce.e.r=c.sheetRows-1,ce.e.r>x.e.r&&(ce.e.r=x.e.r),ce.e.r<ce.s.r&&(ce.s.r=ce.e.r),ce.e.c>x.e.c&&(ce.e.c=x.e.c),ce.e.c<ce.s.c&&(ce.s.c=ce.e.c),h["!fullref"]=h["!ref"],h["!ref"]=Ur(ce))}return te.length>0&&(h["!merges"]=te),X.length>0&&(h["!cols"]=X),Me.length>0&&(h["!rows"]=Me),h}function tV(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var A=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);A&&(e[+A[1]]=r?+A[2]:A[2])});var i=Lr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function rV(t,e,r,n,i,s){var A=s||{"!type":"chart"};if(!t)return s;var c=0,h=0,d="A",x={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(C){var B=tV(C);x.s.r=x.s.c=0,x.e.c=c,d=wi(c),B[0].forEach(function(F,D){A[d+zi(D)]={t:"n",v:F,z:B[1]},h=D}),x.e.r<h&&(x.e.r=h),++c}),c>0&&(A["!ref"]=Ur(x)),A}function nV(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},A,c=t.match(l3);return c&&Ew(c[0],s,i,r),(A=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=A[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function iV(t,e){t.l+=10;var r=cs(t);return{name:r}}function sV(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},A=!1;return dA(t,function(h,d,x){switch(x){case 550:s["!rel"]=h;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),h.name&&(i.Sheets[r].CodeName=h.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:A=!0;break;case 36:A=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!A||e.WTF)throw new Error("Unexpected record 0x"+x.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var u3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],aV=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],oV=[],AV=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function F_(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=In(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function R_(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=In(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function f3(t){R_(t.WBProps,u3),R_(t.CalcPr,AV),F_(t.WBView,aV),F_(t.Sheets,oV),vu.date1904=In(t.WBProps.date1904)}var lV="][*?/\\".split("");function cV(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return lV.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var uV=/<\w+:workbook/;function fV(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},A=0;if(t.replace(fs,function(h,d){var x=er(h);switch(To(x[0])){case"<?xml":break;case"<workbook":h.match(uV)&&(i="xmlns"+h.match(/<(\w+):/)[1]),r.xmlns=x[i];break;case"</workbook>":break;case"<fileVersion":delete x[0],r.AppVersion=x;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":u3.forEach(function(C){if(x[C[0]]!=null)switch(C[2]){case"bool":r.WBProps[C[0]]=In(x[C[0]]);break;case"int":r.WBProps[C[0]]=parseInt(x[C[0]],10);break;default:r.WBProps[C[0]]=x[C[0]]}}),x.codeName&&(r.WBProps.CodeName=xn(x.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete x[0],r.WBView.push(x);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(x.state){case"hidden":x.Hidden=1;break;case"veryHidden":x.Hidden=2;break;default:x.Hidden=0}delete x.state,x.name=Lr(xn(x.name)),delete x[0],r.Sheets.push(x);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=xn(x.name),x.comment&&(s.Comment=x.comment),x.localSheetId&&(s.Sheet=+x.localSheetId),In(x.hidden||"0")&&(s.Hidden=!0),A=d+h.length;break;case"</definedName>":s.Ref=Lr(xn(t.slice(A,d))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete x[0],r.CalcPr=x;break;case"<calcPr/>":delete x[0],r.CalcPr=x;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+x[0]+" in workbook")}return h}),NO.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return f3(r),r}function dV(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=e2(t),r.name=cs(t),r}function hV(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?cs(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function gV(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function pV(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=XO(t),A=$P(t,0,r),c=pw(t);t.l=n;var h={Name:s,Ptg:A};return i<268435455&&(h.Sheet=i),c&&(h.Comment=c),h}function mV(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],A=[[]];return A.SheetNames=[],A.XTI=[],R1[16]={n:"BrtFRTArchID$",f:gV},dA(t,function(h,d,x){switch(x){case 156:A.SheetNames.push(h.name),r.Sheets.push(h);break;case 153:r.WBProps=h;break;case 39:h.Sheet!=null&&(e.SID=h.Sheet),h.Ref=ss(h.Ptg,null,null,A,e),delete e.SID,delete h.Ptg,s.push(h);break;case 1036:break;case 357:case 358:case 355:case 667:A[0].length?A.push([x,h]):A[0]=[x,h],A[A.length-1].XTI=[];break;case 362:A.length===0&&(A[0]=[],A[0].XTI=[]),A[A.length-1].XTI=A[A.length-1].XTI.concat(h),A.XTI=A.XTI.concat(h);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(x),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(x),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!d.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+x.toString(16))}}},e),f3(r),r.Names=s,r.supbooks=A,r}function xV(t,e,r){return e.slice(-4)===".bin"?mV(t,r):fV(t,r)}function wV(t,e,r,n,i,s,A,c){return e.slice(-4)===".bin"?eV(t,n,r,i,s,A,c):dH(t,n,r,i,s,A,c)}function vV(t,e,r,n,i,s,A,c){return e.slice(-4)===".bin"?sV(t,n,r,i,s):nV(t,n,r,i,s)}function yV(t,e,r,n,i,s,A,c){return e.slice(-4)===".bin"?I7():N7()}function CV(t,e,r,n,i,s,A,c){return e.slice(-4)===".bin"?b7():S7()}function EV(t,e,r,n){return e.slice(-4)===".bin"?GQ(t,r,n):LQ(t,r,n)}function BV(t,e,r){return ZI(t,r)}function _V(t,e,r){return e.slice(-4)===".bin"?aQ(t,r):iQ(t,r)}function TV(t,e,r){return e.slice(-4)===".bin"?B7(t,r):w7(t,r)}function bV(t,e,r){return e.slice(-4)===".bin"?p7(t):h7(t)}function SV(t,e,r,n){return r.slice(-4)===".bin"?m7(t,e,r,n):void 0}function IV(t,e,r){return e.slice(-4)===".bin"?f7(t,e,r):d7(t,e,r)}var d3=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,h3=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Wa(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(d3),s,A,c,h;if(i)for(h=0;h!=i.length;++h)s=i[h].match(h3),(A=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(A+1),n[c]=s[2].slice(1,s[2].length-1));return n}function NV(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(d3),i,s,A,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(h3),(s=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?A="xmlns"+i[1].slice(6):A=i[1].slice(s+1),r[A]=i[2].slice(1,i[2].length-1));return r}var uf;function FV(t,e){var r=uf[t]||Lr(t);return r==="General"?nc(e):Oa(r,e)}function RV(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=In(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Ni(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Lr(e)]=i}function DV(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||gc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yf(t.v):t.w=nc(t.v):t.w=FV(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=uf[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&ku(n)){var i=Xl(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(r.WTF)throw s}}}function UV(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=RQ[n.Pattern]||n.Pattern)}t[e.ID]=e}function kV(t,e,r,n,i,s,A,c,h,d){var x="General",C=n.StyleID,B={};d=d||{};var F=[],D=0;for(C===void 0&&c&&(C=c.StyleID),C===void 0&&A&&(C=A.StyleID);s[C]!==void 0&&(s[C].nf&&(x=s[C].nf),s[C].Interior&&F.push(s[C].Interior),!!s[C].Parent);)C=s[C].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=In(t);break;case"String":n.t="s",n.r=e_(Lr(t)),n.v=t.indexOf("<")>-1?Lr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Ni(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Lr(t):n.v<60&&(n.v=n.v-1),(!x||x=="General")&&(x="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=NI[t],d.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=e_(e||t));break}if(DV(n,x,d),d.cellFormula!==!1)if(n.Formula){var R=Lr(n.Formula);R.charCodeAt(0)==61&&(R=R.slice(1)),n.f=wu(R,i),delete n.Formula,n.ArrayRange=="RC"?n.F=wu("RC:RC",i):n.ArrayRange&&(n.F=wu(n.ArrayRange,i),h.push([Kn(n.F),n.F]))}else for(D=0;D<h.length;++D)i.r>=h[D][0].s.r&&i.r<=h[D][0].e.r&&i.c>=h[D][0].s.c&&i.c<=h[D][0].e.c&&(n.F=h[D][1]);d.cellStyles&&(F.forEach(function(k){!B.patternType&&k.patternType&&(B.patternType=k.patternType)}),n.s=B),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function MV(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function lx(t,e){var r=e||{};rI();var n=H0(uw(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=xn(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var A=Ki(r);return A.type="string",Bf.to_workbook(n,A)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(gt){i.indexOf("<"+gt)>=0&&(s=!0)}),s)return KV(n,r);uf={"General Number":"General","General Date":gr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":gr[15],"Short Date":gr[14],"Long Time":gr[19],"Medium Time":gr[18],"Short Time":gr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:gr[2],Standard:gr[4],Percent:gr[10],Scientific:gr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,h=[],d,x={},C=[],B=r.dense?[]:{},F="",D={},R={},k=Wa('<Data ss:Type="String">'),j=0,G=0,Q=0,ee={s:{r:2e6,c:2e6},e:{r:0,c:0}},ne={},te={},M="",H=0,O=[],z={},J={},W=0,X=[],Me=[],ye={},we=[],ce,He=!1,Be=[],tt=[],me={},Z=0,de=0,fe={Sheets:[],WBProps:{date1904:!1}},oe={};Ef.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var xe="";c=Ef.exec(n);)switch(c[3]=(xe=c[3]).toLowerCase()){case"data":if(xe=="data"){if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break}if(h[h.length-1][1])break;c[1]==="/"?kV(n.slice(j,c.index),M,k,h[h.length-1][0]=="comment"?ye:D,{c:G,r:Q},ne,we[G],R,Be,r):(M="",k=Wa(c[0]),j=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(Me.length>0&&(D.c=Me),(!r.sheetRows||r.sheetRows>Q)&&D.v!==void 0&&(r.dense?(B[Q]||(B[Q]=[]),B[Q][G]=D):B[wi(G)+zi(Q)]=D),D.HRef&&(D.l={Target:Lr(D.HRef)},D.HRefScreenTip&&(D.l.Tooltip=D.HRefScreenTip),delete D.HRef,delete D.HRefScreenTip),(D.MergeAcross||D.MergeDown)&&(Z=G+(parseInt(D.MergeAcross,10)|0),de=Q+(parseInt(D.MergeDown,10)|0),O.push({s:{c:G,r:Q},e:{c:Z,r:de}})),!r.sheetStubs)D.MergeAcross?G=Z+1:++G;else if(D.MergeAcross||D.MergeDown){for(var Ye=G;Ye<=Z;++Ye)for(var Fe=Q;Fe<=de;++Fe)(Ye>G||Fe>Q)&&(r.dense?(B[Fe]||(B[Fe]=[]),B[Fe][Ye]={t:"z"}):B[wi(Ye)+zi(Fe)]={t:"z"});G=Z+1}else++G;else D=NV(c[0]),D.Index&&(G=+D.Index-1),G<ee.s.c&&(ee.s.c=G),G>ee.e.c&&(ee.e.c=G),c[0].slice(-2)==="/>"&&++G,Me=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(Q<ee.s.r&&(ee.s.r=Q),Q>ee.e.r&&(ee.e.r=Q),c[0].slice(-2)==="/>"&&(R=Wa(c[0]),R.Index&&(Q=+R.Index-1)),G=0,++Q):(R=Wa(c[0]),R.Index&&(Q=+R.Index-1),me={},(R.AutoFitHeight=="0"||R.Height)&&(me.hpx=parseInt(R.Height,10),me.hpt=JI(me.hpx),tt[Q]=me),R.Hidden=="1"&&(me.hidden=!0,tt[Q]=me));break;case"worksheet":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));C.push(F),ee.s.r<=ee.e.r&&ee.s.c<=ee.e.c&&(B["!ref"]=Ur(ee),r.sheetRows&&r.sheetRows<=ee.e.r&&(B["!fullref"]=B["!ref"],ee.e.r=r.sheetRows-1,B["!ref"]=Ur(ee))),O.length&&(B["!merges"]=O),we.length>0&&(B["!cols"]=we),tt.length>0&&(B["!rows"]=tt),x[F]=B}else ee={s:{r:2e6,c:2e6},e:{r:0,c:0}},Q=G=0,h.push([c[3],!1]),d=Wa(c[0]),F=Lr(d.Name),B=r.dense?[]:{},O=[],Be=[],tt=[],oe={name:F,Hidden:0},fe.Sheets.push(oe);break;case"table":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;h.push([c[3],!1]),we=[],He=!1}break;case"style":c[1]==="/"?UV(ne,te,r):te=Wa(c[0]);break;case"numberformat":te.nf=Lr(Wa(c[0]).Format||"General"),uf[te.nf]&&(te.nf=uf[te.nf]);for(var _e=0;_e!=392&&gr[_e]!=te.nf;++_e);if(_e==392){for(_e=57;_e!=392;++_e)if(gr[_e]==null){$l(te.nf,_e);break}}break;case"column":if(h[h.length-1][0]!=="table")break;if(ce=Wa(c[0]),ce.Hidden&&(ce.hidden=!0,delete ce.Hidden),ce.Width&&(ce.wpx=parseInt(ce.Width,10)),!He&&ce.wpx>10){He=!0,Cs=qI;for(var Le=0;Le<we.length;++Le)we[Le]&&Tu(we[Le])}He&&Tu(ce),we[ce.Index-1||we.length]=ce;for(var xt=0;xt<+ce.Span;++xt)we[we.length]=Ki(ce);break;case"namedrange":if(c[1]==="/")break;fe.Names||(fe.Names=[]);var pe=er(c[0]),St={Name:pe.Name,Ref:wu(pe.RefersTo.slice(1),{r:0,c:0})};fe.Sheets.length>0&&(St.Sheet=fe.Sheets.length-1),fe.Names.push(St);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?M+=n.slice(H,c.index):H=c.index+c[0].length;break;case"interior":if(!r.cellStyles)break;te.Interior=Wa(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?wL(z,xe,n.slice(W,c.index)):W=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else h.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));MV(ye),Me.push(ye)}else h.push([c[3],!1]),d=Wa(c[0]),ye={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var kt=Wa(c[0]);B["!autofilter"]={ref:wu(kt.Range).replace(/\$/g,"")},h.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break;case"null":break;default:if(h.length==0&&c[3]=="document"||h.length==0&&c[3]=="uof")return L_(n,r);var Lt=!0;switch(h[h.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Lt=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Lt=!1}break;case"excelworkbook":switch(c[3]){case"date1904":fe.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Lt=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Lt=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(n.slice(W,c.index)){case"SheetHidden":oe.Hidden=1;break;case"SheetVeryHidden":oe.Hidden=2;break}else W=c.index+c[0].length;break;case"header":B["!margins"]||cf(B["!margins"]={},"xlml"),isNaN(+er(c[0]).Margin)||(B["!margins"].header=+er(c[0]).Margin);break;case"footer":B["!margins"]||cf(B["!margins"]={},"xlml"),isNaN(+er(c[0]).Margin)||(B["!margins"].footer=+er(c[0]).Margin);break;case"pagemargins":var Ne=er(c[0]);B["!margins"]||cf(B["!margins"]={},"xlml"),isNaN(+Ne.Top)||(B["!margins"].top=+Ne.Top),isNaN(+Ne.Left)||(B["!margins"].left=+Ne.Left),isNaN(+Ne.Right)||(B["!margins"].right=+Ne.Right),isNaN(+Ne.Bottom)||(B["!margins"].bottom=+Ne.Bottom);break;case"displayrighttoleft":fe.Views||(fe.Views=[]),fe.Views[0]||(fe.Views[0]={}),fe.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":B["!outline"]||(B["!outline"]={}),B["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":B["!outline"]||(B["!outline"]={}),B["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Lt=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Lt=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Lt=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Lt=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Lt=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Lt=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Lt=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Lt=!1}break;case"smarttags":break;default:Lt=!1;break}if(Lt||c[3].match(/!\[CDATA/))break;if(!h[h.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+h.join("|");if(h[h.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?RV(J,xe,X,n.slice(W,c.index)):(X=c,W=c.index+c[0].length);break}if(r.WTF)throw"Unrecognized tag: "+c[3]+"|"+h.join("|")}var Ue={};return!r.bookSheets&&!r.bookProps&&(Ue.Sheets=x),Ue.SheetNames=C,Ue.Workbook=fe,Ue.SSF=Ki(gr),Ue.Props=z,Ue.Custprops=J,Ue}function i2(t,e){switch(Tw(e=e||{}),e.type||"base64"){case"base64":return lx(ha(t),e);case"binary":case"buffer":case"file":return lx(t,e);case"array":return lx(fc(t),e)}}function OV(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=JO(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=ZO(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var LV=[60,1084,2066,2165,2175];function QV(t,e,r,n,i){var s=n,A=[],c=r.slice(r.l,r.l+s);if(i&&i.enc&&i.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(c)}A.push(c),r.l+=s;for(var h=rA(r,r.l),d=s2[h],x=0;d!=null&&LV.indexOf(h)>-1;)s=rA(r,r.l+2),x=r.l+4,h==2066?x+=4:(h==2165||h==2175)&&(x+=12),c=r.slice(x,r.l+4+s),A.push(c),r.l+=4+s,d=s2[h=rA(r,r.l)];var C=XA(A);Vi(C,0);var B=0;C.lens=[];for(var F=0;F<A.length;++F)C.lens.push(B),B+=A[F].length;if(C.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+C.length+" < "+n;return e.f(C,C.length,i)}function mo(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=gr[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||gc[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yf(t.v):t.w=nc(t.v):t.w=Oa(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&ku(gr[n]||String(n))){var i=Xl(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Lh(t,e,r){return{v:t,ixfe:e,t:r}}function PV(t,e){var r={opts:{}},n={},i=e.dense?[]:{},s={},A={},c=null,h=[],d="",x={},C,B="",F,D,R,k,j={},G=[],Q,ee,ne=[],te=[],M={Sheets:[],WBProps:{date1904:!1},Views:[{}]},H={},O=function(Xt){return Xt<8?ec[Xt]:Xt<64&&te[Xt-8]||ec[Xt]},z=function(Xt,at,De){var Je=at.XF.data;if(!(!Je||!Je.patternType||!De||!De.cellStyles)){at.s={},at.s.patternType=Je.patternType;var Ee;(Ee=_f(O(Je.icvFore)))&&(at.s.fgColor={rgb:Ee}),(Ee=_f(O(Je.icvBack)))&&(at.s.bgColor={rgb:Ee})}},J=function(Xt,at,De){if(!(me>1)&&!(De.sheetRows&&Xt.r>=De.sheetRows)){if(De.cellStyles&&at.XF&&at.XF.data&&z(Xt,at,De),delete at.ixfe,delete at.XF,C=Xt,B=Ar(Xt),(!A||!A.s||!A.e)&&(A={s:{r:0,c:0},e:{r:0,c:0}}),Xt.r<A.s.r&&(A.s.r=Xt.r),Xt.c<A.s.c&&(A.s.c=Xt.c),Xt.r+1>A.e.r&&(A.e.r=Xt.r+1),Xt.c+1>A.e.c&&(A.e.c=Xt.c+1),De.cellFormula&&at.f){for(var Je=0;Je<G.length;++Je)if(!(G[Je][0].s.c>Xt.c||G[Je][0].s.r>Xt.r)&&!(G[Je][0].e.c<Xt.c||G[Je][0].e.r<Xt.r)){at.F=Ur(G[Je][0]),(G[Je][0].s.c!=Xt.c||G[Je][0].s.r!=Xt.r)&&delete at.f,at.f&&(at.f=""+ss(G[Je][1],A,Xt,Be,W));break}}De.dense?(i[Xt.r]||(i[Xt.r]=[]),i[Xt.r][Xt.c]=at):i[B]=at}},W={enc:!1,sbcch:0,snames:[],sharedf:j,arrayf:G,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(W.password=e.password);var X,Me=[],ye=[],we=[],ce=[],He=!1,Be=[];Be.SheetNames=W.snames,Be.sharedf=W.sharedf,Be.arrayf=W.arrayf,Be.names=[],Be.XTI=[];var tt=0,me=0,Z=0,de=[],fe=[],oe;W.codepage=1200,$a(1200);for(var xe=!1;t.l<t.length-1;){var Ye=t.l,Fe=t.read_shift(2);if(Fe===0&&tt===10)break;var _e=t.l===t.length?0:t.read_shift(2),Le=s2[Fe];if(Le&&Le.f){if(e.bookSheets&&tt===133&&Fe!==133)break;if(tt=Fe,Le.r===2||Le.r==12){var xt=t.read_shift(2);if(_e-=2,!W.enc&&xt!==Fe&&((xt&255)<<8|xt>>8)!==Fe)throw new Error("rt mismatch: "+xt+"!="+Fe);Le.r==12&&(t.l+=10,_e-=10)}var pe={};if(Fe===10?pe=Le.f(t,_e,W):pe=QV(Fe,Le,t,_e,W),me==0&&[9,521,1033,2057].indexOf(tt)===-1)continue;switch(Fe){case 34:r.opts.Date1904=M.WBProps.date1904=pe;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(W.enc||(t.l=0),W.enc=pe,!e.password)throw new Error("File is password-protected");if(pe.valid==null)throw new Error("Encryption scheme unsupported");if(!pe.valid)throw new Error("Password is incorrect");break;case 92:W.lastuser=pe;break;case 66:var St=Number(pe);switch(St){case 21010:St=1200;break;case 32768:St=1e4;break;case 32769:St=1252;break}$a(W.codepage=St),xe=!0;break;case 317:W.rrtabid=pe;break;case 25:W.winlocked=pe;break;case 439:r.opts.RefreshAll=pe;break;case 12:r.opts.CalcCount=pe;break;case 16:r.opts.CalcDelta=pe;break;case 17:r.opts.CalcIter=pe;break;case 13:r.opts.CalcMode=pe;break;case 14:r.opts.CalcPrecision=pe;break;case 95:r.opts.CalcSaveRecalc=pe;break;case 15:W.CalcRefMode=pe;break;case 2211:r.opts.FullCalc=pe;break;case 129:pe.fDialog&&(i["!type"]="dialog"),pe.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),pe.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:ne.push(pe);break;case 430:Be.push([pe]),Be[Be.length-1].XTI=[];break;case 35:case 547:Be[Be.length-1].push(pe);break;case 24:case 536:oe={Name:pe.Name,Ref:ss(pe.rgce,A,null,Be,W)},pe.itab>0&&(oe.Sheet=pe.itab-1),Be.names.push(oe),Be[0]||(Be[0]=[],Be[0].XTI=[]),Be[Be.length-1].push(pe),pe.Name=="_xlnm._FilterDatabase"&&pe.itab>0&&pe.rgce&&pe.rgce[0]&&pe.rgce[0][0]&&pe.rgce[0][0][0]=="PtgArea3d"&&(fe[pe.itab-1]={ref:Ur(pe.rgce[0][0][1][2])});break;case 22:W.ExternCount=pe;break;case 23:Be.length==0&&(Be[0]=[],Be[0].XTI=[]),Be[Be.length-1].XTI=Be[Be.length-1].XTI.concat(pe),Be.XTI=Be.XTI.concat(pe);break;case 2196:if(W.biff<8)break;oe!=null&&(oe.Comment=pe[1]);break;case 18:i["!protect"]=pe;break;case 19:pe!==0&&W.WTF&&console.error("Password verifier: "+pe);break;case 133:s[pe.pos]=pe,W.snames.push(pe.name);break;case 10:{if(--me)break;if(A.e){if(A.e.r>0&&A.e.c>0){if(A.e.r--,A.e.c--,i["!ref"]=Ur(A),e.sheetRows&&e.sheetRows<=A.e.r){var kt=A.e.r;A.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ur(A),A.e.r=kt}A.e.r++,A.e.c++}Me.length>0&&(i["!merges"]=Me),ye.length>0&&(i["!objects"]=ye),we.length>0&&(i["!cols"]=we),ce.length>0&&(i["!rows"]=ce),M.Sheets.push(H)}d===""?x=i:n[d]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(W.biff===8&&(W.biff={9:2,521:3,1033:4}[Fe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[pe.BIFFVer]||8),W.biffguess=pe.BIFFVer==0,pe.BIFFVer==0&&pe.dt==4096&&(W.biff=5,xe=!0,$a(W.codepage=28591)),W.biff==8&&pe.BIFFVer==0&&pe.dt==16&&(W.biff=2),me++)break;if(i=e.dense?[]:{},W.biff<8&&!xe&&(xe=!0,$a(W.codepage=e.codepage||1252)),W.biff<5||pe.BIFFVer==0&&pe.dt==4096){d===""&&(d="Sheet1"),A={s:{r:0,c:0},e:{r:0,c:0}};var Lt={pos:t.l-_e,name:d};s[Lt.pos]=Lt,W.snames.push(d)}else d=(s[Ye]||{name:""}).name;pe.dt==32&&(i["!type"]="chart"),pe.dt==64&&(i["!type"]="macro"),Me=[],ye=[],W.arrayf=G=[],we=[],ce=[],He=!1,H={Hidden:(s[Ye]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[pe.r]||[])[pe.c]:i[Ar({c:pe.c,r:pe.r})])&&++pe.c,Q={ixfe:pe.ixfe,XF:ne[pe.ixfe]||{},v:pe.val,t:"n"},Z>0&&(Q.z=de[Q.ixfe>>8&63]),mo(Q,e,r.opts.Date1904),J({c:pe.c,r:pe.r},Q,e);break;case 5:case 517:Q={ixfe:pe.ixfe,XF:ne[pe.ixfe],v:pe.val,t:pe.t},Z>0&&(Q.z=de[Q.ixfe>>8&63]),mo(Q,e,r.opts.Date1904),J({c:pe.c,r:pe.r},Q,e);break;case 638:Q={ixfe:pe.ixfe,XF:ne[pe.ixfe],v:pe.rknum,t:"n"},Z>0&&(Q.z=de[Q.ixfe>>8&63]),mo(Q,e,r.opts.Date1904),J({c:pe.c,r:pe.r},Q,e);break;case 189:for(var Ne=pe.c;Ne<=pe.C;++Ne){var Ue=pe.rkrec[Ne-pe.c][0];Q={ixfe:Ue,XF:ne[Ue],v:pe.rkrec[Ne-pe.c][1],t:"n"},Z>0&&(Q.z=de[Q.ixfe>>8&63]),mo(Q,e,r.opts.Date1904),J({c:Ne,r:pe.r},Q,e)}break;case 6:case 518:case 1030:{if(pe.val=="String"){c=pe;break}if(Q=Lh(pe.val,pe.cell.ixfe,pe.tt),Q.XF=ne[Q.ixfe],e.cellFormula){var gt=pe.formula;if(gt&&gt[0]&&gt[0][0]&&gt[0][0][0]=="PtgExp"){var Bt=gt[0][0][1][0],ur=gt[0][0][1][1],_t=Ar({r:Bt,c:ur});j[_t]?Q.f=""+ss(pe.formula,A,pe.cell,Be,W):Q.F=((e.dense?(i[Bt]||[])[ur]:i[_t])||{}).F}else Q.f=""+ss(pe.formula,A,pe.cell,Be,W)}Z>0&&(Q.z=de[Q.ixfe>>8&63]),mo(Q,e,r.opts.Date1904),J(pe.cell,Q,e),c=pe}break;case 7:case 519:if(c)c.val=pe,Q=Lh(pe,c.cell.ixfe,"s"),Q.XF=ne[Q.ixfe],e.cellFormula&&(Q.f=""+ss(c.formula,A,c.cell,Be,W)),Z>0&&(Q.z=de[Q.ixfe>>8&63]),mo(Q,e,r.opts.Date1904),J(c.cell,Q,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{G.push(pe);var Bn=Ar(pe[0].s);if(F=e.dense?(i[pe[0].s.r]||[])[pe[0].s.c]:i[Bn],e.cellFormula&&F){if(!c||!Bn||!F)break;F.f=""+ss(pe[1],A,pe[0],Be,W),F.F=Ur(pe[0])}}break;case 1212:{if(!e.cellFormula)break;if(B){if(!c)break;j[Ar(c.cell)]=pe[0],F=e.dense?(i[c.cell.r]||[])[c.cell.c]:i[Ar(c.cell)],(F||{}).f=""+ss(pe[0],A,C,Be,W)}}break;case 253:Q=Lh(h[pe.isst].t,pe.ixfe,"s"),h[pe.isst].h&&(Q.h=h[pe.isst].h),Q.XF=ne[Q.ixfe],Z>0&&(Q.z=de[Q.ixfe>>8&63]),mo(Q,e,r.opts.Date1904),J({c:pe.c,r:pe.r},Q,e);break;case 513:e.sheetStubs&&(Q={ixfe:pe.ixfe,XF:ne[pe.ixfe],t:"z"},Z>0&&(Q.z=de[Q.ixfe>>8&63]),mo(Q,e,r.opts.Date1904),J({c:pe.c,r:pe.r},Q,e));break;case 190:if(e.sheetStubs)for(var hn=pe.c;hn<=pe.C;++hn){var Ge=pe.ixfe[hn-pe.c];Q={ixfe:Ge,XF:ne[Ge],t:"z"},Z>0&&(Q.z=de[Q.ixfe>>8&63]),mo(Q,e,r.opts.Date1904),J({c:hn,r:pe.r},Q,e)}break;case 214:case 516:case 4:Q=Lh(pe.val,pe.ixfe,"s"),Q.XF=ne[Q.ixfe],Z>0&&(Q.z=de[Q.ixfe>>8&63]),mo(Q,e,r.opts.Date1904),J({c:pe.c,r:pe.r},Q,e);break;case 0:case 512:me===1&&(A=pe);break;case 252:h=pe;break;case 1054:if(W.biff==4){de[Z++]=pe[1];for(var It=0;It<Z+163&&gr[It]!=pe[1];++It);It>=163&&$l(pe[1],Z+163)}else $l(pe[1],pe[0]);break;case 30:{de[Z++]=pe;for(var Tt=0;Tt<Z+163&&gr[Tt]!=pe;++Tt);Tt>=163&&$l(pe,Z+163)}break;case 229:Me=Me.concat(pe);break;case 93:ye[pe.cmo[0]]=W.lastobj=pe;break;case 438:W.lastobj.TxO=pe;break;case 127:W.lastobj.ImData=pe;break;case 440:for(k=pe[0].s.r;k<=pe[0].e.r;++k)for(R=pe[0].s.c;R<=pe[0].e.c;++R)F=e.dense?(i[k]||[])[R]:i[Ar({c:R,r:k})],F&&(F.l=pe[1]);break;case 2048:for(k=pe[0].s.r;k<=pe[0].e.r;++k)for(R=pe[0].s.c;R<=pe[0].e.c;++R)F=e.dense?(i[k]||[])[R]:i[Ar({c:R,r:k})],F&&F.l&&(F.l.Tooltip=pe[1]);break;case 28:{if(W.biff<=5&&W.biff>=2)break;F=e.dense?(i[pe[0].r]||[])[pe[0].c]:i[Ar(pe[0])];var Jt=ye[pe[2]];F||(e.dense?(i[pe[0].r]||(i[pe[0].r]=[]),F=i[pe[0].r][pe[0].c]={t:"z"}):F=i[Ar(pe[0])]={t:"z"},A.e.r=Math.max(A.e.r,pe[0].r),A.s.r=Math.min(A.s.r,pe[0].r),A.e.c=Math.max(A.e.c,pe[0].c),A.s.c=Math.min(A.s.c,pe[0].c)),F.c||(F.c=[]),D={a:pe[1],t:Jt.TxO.t},F.c.push(D)}break;case 2173:A7(ne[pe.ixfe],pe.ext);break;case 125:{if(!W.cellStyles)break;for(;pe.e>=pe.s;)we[pe.e--]={width:pe.w/256,level:pe.level||0,hidden:!!(pe.flags&1)},He||(He=!0,yw(pe.w/256)),Tu(we[pe.e+1])}break;case 520:{var fr={};pe.level!=null&&(ce[pe.r]=fr,fr.level=pe.level),pe.hidden&&(ce[pe.r]=fr,fr.hidden=!0),pe.hpt&&(ce[pe.r]=fr,fr.hpt=pe.hpt,fr.hpx=Tf(pe.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||cf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Fe]]=pe;break;case 161:i["!margins"]||cf(i["!margins"]={}),i["!margins"].header=pe.header,i["!margins"].footer=pe.footer;break;case 574:pe.RTL&&(M.Views[0].RTL=!0);break;case 146:te=pe;break;case 2198:X=pe;break;case 140:ee=pe;break;case 442:d?H.CodeName=pe||H.name:M.WBProps.CodeName=pe||"ThisWorkbook";break}}else Le||console.error("Missing Info for XLS Record 0x"+Fe.toString(16)),t.l+=_e}return r.SheetNames=Co(s).sort(function(pr,Xt){return Number(pr)-Number(Xt)}).map(function(pr){return s[pr].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&x["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=x)):r.Preamble=x,r.Sheets&&fe.forEach(function(pr,Xt){r.Sheets[r.SheetNames[Xt]]["!autofilter"]=pr}),r.Strings=h,r.SSF=Ki(gr),W.enc&&(r.Encryption=W.enc),X&&(r.Themes=X),r.Metadata={},ee!==void 0&&(r.Metadata.Country=ee),Be.names.length>0&&(M.Names=Be.names),r.Workbook=M,r}var D_={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function HV(t,e,r){var n=Dr.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=p_(n,iL,D_.DSI);for(var s in i)e[s]=i[s]}catch(d){if(r.WTF)throw d}var A=Dr.find(t,"/!SummaryInformation");if(A&&A.size>0)try{var c=p_(A,sL,D_.SI);for(var h in c)e[h]==null&&(e[h]=c[h])}catch(d){if(r.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(RI(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function g3(t,e){e||(e={}),Tw(e),GS(),e.codepage&&iw(e.codepage);var r,n;if(t.FullPaths){if(Dr.find(t,"/encryption"))throw new Error("File is password-protected");r=Dr.find(t,"!CompObj"),n=Dr.find(t,"/Workbook")||Dr.find(t,"/Book")}else{switch(e.type){case"base64":t=Za(ha(t));break;case"binary":t=Za(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Vi(t,0),n={content:t}}var i,s;if(r&&OV(r),e.bookProps&&!e.bookSheets)i={};else{var A=Nr?"buffer":"array";if(n&&n.content)i=PV(n.content,e);else if((s=Dr.find(t,"PerfectOffice_MAIN"))&&s.content)i=Af.to_workbook(s.content,(e.type=A,e));else if((s=Dr.find(t,"NativeContent_MAIN"))&&s.content)i=Af.to_workbook(s.content,(e.type=A,e));else throw(s=Dr.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Dr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=T7(t))}var c={};return t.FullPaths&&HV(t,c,e),i.Props=i.Custprops=c,e.bookFiles&&(i.cfb=t),i}var R1={0:{f:CH},1:{f:TH},2:{f:kH},3:{f:NH},4:{f:SH},5:{f:UH},6:{f:LH},7:{f:RH},8:{f:jH},9:{f:VH},10:{f:PH},11:{f:HH},12:{f:bH},13:{f:MH},14:{f:FH},15:{f:IH},16:{f:c3},17:{f:QH},18:{f:DH},19:{f:gw},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:pV},40:{},42:{},43:{f:PQ},44:{f:QQ},45:{f:HQ},46:{f:jQ},47:{f:VQ},48:{},49:{f:GO},50:{},51:{f:c7},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:GI},62:{f:OH},63:{f:g7},64:{f:ZH},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:us,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:JH},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:_H},148:{f:EH,p:16},151:{f:zH},152:{},153:{f:hV},154:{},155:{},156:{f:dV},157:{},158:{},159:{T:1,f:sQ},160:{T:-1},161:{T:1,f:hc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:GH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:l7},336:{T:-1},337:{f:u7,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:e2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jI},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:WH},427:{f:XH},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:YH},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:BH},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:KH},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:e2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:E7},633:{T:1},634:{T:-1},635:{T:1,f:C7},636:{T:-1},637:{f:zO},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:iV},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:$H},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},s2={6:{f:ox},10:{f:VA},12:{f:ui},13:{f:ui},14:{f:Zn},15:{f:Zn},16:{f:os},17:{f:Zn},18:{f:Zn},19:{f:ui},20:{f:v_},21:{f:v_},23:{f:jI},24:{f:C_},25:{f:Zn},26:{},27:{},28:{f:v9},29:{},34:{f:Zn},35:{f:y_},38:{f:os},39:{f:os},40:{f:os},41:{f:os},42:{f:Zn},43:{f:Zn},47:{f:BQ},49:{f:t9},51:{f:ui},60:{},61:{f:ZL},64:{f:Zn},65:{f:e9},66:{f:ui},77:{},80:{},81:{},82:{},85:{f:ui},89:{},90:{},91:{},92:{f:GL},93:{f:C9},94:{},95:{f:Zn},96:{},97:{},99:{f:Zn},125:{f:GI},128:{f:u9},129:{f:KL},130:{f:ui},131:{f:Zn},132:{f:Zn},133:{f:zL},134:{},140:{f:S9},141:{f:ui},144:{},146:{f:N9},151:{},152:{},153:{},154:{},155:{},156:{f:ui},157:{},158:{},160:{f:k9},161:{f:R9},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:o9},190:{f:A9},193:{f:VA},197:{},198:{},199:{},200:{},201:{},202:{f:Zn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ui},220:{},221:{f:Zn},222:{},224:{f:c9},225:{f:jL},226:{f:VA},227:{},229:{f:y9},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:WL},253:{f:r9},255:{f:XL},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:OI},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Zn},353:{f:VA},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:d9},431:{f:Zn},432:{},433:{},434:{},437:{},438:{f:_9},439:{f:Zn},440:{f:T9},441:{},442:{f:Hf},443:{},444:{f:ui},445:{},446:{},448:{f:VA},449:{f:JL,r:2},450:{f:VA},512:{f:x_},513:{f:U9},515:{f:f9},516:{f:n9},517:{f:w_},519:{f:M9},520:{f:qL},523:{},545:{f:E_},549:{f:m_},566:{},574:{f:$L},638:{f:a9},659:{},1048:{},1054:{f:i9},1084:{},1212:{f:m9},2048:{f:b9},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:kh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:VA},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:F9,r:12},2173:{f:o7,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Zn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:p9,r:12},2197:{},2198:{f:t7,r:12},2199:{},2200:{},2201:{},2202:{f:x9,r:12},2203:{f:VA},2204:{},2205:{},2206:{},2207:{},2211:{f:YL},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ui},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:D9},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:I9},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:x_},1:{},2:{f:P9},3:{f:Q9},4:{f:L9},5:{f:w_},7:{f:H9},8:{},9:{f:kh},11:{},22:{f:ui},30:{f:s9},31:{},32:{},33:{f:E_},36:{},37:{f:m_},50:{f:V9},62:{},52:{},67:{},68:{f:ui},69:{},86:{},126:{},127:{f:O9},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:j9},223:{},234:{},354:{},421:{},518:{f:ox},521:{f:kh},536:{f:C_},547:{f:y_},561:{},579:{},1030:{f:ox},1033:{f:kh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Xa(t,e,r,n){var i=e;if(!isNaN(i)){var s=(r||[]).length||0,A=t.next(4);A.write_shift(2,i),A.write_shift(2,s),s>0&&BI(r)&&t.push(r)}}function U_(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),A=i.index,c=s&&s.index||t.length,h=fO(t.slice(A,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,x=0,C=0,B=0,F={s:{r:1e7,c:1e7},e:{r:0,c:0}},D=[];for(A=0;A<h.length;++A){var R=h[A].trim(),k=R.slice(0,3).toLowerCase();if(k=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}x=0;continue}if(!(k!="<td"&&k!="<th")){var j=R.split(/<\/t[dh]>/i);for(c=0;c<j.length;++c){var G=j[c].trim();if(G.match(/<t[dh]/i)){for(var Q=G,ee=0;Q.charAt(0)=="<"&&(ee=Q.indexOf(">"))>-1;)Q=Q.slice(ee+1);for(var ne=0;ne<D.length;++ne){var te=D[ne];te.s.c==x&&te.s.r<d&&d<=te.e.r&&(x=te.e.c+1,ne=-1)}var M=er(G.slice(0,G.indexOf(">")));B=M.colspan?+M.colspan:1,((C=+M.rowspan)>1||B>1)&&D.push({s:{r:d,c:x},e:{r:d+(C||1)-1,c:x+B-1}});var H=M.t||M["data-t"]||"";if(!Q.length){x+=B;continue}if(Q=uI(Q),F.s.r>d&&(F.s.r=d),F.e.r<d&&(F.e.r=d),F.s.c>x&&(F.s.c=x),F.e.c<x&&(F.e.c=x),!Q.length){x+=B;continue}var O={t:"s",v:Q};r.raw||!Q.trim().length||H=="s"||(Q==="TRUE"?O={t:"b",v:!0}:Q==="FALSE"?O={t:"b",v:!1}:isNaN(to(Q))?isNaN(_u(Q).getDate())||(O={t:"d",v:Ni(Q)},r.cellDates||(O={t:"n",v:Ts(O.v)}),O.z=r.dateNF||gr[14]):O={t:"n",v:to(Q)}),r.dense?(n[d]||(n[d]=[]),n[d][x]=O):n[Ar({r:d,c:x})]=O,x+=B}}}}return n["!ref"]=Ur(F),D.length&&(n["!merges"]=D),n}function VV(t,e,r,n){for(var i=t["!merges"]||[],s=[],A=e.s.c;A<=e.e.c;++A){for(var c=0,h=0,d=0;d<i.length;++d)if(!(i[d].s.r>r||i[d].s.c>A)&&!(i[d].e.r<r||i[d].e.c<A)){if(i[d].s.r<r||i[d].s.c<A){c=-1;break}c=i[d].e.r-i[d].s.r+1,h=i[d].e.c-i[d].s.c+1;break}if(!(c<0)){var x=Ar({r,c:A}),C=n.dense?(t[r]||[])[A]:t[x],B=C&&C.v!=null&&(C.h||cw(C.w||(oA(C),C.w)||""))||"",F={};c>1&&(F.rowspan=c),h>1&&(F.colspan=h),n.editable?B='<span contenteditable="true">'+B+"</span>":C&&(F["data-t"]=C&&C.t||"z",C.v!=null&&(F["data-v"]=C.v),C.z!=null&&(F["data-z"]=C.z),C.l&&(C.l.Target||"#").charAt(0)!="#"&&(B='<a href="'+C.l.Target+'">'+B+"</a>")),F.id=(n.id||"sjs")+"-"+x,s.push(SO("td",B,F))}}var D="<tr>";return D+s.join("")+"</tr>"}var jV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',GV="</body></html>";function KV(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return ml(U_(r[0],e),e);var n=Sw();return r.forEach(function(i,s){Iw(n,U_(i,e),"Sheet"+(s+1))}),n}function zV(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function WV(t,e){var r=e||{},n=r.header!=null?r.header:jV,i=r.footer!=null?r.footer:GV,s=[n],A=Mu(t["!ref"]);r.dense=Array.isArray(t),s.push(zV(t,A,r));for(var c=A.s.r;c<=A.e.r;++c)s.push(VV(t,A,c,r));return s.push("</table>"+i),s.join("")}function p3(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var A=typeof n.origin=="string"?Es(n.origin):n.origin;i=A.r,s=A.c}var c=e.getElementsByTagName("tr"),h=Math.min(n.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var x=Mu(t["!ref"]);d.s.r=Math.min(d.s.r,x.s.r),d.s.c=Math.min(d.s.c,x.s.c),d.e.r=Math.max(d.e.r,x.e.r),d.e.c=Math.max(d.e.c,x.e.c),i==-1&&(d.e.r=i=x.e.r+1)}var C=[],B=0,F=t["!rows"]||(t["!rows"]=[]),D=0,R=0,k=0,j=0,G=0,Q=0;for(t["!cols"]||(t["!cols"]=[]);D<c.length&&R<h;++D){var ee=c[D];if(k_(ee)){if(n.display)continue;F[R]={hidden:!0}}var ne=ee.children;for(k=j=0;k<ne.length;++k){var te=ne[k];if(!(n.display&&k_(te))){var M=te.hasAttribute("data-v")?te.getAttribute("data-v"):te.hasAttribute("v")?te.getAttribute("v"):uI(te.innerHTML),H=te.getAttribute("data-z")||te.getAttribute("z");for(B=0;B<C.length;++B){var O=C[B];O.s.c==j+s&&O.s.r<R+i&&R+i<=O.e.r&&(j=O.e.c+1-s,B=-1)}Q=+te.getAttribute("colspan")||1,((G=+te.getAttribute("rowspan")||1)>1||Q>1)&&C.push({s:{r:R+i,c:j+s},e:{r:R+i+(G||1)-1,c:j+s+(Q||1)-1}});var z={t:"s",v:M},J=te.getAttribute("data-t")||te.getAttribute("t")||"";M!=null&&(M.length==0?z.t=J||"z":n.raw||M.trim().length==0||J=="s"||(M==="TRUE"?z={t:"b",v:!0}:M==="FALSE"?z={t:"b",v:!1}:isNaN(to(M))?isNaN(_u(M).getDate())||(z={t:"d",v:Ni(M)},n.cellDates||(z={t:"n",v:Ts(z.v)}),z.z=n.dateNF||gr[14]):z={t:"n",v:to(M)})),z.z===void 0&&H!=null&&(z.z=H);var W="",X=te.getElementsByTagName("A");if(X&&X.length)for(var Me=0;Me<X.length&&!(X[Me].hasAttribute("href")&&(W=X[Me].getAttribute("href"),W.charAt(0)!="#"));++Me);W&&W.charAt(0)!="#"&&(z.l={Target:W}),n.dense?(t[R+i]||(t[R+i]=[]),t[R+i][j+s]=z):t[Ar({c:j+s,r:R+i})]=z,d.e.c<j+s&&(d.e.c=j+s),j+=Q}}++R}return C.length&&(t["!merges"]=(t["!merges"]||[]).concat(C)),d.e.r=Math.max(d.e.r,R-1+i),t["!ref"]=Ur(d),R>=h&&(t["!fullref"]=Ur((d.e.r=c.length-D+R-1+i,d))),t}function m3(t,e){var r=e||{},n=r.dense?[]:{};return p3(n,t,e)}function XV(t,e){return ml(m3(t,e),e)}function k_(t){var e="",r=qV(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function qV(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function YV(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Lr(e.replace(/<[^>]*>/g,""));return[r]}var M_={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function x3(t,e){var r=e||{},n=uw(t),i=[],s,A,c={name:""},h="",d=0,x,C,B={},F=[],D=r.dense?[]:{},R,k,j={value:""},G="",Q=0,ee=[],ne=-1,te=-1,M={s:{r:1e6,c:1e7},e:{r:0,c:0}},H=0,O={},z=[],J={},W=0,X=0,Me=[],ye=1,we=1,ce=[],He={Names:[]},Be={},tt=["",""],me=[],Z={},de="",fe=0,oe=!1,xe=!1,Ye=0;for(Ef.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");R=Ef.exec(n);)switch(R[3]=R[3].replace(/_.*$/,"")){case"table":case"":R[1]==="/"?(M.e.c>=M.s.c&&M.e.r>=M.s.r?D["!ref"]=Ur(M):D["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=M.e.r&&(D["!fullref"]=D["!ref"],M.e.r=r.sheetRows-1,D["!ref"]=Ur(M)),z.length&&(D["!merges"]=z),Me.length&&(D["!rows"]=Me),x.name=x.||x.name,typeof JSON<"u"&&JSON.stringify(x),F.push(x.name),B[x.name]=D,xe=!1):R[0].charAt(R[0].length-2)!=="/"&&(x=er(R[0],!1),ne=te=-1,M.s.r=M.s.c=1e7,M.e.r=M.e.c=0,D=r.dense?[]:{},z=[],Me=[],xe=!0);break;case"table-row-group":R[1]==="/"?--H:++H;break;case"table-row":case"":if(R[1]==="/"){ne+=ye,ye=1;break}if(C=er(R[0],!1),C.?ne=C.-1:ne==-1&&(ne=0),ye=+C["number-rows-repeated"]||1,ye<10)for(Ye=0;Ye<ye;++Ye)H>0&&(Me[ne+Ye]={level:H});te=-1;break;case"covered-table-cell":R[1]!=="/"&&++te,r.sheetStubs&&(r.dense?(D[ne]||(D[ne]=[]),D[ne][te]={t:"z"}):D[Ar({r:ne,c:te})]={t:"z"}),G="",ee=[];break;case"table-cell":case"":if(R[0].charAt(R[0].length-2)==="/")++te,j=er(R[0],!1),we=parseInt(j["number-columns-repeated"]||"1",10),k={t:"z",v:null},j.formula&&r.cellFormula!=!1&&(k.f=N_(Lr(j.formula))),(j.||j["value-type"])=="string"&&(k.t="s",k.v=Lr(j["string-value"]||""),r.dense?(D[ne]||(D[ne]=[]),D[ne][te]=k):D[Ar({r:ne,c:te})]=k),te+=we-1;else if(R[1]!=="/"){++te,G="",Q=0,ee=[],we=1;var Fe=ye?ne+ye-1:ne;if(te>M.e.c&&(M.e.c=te),te<M.s.c&&(M.s.c=te),ne<M.s.r&&(M.s.r=ne),Fe>M.e.r&&(M.e.r=Fe),j=er(R[0],!1),me=[],Z={},k={t:j.||j["value-type"],v:null},r.cellFormula)if(j.formula&&(j.formula=Lr(j.formula)),j["number-matrix-columns-spanned"]&&j["number-matrix-rows-spanned"]&&(W=parseInt(j["number-matrix-rows-spanned"],10)||0,X=parseInt(j["number-matrix-columns-spanned"],10)||0,J={s:{r:ne,c:te},e:{r:ne+W-1,c:te+X-1}},k.F=Ur(J),ce.push([J,k.F])),j.formula)k.f=N_(j.formula);else for(Ye=0;Ye<ce.length;++Ye)ne>=ce[Ye][0].s.r&&ne<=ce[Ye][0].e.r&&te>=ce[Ye][0].s.c&&te<=ce[Ye][0].e.c&&(k.F=ce[Ye][1]);switch((j["number-columns-spanned"]||j["number-rows-spanned"])&&(W=parseInt(j["number-rows-spanned"],10)||0,X=parseInt(j["number-columns-spanned"],10)||0,J={s:{r:ne,c:te},e:{r:ne+W-1,c:te+X-1}},z.push(J)),j["number-columns-repeated"]&&(we=parseInt(j["number-columns-repeated"],10)),k.t){case"boolean":k.t="b",k.v=In(j["boolean-value"]);break;case"float":k.t="n",k.v=parseFloat(j.value);break;case"percentage":k.t="n",k.v=parseFloat(j.value);break;case"currency":k.t="n",k.v=parseFloat(j.value);break;case"date":k.t="d",k.v=Ni(j["date-value"]),r.cellDates||(k.t="n",k.v=Ts(k.v)),k.z="m/d/yy";break;case"time":k.t="n",k.v=lO(j["time-value"])/86400,r.cellDates&&(k.t="d",k.v=fg(k.v)),k.z="HH:MM:SS";break;case"number":k.t="n",k.v=parseFloat(j.);break;default:if(k.t==="string"||k.t==="text"||!k.t)k.t="s",j["string-value"]!=null&&(G=Lr(j["string-value"]),ee=[]);else throw new Error("Unsupported value type "+k.t)}}else{if(oe=!1,k.t==="s"&&(k.v=G||"",ee.length&&(k.R=ee),oe=Q==0),Be.Target&&(k.l=Be),me.length>0&&(k.c=me,me=[]),G&&r.cellText!==!1&&(k.w=G),oe&&(k.t="z",delete k.v),(!oe||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=ne))for(var _e=0;_e<ye;++_e){if(we=parseInt(j["number-columns-repeated"]||"1",10),r.dense)for(D[ne+_e]||(D[ne+_e]=[]),D[ne+_e][te]=_e==0?k:Ki(k);--we>0;)D[ne+_e][te+we]=Ki(k);else for(D[Ar({r:ne+_e,c:te})]=k;--we>0;)D[Ar({r:ne+_e,c:te+we})]=Ki(k);M.e.c<=te&&(M.e.c=te)}we=parseInt(j["number-columns-repeated"]||"1",10),te+=we-1,we=0,k={},G="",ee=[]}Be={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(R[1]==="/"){if((s=i.pop())[0]!==R[3])throw"Bad state: "+s}else R[0].charAt(R[0].length-2)!=="/"&&i.push([R[3],!0]);break;case"annotation":if(R[1]==="/"){if((s=i.pop())[0]!==R[3])throw"Bad state: "+s;Z.t=G,ee.length&&(Z.R=ee),Z.a=de,me.push(Z)}else R[0].charAt(R[0].length-2)!=="/"&&i.push([R[3],!1]);de="",fe=0,G="",Q=0,ee=[];break;case"creator":R[1]==="/"?de=n.slice(fe,R.index):fe=R.index+R[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(R[1]==="/"){if((s=i.pop())[0]!==R[3])throw"Bad state: "+s}else R[0].charAt(R[0].length-2)!=="/"&&i.push([R[3],!1]);G="",Q=0,ee=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(R[1]==="/"){if(O[c.name]=h,(s=i.pop())[0]!==R[3])throw"Bad state: "+s}else R[0].charAt(R[0].length-2)!=="/"&&(h="",c=er(R[0],!1),i.push([R[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":A=er(R[0],!1),h+=M_[R[3]][A.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":A=er(R[0],!1),h+=M_[R[3]][A.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(R[0].slice(-2)==="/>")break;if(R[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":h+=n.slice(d,R.index);break}else d=R.index+R[0].length;break;case"named-range":A=er(R[0],!1),tt=Ax(A["cell-range-address"]);var Le={Name:A.name,Ref:tt[0]+"!"+tt[1]};xe&&(Le.Sheet=F.length),He.Names.push(Le);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(R[1]==="/"&&(!j||!j["string-value"])){var xt=YV(n.slice(Q,R.index));G=(G.length>0?G+`
`:"")+xt[0]}else er(R[0],!1),Q=R.index+R[0].length;break;case"s":break;case"database-range":if(R[1]==="/")break;try{tt=Ax(er(R[0])["target-range-address"]),B[tt[0]]["!autofilter"]={ref:tt[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(R[1]!=="/"){if(Be=er(R[0],!1),!Be.href)break;Be.Target=Lr(Be.href),delete Be.href,Be.Target.charAt(0)=="#"&&Be.Target.indexOf(".")>-1?(tt=Ax(Be.Target.slice(1)),Be.Target="#"+tt[0]+"!"+tt[1]):Be.Target.match(/^\.\.[\\\/]/)&&(Be.Target=Be.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(R[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(R)}}var pe={Sheets:B,SheetNames:F,Workbook:He};return r.bookSheets&&delete pe.Sheets,pe}function O_(t,e){e=e||{},Fa(t,"META-INF/manifest.xml")&&fL(ci(t,"META-INF/manifest.xml"),e);var r=ua(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=x3(xn(r),e);return Fa(t,"meta.xml")&&(n.Props=FI(ci(t,"meta.xml"))),n}function L_(t,e){return x3(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Bw(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function a2(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):xn(fc(t))}function o2(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function Q_(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function JV(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function bf(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function vi(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function As(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=bf(t,r),s=i&7;i=Math.floor(i/8);var A=0,c;if(i==0)break;switch(s){case 0:{for(var h=r[0];t[r[0]++]>=128;);c=t.slice(h,r[0])}break;case 5:A=4,c=t.slice(r[0],r[0]+A),r[0]+=A;break;case 1:A=8,c=t.slice(r[0],r[0]+A),r[0]+=A;break;case 2:A=bf(t,r),c=t.slice(r[0],r[0]+A),r[0]+=A;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var d={data:c,type:s};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function _w(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function ZV(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=bf(t,n),s=As(t.slice(n[0],n[0]+i));n[0]+=i;var A={id:vi(s[1][0].data),messages:[]};s[2].forEach(function(c){var h=As(c.data),d=vi(h[3][0].data);A.messages.push({meta:h,data:t.slice(n[0],n[0]+d)}),n[0]+=d}),(e=s[3])!=null&&e[0]&&(A.merge=vi(s[3][0].data)>>>0>0),r.push(A)}return r}function $V(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=bf(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var A=e[r[0]++]>>2;if(A<60)++A;else{var c=A-59;A=e[r[0]],c>1&&(A|=e[r[0]+1]<<8),c>2&&(A|=e[r[0]+2]<<16),c>3&&(A|=e[r[0]+3]<<24),A>>>=0,A++,r[0]+=c}i.push(e.slice(r[0],r[0]+A)),r[0]+=A;continue}else{var h=0,d=0;if(s==1?(d=(e[r[0]]>>2&7)+4,h=(e[r[0]++]&224)<<3,h|=e[r[0]++]):(d=(e[r[0]++]>>2)+1,s==2?(h=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(h=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[o2(i)],h==0)throw new Error("Invalid offset 0");if(h>i[0].length)throw new Error("Invalid offset beyond length");if(d>=h)for(i.push(i[0].slice(-h)),d-=h;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-h,-h+d))}}var x=o2(i);if(x.length!=n)throw new Error("Unexpected length: ".concat(x.length," != ").concat(n));return x}function ej(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push($V(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return o2(e)}function tj(t,e,r,n){var i=Bw(t),s=i.getUint32(4,!0),A=(n>1?12:8)+Q_(s&(n>1?3470:398))*4,c=-1,h=-1,d=NaN,x=new Date(2001,0,1);s&512&&(c=i.getUint32(A,!0),A+=4),A+=Q_(s&(n>1?12288:4096))*4,s&16&&(h=i.getUint32(A,!0),A+=4),s&32&&(d=i.getFloat64(A,!0),A+=8),s&64&&(x.setTime(x.getTime()+i.getFloat64(A,!0)*1e3),A+=8);var C;switch(t[2]){case 0:break;case 2:C={t:"n",v:d};break;case 3:C={t:"s",v:e[h]};break;case 5:C={t:"d",v:x};break;case 6:C={t:"b",v:d>0};break;case 7:C={t:"n",v:d/86400};break;case 8:C={t:"e",v:0};break;case 9:if(c>-1)C={t:"s",v:r[c]};else if(h>-1)C={t:"s",v:e[h]};else if(!isNaN(d))C={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return C}function rj(t,e,r){var n=Bw(t),i=n.getUint32(8,!0),s=12,A=-1,c=-1,h=NaN,d=NaN,x=new Date(2001,0,1);i&1&&(h=JV(t,s),s+=16),i&2&&(d=n.getFloat64(s,!0),s+=8),i&4&&(x.setTime(x.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(c=n.getUint32(s,!0),s+=4),i&16&&(A=n.getUint32(s,!0),s+=4);var C;switch(t[1]){case 0:break;case 2:C={t:"n",v:h};break;case 3:C={t:"s",v:e[c]};break;case 5:C={t:"d",v:x};break;case 6:C={t:"b",v:d>0};break;case 7:C={t:"n",v:d/86400};break;case 8:C={t:"e",v:0};break;case 9:if(A>-1)C={t:"s",v:r[A]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:C={t:"n",v:h};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return C}function nj(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return tj(t,e,r,t[0]);case 5:return rj(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function il(t){var e=As(t);return bf(e[1][0].data)}function P_(t,e){var r=As(e.data),n=vi(r[1][0].data),i=r[3],s=[];return(i||[]).forEach(function(A){var c=As(A.data),h=vi(c[1][0].data)>>>0;switch(n){case 1:s[h]=a2(c[3][0].data);break;case 8:{var d=t[il(c[9][0].data)][0],x=As(d.data),C=t[il(x[1][0].data)][0],B=vi(C.meta[1][0].data);if(B!=2001)throw new Error("2000 unexpected reference to ".concat(B));var F=As(C.data);s[h]=F[3].map(function(D){return a2(D.data)}).join("")}break}}),s}function ij(t,e){var r,n,i,s,A,c,h,d,x,C,B,F,D,R,k=As(t),j=vi(k[1][0].data)>>>0,G=vi(k[2][0].data)>>>0,Q=((n=(r=k[8])==null?void 0:r[0])==null?void 0:n.data)&&vi(k[8][0].data)>0||!1,ee,ne;if((s=(i=k[7])==null?void 0:i[0])!=null&&s.data&&e!=0)ee=(c=(A=k[7])==null?void 0:A[0])==null?void 0:c.data,ne=(d=(h=k[6])==null?void 0:h[0])==null?void 0:d.data;else if((C=(x=k[4])==null?void 0:x[0])!=null&&C.data&&e!=1)ee=(F=(B=k[4])==null?void 0:B[0])==null?void 0:F.data,ne=(R=(D=k[3])==null?void 0:D[0])==null?void 0:R.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var te=Q?4:1,M=Bw(ee),H=[],O=0;O<ee.length/2;++O){var z=M.getUint16(O*2,!0);z<65535&&H.push([O,z])}if(H.length!=G)throw"Expected ".concat(G," cells, found ").concat(H.length);var J=[];for(O=0;O<H.length-1;++O)J[H[O][0]]=ne.subarray(H[O][1]*te,H[O+1][1]*te);return H.length>=1&&(J[H[H.length-1][0]]=ne.subarray(H[H.length-1][1]*te)),{R:j,cells:J}}function sj(t,e){var r,n=As(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?vi(n[7][0].data)>>>0>0?1:0:-1,s=_w(n[5],function(A){return ij(A,i)});return{nrows:vi(n[4][0].data)>>>0,data:s.reduce(function(A,c){return A[c.R]||(A[c.R]=[]),c.cells.forEach(function(h,d){if(A[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));A[c.R][d]=h}),A},[])}}function aj(t,e,r){var n,i=As(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(vi(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(vi(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=Ur(s);var A=As(i[4][0].data),c=P_(t,t[il(A[4][0].data)][0]),h=(n=A[17])!=null&&n[0]?P_(t,t[il(A[17][0].data)][0]):[],d=As(A[3][0].data),x=0;d[1].forEach(function(C){var B=As(C.data),F=t[il(B[2][0].data)][0],D=vi(F.meta[1][0].data);if(D!=6002)throw new Error("6001 unexpected reference to ".concat(D));var R=sj(t,F);R.data.forEach(function(k,j){k.forEach(function(G,Q){var ee=Ar({r:x+j,c:Q}),ne=nj(G,c,h);ne&&(r[ee]=ne)})}),x+=R.nrows})}function oj(t,e){var r=As(e.data),n={"!ref":"A1"},i=t[il(r[2][0].data)],s=vi(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return aj(t,i[0],n),n}function Aj(t,e){var r,n=As(e.data),i={name:(r=n[1])!=null&&r[0]?a2(n[1][0].data):"",sheets:[]},s=_w(n[2],il);return s.forEach(function(A){t[A].forEach(function(c){var h=vi(c.meta[1][0].data);h==6e3&&i.sheets.push(oj(t,c))})}),i}function lj(t,e){var r=Sw(),n=As(e.data),i=_w(n[1],il);if(i.forEach(function(s){t[s].forEach(function(A){var c=vi(A.meta[1][0].data);if(c==2){var h=Aj(t,A);h.sheets.forEach(function(d,x){Iw(r,d,x==0?h.name:h.name+"_"+x,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function cx(t){var e,r,n,i,s={},A=[];if(t.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)){var d;try{d=ej(h.content)}catch(C){return console.log("?? "+h.content.length+" "+(C.message||C))}var x;try{x=ZV(d)}catch(C){return console.log("## "+(C.message||C))}x.forEach(function(C){s[C.id]=C.messages,A.push(C.id)})}}),!A.length)throw new Error("File has no messages");var c=((i=(n=(r=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&vi(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||A.forEach(function(h){s[h].forEach(function(d){var x=vi(d.meta[1][0].data)>>>0;if(x==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return lj(s,c)}function cj(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Tw(t){cj([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function uj(t){return du.WS.indexOf(t)>-1?"sheet":t==du.CS?"chart":t==du.DS?"dialog":t==du.MS?"macro":t&&t.length?t:"sheet"}function fj(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,uj(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function dj(t,e,r,n,i,s,A,c,h,d,x,C){try{s[n]=af(ua(t,r,!0),e);var B=ci(t,e),F;switch(c){case"sheet":F=wV(B,e,i,h,s[n],d,x,C);break;case"chart":if(F=vV(B,e,i,h,s[n],d,x,C),!F||!F["!drawel"])break;var D=j0(F["!drawel"].Target,e),R=t2(D),k=x7(ua(t,D,!0),af(ua(t,R,!0),D)),j=j0(k,D),G=t2(j);F=rV(ua(t,j,!0),j,h,af(ua(t,G,!0),j),d,F);break;case"macro":F=yV(B,e,i,h,s[n],d,x,C);break;case"dialog":F=CV(B,e,i,h,s[n],d,x,C);break;default:throw new Error("Unrecognized sheet type "+c)}A[n]=F;var Q=[];s&&s[n]&&Co(s[n]).forEach(function(ee){var ne="";if(s[n][ee].Type==du.CMNT){ne=j0(s[n][ee].Target,e);var te=TV(ci(t,ne,!0),ne,h);if(!te||!te.length)return;__(F,te,!1)}s[n][ee].Type==du.TCMNT&&(ne=j0(s[n][ee].Target,e),Q=Q.concat(v7(ci(t,ne,!0),h)))}),Q&&Q.length&&__(F,Q,!0,h.people||[])}catch(ee){if(h.WTF)throw ee}}function Sa(t){return t.charAt(0)=="/"?t.slice(1):t}function hj(t,e){if(rI(),e=e||{},Tw(e),Fa(t,"META-INF/manifest.xml")||Fa(t,"objectdata.xml"))return O_(t,e);if(Fa(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof cx<"u"){if(t.FileIndex)return cx(t);var r=Dr.utils.cfb_new();return ZB(t).forEach(function(Me){gO(r,Me,hO(t,Me))}),cx(r)}throw new Error("Unsupported NUMBERS file")}if(!Fa(t,"[Content_Types].xml"))throw Fa(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Fa(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=ZB(t),i=cL(ua(t,"[Content_Types].xml")),s=!1,A,c;if(i.workbooks.length===0&&(c="xl/workbook.xml",ci(t,c,!0)&&i.workbooks.push(c)),i.workbooks.length===0){if(c="xl/workbook.bin",!ci(t,c,!0))throw new Error("Could not find workbook");i.workbooks.push(c),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var h={},d={};if(!e.bookSheets&&!e.bookProps){if(lf=[],i.sst)try{lf=_V(ci(t,Sa(i.sst)),i.sst,e)}catch(Me){if(e.WTF)throw Me}e.cellStyles&&i.themes.length&&(h=BV(ua(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(d=EV(ci(t,Sa(i.style)),i.style,h,e))}i.links.map(function(Me){try{var ye=af(ua(t,t2(Sa(Me))),Me);return SV(ci(t,Sa(Me)),ye,Me,e)}catch{}});var x=xV(ci(t,Sa(i.workbooks[0])),i.workbooks[0],e),C={},B="";i.coreprops.length&&(B=ci(t,Sa(i.coreprops[0]),!0),B&&(C=FI(B)),i.extprops.length!==0&&(B=ci(t,Sa(i.extprops[0]),!0),B&&gL(B,C,e)));var F={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(B=ua(t,Sa(i.custprops[0]),!0),B&&(F=mL(B,e)));var D={};if((e.bookSheets||e.bookProps)&&(x.Sheets?A=x.Sheets.map(function(ye){return ye.name}):C.Worksheets&&C.SheetNames.length>0&&(A=C.SheetNames),e.bookProps&&(D.Props=C,D.Custprops=F),e.bookSheets&&typeof A<"u"&&(D.SheetNames=A),e.bookSheets?D.SheetNames:e.bookProps))return D;A={};var R={};e.bookDeps&&i.calcchain&&(R=bV(ci(t,Sa(i.calcchain)),i.calcchain));var k=0,j={},G,Q;{var ee=x.Sheets;C.Worksheets=ee.length,C.SheetNames=[];for(var ne=0;ne!=ee.length;++ne)C.SheetNames[ne]=ee[ne].name}var te=s?"bin":"xml",M=i.workbooks[0].lastIndexOf("/"),H=(i.workbooks[0].slice(0,M+1)+"_rels/"+i.workbooks[0].slice(M+1)+".rels").replace(/^\//,"");Fa(t,H)||(H="xl/_rels/workbook."+te+".rels");var O=af(ua(t,H,!0),H.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=IV(ci(t,Sa(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=y7(ci(t,Sa(i.people[0])),e)),O&&(O=fj(O,x.Sheets));var z=ci(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(k=0;k!=C.Worksheets;++k){var J="sheet";if(O&&O[k]?(G="xl/"+O[k][1].replace(/[\/]?xl\//,""),Fa(t,G)||(G=O[k][1]),Fa(t,G)||(G=H.replace(/_rels\/.*$/,"")+O[k][1]),J=O[k][2]):(G="xl/worksheets/sheet"+(k+1-z)+"."+te,G=G.replace(/sheet0\./,"sheet.")),Q=G.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(k!=e.sheets)continue e;break;case"string":if(C.SheetNames[k].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var W=!1,X=0;X!=e.sheets.length;++X)typeof e.sheets[X]=="number"&&e.sheets[X]==k&&(W=1),typeof e.sheets[X]=="string"&&e.sheets[X].toLowerCase()==C.SheetNames[k].toLowerCase()&&(W=1);if(!W)continue e}}dj(t,G,Q,C.SheetNames[k],k,j,A,J,e,x,h,d)}return D={Directory:i,Workbook:x,Props:C,Custprops:F,Deps:R,Sheets:A,SheetNames:C.SheetNames,Strings:lf,Styles:d,Themes:h,SSF:Ki(gr)},e&&e.bookFiles&&(t.files?(D.keys=n,D.files=t.files):(D.keys=[],D.files={},t.FullPaths.forEach(function(Me,ye){Me=Me.replace(/^Root Entry[\/]/,""),D.keys.push(Me),D.files[Me]=t.FileIndex[ye]}))),e&&e.bookVBA&&(i.vba.length>0?D.vbaraw=ci(t,Sa(i.vba[0]),!0):i.defaults&&i.defaults.bin===_7&&(D.vbaraw=ci(t,"xl/vbaProject.bin",!0))),D}function gj(t,e){var r=e||{},n="Workbook",i=Dr.find(t,n);try{if(n="/!DataSpaces/Version",i=Dr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(oQ(i.content),n="/!DataSpaces/DataSpaceMap",i=Dr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=lQ(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Dr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var A=cQ(i.content);if(A.length!=1||A[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Dr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);fQ(i.content)}catch{}if(n="/EncryptionInfo",i=Dr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var c=dQ(i.content);if(n="/EncryptedPackage",i=Dr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],i.content,r.password||"",r);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function bw(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=ha(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function pj(t,e){return Dr.find(t,"EncryptedPackage")?gj(t,e):g3(t,e)}function mj(t,e){var r,n=t,i=e||{};return i.type||(i.type=Nr&&Buffer.isBuffer(t)?"buffer":"base64"),r=AI(n,i),hj(r,i)}function w3(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return i2(t.slice(r),e);default:break e}return Bf.to_workbook(t,e)}function xj(t,e){var r="",n=bw(t,e);switch(e.type){case"base64":r=ha(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=ic(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=xn(r)),e.type="binary",w3(r,e)}function wj(t,e){var r=t;return e.type=="base64"&&(r=ha(r)),r=vf.utils.decode(1200,r.slice(2),"str"),e.type="binary",w3(r,e)}function vj(t){return t.match(/[^\x00-\x7F]/)?G0(t):t}function ux(t,e,r,n){return n?(r.type="string",Bf.to_workbook(t,r)):Bf.to_workbook(e,r)}function A2(t,e){GS();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return A2(new Uint8Array(t),(r=Ki(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),vu={},r.dateNF&&(vu.dateNF=r.dateNF),r.type||(r.type=Nr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=Nr?"buffer":"binary",n=oO(t),typeof Uint8Array<"u"&&!Nr&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=vj(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var A=new ArrayBuffer(3),c=new Uint8Array(A);if(c.foo="bar",!c.foo)return r=Ki(r),r.type="array",A2(sw(n),r)}switch((i=bw(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return pj(Dr.read(n,r),r);break;case 9:if(i[1]<=8)return g3(n,r);break;case 60:return i2(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return X9(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return z9.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?mj(n,r):ux(t,n,r,s);case 239:return i[3]===60?i2(n,r):ux(t,n,r,s);case 255:if(i[1]===254)return wj(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Af.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Af.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return B_.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return _Q.to_workbook(n,r);break;case 10:case 13:case 32:return xj(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return G9.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?B_.to_workbook(n,r):ux(t,n,r,s)}function yj(t,e,r,n,i,s,A,c){var h=zi(r),d=c.defval,x=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),C=!0,B=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(B,"__rowNum__",{value:r,enumerable:!1})}catch{B.__rowNum__=r}else B.__rowNum__=r;if(!A||t[r])for(var F=e.s.c;F<=e.e.c;++F){var D=A?t[r][F]:t[n[F]+h];if(D===void 0||D.t===void 0){if(d===void 0)continue;s[F]!=null&&(B[s[F]]=d);continue}var R=D.v;switch(D.t){case"z":if(R==null)break;continue;case"e":R=R==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+D.t)}if(s[F]!=null){if(R==null)if(D.t=="e"&&R===null)B[s[F]]=null;else if(d!==void 0)B[s[F]]=d;else if(x&&R===null)B[s[F]]=null;else continue;else B[s[F]]=x&&(D.t!=="n"||D.t==="n"&&c.rawNumbers!==!1)?R:oA(D,R,c);R!=null&&(C=!1)}}return{row:B,isempty:C}}function l2(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],A=0,c="",h={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},x=d.range!=null?d.range:t["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof x){case"string":h=Kn(x);break;case"number":h=Kn(t["!ref"]),h.s.r=x;break;default:h=x}n>0&&(i=0);var C=zi(h.s.r),B=[],F=[],D=0,R=0,k=Array.isArray(t),j=h.s.r,G=0,Q={};k&&!t[j]&&(t[j]=[]);var ee=d.skipHidden&&t["!cols"]||[],ne=d.skipHidden&&t["!rows"]||[];for(G=h.s.c;G<=h.e.c;++G)if(!(ee[G]||{}).hidden)switch(B[G]=wi(G),r=k?t[j][G]:t[B[G]+C],n){case 1:s[G]=G-h.s.c;break;case 2:s[G]=B[G];break;case 3:s[G]=d.header[G-h.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=A=oA(r,null,d),R=Q[A]||0,!R)Q[A]=1;else{do c=A+"_"+R++;while(Q[c]);Q[A]=R,Q[c]=1}s[G]=c}for(j=h.s.r+i;j<=h.e.r;++j)if(!(ne[j]||{}).hidden){var te=yj(t,h,j,B,n,s,k,d);(te.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(F[D++]=te.row)}return F.length=D,F}var H_=/"/g;function Cj(t,e,r,n,i,s,A,c){for(var h=!0,d=[],x="",C=zi(r),B=e.s.c;B<=e.e.c;++B)if(n[B]){var F=c.dense?(t[r]||[])[B]:t[n[B]+C];if(F==null)x="";else if(F.v!=null){h=!1,x=""+(c.rawNumbers&&F.t=="n"?F.v:oA(F,null,c));for(var D=0,R=0;D!==x.length;++D)if((R=x.charCodeAt(D))===i||R===s||R===34||c.forceQuotes){x='"'+x.replace(H_,'""')+'"';break}x=="ID"&&(x='"ID"')}else F.f!=null&&!F.F?(h=!1,x="="+F.f,x.indexOf(",")>=0&&(x='"'+x.replace(H_,'""')+'"')):x="";d.push(x)}return c.blankrows===!1&&h?null:d.join(A)}function v3(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Kn(t["!ref"]),s=n.FS!==void 0?n.FS:",",A=s.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,h=c.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),x="",C=[];n.dense=Array.isArray(t);for(var B=n.skipHidden&&t["!cols"]||[],F=n.skipHidden&&t["!rows"]||[],D=i.s.c;D<=i.e.c;++D)(B[D]||{}).hidden||(C[D]=wi(D));for(var R=0,k=i.s.r;k<=i.e.r;++k)(F[k]||{}).hidden||(x=Cj(t,i,k,C,A,h,s,n),x!=null&&(n.strip&&(x=x.replace(d,"")),(x||n.blankrows!==!1)&&r.push((R++?c:"")+x)));return delete n.dense,r.join("")}function Ej(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=v3(t,e);return r}function Bj(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Kn(t["!ref"]),s="",A=[],c,h=[],d=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)A[c]=wi(c);for(var x=i.s.r;x<=i.e.r;++x)for(s=zi(x),c=i.s.c;c<=i.e.c;++c)if(e=A[c]+s,r=d?(t[x]||[])[c]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}h[h.length]=e+"="+n}return h}function y3(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},A=0,c=0;if(s&&n.origin!=null)if(typeof n.origin=="number")A=n.origin;else{var h=typeof n.origin=="string"?Es(n.origin):n.origin;A=h.r,c=h.c}var d,x={s:{c:0,r:0},e:{c,r:A+e.length-1+i}};if(s["!ref"]){var C=Kn(s["!ref"]);x.e.c=Math.max(x.e.c,C.e.c),x.e.r=Math.max(x.e.r,C.e.r),A==-1&&(A=C.e.r+1,x.e.r=A+e.length-1+i)}else A==-1&&(A=0,x.e.r=e.length-1+i);var B=n.header||[],F=0;e.forEach(function(R,k){Co(R).forEach(function(j){(F=B.indexOf(j))==-1&&(B[F=B.length]=j);var G=R[j],Q="z",ee="",ne=Ar({c:c+F,r:A+k+i});d=Sf(s,ne),G&&typeof G=="object"&&!(G instanceof Date)?s[ne]=G:(typeof G=="number"?Q="n":typeof G=="boolean"?Q="b":typeof G=="string"?Q="s":G instanceof Date?(Q="d",n.cellDates||(Q="n",G=Ts(G)),ee=n.dateNF||gr[14]):G===null&&n.nullError&&(Q="e",G=0),d?(d.t=Q,d.v=G,delete d.w,delete d.R,ee&&(d.z=ee)):s[ne]=d={t:Q,v:G},ee&&(d.z=ee))})}),x.e.c=Math.max(x.e.c,c+B.length-1);var D=zi(A);if(i)for(F=0;F<B.length;++F)s[wi(F+c)+D]={t:"s",v:B[F]};return s["!ref"]=Ur(x),s}function _j(t,e){return y3(null,t,e)}function Sf(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Es(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Sf(t,Ar(e)):Sf(t,Ar({r:e,c:r||0}))}function Tj(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Sw(){return{SheetNames:[],Sheets:{}}}function Iw(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var A=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=A+i)!=-1;++i);}if(cV(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function bj(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=Tj(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function Sj(t,e){return t.z=e,t}function C3(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function Ij(t,e,r){return C3(t,"#"+e,r)}function Nj(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function Fj(t,e,r,n){for(var i=typeof e!="string"?e:Kn(e),s=typeof e=="string"?e:Ur(e),A=i.s.r;A<=i.e.r;++A)for(var c=i.s.c;c<=i.e.c;++c){var h=Sf(t,A,c);h.t="n",h.F=s,delete h.v,A==i.s.r&&c==i.s.c&&(h.f=r,n&&(h.D=!0))}return t}var Rj={encode_col:wi,encode_row:zi,encode_cell:Ar,encode_range:Ur,decode_col:hw,decode_row:dw,split_cell:jO,decode_cell:Es,decode_range:Mu,format_cell:oA,sheet_add_aoa:TI,sheet_add_json:y3,sheet_add_dom:p3,aoa_to_sheet:Ou,json_to_sheet:_j,table_to_sheet:m3,table_to_book:XV,sheet_to_csv:v3,sheet_to_txt:Ej,sheet_to_json:l2,sheet_to_html:WV,sheet_to_formulae:Bj,sheet_to_row_object_array:l2,sheet_get_cell:Sf,book_new:Sw,book_append_sheet:Iw,book_set_sheet_visibility:bj,cell_set_number_format:Sj,cell_set_hyperlink:C3,cell_set_internal_link:Ij,cell_add_comment:Nj,sheet_set_array_formula:Fj,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Mt;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Mt||(Mt={}));var V_=new Map([[Mt.QR_CODE,"QR_CODE"],[Mt.AZTEC,"AZTEC"],[Mt.CODABAR,"CODABAR"],[Mt.CODE_39,"CODE_39"],[Mt.CODE_93,"CODE_93"],[Mt.CODE_128,"CODE_128"],[Mt.DATA_MATRIX,"DATA_MATRIX"],[Mt.MAXICODE,"MAXICODE"],[Mt.ITF,"ITF"],[Mt.EAN_13,"EAN_13"],[Mt.EAN_8,"EAN_8"],[Mt.PDF_417,"PDF_417"],[Mt.RSS_14,"RSS_14"],[Mt.RSS_EXPANDED,"RSS_EXPANDED"],[Mt.UPC_A,"UPC_A"],[Mt.UPC_E,"UPC_E"],[Mt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),j_;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(j_||(j_={}));function Dj(t){return Object.values(Mt).includes(t)}var D1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(D1||(D1={}));var Uj=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[D1.SCAN_TYPE_CAMERA,D1.SCAN_TYPE_FILE],t})(),E3=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!V_.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,V_.get(e))},t})(),G_=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),c2;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(c2||(c2={}));var kj=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:c2.UNKWOWN_ERROR}},t})(),Mj=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function tA(t){return typeof t>"u"||t===null}var hu=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),B3=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),A=Object.keys(e),c=0,h=A;c<h.length;c++){var d=h[c];if(s.has(d))return r.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},t})(),K0={exports:{}},Oj=K0.exports,K_;function Lj(){return K_||(K_=1,(function(t,e){(function(r,n){n(e)})(Oj,(function(r){function n(q){return q==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,o){q.__proto__=o}||function(q,o){for(var u in o)o.hasOwnProperty(u)&&(q[u]=o[u])};function s(q,o){i(q,o);function u(){this.constructor=q}q.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}function A(q,o){var u=Object.setPrototypeOf;u?u(q,o):q.__proto__=o}function c(q,o){o===void 0&&(o=q.constructor);var u=Error.captureStackTrace;u&&u(q,o)}var h=(function(q){s(o,q);function o(u){var f=this.constructor,m=q.call(this,u)||this;return Object.defineProperty(m,"name",{value:f.name,enumerable:!1}),A(m,f.prototype),c(m),m}return o})(Error);class d extends h{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}d.kind="Exception";class x extends d{}x.kind="ArgumentException";class C extends d{}C.kind="IllegalArgumentException";class B{constructor(o){if(this.binarizer=o,o===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,u){return this.binarizer.getBlackRow(o,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,u,f,m){const w=this.binarizer.getLuminanceSource().crop(o,u,f,m);return new B(this.binarizer.createBinarizer(w))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new B(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new B(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class F extends d{static getChecksumInstance(){return new F}}F.kind="ChecksumException";class D{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(o,u,f,m,w){for(;w--;)f[m++]=o[u++]}static currentTimeMillis(){return Date.now()}}class k extends d{}k.kind="IndexOutOfBoundsException";class j extends k{constructor(o=void 0,u=void 0){super(u),this.index=o,this.message=u}}j.kind="ArrayIndexOutOfBoundsException";class G{static fill(o,u){for(let f=0,m=o.length;f<m;f++)o[f]=u}static fillWithin(o,u,f,m){G.rangeCheck(o.length,u,f);for(let w=u;w<f;w++)o[w]=m}static rangeCheck(o,u,f){if(u>f)throw new C("fromIndex("+u+") > toIndex("+f+")");if(u<0)throw new j(u);if(f>o)throw new j(f)}static asList(...o){return o}static create(o,u,f){return Array.from({length:o}).map(w=>Array.from({length:u}).fill(f))}static createInt32Array(o,u,f){return Array.from({length:o}).map(w=>Int32Array.from({length:u}).fill(f))}static equals(o,u){if(!o||!u||!o.length||!u.length||o.length!==u.length)return!1;for(let f=0,m=o.length;f<m;f++)if(o[f]!==u[f])return!1;return!0}static hashCode(o){if(o===null)return 0;let u=1;for(const f of o)u=31*u+f;return u}static fillUint8Array(o,u){for(let f=0;f!==o.length;f++)o[f]=u}static copyOf(o,u){return o.slice(0,u)}static copyOfUint8Array(o,u){if(o.length<=u){const f=new Uint8Array(u);return f.set(o),f}return o.slice(0,u)}static copyOfRange(o,u,f){const m=f-u,w=new Int32Array(m);return R.arraycopy(o,u,w,0,m),w}static binarySearch(o,u,f){f===void 0&&(f=G.numberComparator);let m=0,w=o.length-1;for(;m<=w;){const y=w+m>>1,_=f(u,o[y]);if(_>0)m=y+1;else if(_<0)w=y-1;else return y}return-m-1}static numberComparator(o,u){return o-u}}class Q{static numberOfTrailingZeros(o){let u;if(o===0)return 32;let f=31;return u=o<<16,u!==0&&(f-=16,o=u),u=o<<8,u!==0&&(f-=8,o=u),u=o<<4,u!==0&&(f-=4,o=u),u=o<<2,u!==0&&(f-=2,o=u),f-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let u=1;return o>>>16||(u+=16,o<<=16),o>>>24||(u+=8,o<<=8),o>>>28||(u+=4,o<<=4),o>>>30||(u+=2,o<<=2),u-=o>>>31,u}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,u){return Math.trunc(o/u)}static parseInt(o,u=void 0){return parseInt(o,u)}}Q.MIN_VALUE_32_BITS=-2147483648,Q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ee{constructor(o,u){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,u==null?this.bits=ee.makeArray(o):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const u=ee.makeArray(o);R.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const u=this.size;if(o>=u)return u;const f=this.bits;let m=Math.floor(o/32),w=f[m];w&=~((1<<(o&31))-1);const y=f.length;for(;w===0;){if(++m===y)return u;w=f[m]}const _=m*32+Q.numberOfTrailingZeros(w);return _>u?u:_}getNextUnset(o){const u=this.size;if(o>=u)return u;const f=this.bits;let m=Math.floor(o/32),w=~f[m];w&=~((1<<(o&31))-1);const y=f.length;for(;w===0;){if(++m===y)return u;w=~f[m]}const _=m*32+Q.numberOfTrailingZeros(w);return _>u?u:_}setBulk(o,u){this.bits[Math.floor(o/32)]=u}setRange(o,u){if(u<o||o<0||u>this.size)throw new C;if(u===o)return;u--;const f=Math.floor(o/32),m=Math.floor(u/32),w=this.bits;for(let y=f;y<=m;y++){const _=y>f?0:o&31,U=(2<<(y<m?31:u&31))-(1<<_);w[y]|=U}}clear(){const o=this.bits.length,u=this.bits;for(let f=0;f<o;f++)u[f]=0}isRange(o,u,f){if(u<o||o<0||u>this.size)throw new C;if(u===o)return!0;u--;const m=Math.floor(o/32),w=Math.floor(u/32),y=this.bits;for(let _=m;_<=w;_++){const I=_>m?0:o&31,P=(2<<(_<w?31:u&31))-(1<<I)&4294967295;if((y[_]&P)!==(f?P:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,u){if(u<0||u>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let f=u;f>0;f--)this.appendBit((o>>f-1&1)===1)}appendBitArray(o){const u=o.size;this.ensureCapacity(this.size+u);for(let f=0;f<u;f++)this.appendBit(o.get(f))}xor(o){if(this.size!==o.size)throw new C("Sizes don't match");const u=this.bits;for(let f=0,m=u.length;f<m;f++)u[f]^=o.bits[f]}toBytes(o,u,f,m){for(let w=0;w<m;w++){let y=0;for(let _=0;_<8;_++)this.get(o)&&(y|=1<<7-_),o++;u[f+w]=y}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),f=u+1,m=this.bits;for(let w=0;w<f;w++){let y=m[w];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,o[u-w]=y}if(this.size!==f*32){const w=f*32-this.size;let y=o[0]>>>w;for(let _=1;_<f;_++){const I=o[_];y|=I<<32-w,o[_-1]=y,y=I>>>w}o[f-1]=y}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof ee))return!1;const u=o;return this.size===u.size&&G.equals(this.bits,u.bits)}hashCode(){return 31*this.size+G.hashCode(this.bits)}toString(){let o="";for(let u=0,f=this.size;u<f;u++)(u&7)===0&&(o+=" "),o+=this.get(u)?"X":".";return o}clone(){return new ee(this.size,this.bits.slice())}}var ne;(function(q){q[q.OTHER=0]="OTHER",q[q.PURE_BARCODE=1]="PURE_BARCODE",q[q.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",q[q.TRY_HARDER=3]="TRY_HARDER",q[q.CHARACTER_SET=4]="CHARACTER_SET",q[q.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",q[q.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",q[q.ASSUME_GS1=7]="ASSUME_GS1",q[q.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",q[q.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",q[q.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ne||(ne={}));var te=ne;class M extends d{static getFormatInstance(){return new M}}M.kind="FormatException";var H;(function(q){q[q.Cp437=0]="Cp437",q[q.ISO8859_1=1]="ISO8859_1",q[q.ISO8859_2=2]="ISO8859_2",q[q.ISO8859_3=3]="ISO8859_3",q[q.ISO8859_4=4]="ISO8859_4",q[q.ISO8859_5=5]="ISO8859_5",q[q.ISO8859_6=6]="ISO8859_6",q[q.ISO8859_7=7]="ISO8859_7",q[q.ISO8859_8=8]="ISO8859_8",q[q.ISO8859_9=9]="ISO8859_9",q[q.ISO8859_10=10]="ISO8859_10",q[q.ISO8859_11=11]="ISO8859_11",q[q.ISO8859_13=12]="ISO8859_13",q[q.ISO8859_14=13]="ISO8859_14",q[q.ISO8859_15=14]="ISO8859_15",q[q.ISO8859_16=15]="ISO8859_16",q[q.SJIS=16]="SJIS",q[q.Cp1250=17]="Cp1250",q[q.Cp1251=18]="Cp1251",q[q.Cp1252=19]="Cp1252",q[q.Cp1256=20]="Cp1256",q[q.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",q[q.UTF8=22]="UTF8",q[q.ASCII=23]="ASCII",q[q.Big5=24]="Big5",q[q.GB18030=25]="GB18030",q[q.EUC_KR=26]="EUC_KR"})(H||(H={}));class O{constructor(o,u,f,...m){this.valueIdentifier=o,this.name=f,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=m,O.VALUE_IDENTIFIER_TO_ECI.set(o,this),O.NAME_TO_ECI.set(f,this);const w=this.values;for(let y=0,_=w.length;y!==_;y++){const I=w[y];O.VALUES_TO_ECI.set(I,this)}for(const y of m)O.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new M("incorect value");const u=O.VALUES_TO_ECI.get(o);if(u===void 0)throw new M("incorect value");return u}static getCharacterSetECIByName(o){const u=O.NAME_TO_ECI.get(o);if(u===void 0)throw new M("incorect value");return u}equals(o){if(!(o instanceof O))return!1;const u=o;return this.getName()===u.getName()}}O.VALUE_IDENTIFIER_TO_ECI=new Map,O.VALUES_TO_ECI=new Map,O.NAME_TO_ECI=new Map,O.Cp437=new O(H.Cp437,Int32Array.from([0,2]),"Cp437"),O.ISO8859_1=new O(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),O.ISO8859_2=new O(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),O.ISO8859_3=new O(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),O.ISO8859_4=new O(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),O.ISO8859_5=new O(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),O.ISO8859_6=new O(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),O.ISO8859_7=new O(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),O.ISO8859_8=new O(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),O.ISO8859_9=new O(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),O.ISO8859_10=new O(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),O.ISO8859_11=new O(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),O.ISO8859_13=new O(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),O.ISO8859_14=new O(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),O.ISO8859_15=new O(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),O.ISO8859_16=new O(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),O.SJIS=new O(H.SJIS,20,"SJIS","Shift_JIS"),O.Cp1250=new O(H.Cp1250,21,"Cp1250","windows-1250"),O.Cp1251=new O(H.Cp1251,22,"Cp1251","windows-1251"),O.Cp1252=new O(H.Cp1252,23,"Cp1252","windows-1252"),O.Cp1256=new O(H.Cp1256,24,"Cp1256","windows-1256"),O.UnicodeBigUnmarked=new O(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),O.UTF8=new O(H.UTF8,26,"UTF8","UTF-8"),O.ASCII=new O(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),O.Big5=new O(H.Big5,28,"Big5"),O.GB18030=new O(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),O.EUC_KR=new O(H.EUC_KR,30,"EUC_KR","EUC-KR");class z extends d{}z.kind="UnsupportedOperationException";class J{static decode(o,u){const f=this.encodingName(u);return this.customDecoder?this.customDecoder(o,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(o,f):new TextDecoder(f).decode(o)}static shouldDecodeOnFallback(o){return!J.isBrowser()&&o==="ISO-8859-1"}static encode(o,u){const f=this.encodingName(u);return this.customEncoder?this.customEncoder(o,f):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof O?o:O.getCharacterSetECIByName(o)}static decodeFallback(o,u){const f=this.encodingCharacterSet(u);if(J.isDecodeFallbackSupported(f)){let m="";for(let w=0,y=o.length;w<y;w++){let _=o[w].toString(16);_.length<2&&(_="0"+_),m+="%"+_}return decodeURIComponent(m)}if(f.equals(O.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new z(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(O.UTF8)||o.equals(O.ISO8859_1)||o.equals(O.ASCII)}static encodeFallback(o){const f=btoa(unescape(encodeURIComponent(o))).split(""),m=[];for(let w=0;w<f.length;w++)m.push(f[w].charCodeAt(0));return new Uint8Array(m)}}class W{static castAsNonUtf8Char(o,u=null){const f=u?u.getName():this.ISO88591;return J.decode(new Uint8Array([o]),f)}static guessEncoding(o,u){if(u!=null&&u.get(te.CHARACTER_SET)!==void 0)return u.get(te.CHARACTER_SET).toString();const f=o.length;let m=!0,w=!0,y=!0,_=0,I=0,U=0,P=0,Y=0,ie=0,ve=0,be=0,Ie=0,Oe=0,$e=0;const yt=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let vt=0;vt<f&&(m||w||y);vt++){const dt=o[vt]&255;y&&(_>0?(dt&128)===0?y=!1:_--:(dt&128)!==0&&((dt&64)===0?y=!1:(_++,(dt&32)===0?I++:(_++,(dt&16)===0?U++:(_++,(dt&8)===0?P++:y=!1))))),m&&(dt>127&&dt<160?m=!1:dt>159&&(dt<192||dt===215||dt===247)&&$e++),w&&(Y>0?dt<64||dt===127||dt>252?w=!1:Y--:dt===128||dt===160||dt>239?w=!1:dt>160&&dt<224?(ie++,be=0,ve++,ve>Ie&&(Ie=ve)):dt>127?(Y++,ve=0,be++,be>Oe&&(Oe=be)):(ve=0,be=0))}return y&&_>0&&(y=!1),w&&Y>0&&(w=!1),y&&(yt||I+U+P>0)?W.UTF8:w&&(W.ASSUME_SHIFT_JIS||Ie>=3||Oe>=3)?W.SHIFT_JIS:m&&w?Ie===2&&ie===2||$e*10>=f?W.SHIFT_JIS:W.ISO88591:m?W.ISO88591:w?W.SHIFT_JIS:y?W.UTF8:W.PLATFORM_DEFAULT_ENCODING}static format(o,...u){let f=-1;function m(y,_,I,U,P,Y){if(y==="%%")return"%";if(u[++f]===void 0)return;y=U?parseInt(U.substr(1)):void 0;let ie=P?parseInt(P.substr(1)):void 0,ve;switch(Y){case"s":ve=u[f];break;case"c":ve=u[f][0];break;case"f":ve=parseFloat(u[f]).toFixed(y);break;case"p":ve=parseFloat(u[f]).toPrecision(y);break;case"e":ve=parseFloat(u[f]).toExponential(y);break;case"x":ve=parseInt(u[f]).toString(ie||16);break;case"d":ve=parseFloat(parseInt(u[f],ie||10).toPrecision(y)).toFixed(0);break}ve=typeof ve=="object"?JSON.stringify(ve):(+ve).toString(ie);let be=parseInt(I),Ie=I&&I[0]+""=="0"?"0":" ";for(;ve.length<be;)ve=_!==void 0?ve+Ie:Ie+ve;return ve}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(w,m)}static getBytes(o,u){return J.encode(o,u)}static getCharCode(o,u=0){return o.charCodeAt(u)}static getCharAt(o){return String.fromCharCode(o)}}W.SHIFT_JIS=O.SJIS.getName(),W.GB2312="GB2312",W.ISO88591=O.ISO8859_1.getName(),W.EUC_JP="EUC_JP",W.UTF8=O.UTF8.getName(),W.PLATFORM_DEFAULT_ENCODING=W.UTF8,W.ASSUME_SHIFT_JIS=!1;class X{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=W.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,u,f){for(let m=u;u<u+f;m++)this.append(o[m]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+1)}substring(o,u){return this.value.substring(o,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+u.length)}}class Me{constructor(o,u,f,m){if(this.width=o,this.height=u,this.rowSize=f,this.bits=m,u==null&&(u=o),this.height=u,o<1||u<1)throw new C("Both dimensions must be greater than 0");f==null&&(f=Math.floor((o+31)/32)),this.rowSize=f,m==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const u=o.length,f=o[0].length,m=new Me(f,u);for(let w=0;w<u;w++){const y=o[w];for(let _=0;_<f;_++)y[_]&&m.set(_,w)}return m}static parseFromString(o,u,f){if(o===null)throw new C("stringRepresentation cannot be null");const m=new Array(o.length);let w=0,y=0,_=-1,I=0,U=0;for(;U<o.length;)if(o.charAt(U)===`
`||o.charAt(U)==="\r"){if(w>y){if(_===-1)_=w-y;else if(w-y!==_)throw new C("row lengths do not match");y=w,I++}U++}else if(o.substring(U,U+u.length)===u)U+=u.length,m[w]=!0,w++;else if(o.substring(U,U+f.length)===f)U+=f.length,m[w]=!1,w++;else throw new C("illegal character encountered: "+o.substring(U));if(w>y){if(_===-1)_=w-y;else if(w-y!==_)throw new C("row lengths do not match");I++}const P=new Me(_,I);for(let Y=0;Y<w;Y++)m[Y]&&P.set(Math.floor(Y%_),Math.floor(Y/_));return P}get(o,u){const f=u*this.rowSize+Math.floor(o/32);return(this.bits[f]>>>(o&31)&1)!==0}set(o,u){const f=u*this.rowSize+Math.floor(o/32);this.bits[f]|=1<<(o&31)&4294967295}unset(o,u){const f=u*this.rowSize+Math.floor(o/32);this.bits[f]&=~(1<<(o&31)&4294967295)}flip(o,u){const f=u*this.rowSize+Math.floor(o/32);this.bits[f]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new C("input matrix dimensions do not match");const u=new ee(Math.floor(this.width/32)+1),f=this.rowSize,m=this.bits;for(let w=0,y=this.height;w<y;w++){const _=w*f,I=o.getRow(w,u).getBitArray();for(let U=0;U<f;U++)m[_+U]^=I[U]}}clear(){const o=this.bits,u=o.length;for(let f=0;f<u;f++)o[f]=0}setRegion(o,u,f,m){if(u<0||o<0)throw new C("Left and top must be nonnegative");if(m<1||f<1)throw new C("Height and width must be at least 1");const w=o+f,y=u+m;if(y>this.height||w>this.width)throw new C("The region must fit inside the matrix");const _=this.rowSize,I=this.bits;for(let U=u;U<y;U++){const P=U*_;for(let Y=o;Y<w;Y++)I[P+Math.floor(Y/32)]|=1<<(Y&31)&4294967295}}getRow(o,u){u==null||u.getSize()<this.width?u=new ee(this.width):u.clear();const f=this.rowSize,m=this.bits,w=o*f;for(let y=0;y<f;y++)u.setBulk(y*32,m[w+y]);return u}setRow(o,u){R.arraycopy(u.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),u=this.getHeight();let f=new ee(o),m=new ee(o);for(let w=0,y=Math.floor((u+1)/2);w<y;w++)f=this.getRow(w,f),m=this.getRow(u-1-w,m),f.reverse(),m.reverse(),this.setRow(w,m),this.setRow(u-1-w,f)}getEnclosingRectangle(){const o=this.width,u=this.height,f=this.rowSize,m=this.bits;let w=o,y=u,_=-1,I=-1;for(let U=0;U<u;U++)for(let P=0;P<f;P++){const Y=m[U*f+P];if(Y!==0){if(U<y&&(y=U),U>I&&(I=U),P*32<w){let ie=0;for(;(Y<<31-ie&4294967295)===0;)ie++;P*32+ie<w&&(w=P*32+ie)}if(P*32+31>_){let ie=31;for(;!(Y>>>ie);)ie--;P*32+ie>_&&(_=P*32+ie)}}}return _<w||I<y?null:Int32Array.from([w,y,_-w+1,I-y+1])}getTopLeftOnBit(){const o=this.rowSize,u=this.bits;let f=0;for(;f<u.length&&u[f]===0;)f++;if(f===u.length)return null;const m=f/o;let w=f%o*32;const y=u[f];let _=0;for(;(y<<31-_&4294967295)===0;)_++;return w+=_,Int32Array.from([w,m])}getBottomRightOnBit(){const o=this.rowSize,u=this.bits;let f=u.length-1;for(;f>=0&&u[f]===0;)f--;if(f<0)return null;const m=Math.floor(f/o);let w=Math.floor(f%o)*32;const y=u[f];let _=31;for(;!(y>>>_);)_--;return w+=_,Int32Array.from([w,m])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof Me))return!1;const u=o;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&G.equals(this.bits,u.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+G.hashCode(this.bits),o}toString(o="X ",u="  ",f=`
`){return this.buildToString(o,u,f)}buildToString(o,u,f){let m=new X;for(let w=0,y=this.height;w<y;w++){for(let _=0,I=this.width;_<I;_++)m.append(this.get(_,w)?o:u);m.append(f)}return m.toString()}clone(){return new Me(this.width,this.height,this.rowSize,this.bits.slice())}}class ye extends d{static getNotFoundInstance(){return new ye}}ye.kind="NotFoundException";class we extends D{constructor(o){super(o),this.luminances=we.EMPTY,this.buckets=new Int32Array(we.LUMINANCE_BUCKETS)}getBlackRow(o,u){const f=this.getLuminanceSource(),m=f.getWidth();u==null||u.getSize()<m?u=new ee(m):u.clear(),this.initArrays(m);const w=f.getRow(o,this.luminances),y=this.buckets;for(let I=0;I<m;I++)y[(w[I]&255)>>we.LUMINANCE_SHIFT]++;const _=we.estimateBlackPoint(y);if(m<3)for(let I=0;I<m;I++)(w[I]&255)<_&&u.set(I);else{let I=w[0]&255,U=w[1]&255;for(let P=1;P<m-1;P++){const Y=w[P+1]&255;(U*4-I-Y)/2<_&&u.set(P),I=U,U=Y}}return u}getBlackMatrix(){const o=this.getLuminanceSource(),u=o.getWidth(),f=o.getHeight(),m=new Me(u,f);this.initArrays(u);const w=this.buckets;for(let I=1;I<5;I++){const U=Math.floor(f*I/5),P=o.getRow(U,this.luminances),Y=Math.floor(u*4/5);for(let ie=Math.floor(u/5);ie<Y;ie++){const ve=P[ie]&255;w[ve>>we.LUMINANCE_SHIFT]++}}const y=we.estimateBlackPoint(w),_=o.getMatrix();for(let I=0;I<f;I++){const U=I*u;for(let P=0;P<u;P++)(_[U+P]&255)<y&&m.set(P,I)}return m}createBinarizer(o){return new we(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const u=this.buckets;for(let f=0;f<we.LUMINANCE_BUCKETS;f++)u[f]=0}static estimateBlackPoint(o){const u=o.length;let f=0,m=0,w=0;for(let P=0;P<u;P++)o[P]>w&&(m=P,w=o[P]),o[P]>f&&(f=o[P]);let y=0,_=0;for(let P=0;P<u;P++){const Y=P-m,ie=o[P]*Y*Y;ie>_&&(y=P,_=ie)}if(m>y){const P=m;m=y,y=P}if(y-m<=u/16)throw new ye;let I=y-1,U=-1;for(let P=y-1;P>m;P--){const Y=P-m,ie=Y*Y*(y-P)*(f-o[P]);ie>U&&(I=P,U=ie)}return I<<we.LUMINANCE_SHIFT}}we.LUMINANCE_BITS=5,we.LUMINANCE_SHIFT=8-we.LUMINANCE_BITS,we.LUMINANCE_BUCKETS=1<<we.LUMINANCE_BITS,we.EMPTY=Uint8ClampedArray.from([0]);class ce extends we{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),u=o.getWidth(),f=o.getHeight();if(u>=ce.MINIMUM_DIMENSION&&f>=ce.MINIMUM_DIMENSION){const m=o.getMatrix();let w=u>>ce.BLOCK_SIZE_POWER;(u&ce.BLOCK_SIZE_MASK)!==0&&w++;let y=f>>ce.BLOCK_SIZE_POWER;(f&ce.BLOCK_SIZE_MASK)!==0&&y++;const _=ce.calculateBlackPoints(m,w,y,u,f),I=new Me(u,f);ce.calculateThresholdForBlock(m,w,y,u,f,_,I),this.matrix=I}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ce(o)}static calculateThresholdForBlock(o,u,f,m,w,y,_){const I=w-ce.BLOCK_SIZE,U=m-ce.BLOCK_SIZE;for(let P=0;P<f;P++){let Y=P<<ce.BLOCK_SIZE_POWER;Y>I&&(Y=I);const ie=ce.cap(P,2,f-3);for(let ve=0;ve<u;ve++){let be=ve<<ce.BLOCK_SIZE_POWER;be>U&&(be=U);const Ie=ce.cap(ve,2,u-3);let Oe=0;for(let yt=-2;yt<=2;yt++){const vt=y[ie+yt];Oe+=vt[Ie-2]+vt[Ie-1]+vt[Ie]+vt[Ie+1]+vt[Ie+2]}const $e=Oe/25;ce.thresholdBlock(o,be,Y,$e,m,_)}}}static cap(o,u,f){return o<u?u:o>f?f:o}static thresholdBlock(o,u,f,m,w,y){for(let _=0,I=f*w+u;_<ce.BLOCK_SIZE;_++,I+=w)for(let U=0;U<ce.BLOCK_SIZE;U++)(o[I+U]&255)<=m&&y.set(u+U,f+_)}static calculateBlackPoints(o,u,f,m,w){const y=w-ce.BLOCK_SIZE,_=m-ce.BLOCK_SIZE,I=new Array(f);for(let U=0;U<f;U++){I[U]=new Int32Array(u);let P=U<<ce.BLOCK_SIZE_POWER;P>y&&(P=y);for(let Y=0;Y<u;Y++){let ie=Y<<ce.BLOCK_SIZE_POWER;ie>_&&(ie=_);let ve=0,be=255,Ie=0;for(let $e=0,yt=P*m+ie;$e<ce.BLOCK_SIZE;$e++,yt+=m){for(let vt=0;vt<ce.BLOCK_SIZE;vt++){const dt=o[yt+vt]&255;ve+=dt,dt<be&&(be=dt),dt>Ie&&(Ie=dt)}if(Ie-be>ce.MIN_DYNAMIC_RANGE)for($e++,yt+=m;$e<ce.BLOCK_SIZE;$e++,yt+=m)for(let vt=0;vt<ce.BLOCK_SIZE;vt++)ve+=o[yt+vt]&255}let Oe=ve>>ce.BLOCK_SIZE_POWER*2;if(Ie-be<=ce.MIN_DYNAMIC_RANGE&&(Oe=be/2,U>0&&Y>0)){const $e=(I[U-1][Y]+2*I[U][Y-1]+I[U-1][Y-1])/4;be<$e&&(Oe=$e)}I[U][Y]=Oe}}return I}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class He{constructor(o,u){this.width=o,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,u,f,m){throw new z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new z("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let u=new X;for(let f=0;f<this.height;f++){const m=this.getRow(f,o);for(let w=0;w<this.width;w++){const y=m[w]&255;let _;y<64?_="#":y<128?_="+":y<192?_=".":_=" ",u.append(_)}u.append(`
`)}return u.toString()}}class Be extends He{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,u){const f=this.delegate.getRow(o,u),m=this.getWidth();for(let w=0;w<m;w++)f[w]=255-(f[w]&255);return f}getMatrix(){const o=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(u);for(let m=0;m<u;m++)f[m]=255-(o[m]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(o,u,f,m){return new Be(this.delegate.crop(o,u,f,m))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Be(this.delegate.rotateCounterClockwise45())}}class tt extends He{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=tt.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const u=o.getContext("2d").getImageData(0,0,o.width,o.height);return tt.toGrayscaleBuffer(u.data,o.width,o.height)}static toGrayscaleBuffer(o,u,f){const m=new Uint8ClampedArray(u*f);for(let w=0,y=0,_=o.length;w<_;w+=4,y++){let I;if(o[w+3]===0)I=255;else{const P=o[w],Y=o[w+1],ie=o[w+2];I=306*P+601*Y+117*ie+512>>10}m[y]=I}return m}getRow(o,u){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const f=this.getWidth(),m=o*f;return u===null?u=this.buffer.slice(m,m+f):(u.length<f&&(u=new Uint8ClampedArray(f)),u.set(this.buffer.slice(m,m+f))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,u,f,m){return super.crop(o,u,f,m),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const u=this.getTempCanvasElement(),f=u.getContext("2d"),m=o*tt.DEGREE_TO_RADIANS,w=this.canvas.width,y=this.canvas.height,_=Math.ceil(Math.abs(Math.cos(m))*w+Math.abs(Math.sin(m))*y),I=Math.ceil(Math.abs(Math.sin(m))*w+Math.abs(Math.cos(m))*y);return u.width=_,u.height=I,f.translate(_/2,I/2),f.rotate(m),f.drawImage(this.canvas,w/-2,y/-2),this.buffer=tt.makeBufferFromCanvasImageData(u),this}invert(){return new Be(this)}}tt.DEGREE_TO_RADIANS=Math.PI/180;class me{constructor(o,u,f){this.deviceId=o,this.label=u,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Z=(globalThis||sh||self||window||void 0)&&(globalThis||sh||self||window||void 0).__awaiter||function(q,o,u,f){function m(w){return w instanceof u?w:new u(function(y){y(w)})}return new(u||(u=Promise))(function(w,y){function _(P){try{U(f.next(P))}catch(Y){y(Y)}}function I(P){try{U(f.throw(P))}catch(Y){y(Y)}}function U(P){P.done?w(P.value):m(P.value).then(_,I)}U((f=f.apply(q,o||[])).next())})};class de{constructor(o,u=500,f){this.reader=o,this.timeBetweenScansMillis=u,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Z(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const f of o){const m=f.kind==="video"?"videoinput":f.kind;if(m!=="videoinput")continue;const w=f.deviceId||f.id,y=f.label||`Video device ${u.length+1}`,_=f.groupId,I={deviceId:w,label:y,kind:m,groupId:_};u.push(I)}return u})}getVideoInputDevices(){return Z(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new me(u.deviceId,u.label))})}findDeviceById(o){return Z(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(f=>f.deviceId===o):null})}decodeFromInputVideoDevice(o,u){return Z(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,u)})}decodeOnceFromVideoDevice(o,u){return Z(this,void 0,void 0,function*(){this.reset();let f;o?f={deviceId:{exact:o}}:f={facingMode:"environment"};const m={video:f};return yield this.decodeOnceFromConstraints(m,u)})}decodeOnceFromConstraints(o,u){return Z(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(f,u)})}decodeOnceFromStream(o,u){return Z(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(o,u);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(o,u,f){return Z(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,u,f)})}decodeFromVideoDevice(o,u,f){return Z(this,void 0,void 0,function*(){let m;o?m={deviceId:{exact:o}}:m={facingMode:"environment"};const w={video:m};return yield this.decodeFromConstraints(w,u,f)})}decodeFromConstraints(o,u,f){return Z(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(m,u,f)})}decodeFromStream(o,u,f){return Z(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(o,u);return yield this.decodeContinuously(m,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,u){return Z(this,void 0,void 0,function*(){const f=this.prepareVideoElement(u);return this.addVideoSource(f,o),this.videoElement=f,this.stream=o,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(o){return new Promise((u,f)=>this.playVideoOnLoad(o,()=>u()))}playVideoOnLoad(o,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",u),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Z(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,u){const f=document.getElementById(o);if(!f)throw new x(`element with id '${o}' not found`);if(f.nodeName.toLowerCase()!==u.toLowerCase())throw new x(`element with id '${o}' must be an ${u} element`);return f}decodeFromImage(o,u){if(!o&&!u)throw new x("either imageElement with a src set or an url must be provided");return u&&!o?this.decodeFromImageUrl(u):this.decodeFromImageElement(o)}decodeFromVideo(o,u){if(!o&&!u)throw new x("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,u,f){if(o===void 0&&u===void 0)throw new x("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrlContinuously(u,f):this.decodeFromVideoElementContinuously(o,f)}decodeFromImageElement(o){if(!o)throw new x("An image element must be provided.");this.reset();const u=this.prepareImageElement(o);this.imageElement=u;let f;return this.isImageLoaded(u)?f=this.decodeOnce(u,!1,!0):f=this._decodeOnLoadImage(u),f}decodeFromVideoElement(o){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(o,u){const f=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(f,u)}_decodeFromVideoElementSetup(o){if(!o)throw new x("A video element must be provided.");this.reset();const u=this.prepareVideoElement(o);return this.videoElement=u,u}decodeFromImageUrl(o){if(!o)throw new x("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const f=this._decodeOnLoadImage(u);return u.src=o,f}decodeFromVideoUrl(o){if(!o)throw new x("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),f=this.decodeFromVideoElement(u);return u.src=o,f}decodeFromVideoUrlContinuously(o,u){if(!o)throw new x("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),m=this.decodeFromVideoElementContinuously(f,u);return f.src=o,m}_decodeOnLoadImage(o){return new Promise((u,f)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(u,f),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Z(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,u){return Z(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,u)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let u;return typeof o>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(u=o),u}prepareVideoElement(o){let u;return!o&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(u=o),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(o,u=!0,f=!0){this._stopAsyncDecode=!1;const m=(w,y)=>{if(this._stopAsyncDecode){y(new ye("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const _=this.decode(o);w(_)}catch(_){const I=u&&_ instanceof ye,P=(_ instanceof F||_ instanceof M)&&f;if(I||P)return setTimeout(m,this._timeBetweenDecodingAttempts,w,y);y(_)}};return new Promise((w,y)=>m(w,y))}decodeContinuously(o,u){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const m=this.decode(o);u(m,null),setTimeout(f,this.timeBetweenScansMillis)}catch(m){u(null,m);const w=m instanceof F||m instanceof M,y=m instanceof ye;(w||y)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(o){const u=this.createBinaryBitmap(o);return this.decodeBitmap(u)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,u,f){u||(u={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(o,u,f=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const u=this.getCaptureCanvas(o),f=new tt(u),m=new ce(f);return new B(m)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const u=this.createCaptureCanvas(o);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let f,m;return typeof o<"u"&&(o instanceof HTMLVideoElement?(f=o.videoWidth,m=o.videoHeight):o instanceof HTMLImageElement&&(f=o.naturalWidth||o.width,m=o.naturalHeight||o.height)),u.style.width=f+"px",u.style.height=m+"px",u.width=f,u.height=m,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,u){try{o.srcObject=u}catch{o.src=URL.createObjectURL(u)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class fe{constructor(o,u,f=u==null?0:8*u.length,m,w,y=R.currentTimeMillis()){this.text=o,this.rawBytes=u,this.numBits=f,this.resultPoints=m,this.format=w,this.timestamp=y,this.text=o,this.rawBytes=u,f==null?this.numBits=u==null?0:8*u.length:this.numBits=f,this.resultPoints=m,this.format=w,this.resultMetadata=null,y==null?this.timestamp=R.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,u)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const u=this.resultPoints;if(u===null)this.resultPoints=o;else if(o!==null&&o.length>0){const f=new Array(u.length+o.length);R.arraycopy(u,0,f,0,u.length),R.arraycopy(o,0,f,u.length,o.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var oe;(function(q){q[q.AZTEC=0]="AZTEC",q[q.CODABAR=1]="CODABAR",q[q.CODE_39=2]="CODE_39",q[q.CODE_93=3]="CODE_93",q[q.CODE_128=4]="CODE_128",q[q.DATA_MATRIX=5]="DATA_MATRIX",q[q.EAN_8=6]="EAN_8",q[q.EAN_13=7]="EAN_13",q[q.ITF=8]="ITF",q[q.MAXICODE=9]="MAXICODE",q[q.PDF_417=10]="PDF_417",q[q.QR_CODE=11]="QR_CODE",q[q.RSS_14=12]="RSS_14",q[q.RSS_EXPANDED=13]="RSS_EXPANDED",q[q.UPC_A=14]="UPC_A",q[q.UPC_E=15]="UPC_E",q[q.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(oe||(oe={}));var xe=oe,Ye;(function(q){q[q.OTHER=0]="OTHER",q[q.ORIENTATION=1]="ORIENTATION",q[q.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",q[q.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",q[q.ISSUE_NUMBER=4]="ISSUE_NUMBER",q[q.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",q[q.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",q[q.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",q[q.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",q[q.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",q[q.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ye||(Ye={}));var Fe=Ye;class _e{constructor(o,u,f,m,w=-1,y=-1){this.rawBytes=o,this.text=u,this.byteSegments=f,this.ecLevel=m,this.structuredAppendSequenceNumber=w,this.structuredAppendParity=y,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Le{exp(o){return this.expTable[o]}log(o){if(o===0)throw new C;return this.logTable[o]}static addOrSubtract(o,u){return o^u}}class xt{constructor(o,u){if(u.length===0)throw new C;this.field=o;const f=u.length;if(f>1&&u[0]===0){let m=1;for(;m<f&&u[m]===0;)m++;m===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-m),R.arraycopy(u,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const u=this.coefficients;let f;if(o===1){f=0;for(let y=0,_=u.length;y!==_;y++){const I=u[y];f=Le.addOrSubtract(f,I)}return f}f=u[0];const m=u.length,w=this.field;for(let y=1;y<m;y++)f=Le.addOrSubtract(w.multiply(o,f),u[y]);return f}addOrSubtract(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,f=o.coefficients;if(u.length>f.length){const y=u;u=f,f=y}let m=new Int32Array(f.length);const w=f.length-u.length;R.arraycopy(f,0,m,0,w);for(let y=w;y<f.length;y++)m[y]=Le.addOrSubtract(u[y-w],f[y]);return new xt(this.field,m)}multiply(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const u=this.coefficients,f=u.length,m=o.coefficients,w=m.length,y=new Int32Array(f+w-1),_=this.field;for(let I=0;I<f;I++){const U=u[I];for(let P=0;P<w;P++)y[I+P]=Le.addOrSubtract(y[I+P],_.multiply(U,m[P]))}return new xt(_,y)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const u=this.coefficients.length,f=this.field,m=new Int32Array(u),w=this.coefficients;for(let y=0;y<u;y++)m[y]=f.multiply(w[y],o);return new xt(f,m)}multiplyByMonomial(o,u){if(o<0)throw new C;if(u===0)return this.field.getZero();const f=this.coefficients,m=f.length,w=new Int32Array(m+o),y=this.field;for(let _=0;_<m;_++)w[_]=y.multiply(f[_],u);return new xt(y,w)}divide(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new C("Divide by 0");const u=this.field;let f=u.getZero(),m=this;const w=o.getCoefficient(o.getDegree()),y=u.inverse(w);for(;m.getDegree()>=o.getDegree()&&!m.isZero();){const _=m.getDegree()-o.getDegree(),I=u.multiply(m.getCoefficient(m.getDegree()),y),U=o.multiplyByMonomial(_,I),P=u.buildMonomial(_,I);f=f.addOrSubtract(P),m=m.addOrSubtract(U)}return[f,m]}toString(){let o="";for(let u=this.getDegree();u>=0;u--){let f=this.getCoefficient(u);if(f!==0){if(f<0?(o+=" - ",f=-f):o.length>0&&(o+=" + "),u===0||f!==1){const m=this.field.log(f);m===0?o+="1":m===1?o+="a":(o+="a^",o+=m)}u!==0&&(u===1?o+="x":(o+="x^",o+=u))}}return o}}class pe extends d{}pe.kind="ArithmeticException";class St extends Le{constructor(o,u,f){super(),this.primitive=o,this.size=u,this.generatorBase=f;const m=new Int32Array(u);let w=1;for(let _=0;_<u;_++)m[_]=w,w*=2,w>=u&&(w^=o,w&=u-1);this.expTable=m;const y=new Int32Array(u);for(let _=0;_<u-1;_++)y[m[_]]=_;this.logTable=y,this.zero=new xt(this,Int32Array.from([0])),this.one=new xt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new C;if(u===0)return this.zero;const f=new Int32Array(o+1);return f[0]=u,new xt(this,f)}inverse(o){if(o===0)throw new pe;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Q.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}St.AZTEC_DATA_12=new St(4201,4096,1),St.AZTEC_DATA_10=new St(1033,1024,1),St.AZTEC_DATA_6=new St(67,64,1),St.AZTEC_PARAM=new St(19,16,1),St.QR_CODE_FIELD_256=new St(285,256,0),St.DATA_MATRIX_FIELD_256=new St(301,256,1),St.AZTEC_DATA_8=St.DATA_MATRIX_FIELD_256,St.MAXICODE_FIELD_64=St.AZTEC_DATA_6;class kt extends d{}kt.kind="ReedSolomonException";class Lt extends d{}Lt.kind="IllegalStateException";class Ne{constructor(o){this.field=o}decode(o,u){const f=this.field,m=new xt(f,o),w=new Int32Array(u);let y=!0;for(let ve=0;ve<u;ve++){const be=m.evaluateAt(f.exp(ve+f.getGeneratorBase()));w[w.length-1-ve]=be,be!==0&&(y=!1)}if(y)return;const _=new xt(f,w),I=this.runEuclideanAlgorithm(f.buildMonomial(u,1),_,u),U=I[0],P=I[1],Y=this.findErrorLocations(U),ie=this.findErrorMagnitudes(P,Y);for(let ve=0;ve<Y.length;ve++){const be=o.length-1-f.log(Y[ve]);if(be<0)throw new kt("Bad error location");o[be]=St.addOrSubtract(o[be],ie[ve])}}runEuclideanAlgorithm(o,u,f){if(o.getDegree()<u.getDegree()){const ve=o;o=u,u=ve}const m=this.field;let w=o,y=u,_=m.getZero(),I=m.getOne();for(;y.getDegree()>=(f/2|0);){let ve=w,be=_;if(w=y,_=I,w.isZero())throw new kt("r_{i-1} was zero");y=ve;let Ie=m.getZero();const Oe=w.getCoefficient(w.getDegree()),$e=m.inverse(Oe);for(;y.getDegree()>=w.getDegree()&&!y.isZero();){const yt=y.getDegree()-w.getDegree(),vt=m.multiply(y.getCoefficient(y.getDegree()),$e);Ie=Ie.addOrSubtract(m.buildMonomial(yt,vt)),y=y.addOrSubtract(w.multiplyByMonomial(yt,vt))}if(I=Ie.multiply(_).addOrSubtract(be),y.getDegree()>=w.getDegree())throw new Lt("Division algorithm failed to reduce polynomial?")}const U=I.getCoefficient(0);if(U===0)throw new kt("sigmaTilde(0) was zero");const P=m.inverse(U),Y=I.multiplyScalar(P),ie=y.multiplyScalar(P);return[Y,ie]}findErrorLocations(o){const u=o.getDegree();if(u===1)return Int32Array.from([o.getCoefficient(1)]);const f=new Int32Array(u);let m=0;const w=this.field;for(let y=1;y<w.getSize()&&m<u;y++)o.evaluateAt(y)===0&&(f[m]=w.inverse(y),m++);if(m!==u)throw new kt("Error locator degree does not match number of roots");return f}findErrorMagnitudes(o,u){const f=u.length,m=new Int32Array(f),w=this.field;for(let y=0;y<f;y++){const _=w.inverse(u[y]);let I=1;for(let U=0;U<f;U++)if(y!==U){const P=w.multiply(u[U],_),Y=(P&1)===0?P|1:P&-2;I=w.multiply(I,Y)}m[y]=w.multiply(o.evaluateAt(_),w.inverse(I)),w.getGeneratorBase()!==0&&(m[y]=w.multiply(m[y],_))}return m}}var Ue;(function(q){q[q.UPPER=0]="UPPER",q[q.LOWER=1]="LOWER",q[q.MIXED=2]="MIXED",q[q.DIGIT=3]="DIGIT",q[q.PUNCT=4]="PUNCT",q[q.BINARY=5]="BINARY"})(Ue||(Ue={}));class gt{decode(o){this.ddata=o;let u=o.getBits(),f=this.extractBits(u),m=this.correctBits(f),w=gt.convertBoolArrayToByteArray(m),y=gt.getEncodedData(m),_=new _e(w,y,null,null);return _.setNumBits(m.length),_}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let u=o.length,f=Ue.UPPER,m=Ue.UPPER,w="",y=0;for(;y<u;)if(m===Ue.BINARY){if(u-y<5)break;let _=gt.readCode(o,y,5);if(y+=5,_===0){if(u-y<11)break;_=gt.readCode(o,y,11)+31,y+=11}for(let I=0;I<_;I++){if(u-y<8){y=u;break}const U=gt.readCode(o,y,8);w+=W.castAsNonUtf8Char(U),y+=8}m=f}else{let _=m===Ue.DIGIT?4:5;if(u-y<_)break;let I=gt.readCode(o,y,_);y+=_;let U=gt.getCharacter(m,I);U.startsWith("CTRL_")?(f=m,m=gt.getTable(U.charAt(5)),U.charAt(6)==="L"&&(f=m)):(w+=U,m=f)}return w}static getTable(o){switch(o){case"L":return Ue.LOWER;case"P":return Ue.PUNCT;case"M":return Ue.MIXED;case"D":return Ue.DIGIT;case"B":return Ue.BINARY;case"U":default:return Ue.UPPER}}static getCharacter(o,u){switch(o){case Ue.UPPER:return gt.UPPER_TABLE[u];case Ue.LOWER:return gt.LOWER_TABLE[u];case Ue.MIXED:return gt.MIXED_TABLE[u];case Ue.PUNCT:return gt.PUNCT_TABLE[u];case Ue.DIGIT:return gt.DIGIT_TABLE[u];default:throw new Lt("Bad table")}}correctBits(o){let u,f;this.ddata.getNbLayers()<=2?(f=6,u=St.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,u=St.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,u=St.AZTEC_DATA_10):(f=12,u=St.AZTEC_DATA_12);let m=this.ddata.getNbDatablocks(),w=o.length/f;if(w<m)throw new M;let y=o.length%f,_=new Int32Array(w);for(let ie=0;ie<w;ie++,y+=f)_[ie]=gt.readCode(o,y,f);try{new Ne(u).decode(_,w-m)}catch(ie){throw new M(ie)}let I=(1<<f)-1,U=0;for(let ie=0;ie<m;ie++){let ve=_[ie];if(ve===0||ve===I)throw new M;(ve===1||ve===I-1)&&U++}let P=new Array(m*f-U),Y=0;for(let ie=0;ie<m;ie++){let ve=_[ie];if(ve===1||ve===I-1)P.fill(ve>1,Y,Y+f-1),Y+=f-1;else for(let be=f-1;be>=0;--be)P[Y++]=(ve&1<<be)!==0}return P}extractBits(o){let u=this.ddata.isCompact(),f=this.ddata.getNbLayers(),m=(u?11:14)+f*4,w=new Int32Array(m),y=new Array(this.totalBitsInLayer(f,u));if(u)for(let _=0;_<w.length;_++)w[_]=_;else{let _=m+1+2*Q.truncDivision(Q.truncDivision(m,2)-1,15),I=m/2,U=Q.truncDivision(_,2);for(let P=0;P<I;P++){let Y=P+Q.truncDivision(P,15);w[I-P-1]=U-Y-1,w[I+P]=U+Y+1}}for(let _=0,I=0;_<f;_++){let U=(f-_)*4+(u?9:12),P=_*2,Y=m-1-P;for(let ie=0;ie<U;ie++){let ve=ie*2;for(let be=0;be<2;be++)y[I+ve+be]=o.get(w[P+be],w[P+ie]),y[I+2*U+ve+be]=o.get(w[P+ie],w[Y-be]),y[I+4*U+ve+be]=o.get(w[Y-be],w[Y-ie]),y[I+6*U+ve+be]=o.get(w[Y-ie],w[P+be])}I+=U*8}return y}static readCode(o,u,f){let m=0;for(let w=u;w<u+f;w++)m<<=1,o[w]&&(m|=1);return m}static readByte(o,u){let f=o.length-u;return f>=8?gt.readCode(o,u,8):gt.readCode(o,u,f)<<8-f}static convertBoolArrayToByteArray(o){let u=new Uint8Array((o.length+7)/8);for(let f=0;f<u.length;f++)u[f]=gt.readByte(o,8*f);return u}totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}gt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],gt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],gt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],gt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],gt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Bt{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,u,f,m){const w=o-f,y=u-m;return Math.sqrt(w*w+y*y)}static sum(o){let u=0;for(let f=0,m=o.length;f!==m;f++){const w=o[f];u+=w}return u}}class ur{static floatToIntBits(o){return o}}ur.MAX_VALUE=Number.MAX_SAFE_INTEGER;class _t{constructor(o,u){this.x=o,this.y=u}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof _t){const u=o;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*ur.floatToIntBits(this.x)+ur.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const u=this.distance(o[0],o[1]),f=this.distance(o[1],o[2]),m=this.distance(o[0],o[2]);let w,y,_;if(f>=u&&f>=m?(y=o[0],w=o[1],_=o[2]):m>=f&&m>=u?(y=o[1],w=o[0],_=o[2]):(y=o[2],w=o[0],_=o[1]),this.crossProductZ(w,y,_)<0){const I=w;w=_,_=I}o[0]=w,o[1]=y,o[2]=_}static distance(o,u){return Bt.distance(o.x,o.y,u.x,u.y)}static crossProductZ(o,u,f){const m=u.x,w=u.y;return(f.x-m)*(o.y-w)-(f.y-w)*(o.x-m)}}class Bn{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class hn extends Bn{constructor(o,u,f,m,w){super(o,u),this.compact=f,this.nbDatablocks=m,this.nbLayers=w}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ge{constructor(o,u,f,m){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),u==null&&(u=Ge.INIT_SIZE),f==null&&(f=o.getWidth()/2|0),m==null&&(m=o.getHeight()/2|0);const w=u/2|0;if(this.leftInit=f-w,this.rightInit=f+w,this.upInit=m-w,this.downInit=m+w,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ye}detect(){let o=this.leftInit,u=this.rightInit,f=this.upInit,m=this.downInit,w=!1,y=!0,_=!1,I=!1,U=!1,P=!1,Y=!1;const ie=this.width,ve=this.height;for(;y;){y=!1;let be=!0;for(;(be||!I)&&u<ie;)be=this.containsBlackPoint(f,m,u,!1),be?(u++,y=!0,I=!0):I||u++;if(u>=ie){w=!0;break}let Ie=!0;for(;(Ie||!U)&&m<ve;)Ie=this.containsBlackPoint(o,u,m,!0),Ie?(m++,y=!0,U=!0):U||m++;if(m>=ve){w=!0;break}let Oe=!0;for(;(Oe||!P)&&o>=0;)Oe=this.containsBlackPoint(f,m,o,!1),Oe?(o--,y=!0,P=!0):P||o--;if(o<0){w=!0;break}let $e=!0;for(;($e||!Y)&&f>=0;)$e=this.containsBlackPoint(o,u,f,!0),$e?(f--,y=!0,Y=!0):Y||f--;if(f<0){w=!0;break}y&&(_=!0)}if(!w&&_){const be=u-o;let Ie=null;for(let vt=1;Ie===null&&vt<be;vt++)Ie=this.getBlackPointOnSegment(o,m-vt,o+vt,m);if(Ie==null)throw new ye;let Oe=null;for(let vt=1;Oe===null&&vt<be;vt++)Oe=this.getBlackPointOnSegment(o,f+vt,o+vt,f);if(Oe==null)throw new ye;let $e=null;for(let vt=1;$e===null&&vt<be;vt++)$e=this.getBlackPointOnSegment(u,f+vt,u-vt,f);if($e==null)throw new ye;let yt=null;for(let vt=1;yt===null&&vt<be;vt++)yt=this.getBlackPointOnSegment(u,m-vt,u-vt,m);if(yt==null)throw new ye;return this.centerEdges(yt,Ie,$e,Oe)}else throw new ye}getBlackPointOnSegment(o,u,f,m){const w=Bt.round(Bt.distance(o,u,f,m)),y=(f-o)/w,_=(m-u)/w,I=this.image;for(let U=0;U<w;U++){const P=Bt.round(o+U*y),Y=Bt.round(u+U*_);if(I.get(P,Y))return new _t(P,Y)}return null}centerEdges(o,u,f,m){const w=o.getX(),y=o.getY(),_=u.getX(),I=u.getY(),U=f.getX(),P=f.getY(),Y=m.getX(),ie=m.getY(),ve=Ge.CORR;return w<this.width/2?[new _t(Y-ve,ie+ve),new _t(_+ve,I+ve),new _t(U-ve,P-ve),new _t(w+ve,y-ve)]:[new _t(Y+ve,ie+ve),new _t(_+ve,I-ve),new _t(U-ve,P+ve),new _t(w-ve,y-ve)]}containsBlackPoint(o,u,f,m){const w=this.image;if(m){for(let y=o;y<=u;y++)if(w.get(y,f))return!0}else for(let y=o;y<=u;y++)if(w.get(f,y))return!0;return!1}}Ge.INIT_SIZE=10,Ge.CORR=1;class It{static checkAndNudgePoints(o,u){const f=o.getWidth(),m=o.getHeight();let w=!0;for(let y=0;y<u.length&&w;y+=2){const _=Math.floor(u[y]),I=Math.floor(u[y+1]);if(_<-1||_>f||I<-1||I>m)throw new ye;w=!1,_===-1?(u[y]=0,w=!0):_===f&&(u[y]=f-1,w=!0),I===-1?(u[y+1]=0,w=!0):I===m&&(u[y+1]=m-1,w=!0)}w=!0;for(let y=u.length-2;y>=0&&w;y-=2){const _=Math.floor(u[y]),I=Math.floor(u[y+1]);if(_<-1||_>f||I<-1||I>m)throw new ye;w=!1,_===-1?(u[y]=0,w=!0):_===f&&(u[y]=f-1,w=!0),I===-1?(u[y+1]=0,w=!0):I===m&&(u[y+1]=m-1,w=!0)}}}class Tt{constructor(o,u,f,m,w,y,_,I,U){this.a11=o,this.a21=u,this.a31=f,this.a12=m,this.a22=w,this.a32=y,this.a13=_,this.a23=I,this.a33=U}static quadrilateralToQuadrilateral(o,u,f,m,w,y,_,I,U,P,Y,ie,ve,be,Ie,Oe){const $e=Tt.quadrilateralToSquare(o,u,f,m,w,y,_,I);return Tt.squareToQuadrilateral(U,P,Y,ie,ve,be,Ie,Oe).times($e)}transformPoints(o){const u=o.length,f=this.a11,m=this.a12,w=this.a13,y=this.a21,_=this.a22,I=this.a23,U=this.a31,P=this.a32,Y=this.a33;for(let ie=0;ie<u;ie+=2){const ve=o[ie],be=o[ie+1],Ie=w*ve+I*be+Y;o[ie]=(f*ve+y*be+U)/Ie,o[ie+1]=(m*ve+_*be+P)/Ie}}transformPointsWithValues(o,u){const f=this.a11,m=this.a12,w=this.a13,y=this.a21,_=this.a22,I=this.a23,U=this.a31,P=this.a32,Y=this.a33,ie=o.length;for(let ve=0;ve<ie;ve++){const be=o[ve],Ie=u[ve],Oe=w*be+I*Ie+Y;o[ve]=(f*be+y*Ie+U)/Oe,u[ve]=(m*be+_*Ie+P)/Oe}}static squareToQuadrilateral(o,u,f,m,w,y,_,I){const U=o-f+w-_,P=u-m+y-I;if(U===0&&P===0)return new Tt(f-o,w-f,o,m-u,y-m,u,0,0,1);{const Y=f-w,ie=_-w,ve=m-y,be=I-y,Ie=Y*be-ie*ve,Oe=(U*be-ie*P)/Ie,$e=(Y*P-U*ve)/Ie;return new Tt(f-o+Oe*f,_-o+$e*_,o,m-u+Oe*m,I-u+$e*I,u,Oe,$e,1)}}static quadrilateralToSquare(o,u,f,m,w,y,_,I){return Tt.squareToQuadrilateral(o,u,f,m,w,y,_,I).buildAdjoint()}buildAdjoint(){return new Tt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new Tt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Jt extends It{sampleGrid(o,u,f,m,w,y,_,I,U,P,Y,ie,ve,be,Ie,Oe,$e,yt,vt){const dt=Tt.quadrilateralToQuadrilateral(m,w,y,_,I,U,P,Y,ie,ve,be,Ie,Oe,$e,yt,vt);return this.sampleGridWithTransform(o,u,f,dt)}sampleGridWithTransform(o,u,f,m){if(u<=0||f<=0)throw new ye;const w=new Me(u,f),y=new Float32Array(2*u);for(let _=0;_<f;_++){const I=y.length,U=_+.5;for(let P=0;P<I;P+=2)y[P]=P/2+.5,y[P+1]=U;m.transformPoints(y),It.checkAndNudgePoints(o,y);try{for(let P=0;P<I;P+=2)o.get(Math.floor(y[P]),Math.floor(y[P+1]))&&w.set(P/2,_)}catch{throw new ye}}return w}}class fr{static setGridSampler(o){fr.gridSampler=o}static getInstance(){return fr.gridSampler}}fr.gridSampler=new Jt;class pr{constructor(o,u){this.x=o,this.y=u}toResultPoint(){return new _t(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Xt{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let u=this.getMatrixCenter(),f=this.getBullsEyeCorners(u);if(o){let y=f[0];f[0]=f[2],f[2]=y}this.extractParameters(f);let m=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),w=this.getMatrixCornerPoints(f);return new hn(m,w,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new ye;let u=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(o[0],o[1],u),this.sampleLine(o[1],o[2],u),this.sampleLine(o[2],o[3],u),this.sampleLine(o[3],o[0],u)]);this.shift=this.getRotation(f,u);let m=0;for(let y=0;y<4;y++){let _=f[(this.shift+y)%4];this.compact?(m<<=7,m+=_>>1&127):(m<<=10,m+=(_>>2&992)+(_>>1&31))}let w=this.getCorrectedParameterData(m,this.compact);this.compact?(this.nbLayers=(w>>6)+1,this.nbDataBlocks=(w&63)+1):(this.nbLayers=(w>>11)+1,this.nbDataBlocks=(w&2047)+1)}getRotation(o,u){let f=0;o.forEach((m,w,y)=>{let _=(m>>u-2<<1)+(m&1);f=(f<<3)+_}),f=((f&1)<<11)+(f>>1);for(let m=0;m<4;m++)if(Q.bitCount(f^this.EXPECTED_CORNER_BITS[m])<=2)return m;throw new ye}getCorrectedParameterData(o,u){let f,m;u?(f=7,m=2):(f=10,m=4);let w=f-m,y=new Int32Array(f);for(let I=f-1;I>=0;--I)y[I]=o&15,o>>=4;try{new Ne(St.AZTEC_PARAM).decode(y,w)}catch{throw new ye}let _=0;for(let I=0;I<m;I++)_=(_<<4)+y[I];return _}getBullsEyeCorners(o){let u=o,f=o,m=o,w=o,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Y=this.getFirstDifferent(u,y,1,-1),ie=this.getFirstDifferent(f,y,1,1),ve=this.getFirstDifferent(m,y,-1,1),be=this.getFirstDifferent(w,y,-1,-1);if(this.nbCenterLayers>2){let Ie=this.distancePoint(be,Y)*this.nbCenterLayers/(this.distancePoint(w,u)*(this.nbCenterLayers+2));if(Ie<.75||Ie>1.25||!this.isWhiteOrBlackRectangle(Y,ie,ve,be))break}u=Y,f=ie,m=ve,w=be,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ye;this.compact=this.nbCenterLayers===5;let _=new _t(u.getX()+.5,u.getY()-.5),I=new _t(f.getX()+.5,f.getY()+.5),U=new _t(m.getX()-.5,m.getY()+.5),P=new _t(w.getX()-.5,w.getY()-.5);return this.expandSquare([_,I,U,P],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,u,f,m;try{let _=new Ge(this.image).detect();o=_[0],u=_[1],f=_[2],m=_[3]}catch{let I=this.image.getWidth()/2,U=this.image.getHeight()/2;o=this.getFirstDifferent(new pr(I+7,U-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new pr(I+7,U+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new pr(I-7,U+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new pr(I-7,U-7),!1,-1,-1).toResultPoint()}let w=Bt.round((o.getX()+m.getX()+u.getX()+f.getX())/4),y=Bt.round((o.getY()+m.getY()+u.getY()+f.getY())/4);try{let _=new Ge(this.image,15,w,y).detect();o=_[0],u=_[1],f=_[2],m=_[3]}catch{o=this.getFirstDifferent(new pr(w+7,y-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new pr(w+7,y+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new pr(w-7,y+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new pr(w-7,y-7),!1,-1,-1).toResultPoint()}return w=Bt.round((o.getX()+m.getX()+u.getX()+f.getX())/4),y=Bt.round((o.getY()+m.getY()+u.getY()+f.getY())/4),new pr(w,y)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,u,f,m,w){let y=fr.getInstance(),_=this.getDimension(),I=_/2-this.nbCenterLayers,U=_/2+this.nbCenterLayers;return y.sampleGrid(o,_,_,I,I,U,I,U,U,I,U,u.getX(),u.getY(),f.getX(),f.getY(),m.getX(),m.getY(),w.getX(),w.getY())}sampleLine(o,u,f){let m=0,w=this.distanceResultPoint(o,u),y=w/f,_=o.getX(),I=o.getY(),U=y*(u.getX()-o.getX())/w,P=y*(u.getY()-o.getY())/w;for(let Y=0;Y<f;Y++)this.image.get(Bt.round(_+Y*U),Bt.round(I+Y*P))&&(m|=1<<f-Y-1);return m}isWhiteOrBlackRectangle(o,u,f,m){let w=3;o=new pr(o.getX()-w,o.getY()+w),u=new pr(u.getX()-w,u.getY()-w),f=new pr(f.getX()+w,f.getY()-w),m=new pr(m.getX()+w,m.getY()+w);let y=this.getColor(m,o);if(y===0)return!1;let _=this.getColor(o,u);return _!==y||(_=this.getColor(u,f),_!==y)?!1:(_=this.getColor(f,m),_===y)}getColor(o,u){let f=this.distancePoint(o,u),m=(u.getX()-o.getX())/f,w=(u.getY()-o.getY())/f,y=0,_=o.getX(),I=o.getY(),U=this.image.get(o.getX(),o.getY()),P=Math.ceil(f);for(let ie=0;ie<P;ie++)_+=m,I+=w,this.image.get(Bt.round(_),Bt.round(I))!==U&&y++;let Y=y/f;return Y>.1&&Y<.9?0:Y<=.1===U?1:-1}getFirstDifferent(o,u,f,m){let w=o.getX()+f,y=o.getY()+m;for(;this.isValid(w,y)&&this.image.get(w,y)===u;)w+=f,y+=m;for(w-=f,y-=m;this.isValid(w,y)&&this.image.get(w,y)===u;)w+=f;for(w-=f;this.isValid(w,y)&&this.image.get(w,y)===u;)y+=m;return y-=m,new pr(w,y)}expandSquare(o,u,f){let m=f/(2*u),w=o[0].getX()-o[2].getX(),y=o[0].getY()-o[2].getY(),_=(o[0].getX()+o[2].getX())/2,I=(o[0].getY()+o[2].getY())/2,U=new _t(_+m*w,I+m*y),P=new _t(_-m*w,I-m*y);w=o[1].getX()-o[3].getX(),y=o[1].getY()-o[3].getY(),_=(o[1].getX()+o[3].getX())/2,I=(o[1].getY()+o[3].getY())/2;let Y=new _t(_+m*w,I+m*y),ie=new _t(_-m*w,I-m*y);return[U,Y,P,ie]}isValid(o,u){return o>=0&&o<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(o){let u=Bt.round(o.getX()),f=Bt.round(o.getY());return this.isValid(u,f)}distancePoint(o,u){return Bt.distance(o.getX(),o.getY(),u.getX(),u.getY())}distanceResultPoint(o,u){return Bt.distance(o.getX(),o.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Q.truncDivision(this.nbLayers-4,8)+1)+15}}class at{decode(o,u=null){let f=null,m=new Xt(o.getBlackMatrix()),w=null,y=null;try{let P=m.detectMirror(!1);w=P.getPoints(),this.reportFoundResultPoints(u,w),y=new gt().decode(P)}catch(P){f=P}if(y==null)try{let P=m.detectMirror(!0);w=P.getPoints(),this.reportFoundResultPoints(u,w),y=new gt().decode(P)}catch(P){throw f??P}let _=new fe(y.getText(),y.getRawBytes(),y.getNumBits(),w,xe.AZTEC,R.currentTimeMillis()),I=y.getByteSegments();I!=null&&_.putMetadata(Fe.BYTE_SEGMENTS,I);let U=y.getECLevel();return U!=null&&_.putMetadata(Fe.ERROR_CORRECTION_LEVEL,U),_}reportFoundResultPoints(o,u){if(o!=null){let f=o.get(te.NEED_RESULT_POINT_CALLBACK);f!=null&&u.forEach((m,w,y)=>{f.foundPossibleResultPoint(m)})}}reset(){}}class De extends de{constructor(o=500){super(new at,o)}}class Je{decode(o,u){try{return this.doDecode(o,u)}catch{if(u&&u.get(te.TRY_HARDER)===!0&&o.isRotateSupported()){const w=o.rotateCounterClockwise(),y=this.doDecode(w,u),_=y.getResultMetadata();let I=270;_!==null&&_.get(Fe.ORIENTATION)===!0&&(I=I+_.get(Fe.ORIENTATION)%360),y.putMetadata(Fe.ORIENTATION,I);const U=y.getResultPoints();if(U!==null){const P=w.getHeight();for(let Y=0;Y<U.length;Y++)U[Y]=new _t(P-U[Y].getY()-1,U[Y].getX())}return y}else throw new ye}}reset(){}doDecode(o,u){const f=o.getWidth(),m=o.getHeight();let w=new ee(f);const y=u&&u.get(te.TRY_HARDER)===!0,_=Math.max(1,m>>(y?8:5));let I;y?I=m:I=15;const U=Math.trunc(m/2);for(let P=0;P<I;P++){const Y=Math.trunc((P+1)/2),ie=(P&1)===0,ve=U+_*(ie?Y:-Y);if(ve<0||ve>=m)break;try{w=o.getBlackRow(ve,w)}catch{continue}for(let be=0;be<2;be++){if(be===1&&(w.reverse(),u&&u.get(te.NEED_RESULT_POINT_CALLBACK)===!0)){const Ie=new Map;u.forEach((Oe,$e)=>Ie.set($e,Oe)),Ie.delete(te.NEED_RESULT_POINT_CALLBACK),u=Ie}try{const Ie=this.decodeRow(ve,w,u);if(be===1){Ie.putMetadata(Fe.ORIENTATION,180);const Oe=Ie.getResultPoints();Oe!==null&&(Oe[0]=new _t(f-Oe[0].getX()-1,Oe[0].getY()),Oe[1]=new _t(f-Oe[1].getX()-1,Oe[1].getY()))}return Ie}catch{}}}throw new ye}static recordPattern(o,u,f){const m=f.length;for(let U=0;U<m;U++)f[U]=0;const w=o.getSize();if(u>=w)throw new ye;let y=!o.get(u),_=0,I=u;for(;I<w;){if(o.get(I)!==y)f[_]++;else{if(++_===m)break;f[_]=1,y=!y}I++}if(!(_===m||_===m-1&&I===w))throw new ye}static recordPatternInReverse(o,u,f){let m=f.length,w=o.get(u);for(;u>0&&m>=0;)o.get(--u)!==w&&(m--,w=!w);if(m>=0)throw new ye;Je.recordPattern(o,u+1,f)}static patternMatchVariance(o,u,f){const m=o.length;let w=0,y=0;for(let U=0;U<m;U++)w+=o[U],y+=u[U];if(w<y)return Number.POSITIVE_INFINITY;const _=w/y;f*=_;let I=0;for(let U=0;U<m;U++){const P=o[U],Y=u[U]*_,ie=P>Y?P-Y:Y-P;if(ie>f)return Number.POSITIVE_INFINITY;I+=ie}return I/w}}class Ee extends Je{static findStartPattern(o){const u=o.getSize(),f=o.getNextSet(0);let m=0,w=Int32Array.from([0,0,0,0,0,0]),y=f,_=!1;const I=6;for(let U=f;U<u;U++)if(o.get(U)!==_)w[m]++;else{if(m===I-1){let P=Ee.MAX_AVG_VARIANCE,Y=-1;for(let ie=Ee.CODE_START_A;ie<=Ee.CODE_START_C;ie++){const ve=Je.patternMatchVariance(w,Ee.CODE_PATTERNS[ie],Ee.MAX_INDIVIDUAL_VARIANCE);ve<P&&(P=ve,Y=ie)}if(Y>=0&&o.isRange(Math.max(0,y-(U-y)/2),y,!1))return Int32Array.from([y,U,Y]);y+=w[0]+w[1],w=w.slice(2,w.length-1),w[m-1]=0,w[m]=0,m--}else m++;w[m]=1,_=!_}throw new ye}static decodeCode(o,u,f){Je.recordPattern(o,f,u);let m=Ee.MAX_AVG_VARIANCE,w=-1;for(let y=0;y<Ee.CODE_PATTERNS.length;y++){const _=Ee.CODE_PATTERNS[y],I=this.patternMatchVariance(u,_,Ee.MAX_INDIVIDUAL_VARIANCE);I<m&&(m=I,w=y)}if(w>=0)return w;throw new ye}decodeRow(o,u,f){const m=f&&f.get(te.ASSUME_GS1)===!0,w=Ee.findStartPattern(u),y=w[2];let _=0;const I=new Uint8Array(20);I[_++]=y;let U;switch(y){case Ee.CODE_START_A:U=Ee.CODE_CODE_A;break;case Ee.CODE_START_B:U=Ee.CODE_CODE_B;break;case Ee.CODE_START_C:U=Ee.CODE_CODE_C;break;default:throw new M}let P=!1,Y=!1,ie="",ve=w[0],be=w[1];const Ie=Int32Array.from([0,0,0,0,0,0]);let Oe=0,$e=0,yt=y,vt=0,dt=!0,vr=!1,ir=!1;for(;!P;){const Mo=Y;switch(Y=!1,Oe=$e,$e=Ee.decodeCode(u,Ie,be),I[_++]=$e,$e!==Ee.CODE_STOP&&(dt=!0),$e!==Ee.CODE_STOP&&(vt++,yt+=vt*$e),ve=be,be+=Ie.reduce((rd,zu)=>rd+zu,0),$e){case Ee.CODE_START_A:case Ee.CODE_START_B:case Ee.CODE_START_C:throw new M}switch(U){case Ee.CODE_CODE_A:if($e<64)ir===vr?ie+=String.fromCharCode(32+$e):ie+=String.fromCharCode(32+$e+128),ir=!1;else if($e<96)ir===vr?ie+=String.fromCharCode($e-64):ie+=String.fromCharCode($e+64),ir=!1;else switch($e!==Ee.CODE_STOP&&(dt=!1),$e){case Ee.CODE_FNC_1:m&&(ie.length===0?ie+="]C1":ie+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_A:!vr&&ir?(vr=!0,ir=!1):vr&&ir?(vr=!1,ir=!1):ir=!0;break;case Ee.CODE_SHIFT:Y=!0,U=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_B:U=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_C:U=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:P=!0;break}break;case Ee.CODE_CODE_B:if($e<96)ir===vr?ie+=String.fromCharCode(32+$e):ie+=String.fromCharCode(32+$e+128),ir=!1;else switch($e!==Ee.CODE_STOP&&(dt=!1),$e){case Ee.CODE_FNC_1:m&&(ie.length===0?ie+="]C1":ie+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_B:!vr&&ir?(vr=!0,ir=!1):vr&&ir?(vr=!1,ir=!1):ir=!0;break;case Ee.CODE_SHIFT:Y=!0,U=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_A:U=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_C:U=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:P=!0;break}break;case Ee.CODE_CODE_C:if($e<100)$e<10&&(ie+="0"),ie+=$e;else switch($e!==Ee.CODE_STOP&&(dt=!1),$e){case Ee.CODE_FNC_1:m&&(ie.length===0?ie+="]C1":ie+="");break;case Ee.CODE_CODE_A:U=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_B:U=Ee.CODE_CODE_B;break;case Ee.CODE_STOP:P=!0;break}break}Mo&&(U=U===Ee.CODE_CODE_A?Ee.CODE_CODE_B:Ee.CODE_CODE_A)}const Pn=be-ve;if(be=u.getNextUnset(be),!u.isRange(be,Math.min(u.getSize(),be+(be-ve)/2),!1))throw new ye;if(yt-=vt*Oe,yt%103!==Oe)throw new F;const Ls=ie.length;if(Ls===0)throw new ye;Ls>0&&dt&&(U===Ee.CODE_CODE_C?ie=ie.substring(0,Ls-2):ie=ie.substring(0,Ls-1));const ki=(w[1]+w[0])/2,Xr=ve+Pn/2,gi=I.length,ms=new Uint8Array(gi);for(let Mo=0;Mo<gi;Mo++)ms[Mo]=I[Mo];const wA=[new _t(ki,o),new _t(Xr,o)];return new fe(ie,ms,0,wA,xe.CODE_128,new Date().getTime())}}Ee.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ee.MAX_AVG_VARIANCE=.25,Ee.MAX_INDIVIDUAL_VARIANCE=.7,Ee.CODE_SHIFT=98,Ee.CODE_CODE_C=99,Ee.CODE_CODE_B=100,Ee.CODE_CODE_A=101,Ee.CODE_FNC_1=102,Ee.CODE_FNC_2=97,Ee.CODE_FNC_3=96,Ee.CODE_FNC_4_A=101,Ee.CODE_FNC_4_B=100,Ee.CODE_START_A=103,Ee.CODE_START_B=104,Ee.CODE_START_C=105,Ee.CODE_STOP=106;class st extends Je{constructor(o=!1,u=!1){super(),this.usingCheckDigit=o,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,u,f){let m=this.counters;m.fill(0),this.decodeRowResult="";let w=st.findAsteriskPattern(u,m),y=u.getNextSet(w[1]),_=u.getSize(),I,U;do{st.recordPattern(u,y,m);let Ie=st.toNarrowWidePattern(m);if(Ie<0)throw new ye;I=st.patternToChar(Ie),this.decodeRowResult+=I,U=y;for(let Oe of m)y+=Oe;y=u.getNextSet(y)}while(I!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let P=0;for(let Ie of m)P+=Ie;let Y=y-U-P;if(y!==_&&Y*2<P)throw new ye;if(this.usingCheckDigit){let Ie=this.decodeRowResult.length-1,Oe=0;for(let $e=0;$e<Ie;$e++)Oe+=st.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($e));if(this.decodeRowResult.charAt(Ie)!==st.ALPHABET_STRING.charAt(Oe%43))throw new F;this.decodeRowResult=this.decodeRowResult.substring(0,Ie)}if(this.decodeRowResult.length===0)throw new ye;let ie;this.extendedMode?ie=st.decodeExtended(this.decodeRowResult):ie=this.decodeRowResult;let ve=(w[1]+w[0])/2,be=U+P/2;return new fe(ie,null,0,[new _t(ve,o),new _t(be,o)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(o,u){let f=o.getSize(),m=o.getNextSet(0),w=0,y=m,_=!1,I=u.length;for(let U=m;U<f;U++)if(o.get(U)!==_)u[w]++;else{if(w===I-1){if(this.toNarrowWidePattern(u)===st.ASTERISK_ENCODING&&o.isRange(Math.max(0,y-Math.floor((U-y)/2)),y,!1))return[y,U];y+=u[0]+u[1],u.copyWithin(0,2,2+w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,_=!_}throw new ye}static toNarrowWidePattern(o){let u=o.length,f=0,m;do{let w=2147483647;for(let I of o)I<w&&I>f&&(w=I);f=w,m=0;let y=0,_=0;for(let I=0;I<u;I++){let U=o[I];U>f&&(_|=1<<u-1-I,m++,y+=U)}if(m===3){for(let I=0;I<u&&m>0;I++){let U=o[I];if(U>f&&(m--,U*2>=y))return-1}return _}}while(m>3);return-1}static patternToChar(o){for(let u=0;u<st.CHARACTER_ENCODINGS.length;u++)if(st.CHARACTER_ENCODINGS[u]===o)return st.ALPHABET_STRING.charAt(u);if(o===st.ASTERISK_ENCODING)return"*";throw new ye}static decodeExtended(o){let u=o.length,f="";for(let m=0;m<u;m++){let w=o.charAt(m);if(w==="+"||w==="$"||w==="%"||w==="/"){let y=o.charAt(m+1),_="\0";switch(w){case"+":if(y>="A"&&y<="Z")_=String.fromCharCode(y.charCodeAt(0)+32);else throw new M;break;case"$":if(y>="A"&&y<="Z")_=String.fromCharCode(y.charCodeAt(0)-64);else throw new M;break;case"%":if(y>="A"&&y<="E")_=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")_=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")_=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")_=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")_="\0";else if(y==="V")_="@";else if(y==="W")_="`";else if(y==="X"||y==="Y"||y==="Z")_="";else throw new M;break;case"/":if(y>="A"&&y<="O")_=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")_=":";else throw new M;break}f+=_,m++}else f+=w}return f}}st.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",st.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],st.ASTERISK_ENCODING=148;class At extends Je{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,u,f){let m=this.decodeStart(u),w=this.decodeEnd(u),y=new X;At.decodeMiddle(u,m[1],w[0],y);let _=y.toString(),I=null;f!=null&&(I=f.get(te.ALLOWED_LENGTHS)),I==null&&(I=At.DEFAULT_ALLOWED_LENGTHS);let U=_.length,P=!1,Y=0;for(let be of I){if(U===be){P=!0;break}be>Y&&(Y=be)}if(!P&&U>Y&&(P=!0),!P)throw new M;const ie=[new _t(m[1],o),new _t(w[0],o)];return new fe(_,null,0,ie,xe.ITF,new Date().getTime())}static decodeMiddle(o,u,f,m){let w=new Int32Array(10),y=new Int32Array(5),_=new Int32Array(5);for(w.fill(0),y.fill(0),_.fill(0);u<f;){Je.recordPattern(o,u,w);for(let U=0;U<5;U++){let P=2*U;y[U]=w[P],_[U]=w[P+1]}let I=At.decodeDigit(y);m.append(I.toString()),I=this.decodeDigit(_),m.append(I.toString()),w.forEach(function(U){u+=U})}}decodeStart(o){let u=At.skipWhiteSpace(o),f=At.findGuardPattern(o,u,At.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(o,f[0]),f}validateQuietZone(o,u){let f=this.narrowLineWidth*10;f=f<u?f:u;for(let m=u-1;f>0&&m>=0&&!o.get(m);m--)f--;if(f!==0)throw new ye}static skipWhiteSpace(o){const u=o.getSize(),f=o.getNextSet(0);if(f===u)throw new ye;return f}decodeEnd(o){o.reverse();try{let u=At.skipWhiteSpace(o),f;try{f=At.findGuardPattern(o,u,At.END_PATTERN_REVERSED[0])}catch(w){w instanceof ye&&(f=At.findGuardPattern(o,u,At.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,f[0]);let m=f[0];return f[0]=o.getSize()-f[1],f[1]=o.getSize()-m,f}finally{o.reverse()}}static findGuardPattern(o,u,f){let m=f.length,w=new Int32Array(m),y=o.getSize(),_=!1,I=0,U=u;w.fill(0);for(let P=u;P<y;P++)if(o.get(P)!==_)w[I]++;else{if(I===m-1){if(Je.patternMatchVariance(w,f,At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE)return[U,P];U+=w[0]+w[1],R.arraycopy(w,2,w,0,I-1),w[I-1]=0,w[I]=0,I--}else I++;w[I]=1,_=!_}throw new ye}static decodeDigit(o){let u=At.MAX_AVG_VARIANCE,f=-1,m=At.PATTERNS.length;for(let w=0;w<m;w++){let y=At.PATTERNS[w],_=Je.patternMatchVariance(o,y,At.MAX_INDIVIDUAL_VARIANCE);_<u?(u=_,f=w):_===u&&(f=-1)}if(f>=0)return f%10;throw new ye}}At.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],At.MAX_AVG_VARIANCE=.38,At.MAX_INDIVIDUAL_VARIANCE=.5,At.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],At.START_PATTERN=Int32Array.from([1,1,1,1]),At.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Nt extends Je{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let u=!1,f,m=0,w=Int32Array.from([0,0,0]);for(;!u;){w=Int32Array.from([0,0,0]),f=Nt.findGuardPattern(o,m,!1,this.START_END_PATTERN,w);let y=f[0];m=f[1];let _=y-(m-y);_>=0&&(u=o.isRange(_,y,!1))}return f}static checkChecksum(o){return Nt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let f=parseInt(o.charAt(u-1),10);return Nt.getStandardUPCEANChecksum(o.substring(0,u-1))===f}static getStandardUPCEANChecksum(o){let u=o.length,f=0;for(let m=u-1;m>=0;m-=2){let w=o.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new M;f+=w}f*=3;for(let m=u-2;m>=0;m-=2){let w=o.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new M;f+=w}return(1e3-f)%10}static decodeEnd(o,u){return Nt.findGuardPattern(o,u,!1,Nt.START_END_PATTERN,new Int32Array(Nt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,u,f,m){return this.findGuardPattern(o,u,f,m,new Int32Array(m.length))}static findGuardPattern(o,u,f,m,w){let y=o.getSize();u=f?o.getNextUnset(u):o.getNextSet(u);let _=0,I=u,U=m.length,P=f;for(let Y=u;Y<y;Y++)if(o.get(Y)!==P)w[_]++;else{if(_===U-1){if(Je.patternMatchVariance(w,m,Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return Int32Array.from([I,Y]);I+=w[0]+w[1];let ie=w.slice(2,w.length-1);for(let ve=0;ve<_-1;ve++)w[ve]=ie[ve];w[_-1]=0,w[_]=0,_--}else _++;w[_]=1,P=!P}throw new ye}static decodeDigit(o,u,f,m){this.recordPattern(o,f,u);let w=this.MAX_AVG_VARIANCE,y=-1,_=m.length;for(let I=0;I<_;I++){let U=m[I],P=Je.patternMatchVariance(u,U,Nt.MAX_INDIVIDUAL_VARIANCE);P<w&&(w=P,y=I)}if(y>=0)return y;throw new ye}}Nt.MAX_AVG_VARIANCE=.48,Nt.MAX_INDIVIDUAL_VARIANCE=.7,Nt.START_END_PATTERN=Int32Array.from([1,1,1]),Nt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Nt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Yr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,f){let m=this.decodeRowStringBuffer,w=this.decodeMiddle(u,f,m),y=m.toString(),_=Yr.parseExtensionString(y),I=[new _t((f[0]+f[1])/2,o),new _t(w,o)],U=new fe(y,null,0,I,xe.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&U.putAllMetadata(_),U}decodeMiddle(o,u,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=o.getSize(),y=u[1],_=0;for(let U=0;U<5&&y<w;U++){let P=Nt.decodeDigit(o,m,y,Nt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+P%10);for(let Y of m)y+=Y;P>=10&&(_|=1<<4-U),U!==4&&(y=o.getNextSet(y),y=o.getNextUnset(y))}if(f.length!==5)throw new ye;let I=this.determineCheckDigit(_);if(Yr.extensionChecksum(f.toString())!==I)throw new ye;return y}static extensionChecksum(o){let u=o.length,f=0;for(let m=u-2;m>=0;m-=2)f+=o.charAt(m).charCodeAt(0)-48;f*=3;for(let m=u-1;m>=0;m-=2)f+=o.charAt(m).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(o){for(let u=0;u<10;u++)if(o===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new ye}static parseExtensionString(o){if(o.length!==5)return null;let u=Yr.parseExtension5String(o);return u==null?null:new Map([[Fe.SUGGESTED_PRICE,u]])}static parseExtension5String(o){let u;switch(o.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let f=parseInt(o.substring(1)),m=(f/100).toString(),w=f%100,y=w<10?"0"+w:w.toString();return u+m+"."+y}}class Ci{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,f){let m=this.decodeRowStringBuffer,w=this.decodeMiddle(u,f,m),y=m.toString(),_=Ci.parseExtensionString(y),I=[new _t((f[0]+f[1])/2,o),new _t(w,o)],U=new fe(y,null,0,I,xe.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&U.putAllMetadata(_),U}decodeMiddle(o,u,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=o.getSize(),y=u[1],_=0;for(let I=0;I<2&&y<w;I++){let U=Nt.decodeDigit(o,m,y,Nt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+U%10);for(let P of m)y+=P;U>=10&&(_|=1<<1-I),I!==1&&(y=o.getNextSet(y),y=o.getNextUnset(y))}if(f.length!==2)throw new ye;if(parseInt(f.toString())%4!==_)throw new ye;return y}static parseExtensionString(o){return o.length!==2?null:new Map([[Fe.ISSUE_NUMBER,parseInt(o)]])}}class qi{static decodeRow(o,u,f){let m=Nt.findGuardPattern(u,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Yr().decodeRow(o,u,m)}catch{return new Ci().decodeRow(o,u,m)}}}qi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class $t extends Nt{constructor(){super(),this.decodeRowStringBuffer="",$t.L_AND_G_PATTERNS=$t.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let u=$t.L_PATTERNS[o-10],f=new Int32Array(u.length);for(let m=0;m<u.length;m++)f[m]=u[u.length-m-1];$t.L_AND_G_PATTERNS[o]=f}}decodeRow(o,u,f){let m=$t.findStartGuardPattern(u),w=f==null?null:f.get(te.NEED_RESULT_POINT_CALLBACK);if(w!=null){const dt=new _t((m[0]+m[1])/2,o);w.foundPossibleResultPoint(dt)}let y=this.decodeMiddle(u,m,this.decodeRowStringBuffer),_=y.rowOffset,I=y.resultString;if(w!=null){const dt=new _t(_,o);w.foundPossibleResultPoint(dt)}let U=this.decodeEnd(u,_);if(w!=null){const dt=new _t((U[0]+U[1])/2,o);w.foundPossibleResultPoint(dt)}let P=U[1],Y=P+(P-U[0]);if(Y>=u.getSize()||!u.isRange(P,Y,!1))throw new ye;let ie=I.toString();if(ie.length<8)throw new M;if(!$t.checkChecksum(ie))throw new F;let ve=(m[1]+m[0])/2,be=(U[1]+U[0])/2,Ie=this.getBarcodeFormat(),Oe=[new _t(ve,o),new _t(be,o)],$e=new fe(ie,null,0,Oe,Ie,new Date().getTime()),yt=0;try{let dt=qi.decodeRow(o,u,U[1]);$e.putMetadata(Fe.UPC_EAN_EXTENSION,dt.getText()),$e.putAllMetadata(dt.getResultMetadata()),$e.addResultPoints(dt.getResultPoints()),yt=dt.getText().length}catch{}let vt=f==null?null:f.get(te.ALLOWED_EAN_EXTENSIONS);if(vt!=null){let dt=!1;for(let vr in vt)if(yt.toString()===vr){dt=!0;break}if(!dt)throw new ye}return $e}decodeEnd(o,u){return $t.findGuardPattern(o,u,!1,$t.START_END_PATTERN,new Int32Array($t.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return $t.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let f=parseInt(o.charAt(u-1),10);return $t.getStandardUPCEANChecksum(o.substring(0,u-1))===f}static getStandardUPCEANChecksum(o){let u=o.length,f=0;for(let m=u-1;m>=0;m-=2){let w=o.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new M;f+=w}f*=3;for(let m=u-2;m>=0;m-=2){let w=o.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new M;f+=w}return(1e3-f)%10}}class ti extends $t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=o.getSize(),y=u[1],_=0;for(let U=0;U<6&&y<w;U++){let P=$t.decodeDigit(o,m,y,$t.L_AND_G_PATTERNS);f+=String.fromCharCode(48+P%10);for(let Y of m)y+=Y;P>=10&&(_|=1<<5-U)}f=ti.determineFirstDigit(f,_),y=$t.findGuardPattern(o,y,!0,$t.MIDDLE_PATTERN,new Int32Array($t.MIDDLE_PATTERN.length).fill(0))[1];for(let U=0;U<6&&y<w;U++){let P=$t.decodeDigit(o,m,y,$t.L_PATTERNS);f+=String.fromCharCode(48+P);for(let Y of m)y+=Y}return{rowOffset:y,resultString:f}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(o,u){for(let f=0;f<10;f++)if(u===this.FIRST_DIGIT_ENCODINGS[f])return o=String.fromCharCode(48+f)+o,o;throw new ye}}ti.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Gr extends $t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,f){const m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=o.getSize(),y=u[1];for(let I=0;I<4&&y<w;I++){let U=$t.decodeDigit(o,m,y,$t.L_PATTERNS);f+=String.fromCharCode(48+U);for(let P of m)y+=P}y=$t.findGuardPattern(o,y,!0,$t.MIDDLE_PATTERN,new Int32Array($t.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<4&&y<w;I++){let U=$t.decodeDigit(o,m,y,$t.L_PATTERNS);f+=String.fromCharCode(48+U);for(let P of m)y+=P}return{rowOffset:y,resultString:f}}getBarcodeFormat(){return xe.EAN_8}}class ri extends $t{constructor(){super(...arguments),this.ean13Reader=new ti}getBarcodeFormat(){return xe.UPC_A}decode(o,u){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,u,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,u,f))}decodeMiddle(o,u,f){return this.ean13Reader.decodeMiddle(o,u,f)}maybeReturnResult(o){let u=o.getText();if(u.charAt(0)==="0"){let f=new fe(u.substring(1),null,null,o.getResultPoints(),xe.UPC_A);return o.getResultMetadata()!=null&&f.putAllMetadata(o.getResultMetadata()),f}else throw new ye}reset(){this.ean13Reader.reset()}}class wn extends $t{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,u,f){const m=this.decodeMiddleCounters.map(U=>U);m[0]=0,m[1]=0,m[2]=0,m[3]=0;const w=o.getSize();let y=u[1],_=0;for(let U=0;U<6&&y<w;U++){const P=wn.decodeDigit(o,m,y,wn.L_AND_G_PATTERNS);f+=String.fromCharCode(48+P%10);for(let Y of m)y+=Y;P>=10&&(_|=1<<5-U)}let I=wn.determineNumSysAndCheckDigit(f,_);return{rowOffset:y,resultString:I}}decodeEnd(o,u){return wn.findGuardPatternWithoutCounters(o,u,!0,wn.MIDDLE_END_PATTERN)}checkChecksum(o){return $t.checkChecksum(wn.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,u){for(let f=0;f<=1;f++)for(let m=0;m<10;m++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][m]){let w=String.fromCharCode(48+f),y=String.fromCharCode(48+m);return w+o+y}throw ye.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(o){const u=o.slice(1,7).split("").map(w=>w.charCodeAt(0)),f=new X;f.append(o.charAt(0));let m=u[5];switch(m){case 0:case 1:case 2:f.appendChars(u,0,2),f.append(m),f.append("0000"),f.appendChars(u,2,3);break;case 3:f.appendChars(u,0,3),f.append("00000"),f.appendChars(u,3,2);break;case 4:f.appendChars(u,0,4),f.append("00000"),f.append(u[4]);break;default:f.appendChars(u,0,5),f.append("0000"),f.append(m);break}return o.length>=8&&f.append(o.charAt(7)),f.toString()}}wn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ga extends Je{constructor(o){super();let u=o==null?null:o.get(te.POSSIBLE_FORMATS),f=[];n(u)?(f.push(new ti),f.push(new ri),f.push(new Gr),f.push(new wn)):(u.indexOf(xe.EAN_13)>-1&&f.push(new ti),u.indexOf(xe.UPC_A)>-1&&f.push(new ri),u.indexOf(xe.EAN_8)>-1&&f.push(new Gr),u.indexOf(xe.UPC_E)>-1&&f.push(new wn)),this.readers=f}decodeRow(o,u,f){for(let m of this.readers)try{const w=m.decodeRow(o,u,f),y=w.getBarcodeFormat()===xe.EAN_13&&w.getText().charAt(0)==="0",_=f==null?null:f.get(te.POSSIBLE_FORMATS),I=_==null||_.includes(xe.UPC_A);if(y&&I){const U=w.getRawBytes(),P=new fe(w.getText().substring(1),U,U?U.length:null,w.getResultPoints(),xe.UPC_A);return P.putAllMetadata(w.getResultMetadata()),P}return w}catch{}throw new ye}reset(){for(let o of this.readers)o.reset()}}class _n extends Je{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,u){for(let f=0;f<u.length;f++)if(Je.patternMatchVariance(o,u[f],_n.MAX_INDIVIDUAL_VARIANCE)<_n.MAX_AVG_VARIANCE)return f;throw new ye}static count(o){return Bt.sum(new Int32Array(o))}static increment(o,u){let f=0,m=u[0];for(let w=1;w<o.length;w++)u[w]>m&&(m=u[w],f=w);o[f]++}static decrement(o,u){let f=0,m=u[0];for(let w=1;w<o.length;w++)u[w]<m&&(m=u[w],f=w);o[f]--}static isFinderPattern(o){let u=o[0]+o[1],f=u+o[2]+o[3],m=u/f;if(m>=_n.MIN_FINDER_PATTERN_RATIO&&m<=_n.MAX_FINDER_PATTERN_RATIO){let w=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let _ of o)_>y&&(y=_),_<w&&(w=_);return y<10*w}return!1}}_n.MAX_AVG_VARIANCE=.2,_n.MAX_INDIVIDUAL_VARIANCE=.45,_n.MIN_FINDER_PATTERN_RATIO=9.5/12,_n.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ei{constructor(o,u){this.value=o,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Ei))return!1;const u=o;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ds{constructor(o,u,f,m,w){this.value=o,this.startEnd=u,this.value=o,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new _t(f,w)),this.resultPoints.push(new _t(m,w))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof ds))return!1;const u=o;return this.value===u.value}hashCode(){return this.value}}class zr{constructor(){}static getRSSvalue(o,u,f){let m=0;for(let I of o)m+=I;let w=0,y=0,_=o.length;for(let I=0;I<_-1;I++){let U;for(U=1,y|=1<<I;U<o[I];U++,y&=~(1<<I)){let P=zr.combins(m-U-1,_-I-2);if(f&&y===0&&m-U-(_-I-1)>=_-I-1&&(P-=zr.combins(m-U-(_-I),_-I-2)),_-I-1>1){let Y=0;for(let ie=m-U-(_-I-2);ie>u;ie--)Y+=zr.combins(m-U-ie-1,_-I-3);P-=Y*(_-1-I)}else m-U>u&&P--;w+=P}m-=U}return w}static combins(o,u){let f,m;o-u>u?(m=u,f=o-u):(m=o-u,f=u);let w=1,y=1;for(let _=o;_>f;_--)w*=_,y<=m&&(w/=y,y++);for(;y<=m;)w/=y,y++;return w}}class So{static buildBitArray(o){let u=o.length*2-1;o[o.length-1].getRightChar()==null&&(u-=1);let f=12*u,m=new ee(f),w=0,_=o[0].getRightChar().getValue();for(let I=11;I>=0;--I)(_&1<<I)!=0&&m.set(w),w++;for(let I=1;I<o.length;++I){let U=o[I],P=U.getLeftChar().getValue();for(let Y=11;Y>=0;--Y)(P&1<<Y)!=0&&m.set(w),w++;if(U.getRightChar()!=null){let Y=U.getRightChar().getValue();for(let ie=11;ie>=0;--ie)(Y&1<<ie)!=0&&m.set(w),w++}}return m}}class ni{constructor(o,u){u?this.decodedInformation=null:(this.finished=o,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ss{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class kn extends Ss{constructor(o,u){super(o),this.value=u}getValue(){return this.value}isFNC1(){return this.value===kn.FNC1}}kn.FNC1="$";class hs extends Ss{constructor(o,u,f){super(o),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class re extends Ss{constructor(o,u,f){if(super(o),u<0||u>10||f<0||f>10)throw new M;this.firstDigit=u,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===re.FNC1}isSecondDigitFNC1(){return this.secondDigit===re.FNC1}isAnyFNC1(){return this.firstDigit===re.FNC1||this.secondDigit===re.FNC1}}re.FNC1=10;class ae{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new ye;let u=o.substring(0,2);for(let w of ae.TWO_DIGIT_DATA_LENGTH)if(w[0]===u)return w[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(2,w[2],o):ae.processFixedAI(2,w[1],o);if(o.length<3)throw new ye;let f=o.substring(0,3);for(let w of ae.THREE_DIGIT_DATA_LENGTH)if(w[0]===f)return w[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(3,w[2],o):ae.processFixedAI(3,w[1],o);for(let w of ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(w[0]===f)return w[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,w[2],o):ae.processFixedAI(4,w[1],o);if(o.length<4)throw new ye;let m=o.substring(0,4);for(let w of ae.FOUR_DIGIT_DATA_LENGTH)if(w[0]===m)return w[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,w[2],o):ae.processFixedAI(4,w[1],o);throw new ye}static processFixedAI(o,u,f){if(f.length<o)throw new ye;let m=f.substring(0,o);if(f.length<o+u)throw new ye;let w=f.substring(o,o+u),y=f.substring(o+u),_="("+m+")"+w,I=ae.parseFieldsInGeneralPurpose(y);return I==null?_:_+I}static processVariableAI(o,u,f){let m=f.substring(0,o),w;f.length<o+u?w=f.length:w=o+u;let y=f.substring(o,w),_=f.substring(w),I="("+m+")"+y,U=ae.parseFieldsInGeneralPurpose(_);return U==null?I:I+U}}ae.VARIABLE_LENGTH=[],ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ae.VARIABLE_LENGTH,20],["22",ae.VARIABLE_LENGTH,29],["30",ae.VARIABLE_LENGTH,8],["37",ae.VARIABLE_LENGTH,8],["90",ae.VARIABLE_LENGTH,30],["91",ae.VARIABLE_LENGTH,30],["92",ae.VARIABLE_LENGTH,30],["93",ae.VARIABLE_LENGTH,30],["94",ae.VARIABLE_LENGTH,30],["95",ae.VARIABLE_LENGTH,30],["96",ae.VARIABLE_LENGTH,30],["97",ae.VARIABLE_LENGTH,3],["98",ae.VARIABLE_LENGTH,30],["99",ae.VARIABLE_LENGTH,30]],ae.THREE_DIGIT_DATA_LENGTH=[["240",ae.VARIABLE_LENGTH,30],["241",ae.VARIABLE_LENGTH,30],["242",ae.VARIABLE_LENGTH,6],["250",ae.VARIABLE_LENGTH,30],["251",ae.VARIABLE_LENGTH,30],["253",ae.VARIABLE_LENGTH,17],["254",ae.VARIABLE_LENGTH,20],["400",ae.VARIABLE_LENGTH,30],["401",ae.VARIABLE_LENGTH,30],["402",17],["403",ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ae.VARIABLE_LENGTH,20],["421",ae.VARIABLE_LENGTH,15],["422",3],["423",ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ae.VARIABLE_LENGTH,15],["391",ae.VARIABLE_LENGTH,18],["392",ae.VARIABLE_LENGTH,15],["393",ae.VARIABLE_LENGTH,18],["703",ae.VARIABLE_LENGTH,30]],ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ae.VARIABLE_LENGTH,20],["8003",ae.VARIABLE_LENGTH,30],["8004",ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ae.VARIABLE_LENGTH,30],["8008",ae.VARIABLE_LENGTH,12],["8018",18],["8020",ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ae.VARIABLE_LENGTH,70],["8200",ae.VARIABLE_LENGTH,70]];class le{constructor(o){this.buffer=new X,this.information=o}decodeAllCodes(o,u){let f=u,m=null;do{let w=this.decodeGeneralPurposeField(f,m),y=ae.parseFieldsInGeneralPurpose(w.getNewString());if(y!=null&&o.append(y),w.isRemaining()?m=""+w.getRemainingValue():m=null,f===w.getNewPosition())break;f=w.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let u=o;u<o+3;++u)if(this.information.get(u))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let w=this.extractNumericValueFromBitArray(o,4);return w===0?new re(this.information.getSize(),re.FNC1,re.FNC1):new re(this.information.getSize(),w-1,re.FNC1)}let u=this.extractNumericValueFromBitArray(o,7),f=(u-8)/11,m=(u-8)%11;return new re(o+7,f,m)}extractNumericValueFromBitArray(o,u){return le.extractNumericValueFromBitArray(this.information,o,u)}static extractNumericValueFromBitArray(o,u,f){let m=0;for(let w=0;w<f;++w)o.get(u+w)&&(m|=1<<f-w-1);return m}decodeGeneralPurposeField(o,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(o);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new hs(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new hs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,u;do{let f=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),o=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),o=u.isFinished()):(u=this.parseNumericBlock(),o=u.isFinished()),!(f!==this.current.getPosition())&&!o)break}while(!o);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let u;return o.isSecondDigitFNC1()?u=new hs(this.current.getPosition(),this.buffer.toString()):u=new hs(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new ni(!0,u)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let u=new hs(this.current.getPosition(),this.buffer.toString());return new ni(!0,u)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ni(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new hs(this.current.getPosition(),this.buffer.toString());return new ni(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ni(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new hs(this.current.getPosition(),this.buffer.toString());return new ni(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ni(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<116)return!0;if(o+8>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(o,8);return m>=232&&m<253}decodeIsoIec646(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new kn(o+5,kn.FNC1);if(u>=5&&u<15)return new kn(o+5,"0"+(u-5));let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<90)return new kn(o+7,""+(f+1));if(f>=90&&f<116)return new kn(o+7,""+(f+7));let m=this.extractNumericValueFromBitArray(o,8),w;switch(m){case 232:w="!";break;case 233:w='"';break;case 234:w="%";break;case 235:w="&";break;case 236:w="'";break;case 237:w="(";break;case 238:w=")";break;case 239:w="*";break;case 240:w="+";break;case 241:w=",";break;case 242:w="-";break;case 243:w=".";break;case 244:w="/";break;case 245:w=":";break;case 246:w=";";break;case 247:w="<";break;case 248:w="=";break;case 249:w=">";break;case 250:w="?";break;case 251:w="_";break;case 252:w=" ";break;default:throw new M}return new kn(o+8,w)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,6);return f>=16&&f<63}decodeAlphanumeric(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new kn(o+5,kn.FNC1);if(u>=5&&u<15)return new kn(o+5,"0"+(u-5));let f=this.extractNumericValueFromBitArray(o,6);if(f>=32&&f<58)return new kn(o+6,""+(f+33));let m;switch(f){case 58:m="*";break;case 59:m=",";break;case 60:m="-";break;case 61:m=".";break;case 62:m="/";break;default:throw new Lt("Decoding invalid alphanumeric value: "+f)}return new kn(o+6,m)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<5&&u+o<this.information.getSize();++u)if(u===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+u))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let u=o;u<o+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<4&&u+o<this.information.getSize();++u)if(this.information.get(o+u))return!1;return!0}}class ue{constructor(o){this.information=o,this.generalDecoder=new le(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class he extends ue{constructor(o){super(o)}encodeCompressedGtin(o,u){o.append("(01)");let f=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,u,f)}encodeCompressedGtinWithoutAI(o,u,f){for(let m=0;m<4;++m){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*m,10);w/100===0&&o.append("0"),w/10===0&&o.append("0"),o.append(w)}he.appendCheckDigit(o,f)}static appendCheckDigit(o,u){let f=0;for(let m=0;m<13;m++){let w=o.charAt(m+u).charCodeAt(0)-48;f+=(m&1)===0?3*w:w}f=10-f%10,f===10&&(f=0),o.append(f)}}he.GTIN_SIZE=40;class Ce extends he{constructor(o){super(o)}parseInformation(){let o=new X;o.append("(01)");let u=o.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(Ce.HEADER_SIZE,4);return o.append(f),this.encodeCompressedGtinWithoutAI(o,Ce.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(o,Ce.HEADER_SIZE+44)}}Ce.HEADER_SIZE=4;class je extends ue{constructor(o){super(o)}parseInformation(){let o=new X;return this.getGeneralDecoder().decodeAllCodes(o,je.HEADER_SIZE)}}je.HEADER_SIZE=5;class nt extends he{constructor(o){super(o)}encodeCompressedWeight(o,u,f){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(u,f);this.addWeightCode(o,m);let w=this.checkWeight(m),y=1e5;for(let _=0;_<5;++_)w/y===0&&o.append("0"),y/=10;o.append(w)}}class Qe extends nt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Qe.HEADER_SIZE+nt.GTIN_SIZE+Qe.WEIGHT_SIZE)throw new ye;let o=new X;return this.encodeCompressedGtin(o,Qe.HEADER_SIZE),this.encodeCompressedWeight(o,Qe.HEADER_SIZE+nt.GTIN_SIZE,Qe.WEIGHT_SIZE),o.toString()}}Qe.HEADER_SIZE=5,Qe.WEIGHT_SIZE=15;class We extends Qe{constructor(o){super(o)}addWeightCode(o,u){o.append("(3103)")}checkWeight(o){return o}}class Xe extends Qe{constructor(o){super(o)}addWeightCode(o,u){u<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class ut extends he{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<ut.HEADER_SIZE+he.GTIN_SIZE)throw new ye;let o=new X;this.encodeCompressedGtin(o,ut.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(ut.HEADER_SIZE+he.GTIN_SIZE,ut.LAST_DIGIT_SIZE);o.append("(392"),o.append(u),o.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(ut.HEADER_SIZE+he.GTIN_SIZE+ut.LAST_DIGIT_SIZE,null);return o.append(f.getNewString()),o.toString()}}ut.HEADER_SIZE=8,ut.LAST_DIGIT_SIZE=2;class ht extends he{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<ht.HEADER_SIZE+he.GTIN_SIZE)throw new ye;let o=new X;this.encodeCompressedGtin(o,ht.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(ht.HEADER_SIZE+he.GTIN_SIZE,ht.LAST_DIGIT_SIZE);o.append("(393"),o.append(u),o.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(ht.HEADER_SIZE+he.GTIN_SIZE+ht.LAST_DIGIT_SIZE,ht.FIRST_THREE_DIGITS_SIZE);f/100==0&&o.append("0"),f/10==0&&o.append("0"),o.append(f);let m=this.getGeneralDecoder().decodeGeneralPurposeField(ht.HEADER_SIZE+he.GTIN_SIZE+ht.LAST_DIGIT_SIZE+ht.FIRST_THREE_DIGITS_SIZE,null);return o.append(m.getNewString()),o.toString()}}ht.HEADER_SIZE=8,ht.LAST_DIGIT_SIZE=2,ht.FIRST_THREE_DIGITS_SIZE=10;class pt extends nt{constructor(o,u,f){super(o),this.dateCode=f,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=pt.HEADER_SIZE+pt.GTIN_SIZE+pt.WEIGHT_SIZE+pt.DATE_SIZE)throw new ye;let o=new X;return this.encodeCompressedGtin(o,pt.HEADER_SIZE),this.encodeCompressedWeight(o,pt.HEADER_SIZE+pt.GTIN_SIZE,pt.WEIGHT_SIZE),this.encodeCompressedDate(o,pt.HEADER_SIZE+pt.GTIN_SIZE+pt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,u){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(u,pt.DATE_SIZE);if(f==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let m=f%32;f/=32;let w=f%12+1;f/=12;let y=f;y/10==0&&o.append("0"),o.append(y),w/10==0&&o.append("0"),o.append(w),m/10==0&&o.append("0"),o.append(m)}addWeightCode(o,u){o.append("("),o.append(this.firstAIdigits),o.append(u/1e5),o.append(")")}checkWeight(o){return o%1e5}}pt.HEADER_SIZE=8,pt.WEIGHT_SIZE=20,pt.DATE_SIZE=16;function wt(q){try{if(q.get(1))return new Ce(q);if(!q.get(2))return new je(q);switch(le.extractNumericValueFromBitArray(q,1,4)){case 4:return new We(q);case 5:return new Xe(q)}switch(le.extractNumericValueFromBitArray(q,1,5)){case 12:return new ut(q);case 13:return new ht(q)}switch(le.extractNumericValueFromBitArray(q,1,7)){case 56:return new pt(q,"310","11");case 57:return new pt(q,"320","11");case 58:return new pt(q,"310","13");case 59:return new pt(q,"320","13");case 60:return new pt(q,"310","15");case 61:return new pt(q,"320","15");case 62:return new pt(q,"310","17");case 63:return new pt(q,"320","17")}}catch(o){throw console.log(o),new Lt("unknown decoder: "+q)}}class Ct{constructor(o,u,f,m){this.leftchar=o,this.rightchar=u,this.finderpattern=f,this.maybeLast=m}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,u){return o instanceof Ct?Ct.equalsOrNull(o.leftchar,u.leftchar)&&Ct.equalsOrNull(o.rightchar,u.rightchar)&&Ct.equalsOrNull(o.finderpattern,u.finderpattern):!1}static equalsOrNull(o,u){return o===null?u===null:Ct.equals(o,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Dt{constructor(o,u,f){this.pairs=o,this.rowNumber=u,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,u){return o instanceof Dt?this.checkEqualitity(o,u)&&o.wasReversed===u.wasReversed:!1}checkEqualitity(o,u){if(!o||!u)return;let f;return o.forEach((m,w)=>{u.forEach(y=>{m.getLeftChar().getValue()===y.getLeftChar().getValue()&&m.getRightChar().getValue()===y.getRightChar().getValue()&&m.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(f=!0)})}),f}}class it extends _n{constructor(o){super(...arguments),this.pairs=new Array(it.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,u,f){this.pairs.length=0,this.startFromEven=!1;try{return it.constructResult(this.decodeRow2pairs(o,u))}catch(m){this.verbose&&console.log(m)}return this.pairs.length=0,this.startFromEven=!0,it.constructResult(this.decodeRow2pairs(o,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,u){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,o))}catch(w){if(w instanceof ye){if(!this.pairs.length)throw new ye;f=!0}}if(this.checkChecksum())return this.pairs;let m;if(this.rows.length?m=!0:m=!1,this.storeRow(o,!1),m){let w=this.checkRowsBoolean(!1);if(w!=null||(w=this.checkRowsBoolean(!0),w!=null))return w}throw new ye}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return o&&(this.rows=this.rows.reverse()),u}checkRows(o,u){for(let f=u;f<this.rows.length;f++){let m=this.rows[f];this.pairs.length=0;for(let y of o)this.pairs.push(y.getPairs());if(this.pairs.push(m.getPairs()),!it.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let w=new Array(o);w.push(m);try{return this.checkRows(w,f+1)}catch(y){this.verbose&&console.log(y)}}throw new ye}static isValidSequence(o){for(let u of it.FINDER_PATTERN_SEQUENCES){if(o.length>u.length)continue;let f=!0;for(let m=0;m<o.length;m++)if(o[m].getFinderPattern().getValue()!=u[m]){f=!1;break}if(f)return!0}return!1}storeRow(o,u){let f=0,m=!1,w=!1;for(;f<this.rows.length;){let y=this.rows[f];if(y.getRowNumber()>o){w=y.isEquivalent(this.pairs);break}m=y.isEquivalent(this.pairs),f++}w||m||it.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new Dt(this.pairs,o,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,u){for(let f of u)if(f.getPairs().length!==o.length){for(let m of f.getPairs())for(let w of o)if(Ct.equals(m,w))break}}static isPartialRow(o,u){for(let f of u){let m=!0;for(let w of o){let y=!1;for(let _ of f.getPairs())if(w.equals(_)){y=!0;break}if(!y){m=!1;break}}if(m)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=So.buildBitArray(o),m=wt(u).parseInformation(),w=o[0].getFinderPattern().getResultPoints(),y=o[o.length-1].getFinderPattern().getResultPoints(),_=[w[0],w[1],y[0],y[1]];return new fe(m,null,null,_,xe.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),u=o.getLeftChar(),f=o.getRightChar();if(f==null)return!1;let m=f.getChecksumPortion(),w=2;for(let _=1;_<this.pairs.size();++_){let I=this.pairs.get(_);m+=I.getLeftChar().getChecksumPortion(),w++;let U=I.getRightChar();U!=null&&(m+=U.getChecksumPortion(),w++)}return m%=211,211*(w-4)+m==u.getValue()}static getNextSecondBar(o,u){let f;return o.get(u)?(f=o.getNextUnset(u),f=o.getNextSet(f)):(f=o.getNextSet(u),f=o.getNextUnset(f)),f}retrieveNextPair(o,u,f){let m=u.length%2==0;this.startFromEven&&(m=!m);let w,y=!0,_=-1;do this.findNextPair(o,u,_),w=this.parseFoundFinderPattern(o,f,m),w==null?_=it.getNextSecondBar(o,this.startEnd[0]):y=!1;while(y);let I=this.decodeDataCharacter(o,w,m,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new ye;let U;try{U=this.decodeDataCharacter(o,w,m,!1)}catch(P){U=null,this.verbose&&console.log(P)}return new Ct(I,U,w,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,u,f){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=o.getSize(),y;f>=0?y=f:this.isEmptyPair(u)?y=0:y=u[u.length-1].getFinderPattern().getStartEnd()[1];let _=u.length%2!=0;this.startFromEven&&(_=!_);let I=!1;for(;y<w&&(I=!o.get(y),!!I);)y++;let U=0,P=y;for(let Y=y;Y<w;Y++)if(o.get(Y)!=I)m[U]++;else{if(U==3){if(_&&it.reverseCounters(m),it.isFinderPattern(m)){this.startEnd[0]=P,this.startEnd[1]=Y;return}_&&it.reverseCounters(m),P+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,U--}else U++;m[U]=1,I=!I}throw new ye}static reverseCounters(o){let u=o.length;for(let f=0;f<u/2;++f){let m=o[f];o[f]=o[u-f-1],o[u-f-1]=m}}parseFoundFinderPattern(o,u,f){let m,w,y;if(f){let U=this.startEnd[0]-1;for(;U>=0&&!o.get(U);)U--;U++,m=this.startEnd[0]-U,w=U,y=this.startEnd[1]}else w=this.startEnd[0],y=o.getNextUnset(this.startEnd[1]+1),m=y-this.startEnd[1];let _=this.getDecodeFinderCounters();R.arraycopy(_,0,_,1,_.length-1),_[0]=m;let I;try{I=this.parseFinderValue(_,it.FINDER_PATTERNS)}catch{return null}return new ds(I,[w,y],w,y,u)}decodeDataCharacter(o,u,f,m){let w=this.getDataCharacterCounters();for(let Xr=0;Xr<w.length;Xr++)w[Xr]=0;if(m)it.recordPatternInReverse(o,u.getStartEnd()[0],w);else{it.recordPattern(o,u.getStartEnd()[1],w);for(let Xr=0,gi=w.length-1;Xr<gi;Xr++,gi--){let ms=w[Xr];w[Xr]=w[gi],w[gi]=ms}}let y=17,_=Bt.sum(new Int32Array(w))/y,I=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(_-I)/I>.3)throw new ye;let U=this.getOddCounts(),P=this.getEvenCounts(),Y=this.getOddRoundingErrors(),ie=this.getEvenRoundingErrors();for(let Xr=0;Xr<w.length;Xr++){let gi=1*w[Xr]/_,ms=gi+.5;if(ms<1){if(gi<.3)throw new ye;ms=1}else if(ms>8){if(gi>8.7)throw new ye;ms=8}let wA=Xr/2;(Xr&1)==0?(U[wA]=ms,Y[wA]=gi-ms):(P[wA]=ms,ie[wA]=gi-ms)}this.adjustOddEvenCounts(y);let ve=4*u.getValue()+(f?0:2)+(m?0:1)-1,be=0,Ie=0;for(let Xr=U.length-1;Xr>=0;Xr--){if(it.isNotA1left(u,f,m)){let gi=it.WEIGHTS[ve][2*Xr];Ie+=U[Xr]*gi}be+=U[Xr]}let Oe=0;for(let Xr=P.length-1;Xr>=0;Xr--)if(it.isNotA1left(u,f,m)){let gi=it.WEIGHTS[ve][2*Xr+1];Oe+=P[Xr]*gi}let $e=Ie+Oe;if((be&1)!=0||be>13||be<4)throw new ye;let yt=(13-be)/2,vt=it.SYMBOL_WIDEST[yt],dt=9-vt,vr=zr.getRSSvalue(U,vt,!0),ir=zr.getRSSvalue(P,dt,!1),Pn=it.EVEN_TOTAL_SUBSET[yt],Ls=it.GSUM[yt],ki=vr*Pn+ir+Ls;return new Ei(ki,$e)}static isNotA1left(o,u,f){return!(o.getValue()==0&&u&&f)}adjustOddEvenCounts(o){let u=Bt.sum(new Int32Array(this.getOddCounts())),f=Bt.sum(new Int32Array(this.getEvenCounts())),m=!1,w=!1;u>13?w=!0:u<4&&(m=!0);let y=!1,_=!1;f>13?_=!0:f<4&&(y=!0);let I=u+f-o,U=(u&1)==1,P=(f&1)==0;if(I==1)if(U){if(P)throw new ye;w=!0}else{if(!P)throw new ye;_=!0}else if(I==-1)if(U){if(P)throw new ye;m=!0}else{if(!P)throw new ye;y=!0}else if(I==0){if(U){if(!P)throw new ye;u<f?(m=!0,_=!0):(w=!0,y=!0)}else if(P)throw new ye}else throw new ye;if(m){if(w)throw new ye;it.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&it.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(_)throw new ye;it.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&it.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.SYMBOL_WIDEST=[7,5,4,3,1],it.EVEN_TOTAL_SUBSET=[4,20,52,104,204],it.GSUM=[0,348,1388,2948,3988],it.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],it.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],it.FINDER_PAT_A=0,it.FINDER_PAT_B=1,it.FINDER_PAT_C=2,it.FINDER_PAT_D=3,it.FINDER_PAT_E=4,it.FINDER_PAT_F=5,it.FINDER_PATTERN_SEQUENCES=[[it.FINDER_PAT_A,it.FINDER_PAT_A],[it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B],[it.FINDER_PAT_A,it.FINDER_PAT_C,it.FINDER_PAT_B,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_C],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F]],it.MAX_PAIRS=11;class Fr extends Ei{constructor(o,u,f){super(o,u),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Gt extends _n{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,u,f){const m=this.decodePair(u,!1,o,f);Gt.addOrTally(this.possibleLeftPairs,m),u.reverse();let w=this.decodePair(u,!0,o,f);Gt.addOrTally(this.possibleRightPairs,w),u.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let _ of this.possibleRightPairs)if(_.getCount()>1&&Gt.checkChecksum(y,_))return Gt.constructResult(y,_)}throw new ye}static addOrTally(o,u){if(u==null)return;let f=!1;for(let m of o)if(m.getValue()===u.getValue()){m.incrementCount(),f=!0;break}f||o.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,u){let f=4537077*o.getValue()+u.getValue(),m=new String(f).toString(),w=new X;for(let U=13-m.length;U>0;U--)w.append("0");w.append(m);let y=0;for(let U=0;U<13;U++){let P=w.charAt(U).charCodeAt(0)-48;y+=(U&1)===0?3*P:P}y=10-y%10,y===10&&(y=0),w.append(y.toString());let _=o.getFinderPattern().getResultPoints(),I=u.getFinderPattern().getResultPoints();return new fe(w.toString(),null,0,[_[0],_[1],I[0],I[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(o,u){let f=(o.getChecksumPortion()+16*u.getChecksumPortion())%79,m=9*o.getFinderPattern().getValue()+u.getFinderPattern().getValue();return m>72&&m--,m>8&&m--,f===m}decodePair(o,u,f,m){try{let w=this.findFinderPattern(o,u),y=this.parseFoundFinderPattern(o,f,u,w),_=m==null?null:m.get(te.NEED_RESULT_POINT_CALLBACK);if(_!=null){let P=(w[0]+w[1])/2;u&&(P=o.getSize()-1-P),_.foundPossibleResultPoint(new _t(P,f))}let I=this.decodeDataCharacter(o,y,!0),U=this.decodeDataCharacter(o,y,!1);return new Fr(1597*I.getValue()+U.getValue(),I.getChecksumPortion()+4*U.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(o,u,f){let m=this.getDataCharacterCounters();for(let Oe=0;Oe<m.length;Oe++)m[Oe]=0;if(f)Je.recordPatternInReverse(o,u.getStartEnd()[0],m);else{Je.recordPattern(o,u.getStartEnd()[1]+1,m);for(let Oe=0,$e=m.length-1;Oe<$e;Oe++,$e--){let yt=m[Oe];m[Oe]=m[$e],m[$e]=yt}}let w=f?16:15,y=Bt.sum(new Int32Array(m))/w,_=this.getOddCounts(),I=this.getEvenCounts(),U=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let Oe=0;Oe<m.length;Oe++){let $e=m[Oe]/y,yt=Math.floor($e+.5);yt<1?yt=1:yt>8&&(yt=8);let vt=Math.floor(Oe/2);(Oe&1)===0?(_[vt]=yt,U[vt]=$e-yt):(I[vt]=yt,P[vt]=$e-yt)}this.adjustOddEvenCounts(f,w);let Y=0,ie=0;for(let Oe=_.length-1;Oe>=0;Oe--)ie*=9,ie+=_[Oe],Y+=_[Oe];let ve=0,be=0;for(let Oe=I.length-1;Oe>=0;Oe--)ve*=9,ve+=I[Oe],be+=I[Oe];let Ie=ie+3*ve;if(f){if((Y&1)!==0||Y>12||Y<4)throw new ye;let Oe=(12-Y)/2,$e=Gt.OUTSIDE_ODD_WIDEST[Oe],yt=9-$e,vt=zr.getRSSvalue(_,$e,!1),dt=zr.getRSSvalue(I,yt,!0),vr=Gt.OUTSIDE_EVEN_TOTAL_SUBSET[Oe],ir=Gt.OUTSIDE_GSUM[Oe];return new Ei(vt*vr+dt+ir,Ie)}else{if((be&1)!==0||be>10||be<4)throw new ye;let Oe=(10-be)/2,$e=Gt.INSIDE_ODD_WIDEST[Oe],yt=9-$e,vt=zr.getRSSvalue(_,$e,!0),dt=zr.getRSSvalue(I,yt,!1),vr=Gt.INSIDE_ODD_TOTAL_SUBSET[Oe],ir=Gt.INSIDE_GSUM[Oe];return new Ei(dt*vr+vt+ir,Ie)}}findFinderPattern(o,u){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=o.getSize(),w=!1,y=0;for(;y<m&&(w=!o.get(y),u!==w);)y++;let _=0,I=y;for(let U=y;U<m;U++)if(o.get(U)!==w)f[_]++;else{if(_===3){if(_n.isFinderPattern(f))return[I,U];I+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,_--}else _++;f[_]=1,w=!w}throw new ye}parseFoundFinderPattern(o,u,f,m){let w=o.get(m[0]),y=m[0]-1;for(;y>=0&&w!==o.get(y);)y--;y++;const _=m[0]-y,I=this.getDecodeFinderCounters(),U=new Int32Array(I.length);R.arraycopy(I,0,U,1,I.length-1),U[0]=_;const P=this.parseFinderValue(U,Gt.FINDER_PATTERNS);let Y=y,ie=m[1];return f&&(Y=o.getSize()-1-Y,ie=o.getSize()-1-ie),new ds(P,[y,m[1]],Y,ie,u)}adjustOddEvenCounts(o,u){let f=Bt.sum(new Int32Array(this.getOddCounts())),m=Bt.sum(new Int32Array(this.getEvenCounts())),w=!1,y=!1,_=!1,I=!1;o?(f>12?y=!0:f<4&&(w=!0),m>12?I=!0:m<4&&(_=!0)):(f>11?y=!0:f<5&&(w=!0),m>10?I=!0:m<4&&(_=!0));let U=f+m-u,P=(f&1)===(o?1:0),Y=(m&1)===1;if(U===1)if(P){if(Y)throw new ye;y=!0}else{if(!Y)throw new ye;I=!0}else if(U===-1)if(P){if(Y)throw new ye;w=!0}else{if(!Y)throw new ye;_=!0}else if(U===0){if(P){if(!Y)throw new ye;f<m?(w=!0,I=!0):(y=!0,_=!0)}else if(Y)throw new ye}else throw new ye;if(w){if(y)throw new ye;_n.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&_n.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(I)throw new ye;_n.increment(this.getEvenCounts(),this.getOddRoundingErrors())}I&&_n.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Gt.OUTSIDE_GSUM=[0,161,961,2015,2715],Gt.INSIDE_GSUM=[0,336,1036,1516],Gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Gt.INSIDE_ODD_WIDEST=[2,4,6,8],Gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Nn extends Je{constructor(o,u){super(),this.readers=[],this.verbose=u===!0;const f=o?o.get(te.POSSIBLE_FORMATS):null,m=o&&o.get(te.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(xe.EAN_13)||f.includes(xe.UPC_A)||f.includes(xe.EAN_8)||f.includes(xe.UPC_E))&&this.readers.push(new ga(o)),f.includes(xe.CODE_39)&&this.readers.push(new st(m)),f.includes(xe.CODE_128)&&this.readers.push(new Ee),f.includes(xe.ITF)&&this.readers.push(new At),f.includes(xe.RSS_14)&&this.readers.push(new Gt),f.includes(xe.RSS_EXPANDED)&&this.readers.push(new it(this.verbose))):(this.readers.push(new ga(o)),this.readers.push(new st),this.readers.push(new ga(o)),this.readers.push(new Ee),this.readers.push(new At),this.readers.push(new Gt),this.readers.push(new it(this.verbose)))}decodeRow(o,u,f){for(let m=0;m<this.readers.length;m++)try{return this.readers[m].decodeRow(o,u,f)}catch{}throw new ye}reset(){this.readers.forEach(o=>o.reset())}}class Pa extends de{constructor(o=500,u){super(new Nn(u),o,u)}}class dr{constructor(o,u,f){this.ecCodewords=o,this.ecBlocks=[u],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class nr{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ar{constructor(o,u,f,m,w,y){this.versionNumber=o,this.symbolSizeRows=u,this.symbolSizeColumns=f,this.dataRegionSizeRows=m,this.dataRegionSizeColumns=w,this.ecBlocks=y;let _=0;const I=y.getECCodewords(),U=y.getECBlocks();for(let P of U)_+=P.getCount()*(P.getDataCodewords()+I);this.totalCodewords=_}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,u){if((o&1)!==0||(u&1)!==0)throw new M;for(let f of ar.VERSIONS)if(f.symbolSizeRows===o&&f.symbolSizeColumns===u)return f;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new ar(1,10,10,8,8,new dr(5,new nr(1,3))),new ar(2,12,12,10,10,new dr(7,new nr(1,5))),new ar(3,14,14,12,12,new dr(10,new nr(1,8))),new ar(4,16,16,14,14,new dr(12,new nr(1,12))),new ar(5,18,18,16,16,new dr(14,new nr(1,18))),new ar(6,20,20,18,18,new dr(18,new nr(1,22))),new ar(7,22,22,20,20,new dr(20,new nr(1,30))),new ar(8,24,24,22,22,new dr(24,new nr(1,36))),new ar(9,26,26,24,24,new dr(28,new nr(1,44))),new ar(10,32,32,14,14,new dr(36,new nr(1,62))),new ar(11,36,36,16,16,new dr(42,new nr(1,86))),new ar(12,40,40,18,18,new dr(48,new nr(1,114))),new ar(13,44,44,20,20,new dr(56,new nr(1,144))),new ar(14,48,48,22,22,new dr(68,new nr(1,174))),new ar(15,52,52,24,24,new dr(42,new nr(2,102))),new ar(16,64,64,14,14,new dr(56,new nr(2,140))),new ar(17,72,72,16,16,new dr(36,new nr(4,92))),new ar(18,80,80,18,18,new dr(48,new nr(4,114))),new ar(19,88,88,20,20,new dr(56,new nr(4,144))),new ar(20,96,96,22,22,new dr(68,new nr(4,174))),new ar(21,104,104,24,24,new dr(56,new nr(6,136))),new ar(22,120,120,18,18,new dr(68,new nr(6,175))),new ar(23,132,132,20,20,new dr(62,new nr(8,163))),new ar(24,144,144,22,22,new dr(62,new nr(8,156),new nr(2,155))),new ar(25,8,18,6,16,new dr(7,new nr(1,5))),new ar(26,8,32,6,14,new dr(11,new nr(1,10))),new ar(27,12,26,10,24,new dr(14,new nr(1,16))),new ar(28,12,36,10,16,new dr(18,new nr(1,22))),new ar(29,16,36,14,16,new dr(24,new nr(1,32))),new ar(30,16,48,14,22,new dr(28,new nr(1,49)))]}}ar.VERSIONS=ar.buildVersions();class Mn{constructor(o){const u=o.getHeight();if(u<8||u>144||(u&1)!==0)throw new M;this.version=Mn.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Me(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const u=o.getHeight(),f=o.getWidth();return ar.getVersionForDimensions(u,f)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let u=0,f=4,m=0;const w=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let _=!1,I=!1,U=!1,P=!1;do if(f===w&&m===0&&!_)o[u++]=this.readCorner1(w,y)&255,f-=2,m+=2,_=!0;else if(f===w-2&&m===0&&(y&3)!==0&&!I)o[u++]=this.readCorner2(w,y)&255,f-=2,m+=2,I=!0;else if(f===w+4&&m===2&&(y&7)===0&&!U)o[u++]=this.readCorner3(w,y)&255,f-=2,m+=2,U=!0;else if(f===w-2&&m===0&&(y&7)===4&&!P)o[u++]=this.readCorner4(w,y)&255,f-=2,m+=2,P=!0;else{do f<w&&m>=0&&!this.readMappingMatrix.get(m,f)&&(o[u++]=this.readUtah(f,m,w,y)&255),f-=2,m+=2;while(f>=0&&m<y);f+=1,m+=3;do f>=0&&m<y&&!this.readMappingMatrix.get(m,f)&&(o[u++]=this.readUtah(f,m,w,y)&255),f+=2,m-=2;while(f<w&&m>=0);f+=3,m+=1}while(f<w||m<y);if(u!==this.version.getTotalCodewords())throw new M;return o}readModule(o,u,f,m){return o<0&&(o+=f,u+=4-(f+4&7)),u<0&&(u+=m,o+=4-(m+4&7)),this.readMappingMatrix.set(u,o),this.mappingBitMatrix.get(u,o)}readUtah(o,u,f,m){let w=0;return this.readModule(o-2,u-2,f,m)&&(w|=1),w<<=1,this.readModule(o-2,u-1,f,m)&&(w|=1),w<<=1,this.readModule(o-1,u-2,f,m)&&(w|=1),w<<=1,this.readModule(o-1,u-1,f,m)&&(w|=1),w<<=1,this.readModule(o-1,u,f,m)&&(w|=1),w<<=1,this.readModule(o,u-2,f,m)&&(w|=1),w<<=1,this.readModule(o,u-1,f,m)&&(w|=1),w<<=1,this.readModule(o,u,f,m)&&(w|=1),w}readCorner1(o,u){let f=0;return this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,1,o,u)&&(f|=1),f<<=1,this.readModule(o-1,2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f<<=1,this.readModule(2,u-1,o,u)&&(f|=1),f<<=1,this.readModule(3,u-1,o,u)&&(f|=1),f}readCorner2(o,u){let f=0;return this.readModule(o-3,0,o,u)&&(f|=1),f<<=1,this.readModule(o-2,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(0,u-4,o,u)&&(f|=1),f<<=1,this.readModule(0,u-3,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f}readCorner3(o,u){let f=0;return this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,u-1,o,u)&&(f|=1),f<<=1,this.readModule(0,u-3,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-3,o,u)&&(f|=1),f<<=1,this.readModule(1,u-2,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f}readCorner4(o,u){let f=0;return this.readModule(o-3,0,o,u)&&(f|=1),f<<=1,this.readModule(o-2,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f<<=1,this.readModule(2,u-1,o,u)&&(f|=1),f<<=1,this.readModule(3,u-1,o,u)&&(f|=1),f}extractDataRegion(o){const u=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(o.getHeight()!==u)throw new C("Dimension of bitMatrix must match the version size");const m=this.version.getDataRegionSizeRows(),w=this.version.getDataRegionSizeColumns(),y=u/m|0,_=f/w|0,I=y*m,U=_*w,P=new Me(U,I);for(let Y=0;Y<y;++Y){const ie=Y*m;for(let ve=0;ve<_;++ve){const be=ve*w;for(let Ie=0;Ie<m;++Ie){const Oe=Y*(m+2)+1+Ie,$e=ie+Ie;for(let yt=0;yt<w;++yt){const vt=ve*(w+2)+1+yt;if(o.get(vt,Oe)){const dt=be+yt;P.set(dt,$e)}}}}}return P}}class pa{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u){const f=u.getECBlocks();let m=0;const w=f.getECBlocks();for(let Ie of w)m+=Ie.getCount();const y=new Array(m);let _=0;for(let Ie of w)for(let Oe=0;Oe<Ie.getCount();Oe++){const $e=Ie.getDataCodewords(),yt=f.getECCodewords()+$e;y[_++]=new pa($e,new Uint8Array(yt))}const U=y[0].codewords.length-f.getECCodewords(),P=U-1;let Y=0;for(let Ie=0;Ie<P;Ie++)for(let Oe=0;Oe<_;Oe++)y[Oe].codewords[Ie]=o[Y++];const ie=u.getVersionNumber()===24,ve=ie?8:_;for(let Ie=0;Ie<ve;Ie++)y[Ie].codewords[U-1]=o[Y++];const be=y[0].codewords.length;for(let Ie=U;Ie<be;Ie++)for(let Oe=0;Oe<_;Oe++){const $e=ie?(Oe+8)%_:Oe,yt=ie&&$e>7?Ie-1:Ie;y[$e].codewords[yt]=o[Y++]}if(Y!==o.length)throw new C;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Yi{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new C(""+o);let u=0,f=this.bitOffset,m=this.byteOffset;const w=this.bytes;if(f>0){const y=8-f,_=o<y?o:y,I=y-_,U=255>>8-_<<I;u=(w[m]&U)>>I,o-=_,f+=_,f===8&&(f=0,m++)}if(o>0){for(;o>=8;)u=u<<8|w[m]&255,m++,o-=8;if(o>0){const y=8-o,_=255>>y<<y;u=u<<o|(w[m]&_)>>y,f+=o}}return this.bitOffset=f,this.byteOffset=m,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Sr;(function(q){q[q.PAD_ENCODE=0]="PAD_ENCODE",q[q.ASCII_ENCODE=1]="ASCII_ENCODE",q[q.C40_ENCODE=2]="C40_ENCODE",q[q.TEXT_ENCODE=3]="TEXT_ENCODE",q[q.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",q[q.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",q[q.BASE256_ENCODE=6]="BASE256_ENCODE"})(Sr||(Sr={}));class Js{static decode(o){const u=new Yi(o),f=new X,m=new X,w=new Array;let y=Sr.ASCII_ENCODE;do if(y===Sr.ASCII_ENCODE)y=this.decodeAsciiSegment(u,f,m);else{switch(y){case Sr.C40_ENCODE:this.decodeC40Segment(u,f);break;case Sr.TEXT_ENCODE:this.decodeTextSegment(u,f);break;case Sr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,f);break;case Sr.EDIFACT_ENCODE:this.decodeEdifactSegment(u,f);break;case Sr.BASE256_ENCODE:this.decodeBase256Segment(u,f,w);break;default:throw new M}y=Sr.ASCII_ENCODE}while(y!==Sr.PAD_ENCODE&&u.available()>0);return m.length()>0&&f.append(m.toString()),new _e(o,f.toString(),w.length===0?null:w,null)}static decodeAsciiSegment(o,u,f){let m=!1;do{let w=o.readBits(8);if(w===0)throw new M;if(w<=128)return m&&(w+=128),u.append(String.fromCharCode(w-1)),Sr.ASCII_ENCODE;if(w===129)return Sr.PAD_ENCODE;if(w<=229){const y=w-130;y<10&&u.append("0"),u.append(""+y)}else switch(w){case 230:return Sr.C40_ENCODE;case 231:return Sr.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:m=!0;break;case 236:u.append("[)>05"),f.insert(0,"");break;case 237:u.append("[)>06"),f.insert(0,"");break;case 238:return Sr.ANSIX12_ENCODE;case 239:return Sr.TEXT_ENCODE;case 240:return Sr.EDIFACT_ENCODE;case 241:break;default:if(w!==254||o.available()!==0)throw new M;break}}while(o.available()>0);return Sr.ASCII_ENCODE}static decodeC40Segment(o,u){let f=!1;const m=[];let w=0;do{if(o.available()===8)return;const y=o.readBits(8);if(y===254)return;this.parseTwoBytes(y,o.readBits(8),m);for(let _=0;_<3;_++){const I=m[_];switch(w){case 0:if(I<3)w=I+1;else if(I<this.C40_BASIC_SET_CHARS.length){const U=this.C40_BASIC_SET_CHARS[I];f?(u.append(String.fromCharCode(U.charCodeAt(0)+128)),f=!1):u.append(U)}else throw new M;break;case 1:f?(u.append(String.fromCharCode(I+128)),f=!1):u.append(String.fromCharCode(I)),w=0;break;case 2:if(I<this.C40_SHIFT2_SET_CHARS.length){const U=this.C40_SHIFT2_SET_CHARS[I];f?(u.append(String.fromCharCode(U.charCodeAt(0)+128)),f=!1):u.append(U)}else switch(I){case 27:u.append("");break;case 30:f=!0;break;default:throw new M}w=0;break;case 3:f?(u.append(String.fromCharCode(I+224)),f=!1):u.append(String.fromCharCode(I+96)),w=0;break;default:throw new M}}}while(o.available()>0)}static decodeTextSegment(o,u){let f=!1,m=[],w=0;do{if(o.available()===8)return;const y=o.readBits(8);if(y===254)return;this.parseTwoBytes(y,o.readBits(8),m);for(let _=0;_<3;_++){const I=m[_];switch(w){case 0:if(I<3)w=I+1;else if(I<this.TEXT_BASIC_SET_CHARS.length){const U=this.TEXT_BASIC_SET_CHARS[I];f?(u.append(String.fromCharCode(U.charCodeAt(0)+128)),f=!1):u.append(U)}else throw new M;break;case 1:f?(u.append(String.fromCharCode(I+128)),f=!1):u.append(String.fromCharCode(I)),w=0;break;case 2:if(I<this.TEXT_SHIFT2_SET_CHARS.length){const U=this.TEXT_SHIFT2_SET_CHARS[I];f?(u.append(String.fromCharCode(U.charCodeAt(0)+128)),f=!1):u.append(U)}else switch(I){case 27:u.append("");break;case 30:f=!0;break;default:throw new M}w=0;break;case 3:if(I<this.TEXT_SHIFT3_SET_CHARS.length){const U=this.TEXT_SHIFT3_SET_CHARS[I];f?(u.append(String.fromCharCode(U.charCodeAt(0)+128)),f=!1):u.append(U),w=0}else throw new M;break;default:throw new M}}}while(o.available()>0)}static decodeAnsiX12Segment(o,u){const f=[];do{if(o.available()===8)return;const m=o.readBits(8);if(m===254)return;this.parseTwoBytes(m,o.readBits(8),f);for(let w=0;w<3;w++){const y=f[w];switch(y){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(y<14)u.append(String.fromCharCode(y+44));else if(y<40)u.append(String.fromCharCode(y+51));else throw new M;break}}}while(o.available()>0)}static parseTwoBytes(o,u,f){let m=(o<<8)+u-1,w=Math.floor(m/1600);f[0]=w,m-=w*1600,w=Math.floor(m/40),f[1]=w,f[2]=m-w*40}static decodeEdifactSegment(o,u){do{if(o.available()<=16)return;for(let f=0;f<4;f++){let m=o.readBits(6);if(m===31){const w=8-o.getBitOffset();w!==8&&o.readBits(w);return}(m&32)===0&&(m|=64),u.append(String.fromCharCode(m))}}while(o.available()>0)}static decodeBase256Segment(o,u,f){let m=1+o.getByteOffset();const w=this.unrandomize255State(o.readBits(8),m++);let y;if(w===0?y=o.available()/8|0:w<250?y=w:y=250*(w-249)+this.unrandomize255State(o.readBits(8),m++),y<0)throw new M;const _=new Uint8Array(y);for(let I=0;I<y;I++){if(o.available()<8)throw new M;_[I]=this.unrandomize255State(o.readBits(8),m++)}f.push(_);try{u.append(J.decode(_,W.ISO88591))}catch(I){throw new Lt("Platform does not support required encoding: "+I.message)}}static unrandomize255State(o,u){const f=149*u%255+1,m=o-f;return m>=0?m:m+256}}Js.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Js.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Js.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Js.TEXT_SHIFT2_SET_CHARS=Js.C40_SHIFT2_SET_CHARS,Js.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Gu{constructor(){this.rsDecoder=new Ne(St.DATA_MATRIX_FIELD_256)}decode(o){const u=new Mn(o),f=u.getVersion(),m=u.readCodewords(),w=pa.getDataBlocks(m,f);let y=0;for(let U of w)y+=U.getNumDataCodewords();const _=new Uint8Array(y),I=w.length;for(let U=0;U<I;U++){const P=w[U],Y=P.getCodewords(),ie=P.getNumDataCodewords();this.correctErrors(Y,ie);for(let ve=0;ve<ie;ve++)_[ve*I+U]=Y[ve]}return Js.decode(_)}correctErrors(o,u){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-u)}catch{throw new F}for(let m=0;m<u;m++)o[m]=f[m]}}class rn{constructor(o){this.image=o,this.rectangleDetector=new Ge(this.image)}detect(){const o=this.rectangleDetector.detect();let u=this.detectSolid1(o);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new ye;u=this.shiftToModuleCenter(u);const f=u[0],m=u[1],w=u[2],y=u[3];let _=this.transitionsBetween(f,y)+1,I=this.transitionsBetween(w,y)+1;(_&1)===1&&(_+=1),(I&1)===1&&(I+=1),4*_<7*I&&4*I<7*_&&(_=I=Math.max(_,I));let U=rn.sampleGrid(this.image,f,m,w,y,_,I);return new Bn(U,[f,m,w,y])}static shiftPoint(o,u,f){let m=(u.getX()-o.getX())/(f+1),w=(u.getY()-o.getY())/(f+1);return new _t(o.getX()+m,o.getY()+w)}static moveAway(o,u,f){let m=o.getX(),w=o.getY();return m<u?m-=1:m+=1,w<f?w-=1:w+=1,new _t(m,w)}detectSolid1(o){let u=o[0],f=o[1],m=o[3],w=o[2],y=this.transitionsBetween(u,f),_=this.transitionsBetween(f,m),I=this.transitionsBetween(m,w),U=this.transitionsBetween(w,u),P=y,Y=[w,u,f,m];return P>_&&(P=_,Y[0]=u,Y[1]=f,Y[2]=m,Y[3]=w),P>I&&(P=I,Y[0]=f,Y[1]=m,Y[2]=w,Y[3]=u),P>U&&(Y[0]=m,Y[1]=w,Y[2]=u,Y[3]=f),Y}detectSolid2(o){let u=o[0],f=o[1],m=o[2],w=o[3],y=this.transitionsBetween(u,w),_=rn.shiftPoint(f,m,(y+1)*4),I=rn.shiftPoint(m,f,(y+1)*4),U=this.transitionsBetween(_,u),P=this.transitionsBetween(I,w);return U<P?(o[0]=u,o[1]=f,o[2]=m,o[3]=w):(o[0]=f,o[1]=m,o[2]=w,o[3]=u),o}correctTopRight(o){let u=o[0],f=o[1],m=o[2],w=o[3],y=this.transitionsBetween(u,w),_=this.transitionsBetween(f,w),I=rn.shiftPoint(u,f,(_+1)*4),U=rn.shiftPoint(m,f,(y+1)*4);y=this.transitionsBetween(I,w),_=this.transitionsBetween(U,w);let P=new _t(w.getX()+(m.getX()-f.getX())/(y+1),w.getY()+(m.getY()-f.getY())/(y+1)),Y=new _t(w.getX()+(u.getX()-f.getX())/(_+1),w.getY()+(u.getY()-f.getY())/(_+1));if(!this.isValid(P))return this.isValid(Y)?Y:null;if(!this.isValid(Y))return P;let ie=this.transitionsBetween(I,P)+this.transitionsBetween(U,P),ve=this.transitionsBetween(I,Y)+this.transitionsBetween(U,Y);return ie>ve?P:Y}shiftToModuleCenter(o){let u=o[0],f=o[1],m=o[2],w=o[3],y=this.transitionsBetween(u,w)+1,_=this.transitionsBetween(m,w)+1,I=rn.shiftPoint(u,f,_*4),U=rn.shiftPoint(m,f,y*4);y=this.transitionsBetween(I,w)+1,_=this.transitionsBetween(U,w)+1,(y&1)===1&&(y+=1),(_&1)===1&&(_+=1);let P=(u.getX()+f.getX()+m.getX()+w.getX())/4,Y=(u.getY()+f.getY()+m.getY()+w.getY())/4;u=rn.moveAway(u,P,Y),f=rn.moveAway(f,P,Y),m=rn.moveAway(m,P,Y),w=rn.moveAway(w,P,Y);let ie,ve;return I=rn.shiftPoint(u,f,_*4),I=rn.shiftPoint(I,w,y*4),ie=rn.shiftPoint(f,u,_*4),ie=rn.shiftPoint(ie,m,y*4),U=rn.shiftPoint(m,w,_*4),U=rn.shiftPoint(U,f,y*4),ve=rn.shiftPoint(w,m,_*4),ve=rn.shiftPoint(ve,u,y*4),[I,ie,U,ve]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,u,f,m,w,y,_){return fr.getInstance().sampleGrid(o,y,_,.5,.5,y-.5,.5,y-.5,_-.5,.5,_-.5,u.getX(),u.getY(),w.getX(),w.getY(),m.getX(),m.getY(),f.getX(),f.getY())}transitionsBetween(o,u){let f=Math.trunc(o.getX()),m=Math.trunc(o.getY()),w=Math.trunc(u.getX()),y=Math.trunc(u.getY()),_=Math.abs(y-m)>Math.abs(w-f);if(_){let Ie=f;f=m,m=Ie,Ie=w,w=y,y=Ie}let I=Math.abs(w-f),U=Math.abs(y-m),P=-I/2,Y=m<y?1:-1,ie=f<w?1:-1,ve=0,be=this.image.get(_?m:f,_?f:m);for(let Ie=f,Oe=m;Ie!==w;Ie+=ie){let $e=this.image.get(_?Oe:Ie,_?Ie:Oe);if($e!==be&&(ve++,be=$e),P+=U,P>0){if(Oe===y)break;Oe+=Y,P-=I}}return ve}}class Is{constructor(){this.decoder=new Gu}decode(o,u=null){let f,m;if(u!=null&&u.has(te.PURE_BARCODE)){const U=Is.extractPureBits(o.getBlackMatrix());f=this.decoder.decode(U),m=Is.NO_POINTS}else{const U=new rn(o.getBlackMatrix()).detect();f=this.decoder.decode(U.getBits()),m=U.getPoints()}const w=f.getRawBytes(),y=new fe(f.getText(),w,8*w.length,m,xe.DATA_MATRIX,R.currentTimeMillis()),_=f.getByteSegments();_!=null&&y.putMetadata(Fe.BYTE_SEGMENTS,_);const I=f.getECLevel();return I!=null&&y.putMetadata(Fe.ERROR_CORRECTION_LEVEL,I),y}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(u==null||f==null)throw new ye;const m=this.moduleSize(u,o);let w=u[1];const y=f[1];let _=u[0];const U=(f[0]-_+1)/m,P=(y-w+1)/m;if(U<=0||P<=0)throw new ye;const Y=m/2;w+=Y,_+=Y;const ie=new Me(U,P);for(let ve=0;ve<P;ve++){const be=w+ve*m;for(let Ie=0;Ie<U;Ie++)o.get(_+Ie*m,be)&&ie.set(Ie,ve)}return ie}static moduleSize(o,u){const f=u.getWidth();let m=o[0];const w=o[1];for(;m<f&&u.get(m,w);)m++;if(m===f)throw new ye;const y=m-o[0];if(y===0)throw new ye;return y}}Is.NO_POINTS=[];class pA extends de{constructor(o=500){super(new Is,o)}}var Ji;(function(q){q[q.L=0]="L",q[q.M=1]="M",q[q.Q=2]="Q",q[q.H=3]="H"})(Ji||(Ji={}));class Zt{constructor(o,u,f){this.value=o,this.stringValue=u,this.bits=f,Zt.FOR_BITS.set(f,this),Zt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Zt.L;case"M":return Zt.M;case"Q":return Zt.Q;case"H":return Zt.H;default:throw new x(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof Zt))return!1;const u=o;return this.value===u.value}static forBits(o){if(o<0||o>=Zt.FOR_BITS.size)throw new C;return Zt.FOR_BITS.get(o)}}Zt.FOR_BITS=new Map,Zt.FOR_VALUE=new Map,Zt.L=new Zt(Ji.L,"L",1),Zt.M=new Zt(Ji.M,"M",0),Zt.Q=new Zt(Ji.Q,"Q",3),Zt.H=new Zt(Ji.H,"H",2);class vn{constructor(o){this.errorCorrectionLevel=Zt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,u){return Q.bitCount(o^u)}static decodeFormatInformation(o,u){const f=vn.doDecodeFormatInformation(o,u);return f!==null?f:vn.doDecodeFormatInformation(o^vn.FORMAT_INFO_MASK_QR,u^vn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,u){let f=Number.MAX_SAFE_INTEGER,m=0;for(const w of vn.FORMAT_INFO_DECODE_LOOKUP){const y=w[0];if(y===o||y===u)return new vn(w[1]);let _=vn.numBitsDiffering(o,y);_<f&&(m=w[1],f=_),o!==u&&(_=vn.numBitsDiffering(u,y),_<f&&(m=w[1],f=_))}return f<=3?new vn(m):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof vn))return!1;const u=o;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}vn.FORMAT_INFO_MASK_QR=21522,vn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ve{constructor(o,...u){this.ecCodewordsPerBlock=o,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const u=this.ecBlocks;for(const f of u)o+=f.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ge{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Et{constructor(o,u,...f){this.versionNumber=o,this.alignmentPatternCenters=u,this.ecBlocks=f;let m=0;const w=f[0].getECCodewordsPerBlock(),y=f[0].getECBlocks();for(const _ of y)m+=_.getCount()*(_.getDataCodewords()+w);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new M;try{return this.getVersionForNumber((o-17)/4)}catch{throw new M}}static getVersionForNumber(o){if(o<1||o>40)throw new C;return Et.VERSIONS[o-1]}static decodeVersionInformation(o){let u=Number.MAX_SAFE_INTEGER,f=0;for(let m=0;m<Et.VERSION_DECODE_INFO.length;m++){const w=Et.VERSION_DECODE_INFO[m];if(w===o)return Et.getVersionForNumber(m+7);const y=vn.numBitsDiffering(o,w);y<u&&(f=m+7,u=y)}return u<=3?Et.getVersionForNumber(f):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),u=new Me(o);u.setRegion(0,0,9,9),u.setRegion(o-8,0,8,9),u.setRegion(0,o-8,9,8);const f=this.alignmentPatternCenters.length;for(let m=0;m<f;m++){const w=this.alignmentPatternCenters[m]-2;for(let y=0;y<f;y++)m===0&&(y===0||y===f-1)||m===f-1&&y===0||u.setRegion(this.alignmentPatternCenters[y]-2,w,5,5)}return u.setRegion(6,9,1,o-17),u.setRegion(9,6,o-17,1),this.versionNumber>6&&(u.setRegion(o-11,0,3,6),u.setRegion(0,o-11,6,3)),u}toString(){return""+this.versionNumber}}Et.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Et.VERSIONS=[new Et(1,new Int32Array(0),new Ve(7,new ge(1,19)),new Ve(10,new ge(1,16)),new Ve(13,new ge(1,13)),new Ve(17,new ge(1,9))),new Et(2,Int32Array.from([6,18]),new Ve(10,new ge(1,34)),new Ve(16,new ge(1,28)),new Ve(22,new ge(1,22)),new Ve(28,new ge(1,16))),new Et(3,Int32Array.from([6,22]),new Ve(15,new ge(1,55)),new Ve(26,new ge(1,44)),new Ve(18,new ge(2,17)),new Ve(22,new ge(2,13))),new Et(4,Int32Array.from([6,26]),new Ve(20,new ge(1,80)),new Ve(18,new ge(2,32)),new Ve(26,new ge(2,24)),new Ve(16,new ge(4,9))),new Et(5,Int32Array.from([6,30]),new Ve(26,new ge(1,108)),new Ve(24,new ge(2,43)),new Ve(18,new ge(2,15),new ge(2,16)),new Ve(22,new ge(2,11),new ge(2,12))),new Et(6,Int32Array.from([6,34]),new Ve(18,new ge(2,68)),new Ve(16,new ge(4,27)),new Ve(24,new ge(4,19)),new Ve(28,new ge(4,15))),new Et(7,Int32Array.from([6,22,38]),new Ve(20,new ge(2,78)),new Ve(18,new ge(4,31)),new Ve(18,new ge(2,14),new ge(4,15)),new Ve(26,new ge(4,13),new ge(1,14))),new Et(8,Int32Array.from([6,24,42]),new Ve(24,new ge(2,97)),new Ve(22,new ge(2,38),new ge(2,39)),new Ve(22,new ge(4,18),new ge(2,19)),new Ve(26,new ge(4,14),new ge(2,15))),new Et(9,Int32Array.from([6,26,46]),new Ve(30,new ge(2,116)),new Ve(22,new ge(3,36),new ge(2,37)),new Ve(20,new ge(4,16),new ge(4,17)),new Ve(24,new ge(4,12),new ge(4,13))),new Et(10,Int32Array.from([6,28,50]),new Ve(18,new ge(2,68),new ge(2,69)),new Ve(26,new ge(4,43),new ge(1,44)),new Ve(24,new ge(6,19),new ge(2,20)),new Ve(28,new ge(6,15),new ge(2,16))),new Et(11,Int32Array.from([6,30,54]),new Ve(20,new ge(4,81)),new Ve(30,new ge(1,50),new ge(4,51)),new Ve(28,new ge(4,22),new ge(4,23)),new Ve(24,new ge(3,12),new ge(8,13))),new Et(12,Int32Array.from([6,32,58]),new Ve(24,new ge(2,92),new ge(2,93)),new Ve(22,new ge(6,36),new ge(2,37)),new Ve(26,new ge(4,20),new ge(6,21)),new Ve(28,new ge(7,14),new ge(4,15))),new Et(13,Int32Array.from([6,34,62]),new Ve(26,new ge(4,107)),new Ve(22,new ge(8,37),new ge(1,38)),new Ve(24,new ge(8,20),new ge(4,21)),new Ve(22,new ge(12,11),new ge(4,12))),new Et(14,Int32Array.from([6,26,46,66]),new Ve(30,new ge(3,115),new ge(1,116)),new Ve(24,new ge(4,40),new ge(5,41)),new Ve(20,new ge(11,16),new ge(5,17)),new Ve(24,new ge(11,12),new ge(5,13))),new Et(15,Int32Array.from([6,26,48,70]),new Ve(22,new ge(5,87),new ge(1,88)),new Ve(24,new ge(5,41),new ge(5,42)),new Ve(30,new ge(5,24),new ge(7,25)),new Ve(24,new ge(11,12),new ge(7,13))),new Et(16,Int32Array.from([6,26,50,74]),new Ve(24,new ge(5,98),new ge(1,99)),new Ve(28,new ge(7,45),new ge(3,46)),new Ve(24,new ge(15,19),new ge(2,20)),new Ve(30,new ge(3,15),new ge(13,16))),new Et(17,Int32Array.from([6,30,54,78]),new Ve(28,new ge(1,107),new ge(5,108)),new Ve(28,new ge(10,46),new ge(1,47)),new Ve(28,new ge(1,22),new ge(15,23)),new Ve(28,new ge(2,14),new ge(17,15))),new Et(18,Int32Array.from([6,30,56,82]),new Ve(30,new ge(5,120),new ge(1,121)),new Ve(26,new ge(9,43),new ge(4,44)),new Ve(28,new ge(17,22),new ge(1,23)),new Ve(28,new ge(2,14),new ge(19,15))),new Et(19,Int32Array.from([6,30,58,86]),new Ve(28,new ge(3,113),new ge(4,114)),new Ve(26,new ge(3,44),new ge(11,45)),new Ve(26,new ge(17,21),new ge(4,22)),new Ve(26,new ge(9,13),new ge(16,14))),new Et(20,Int32Array.from([6,34,62,90]),new Ve(28,new ge(3,107),new ge(5,108)),new Ve(26,new ge(3,41),new ge(13,42)),new Ve(30,new ge(15,24),new ge(5,25)),new Ve(28,new ge(15,15),new ge(10,16))),new Et(21,Int32Array.from([6,28,50,72,94]),new Ve(28,new ge(4,116),new ge(4,117)),new Ve(26,new ge(17,42)),new Ve(28,new ge(17,22),new ge(6,23)),new Ve(30,new ge(19,16),new ge(6,17))),new Et(22,Int32Array.from([6,26,50,74,98]),new Ve(28,new ge(2,111),new ge(7,112)),new Ve(28,new ge(17,46)),new Ve(30,new ge(7,24),new ge(16,25)),new Ve(24,new ge(34,13))),new Et(23,Int32Array.from([6,30,54,78,102]),new Ve(30,new ge(4,121),new ge(5,122)),new Ve(28,new ge(4,47),new ge(14,48)),new Ve(30,new ge(11,24),new ge(14,25)),new Ve(30,new ge(16,15),new ge(14,16))),new Et(24,Int32Array.from([6,28,54,80,106]),new Ve(30,new ge(6,117),new ge(4,118)),new Ve(28,new ge(6,45),new ge(14,46)),new Ve(30,new ge(11,24),new ge(16,25)),new Ve(30,new ge(30,16),new ge(2,17))),new Et(25,Int32Array.from([6,32,58,84,110]),new Ve(26,new ge(8,106),new ge(4,107)),new Ve(28,new ge(8,47),new ge(13,48)),new Ve(30,new ge(7,24),new ge(22,25)),new Ve(30,new ge(22,15),new ge(13,16))),new Et(26,Int32Array.from([6,30,58,86,114]),new Ve(28,new ge(10,114),new ge(2,115)),new Ve(28,new ge(19,46),new ge(4,47)),new Ve(28,new ge(28,22),new ge(6,23)),new Ve(30,new ge(33,16),new ge(4,17))),new Et(27,Int32Array.from([6,34,62,90,118]),new Ve(30,new ge(8,122),new ge(4,123)),new Ve(28,new ge(22,45),new ge(3,46)),new Ve(30,new ge(8,23),new ge(26,24)),new Ve(30,new ge(12,15),new ge(28,16))),new Et(28,Int32Array.from([6,26,50,74,98,122]),new Ve(30,new ge(3,117),new ge(10,118)),new Ve(28,new ge(3,45),new ge(23,46)),new Ve(30,new ge(4,24),new ge(31,25)),new Ve(30,new ge(11,15),new ge(31,16))),new Et(29,Int32Array.from([6,30,54,78,102,126]),new Ve(30,new ge(7,116),new ge(7,117)),new Ve(28,new ge(21,45),new ge(7,46)),new Ve(30,new ge(1,23),new ge(37,24)),new Ve(30,new ge(19,15),new ge(26,16))),new Et(30,Int32Array.from([6,26,52,78,104,130]),new Ve(30,new ge(5,115),new ge(10,116)),new Ve(28,new ge(19,47),new ge(10,48)),new Ve(30,new ge(15,24),new ge(25,25)),new Ve(30,new ge(23,15),new ge(25,16))),new Et(31,Int32Array.from([6,30,56,82,108,134]),new Ve(30,new ge(13,115),new ge(3,116)),new Ve(28,new ge(2,46),new ge(29,47)),new Ve(30,new ge(42,24),new ge(1,25)),new Ve(30,new ge(23,15),new ge(28,16))),new Et(32,Int32Array.from([6,34,60,86,112,138]),new Ve(30,new ge(17,115)),new Ve(28,new ge(10,46),new ge(23,47)),new Ve(30,new ge(10,24),new ge(35,25)),new Ve(30,new ge(19,15),new ge(35,16))),new Et(33,Int32Array.from([6,30,58,86,114,142]),new Ve(30,new ge(17,115),new ge(1,116)),new Ve(28,new ge(14,46),new ge(21,47)),new Ve(30,new ge(29,24),new ge(19,25)),new Ve(30,new ge(11,15),new ge(46,16))),new Et(34,Int32Array.from([6,34,62,90,118,146]),new Ve(30,new ge(13,115),new ge(6,116)),new Ve(28,new ge(14,46),new ge(23,47)),new Ve(30,new ge(44,24),new ge(7,25)),new Ve(30,new ge(59,16),new ge(1,17))),new Et(35,Int32Array.from([6,30,54,78,102,126,150]),new Ve(30,new ge(12,121),new ge(7,122)),new Ve(28,new ge(12,47),new ge(26,48)),new Ve(30,new ge(39,24),new ge(14,25)),new Ve(30,new ge(22,15),new ge(41,16))),new Et(36,Int32Array.from([6,24,50,76,102,128,154]),new Ve(30,new ge(6,121),new ge(14,122)),new Ve(28,new ge(6,47),new ge(34,48)),new Ve(30,new ge(46,24),new ge(10,25)),new Ve(30,new ge(2,15),new ge(64,16))),new Et(37,Int32Array.from([6,28,54,80,106,132,158]),new Ve(30,new ge(17,122),new ge(4,123)),new Ve(28,new ge(29,46),new ge(14,47)),new Ve(30,new ge(49,24),new ge(10,25)),new Ve(30,new ge(24,15),new ge(46,16))),new Et(38,Int32Array.from([6,32,58,84,110,136,162]),new Ve(30,new ge(4,122),new ge(18,123)),new Ve(28,new ge(13,46),new ge(32,47)),new Ve(30,new ge(48,24),new ge(14,25)),new Ve(30,new ge(42,15),new ge(32,16))),new Et(39,Int32Array.from([6,26,54,82,110,138,166]),new Ve(30,new ge(20,117),new ge(4,118)),new Ve(28,new ge(40,47),new ge(7,48)),new Ve(30,new ge(43,24),new ge(22,25)),new Ve(30,new ge(10,15),new ge(67,16))),new Et(40,Int32Array.from([6,30,58,86,114,142,170]),new Ve(30,new ge(19,118),new ge(6,119)),new Ve(28,new ge(18,47),new ge(31,48)),new Ve(30,new ge(34,24),new ge(34,25)),new Ve(30,new ge(20,15),new ge(61,16)))];var gn;(function(q){q[q.DATA_MASK_000=0]="DATA_MASK_000",q[q.DATA_MASK_001=1]="DATA_MASK_001",q[q.DATA_MASK_010=2]="DATA_MASK_010",q[q.DATA_MASK_011=3]="DATA_MASK_011",q[q.DATA_MASK_100=4]="DATA_MASK_100",q[q.DATA_MASK_101=5]="DATA_MASK_101",q[q.DATA_MASK_110=6]="DATA_MASK_110",q[q.DATA_MASK_111=7]="DATA_MASK_111"})(gn||(gn={}));class zn{constructor(o,u){this.value=o,this.isMasked=u}unmaskBitMatrix(o,u){for(let f=0;f<u;f++)for(let m=0;m<u;m++)this.isMasked(f,m)&&o.flip(m,f)}}zn.values=new Map([[gn.DATA_MASK_000,new zn(gn.DATA_MASK_000,(q,o)=>(q+o&1)===0)],[gn.DATA_MASK_001,new zn(gn.DATA_MASK_001,(q,o)=>(q&1)===0)],[gn.DATA_MASK_010,new zn(gn.DATA_MASK_010,(q,o)=>o%3===0)],[gn.DATA_MASK_011,new zn(gn.DATA_MASK_011,(q,o)=>(q+o)%3===0)],[gn.DATA_MASK_100,new zn(gn.DATA_MASK_100,(q,o)=>(Math.floor(q/2)+Math.floor(o/3)&1)===0)],[gn.DATA_MASK_101,new zn(gn.DATA_MASK_101,(q,o)=>q*o%6===0)],[gn.DATA_MASK_110,new zn(gn.DATA_MASK_110,(q,o)=>q*o%6<3)],[gn.DATA_MASK_111,new zn(gn.DATA_MASK_111,(q,o)=>(q+o+q*o%3&1)===0)]]);class Ns{constructor(o){const u=o.getHeight();if(u<21||(u&3)!==1)throw new M;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let w=0;w<6;w++)o=this.copyBit(w,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let w=5;w>=0;w--)o=this.copyBit(8,w,o);const u=this.bitMatrix.getHeight();let f=0;const m=u-7;for(let w=u-1;w>=m;w--)f=this.copyBit(8,w,f);for(let w=u-8;w<u;w++)f=this.copyBit(w,8,f);if(this.parsedFormatInfo=vn.decodeFormatInformation(o,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),u=Math.floor((o-17)/4);if(u<=6)return Et.getVersionForNumber(u);let f=0;const m=o-11;for(let y=5;y>=0;y--)for(let _=o-9;_>=m;_--)f=this.copyBit(_,y,f);let w=Et.decodeVersionInformation(f);if(w!==null&&w.getDimensionForVersion()===o)return this.parsedVersion=w,w;f=0;for(let y=5;y>=0;y--)for(let _=o-9;_>=m;_--)f=this.copyBit(y,_,f);if(w=Et.decodeVersionInformation(f),w!==null&&w.getDimensionForVersion()===o)return this.parsedVersion=w,w;throw new M}copyBit(o,u,f){return(this.isMirror?this.bitMatrix.get(u,o):this.bitMatrix.get(o,u))?f<<1|1:f<<1}readCodewords(){const o=this.readFormatInformation(),u=this.readVersion(),f=zn.values.get(o.getDataMask()),m=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,m);const w=u.buildFunctionPattern();let y=!0;const _=new Uint8Array(u.getTotalCodewords());let I=0,U=0,P=0;for(let Y=m-1;Y>0;Y-=2){Y===6&&Y--;for(let ie=0;ie<m;ie++){const ve=y?m-1-ie:ie;for(let be=0;be<2;be++)w.get(Y-be,ve)||(P++,U<<=1,this.bitMatrix.get(Y-be,ve)&&(U|=1),P===8&&(_[I++]=U,P=0,U=0))}y=!y}if(I!==u.getTotalCodewords())throw new M;return _}remask(){if(this.parsedFormatInfo===null)return;const o=zn.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let u=0,f=o.getWidth();u<f;u++)for(let m=u+1,w=o.getHeight();m<w;m++)o.get(u,m)!==o.get(m,u)&&(o.flip(m,u),o.flip(u,m))}}class yl{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u,f){if(o.length!==u.getTotalCodewords())throw new C;const m=u.getECBlocksForLevel(f);let w=0;const y=m.getECBlocks();for(const be of y)w+=be.getCount();const _=new Array(w);let I=0;for(const be of y)for(let Ie=0;Ie<be.getCount();Ie++){const Oe=be.getDataCodewords(),$e=m.getECCodewordsPerBlock()+Oe;_[I++]=new yl(Oe,new Uint8Array($e))}const U=_[0].codewords.length;let P=_.length-1;for(;P>=0&&_[P].codewords.length!==U;)P--;P++;const Y=U-m.getECCodewordsPerBlock();let ie=0;for(let be=0;be<Y;be++)for(let Ie=0;Ie<I;Ie++)_[Ie].codewords[be]=o[ie++];for(let be=P;be<I;be++)_[be].codewords[Y]=o[ie++];const ve=_[0].codewords.length;for(let be=Y;be<ve;be++)for(let Ie=0;Ie<I;Ie++){const Oe=Ie<P?be:be+1;_[Ie].codewords[Oe]=o[ie++]}return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Bi;(function(q){q[q.TERMINATOR=0]="TERMINATOR",q[q.NUMERIC=1]="NUMERIC",q[q.ALPHANUMERIC=2]="ALPHANUMERIC",q[q.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",q[q.BYTE=4]="BYTE",q[q.ECI=5]="ECI",q[q.KANJI=6]="KANJI",q[q.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",q[q.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",q[q.HANZI=9]="HANZI"})(Bi||(Bi={}));class Vt{constructor(o,u,f,m){this.value=o,this.stringValue=u,this.characterCountBitsForVersions=f,this.bits=m,Vt.FOR_BITS.set(m,this),Vt.FOR_VALUE.set(o,this)}static forBits(o){const u=Vt.FOR_BITS.get(o);if(u===void 0)throw new C;return u}getCharacterCountBits(o){const u=o.getVersionNumber();let f;return u<=9?f=0:u<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof Vt))return!1;const u=o;return this.value===u.value}toString(){return this.stringValue}}Vt.FOR_BITS=new Map,Vt.FOR_VALUE=new Map,Vt.TERMINATOR=new Vt(Bi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Vt.NUMERIC=new Vt(Bi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Vt.ALPHANUMERIC=new Vt(Bi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Vt.STRUCTURED_APPEND=new Vt(Bi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Vt.BYTE=new Vt(Bi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Vt.ECI=new Vt(Bi.ECI,"ECI",Int32Array.from([0,0,0]),7),Vt.KANJI=new Vt(Bi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Vt.FNC1_FIRST_POSITION=new Vt(Bi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Vt.FNC1_SECOND_POSITION=new Vt(Bi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Vt.HANZI=new Vt(Bi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Jr{static decode(o,u,f,m){const w=new Yi(o);let y=new X;const _=new Array;let I=-1,U=-1;try{let P=null,Y=!1,ie;do{if(w.available()<4)ie=Vt.TERMINATOR;else{const ve=w.readBits(4);ie=Vt.forBits(ve)}switch(ie){case Vt.TERMINATOR:break;case Vt.FNC1_FIRST_POSITION:case Vt.FNC1_SECOND_POSITION:Y=!0;break;case Vt.STRUCTURED_APPEND:if(w.available()<16)throw new M;I=w.readBits(8),U=w.readBits(8);break;case Vt.ECI:const ve=Jr.parseECIValue(w);if(P=O.getCharacterSetECIByValue(ve),P===null)throw new M;break;case Vt.HANZI:const be=w.readBits(4),Ie=w.readBits(ie.getCharacterCountBits(u));be===Jr.GB2312_SUBSET&&Jr.decodeHanziSegment(w,y,Ie);break;default:const Oe=w.readBits(ie.getCharacterCountBits(u));switch(ie){case Vt.NUMERIC:Jr.decodeNumericSegment(w,y,Oe);break;case Vt.ALPHANUMERIC:Jr.decodeAlphanumericSegment(w,y,Oe,Y);break;case Vt.BYTE:Jr.decodeByteSegment(w,y,Oe,P,_,m);break;case Vt.KANJI:Jr.decodeKanjiSegment(w,y,Oe);break;default:throw new M}break}}while(ie!==Vt.TERMINATOR)}catch{throw new M}return new _e(o,y.toString(),_.length===0?null:_,f===null?null:f.toString(),I,U)}static decodeHanziSegment(o,u,f){if(f*13>o.available())throw new M;const m=new Uint8Array(2*f);let w=0;for(;f>0;){const y=o.readBits(13);let _=y/96<<8&4294967295|y%96;_<959?_+=41377:_+=42657,m[w]=_>>8&255,m[w+1]=_&255,w+=2,f--}try{u.append(J.decode(m,W.GB2312))}catch(y){throw new M(y)}}static decodeKanjiSegment(o,u,f){if(f*13>o.available())throw new M;const m=new Uint8Array(2*f);let w=0;for(;f>0;){const y=o.readBits(13);let _=y/192<<8&4294967295|y%192;_<7936?_+=33088:_+=49472,m[w]=_>>8,m[w+1]=_,w+=2,f--}try{u.append(J.decode(m,W.SHIFT_JIS))}catch(y){throw new M(y)}}static decodeByteSegment(o,u,f,m,w,y){if(8*f>o.available())throw new M;const _=new Uint8Array(f);for(let U=0;U<f;U++)_[U]=o.readBits(8);let I;m===null?I=W.guessEncoding(_,y):I=m.getName();try{u.append(J.decode(_,I))}catch(U){throw new M(U)}w.push(_)}static toAlphaNumericChar(o){if(o>=Jr.ALPHANUMERIC_CHARS.length)throw new M;return Jr.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,u,f,m){const w=u.length();for(;f>1;){if(o.available()<11)throw new M;const y=o.readBits(11);u.append(Jr.toAlphaNumericChar(Math.floor(y/45))),u.append(Jr.toAlphaNumericChar(y%45)),f-=2}if(f===1){if(o.available()<6)throw new M;u.append(Jr.toAlphaNumericChar(o.readBits(6)))}if(m)for(let y=w;y<u.length();y++)u.charAt(y)==="%"&&(y<u.length()-1&&u.charAt(y+1)==="%"?u.deleteCharAt(y+1):u.setCharAt(y,""))}static decodeNumericSegment(o,u,f){for(;f>=3;){if(o.available()<10)throw new M;const m=o.readBits(10);if(m>=1e3)throw new M;u.append(Jr.toAlphaNumericChar(Math.floor(m/100))),u.append(Jr.toAlphaNumericChar(Math.floor(m/10)%10)),u.append(Jr.toAlphaNumericChar(m%10)),f-=3}if(f===2){if(o.available()<7)throw new M;const m=o.readBits(7);if(m>=100)throw new M;u.append(Jr.toAlphaNumericChar(Math.floor(m/10))),u.append(Jr.toAlphaNumericChar(m%10))}else if(f===1){if(o.available()<4)throw new M;const m=o.readBits(4);if(m>=10)throw new M;u.append(Jr.toAlphaNumericChar(m))}}static parseECIValue(o){const u=o.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const f=o.readBits(8);return(u&63)<<8&4294967295|f}if((u&224)===192){const f=o.readBits(16);return(u&31)<<16&4294967295|f}throw new M}}Jr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Jr.GB2312_SUBSET=1;class yc{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const u=o[0];o[0]=o[2],o[2]=u}}class Ku{constructor(){this.rsDecoder=new Ne(St.QR_CODE_FIELD_256)}decodeBooleanArray(o,u){return this.decodeBitMatrix(Me.parseFromBooleanArray(o),u)}decodeBitMatrix(o,u){const f=new Ns(o);let m=null;try{return this.decodeBitMatrixParser(f,u)}catch(w){m=w}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const w=this.decodeBitMatrixParser(f,u);return w.setOther(new yc(!0)),w}catch(w){throw m!==null?m:w}}decodeBitMatrixParser(o,u){const f=o.readVersion(),m=o.readFormatInformation().getErrorCorrectionLevel(),w=o.readCodewords(),y=yl.getDataBlocks(w,f,m);let _=0;for(const P of y)_+=P.getNumDataCodewords();const I=new Uint8Array(_);let U=0;for(const P of y){const Y=P.getCodewords(),ie=P.getNumDataCodewords();this.correctErrors(Y,ie);for(let ve=0;ve<ie;ve++)I[U++]=Y[ve]}return Jr.decode(I,f,m,u)}correctErrors(o,u){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-u)}catch{throw new F}for(let m=0;m<u;m++)o[m]=f[m]}}class Fs extends _t{constructor(o,u,f){super(o,u),this.estimatedModuleSize=f}aboutEquals(o,u,f){if(Math.abs(u-this.getY())<=o&&Math.abs(f-this.getX())<=o){const m=Math.abs(o-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(o,u,f){const m=(this.getX()+u)/2,w=(this.getY()+o)/2,y=(this.estimatedModuleSize+f)/2;return new Fs(m,w,y)}}class Fn{constructor(o,u,f,m,w,y,_){this.image=o,this.startX=u,this.startY=f,this.width=m,this.height=w,this.moduleSize=y,this.resultPointCallback=_,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,u=this.height,f=this.width,m=o+f,w=this.startY+u/2,y=new Int32Array(3),_=this.image;for(let I=0;I<u;I++){const U=w+((I&1)===0?Math.floor((I+1)/2):-Math.floor((I+1)/2));y[0]=0,y[1]=0,y[2]=0;let P=o;for(;P<m&&!_.get(P,U);)P++;let Y=0;for(;P<m;){if(_.get(P,U))if(Y===1)y[1]++;else if(Y===2){if(this.foundPatternCross(y)){const ie=this.handlePossibleCenter(y,U,P);if(ie!==null)return ie}y[0]=y[2],y[1]=1,y[2]=0,Y=1}else y[++Y]++;else Y===1&&Y++,y[Y]++;P++}if(this.foundPatternCross(y)){const ie=this.handlePossibleCenter(y,U,m);if(ie!==null)return ie}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ye}static centerFromEnd(o,u){return u-o[2]-o[1]/2}foundPatternCross(o){const u=this.moduleSize,f=u/2;for(let m=0;m<3;m++)if(Math.abs(u-o[m])>=f)return!1;return!0}crossCheckVertical(o,u,f,m){const w=this.image,y=w.getHeight(),_=this.crossCheckStateCount;_[0]=0,_[1]=0,_[2]=0;let I=o;for(;I>=0&&w.get(u,I)&&_[1]<=f;)_[1]++,I--;if(I<0||_[1]>f)return NaN;for(;I>=0&&!w.get(u,I)&&_[0]<=f;)_[0]++,I--;if(_[0]>f)return NaN;for(I=o+1;I<y&&w.get(u,I)&&_[1]<=f;)_[1]++,I++;if(I===y||_[1]>f)return NaN;for(;I<y&&!w.get(u,I)&&_[2]<=f;)_[2]++,I++;if(_[2]>f)return NaN;const U=_[0]+_[1]+_[2];return 5*Math.abs(U-m)>=2*m?NaN:this.foundPatternCross(_)?Fn.centerFromEnd(_,I):NaN}handlePossibleCenter(o,u,f){const m=o[0]+o[1]+o[2],w=Fn.centerFromEnd(o,f),y=this.crossCheckVertical(u,w,2*o[1],m);if(!isNaN(y)){const _=(o[0]+o[1]+o[2])/3;for(const U of this.possibleCenters)if(U.aboutEquals(_,y,w))return U.combineEstimate(y,w,_);const I=new Fs(w,y,_);this.possibleCenters.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return null}}class oo extends _t{constructor(o,u,f,m){super(o,u),this.estimatedModuleSize=f,this.count=m,m===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,u,f){if(Math.abs(u-this.getY())<=o&&Math.abs(f-this.getX())<=o){const m=Math.abs(o-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(o,u,f){const m=this.count+1,w=(this.count*this.getX()+u)/m,y=(this.count*this.getY()+o)/m,_=(this.count*this.estimatedModuleSize+f)/m;return new oo(w,y,_,m)}}class mA{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class nn{constructor(o,u){this.image=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const u=o!=null&&o.get(te.TRY_HARDER)!==void 0,f=o!=null&&o.get(te.PURE_BARCODE)!==void 0,m=this.image,w=m.getHeight(),y=m.getWidth();let _=Math.floor(3*w/(4*nn.MAX_MODULES));(_<nn.MIN_SKIP||u)&&(_=nn.MIN_SKIP);let I=!1;const U=new Int32Array(5);for(let Y=_-1;Y<w&&!I;Y+=_){U[0]=0,U[1]=0,U[2]=0,U[3]=0,U[4]=0;let ie=0;for(let ve=0;ve<y;ve++)if(m.get(ve,Y))(ie&1)===1&&ie++,U[ie]++;else if((ie&1)===0)if(ie===4)if(nn.foundPatternCross(U)){if(this.handlePossibleCenter(U,Y,ve,f)===!0)if(_=2,this.hasSkipped===!0)I=this.haveMultiplyConfirmedCenters();else{const Ie=this.findRowSkip();Ie>U[2]&&(Y+=Ie-U[2]-_,ve=y-1)}else{U[0]=U[2],U[1]=U[3],U[2]=U[4],U[3]=1,U[4]=0,ie=3;continue}ie=0,U[0]=0,U[1]=0,U[2]=0,U[3]=0,U[4]=0}else U[0]=U[2],U[1]=U[3],U[2]=U[4],U[3]=1,U[4]=0,ie=3;else U[++ie]++;else U[ie]++;nn.foundPatternCross(U)&&this.handlePossibleCenter(U,Y,y,f)===!0&&(_=U[0],this.hasSkipped&&(I=this.haveMultiplyConfirmedCenters()))}const P=this.selectBestPatterns();return _t.orderBestPatterns(P),new mA(P)}static centerFromEnd(o,u){return u-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let u=0;for(let w=0;w<5;w++){const y=o[w];if(y===0)return!1;u+=y}if(u<7)return!1;const f=u/7,m=f/2;return Math.abs(f-o[0])<m&&Math.abs(f-o[1])<m&&Math.abs(3*f-o[2])<3*m&&Math.abs(f-o[3])<m&&Math.abs(f-o[4])<m}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,u,f,m){const w=this.getCrossCheckStateCount();let y=0;const _=this.image;for(;o>=y&&u>=y&&_.get(u-y,o-y);)w[2]++,y++;if(o<y||u<y)return!1;for(;o>=y&&u>=y&&!_.get(u-y,o-y)&&w[1]<=f;)w[1]++,y++;if(o<y||u<y||w[1]>f)return!1;for(;o>=y&&u>=y&&_.get(u-y,o-y)&&w[0]<=f;)w[0]++,y++;if(w[0]>f)return!1;const I=_.getHeight(),U=_.getWidth();for(y=1;o+y<I&&u+y<U&&_.get(u+y,o+y);)w[2]++,y++;if(o+y>=I||u+y>=U)return!1;for(;o+y<I&&u+y<U&&!_.get(u+y,o+y)&&w[3]<f;)w[3]++,y++;if(o+y>=I||u+y>=U||w[3]>=f)return!1;for(;o+y<I&&u+y<U&&_.get(u+y,o+y)&&w[4]<f;)w[4]++,y++;if(w[4]>=f)return!1;const P=w[0]+w[1]+w[2]+w[3]+w[4];return Math.abs(P-m)<2*m&&nn.foundPatternCross(w)}crossCheckVertical(o,u,f,m){const w=this.image,y=w.getHeight(),_=this.getCrossCheckStateCount();let I=o;for(;I>=0&&w.get(u,I);)_[2]++,I--;if(I<0)return NaN;for(;I>=0&&!w.get(u,I)&&_[1]<=f;)_[1]++,I--;if(I<0||_[1]>f)return NaN;for(;I>=0&&w.get(u,I)&&_[0]<=f;)_[0]++,I--;if(_[0]>f)return NaN;for(I=o+1;I<y&&w.get(u,I);)_[2]++,I++;if(I===y)return NaN;for(;I<y&&!w.get(u,I)&&_[3]<f;)_[3]++,I++;if(I===y||_[3]>=f)return NaN;for(;I<y&&w.get(u,I)&&_[4]<f;)_[4]++,I++;if(_[4]>=f)return NaN;const U=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(U-m)>=2*m?NaN:nn.foundPatternCross(_)?nn.centerFromEnd(_,I):NaN}crossCheckHorizontal(o,u,f,m){const w=this.image,y=w.getWidth(),_=this.getCrossCheckStateCount();let I=o;for(;I>=0&&w.get(I,u);)_[2]++,I--;if(I<0)return NaN;for(;I>=0&&!w.get(I,u)&&_[1]<=f;)_[1]++,I--;if(I<0||_[1]>f)return NaN;for(;I>=0&&w.get(I,u)&&_[0]<=f;)_[0]++,I--;if(_[0]>f)return NaN;for(I=o+1;I<y&&w.get(I,u);)_[2]++,I++;if(I===y)return NaN;for(;I<y&&!w.get(I,u)&&_[3]<f;)_[3]++,I++;if(I===y||_[3]>=f)return NaN;for(;I<y&&w.get(I,u)&&_[4]<f;)_[4]++,I++;if(_[4]>=f)return NaN;const U=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(U-m)>=m?NaN:nn.foundPatternCross(_)?nn.centerFromEnd(_,I):NaN}handlePossibleCenter(o,u,f,m){const w=o[0]+o[1]+o[2]+o[3]+o[4];let y=nn.centerFromEnd(o,f),_=this.crossCheckVertical(u,Math.floor(y),o[2],w);if(!isNaN(_)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(_),o[2],w),!isNaN(y)&&(!m||this.crossCheckDiagonal(Math.floor(_),Math.floor(y),o[2],w)))){const I=w/7;let U=!1;const P=this.possibleCenters;for(let Y=0,ie=P.length;Y<ie;Y++){const ve=P[Y];if(ve.aboutEquals(I,_,y)){P[Y]=ve.combineEstimate(_,y,I),U=!0;break}}if(!U){const Y=new oo(y,_,I);P.push(Y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Y)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const f of this.possibleCenters)if(f.getCount()>=nn.CENTER_QUORUM)if(u==null)u=f;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-f.getX())-Math.abs(u.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,u=0;const f=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=nn.CENTER_QUORUM&&(o++,u+=y.getEstimatedModuleSize());if(o<3)return!1;const m=u/f;let w=0;for(const y of this.possibleCenters)w+=Math.abs(y.getEstimatedModuleSize()-m);return w<=.05*u}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new ye;const u=this.possibleCenters;let f;if(o>3){let m=0,w=0;for(const I of this.possibleCenters){const U=I.getEstimatedModuleSize();m+=U,w+=U*U}f=m/o;let y=Math.sqrt(w/o-f*f);u.sort((I,U)=>{const P=Math.abs(U.getEstimatedModuleSize()-f),Y=Math.abs(I.getEstimatedModuleSize()-f);return P<Y?-1:P>Y?1:0});const _=Math.max(.2*f,y);for(let I=0;I<u.length&&u.length>3;I++){const U=u[I];Math.abs(U.getEstimatedModuleSize()-f)>_&&(u.splice(I,1),I--)}}if(u.length>3){let m=0;for(const w of u)m+=w.getEstimatedModuleSize();f=m/u.length,u.sort((w,y)=>{if(y.getCount()===w.getCount()){const _=Math.abs(y.getEstimatedModuleSize()-f),I=Math.abs(w.getEstimatedModuleSize()-f);return _<I?1:_>I?-1:0}else return y.getCount()-w.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}nn.CENTER_QUORUM=2,nn.MIN_SKIP=3,nn.MAX_MODULES=57;class hi{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(te.NEED_RESULT_POINT_CALLBACK);const f=new nn(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(f)}processFinderPatternInfo(o){const u=o.getTopLeft(),f=o.getTopRight(),m=o.getBottomLeft(),w=this.calculateModuleSize(u,f,m);if(w<1)throw new ye("No pattern found in proccess finder.");const y=hi.computeDimension(u,f,m,w),_=Et.getProvisionalVersionForDimension(y),I=_.getDimensionForVersion()-7;let U=null;if(_.getAlignmentPatternCenters().length>0){const ve=f.getX()-u.getX()+m.getX(),be=f.getY()-u.getY()+m.getY(),Ie=1-3/I,Oe=Math.floor(u.getX()+Ie*(ve-u.getX())),$e=Math.floor(u.getY()+Ie*(be-u.getY()));for(let yt=4;yt<=16;yt<<=1)try{U=this.findAlignmentInRegion(w,Oe,$e,yt);break}catch(vt){if(!(vt instanceof ye))throw vt}}const P=hi.createTransform(u,f,m,U,y),Y=hi.sampleGrid(this.image,P,y);let ie;return U===null?ie=[m,u,f]:ie=[m,u,f,U],new Bn(Y,ie)}static createTransform(o,u,f,m,w){const y=w-3.5;let _,I,U,P;return m!==null?(_=m.getX(),I=m.getY(),U=y-3,P=U):(_=u.getX()-o.getX()+f.getX(),I=u.getY()-o.getY()+f.getY(),U=y,P=y),Tt.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,U,P,3.5,y,o.getX(),o.getY(),u.getX(),u.getY(),_,I,f.getX(),f.getY())}static sampleGrid(o,u,f){return fr.getInstance().sampleGridWithTransform(o,f,f,u)}static computeDimension(o,u,f,m){const w=Bt.round(_t.distance(o,u)/m),y=Bt.round(_t.distance(o,f)/m);let _=Math.floor((w+y)/2)+7;switch(_&3){case 0:_++;break;case 2:_--;break;case 3:throw new ye("Dimensions could be not found.")}return _}calculateModuleSize(o,u,f){return(this.calculateModuleSizeOneWay(o,u)+this.calculateModuleSizeOneWay(o,f))/2}calculateModuleSizeOneWay(o,u){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(u.getX()),Math.floor(u.getY())),m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(f)?m/7:isNaN(m)?f/7:(f+m)/14}sizeOfBlackWhiteBlackRunBothWays(o,u,f,m){let w=this.sizeOfBlackWhiteBlackRun(o,u,f,m),y=1,_=o-(f-o);_<0?(y=o/(o-_),_=0):_>=this.image.getWidth()&&(y=(this.image.getWidth()-1-o)/(_-o),_=this.image.getWidth()-1);let I=Math.floor(u-(m-u)*y);return y=1,I<0?(y=u/(u-I),I=0):I>=this.image.getHeight()&&(y=(this.image.getHeight()-1-u)/(I-u),I=this.image.getHeight()-1),_=Math.floor(o+(_-o)*y),w+=this.sizeOfBlackWhiteBlackRun(o,u,_,I),w-1}sizeOfBlackWhiteBlackRun(o,u,f,m){const w=Math.abs(m-u)>Math.abs(f-o);if(w){let ve=o;o=u,u=ve,ve=f,f=m,m=ve}const y=Math.abs(f-o),_=Math.abs(m-u);let I=-y/2;const U=o<f?1:-1,P=u<m?1:-1;let Y=0;const ie=f+U;for(let ve=o,be=u;ve!==ie;ve+=U){const Ie=w?be:ve,Oe=w?ve:be;if(Y===1===this.image.get(Ie,Oe)){if(Y===2)return Bt.distance(ve,be,o,u);Y++}if(I+=_,I>0){if(be===m)break;be+=P,I-=y}}return Y===2?Bt.distance(f+U,m,o,u):NaN}findAlignmentInRegion(o,u,f,m){const w=Math.floor(m*o),y=Math.max(0,u-w),_=Math.min(this.image.getWidth()-1,u+w);if(_-y<o*3)throw new ye("Alignment top exceeds estimated module size.");const I=Math.max(0,f-w),U=Math.min(this.image.getHeight()-1,f+w);if(U-I<o*3)throw new ye("Alignment bottom exceeds estimated module size.");return new Fn(this.image,y,I,_-y,U-I,o,this.resultPointCallback).find()}}class Zs{constructor(){this.decoder=new Ku}getDecoder(){return this.decoder}decode(o,u){let f,m;if(u!=null&&u.get(te.PURE_BARCODE)!==void 0){const I=Zs.extractPureBits(o.getBlackMatrix());f=this.decoder.decodeBitMatrix(I,u),m=Zs.NO_POINTS}else{const I=new hi(o.getBlackMatrix()).detect(u);f=this.decoder.decodeBitMatrix(I.getBits(),u),m=I.getPoints()}f.getOther()instanceof yc&&f.getOther().applyMirroredCorrection(m);const w=new fe(f.getText(),f.getRawBytes(),void 0,m,xe.QR_CODE,void 0),y=f.getByteSegments();y!==null&&w.putMetadata(Fe.BYTE_SEGMENTS,y);const _=f.getECLevel();return _!==null&&w.putMetadata(Fe.ERROR_CORRECTION_LEVEL,_),f.hasStructuredAppend()&&(w.putMetadata(Fe.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),w.putMetadata(Fe.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),w}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(u===null||f===null)throw new ye;const m=this.moduleSize(u,o);let w=u[1],y=f[1],_=u[0],I=f[0];if(_>=I||w>=y)throw new ye;if(y-w!==I-_&&(I=_+(y-w),I>=o.getWidth()))throw new ye;const U=Math.round((I-_+1)/m),P=Math.round((y-w+1)/m);if(U<=0||P<=0)throw new ye;if(P!==U)throw new ye;const Y=Math.floor(m/2);w+=Y,_+=Y;const ie=_+Math.floor((U-1)*m)-I;if(ie>0){if(ie>Y)throw new ye;_-=ie}const ve=w+Math.floor((P-1)*m)-y;if(ve>0){if(ve>Y)throw new ye;w-=ve}const be=new Me(U,P);for(let Ie=0;Ie<P;Ie++){const Oe=w+Math.floor(Ie*m);for(let $e=0;$e<U;$e++)o.get(_+Math.floor($e*m),Oe)&&be.set($e,Ie)}return be}static moduleSize(o,u){const f=u.getHeight(),m=u.getWidth();let w=o[0],y=o[1],_=!0,I=0;for(;w<m&&y<f;){if(_!==u.get(w,y)){if(++I===5)break;_=!_}w++,y++}if(w===m||y===f)throw new ye;return(w-o[0])/7}}Zs.NO_POINTS=new Array;class Kt{PDF417Common(){}static getBitCountSum(o){return Bt.sum(o)}static toIntArray(o){if(o==null||!o.length)return Kt.EMPTY_INT_ARRAY;const u=new Int32Array(o.length);let f=0;for(const m of o)u[f++]=m;return u}static getCodeword(o){const u=G.binarySearch(Kt.SYMBOL_TABLE,o&262143);return u<0?-1:(Kt.CODEWORD_TABLE[u]-1)%Kt.NUMBER_OF_CODEWORDS}}Kt.NUMBER_OF_CODEWORDS=929,Kt.MAX_CODEWORDS_IN_BARCODE=Kt.NUMBER_OF_CODEWORDS-1,Kt.MIN_ROWS_IN_BARCODE=3,Kt.MAX_ROWS_IN_BARCODE=90,Kt.MODULES_IN_CODEWORD=17,Kt.MODULES_IN_STOP_PATTERN=18,Kt.BARS_IN_MODULE=8,Kt.EMPTY_INT_ARRAY=new Int32Array([]),Kt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Kt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Cc{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class zt{static detectMultiple(o,u,f){let m=o.getBlackMatrix(),w=zt.detect(f,m);return w.length||(m=m.clone(),m.rotate180(),w=zt.detect(f,m)),new Cc(m,w)}static detect(o,u){const f=new Array;let m=0,w=0,y=!1;for(;m<u.getHeight();){const _=zt.findVertices(u,m,w);if(_[0]==null&&_[3]==null){if(!y)break;y=!1,w=0;for(const I of f)I[1]!=null&&(m=Math.trunc(Math.max(m,I[1].getY()))),I[3]!=null&&(m=Math.max(m,Math.trunc(I[3].getY())));m+=zt.ROW_STEP;continue}if(y=!0,f.push(_),!o)break;_[2]!=null?(w=Math.trunc(_[2].getX()),m=Math.trunc(_[2].getY())):(w=Math.trunc(_[4].getX()),m=Math.trunc(_[4].getY()))}return f}static findVertices(o,u,f){const m=o.getHeight(),w=o.getWidth(),y=new Array(8);return zt.copyToResult(y,zt.findRowsWithPattern(o,m,w,u,f,zt.START_PATTERN),zt.INDEXES_START_PATTERN),y[4]!=null&&(f=Math.trunc(y[4].getX()),u=Math.trunc(y[4].getY())),zt.copyToResult(y,zt.findRowsWithPattern(o,m,w,u,f,zt.STOP_PATTERN),zt.INDEXES_STOP_PATTERN),y}static copyToResult(o,u,f){for(let m=0;m<f.length;m++)o[f[m]]=u[m]}static findRowsWithPattern(o,u,f,m,w,y){const _=new Array(4);let I=!1;const U=new Int32Array(y.length);for(;m<u;m+=zt.ROW_STEP){let Y=zt.findGuardPattern(o,w,m,f,!1,y,U);if(Y!=null){for(;m>0;){const ie=zt.findGuardPattern(o,w,--m,f,!1,y,U);if(ie!=null)Y=ie;else{m++;break}}_[0]=new _t(Y[0],m),_[1]=new _t(Y[1],m),I=!0;break}}let P=m+1;if(I){let Y=0,ie=Int32Array.from([Math.trunc(_[0].getX()),Math.trunc(_[1].getX())]);for(;P<u;P++){const ve=zt.findGuardPattern(o,ie[0],P,f,!1,y,U);if(ve!=null&&Math.abs(ie[0]-ve[0])<zt.MAX_PATTERN_DRIFT&&Math.abs(ie[1]-ve[1])<zt.MAX_PATTERN_DRIFT)ie=ve,Y=0;else{if(Y>zt.SKIPPED_ROW_COUNT_MAX)break;Y++}}P-=Y+1,_[2]=new _t(ie[0],P),_[3]=new _t(ie[1],P)}return P-m<zt.BARCODE_MIN_HEIGHT&&G.fill(_,null),_}static findGuardPattern(o,u,f,m,w,y,_){G.fillWithin(_,0,_.length,0);let I=u,U=0;for(;o.get(I,f)&&I>0&&U++<zt.MAX_PIXEL_DRIFT;)I--;let P=I,Y=0,ie=y.length;for(let ve=w;P<m;P++)if(o.get(P,f)!==ve)_[Y]++;else{if(Y===ie-1){if(zt.patternMatchVariance(_,y,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE)return new Int32Array([I,P]);I+=_[0]+_[1],R.arraycopy(_,2,_,0,Y-1),_[Y-1]=0,_[Y]=0,Y--}else Y++;_[Y]=1,ve=!ve}return Y===ie-1&&zt.patternMatchVariance(_,y,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE?new Int32Array([I,P-1]):null}static patternMatchVariance(o,u,f){let m=o.length,w=0,y=0;for(let U=0;U<m;U++)w+=o[U],y+=u[U];if(w<y)return 1/0;let _=w/y;f*=_;let I=0;for(let U=0;U<m;U++){let P=o[U],Y=u[U]*_,ie=P>Y?P-Y:Y-P;if(ie>f)return 1/0;I+=ie}return I/w}}zt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),zt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),zt.MAX_AVG_VARIANCE=.42,zt.MAX_INDIVIDUAL_VARIANCE=.8,zt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),zt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),zt.MAX_PIXEL_DRIFT=3,zt.MAX_PATTERN_DRIFT=5,zt.SKIPPED_ROW_COUNT_MAX=25,zt.ROW_STEP=5,zt.BARCODE_MIN_HEIGHT=10;class Zr{constructor(o,u){if(u.length===0)throw new C;this.field=o;let f=u.length;if(f>1&&u[0]===0){let m=1;for(;m<f&&u[m]===0;)m++;m===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-m),R.arraycopy(u,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let m=0;for(let w of this.coefficients)m=this.field.add(m,w);return m}let u=this.coefficients[0],f=this.coefficients.length;for(let m=1;m<f;m++)u=this.field.add(this.field.multiply(o,u),this.coefficients[m]);return u}add(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,f=o.coefficients;if(u.length>f.length){let y=u;u=f,f=y}let m=new Int32Array(f.length),w=f.length-u.length;R.arraycopy(f,0,m,0,w);for(let y=w;y<f.length;y++)m[y]=this.field.add(u[y-w],f[y]);return new Zr(this.field,m)}subtract(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Zr?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Zr(this.field,new Int32Array([0]));let u=this.coefficients,f=u.length,m=o.coefficients,w=m.length,y=new Int32Array(f+w-1);for(let _=0;_<f;_++){let I=u[_];for(let U=0;U<w;U++)y[_+U]=this.field.add(y[_+U],this.field.multiply(I,m[U]))}return new Zr(this.field,y)}negative(){let o=this.coefficients.length,u=new Int32Array(o);for(let f=0;f<o;f++)u[f]=this.field.subtract(0,this.coefficients[f]);return new Zr(this.field,u)}multiplyScalar(o){if(o===0)return new Zr(this.field,new Int32Array([0]));if(o===1)return this;let u=this.coefficients.length,f=new Int32Array(u);for(let m=0;m<u;m++)f[m]=this.field.multiply(this.coefficients[m],o);return new Zr(this.field,f)}multiplyByMonomial(o,u){if(o<0)throw new C;if(u===0)return new Zr(this.field,new Int32Array([0]));let f=this.coefficients.length,m=new Int32Array(f+o);for(let w=0;w<f;w++)m[w]=this.field.multiply(this.coefficients[w],u);return new Zr(this.field,m)}toString(){let o=new X;for(let u=this.getDegree();u>=0;u--){let f=this.getCoefficient(u);f!==0&&(f<0?(o.append(" - "),f=-f):o.length()>0&&o.append(" + "),(u===0||f!==1)&&o.append(f),u!==0&&(u===1?o.append("x"):(o.append("x^"),o.append(u))))}return o.toString()}}class Cl{add(o,u){return(o+u)%this.modulus}subtract(o,u){return(this.modulus+o-u)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new C;return this.logTable[o]}inverse(o){if(o===0)throw new pe;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Rs extends Cl{constructor(o,u){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let f=1;for(let m=0;m<o;m++)this.expTable[m]=f,f=f*u%o;for(let m=0;m<o-1;m++)this.logTable[this.expTable[m]]=m;this.zero=new Zr(this,new Int32Array([0])),this.one=new Zr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new C;if(u===0)return this.zero;let f=new Int32Array(o+1);return f[0]=u,new Zr(this,f)}}Rs.PDF417_GF=new Rs(Kt.NUMBER_OF_CODEWORDS,3);class Zi{constructor(){this.field=Rs.PDF417_GF}decode(o,u,f){let m=new Zr(this.field,o),w=new Int32Array(u),y=!1;for(let be=u;be>0;be--){let Ie=m.evaluateAt(this.field.exp(be));w[u-be]=Ie,Ie!==0&&(y=!0)}if(!y)return 0;let _=this.field.getOne();if(f!=null)for(const be of f){let Ie=this.field.exp(o.length-1-be),Oe=new Zr(this.field,new Int32Array([this.field.subtract(0,Ie),1]));_=_.multiply(Oe)}let I=new Zr(this.field,w),U=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),I,u),P=U[0],Y=U[1],ie=this.findErrorLocations(P),ve=this.findErrorMagnitudes(Y,P,ie);for(let be=0;be<ie.length;be++){let Ie=o.length-1-this.field.log(ie[be]);if(Ie<0)throw F.getChecksumInstance();o[Ie]=this.field.subtract(o[Ie],ve[be])}return ie.length}runEuclideanAlgorithm(o,u,f){if(o.getDegree()<u.getDegree()){let ie=o;o=u,u=ie}let m=o,w=u,y=this.field.getZero(),_=this.field.getOne();for(;w.getDegree()>=Math.round(f/2);){let ie=m,ve=y;if(m=w,y=_,m.isZero())throw F.getChecksumInstance();w=ie;let be=this.field.getZero(),Ie=m.getCoefficient(m.getDegree()),Oe=this.field.inverse(Ie);for(;w.getDegree()>=m.getDegree()&&!w.isZero();){let $e=w.getDegree()-m.getDegree(),yt=this.field.multiply(w.getCoefficient(w.getDegree()),Oe);be=be.add(this.field.buildMonomial($e,yt)),w=w.subtract(m.multiplyByMonomial($e,yt))}_=be.multiply(y).subtract(ve).negative()}let I=_.getCoefficient(0);if(I===0)throw F.getChecksumInstance();let U=this.field.inverse(I),P=_.multiply(U),Y=w.multiply(U);return[P,Y]}findErrorLocations(o){let u=o.getDegree(),f=new Int32Array(u),m=0;for(let w=1;w<this.field.getSize()&&m<u;w++)o.evaluateAt(w)===0&&(f[m]=this.field.inverse(w),m++);if(m!==u)throw F.getChecksumInstance();return f}findErrorMagnitudes(o,u,f){let m=u.getDegree(),w=new Int32Array(m);for(let U=1;U<=m;U++)w[m-U]=this.field.multiply(U,u.getCoefficient(U));let y=new Zr(this.field,w),_=f.length,I=new Int32Array(_);for(let U=0;U<_;U++){let P=this.field.inverse(f[U]),Y=this.field.subtract(0,o.evaluateAt(P)),ie=this.field.inverse(y.evaluateAt(P));I[U]=this.field.multiply(Y,ie)}return I}}class Ds{constructor(o,u,f,m,w){o instanceof Ds?this.constructor_2(o):this.constructor_1(o,u,f,m,w)}constructor_1(o,u,f,m,w){const y=u==null||f==null,_=m==null||w==null;if(y&&_)throw new ye;y?(u=new _t(0,m.getY()),f=new _t(0,w.getY())):_&&(m=new _t(o.getWidth()-1,u.getY()),w=new _t(o.getWidth()-1,f.getY())),this.image=o,this.topLeft=u,this.bottomLeft=f,this.topRight=m,this.bottomRight=w,this.minX=Math.trunc(Math.min(u.getX(),f.getX())),this.maxX=Math.trunc(Math.max(m.getX(),w.getX())),this.minY=Math.trunc(Math.min(u.getY(),m.getY())),this.maxY=Math.trunc(Math.max(f.getY(),w.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,u){return o==null?u:u==null?o:new Ds(o.image,o.topLeft,o.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(o,u,f){let m=this.topLeft,w=this.bottomLeft,y=this.topRight,_=this.bottomRight;if(o>0){let I=f?this.topLeft:this.topRight,U=Math.trunc(I.getY()-o);U<0&&(U=0);let P=new _t(I.getX(),U);f?m=P:y=P}if(u>0){let I=f?this.bottomLeft:this.bottomRight,U=Math.trunc(I.getY()+u);U>=this.image.getHeight()&&(U=this.image.getHeight()-1);let P=new _t(I.getX(),U);f?w=P:_=P}return new Ds(this.image,m,w,y,_)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ma{constructor(o,u,f,m){this.columnCount=o,this.errorCorrectionLevel=m,this.rowCountUpperPart=u,this.rowCountLowerPart=f,this.rowCount=u+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Us{constructor(){this.buffer=""}static form(o,u){let f=-1;function m(y,_,I,U,P,Y){if(y==="%%")return"%";if(u[++f]===void 0)return;y=U?parseInt(U.substr(1)):void 0;let ie=P?parseInt(P.substr(1)):void 0,ve;switch(Y){case"s":ve=u[f];break;case"c":ve=u[f][0];break;case"f":ve=parseFloat(u[f]).toFixed(y);break;case"p":ve=parseFloat(u[f]).toPrecision(y);break;case"e":ve=parseFloat(u[f]).toExponential(y);break;case"x":ve=parseInt(u[f]).toString(ie||16);break;case"d":ve=parseFloat(parseInt(u[f],ie||10).toPrecision(y)).toFixed(0);break}ve=typeof ve=="object"?JSON.stringify(ve):(+ve).toString(ie);let be=parseInt(I),Ie=I&&I[0]+""=="0"?"0":" ";for(;ve.length<be;)ve=_!==void 0?ve+Ie:Ie+ve;return ve}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(w,m)}format(o,...u){this.buffer+=Us.form(o,u)}toString(){return this.buffer}}class $s{constructor(o){this.boundingBox=new Ds(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let u=this.getCodeword(o);if(u!=null)return u;for(let f=1;f<$s.MAX_NEARBY_DISTANCE;f++){let m=this.imageRowToCodewordIndex(o)-f;if(m>=0&&(u=this.codewords[m],u!=null)||(m=this.imageRowToCodewordIndex(o)+f,m<this.codewords.length&&(u=this.codewords[m],u!=null)))return u}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,u){this.codewords[this.imageRowToCodewordIndex(o)]=u}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Us;let u=0;for(const f of this.codewords){if(f==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,f.getRowNumber(),f.getValue())}return o.toString()}}$s.MAX_NEARBY_DISTANCE=5;class ks{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let u=this.values.get(o);u==null&&(u=0),u++,this.values.set(o,u)}getValue(){let o=-1,u=new Array;for(const[f,m]of this.values.entries()){const w={getKey:()=>f,getValue:()=>m};w.getValue()>o?(o=w.getValue(),u=[],u.push(w.getKey())):w.getValue()===o&&u.push(w.getKey())}return Kt.toIntArray(u)}getConfidence(o){return this.values.get(o)}}class sn extends $s{constructor(o,u){super(o),this._isLeft=u}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,o);let f=this.getBoundingBox(),m=this._isLeft?f.getTopLeft():f.getTopRight(),w=this._isLeft?f.getBottomLeft():f.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(m.getY())),_=this.imageRowToCodewordIndex(Math.trunc(w.getY())),I=-1,U=1,P=0;for(let Y=y;Y<_;Y++){if(u[Y]==null)continue;let ie=u[Y],ve=ie.getRowNumber()-I;if(ve===0)P++;else if(ve===1)U=Math.max(U,P),P=1,I=ie.getRowNumber();else if(ve<0||ie.getRowNumber()>=o.getRowCount()||ve>Y)u[Y]=null;else{let be;U>2?be=(U-2)*ve:be=ve;let Ie=be>=Y;for(let Oe=1;Oe<=be&&!Ie;Oe++)Ie=u[Y-Oe]!=null;Ie?u[Y]=null:(I=ie.getRowNumber(),P=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let u=new Int32Array(o.getRowCount());for(let f of this.getCodewords())if(f!=null){let m=f.getRowNumber();if(m>=u.length)continue;u[m]++}return u}adjustIncompleteIndicatorColumnRowNumbers(o){let u=this.getBoundingBox(),f=this._isLeft?u.getTopLeft():u.getTopRight(),m=this._isLeft?u.getBottomLeft():u.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.imageRowToCodewordIndex(Math.trunc(m.getY())),_=this.getCodewords(),I=-1;for(let U=w;U<y;U++){if(_[U]==null)continue;let P=_[U];P.setRowNumberAsRowIndicatorColumn();let Y=P.getRowNumber()-I;Y===0||(Y===1?I=P.getRowNumber():P.getRowNumber()>=o.getRowCount()?_[U]=null:I=P.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),u=new ks,f=new ks,m=new ks,w=new ks;for(let _ of o){if(_==null)continue;_.setRowNumberAsRowIndicatorColumn();let I=_.getValue()%30,U=_.getRowNumber();switch(this._isLeft||(U+=2),U%3){case 0:f.setValue(I*3+1);break;case 1:w.setValue(I/3),m.setValue(I%3);break;case 2:u.setValue(I+1);break}}if(u.getValue().length===0||f.getValue().length===0||m.getValue().length===0||w.getValue().length===0||u.getValue()[0]<1||f.getValue()[0]+m.getValue()[0]<Kt.MIN_ROWS_IN_BARCODE||f.getValue()[0]+m.getValue()[0]>Kt.MAX_ROWS_IN_BARCODE)return null;let y=new ma(u.getValue()[0],f.getValue()[0],m.getValue()[0],w.getValue()[0]);return this.removeIncorrectCodewords(o,y),y}removeIncorrectCodewords(o,u){for(let f=0;f<o.length;f++){let m=o[f];if(o[f]==null)continue;let w=m.getValue()%30,y=m.getRowNumber();if(y>u.getRowCount()){o[f]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:w*3+1!==u.getRowCountUpperPart()&&(o[f]=null);break;case 1:(Math.trunc(w/3)!==u.getErrorCorrectionLevel()||w%3!==u.getRowCountLowerPart())&&(o[f]=null);break;case 2:w+1!==u.getColumnCount()&&(o[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class On{constructor(o,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Kt.MAX_CODEWORDS_IN_BARCODE,u;do u=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let f=this.detectionResultColumns[u].getCodewords();for(let m=0;m<f.length;m++)f[m]!=null&&(f[m].hasValidRowNumber()||this.adjustRowNumbers(u,m,f))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<o.length;f++)if(o[f]!=null&&u[f]!=null&&o[f].getRowNumber()===u[f].getRowNumber())for(let m=1;m<=this.barcodeColumnCount;m++){let w=this.detectionResultColumns[m].getCodewords()[f];w!=null&&(w.setRowNumber(o[f].getRowNumber()),w.hasValidRowNumber()||(this.detectionResultColumns[m].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<u.length;f++){if(u[f]==null)continue;let m=u[f].getRowNumber(),w=0;for(let y=this.barcodeColumnCount+1;y>0&&w<this.ADJUST_ROW_NUMBER_SKIP;y--){let _=this.detectionResultColumns[y].getCodewords()[f];_!=null&&(w=On.adjustRowNumberIfValid(m,w,_),_.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,u=this.detectionResultColumns[0].getCodewords();for(let f=0;f<u.length;f++){if(u[f]==null)continue;let m=u[f].getRowNumber(),w=0;for(let y=1;y<this.barcodeColumnCount+1&&w<this.ADJUST_ROW_NUMBER_SKIP;y++){let _=this.detectionResultColumns[y].getCodewords()[f];_!=null&&(w=On.adjustRowNumberIfValid(m,w,_),_.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,u,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(o)?(f.setRowNumber(o),u=0):++u),u}adjustRowNumbers(o,u,f){if(!this.detectionResultColumns[o-1])return;let m=f[u],w=this.detectionResultColumns[o-1].getCodewords(),y=w;this.detectionResultColumns[o+1]!=null&&(y=this.detectionResultColumns[o+1].getCodewords());let _=new Array(14);_[2]=w[u],_[3]=y[u],u>0&&(_[0]=f[u-1],_[4]=w[u-1],_[5]=y[u-1]),u>1&&(_[8]=f[u-2],_[10]=w[u-2],_[11]=y[u-2]),u<f.length-1&&(_[1]=f[u+1],_[6]=w[u+1],_[7]=y[u+1]),u<f.length-2&&(_[9]=f[u+2],_[12]=w[u+2],_[13]=y[u+2]);for(let I of _)if(On.adjustRowNumber(m,I))return}static adjustRowNumber(o,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===o.getBucket()?(o.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,u){this.detectionResultColumns[o]=u}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new Us;for(let f=0;f<o.getCodewords().length;f++){u.format("CW %3d:",f);for(let m=0;m<this.barcodeColumnCount+2;m++){if(this.detectionResultColumns[m]==null){u.format("    |   ");continue}let w=this.detectionResultColumns[m].getCodewords()[f];if(w==null){u.format("    |   ");continue}u.format(" %3d|%3d",w.getRowNumber(),w.getValue())}u.format("%n")}return u.toString()}}class gs{constructor(o,u,f,m){this.rowNumber=gs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(u),this.bucket=Math.trunc(f),this.value=Math.trunc(m)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==gs.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}gs.BARCODE_ROW_UNKNOWN=-1;class Ln{static initialize(){for(let o=0;o<Kt.SYMBOL_TABLE.length;o++){let u=Kt.SYMBOL_TABLE[o],f=u&1;for(let m=0;m<Kt.BARS_IN_MODULE;m++){let w=0;for(;(u&1)===f;)w+=1,u>>=1;f=u&1,Ln.RATIOS_TABLE[o]||(Ln.RATIOS_TABLE[o]=new Array(Kt.BARS_IN_MODULE)),Ln.RATIOS_TABLE[o][Kt.BARS_IN_MODULE-m-1]=Math.fround(w/Kt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let u=Ln.getDecodedCodewordValue(Ln.sampleBitCounts(o));return u!==-1?u:Ln.getClosestDecodedValue(o)}static sampleBitCounts(o){let u=Bt.sum(o),f=new Int32Array(Kt.BARS_IN_MODULE),m=0,w=0;for(let y=0;y<Kt.MODULES_IN_CODEWORD;y++){let _=u/(2*Kt.MODULES_IN_CODEWORD)+y*u/Kt.MODULES_IN_CODEWORD;w+o[m]<=_&&(w+=o[m],m++),f[m]++}return f}static getDecodedCodewordValue(o){let u=Ln.getBitValue(o);return Kt.getCodeword(u)===-1?-1:u}static getBitValue(o){let u=0;for(let f=0;f<o.length;f++)for(let m=0;m<o[f];m++)u=u<<1|(f%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(o){let u=Bt.sum(o),f=new Array(Kt.BARS_IN_MODULE);if(u>1)for(let y=0;y<f.length;y++)f[y]=Math.fround(o[y]/u);let m=ur.MAX_VALUE,w=-1;this.bSymbolTableReady||Ln.initialize();for(let y=0;y<Ln.RATIOS_TABLE.length;y++){let _=0,I=Ln.RATIOS_TABLE[y];for(let U=0;U<Kt.BARS_IN_MODULE;U++){let P=Math.fround(I[U]-f[U]);if(_+=Math.fround(P*P),_>=m)break}_<m&&(m=_,w=Kt.SYMBOL_TABLE[y])}return w}}Ln.bSymbolTableReady=!1,Ln.RATIOS_TABLE=new Array(Kt.SYMBOL_TABLE.length).map(q=>new Array(Kt.BARS_IN_MODULE));class Ha{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class El{static parseLong(o,u=void 0){return parseInt(o,u)}}class Va extends d{}Va.kind="NullPointerException";class xA{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,u,f){if(o==null)throw new Va;if(u<0||u>o.length||f<0||u+f>o.length||u+f<0)throw new k;if(f===0)return;for(let m=0;m<f;m++)this.write(o[u+m])}flush(){}close(){}}class Ri extends d{}class Io extends xA{constructor(o=32){if(super(),this.count=0,o<0)throw new C("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let f=this.buf.length<<1;if(f-o<0&&(f=o),f<0){if(o<0)throw new Ri;f=Q.MAX_VALUE}this.buf=G.copyOfUint8Array(this.buf,f)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,u,f){if(u<0||u>o.length||f<0||u+f-o.length>0)throw new k;this.ensureCapacity(this.count+f),R.arraycopy(o,u,this.buf,this.count,f),this.count+=f}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return G.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var kr;(function(q){q[q.ALPHA=0]="ALPHA",q[q.LOWER=1]="LOWER",q[q.MIXED=2]="MIXED",q[q.PUNCT=3]="PUNCT",q[q.ALPHA_SHIFT=4]="ALPHA_SHIFT",q[q.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(kr||(kr={}));function Ao(){if(typeof window<"u")return window.BigInt||null;if(typeof sh<"u")return sh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let No;function Ms(q){if(typeof No>"u"&&(No=Ao()),No===null)throw new Error("BigInt is not supported!");return No(q)}function lo(){let q=[];q[0]=Ms(1);let o=Ms(900);q[1]=o;for(let u=2;u<16;u++)q[u]=q[u-1]*o;return q}class Ze{static decode(o,u){let f=new X(""),m=O.ISO8859_1;f.enableDecoding(m);let w=1,y=o[w++],_=new Ha;for(;w<o[0];){switch(y){case Ze.TEXT_COMPACTION_MODE_LATCH:w=Ze.textCompaction(o,w,f);break;case Ze.BYTE_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH_6:w=Ze.byteCompaction(y,o,m,w,f);break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w++]);break;case Ze.NUMERIC_COMPACTION_MODE_LATCH:w=Ze.numericCompaction(o,w,f);break;case Ze.ECI_CHARSET:O.getCharacterSetECIByValue(o[w++]);break;case Ze.ECI_GENERAL_PURPOSE:w+=2;break;case Ze.ECI_USER_DEFINED:w++;break;case Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:w=Ze.decodeMacroBlock(o,w,_);break;case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ze.MACRO_PDF417_TERMINATOR:throw new M;default:w--,w=Ze.textCompaction(o,w,f);break}if(w<o.length)y=o[w++];else throw M.getFormatInstance()}if(f.length()===0)throw M.getFormatInstance();let I=new _e(null,f.toString(),null,u);return I.setOther(_),I}static decodeMacroBlock(o,u,f){if(u+Ze.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw M.getFormatInstance();let m=new Int32Array(Ze.NUMBER_OF_SEQUENCE_CODEWORDS);for(let _=0;_<Ze.NUMBER_OF_SEQUENCE_CODEWORDS;_++,u++)m[_]=o[u];f.setSegmentIndex(Q.parseInt(Ze.decodeBase900toBase10(m,Ze.NUMBER_OF_SEQUENCE_CODEWORDS)));let w=new X;u=Ze.textCompaction(o,u,w),f.setFileId(w.toString());let y=-1;for(o[u]===Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=u+1);u<o[0];)switch(o[u]){case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,o[u]){case Ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let _=new X;u=Ze.textCompaction(o,u+1,_),f.setFileName(_.toString());break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let I=new X;u=Ze.textCompaction(o,u+1,I),f.setSender(I.toString());break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let U=new X;u=Ze.textCompaction(o,u+1,U),f.setAddressee(U.toString());break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let P=new X;u=Ze.numericCompaction(o,u+1,P),f.setSegmentCount(Q.parseInt(P.toString()));break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Y=new X;u=Ze.numericCompaction(o,u+1,Y),f.setTimestamp(El.parseLong(Y.toString()));break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ie=new X;u=Ze.numericCompaction(o,u+1,ie),f.setChecksum(Q.parseInt(ie.toString()));break;case Ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ve=new X;u=Ze.numericCompaction(o,u+1,ve),f.setFileSize(El.parseLong(ve.toString()));break;default:throw M.getFormatInstance()}break;case Ze.MACRO_PDF417_TERMINATOR:u++,f.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(y!==-1){let _=u-y;f.isLastSegment()&&_--,f.setOptionalData(G.copyOfRange(o,y,y+_))}return u}static textCompaction(o,u,f){let m=new Int32Array((o[0]-u)*2),w=new Int32Array((o[0]-u)*2),y=0,_=!1;for(;u<o[0]&&!_;){let I=o[u++];if(I<Ze.TEXT_COMPACTION_MODE_LATCH)m[y]=I/30,m[y+1]=I%30,y+=2;else switch(I){case Ze.TEXT_COMPACTION_MODE_LATCH:m[y++]=Ze.TEXT_COMPACTION_MODE_LATCH;break;case Ze.BYTE_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH_6:case Ze.NUMERIC_COMPACTION_MODE_LATCH:case Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ze.MACRO_PDF417_TERMINATOR:u--,_=!0;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m[y]=Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,I=o[u++],w[y]=I,y++;break}}return Ze.decodeTextCompaction(m,w,y,f),u}static decodeTextCompaction(o,u,f,m){let w=kr.ALPHA,y=kr.ALPHA,_=0;for(;_<f;){let I=o[_],U="";switch(w){case kr.ALPHA:if(I<26)U=String.fromCharCode(65+I);else switch(I){case 26:U=" ";break;case Ze.LL:w=kr.LOWER;break;case Ze.ML:w=kr.MIXED;break;case Ze.PS:y=w,w=kr.PUNCT_SHIFT;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(u[_]);break;case Ze.TEXT_COMPACTION_MODE_LATCH:w=kr.ALPHA;break}break;case kr.LOWER:if(I<26)U=String.fromCharCode(97+I);else switch(I){case 26:U=" ";break;case Ze.AS:y=w,w=kr.ALPHA_SHIFT;break;case Ze.ML:w=kr.MIXED;break;case Ze.PS:y=w,w=kr.PUNCT_SHIFT;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(u[_]);break;case Ze.TEXT_COMPACTION_MODE_LATCH:w=kr.ALPHA;break}break;case kr.MIXED:if(I<Ze.PL)U=Ze.MIXED_CHARS[I];else switch(I){case Ze.PL:w=kr.PUNCT;break;case 26:U=" ";break;case Ze.LL:w=kr.LOWER;break;case Ze.AL:w=kr.ALPHA;break;case Ze.PS:y=w,w=kr.PUNCT_SHIFT;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(u[_]);break;case Ze.TEXT_COMPACTION_MODE_LATCH:w=kr.ALPHA;break}break;case kr.PUNCT:if(I<Ze.PAL)U=Ze.PUNCT_CHARS[I];else switch(I){case Ze.PAL:w=kr.ALPHA;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(u[_]);break;case Ze.TEXT_COMPACTION_MODE_LATCH:w=kr.ALPHA;break}break;case kr.ALPHA_SHIFT:if(w=y,I<26)U=String.fromCharCode(65+I);else switch(I){case 26:U=" ";break;case Ze.TEXT_COMPACTION_MODE_LATCH:w=kr.ALPHA;break}break;case kr.PUNCT_SHIFT:if(w=y,I<Ze.PAL)U=Ze.PUNCT_CHARS[I];else switch(I){case Ze.PAL:w=kr.ALPHA;break;case Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(u[_]);break;case Ze.TEXT_COMPACTION_MODE_LATCH:w=kr.ALPHA;break}break}U!==""&&m.append(U),_++}}static byteCompaction(o,u,f,m,w){let y=new Io,_=0,I=0,U=!1;switch(o){case Ze.BYTE_COMPACTION_MODE_LATCH:let P=new Int32Array(6),Y=u[m++];for(;m<u[0]&&!U;)switch(P[_++]=Y,I=900*I+Y,Y=u[m++],Y){case Ze.TEXT_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH:case Ze.NUMERIC_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH_6:case Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ze.MACRO_PDF417_TERMINATOR:m--,U=!0;break;default:if(_%5===0&&_>0){for(let ie=0;ie<6;++ie)y.write(Number(Ms(I)>>Ms(8*(5-ie))));I=0,_=0}break}m===u[0]&&Y<Ze.TEXT_COMPACTION_MODE_LATCH&&(P[_++]=Y);for(let ie=0;ie<_;ie++)y.write(P[ie]);break;case Ze.BYTE_COMPACTION_MODE_LATCH_6:for(;m<u[0]&&!U;){let ie=u[m++];if(ie<Ze.TEXT_COMPACTION_MODE_LATCH)_++,I=900*I+ie;else switch(ie){case Ze.TEXT_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH:case Ze.NUMERIC_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH_6:case Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ze.MACRO_PDF417_TERMINATOR:m--,U=!0;break}if(_%5===0&&_>0){for(let ve=0;ve<6;++ve)y.write(Number(Ms(I)>>Ms(8*(5-ve))));I=0,_=0}}break}return w.append(J.decode(y.toByteArray(),f)),m}static numericCompaction(o,u,f){let m=0,w=!1,y=new Int32Array(Ze.MAX_NUMERIC_CODEWORDS);for(;u<o[0]&&!w;){let _=o[u++];if(u===o[0]&&(w=!0),_<Ze.TEXT_COMPACTION_MODE_LATCH)y[m]=_,m++;else switch(_){case Ze.TEXT_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH:case Ze.BYTE_COMPACTION_MODE_LATCH_6:case Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ze.MACRO_PDF417_TERMINATOR:u--,w=!0;break}(m%Ze.MAX_NUMERIC_CODEWORDS===0||_===Ze.NUMERIC_COMPACTION_MODE_LATCH||w)&&m>0&&(f.append(Ze.decodeBase900toBase10(y,m)),m=0)}return u}static decodeBase900toBase10(o,u){let f=Ms(0);for(let w=0;w<u;w++)f+=Ze.EXP900[u-w-1]*Ms(o[w]);let m=f.toString();if(m.charAt(0)!=="1")throw new M;return m.substring(1)}}Ze.TEXT_COMPACTION_MODE_LATCH=900,Ze.BYTE_COMPACTION_MODE_LATCH=901,Ze.NUMERIC_COMPACTION_MODE_LATCH=902,Ze.BYTE_COMPACTION_MODE_LATCH_6=924,Ze.ECI_USER_DEFINED=925,Ze.ECI_GENERAL_PURPOSE=926,Ze.ECI_CHARSET=927,Ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ze.MACRO_PDF417_TERMINATOR=922,Ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ze.MAX_NUMERIC_CODEWORDS=15,Ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ze.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ze.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ze.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ze.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ze.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ze.PL=25,Ze.LL=27,Ze.AS=27,Ze.ML=28,Ze.AL=28,Ze.PS=29,Ze.PAL=29,Ze.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ze.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ze.EXP900=Ao()?lo():[],Ze.NUMBER_OF_SEQUENCE_CODEWORDS=2;class tr{constructor(){}static decode(o,u,f,m,w,y,_){let I=new Ds(o,u,f,m,w),U=null,P=null,Y;for(let be=!0;;be=!1){if(u!=null&&(U=tr.getRowIndicatorColumn(o,I,u,!0,y,_)),m!=null&&(P=tr.getRowIndicatorColumn(o,I,m,!1,y,_)),Y=tr.merge(U,P),Y==null)throw ye.getNotFoundInstance();let Ie=Y.getBoundingBox();if(be&&Ie!=null&&(Ie.getMinY()<I.getMinY()||Ie.getMaxY()>I.getMaxY()))I=Ie;else break}Y.setBoundingBox(I);let ie=Y.getBarcodeColumnCount()+1;Y.setDetectionResultColumn(0,U),Y.setDetectionResultColumn(ie,P);let ve=U!=null;for(let be=1;be<=ie;be++){let Ie=ve?be:ie-be;if(Y.getDetectionResultColumn(Ie)!==void 0)continue;let Oe;Ie===0||Ie===ie?Oe=new sn(I,Ie===0):Oe=new $s(I),Y.setDetectionResultColumn(Ie,Oe);let $e=-1,yt=$e;for(let vt=I.getMinY();vt<=I.getMaxY();vt++){if($e=tr.getStartColumn(Y,Ie,vt,ve),$e<0||$e>I.getMaxX()){if(yt===-1)continue;$e=yt}let dt=tr.detectCodeword(o,I.getMinX(),I.getMaxX(),ve,$e,vt,y,_);dt!=null&&(Oe.setCodeword(vt,dt),yt=$e,y=Math.min(y,dt.getWidth()),_=Math.max(_,dt.getWidth()))}}return tr.createDecoderResult(Y)}static merge(o,u){if(o==null&&u==null)return null;let f=tr.getBarcodeMetadata(o,u);if(f==null)return null;let m=Ds.merge(tr.adjustBoundingBox(o),tr.adjustBoundingBox(u));return new On(f,m)}static adjustBoundingBox(o){if(o==null)return null;let u=o.getRowHeights();if(u==null)return null;let f=tr.getMax(u),m=0;for(let _ of u)if(m+=f-_,_>0)break;let w=o.getCodewords();for(let _=0;m>0&&w[_]==null;_++)m--;let y=0;for(let _=u.length-1;_>=0&&(y+=f-u[_],!(u[_]>0));_--);for(let _=w.length-1;y>0&&w[_]==null;_--)y--;return o.getBoundingBox().addMissingRows(m,y,o.isLeft())}static getMax(o){let u=-1;for(let f of o)u=Math.max(u,f);return u}static getBarcodeMetadata(o,u){let f;if(o==null||(f=o.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let m;return u==null||(m=u.getBarcodeMetadata())==null?f:f.getColumnCount()!==m.getColumnCount()&&f.getErrorCorrectionLevel()!==m.getErrorCorrectionLevel()&&f.getRowCount()!==m.getRowCount()?null:f}static getRowIndicatorColumn(o,u,f,m,w,y){let _=new sn(u,m);for(let I=0;I<2;I++){let U=I===0?1:-1,P=Math.trunc(Math.trunc(f.getX()));for(let Y=Math.trunc(Math.trunc(f.getY()));Y<=u.getMaxY()&&Y>=u.getMinY();Y+=U){let ie=tr.detectCodeword(o,0,o.getWidth(),m,P,Y,w,y);ie!=null&&(_.setCodeword(Y,ie),m?P=ie.getStartX():P=ie.getEndX())}}return _}static adjustCodewordCount(o,u){let f=u[0][1],m=f.getValue(),w=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-tr.getNumberOfECCodeWords(o.getBarcodeECLevel());if(m.length===0){if(w<1||w>Kt.MAX_CODEWORDS_IN_BARCODE)throw ye.getNotFoundInstance();f.setValue(w)}else m[0]!==w&&f.setValue(w)}static createDecoderResult(o){let u=tr.createBarcodeMatrix(o);tr.adjustCodewordCount(o,u);let f=new Array,m=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),w=[],y=new Array;for(let I=0;I<o.getBarcodeRowCount();I++)for(let U=0;U<o.getBarcodeColumnCount();U++){let P=u[I][U+1].getValue(),Y=I*o.getBarcodeColumnCount()+U;P.length===0?f.push(Y):P.length===1?m[Y]=P[0]:(y.push(Y),w.push(P))}let _=new Array(w.length);for(let I=0;I<_.length;I++)_[I]=w[I];return tr.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),m,Kt.toIntArray(f),Kt.toIntArray(y),_)}static createDecoderResultFromAmbiguousValues(o,u,f,m,w){let y=new Int32Array(m.length),_=100;for(;_-- >0;){for(let I=0;I<y.length;I++)u[m[I]]=w[I][y[I]];try{return tr.decodeCodewords(u,o,f)}catch(I){if(!(I instanceof F))throw I}if(y.length===0)throw F.getChecksumInstance();for(let I=0;I<y.length;I++)if(y[I]<w[I].length-1){y[I]++;break}else if(y[I]=0,I===y.length-1)throw F.getChecksumInstance()}throw F.getChecksumInstance()}static createBarcodeMatrix(o){let u=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let m=0;m<u.length;m++)for(let w=0;w<u[m].length;w++)u[m][w]=new ks;let f=0;for(let m of o.getDetectionResultColumns()){if(m!=null){for(let w of m.getCodewords())if(w!=null){let y=w.getRowNumber();if(y>=0){if(y>=u.length)continue;u[y][f].setValue(w.getValue())}}}f++}return u}static isValidBarcodeColumn(o,u){return u>=0&&u<=o.getBarcodeColumnCount()+1}static getStartColumn(o,u,f,m){let w=m?1:-1,y=null;if(tr.isValidBarcodeColumn(o,u-w)&&(y=o.getDetectionResultColumn(u-w).getCodeword(f)),y!=null)return m?y.getEndX():y.getStartX();if(y=o.getDetectionResultColumn(u).getCodewordNearby(f),y!=null)return m?y.getStartX():y.getEndX();if(tr.isValidBarcodeColumn(o,u-w)&&(y=o.getDetectionResultColumn(u-w).getCodewordNearby(f)),y!=null)return m?y.getEndX():y.getStartX();let _=0;for(;tr.isValidBarcodeColumn(o,u-w);){u-=w;for(let I of o.getDetectionResultColumn(u).getCodewords())if(I!=null)return(m?I.getEndX():I.getStartX())+w*_*(I.getEndX()-I.getStartX());_++}return m?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,u,f,m,w,y,_,I){w=tr.adjustCodewordStartColumn(o,u,f,m,w,y);let U=tr.getModuleBitCount(o,u,f,m,w,y);if(U==null)return null;let P,Y=Bt.sum(U);if(m)P=w+Y;else{for(let be=0;be<U.length/2;be++){let Ie=U[be];U[be]=U[U.length-1-be],U[U.length-1-be]=Ie}P=w,w=P-Y}if(!tr.checkCodewordSkew(Y,_,I))return null;let ie=Ln.getDecodedValue(U),ve=Kt.getCodeword(ie);return ve===-1?null:new gs(w,P,tr.getCodewordBucketNumber(ie),ve)}static getModuleBitCount(o,u,f,m,w,y){let _=w,I=new Int32Array(8),U=0,P=m?1:-1,Y=m;for(;(m?_<f:_>=u)&&U<I.length;)o.get(_,y)===Y?(I[U]++,_+=P):(U++,Y=!Y);return U===I.length||_===(m?f:u)&&U===I.length-1?I:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,u,f,m,w,y){let _=w,I=m?-1:1;for(let U=0;U<2;U++){for(;(m?_>=u:_<f)&&m===o.get(_,y);){if(Math.abs(w-_)>tr.CODEWORD_SKEW_SIZE)return w;_+=I}I=-I,m=!m}return _}static checkCodewordSkew(o,u,f){return u-tr.CODEWORD_SKEW_SIZE<=o&&o<=f+tr.CODEWORD_SKEW_SIZE}static decodeCodewords(o,u,f){if(o.length===0)throw M.getFormatInstance();let m=1<<u+1,w=tr.correctErrors(o,f,m);tr.verifyCodewordCount(o,m);let y=Ze.decode(o,""+u);return y.setErrorsCorrected(w),y.setErasures(f.length),y}static correctErrors(o,u,f){if(u!=null&&u.length>f/2+tr.MAX_ERRORS||f<0||f>tr.MAX_EC_CODEWORDS)throw F.getChecksumInstance();return tr.errorCorrection.decode(o,f,u)}static verifyCodewordCount(o,u){if(o.length<4)throw M.getFormatInstance();let f=o[0];if(f>o.length)throw M.getFormatInstance();if(f===0)if(u<o.length)o[0]=o.length-u;else throw M.getFormatInstance()}static getBitCountForCodeword(o){let u=new Int32Array(8),f=0,m=u.length-1;for(;!((o&1)!==f&&(f=o&1,m--,m<0));)u[m]++,o>>=1;return u}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return tr.getCodewordBucketNumber(tr.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let u=new Us;for(let f=0;f<o.length;f++){u.format("Row %2d: ",f);for(let m=0;m<o[f].length;m++){let w=o[f][m];w.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",w.getValue()[0],w.getConfidence(w.getValue()[0]))}u.format("%n")}return u.toString()}}tr.CODEWORD_SKEW_SIZE=2,tr.MAX_ERRORS=3,tr.MAX_EC_CODEWORDS=512,tr.errorCorrection=new Zi;class Wn{decode(o,u=null){let f=Wn.decode(o,u,!1);if(f==null||f.length===0||f[0]==null)throw ye.getNotFoundInstance();return f[0]}decodeMultiple(o,u=null){try{return Wn.decode(o,u,!0)}catch(f){throw f instanceof M||f instanceof F?ye.getNotFoundInstance():f}}static decode(o,u,f){const m=new Array,w=zt.detectMultiple(o,u,f);for(const y of w.getPoints()){const _=tr.decode(w.getBits(),y[4],y[5],y[6],y[7],Wn.getMinCodewordWidth(y),Wn.getMaxCodewordWidth(y)),I=new fe(_.getText(),_.getRawBytes(),void 0,y,xe.PDF_417);I.putMetadata(Fe.ERROR_CORRECTION_LEVEL,_.getECLevel());const U=_.getOther();U!=null&&I.putMetadata(Fe.PDF417_EXTRA_METADATA,U),m.push(I)}return m.map(y=>y)}static getMaxWidth(o,u){return o==null||u==null?0:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMinWidth(o,u){return o==null||u==null?Q.MAX_VALUE:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Wn.getMaxWidth(o[0],o[4]),Wn.getMaxWidth(o[6],o[2])*Kt.MODULES_IN_CODEWORD/Kt.MODULES_IN_STOP_PATTERN),Math.max(Wn.getMaxWidth(o[1],o[5]),Wn.getMaxWidth(o[7],o[3])*Kt.MODULES_IN_CODEWORD/Kt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Wn.getMinWidth(o[0],o[4]),Wn.getMinWidth(o[6],o[2])*Kt.MODULES_IN_CODEWORD/Kt.MODULES_IN_STOP_PATTERN),Math.min(Wn.getMinWidth(o[1],o[5]),Wn.getMinWidth(o[7],o[3])*Kt.MODULES_IN_CODEWORD/Kt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Fo extends d{}Fo.kind="ReaderException";class co{constructor(o,u){this.verbose=o===!0,u&&this.setHints(u)}decode(o,u){return u&&this.setHints(u),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const u=!n(o)&&o.get(te.TRY_HARDER)===!0,f=n(o)?null:o.get(te.POSSIBLE_FORMATS),m=new Array;if(!n(f)){const w=f.some(y=>y===xe.UPC_A||y===xe.UPC_E||y===xe.EAN_13||y===xe.EAN_8||y===xe.CODABAR||y===xe.CODE_39||y===xe.CODE_93||y===xe.CODE_128||y===xe.ITF||y===xe.RSS_14||y===xe.RSS_EXPANDED);w&&!u&&m.push(new Nn(o,this.verbose)),f.includes(xe.QR_CODE)&&m.push(new Zs),f.includes(xe.DATA_MATRIX)&&m.push(new Is),f.includes(xe.AZTEC)&&m.push(new at),f.includes(xe.PDF_417)&&m.push(new Wn),w&&u&&m.push(new Nn(o,this.verbose))}m.length===0&&(u||m.push(new Nn(o,this.verbose)),m.push(new Zs),m.push(new Is),m.push(new at),m.push(new Wn),u&&m.push(new Nn(o,this.verbose))),this.readers=m}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Fo("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(o,this.hints)}catch(f){if(f instanceof Fo)continue}throw new ye("No MultiFormat Readers were able to detect the code.")}}class Bl extends de{constructor(o=null,u=500){const f=new co;f.setHints(o),super(f,u)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Ec extends de{constructor(o=500){super(new Wn,o)}}class _l extends de{constructor(o=500){super(new Zs,o)}}var Ro;(function(q){q[q.ERROR_CORRECTION=0]="ERROR_CORRECTION",q[q.CHARACTER_SET=1]="CHARACTER_SET",q[q.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",q[q.MIN_SIZE=3]="MIN_SIZE",q[q.MAX_SIZE=4]="MAX_SIZE",q[q.MARGIN=5]="MARGIN",q[q.PDF417_COMPACT=6]="PDF417_COMPACT",q[q.PDF417_COMPACTION=7]="PDF417_COMPACTION",q[q.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",q[q.AZTEC_LAYERS=9]="AZTEC_LAYERS",q[q.QR_VERSION=10]="QR_VERSION"})(Ro||(Ro={}));var Tn=Ro;class xa{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new xt(o,Int32Array.from([1])))}buildGenerator(o){const u=this.cachedGenerators;if(o>=u.length){let f=u[u.length-1];const m=this.field;for(let w=u.length;w<=o;w++){const y=f.multiply(new xt(m,Int32Array.from([1,m.exp(w-1+m.getGeneratorBase())])));u.push(y),f=y}}return u[o]}encode(o,u){if(u===0)throw new C("No error correction bytes");const f=o.length-u;if(f<=0)throw new C("No data bytes provided");const m=this.buildGenerator(u),w=new Int32Array(f);R.arraycopy(o,0,w,0,f);let y=new xt(this.field,w);y=y.multiplyByMonomial(u,1);const I=y.divide(m)[1].getCoefficients(),U=u-I.length;for(let P=0;P<U;P++)o[f+P]=0;R.arraycopy(I,0,o,f+U,I.length)}}class un{constructor(){}static applyMaskPenaltyRule1(o){return un.applyMaskPenaltyRule1Internal(o,!0)+un.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let u=0;const f=o.getArray(),m=o.getWidth(),w=o.getHeight();for(let y=0;y<w-1;y++){const _=f[y];for(let I=0;I<m-1;I++){const U=_[I];U===_[I+1]&&U===f[y+1][I]&&U===f[y+1][I+1]&&u++}}return un.N2*u}static applyMaskPenaltyRule3(o){let u=0;const f=o.getArray(),m=o.getWidth(),w=o.getHeight();for(let y=0;y<w;y++)for(let _=0;_<m;_++){const I=f[y];_+6<m&&I[_]===1&&I[_+1]===0&&I[_+2]===1&&I[_+3]===1&&I[_+4]===1&&I[_+5]===0&&I[_+6]===1&&(un.isWhiteHorizontal(I,_-4,_)||un.isWhiteHorizontal(I,_+7,_+11))&&u++,y+6<w&&f[y][_]===1&&f[y+1][_]===0&&f[y+2][_]===1&&f[y+3][_]===1&&f[y+4][_]===1&&f[y+5][_]===0&&f[y+6][_]===1&&(un.isWhiteVertical(f,_,y-4,y)||un.isWhiteVertical(f,_,y+7,y+11))&&u++}return u*un.N3}static isWhiteHorizontal(o,u,f){u=Math.max(u,0),f=Math.min(f,o.length);for(let m=u;m<f;m++)if(o[m]===1)return!1;return!0}static isWhiteVertical(o,u,f,m){f=Math.max(f,0),m=Math.min(m,o.length);for(let w=f;w<m;w++)if(o[w][u]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let u=0;const f=o.getArray(),m=o.getWidth(),w=o.getHeight();for(let I=0;I<w;I++){const U=f[I];for(let P=0;P<m;P++)U[P]===1&&u++}const y=o.getHeight()*o.getWidth();return Math.floor(Math.abs(u*2-y)*10/y)*un.N4}static getDataMaskBit(o,u,f){let m,w;switch(o){case 0:m=f+u&1;break;case 1:m=f&1;break;case 2:m=u%3;break;case 3:m=(f+u)%3;break;case 4:m=Math.floor(f/2)+Math.floor(u/3)&1;break;case 5:w=f*u,m=(w&1)+w%3;break;case 6:w=f*u,m=(w&1)+w%3&1;break;case 7:w=f*u,m=w%3+(f+u&1)&1;break;default:throw new C("Invalid mask pattern: "+o)}return m===0}static applyMaskPenaltyRule1Internal(o,u){let f=0;const m=u?o.getHeight():o.getWidth(),w=u?o.getWidth():o.getHeight(),y=o.getArray();for(let _=0;_<m;_++){let I=0,U=-1;for(let P=0;P<w;P++){const Y=u?y[_][P]:y[P][_];Y===U?I++:(I>=5&&(f+=un.N1+(I-5)),I=1,U=Y)}I>=5&&(f+=un.N1+(I-5))}return f}}un.N1=3,un.N2=3,un.N3=40,un.N4=10;class Do{constructor(o,u){this.width=o,this.height=u;const f=new Array(u);for(let m=0;m!==u;m++)f[m]=new Uint8Array(o);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(o,u){return this.bytes[u][o]}getArray(){return this.bytes}setNumber(o,u,f){this.bytes[u][o]=f}setBoolean(o,u,f){this.bytes[u][o]=f?1:0}clear(o){for(const u of this.bytes)G.fill(u,o)}equals(o){if(!(o instanceof Do))return!1;const u=o;if(this.width!==u.width||this.height!==u.height)return!1;for(let f=0,m=this.height;f<m;++f){const w=this.bytes[f],y=u.bytes[f];for(let _=0,I=this.width;_<I;++_)if(w[_]!==y[_])return!1}return!0}toString(){const o=new X;for(let u=0,f=this.height;u<f;++u){const m=this.bytes[u];for(let w=0,y=this.width;w<y;++w)switch(m[w]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Di{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new X;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Di.NUM_MASK_PATTERNS}}Di.NUM_MASK_PATTERNS=8;class Mr extends d{}Mr.kind="WriterException";class jt{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,u,f,m,w){jt.clearMatrix(w),jt.embedBasicPatterns(f,w),jt.embedTypeInfo(u,m,w),jt.maybeEmbedVersionInfo(f,w),jt.embedDataBits(o,m,w)}static embedBasicPatterns(o,u){jt.embedPositionDetectionPatternsAndSeparators(u),jt.embedDarkDotAtLeftBottomCorner(u),jt.maybeEmbedPositionAdjustmentPatterns(o,u),jt.embedTimingPatterns(u)}static embedTypeInfo(o,u,f){const m=new ee;jt.makeTypeInfoBits(o,u,m);for(let w=0,y=m.getSize();w<y;++w){const _=m.get(m.getSize()-1-w),I=jt.TYPE_INFO_COORDINATES[w],U=I[0],P=I[1];if(f.setBoolean(U,P,_),w<8){const Y=f.getWidth()-w-1;f.setBoolean(Y,8,_)}else{const ie=f.getHeight()-7+(w-8);f.setBoolean(8,ie,_)}}}static maybeEmbedVersionInfo(o,u){if(o.getVersionNumber()<7)return;const f=new ee;jt.makeVersionInfoBits(o,f);let m=17;for(let w=0;w<6;++w)for(let y=0;y<3;++y){const _=f.get(m);m--,u.setBoolean(w,u.getHeight()-11+y,_),u.setBoolean(u.getHeight()-11+y,w,_)}}static embedDataBits(o,u,f){let m=0,w=-1,y=f.getWidth()-1,_=f.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);_>=0&&_<f.getHeight();){for(let I=0;I<2;++I){const U=y-I;if(!jt.isEmpty(f.get(U,_)))continue;let P;m<o.getSize()?(P=o.get(m),++m):P=!1,u!==255&&un.getDataMaskBit(u,U,_)&&(P=!P),f.setBoolean(U,_,P)}_+=w}w=-w,_+=w,y-=2}if(m!==o.getSize())throw new Mr("Not all bits consumed: "+m+"/"+o.getSize())}static findMSBSet(o){return 32-Q.numberOfLeadingZeros(o)}static calculateBCHCode(o,u){if(u===0)throw new C("0 polynomial");const f=jt.findMSBSet(u);for(o<<=f-1;jt.findMSBSet(o)>=f;)o^=u<<jt.findMSBSet(o)-f;return o}static makeTypeInfoBits(o,u,f){if(!Di.isValidMaskPattern(u))throw new Mr("Invalid mask pattern");const m=o.getBits()<<3|u;f.appendBits(m,5);const w=jt.calculateBCHCode(m,jt.TYPE_INFO_POLY);f.appendBits(w,10);const y=new ee;if(y.appendBits(jt.TYPE_INFO_MASK_PATTERN,15),f.xor(y),f.getSize()!==15)throw new Mr("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(o,u){u.appendBits(o.getVersionNumber(),6);const f=jt.calculateBCHCode(o.getVersionNumber(),jt.VERSION_INFO_POLY);if(u.appendBits(f,12),u.getSize()!==18)throw new Mr("should not happen but we got: "+u.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let u=8;u<o.getWidth()-8;++u){const f=(u+1)%2;jt.isEmpty(o.get(u,6))&&o.setNumber(u,6,f),jt.isEmpty(o.get(6,u))&&o.setNumber(6,u,f)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new Mr;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,u,f){for(let m=0;m<8;++m){if(!jt.isEmpty(f.get(o+m,u)))throw new Mr;f.setNumber(o+m,u,0)}}static embedVerticalSeparationPattern(o,u,f){for(let m=0;m<7;++m){if(!jt.isEmpty(f.get(o,u+m)))throw new Mr;f.setNumber(o,u+m,0)}}static embedPositionAdjustmentPattern(o,u,f){for(let m=0;m<5;++m){const w=jt.POSITION_ADJUSTMENT_PATTERN[m];for(let y=0;y<5;++y)f.setNumber(o+y,u+m,w[y])}}static embedPositionDetectionPattern(o,u,f){for(let m=0;m<7;++m){const w=jt.POSITION_DETECTION_PATTERN[m];for(let y=0;y<7;++y)f.setNumber(o+y,u+m,w[y])}}static embedPositionDetectionPatternsAndSeparators(o){const u=jt.POSITION_DETECTION_PATTERN[0].length;jt.embedPositionDetectionPattern(0,0,o),jt.embedPositionDetectionPattern(o.getWidth()-u,0,o),jt.embedPositionDetectionPattern(0,o.getWidth()-u,o);const f=8;jt.embedHorizontalSeparationPattern(0,f-1,o),jt.embedHorizontalSeparationPattern(o.getWidth()-f,f-1,o),jt.embedHorizontalSeparationPattern(0,o.getWidth()-f,o);const m=7;jt.embedVerticalSeparationPattern(m,0,o),jt.embedVerticalSeparationPattern(o.getHeight()-m-1,0,o),jt.embedVerticalSeparationPattern(m,o.getHeight()-m,o)}static maybeEmbedPositionAdjustmentPatterns(o,u){if(o.getVersionNumber()<2)return;const f=o.getVersionNumber()-1,m=jt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let w=0,y=m.length;w!==y;w++){const _=m[w];if(_>=0)for(let I=0;I!==y;I++){const U=m[I];U>=0&&jt.isEmpty(u.get(U,_))&&jt.embedPositionAdjustmentPattern(U-2,_-2,u)}}}}jt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),jt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),jt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),jt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),jt.VERSION_INFO_POLY=7973,jt.TYPE_INFO_POLY=1335,jt.TYPE_INFO_MASK_PATTERN=21522;class Bc{constructor(o,u){this.dataBytes=o,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Wr{constructor(){}static calculateMaskPenalty(o){return un.applyMaskPenaltyRule1(o)+un.applyMaskPenaltyRule2(o)+un.applyMaskPenaltyRule3(o)+un.applyMaskPenaltyRule4(o)}static encode(o,u,f=null){let m=Wr.DEFAULT_BYTE_MODE_ENCODING;const w=f!==null&&f.get(Tn.CHARACTER_SET)!==void 0;w&&(m=f.get(Tn.CHARACTER_SET).toString());const y=this.chooseMode(o,m),_=new ee;if(y===Vt.BYTE&&(w||Wr.DEFAULT_BYTE_MODE_ENCODING!==m)){const vt=O.getCharacterSetECIByName(m);vt!==void 0&&this.appendECI(vt,_)}this.appendModeInfo(y,_);const I=new ee;this.appendBytes(o,y,I,m);let U;if(f!==null&&f.get(Tn.QR_VERSION)!==void 0){const vt=Number.parseInt(f.get(Tn.QR_VERSION).toString(),10);U=Et.getVersionForNumber(vt);const dt=this.calculateBitsNeeded(y,_,I,U);if(!this.willFit(dt,U,u))throw new Mr("Data too big for requested version")}else U=this.recommendVersion(u,y,_,I);const P=new ee;P.appendBitArray(_);const Y=y===Vt.BYTE?I.getSizeInBytes():o.length;this.appendLengthInfo(Y,U,y,P),P.appendBitArray(I);const ie=U.getECBlocksForLevel(u),ve=U.getTotalCodewords()-ie.getTotalECCodewords();this.terminateBits(ve,P);const be=this.interleaveWithECBytes(P,U.getTotalCodewords(),ve,ie.getNumBlocks()),Ie=new Di;Ie.setECLevel(u),Ie.setMode(y),Ie.setVersion(U);const Oe=U.getDimensionForVersion(),$e=new Do(Oe,Oe),yt=this.chooseMaskPattern(be,u,U,$e);return Ie.setMaskPattern(yt),jt.buildMatrix(be,u,U,yt,$e),Ie.setMatrix($e),Ie}static recommendVersion(o,u,f,m){const w=this.calculateBitsNeeded(u,f,m,Et.getVersionForNumber(1)),y=this.chooseVersion(w,o),_=this.calculateBitsNeeded(u,f,m,y);return this.chooseVersion(_,o)}static calculateBitsNeeded(o,u,f,m){return u.getSize()+o.getCharacterCountBits(m)+f.getSize()}static getAlphanumericCode(o){return o<Wr.ALPHANUMERIC_TABLE.length?Wr.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,u=null){if(O.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(o))return Vt.KANJI;let f=!1,m=!1;for(let w=0,y=o.length;w<y;++w){const _=o.charAt(w);if(Wr.isDigit(_))f=!0;else if(this.getAlphanumericCode(_.charCodeAt(0))!==-1)m=!0;else return Vt.BYTE}return m?Vt.ALPHANUMERIC:f?Vt.NUMERIC:Vt.BYTE}static isOnlyDoubleByteKanji(o){let u;try{u=J.encode(o,O.SJIS)}catch{return!1}const f=u.length;if(f%2!==0)return!1;for(let m=0;m<f;m+=2){const w=u[m]&255;if((w<129||w>159)&&(w<224||w>235))return!1}return!0}static chooseMaskPattern(o,u,f,m){let w=Number.MAX_SAFE_INTEGER,y=-1;for(let _=0;_<Di.NUM_MASK_PATTERNS;_++){jt.buildMatrix(o,u,f,_,m);let I=this.calculateMaskPenalty(m);I<w&&(w=I,y=_)}return y}static chooseVersion(o,u){for(let f=1;f<=40;f++){const m=Et.getVersionForNumber(f);if(Wr.willFit(o,m,u))return m}throw new Mr("Data too big")}static willFit(o,u,f){const m=u.getTotalCodewords(),y=u.getECBlocksForLevel(f).getTotalECCodewords(),_=m-y,I=(o+7)/8;return _>=I}static terminateBits(o,u){const f=o*8;if(u.getSize()>f)throw new Mr("data bits cannot fit in the QR Code"+u.getSize()+" > "+f);for(let y=0;y<4&&u.getSize()<f;++y)u.appendBit(!1);const m=u.getSize()&7;if(m>0)for(let y=m;y<8;y++)u.appendBit(!1);const w=o-u.getSizeInBytes();for(let y=0;y<w;++y)u.appendBits((y&1)===0?236:17,8);if(u.getSize()!==f)throw new Mr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,u,f,m,w,y){if(m>=f)throw new Mr("Block ID too large");const _=o%f,I=f-_,U=Math.floor(o/f),P=U+1,Y=Math.floor(u/f),ie=Y+1,ve=U-Y,be=P-ie;if(ve!==be)throw new Mr("EC bytes mismatch");if(f!==I+_)throw new Mr("RS blocks mismatch");if(o!==(Y+ve)*I+(ie+be)*_)throw new Mr("Total bytes mismatch");m<I?(w[0]=Y,y[0]=ve):(w[0]=ie,y[0]=be)}static interleaveWithECBytes(o,u,f,m){if(o.getSizeInBytes()!==f)throw new Mr("Number of bits and data bytes does not match");let w=0,y=0,_=0;const I=new Array;for(let P=0;P<m;++P){const Y=new Int32Array(1),ie=new Int32Array(1);Wr.getNumDataBytesAndNumECBytesForBlockID(u,f,m,P,Y,ie);const ve=Y[0],be=new Uint8Array(ve);o.toBytes(8*w,be,0,ve);const Ie=Wr.generateECBytes(be,ie[0]);I.push(new Bc(be,Ie)),y=Math.max(y,ve),_=Math.max(_,Ie.length),w+=Y[0]}if(f!==w)throw new Mr("Data bytes does not match offset");const U=new ee;for(let P=0;P<y;++P)for(const Y of I){const ie=Y.getDataBytes();P<ie.length&&U.appendBits(ie[P],8)}for(let P=0;P<_;++P)for(const Y of I){const ie=Y.getErrorCorrectionBytes();P<ie.length&&U.appendBits(ie[P],8)}if(u!==U.getSizeInBytes())throw new Mr("Interleaving error: "+u+" and "+U.getSizeInBytes()+" differ.");return U}static generateECBytes(o,u){const f=o.length,m=new Int32Array(f+u);for(let y=0;y<f;y++)m[y]=o[y]&255;new xa(St.QR_CODE_FIELD_256).encode(m,u);const w=new Uint8Array(u);for(let y=0;y<u;y++)w[y]=m[f+y];return w}static appendModeInfo(o,u){u.appendBits(o.getBits(),4)}static appendLengthInfo(o,u,f,m){const w=f.getCharacterCountBits(u);if(o>=1<<w)throw new Mr(o+" is bigger than "+((1<<w)-1));m.appendBits(o,w)}static appendBytes(o,u,f,m){switch(u){case Vt.NUMERIC:Wr.appendNumericBytes(o,f);break;case Vt.ALPHANUMERIC:Wr.appendAlphanumericBytes(o,f);break;case Vt.BYTE:Wr.append8BitBytes(o,f,m);break;case Vt.KANJI:Wr.appendKanjiBytes(o,f);break;default:throw new Mr("Invalid mode: "+u)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const u=Wr.getDigit(o);return u>=0&&u<=9}static appendNumericBytes(o,u){const f=o.length;let m=0;for(;m<f;){const w=Wr.getDigit(o.charAt(m));if(m+2<f){const y=Wr.getDigit(o.charAt(m+1)),_=Wr.getDigit(o.charAt(m+2));u.appendBits(w*100+y*10+_,10),m+=3}else if(m+1<f){const y=Wr.getDigit(o.charAt(m+1));u.appendBits(w*10+y,7),m+=2}else u.appendBits(w,4),m++}}static appendAlphanumericBytes(o,u){const f=o.length;let m=0;for(;m<f;){const w=Wr.getAlphanumericCode(o.charCodeAt(m));if(w===-1)throw new Mr;if(m+1<f){const y=Wr.getAlphanumericCode(o.charCodeAt(m+1));if(y===-1)throw new Mr;u.appendBits(w*45+y,11),m+=2}else u.appendBits(w,6),m++}}static append8BitBytes(o,u,f){let m;try{m=J.encode(o,f)}catch(w){throw new Mr(w)}for(let w=0,y=m.length;w!==y;w++){const _=m[w];u.appendBits(_,8)}}static appendKanjiBytes(o,u){let f;try{f=J.encode(o,O.SJIS)}catch(w){throw new Mr(w)}const m=f.length;for(let w=0;w<m;w+=2){const y=f[w]&255,_=f[w+1]&255,I=y<<8&4294967295|_;let U=-1;if(I>=33088&&I<=40956?U=I-33088:I>=57408&&I<=60351&&(U=I-49472),U===-1)throw new Mr("Invalid byte sequence");const P=(U>>8)*192+(U&255);u.appendBits(P,13)}}static appendECI(o,u){u.appendBits(Vt.ECI.getBits(),4),u.appendBits(o.getValue(),8)}}Wr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Wr.DEFAULT_BYTE_MODE_ENCODING=O.UTF8.getName();class Os{write(o,u,f,m=null){if(o.length===0)throw new C("Found empty contents");if(u<0||f<0)throw new C("Requested dimensions are too small: "+u+"x"+f);let w=Zt.L,y=Os.QUIET_ZONE_SIZE;m!==null&&(m.get(Tn.ERROR_CORRECTION)!==void 0&&(w=Zt.fromString(m.get(Tn.ERROR_CORRECTION).toString())),m.get(Tn.MARGIN)!==void 0&&(y=Number.parseInt(m.get(Tn.MARGIN).toString(),10)));const _=Wr.encode(o,w,m);return this.renderResult(_,u,f,y)}writeToDom(o,u,f,m,w=null){typeof o=="string"&&(o=document.querySelector(o));const y=this.write(u,f,m,w);o&&o.appendChild(y)}renderResult(o,u,f,m){const w=o.getMatrix();if(w===null)throw new Lt;const y=w.getWidth(),_=w.getHeight(),I=y+m*2,U=_+m*2,P=Math.max(u,I),Y=Math.max(f,U),ie=Math.min(Math.floor(P/I),Math.floor(Y/U)),ve=Math.floor((P-y*ie)/2),be=Math.floor((Y-_*ie)/2),Ie=this.createSVGElement(P,Y);for(let Oe=0,$e=be;Oe<_;Oe++,$e+=ie)for(let yt=0,vt=ve;yt<y;yt++,vt+=ie)if(w.get(yt,Oe)===1){const dt=this.createSvgRectElement(vt,$e,ie,ie);Ie.appendChild(dt)}return Ie}createSVGElement(o,u){const f=document.createElementNS(Os.SVG_NS,"svg");return f.setAttributeNS(null,"height",o.toString()),f.setAttributeNS(null,"width",u.toString()),f}createSvgRectElement(o,u,f,m){const w=document.createElementNS(Os.SVG_NS,"rect");return w.setAttributeNS(null,"x",o.toString()),w.setAttributeNS(null,"y",u.toString()),w.setAttributeNS(null,"height",f.toString()),w.setAttributeNS(null,"width",m.toString()),w.setAttributeNS(null,"fill","#000000"),w}}Os.QUIET_ZONE_SIZE=4,Os.SVG_NS="http://www.w3.org/2000/svg";class Qn{encode(o,u,f,m,w){if(o.length===0)throw new C("Found empty contents");if(u!==xe.QR_CODE)throw new C("Can only encode QR_CODE, but got "+u);if(f<0||m<0)throw new C(`Requested dimensions are too small: ${f}x${m}`);let y=Zt.L,_=Qn.QUIET_ZONE_SIZE;w!==null&&(w.get(Tn.ERROR_CORRECTION)!==void 0&&(y=Zt.fromString(w.get(Tn.ERROR_CORRECTION).toString())),w.get(Tn.MARGIN)!==void 0&&(_=Number.parseInt(w.get(Tn.MARGIN).toString(),10)));const I=Wr.encode(o,y,w);return Qn.renderResult(I,f,m,_)}static renderResult(o,u,f,m){const w=o.getMatrix();if(w===null)throw new Lt;const y=w.getWidth(),_=w.getHeight(),I=y+m*2,U=_+m*2,P=Math.max(u,I),Y=Math.max(f,U),ie=Math.min(Math.floor(P/I),Math.floor(Y/U)),ve=Math.floor((P-y*ie)/2),be=Math.floor((Y-_*ie)/2),Ie=new Me(P,Y);for(let Oe=0,$e=be;Oe<_;Oe++,$e+=ie)for(let yt=0,vt=ve;yt<y;yt++,vt+=ie)w.get(yt,Oe)===1&&Ie.setRegion(vt,$e,ie,ie);return Ie}}Qn.QUIET_ZONE_SIZE=4;class _c{encode(o,u,f,m,w){let y;switch(u){case xe.QR_CODE:y=new Qn;break;default:throw new C("No encoder available for format "+u)}return y.encode(o,u,f,m,w)}}class ps extends He{constructor(o,u,f,m,w,y,_,I){if(super(y,_),this.yuvData=o,this.dataWidth=u,this.dataHeight=f,this.left=m,this.top=w,m+y>u||w+_>f)throw new C("Crop rectangle does not fit within image data.");I&&this.reverseHorizontal(y,_)}getRow(o,u){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const f=this.getWidth();(u==null||u.length<f)&&(u=new Uint8ClampedArray(f));const m=(o+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,m,u,0,f),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.yuvData;const f=o*u,m=new Uint8ClampedArray(f);let w=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return R.arraycopy(this.yuvData,w,m,0,f),m;for(let y=0;y<u;y++){const _=y*o;R.arraycopy(this.yuvData,w,m,_,o),w+=this.dataWidth}return m}isCropSupported(){return!0}crop(o,u,f,m){return new ps(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+u,f,m,!1)}renderThumbnail(){const o=this.getWidth()/ps.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/ps.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(o*u),m=this.yuvData;let w=this.top*this.dataWidth+this.left;for(let y=0;y<u;y++){const _=y*o;for(let I=0;I<o;I++){const U=m[w+I*ps.THUMBNAIL_SCALE_FACTOR]&255;f[_+I]=4278190080|U*65793}w+=this.dataWidth*ps.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/ps.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ps.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,u){const f=this.yuvData;for(let m=0,w=this.top*this.dataWidth+this.left;m<u;m++,w+=this.dataWidth){const y=w+o/2;for(let _=w,I=w+o-1;_<y;_++,I--){const U=f[_];f[_]=f[I],f[I]=U}}}invert(){return new Be(this)}}ps.THUMBNAIL_SCALE_FACTOR=2;class wa extends He{constructor(o,u,f,m,w,y,_){if(super(u,f),this.dataWidth=m,this.dataHeight=w,this.left=y,this.top=_,o.BYTES_PER_ELEMENT===4){const I=u*f,U=new Uint8ClampedArray(I);for(let P=0;P<I;P++){const Y=o[P],ie=Y>>16&255,ve=Y>>7&510,be=Y&255;U[P]=(ie+ve+be)/4&255}this.luminances=U}else this.luminances=o;if(m===void 0&&(this.dataWidth=u),w===void 0&&(this.dataHeight=f),y===void 0&&(this.left=0),_===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+f>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(o,u){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const f=this.getWidth();(u==null||u.length<f)&&(u=new Uint8ClampedArray(f));const m=(o+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,m,u,0,f),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.luminances;const f=o*u,m=new Uint8ClampedArray(f);let w=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return R.arraycopy(this.luminances,w,m,0,f),m;for(let y=0;y<u;y++){const _=y*o;R.arraycopy(this.luminances,w,m,_,o),w+=this.dataWidth}return m}isCropSupported(){return!0}crop(o,u,f,m){return new wa(this.luminances,f,m,this.dataWidth,this.dataHeight,this.left+o,this.top+u)}invert(){return new Be(this)}}class b extends O{static forName(o){return this.getCharacterSetECIByName(o)}}class L{}L.ISO_8859_1=O.ISO8859_1;class K{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class Ae{static singletonList(o){return[o]}static min(o,u){return o.sort(u)[0]}}class Pe{constructor(o){this.previous=o}getPrevious(){return this.previous}}class et extends Pe{constructor(o,u,f){super(o),this.value=u,this.bitCount=f}appendTo(o,u){o.appendBits(this.value,this.bitCount)}add(o,u){return new et(this,o,u)}addBinaryShift(o,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new et(this,o,u)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+Q.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class bt extends et{constructor(o,u,f){super(o,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=f}appendTo(o,u){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):f===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(u[this.binaryShiftStart+f],8)}addBinaryShift(o,u){return new bt(this,o,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Qr(q,o,u){return new bt(q,o,u)}function pn(q,o,u){return new et(q,o,u)}const mr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],fn=0,Rn=1,Xn=2,Ui=3,_i=4,ja=new et(null,0,0),Uo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Vg(q){for(let o of q)G.fill(o,-1);return q[fn][_i]=0,q[Rn][_i]=0,q[Rn][fn]=28,q[Ui][_i]=0,q[Xn][_i]=0,q[Xn][fn]=15,q}const Tl=Vg(G.createInt32Array(6,6));class ea{constructor(o,u,f,m){this.token=o,this.mode=u,this.binaryShiftByteCount=f,this.bitCount=m}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,u){let f=this.bitCount,m=this.token;if(o!==this.mode){let y=Uo[this.mode][o];m=pn(m,y&65535,y>>16),f+=y>>16}let w=o===Xn?4:5;return m=pn(m,u,w),new ea(m,o,0,f+w)}shiftAndAppend(o,u){let f=this.token,m=this.mode===Xn?4:5;return f=pn(f,Tl[this.mode][o],m),f=pn(f,u,5),new ea(f,this.mode,0,this.bitCount+m+5)}addBinaryShiftChar(o){let u=this.token,f=this.mode,m=this.bitCount;if(this.mode===_i||this.mode===Xn){let _=Uo[f][fn];u=pn(u,_&65535,_>>16),m+=_>>16,f=fn}let w=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new ea(u,f,this.binaryShiftByteCount+1,m+w);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(o+1)),y}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=Qr(u,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new ea(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let u=this.bitCount+(Uo[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?u+=ea.calculateBinaryShiftCost(o)-ea.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(u+=10),u<=o.bitCount}toBitArray(o){let u=[];for(let m=this.endBinaryShift(o.length).token;m!==null;m=m.getPrevious())u.unshift(m);let f=new ee;for(const m of u)m.appendTo(f,o);return f}toString(){return W.format("%s bits=%d bytes=%d",mr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}ea.INITIAL_STATE=new ea(ja,fn,0,0);function td(q){const o=W.getCharCode(" "),u=W.getCharCode("."),f=W.getCharCode(",");q[fn][o]=1;const m=W.getCharCode("Z"),w=W.getCharCode("A");for(let ie=w;ie<=m;ie++)q[fn][ie]=ie-w+2;q[Rn][o]=1;const y=W.getCharCode("z"),_=W.getCharCode("a");for(let ie=_;ie<=y;ie++)q[Rn][ie]=ie-_+2;q[Xn][o]=1;const I=W.getCharCode("9"),U=W.getCharCode("0");for(let ie=U;ie<=I;ie++)q[Xn][ie]=ie-U+2;q[Xn][f]=12,q[Xn][u]=13;const P=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ie=0;ie<P.length;ie++)q[Ui][W.getCharCode(P[ie])]=ie;const Y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ie=0;ie<Y.length;ie++)W.getCharCode(Y[ie])>0&&(q[_i][W.getCharCode(Y[ie])]=ie);return q}const bl=td(G.createInt32Array(5,256));class ko{constructor(o){this.text=o}encode(){const o=W.getCharCode(" "),u=W.getCharCode(`
`);let f=Ae.singletonList(ea.INITIAL_STATE);for(let w=0;w<this.text.length;w++){let y,_=w+1<this.text.length?this.text[w+1]:0;switch(this.text[w]){case W.getCharCode("\r"):y=_===u?2:0;break;case W.getCharCode("."):y=_===o?3:0;break;case W.getCharCode(","):y=_===o?4:0;break;case W.getCharCode(":"):y=_===o?5:0;break;default:y=0}y>0?(f=ko.updateStateListForPair(f,w,y),w++):f=this.updateStateListForChar(f,w)}return Ae.min(f,(w,y)=>w.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,u){const f=[];for(let m of o)this.updateStateForChar(m,u,f);return ko.simplifyStates(f)}updateStateForChar(o,u,f){let m=this.text[u]&255,w=bl[o.getMode()][m]>0,y=null;for(let _=0;_<=_i;_++){let I=bl[_][m];if(I>0){if(y==null&&(y=o.endBinaryShift(u)),!w||_===o.getMode()||_===Xn){const U=y.latchAndAppend(_,I);f.push(U)}if(!w&&Tl[o.getMode()][_]>=0){const U=y.shiftAndAppend(_,I);f.push(U)}}}if(o.getBinaryShiftByteCount()>0||bl[o.getMode()][m]===0){let _=o.addBinaryShiftChar(u);f.push(_)}}static updateStateListForPair(o,u,f){const m=[];for(let w of o)this.updateStateForPair(w,u,f,m);return this.simplifyStates(m)}static updateStateForPair(o,u,f,m){let w=o.endBinaryShift(u);if(m.push(w.latchAndAppend(_i,f)),o.getMode()!==_i&&m.push(w.shiftAndAppend(_i,f)),f===3||f===4){let y=w.latchAndAppend(Xn,16-f).latchAndAppend(Xn,1);m.push(y)}if(o.getBinaryShiftByteCount()>0){let y=o.addBinaryShiftChar(u).addBinaryShiftChar(u+1);m.push(y)}}static simplifyStates(o){let u=[];for(const f of o){let m=!0;for(const w of u){if(w.isBetterThanOrEqualTo(f)){m=!1;break}f.isBetterThanOrEqualTo(w)&&(u=u.filter(y=>y!==w))}m&&u.push(f)}return u}}class Er{constructor(){}static encodeBytes(o){return Er.encode(o,Er.DEFAULT_EC_PERCENT,Er.DEFAULT_AZTEC_LAYERS)}static encode(o,u,f){let m=new ko(o).encode(),w=Q.truncDivision(m.getSize()*u,100)+11,y=m.getSize()+w,_,I,U,P,Y;if(f!==Er.DEFAULT_AZTEC_LAYERS){if(_=f<0,I=Math.abs(f),I>(_?Er.MAX_NB_BITS_COMPACT:Er.MAX_NB_BITS))throw new C(W.format("Illegal value %s for layers",f));U=Er.totalBitsInLayer(I,_),P=Er.WORD_SIZE[I];let dt=U-U%P;if(Y=Er.stuffBits(m,P),Y.getSize()+w>dt)throw new C("Data to large for user specified layer");if(_&&Y.getSize()>P*64)throw new C("Data to large for user specified layer")}else{P=0,Y=null;for(let dt=0;;dt++){if(dt>Er.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(_=dt<=3,I=_?dt+1:dt,U=Er.totalBitsInLayer(I,_),y>U)continue;(Y==null||P!==Er.WORD_SIZE[I])&&(P=Er.WORD_SIZE[I],Y=Er.stuffBits(m,P));let vr=U-U%P;if(!(_&&Y.getSize()>P*64)&&Y.getSize()+w<=vr)break}}let ie=Er.generateCheckWords(Y,U,P),ve=Y.getSize()/P,be=Er.generateModeMessage(_,I,ve),Ie=(_?11:14)+I*4,Oe=new Int32Array(Ie),$e;if(_){$e=Ie;for(let dt=0;dt<Oe.length;dt++)Oe[dt]=dt}else{$e=Ie+1+2*Q.truncDivision(Q.truncDivision(Ie,2)-1,15);let dt=Q.truncDivision(Ie,2),vr=Q.truncDivision($e,2);for(let ir=0;ir<dt;ir++){let Pn=ir+Q.truncDivision(ir,15);Oe[dt-ir-1]=vr-Pn-1,Oe[dt+ir]=vr+Pn+1}}let yt=new Me($e);for(let dt=0,vr=0;dt<I;dt++){let ir=(I-dt)*4+(_?9:12);for(let Pn=0;Pn<ir;Pn++){let Ls=Pn*2;for(let ki=0;ki<2;ki++)ie.get(vr+Ls+ki)&&yt.set(Oe[dt*2+ki],Oe[dt*2+Pn]),ie.get(vr+ir*2+Ls+ki)&&yt.set(Oe[dt*2+Pn],Oe[Ie-1-dt*2-ki]),ie.get(vr+ir*4+Ls+ki)&&yt.set(Oe[Ie-1-dt*2-ki],Oe[Ie-1-dt*2-Pn]),ie.get(vr+ir*6+Ls+ki)&&yt.set(Oe[Ie-1-dt*2-Pn],Oe[dt*2+ki])}vr+=ir*8}if(Er.drawModeMessage(yt,_,$e,be),_)Er.drawBullsEye(yt,Q.truncDivision($e,2),5);else{Er.drawBullsEye(yt,Q.truncDivision($e,2),7);for(let dt=0,vr=0;dt<Q.truncDivision(Ie,2)-1;dt+=15,vr+=16)for(let ir=Q.truncDivision($e,2)&1;ir<$e;ir+=2)yt.set(Q.truncDivision($e,2)-vr,ir),yt.set(Q.truncDivision($e,2)+vr,ir),yt.set(ir,Q.truncDivision($e,2)-vr),yt.set(ir,Q.truncDivision($e,2)+vr)}let vt=new K;return vt.setCompact(_),vt.setSize($e),vt.setLayers(I),vt.setCodeWords(ve),vt.setMatrix(yt),vt}static drawBullsEye(o,u,f){for(let m=0;m<f;m+=2)for(let w=u-m;w<=u+m;w++)o.set(w,u-m),o.set(w,u+m),o.set(u-m,w),o.set(u+m,w);o.set(u-f,u-f),o.set(u-f+1,u-f),o.set(u-f,u-f+1),o.set(u+f,u-f),o.set(u+f,u-f+1),o.set(u+f,u+f-1)}static generateModeMessage(o,u,f){let m=new ee;return o?(m.appendBits(u-1,2),m.appendBits(f-1,6),m=Er.generateCheckWords(m,28,4)):(m.appendBits(u-1,5),m.appendBits(f-1,11),m=Er.generateCheckWords(m,40,4)),m}static drawModeMessage(o,u,f,m){let w=Q.truncDivision(f,2);if(u)for(let y=0;y<7;y++){let _=w-3+y;m.get(y)&&o.set(_,w-5),m.get(y+7)&&o.set(w+5,_),m.get(20-y)&&o.set(_,w+5),m.get(27-y)&&o.set(w-5,_)}else for(let y=0;y<10;y++){let _=w-5+y+Q.truncDivision(y,5);m.get(y)&&o.set(_,w-7),m.get(y+10)&&o.set(w+7,_),m.get(29-y)&&o.set(_,w+7),m.get(39-y)&&o.set(w-7,_)}}static generateCheckWords(o,u,f){let m=o.getSize()/f,w=new xa(Er.getGF(f)),y=Q.truncDivision(u,f),_=Er.bitsToWords(o,f,y);w.encode(_,y-m);let I=u%f,U=new ee;U.appendBits(0,I);for(const P of Array.from(_))U.appendBits(P,f);return U}static bitsToWords(o,u,f){let m=new Int32Array(f),w,y;for(w=0,y=o.getSize()/u;w<y;w++){let _=0;for(let I=0;I<u;I++)_|=o.get(w*u+I)?1<<u-I-1:0;m[w]=_}return m}static getGF(o){switch(o){case 4:return St.AZTEC_PARAM;case 6:return St.AZTEC_DATA_6;case 8:return St.AZTEC_DATA_8;case 10:return St.AZTEC_DATA_10;case 12:return St.AZTEC_DATA_12;default:throw new C("Unsupported word size "+o)}}static stuffBits(o,u){let f=new ee,m=o.getSize(),w=(1<<u)-2;for(let y=0;y<m;y+=u){let _=0;for(let I=0;I<u;I++)(y+I>=m||o.get(y+I))&&(_|=1<<u-1-I);(_&w)===w?(f.appendBits(_&w,u),y--):(_&w)===0?(f.appendBits(_|1,u),y--):f.appendBits(_,u)}return f}static totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Er.DEFAULT_EC_PERCENT=33,Er.DEFAULT_AZTEC_LAYERS=0,Er.MAX_NB_BITS=32,Er.MAX_NB_BITS_COMPACT=4,Er.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Sl{encode(o,u,f,m){return this.encodeWithHints(o,u,f,m,null)}encodeWithHints(o,u,f,m,w){let y=L.ISO_8859_1,_=Er.DEFAULT_EC_PERCENT,I=Er.DEFAULT_AZTEC_LAYERS;return w!=null&&(w.has(Tn.CHARACTER_SET)&&(y=b.forName(w.get(Tn.CHARACTER_SET).toString())),w.has(Tn.ERROR_CORRECTION)&&(_=Q.parseInt(w.get(Tn.ERROR_CORRECTION).toString())),w.has(Tn.AZTEC_LAYERS)&&(I=Q.parseInt(w.get(Tn.AZTEC_LAYERS).toString()))),Sl.encodeLayers(o,u,f,m,y,_,I)}static encodeLayers(o,u,f,m,w,y,_){if(u!==xe.AZTEC)throw new C("Can only encode AZTEC, but got "+u);let I=Er.encode(W.getBytes(o,w),y,_);return Sl.renderResult(I,f,m)}static renderResult(o,u,f){let m=o.getMatrix();if(m==null)throw new Lt;let w=m.getWidth(),y=m.getHeight(),_=Math.max(u,w),I=Math.max(f,y),U=Math.min(_/w,I/y),P=(_-w*U)/2,Y=(I-y*U)/2,ie=new Me(_,I);for(let ve=0,be=Y;ve<y;ve++,be+=U)for(let Ie=0,Oe=P;Ie<w;Ie++,Oe+=U)m.get(Ie,ve)&&ie.setRegion(Oe,be,U,U);return ie}}r.AbstractExpandedDecoder=ue,r.ArgumentException=x,r.ArithmeticException=pe,r.AztecCode=K,r.AztecCodeReader=at,r.AztecCodeWriter=Sl,r.AztecDecoder=gt,r.AztecDetector=Xt,r.AztecDetectorResult=hn,r.AztecEncoder=Er,r.AztecHighLevelEncoder=ko,r.AztecPoint=pr,r.BarcodeFormat=xe,r.Binarizer=D,r.BinaryBitmap=B,r.BitArray=ee,r.BitMatrix=Me,r.BitSource=Yi,r.BrowserAztecCodeReader=De,r.BrowserBarcodeReader=Pa,r.BrowserCodeReader=de,r.BrowserDatamatrixCodeReader=pA,r.BrowserMultiFormatReader=Bl,r.BrowserPDF417Reader=Ec,r.BrowserQRCodeReader=_l,r.BrowserQRCodeSvgWriter=Os,r.CharacterSetECI=O,r.ChecksumException=F,r.Code128Reader=Ee,r.Code39Reader=st,r.DataMatrixDecodedBitStreamParser=Js,r.DataMatrixReader=Is,r.DecodeHintType=te,r.DecoderResult=_e,r.DefaultGridSampler=Jt,r.DetectorResult=Bn,r.EAN13Reader=ti,r.EncodeHintType=Tn,r.Exception=d,r.FormatException=M,r.GenericGF=St,r.GenericGFPoly=xt,r.GlobalHistogramBinarizer=we,r.GridSampler=It,r.GridSamplerInstance=fr,r.HTMLCanvasElementLuminanceSource=tt,r.HybridBinarizer=ce,r.ITFReader=At,r.IllegalArgumentException=C,r.IllegalStateException=Lt,r.InvertedLuminanceSource=Be,r.LuminanceSource=He,r.MathUtils=Bt,r.MultiFormatOneDReader=Nn,r.MultiFormatReader=co,r.MultiFormatWriter=_c,r.NotFoundException=ye,r.OneDReader=Je,r.PDF417DecodedBitStreamParser=Ze,r.PDF417DecoderErrorCorrection=Zi,r.PDF417Reader=Wn,r.PDF417ResultMetadata=Ha,r.PerspectiveTransform=Tt,r.PlanarYUVLuminanceSource=ps,r.QRCodeByteMatrix=Do,r.QRCodeDataMask=zn,r.QRCodeDecodedBitStreamParser=Jr,r.QRCodeDecoderErrorCorrectionLevel=Zt,r.QRCodeDecoderFormatInformation=vn,r.QRCodeEncoder=Wr,r.QRCodeEncoderQRCode=Di,r.QRCodeMaskUtil=un,r.QRCodeMatrixUtil=jt,r.QRCodeMode=Vt,r.QRCodeReader=Zs,r.QRCodeVersion=Et,r.QRCodeWriter=Qn,r.RGBLuminanceSource=wa,r.RSS14Reader=Gt,r.RSSExpandedReader=it,r.ReaderException=Fo,r.ReedSolomonDecoder=Ne,r.ReedSolomonEncoder=xa,r.ReedSolomonException=kt,r.Result=fe,r.ResultMetadataType=Fe,r.ResultPoint=_t,r.StringUtils=W,r.UnsupportedOperationException=z,r.VideoInputDevice=me,r.WhiteRectangleDetector=Ge,r.WriterException=Mr,r.ZXingArrays=G,r.ZXingCharset=b,r.ZXingInteger=Q,r.ZXingStandardCharsets=L,r.ZXingStringBuilder=X,r.ZXingStringEncoding=J,r.ZXingSystem=R,r.createAbstractExpandedDecoder=wt,Object.defineProperty(r,"__esModule",{value:!0})}))})(K0,K0.exports)),K0.exports}var Dn=Lj();const Qj=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var z_=(function(){function t(e,r,n){if(this.formatMap=new Map([[Mt.QR_CODE,Dn.BarcodeFormat.QR_CODE],[Mt.AZTEC,Dn.BarcodeFormat.AZTEC],[Mt.CODABAR,Dn.BarcodeFormat.CODABAR],[Mt.CODE_39,Dn.BarcodeFormat.CODE_39],[Mt.CODE_93,Dn.BarcodeFormat.CODE_93],[Mt.CODE_128,Dn.BarcodeFormat.CODE_128],[Mt.DATA_MATRIX,Dn.BarcodeFormat.DATA_MATRIX],[Mt.MAXICODE,Dn.BarcodeFormat.MAXICODE],[Mt.ITF,Dn.BarcodeFormat.ITF],[Mt.EAN_13,Dn.BarcodeFormat.EAN_13],[Mt.EAN_8,Dn.BarcodeFormat.EAN_8],[Mt.PDF_417,Dn.BarcodeFormat.PDF_417],[Mt.RSS_14,Dn.BarcodeFormat.RSS_14],[Mt.RSS_EXPANDED,Dn.BarcodeFormat.RSS_EXPANDED],[Mt.UPC_A,Dn.BarcodeFormat.UPC_A],[Mt.UPC_E,Dn.BarcodeFormat.UPC_E],[Mt.UPC_EAN_EXTENSION,Dn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Qj)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),s=new Map;s.set(Dn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Dn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var r=new Dn.MultiFormatReader(this.verbose,this.hints),n=new Dn.HTMLCanvasElementLuminanceSource(e),i=new Dn.BinaryBitmap(new Dn.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:E3.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),Pj=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(A){A(s)})}return new(r||(r=Promise))(function(s,A){function c(x){try{d(n.next(x))}catch(C){A(C)}}function h(x){try{d(n.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(c,h)}d((n=n.apply(t,e||[])).next())})},Hj=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,A;return A={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function c(d){return function(x){return h([d,x])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;A&&(A=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(x){d=[6,x],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},W_=(function(){function t(e,r,n){if(this.formatMap=new Map([[Mt.QR_CODE,"qr_code"],[Mt.AZTEC,"aztec"],[Mt.CODABAR,"codabar"],[Mt.CODE_39,"code_39"],[Mt.CODE_93,"code_93"],[Mt.CODE_128,"code_128"],[Mt.DATA_MATRIX,"data_matrix"],[Mt.ITF,"itf"],[Mt.EAN_13,"ean_13"],[Mt.EAN_8,"ean_8"],[Mt.PDF_417,"pdf417"],[Mt.UPC_A,"upc_a"],[Mt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return Pj(this,void 0,void 0,function(){var r,n;return Hj(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:E3.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,s=e;i<s.length;i++){var A=s[i],c=A.boundingBox.width*A.boundingBox.height;c>n&&(n=c,r=A)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),X_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(A){A(s)})}return new(r||(r=Promise))(function(s,A){function c(x){try{d(n.next(x))}catch(C){A(C)}}function h(x){try{d(n.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(c,h)}d((n=n.apply(t,e||[])).next())})},q_=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,A;return A={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function c(d){return function(x){return h([d,x])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;A&&(A=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(x){d=[6,x],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Vj=(function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&W_.isSupported()?(this.primaryDecoder=new W_(e,n,i),this.secondaryDecoder=new z_(e,n,i)):this.primaryDecoder=new z_(e,n,i)}return t.prototype.decodeAsync=function(e){return X_(this,void 0,void 0,function(){var r;return q_(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return X_(this,void 0,void 0,function(){var r,n;return q_(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),Nw=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),U1=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(A){A(s)})}return new(r||(r=Promise))(function(s,A){function c(x){try{d(n.next(x))}catch(C){A(C)}}function h(x){try{d(n.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(c,h)}d((n=n.apply(t,e||[])).next())})},k1=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,A;return A={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function c(d){return function(x){return h([d,x])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;A&&(A=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(x){d=[6,x],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},_3=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),jj=(function(t){Nw(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(_3),Gj=(function(t){Nw(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(jj),Kj=(function(t){Nw(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(_3),zj=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new Gj(this.track)},t.prototype.torchFeature=function(){return new Kj(this.track)},t})(),Wj=(function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return U1(this,void 0,void 0,function(){var s,A;return k1(this,function(c){switch(c.label){case 0:return s=new t(e,r,i),n.aspectRatio?(A={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(A)]):[3,2];case 1:c.sent(),c.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return U1(this,void 0,void 0,function(){return k1(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),s=i.length,A=0;e.mediaStream.getVideoTracks().forEach(function(c){e.mediaStream.removeTrack(c),c.stop(),++A,A>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new zj(this.getFirstTrackOrFail())},t})(),Xj=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return U1(this,void 0,void 0,function(){return k1(this,function(i){return[2,Wj.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return U1(this,void 0,void 0,function(){var r,n;return k1(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t})(),Y_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(A){A(s)})}return new(r||(r=Promise))(function(s,A){function c(x){try{d(n.next(x))}catch(C){A(C)}}function h(x){try{d(n.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(c,h)}d((n=n.apply(t,e||[])).next())})},J_=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,A;return A={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function c(d){return function(x){return h([d,x])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;A&&(A=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(x){d=[6,x],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},qj=(function(){function t(){}return t.failIfNotSupported=function(){return Y_(this,void 0,void 0,function(){return J_(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Y_(this,void 0,void 0,function(){return J_(this,function(r){return[2,Xj.create(e)]})})},t})(),Yj=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(A){A(s)})}return new(r||(r=Promise))(function(s,A){function c(x){try{d(n.next(x))}catch(C){A(C)}}function h(x){try{d(n.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(c,h)}d((n=n.apply(t,e||[])).next())})},Jj=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,A;return A={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function c(d){return function(x){return h([d,x])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;A&&(A=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(x){d=[6,x],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Zj=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=hu.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=hu.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return Yj(this,void 0,void 0,function(){var e,r,n,i,s,A,c;return Jj(this,function(h){switch(h.label){case 0:return e=function(d){for(var x=d.getVideoTracks(),C=0,B=x;C<B.length;C++){var F=B[C];F.enabled=!1,F.stop(),d.removeTrack(F)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=h.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=h.sent(),i=[],s=0,A=n;s<A.length;s++)c=A[s],c.kind==="videoinput"&&i.push({id:c.deviceId,label:c.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(s){for(var A=[],c=0,h=s;c<h.length;c++){var d=h[c];d.kind==="video"&&A.push({id:d.id,label:d.label})}e(A)},i=MediaStreamTrack;i.getSources(n)})},t})(),jn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(jn||(jn={}));var $j=(function(){function t(){this.state=jn.NOT_STARTED,this.onGoingTransactionNewState=jn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===jn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=jn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===jn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=jn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==jn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case jn.UNKNOWN:throw"Transition from unknown is not allowed";case jn.NOT_STARTED:this.failIfNewStateIs(e,[jn.PAUSED]);break;case jn.SCANNING:break;case jn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),eG=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===jn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==jn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===jn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===jn.PAUSED},t})(),tG=(function(){function t(){}return t.create=function(){return new eG(new $j)},t})(),rG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),la=(function(t){rG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(Uj),nG=(function(){function t(e,r){this.logger=r,this.fps=la.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=la.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?B3.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!tA(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),T3=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new Mj(this.verbose),this.qrcode=new Vj(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=tG.create()}return t.prototype.start=function(e,r,n,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var A;i?A=i:A=this.verbose?this.logger.log:function(){};var c=nG.create(r,this.logger);this.clearElement();var h=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?h=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=h,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:la.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var C=this,B=this.stateManagerProxy.startTransition(jn.SCANNING);return new Promise(function(F,D){var R=d?c.videoConstraints:C.createVideoConstraints(e);if(!R){B.cancel(),D("videoConstraints should be defined");return}var k={};(!d||c.aspectRatio)&&(k.aspectRatio=c.aspectRatio);var j={onRenderSurfaceReady:function(G,Q){C.setupUi(G,Q,c),C.isScanning=!0,C.foreverScan(c,n,A)}};qj.failIfNotSupported().then(function(G){G.create(R).then(function(Q){return Q.render(s.element,k,j).then(function(ee){C.renderedCamera=ee,B.execute(),F(null)}).catch(function(ee){B.cancel(),D(ee)})}).catch(function(Q){B.cancel(),D(hu.errorGettingUserMedia(Q))})}).catch(function(G){B.cancel(),D(hu.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(jn.PAUSED),this.showPausedState(),(tA(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(jn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(jn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var s=document.getElementById(la.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(tA(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var A=new Image;A.onload=function(){var c=A.width,h=A.height,d=document.getElementById(n.elementId),x=d.clientWidth?d.clientWidth:la.DEFAULT_WIDTH,C=Math.max(d.clientHeight?d.clientHeight:h,la.FILE_SCAN_MIN_HEIGHT),B=n.computeCanvasDrawConfig(c,h,x,C);if(r){var F=n.createCanvasElement(x,C,"qr-canvas-visible");F.style.display="inline-block",d.appendChild(F);var D=F.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=x,D.canvas.height=C,D.drawImage(A,0,0,c,h,B.x,B.y,B.width,B.height)}var R=la.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(A.width,B.width),j=Math.max(A.height,B.height),G=k+2*R,Q=j+2*R,ee=n.createCanvasElement(G,Q);d.appendChild(ee);var ne=ee.getContext("2d");if(!ne)throw"Unable to get 2d context from canvas";ne.canvas.width=G,ne.canvas.height=Q,ne.drawImage(A,0,0,c,h,R,R,k,j);try{n.qrcode.decodeRobustlyAsync(ee).then(function(te){i(G_.createFromQrcodeResult(te))}).catch(s)}catch(te){s("QR code parse error, error = ".concat(te))}},A.onerror=s,A.onabort=s,A.onstalled=s,A.onsuspend=s,A.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Zj.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!B3.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[Mt.QR_CODE,Mt.AZTEC,Mt.CODABAR,Mt.CODE_39,Mt.CODE_93,Mt.CODE_128,Mt.DATA_MATRIX,Mt.MAXICODE,Mt.ITF,Mt.EAN_13,Mt.EAN_8,Mt.PDF_417,Mt.RSS_14,Mt.RSS_EXPANDED,Mt.UPC_A,Mt.UPC_E,Mt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=e.formatsToSupport;i<s.length;i++){var A=s[i];Dj(A)?n.push(A):this.logger.warn("Invalid format: ".concat(A," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(tA(e))return!0;if(!tA(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(tA(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return tA(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var A=this.toQrdimensions(e,r,s),c=function(d){if(d<la.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(la.MIN_QR_BOX_SIZE,"px.")},h=function(d){return d>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=e),d};c(A.width),c(A.height),A.width=h(A.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=tA(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var A=n.isShadedBoxEnabled()&&s.height<=r,c={x:0,y:0,width:e,height:r},h=A?this.getShadedRegionBounds(e,r,s):c,d=this.createCanvasElement(h.width,h.height),x={willReadFrequently:!0},C=d.getContext("2d",x);C.canvas.width=h.width,C.canvas.height=h.height,this.element.append(d),A&&this.possiblyInsertShadingElement(this.element,e,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=h,this.context=C,this.canvasElement=d},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=hu.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,G_.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=hu.codeParseError(i);return r(s,kj.createFrom(s)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),A=s.videoWidth/s.clientWidth,c=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var h=this.qrRegion.width*A,d=this.qrRegion.height*c,x=this.qrRegion.x*A,C=this.qrRegion.y*c;this.context.drawImage(s,x,C,h,d,0,0,this.qrRegion.width,this.qrRegion.height);var B=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(F){!F&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){B()})):B()}).catch(function(F){i.logger.logError("Error happend while scanning context",F),B()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",A=function(D){if(D in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(D,"'")},c=Object.keys(e);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var h=Object.keys(e)[0];if(h!==r&&h!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(h===r){var d=e.facingMode;if(typeof d=="string"){if(A(d))return{facingMode:d}}else if(typeof d=="object")if(s in d){if(A(d["".concat(s)]))return{facingMode:{exact:d["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var x=typeof d;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var C=e.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(s in C)return{deviceId:{exact:C["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var B=typeof C;throw"Invalid type of 'deviceId' = ".concat(B)}}}var F=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(F)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var s=(n-e)/2,A=(i-r)/2;return{x:s,y:A,width:e,height:r}}else{var c=e,h=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(h)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?la.BORDER_SHADER_MATCH_COLOR:la.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,s=r,A=document.createElement("canvas");return A.style.width="".concat(i,"px"),A.style.height="".concat(s,"px"),A.style.display="none",A.id=tA(n)?"qr-canvas":n,A},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var A=(r-i.width)/2,c=(n-i.height)/2;if(s.style.borderLeft="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(la.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var h=5,d=40;this.insertShaderBorders(s,d,h,-h,null,0,!0),this.insertShaderBorders(s,d,h,-h,null,0,!1),this.insertShaderBorders(s,d,h,null,-h,0,!0),this.insertShaderBorders(s,d,h,null,-h,0,!1),this.insertShaderBorders(s,h,d+h,-h,null,-h,!0),this.insertShaderBorders(s,h,d+h,null,-h,-h,!0),this.insertShaderBorders(s,h,d+h,-h,null,-h,!1),this.insertShaderBorders(s,h,d+h,null,-h,-h,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,r,n,i,s,A,c){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=la.BORDER_SHADER_DEFAULT_COLOR,h.style.width="".concat(r,"px"),h.style.height="".concat(n,"px"),i!==null&&(h.style.top="".concat(i,"px")),s!==null&&(h.style.bottom="".concat(s,"px")),c?h.style.left="".concat(A,"px"):h.style.right="".concat(A,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),e.appendChild(h)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),Z_;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Z_||(Z_={}));const iG=({currentUser:t,products:e,onAddProduct:r,onUpdateProduct:n,onDeleteProduct:i,onLogout:s,onNavigateToHome:A,onNavigateToCreateInvoice:c,onNavigateToCustomers:h,onNavigateToSettings:d,isSelectionMode:x=!1,onSelectProduct:C,onStartInvoiceWithProduct:B,selectedItems:F=[],settings:D,invoicePriceMode:R="retail",initialSearchTerm:k=""})=>{var Je;const[j,G]=Se.useState(k),[Q,ee]=Se.useState(!1),[ne,te]=Se.useState(!1),[M,H]=Se.useState(!1),[O,z]=Se.useState(!1),[J,W]=Se.useState(!1),[X,Me]=Se.useState([]),ye=Se.useRef(null),we=Se.useRef(null),[ce,He]=Se.useState(null),[Be,tt]=Se.useState([]),me=Se.useRef(null),Z=Se.useRef(null),[de,fe]=Se.useState(null),[oe,xe]=Se.useState(null),[Ye,Fe]=Se.useState(null),[_e,Le]=Se.useState(null),[xt,pe]=Se.useState(1),[St,kt]=Se.useState(""),[Lt,Ne]=Se.useState(null),Ue=Se.useRef(null),gt=Se.useRef(!1),Bt=Se.useRef(null),ur=Se.useRef(null),_t=Se.useRef(null),Bn=Se.useRef(null);Se.useEffect(()=>{k&&G(k)},[k]);const hn=Se.useMemo(()=>t.role==="admin"||t.permissions.isManager||t.permissions.viewWholesalePrice,[t]),[Ge,It]=Se.useState({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]});Se.useEffect(()=>()=>{we.current&&we.current.getTracks().forEach(Ee=>Ee.stop())},[]),Se.useEffect(()=>{let Ee=null,st=!0;if(Q){const At=setTimeout(()=>{if(st)try{Ee=new T3("reader"),_t.current=Ee,Ee.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},Nt=>{st&&(G(Nt),ee(!1))},()=>{}).catch(()=>{st&&ee(!1)})}catch{st&&ee(!1)}},300);return()=>{st=!1,clearTimeout(At),Ee!=null&&Ee.isScanning&&Ee.stop().then(()=>Ee==null?void 0:Ee.clear()).catch(()=>{})}}},[Q]),Se.useEffect(()=>(ce&&Z.current&&(me.current&&me.current.destroy(),me.current=new Cropper(Z.current,{aspectRatio:1,viewMode:1,dragMode:"move",autoCropArea:.8})),()=>{me.current&&me.current.destroy()}),[ce]);const Tt=async()=>{W(!0);try{const Ee=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});we.current=Ee,ye.current&&(ye.current.srcObject=Ee)}catch{W(!1)}},Jt=()=>{we.current&&we.current.getTracks().forEach(Ee=>Ee.stop()),W(!1)},fr=()=>{var Ee;if(ye.current){const st=document.createElement("canvas");st.width=ye.current.videoWidth,st.height=ye.current.videoHeight,(Ee=st.getContext("2d"))==null||Ee.drawImage(ye.current,0,0),Me(At=>[...At,st.toDataURL("image/jpeg",.9)])}};Se.useEffect(()=>{oe&&Bn.current&&setTimeout(()=>{try{JsBarcode(Bn.current,oe.code,{format:"CODE128",width:2,height:50,displayValue:!0})}catch{}},50)},[oe]);const pr=Ee=>{var Nt;const st=(Nt=Ee.target.files)==null?void 0:Nt[0];if(!st)return;z(!0);const At=new FileReader;At.onload=async Yr=>{var Ci,qi;try{const $t=A2((Ci=Yr.target)==null?void 0:Ci.result,{type:"array"}),ti=Rj.sheet_to_json($t.Sheets[$t.SheetNames[0]],{defval:""});for(const Gr of ti){const ri=(qi=Gr[" "]||Gr.||Gr.name)==null?void 0:qi.toString().trim(),wn=parseFloat(Gr.||Gr.||Gr.price)||0;ri&&wn>0&&r({id:`prd-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,name:ri,code:Gr.||`ID-${Math.floor(Math.random()*9e4)}`,price:wn,wholesalePrice:parseFloat(Gr.)||0,purchasePrice:parseFloat(Gr.)||0,stock:parseInt(Gr.)||0,category:Gr.||""})}}catch{}finally{z(!1),Ee.target.value=""}},At.readAsArrayBuffer(st)},Xt=Ee=>{const st=Ee.target.files;if(st&&st.length>0){const At=[];Array.from(st).forEach(Nt=>{At.push(new Promise(Yr=>{const Ci=new FileReader;Ci.onloadend=()=>Yr(Ci.result),Ci.readAsDataURL(Nt)}))}),Promise.all(At).then(Nt=>{He(Nt[0]),tt(Nt.slice(1))})}Ee.target.value=""},at=Se.useMemo(()=>e.filter(Ee=>Ee.name.toLowerCase().includes(j.toLowerCase())||Ee.code.toLowerCase().includes(j.toLowerCase())||Ee.id===j),[j,e]),De=()=>{_e&&(i(_e),Le(null),xe(null))};return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsx("input",{type:"file",ref:Bt,onChange:pr,accept:".xlsx, .xls, .csv",className:"hidden"}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:x?" ":""}),x&&p.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[p.jsx("div",{className:`w-2 h-2 rounded-full ${R==="wholesale"?"bg-orange-500 animate-pulse":"bg-[#57b385]"}`}),p.jsx("span",{className:"text-[10px] font-black uppercase text-[#57b385]",children:R==="wholesale"?" : ":" :  "})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[x&&p.jsxs("button",{onClick:c,className:"bg-[#57b385] px-4 py-2 rounded-xl text-xs font-black text-white shadow-lg flex items-center gap-2",children:[p.jsx("span",{children:" "}),p.jsx("div",{className:"bg-white/20 px-2 py-0.5 rounded-md",children:F.reduce((Ee,st)=>Ee+st.count,0)})]}),!x&&t.permissions.editProducts&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>{var Ee;return(Ee=Bt.current)==null?void 0:Ee.click()},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),p.jsx("polyline",{points:"14.5 2 14.5 8 20 8"}),p.jsx("path",{d:"M8 13h2"}),p.jsx("path",{d:"M8 17h2"}),p.jsx("path",{d:"M14 13h2"}),p.jsx("path",{d:"M14 17h2"})]})}),p.jsx("button",{onClick:()=>{It({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]}),te(!0)},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]})]})]}),p.jsx("div",{className:"px-6 py-4",children:p.jsxs("div",{className:"relative group",children:[p.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-14 text-white focus:border-[#57b385] outline-none text-right font-medium",value:j,onChange:Ee=>G(Ee.target.value)}),p.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})}),p.jsx("button",{onClick:()=>ee(!0),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-[#57b385] transition-colors active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),p.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),p.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),p.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})})]})}),p.jsx("div",{className:"flex-1 px-4 md:px-6 overflow-y-auto space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 pb-32 custom-scrollbar",children:at.length>0?at.map(Ee=>{var At,Nt;const st=((At=F.find(Yr=>Yr.id===Ee.id))==null?void 0:At.count)||0;return p.jsxs("div",{onClick:()=>{x&&C?C({id:Ee.id,name:Ee.name,price:R==="wholesale"?Ee.wholesalePrice:Ee.price},1):xe(Ee)},onTouchStart:()=>{Ue.current=setTimeout(()=>{gt.current=!0,fe(Ee),pe(1),kt((R==="wholesale"?Ee.wholesalePrice:Ee.price).toString()),navigator.vibrate&&navigator.vibrate(50)},500)},onTouchEnd:()=>{clearTimeout(Ue.current),setTimeout(()=>gt.current=!1,10)},className:`bg-[#111111] rounded-[2.5rem] border ${st>0?"border-[#57b385]":"border-gray-800/40"} p-5 flex flex-col gap-4 transition-all relative overflow-hidden active:scale-[0.97] cursor-pointer h-full`,children:[st>0&&p.jsxs("div",{className:"absolute top-0 right-0 bg-[#57b385] text-white text-[12px] font-black px-4 py-1.5 rounded-bl-3xl",children:[": ",st]}),p.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[p.jsx("div",{className:"w-16 h-16 bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-[#57b385] overflow-hidden",children:(Nt=Ee.images)!=null&&Nt[0]?p.jsx("img",{src:Ee.images[0],className:"w-full h-full object-cover"}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]})}),p.jsxs("div",{className:"flex-1 text-right",children:[p.jsx("h4",{className:"text-xl font-bold text-white mb-1 line-clamp-1",children:Ee.name}),p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-mono",children:Ee.code}),p.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-2 py-0.5 rounded-md text-[#57b385] font-bold border border-[#57b385]/20",children:Ee.category})]})]})]}),p.jsxs("div",{className:"flex items-center justify-between bg-black/20 rounded-2xl p-3 border border-gray-800/50 mt-auto",children:[p.jsxs("div",{className:"flex flex-col items-start",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),p.jsxs("div",{className:"text-lg font-black",children:[(R==="wholesale"?Ee.wholesalePrice:Ee.price).toFixed(2)," ."]})]}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),p.jsxs("div",{className:`text-sm font-black ${Ee.stock>0?"text-gray-200":"text-red-500"}`,children:[Ee.stock," "]})]})]})]},Ee.id)}):p.jsx("div",{className:"text-center py-20 text-gray-600 opacity-30 col-span-full font-bold",children:"  "})}),J&&p.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[p.jsx("video",{ref:ye,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),p.jsxs("div",{className:"absolute bottom-10 flex gap-10",children:[p.jsx("button",{onClick:Jt,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),p.jsx("button",{onClick:fr,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:p.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),p.jsx("button",{onClick:()=>{X.length>0&&(He(X[0]),tt(X.slice(1)),Jt())},className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white shadow-xl",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})]}),ce&&p.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col animate-in fade-in duration-300",children:[p.jsx("div",{className:"flex-1 bg-[#111111] flex items-center justify-center",children:p.jsx("img",{ref:Z,src:ce,className:"max-w-full max-h-full object-contain"})}),p.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 justify-center",children:[p.jsx("button",{onClick:()=>{if(me.current){const Ee=me.current.getCroppedCanvas({width:800,height:800}).toDataURL("image/jpeg",.8);It(st=>({...st,images:[...st.images,Ee]})),Be.length>0?(He(Be[0]),tt(st=>st.slice(1))):He(null)}},className:"flex-1 max-w-xs bg-[#57b385] py-4 rounded-2xl font-black",children:" "}),p.jsx("button",{onClick:()=>He(null),className:"flex-1 max-w-xs bg-[#1a1a1a] py-4 rounded-2xl font-bold border border-gray-800",children:""})]})]}),(ne||M)&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-2xl bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-4 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("button",{onClick:()=>{te(!1),H(!1)},className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-xl font-black",children:ne?" ":" "})]}),p.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[p.jsxs("div",{className:"flex flex-col items-center gap-3",children:[p.jsx("div",{className:"flex gap-2 overflow-x-auto w-full pb-3 no-scrollbar",children:Ge.images.map((Ee,st)=>p.jsxs("div",{className:"relative flex-shrink-0 w-24 h-24 bg-[#1a1a1a] rounded-2xl border border-gray-800 overflow-hidden",children:[p.jsx("img",{src:Ee,className:"w-full h-full object-cover"}),p.jsx("button",{onClick:()=>It(At=>({...At,images:At.images.filter((Nt,Yr)=>Yr!==st)})),className:"absolute top-1 right-1 w-6 h-6 bg-red-600 rounded-full flex items-center justify-center active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})})]},st))}),p.jsxs("div",{className:"flex gap-2 w-full",children:[p.jsxs("button",{onClick:Tt,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center text-blue-500",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),p.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:""})]}),p.jsxs("div",{onClick:()=>{var Ee;return(Ee=ur.current)==null?void 0:Ee.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 cursor-pointer flex flex-col items-center justify-center text-gray-500",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),p.jsx("polyline",{points:"17 8 12 3 7 8"}),p.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:" "}),p.jsx("input",{ref:ur,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Xt})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold",value:Ge.name,onChange:Ee=>It({...Ge,name:Ee.target.value})}),p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Ge.price,onChange:Ee=>It({...Ge,price:Ee.target.value})}),p.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Ge.wholesalePrice,onChange:Ee=>It({...Ge,wholesalePrice:Ee.target.value})}),p.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Ge.purchasePrice,onChange:Ee=>It({...Ge,purchasePrice:Ee.target.value})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx("input",{type:"text",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-mono",value:Ge.code,onChange:Ee=>It({...Ge,code:Ee.target.value})}),p.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black",value:Ge.stock,onChange:Ee=>It({...Ge,stock:Ee.target.value})})]}),p.jsxs("select",{className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold appearance-none",value:Ge.category,onChange:Ee=>It({...Ge,category:Ee.target.value}),children:[p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""})]})]})]}),p.jsx("button",{onClick:()=>{if(ne){if(!Ge.name||!Ge.price)return;r({id:Date.now().toString(),name:Ge.name,code:Ge.code||`PRD-${Math.floor(Math.random()*1e4)}`,price:parseFloat(Ge.price),wholesalePrice:parseFloat(Ge.wholesalePrice||"0"),purchasePrice:parseFloat(Ge.purchasePrice||"0"),stock:parseInt(Ge.stock||"0"),category:Ge.category,image:Ge.images[0],images:Ge.images}),te(!1)}else Ye&&(n({id:Ye,name:Ge.name,code:Ge.code,price:parseFloat(Ge.price),wholesalePrice:parseFloat(Ge.wholesalePrice||"0"),purchasePrice:parseFloat(Ge.purchasePrice||"0"),stock:parseInt(Ge.stock||"0"),category:Ge.category,image:Ge.images[0],images:Ge.images}),H(!1),Fe(null))},className:"w-full bg-[#57b385] py-5 rounded-2xl text-white font-black text-lg shadow-xl mt-4",children:ne?"":""})]})}),oe&&p.jsx("div",{className:"fixed inset-0 z-[400] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("div",{className:"flex gap-2",children:t.permissions.editProducts&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>{It({name:oe.name,code:oe.code,price:oe.price.toString(),wholesalePrice:oe.wholesalePrice.toString(),purchasePrice:oe.purchasePrice.toString(),stock:oe.stock.toString(),category:oe.category,images:oe.images||[]}),Fe(oe.id),xe(null),H(!0)},className:"p-3 bg-orange-500/10 rounded-2xl border border-orange-500/20 text-orange-500 font-bold text-xs",children:""}),p.jsxs("button",{onClick:()=>Le(oe.id),className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 font-bold text-xs flex items-center gap-1.5",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),""]})]})}),p.jsx("div",{onClick:()=>{var Ee;return Ne(((Ee=oe.images)==null?void 0:Ee[0])||oe.image||null)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] border border-[#57b385]/30 flex items-center justify-center overflow-hidden",children:(Je=oe.images)!=null&&Je[0]?p.jsx("img",{src:oe.images[0],className:"w-full h-full object-cover"}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]})})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest",children:" "}),p.jsx("p",{className:"text-2xl font-black text-white leading-tight",children:oe.name})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),p.jsx("div",{className:"text-sm font-black text-[#57b385]",children:oe.price.toFixed(2)})]}),hn&&p.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),p.jsx("div",{className:"text-sm font-black text-orange-400",children:oe.wholesalePrice.toFixed(2)})]}),t.permissions.viewPurchasePrice&&p.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),p.jsx("div",{className:"text-sm font-black text-red-400",children:oe.purchasePrice.toFixed(2)})]})]}),p.jsxs("div",{className:"bg-black/40 rounded-3xl p-5 border border-gray-800 space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-400 font-bold text-sm",children:oe.code}),p.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("span",{className:`text-sm font-black ${oe.stock>0?"text-white":"text-red-500"}`,children:[oe.stock," "]}),p.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]})]}),p.jsx("div",{className:"bg-white rounded-3xl p-3 flex flex-col items-center justify-center",children:p.jsx("svg",{ref:Bn,className:"w-full h-auto max-h-20"})})]}),p.jsx("button",{onClick:()=>xe(null),className:"w-full bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-black active:scale-95",children:""})]})}),_e&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsx("p",{className:"text-sm text-gray-400",children:"               ."})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:De,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>Le(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),de&&p.jsx("div",{className:"fixed inset-0 z-[300] bg-black/80 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-gray-400 text-sm font-bold",children:x?" ":"  "}),p.jsx("p",{className:"text-xl font-black text-white",children:de.name})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{type:"number",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black text-lg",value:St,onChange:Ee=>kt(Ee.target.value)}),p.jsxs("div",{className:"flex items-center justify-between w-full bg-black/40 rounded-3xl p-4 border border-gray-800",children:[p.jsx("button",{onClick:()=>pe(Ee=>Ee+1),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("input",{type:"number",className:"w-20 bg-transparent text-center text-4xl font-black text-[#57b385]",value:xt,onChange:Ee=>pe(parseInt(Ee.target.value)||1)}),p.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:""})]}),p.jsx("button",{onClick:()=>pe(Ee=>Math.max(1,Ee-1)),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),p.jsxs("div",{className:"w-full text-center py-2 bg-[#57b385]/5 rounded-2xl border border-[#57b385]/10",children:[p.jsx("p",{className:"text-[10px] text-gray-500 font-bold",children:""}),p.jsxs("p",{className:"text-2xl font-black text-white",children:[((parseFloat(St)||0)*xt).toFixed(2)," ."]})]})]}),p.jsxs("div",{className:"flex gap-4 pt-2",children:[p.jsx("button",{onClick:()=>{x&&C?C({id:de.id,name:de.name,price:parseFloat(St)||0},xt):B&&B({id:de.id,name:de.name,price:parseFloat(St)||0},xt),fe(null)},className:"flex-1 bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:x?"":" "}),p.jsx("button",{onClick:()=>fe(null),className:"px-6 bg-[#222222] text-gray-400 py-4 rounded-2xl font-bold border border-gray-700",children:""})]})]})}),Q&&p.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[p.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[p.jsx("button",{onClick:()=>ee(!1),className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-lg font-bold",children:" "}),p.jsx("div",{className:"w-10"})]}),p.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[p.jsx("div",{id:"reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),p.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:p.jsx("div",{className:"w-64 h-32 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),p.jsx("button",{onClick:()=>ee(!1),className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),Lt&&p.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>Ne(null),children:[p.jsx("img",{src:Lt,className:"max-w-full max-h-full object-contain shadow-2xl"}),p.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]}),p.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[p.jsx(Qh,{onClick:A,icon:p.jsx(sG,{}),label:""}),p.jsx(Qh,{icon:p.jsx(aG,{}),label:"",active:!x}),p.jsx("div",{className:"relative -top-6",children:p.jsx("button",{disabled:!t.permissions.createInvoices,onClick:c,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all group ${t.permissions.createInvoices?x?"bg-[#57b385]":"bg-[#1a1a1a]":"bg-gray-800 opacity-50"}`,children:p.jsx("svg",{className:"transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:x?p.jsx("path",{d:"M20 6L9 17l-5-5"}):p.jsxs(p.Fragment,{children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}),p.jsx(Qh,{onClick:h,icon:p.jsx(oG,{}),label:""}),p.jsx(Qh,{onClick:d,icon:p.jsx(AG,{}),label:""})]})]})},Qh=({icon:t,label:e,active:r=!1,onClick:n})=>p.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[p.jsx("div",{className:r?"scale-110":"",children:t}),p.jsx("span",{className:"text-[10px] font-bold",children:e})]}),sG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),aG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),oG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),AG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),lG=({currentUser:t,onNavigateToHome:e,onNavigateToProductSelection:r,items:n,setInvoiceItems:i,products:s,onUpdateQuantity:A,onClearInvoice:c,onAddManualItem:h,onSaveInvoice:d,initialInvoice:x,settings:C,onUpdateItem:B,customerName:F,setCustomerName:D,customerPhone:R,setCustomerPhone:k,priceMode:j,setPriceMode:G})=>{const[Q,ee]=Se.useState(new Date().toISOString().split("T")[0]),[ne,te]=Se.useState(!1),[M,H]=Se.useState(""),[O,z]=Se.useState(""),[J,W]=Se.useState(""),[X,Me]=Se.useState(0),[ye,we]=Se.useState(null),[ce,He]=Se.useState({name:"",price:"",count:1}),[Be,tt]=Se.useState(!1),[me,Z]=Se.useState("direct"),[de,fe]=Se.useState(""),[oe,xe]=Se.useState(!1);Se.useEffect(()=>{x?(ee(x.date),H(x.id),tt(x.type==="paid"),Z(x.method),xe(x.type==="partial"),fe(x.paidAmount>0?x.paidAmount.toString():""),x.priceMode&&G(x.priceMode)):H(`INV-${Math.floor(1e5+Math.random()*9e5)}`)},[x,G]);const Ye=Ne=>{Ne!==j&&(G(Ne),i(Ue=>Ue.map(gt=>{if(gt.isManual)return gt;const Bt=s.find(_t=>_t.id===gt.id);if(!Bt)return gt;const ur=Ne==="wholesale"?Bt.wholesalePrice:Bt.price;return{...gt,price:ur,total:ur*gt.count}})),navigator.vibrate&&navigator.vibrate(40))},Fe=Se.useMemo(()=>n.reduce((Ne,Ue)=>Ne+Ue.total,0),[n]),_e=Se.useMemo(()=>oe?parseFloat(de)||0:Be?Fe:0,[Be,oe,de,Fe]),Le=Se.useMemo(()=>Math.max(0,Fe-_e),[Fe,_e]),xt=Ne=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(Ne),pe=()=>{O&&J&&(h(O,parseFloat(J),X),z(""),W(""),Me(0),te(!1))},St=Ne=>{we(Ne),He({name:Ne.productName,price:Ne.price.toString(),count:Ne.count})},kt=()=>{ye&&ce.name&&ce.price&&(B(ye.id,{productName:ce.name,price:parseFloat(ce.price),count:ce.count}),we(null))},Lt=(Ne=!1)=>{const Ue=_e,gt=Le;let Bt="unpaid";gt<=0?Bt="paid":Ue>0&&(Bt="partial");const ur={id:M,creatorName:x&&x.creatorName||t.name,name:F||" ",phone:R,amount:Fe,paidAmount:Ue,remainingAmount:gt,date:Q,type:Bt,method:me,createdAt:x?x.createdAt:Date.now(),items:[...n],payments:x?x.payments:Ue>0?[{id:`init-${Date.now()}`,amount:Ue,timestamp:Date.now(),method:me}]:[],priceMode:j};Ne&&Q4(ur,C),d(ur)};return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none border-gray-800 font-['Tajawal']",children:[p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsx("h1",{className:"text-xl font-bold",children:x?" ":" "}),p.jsx("button",{onClick:c,className:"text-red-500 text-xs font-bold px-2 py-1 hover:bg-red-500/10 rounded-lg transition-all",children:""})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-48 md:pb-32 space-y-6 custom-scrollbar md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[p.jsxs("div",{className:"space-y-6 md:h-full md:flex md:flex-col",children:[p.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800/40 p-1.5 flex gap-1 animate-in fade-in slide-in-from-top-2 duration-400",children:[p.jsxs("button",{onClick:()=>Ye("retail"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${j==="retail"?"bg-[#57b385] text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]})," ()"]}),p.jsxs("button",{onClick:()=>Ye("wholesale"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${j==="wholesale"?"bg-orange-500 text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})," ()"]})]}),p.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:"w-8 h-8 bg-[#57b385]/10 rounded-lg flex items-center justify-center border border-[#57b385]/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#57b385",strokeWidth:"2.5",children:[p.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),p.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right font-bold",value:F,onChange:Ne=>D(Ne.target.value)}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx("input",{type:"tel",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:R,onChange:Ne=>k(Ne.target.value)}),p.jsx("input",{type:"date",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:Q,onChange:Ne=>ee(Ne.target.value)})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{onClick:r,className:`flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-[#57b385]/30 transition-all active:scale-95 ${j==="wholesale"?"border-orange-500/20":""}`,children:[p.jsx("div",{className:`w-10 h-10 ${j==="wholesale"?"bg-orange-500/10 text-orange-500":"bg-[#57b385]/10 text-[#57b385]"} rounded-full flex items-center justify-center`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),p.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),p.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),p.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]})}),p.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]}),p.jsxs("button",{onClick:()=>te(!0),className:"flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-blue-500/30 transition-all active:scale-95",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),p.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]})]}),n.length>0&&p.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4 animate-in slide-in-from-bottom duration-300",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("div",{className:"w-8 h-8 bg-blue-500/10 rounded-lg flex items-center justify-center border border-blue-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",children:[p.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),p.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),p.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),p.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[p.jsx("button",{onClick:()=>{tt(!0),xe(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${Be&&!oe?"bg-[#57b385] text-white":"text-gray-500"}`,children:""}),p.jsx("button",{onClick:()=>xe(!0),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${oe?"bg-orange-500 text-white":"text-gray-500"}`,children:""}),p.jsx("button",{onClick:()=>{tt(!1),xe(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${!Be&&!oe?"bg-red-500 text-white":"text-gray-500"}`,children:""})]})]}),oe&&p.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top duration-200",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:"   (.)"}),p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 md:py-2 px-4 text-white text-center font-black",value:de,onChange:Ne=>fe(Ne.target.value),placeholder:"0.00"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[p.jsx("button",{onClick:()=>Z("direct"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${me==="direct"?"bg-white text-black":"text-gray-500"}`,children:" (Cash)"}),p.jsx("button",{onClick:()=>Z("cheque"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${me==="cheque"?"bg-blue-600 text-white":"text-gray-500"}`,children:" (Cheque)"})]})]})]})]}),p.jsxs("div",{className:"space-y-4 md:flex md:flex-col md:h-full",children:[p.jsx("div",{className:"flex items-center gap-2 px-1",children:p.jsxs("h2",{className:"text-sm font-bold text-gray-500",children:["  (",n.length,")"]})}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] md:bg-transparent rounded-2xl md:rounded-none md:border-none border border-gray-800/40 p-4 md:p-0",children:n.length>0?p.jsx("div",{className:"space-y-3",children:n.map(Ne=>p.jsxs("div",{onClick:()=>St(Ne),className:"bg-[#111111] md:bg-[#161616] rounded-2xl border border-gray-800/40 p-4 flex flex-col gap-3 group animate-in slide-in-from-left duration-300 active:scale-[0.98] transition-all cursor-pointer hover:border-gray-700",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),A(Ne.id,-Ne.count)},className:"text-red-500/50 hover:text-red-500 p-1 transition-colors z-10 relative",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),p.jsxs("div",{className:"text-right flex-1 pr-3",children:[p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ne.isManual&&p.jsx("span",{className:"text-[8px] bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded border border-blue-500/30",children:""}),p.jsx("h3",{className:"font-bold text-white text-base",children:Ne.productName})]}),p.jsxs("p",{className:"text-xs text-gray-500 font-bold",children:[xt(Ne.price)," "]})]})]}),p.jsxs("div",{className:"flex items-center justify-between bg-black/30 rounded-xl p-2 border border-gray-800/30",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),A(Ne.id,1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),p.jsx("span",{className:"text-lg font-black min-w-[30px] text-center",children:Ne.count}),p.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),A(Ne.id,-1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),p.jsxs("div",{className:"text-left",children:[p.jsx("span",{className:"text-xs text-gray-500 font-bold ml-1",children:":"}),p.jsxs("span",{className:"text-[#57b385] font-black",children:[xt(Ne.total)," ."]})]})]})]},Ne.id))}):p.jsxs("div",{onClick:r,className:"border-2 border-dashed border-gray-800 rounded-[2rem] py-12 flex flex-col items-center justify-center gap-4 text-gray-600 cursor-pointer hover:border-[#57b385]/30 hover:bg-[#57b385]/5 transition-all h-full",children:[p.jsx("div",{className:"w-12 h-12 bg-gray-800/30 rounded-full flex items-center justify-center",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),p.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})}),p.jsx("p",{className:"font-bold text-sm",children:"  "})]})})]})]}),p.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-[#0c0c0c]/80 backdrop-blur-xl border-t border-gray-800 p-6 z-30 md:static md:w-full md:max-w-4xl md:mx-auto md:bg-transparent md:border-none",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4 bg-black/60 p-4 rounded-2xl border border-gray-800/50",children:[p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),p.jsxs("h3",{className:"text-2xl font-black text-[#57b385]",children:[xt(Fe)," ",p.jsx("span",{className:"text-sm",children:"."})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-gray-500 font-bold",children:""}),p.jsxs("h3",{className:`text-xl font-black ${Le>0?"text-red-500":"text-gray-500"}`,children:[xt(Le)," ."]})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{onClick:()=>Lt(!0),disabled:n.length===0,className:`flex-1 py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#1a1a1a] border border-gray-700 hover:bg-gray-800"}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})," "]}),p.jsxs("button",{onClick:()=>Lt(!1),disabled:n.length===0,className:`flex-[1.5] py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#57b385] hover:brightness-110"}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),p.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),p.jsx("polyline",{points:"7 3 7 8 15 8"})]})," "]})]})]}),ne&&p.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500 mx-auto border border-blue-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),p.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),p.jsx("p",{className:"text-xs text-gray-500",children:"    "})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  / "}),p.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold",value:O,onChange:Ne=>z(Ne.target.value),autoFocus:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-center font-black",value:J,onChange:Ne=>W(Ne.target.value)})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),p.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[p.jsx("button",{onClick:()=>Me(Ne=>Ne+1),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),p.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:X,onChange:Ne=>Me(Math.max(0,parseInt(Ne.target.value)||0))}),p.jsx("button",{onClick:()=>Me(Ne=>Math.max(0,Ne-1)),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("button",{onClick:pe,disabled:!O||!J,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!O||!J?"bg-gray-800 opacity-50":"bg-blue-600 hover:bg-blue-500"}`,children:" "}),p.jsx("button",{onClick:()=>te(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),ye&&p.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("div",{className:"w-16 h-16 bg-orange-500/10 rounded-full flex items-center justify-center text-orange-500 mx-auto border border-orange-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M12 20h9"}),p.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})}),p.jsx("h3",{className:"text-xl font-black text-white",children:" "}),p.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-right font-bold",value:ce.name,onChange:Ne=>He({...ce,name:Ne.target.value}),autoFocus:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-center font-black",value:ce.price,onChange:Ne=>He({...ce,price:Ne.target.value})})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),p.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[p.jsx("button",{onClick:()=>He(Ne=>({...Ne,count:Math.max(1,Ne.count+1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),p.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:ce.count,onChange:Ne=>He(Ue=>({...Ue,count:Math.max(1,parseInt(Ne.target.value)||1)}))}),p.jsx("button",{onClick:()=>He(Ne=>({...Ne,count:Math.max(1,Ne.count-1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("button",{onClick:kt,disabled:!ce.name||!ce.price,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!ce.name||!ce.price?"bg-gray-800 opacity-50":"bg-orange-500 hover:bg-orange-400"}`,children:" "}),p.jsx("button",{onClick:()=>we(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})})]})},cG=({currentUser:t,onNavigateToHome:e,settings:r,onUpdateSettings:n,onTriggerManualBackup:i,invoices:s,onEditInvoice:A,onNavigateToProducts:c,onNavigateToCustomers:h,onNavigateToCreateInvoice:d,onLogout:x})=>{var we,ce,He,Be,tt,me,Z,de,fe,oe,xe,Ye,Fe;const[C,B]=Se.useState(!1),[F,D]=Se.useState(!1),[R,k]=Se.useState(null),[j,G]=Se.useState(null),[Q,ee]=Se.useState(null),[ne,te]=Se.useState({name:"",phone:"",password:""}),M=Se.useRef(null);Se.useEffect(()=>{let _e=null;if(C){const Le=setTimeout(()=>{if(document.getElementById("invoice-reader"))try{M.current&&M.current.clear(),_e=new T3("invoice-reader"),M.current=_e,_e.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},xt=>{const pe=s.find(St=>St.id===xt);pe&&(B(!1),G(pe))},xt=>{}).catch(xt=>{console.error("Scanner Error",xt),alert("  .      ."),B(!1)})}catch(xt){console.error("Scanner Init Error",xt),B(!1)}},300);return()=>{clearTimeout(Le),_e&&_e.isScanning&&_e.stop().then(()=>_e==null?void 0:_e.clear()).catch(console.error)}}},[C,s]);const H=_e=>{var xt;const Le=(xt=_e.target.files)==null?void 0:xt[0];if(Le){const pe=new FileReader;pe.onloadend=()=>{n(St=>({...St,businessLogo:pe.result}))},pe.readAsDataURL(Le)}},O=(_e,Le)=>{n(xt=>({...xt,[_e]:Le}))},z=()=>{B(!0)},J=()=>{B(!1)},W=()=>{if(!ne.name||!ne.phone||!ne.password)return;const _e={id:Date.now().toString(),name:ne.name,phone:ne.phone,password:ne.password,permissions:{manageDebt:!1,editProducts:!1,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!1,viewPurchasePrice:!1,viewWholesalePrice:!1,manageSuppliers:!1,manageRequests:!1,manageCheckbook:!1,manageSpecialOrders:!1,viewAllWork:!1,isManager:!1}};n(Le=>({...Le,staffList:[_e,...Le.staffList]})),te({name:"",phone:"",password:""}),D(!1)},X=(_e,Le)=>{n(xt=>({...xt,staffList:xt.staffList.map(pe=>pe.id===_e?Le==="isManager"?pe.permissions.isManager?{...pe,permissions:{...pe.permissions,isManager:!1}}:{...pe,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,viewWholesalePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}}:{...pe,permissions:{...pe.permissions,[Le]:!pe.permissions[Le]}}:pe)}))},Me=()=>{Q&&(n(_e=>({..._e,staffList:_e.staffList.filter(Le=>Le.id!==Q)})),ee(null),k(null))},ye=t.role==="admin"||t.permissions.isManager;return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsx("h1",{className:"text-xl font-bold",children:""}),p.jsx("div",{className:"w-10"})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-32 space-y-6 custom-scrollbar pt-2 md:grid md:grid-cols-2 md:gap-6 md:space-y-0 md:auto-rows-min",children:[ye&&p.jsxs(p.Fragment,{children:[p.jsx(Ph,{title:"  ",icon:p.jsx(uG,{}),children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2 uppercase tracking-wider",children:"     "}),p.jsx("div",{className:"space-y-3",children:(r.staffList||[]).map(_e=>p.jsxs("div",{onClick:()=>k(_e),className:"bg-black/40 p-4 rounded-2xl border border-gray-800 flex items-center justify-between group cursor-pointer active:scale-[0.98] transition-all",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black ${_e.permissions.isManager?"bg-orange-500/20 text-orange-500 border border-orange-500/30":"bg-[#57b385]/10 text-[#57b385]"}`,children:_e.name.charAt(0)}),p.jsxs("div",{className:"text-right",children:[p.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[_e.name,_e.permissions.isManager&&p.jsx("span",{className:"text-[8px] bg-orange-500 text-white px-1.5 py-0.5 rounded-md",children:""})]}),p.jsx("span",{className:"text-[9px] text-gray-500",children:_e.phone})]})]}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-700 group-hover:text-gray-400 transition-colors",children:p.jsx("path",{d:"m9 18 6-6-6-6"})})]},_e.id))}),p.jsxs("button",{onClick:()=>D(!0),className:"w-full bg-[#57b385]/10 border border-[#57b385]/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-2 text-[#57b385] font-black text-sm active:scale-95 transition-all",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"   "]})]})}),p.jsx(Ph,{title:"  ()",icon:p.jsx(fG,{}),children:p.jsxs("div",{className:"space-y-4",children:[p.jsx(jA,{label:"  ",value:r.loginPhone,onChange:_e=>O("loginPhone",_e)}),p.jsx(jA,{label:"  ",value:r.loginPassword,onChange:_e=>O("loginPassword",_e)})]})})]}),p.jsx(Ph,{title:" ",icon:p.jsx(dG,{}),children:p.jsxs("button",{onClick:z,className:"w-full bg-[#1a1a1a] border border-gray-800 hover:border-[#57b385]/50 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-4 transition-all active:scale-95 group",children:[p.jsx("div",{className:"w-10 h-10 bg-[#57b385]/10 rounded-xl flex items-center justify-center text-[#57b385] group-hover:scale-110 transition-transform",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),p.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),p.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),p.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})}),p.jsx("span",{className:"text-sm font-bold text-gray-200",children:"  "})]})}),ye&&p.jsx(Ph,{title:" ",icon:p.jsx(hG,{}),children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex flex-col items-center gap-3 py-2",children:[p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"w-24 h-24 bg-[#1a1a1a] rounded-3xl border-2 border-dashed border-gray-700 flex items-center justify-center overflow-hidden",children:r.businessLogo?p.jsx("img",{src:r.businessLogo,alt:"Logo",className:"w-full h-full object-contain p-2"}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#4b5563",strokeWidth:"2",children:[p.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),p.jsx("circle",{cx:"9",cy:"9",r:"2"}),p.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),p.jsxs("label",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-[#57b385] rounded-xl flex items-center justify-center cursor-pointer shadow-lg active:scale-90 transition-all",children:[p.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:H}),p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[p.jsx("path",{d:"M12 20h9"}),p.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})]})]}),p.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"  "})]}),p.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-4",children:[p.jsx(jA,{label:"  ",value:r.userName,onChange:_e=>O("userName",_e)}),p.jsx(jA,{label:" ",value:r.businessName,onChange:_e=>O("businessName",_e)}),p.jsx("div",{className:"md:col-span-2",children:p.jsx(jA,{label:"   ()",value:r.specialOrderLabel||" ",onChange:_e=>O("specialOrderLabel",_e)})})]})]})}),p.jsx("div",{className:"pt-4 md:col-span-2",children:p.jsxs("button",{onClick:x,className:"w-full bg-red-500/10 border border-red-500/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-3 text-red-500 font-black text-sm active:scale-95 transition-all hover:bg-red-500 hover:text-white group",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:stroke-white transition-colors",children:[p.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),p.jsx("polyline",{points:"16 17 21 12 16 7"}),p.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"   "]})}),p.jsx("div",{className:"text-center pt-2 pb-12 opacity-30 md:col-span-2",children:p.jsx("p",{className:"text-[10px] font-bold",children:"MAMA System v2.1.0"})})]}),F&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("button",{onClick:()=>D(!1),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-xl font-black",children:" "})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(jA,{label:" ",value:ne.name,onChange:_e=>te({...ne,name:_e})}),p.jsx(jA,{label:" ",value:ne.phone,onChange:_e=>te({...ne,phone:_e})}),p.jsx(jA,{label:" ",value:ne.password,onChange:_e=>te({...ne,password:_e})})]}),p.jsx("button",{onClick:W,className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all",children:" "})]})}),R&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("button",{onClick:()=>k(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsxs("h2",{className:"text-xl font-black text-orange-500",children:[" ",R.name]})]}),p.jsxs("div",{className:"space-y-5 bg-black/40 p-6 rounded-[2rem] border border-gray-800",children:[p.jsx("div",{className:"bg-orange-500/10 border border-orange-500/30 p-3 rounded-2xl",children:p.jsx(oa,{label:"  (Full Admin)",description:"     ",enabled:((we=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:we.permissions.isManager)||!1,onToggle:()=>X(R.id,"isManager")})}),p.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),p.jsx(oa,{label:"  ",description:"      ",enabled:((ce=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:ce.permissions.viewAllWork)||!1,onToggle:()=>X(R.id,"viewAllWork")}),p.jsx(oa,{label:"  ()",description:"      ",enabled:((He=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:He.permissions.manageDebt)||!1,onToggle:()=>X(R.id,"manageDebt")}),p.jsx(oa,{label:"  ",description:"      ",enabled:((Be=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:Be.permissions.editProducts)||!1,onToggle:()=>X(R.id,"editProducts")}),p.jsx(oa,{label:" ",description:"    ",enabled:((tt=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:tt.permissions.createInvoices)||!1,onToggle:()=>X(R.id,"createInvoices")}),p.jsx(oa,{label:" ",description:"    ",enabled:((me=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:me.permissions.viewNotifications)||!1,onToggle:()=>X(R.id,"viewNotifications")}),p.jsx(oa,{label:"  ",description:"      ()",enabled:((Z=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:Z.permissions.viewAdminInvoices)||!1,onToggle:()=>X(R.id,"viewAdminInvoices")}),p.jsx(oa,{label:"  ",description:"     ",enabled:((de=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:de.permissions.viewPurchasePrice)||!1,onToggle:()=>X(R.id,"viewPurchasePrice")}),p.jsx(oa,{label:"  ",description:"      ",enabled:((fe=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:fe.permissions.viewWholesalePrice)||!1,onToggle:()=>X(R.id,"viewWholesalePrice")}),p.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),p.jsx(oa,{label:"  ",description:"   (Supplier Invoices)",enabled:((oe=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:oe.permissions.manageSuppliers)||!1,onToggle:()=>X(R.id,"manageSuppliers")}),p.jsx(oa,{label:"  (Demand)",description:"   (Client Requests)",enabled:((xe=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:xe.permissions.manageRequests)||!1,onToggle:()=>X(R.id,"manageRequests")}),p.jsx(oa,{label:"  ",description:"    ",enabled:((Ye=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:Ye.permissions.manageCheckbook)||!1,onToggle:()=>X(R.id,"manageCheckbook")}),p.jsx(oa,{label:"  ",description:"    (Special Orders)",enabled:((Fe=(r.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:Fe.permissions.manageSpecialOrders)||!1,onToggle:()=>X(R.id,"manageSpecialOrders")})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("button",{onClick:()=>k(null),className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>ee(R.id),className:"w-full bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all hover:bg-red-500 hover:text-white",children:" "})]})]})}),Q&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),p.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsx("p",{className:"text-sm text-gray-400",children:"       "}),p.jsx("p",{className:"text-[10px] text-orange-500 font-bold mt-2",children:":              ."})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:Me,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),p.jsx("button",{onClick:()=>ee(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),C&&p.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[p.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[p.jsx("button",{onClick:J,className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white active:scale-90 transition-all",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-lg font-bold",children:" "}),p.jsx("div",{className:"w-10"})]}),p.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[p.jsx("div",{id:"invoice-reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),p.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:p.jsx("div",{className:"w-64 h-64 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),p.jsx("button",{onClick:J,className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),j&&p.jsx("div",{className:"fixed inset-0 z-[700] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 text-center",children:[p.jsx("div",{className:"w-20 h-20 bg-[#57b385]/10 rounded-full flex items-center justify-center mx-auto border border-[#57b385]/20 text-[#57b385]",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white",children:"   "}),p.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[j.name," - ",j.date]}),p.jsx("p",{className:"text-gray-500 text-xs font-mono mt-1",children:j.id})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>{G(null),A(j)},className:"flex-1 bg-[#57b385] text-white py-4 rounded-2xl font-black shadow-lg active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>G(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),p.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[p.jsx(Hh,{onClick:e,icon:p.jsx(gG,{}),label:""}),p.jsx(Hh,{onClick:c,icon:p.jsx(pG,{}),label:""}),p.jsx("div",{className:"relative -top-6",children:p.jsx("button",{onClick:d,disabled:!t.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:p.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),p.jsx(Hh,{onClick:h,icon:p.jsx(mG,{}),label:""}),p.jsx(Hh,{onClick:()=>{},icon:p.jsx(xG,{}),label:"",active:!0})]})]})},Ph=({title:t,icon:e,children:r})=>p.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400",children:e}),p.jsx("h3",{className:"text-lg font-bold text-gray-200",children:t})]}),r]}),jA=({label:t,value:e,onChange:r,type:n="text"})=>p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-wider",children:t}),p.jsx("input",{type:n,className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-3 px-4 text-white focus:border-[#57b385] outline-none transition-all text-right font-bold text-sm",value:e,onChange:i=>r(i.target.value)})]}),oa=({label:t,description:e,enabled:r,onToggle:n})=>p.jsxs("div",{className:"flex items-center justify-between py-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"text-sm font-bold text-white mb-0.5",children:t}),p.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:e})]}),p.jsx("button",{onClick:n,className:`w-12 h-7 rounded-full p-1 transition-all duration-300 ${r?"bg-[#57b385]":"bg-gray-800"}`,children:p.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-md transition-all duration-300 ${r?"translate-x-0":"-translate-x-5"}`})})]}),Hh=({icon:t,label:e,active:r=!1,onClick:n})=>p.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[p.jsx("div",{className:r?"scale-110":"",children:t}),p.jsx("span",{className:"text-[10px] font-bold",children:e})]}),uG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),fG=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),dG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),hG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),gG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),pG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),mG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),xG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),wG=({currentUser:t,onNavigateToHome:e,onNavigateToProducts:r,onNavigateToSettings:n,onNavigateToCreateInvoice:i,invoices:s,generalPayments:A,onAddGeneralPayment:c,onDeleteGeneralPayment:h,onDeleteCustomer:d,onProcessPayment:x,onEditInvoice:C,settings:B})=>{const[F,D]=Se.useState(""),[R,k]=Se.useState(null),[j,G]=Se.useState(null),Q=Se.useRef(null),ee=Se.useRef(!1),[ne,te]=Se.useState(null),[M,H]=Se.useState("full"),[O,z]=Se.useState(""),[J,W]=Se.useState("direct"),[X,Me]=Se.useState(""),[ye,we]=Se.useState("direct"),[ce,He]=Se.useState(null),[Be,tt]=Se.useState(!1),me=Se.useRef(null),[Z,de]=Se.useState(!1),fe=Se.useRef(null),oe=Se.useMemo(()=>{const Ne=new Map;return s.forEach(Ue=>{const gt=Ne.get(Ue.name)||{name:Ue.name,phone:Ue.phone,totalPurchased:0,totalPaid:0,totalDebt:0,lastInvoiceDate:Ue.date,lastInvoiceTimestamp:Ue.createdAt,invoiceCount:0,invoices:[],generalPayments:[]};gt.totalPurchased+=Ue.amount,gt.totalPaid+=Ue.paidAmount,gt.totalDebt+=Ue.remainingAmount,gt.invoiceCount+=1,gt.invoices.push(Ue),Ue.createdAt>=gt.lastInvoiceTimestamp&&(gt.lastInvoiceDate=Ue.date,gt.lastInvoiceTimestamp=Ue.createdAt,Ue.phone&&(gt.phone=Ue.phone)),Ne.set(Ue.name,gt)}),A.forEach(Ue=>{const gt=Ne.get(Ue.customerName);if(gt)gt.totalDebt-=Ue.amount,gt.totalPaid+=Ue.amount,gt.generalPayments||(gt.generalPayments=[]),gt.generalPayments.push(Ue);else{const Bt={name:Ue.customerName,totalPurchased:0,totalPaid:Ue.amount,totalDebt:-Ue.amount,lastInvoiceDate:Ue.date,lastInvoiceTimestamp:Ue.timestamp,invoiceCount:0,invoices:[],generalPayments:[Ue]};Ne.set(Ue.customerName,Bt)}}),Array.from(Ne.values()).filter(Ue=>Ue.name.includes(F)).sort((Ue,gt)=>gt.lastInvoiceTimestamp-Ue.lastInvoiceTimestamp)},[s,A,F]),xe=Se.useMemo(()=>R&&oe.find(Ne=>Ne.name===R)||null,[oe,R]);Se.useEffect(()=>{R&&window.scrollTo({top:0,behavior:"smooth"})},[R]);const Ye=Ne=>{ee.current=!1,Q.current=setTimeout(()=>{ee.current=!0,(t.role==="admin"||t.permissions.isManager)&&(G(Ne),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},Fe=()=>{Q.current&&(clearTimeout(Q.current),Q.current=null)},_e=()=>{j&&d&&(d(j),G(null))},Le=Ne=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(Ne),xt=()=>{if(!ne)return;const Ne=M==="full"?ne.remainingAmount:parseFloat(O)||0;Ne>0&&(x(ne.id,Ne,J),te(null),z(""),H("full"))},pe=()=>{const Ne=parseFloat(X);if(!Ne||Ne<=0||!xe)return;const Ue={id:`gen-pay-${Date.now()}`,customerName:xe.name,amount:Ne,date:new Date().toISOString().split("T")[0],timestamp:Date.now(),method:ye};c(Ue),Me(""),new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{})},St=()=>{ce&&(h(ce),He(null))},kt=async()=>{if(!(!xe||!me.current)){tt(!0);try{(await rc(me.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Ue=>{if(!Ue){tt(!1),alert("  ");return}try{const gt=new ClipboardItem({"image/png":Ue});await navigator.clipboard.write([gt]);let Bt=xe.phone?xe.phone.replace(/\D/g,""):"";(Bt.startsWith("06")||Bt.startsWith("07")||Bt.startsWith("05"))&&(Bt="212"+Bt.substring(1));const ur=Bt?`https://wa.me/${Bt}`:"https://wa.me/";window.open(ur,"_blank")}catch(gt){console.error("Clipboard write failed:",gt),alert("   ."),window.open("https://wa.me/","_blank")}finally{tt(!1)}},"image/png",1)}catch(Ne){console.error("Error creating debt image:",Ne),tt(!1)}}},Lt=async()=>{if(!(!xe||!fe.current)){de(!0);try{(await rc(fe.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Ue=>{if(!Ue){de(!1),alert("  ");return}try{const gt=new ClipboardItem({"image/png":Ue});await navigator.clipboard.write([gt]);let Bt=xe.phone?xe.phone.replace(/\D/g,""):"";(Bt.startsWith("06")||Bt.startsWith("07")||Bt.startsWith("05"))&&(Bt="212"+Bt.substring(1));const ur=Bt?`https://wa.me/${Bt}`:"https://wa.me/";window.open(ur,"_blank")}catch(gt){console.error("Clipboard write failed:",gt),alert("   ."),window.open("https://wa.me/","_blank")}finally{de(!1)}},"image/png",1)}catch(Ne){console.error("Error creating summary image:",Ne),de(!1)}}};return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:rounded-[3rem] border border-gray-800 font-['Tajawal']",children:[xe&&p.jsxs("div",{ref:me,style:{position:"fixed",top:0,left:-9999,width:"400px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,borderRadius:"12px",border:"1px solid #eee"},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 5px 0"},children:B.businessName}),p.jsx("h1",{style:{fontSize:"24px",fontWeight:"900",margin:"0 0 5px 0"},children:" "}),p.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),p.jsxs("div",{style:{marginBottom:"25px"},children:[p.jsx("p",{style:{fontSize:"16px",margin:"0 0 5px 0",color:"#666"},children:"():"}),p.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",margin:0},children:xe.name}),xe.phone&&p.jsx("p",{style:{fontSize:"14px",color:"#888",margin:"5px 0 0 0"},children:xe.phone})]}),p.jsxs("div",{style:{backgroundColor:"#fff0f0",border:"2px solid #ffcccc",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[p.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",margin:"0 0 10px 0",color:"#cc0000"},children:"  ( )"}),p.jsxs("div",{style:{fontSize:"32px",fontWeight:"900",color:"#cc0000",direction:"ltr"},children:[Le(xe.totalDebt)," ",p.jsx("span",{style:{fontSize:"18px"},children:"DH"})]})]}),p.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888",borderTop:"1px solid #eee",paddingTop:"10px"},children:p.jsxs("p",{children:["   - ",B.signatureName||"MAMA App"]})})]}),xe&&p.jsxs("div",{ref:fe,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,border:"1px solid #eee"},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:B.businessName}),p.jsx("h1",{style:{fontSize:"26px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),p.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",xe.name]}),p.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[p.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),p.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:" "})]})}),p.jsx("tbody",{children:xe.invoices.sort((Ne,Ue)=>Ne.createdAt-Ue.createdAt).map((Ne,Ue)=>p.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[p.jsx("td",{style:{padding:"10px",fontSize:"16px",fontWeight:"bold"},children:Ne.date}),p.jsx("td",{style:{padding:"10px",fontSize:"18px",fontWeight:"900",textAlign:"left"},children:Le(Ne.amount)})]},Ue))})]}),p.jsxs("div",{style:{borderTop:"2px solid #000",paddingTop:"15px",marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" :"}),p.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[Le(xe.totalPurchased)," ."]})]}),xe.generalPayments&&xe.generalPayments.length>0&&p.jsxs("div",{style:{marginTop:"20px"},children:[p.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"2px solid #ddd",paddingBottom:"5px",marginBottom:"10px"},children:"  "}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"#e6fffa"},children:[p.jsx("th",{style:{padding:"8px",textAlign:"right",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""}),p.jsx("th",{style:{padding:"8px",textAlign:"center",fontSize:"14px",borderBottom:"1px solid #ddd"},children:" "}),p.jsx("th",{style:{padding:"8px",textAlign:"left",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""})]})}),p.jsx("tbody",{children:xe.generalPayments.sort((Ne,Ue)=>Ne.timestamp-Ue.timestamp).map((Ne,Ue)=>p.jsxs("tr",{style:{borderBottom:"1px dashed #eee"},children:[p.jsx("td",{style:{padding:"8px",fontSize:"14px"},children:new Date(Ne.date).toLocaleDateString("ar-MA")}),p.jsx("td",{style:{padding:"8px",fontSize:"14px",textAlign:"center"},children:Ne.method==="direct"?"":""}),p.jsx("td",{style:{padding:"8px",fontSize:"14px",fontWeight:"bold",textAlign:"left",color:"#059669"},children:Le(Ne.amount)})]},Ue))})]})]}),p.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"15px",borderRadius:"8px",marginTop:"20px",border:"1px solid #eee"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[p.jsx("span",{style:{fontWeight:"bold"},children:" :"}),p.jsxs("span",{style:{fontWeight:"bold",color:"#059669"},children:[Le(xe.totalPaid)," ."]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"20px",marginTop:"10px",borderTop:"1px solid #ccc",paddingTop:"10px"},children:[p.jsx("span",{style:{fontWeight:"900",color:"#dc2626"},children:"  ( ):"}),p.jsxs("span",{style:{fontWeight:"900",color:"#dc2626",direction:"ltr"},children:[Le(xe.totalDebt)," DH"]})]})]}),p.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888"},children:p.jsx("p",{children:B.signatureName||"MAMA App"})})]}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),p.jsx("span",{className:"text-[10px] text-[#57b385] font-bold",children:"   "})]}),p.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-[#57b385]",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})})]}),p.jsx("div",{className:"px-6 py-4",children:p.jsxs("div",{className:"relative group",children:[p.jsx("input",{type:"text",placeholder:"   ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-4 text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:F,onChange:Ne=>D(Ne.target.value)}),p.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),p.jsx("div",{className:"flex-1 px-4 overflow-y-auto space-y-4 pb-32 custom-scrollbar",children:oe.length>0?oe.map(Ne=>{const Ue=Ne.totalPurchased>0?Math.max(0,Ne.totalDebt)/Ne.totalPurchased*100:0;return p.jsxs("div",{onMouseDown:()=>Ye(Ne.name),onMouseUp:Fe,onMouseLeave:Fe,onTouchStart:()=>Ye(Ne.name),onTouchEnd:Fe,onClick:()=>!ee.current&&k(Ne.name),className:"bg-[#111111] rounded-[2.5rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-gray-500 group-hover:text-[#57b385] transition-all",children:p.jsx("span",{className:"text-xl font-black",children:Ne.name.charAt(0)})}),p.jsxs("div",{className:"flex-1 text-right",children:[p.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1",children:Ne.name}),p.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",Ne.lastInvoiceDate]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),p.jsxs("div",{className:"text-sm font-black text-white",children:[Le(Ne.totalPurchased)," ."]})]}),p.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),p.jsxs("div",{className:`text-sm font-black ${Ne.totalDebt>0?"text-red-500":"text-[#57b385]"}`,children:[Le(Ne.totalDebt)," ."]})]})]}),Ne.totalPurchased>0&&p.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full transition-all duration-1000 ${Ne.totalDebt>0?"bg-red-500":"bg-[#57b385]"}`,style:{width:`${Math.max(2,Ue)}%`}})})]},Ne.name)}):p.jsx("div",{className:"text-center py-20 text-gray-600",children:p.jsx("p",{className:"font-bold",children:"    "})})}),xe&&p.jsxs("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] flex flex-col animate-in slide-in-from-bottom duration-400",children:[p.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c]",children:[p.jsx("button",{onClick:()=>{k(null),Me("")},className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsx("h2",{className:"text-xl font-bold",children:"  "}),p.jsx("div",{className:"w-10"})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:xe.name.charAt(0)}),p.jsx("h3",{className:"text-2xl font-black",children:xe.name}),p.jsxs("div",{className:"flex flex-col items-center gap-2",children:[xe.phone&&p.jsxs("div",{className:"flex items-center gap-2 bg-[#1a1a1a] px-4 py-1.5 rounded-full border border-gray-800 text-[#57b385] font-black text-xs",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),p.jsx("a",{href:`tel:${xe.phone}`,children:xe.phone})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[xe.invoiceCount," "]}),p.jsxs("div",{className:`flex items-center gap-2 px-1.5 py-1 rounded-full border ${xe.totalDebt>0?"bg-red-500/10 border-red-500/20":"bg-green-500/10 border-green-500/20"}`,children:[p.jsxs("span",{className:`text-[10px] font-bold px-2 ${xe.totalDebt>0?"text-red-500":"text-green-500"}`,children:[" : ",Le(xe.totalDebt)," ."]}),xe.totalDebt>0&&p.jsx("button",{onClick:kt,disabled:Be,className:`w-7 h-7 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-md active:scale-90 transition-all ${Be?"opacity-50 cursor-wait":""}`,children:Be?p.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]})]})]})]}),xe.totalDebt>0&&t.permissions.manageDebt&&p.jsxs("div",{className:"bg-[#1a1a1a] rounded-3xl border border-gray-800 p-5 space-y-4 shadow-xl",children:[p.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-700/50 pb-2",children:[p.jsx("div",{className:"w-8 h-8 bg-green-500/10 rounded-lg flex items-center justify-center text-green-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("path",{d:"M12 2v20"}),p.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),p.jsx("h3",{className:"font-bold text-white text-sm",children:"  "})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-700 rounded-xl py-3 pr-4 pl-12 text-white font-black text-center focus:border-green-500 outline-none transition-colors",placeholder:" (.)",value:X,onChange:Ne=>Me(Ne.target.value)}),p.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs font-bold",children:"DH"})]}),p.jsx("button",{onClick:()=>we(Ne=>Ne==="direct"?"cheque":"direct"),className:`w-12 rounded-xl flex items-center justify-center border font-bold text-xs transition-all ${ye==="direct"?"bg-white text-black border-white":"bg-blue-600 text-white border-blue-600"}`,children:ye==="direct"?"":""})]}),parseFloat(X)>0&&p.jsxs("div",{className:"text-center text-[10px] text-gray-400",children:["  : ",p.jsxs("span",{className:"text-white font-bold",children:[Le(Math.max(0,xe.totalDebt-parseFloat(X)))," ."]})]}),p.jsxs("button",{onClick:pe,disabled:!X||parseFloat(X)<=0,className:`w-full py-3 rounded-xl font-black text-sm shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 ${X?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})," "]})]}),xe.generalPayments&&xe.generalPayments.length>0&&p.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[p.jsxs("h4",{className:"text-sm font-bold text-green-500 border-b border-gray-800/30 pb-3 flex items-center gap-2",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),p.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"  "]}),p.jsx("div",{className:"space-y-3",children:xe.generalPayments.sort((Ne,Ue)=>Ue.timestamp-Ne.timestamp).map(Ne=>p.jsxs("div",{className:"bg-green-500/5 p-4 rounded-2xl border border-green-500/10 flex justify-between items-center group",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"text-white font-black text-sm",children:[Le(Ne.amount)," ."]}),p.jsxs("div",{className:"text-[10px] text-gray-500 flex gap-2",children:[p.jsx("span",{children:new Date(Ne.date).toLocaleDateString("ar-MA")}),p.jsxs("span",{className:"text-green-600/70 font-bold",children:["(",Ne.method==="direct"?"":"",")"]})]})]}),t.permissions.manageDebt&&p.jsx("button",{onClick:()=>He(Ne.id),className:"p-2 text-gray-600 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},Ne.id))})]}),p.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[p.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:"  "}),p.jsx("div",{className:"space-y-3",children:xe.invoices.sort((Ne,Ue)=>Ue.createdAt-Ne.createdAt).map(Ne=>p.jsxs("div",{className:"bg-black/40 p-4 rounded-2xl border border-gray-800",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs font-black text-white",children:Ne.id}),p.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded border font-bold ${Ne.type==="paid"?"bg-green-500/10 text-green-500 border-green-500/20":Ne.type==="partial"?"bg-orange-500/10 text-orange-500 border-orange-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:Ne.type==="paid"?"":Ne.type==="partial"?" ":""})]}),p.jsx("span",{className:"text-[10px] text-gray-500",children:Ne.date})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[Ne.type!=="paid"&&t.permissions.manageDebt&&p.jsx("button",{onClick:()=>te(Ne),className:"flex items-center gap-1.5 px-3 h-9 bg-gray-800 hover:bg-gray-700 rounded-xl text-gray-300 shadow-lg active:scale-90 transition-all border border-gray-700",children:p.jsx("span",{className:"text-[10px] font-bold",children:" "})}),p.jsx("button",{disabled:!t.permissions.createInvoices,onClick:()=>C(Ne),className:`w-9 h-9 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-500 hover:text-white border border-gray-800 transition-colors ${t.permissions.createInvoices?"":"opacity-20 cursor-not-allowed"}`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M12 20h9"}),p.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-2 border-t border-gray-800/50 pt-3",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),p.jsx("span",{className:"text-[10px] font-black text-white",children:Le(Ne.amount)})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),p.jsx("span",{className:"text-[10px] font-black text-[#57b385]",children:Le(Ne.paidAmount)})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),p.jsx("span",{className:"text-[10px] font-black text-red-500",children:Le(Ne.remainingAmount)})]})]}),Ne.payments&&Ne.payments.length>0&&p.jsxs("div",{className:"mt-3 bg-black/20 rounded-xl p-2 space-y-1",children:[p.jsx("span",{className:"text-[8px] text-gray-600 font-bold block mb-1",children:" :"}),Ne.payments.map((Ue,gt)=>p.jsxs("div",{className:"flex justify-between items-center text-[8px]",children:[p.jsx("span",{className:"text-gray-400",children:new Date(Ue.timestamp).toLocaleDateString("ar-MA")}),p.jsxs("span",{className:"text-[#57b385] font-bold",children:["+",Le(Ue.amount)," . (",Ue.method==="direct"?"":"",")"]})]},gt))]})]},Ne.id))})]})]}),p.jsxs("div",{className:"p-6 bg-[#0c0c0c] border-t border-gray-800 pb-10 relative",children:[p.jsx("button",{onClick:()=>{k(null),Me("")},className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "}),p.jsx("div",{className:"absolute bottom-24 right-6 z-50",children:p.jsx("button",{onClick:Lt,disabled:Z||xe.invoices.length===0,className:`w-14 h-14 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-2xl shadow-green-900/40 active:scale-90 transition-all border-4 border-[#0c0c0c] ${Z?"opacity-50 cursor-wait":""}`,children:Z?p.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})})]})]}),j&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),p.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),p.jsxs("p",{className:"text-sm text-gray-400",children:["      ",p.jsx("span",{className:"text-white font-bold",children:j}),"    "]})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:_e,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),p.jsx("button",{onClick:()=>G(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),ce&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsx("p",{className:"text-sm text-gray-400",children:"           ."})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:St,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>He(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),ne&&p.jsx("div",{className:"fixed inset-0 z-[250] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-16 h-16 bg-[#57b385]/10 rounded-full flex items-center justify-center text-[#57b385] mx-auto border border-[#57b385]/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("polyline",{points:"16 12 12 8 8 12"}),p.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"8"})]})}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),p.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["  : ",p.jsxs("span",{className:"text-red-500 font-black",children:[Le(ne.remainingAmount)," ."]})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1 rounded-2xl border border-gray-800",children:[p.jsx("button",{onClick:()=>H("full"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${M==="full"?"bg-[#57b385] text-white shadow-lg":"text-gray-500"}`,children:"  "}),p.jsx("button",{onClick:()=>H("partial"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${M==="partial"?"bg-orange-500 text-white shadow-lg":"text-gray-500"}`,children:" "})]}),M==="partial"&&p.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-200",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),p.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-black border border-gray-800 rounded-xl py-4 px-4 text-white focus:border-[#57b385] outline-none text-center font-black text-lg",value:O,onChange:Ne=>z(Ne.target.value),autoFocus:!0})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx("button",{onClick:()=>W("direct"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${J==="direct"?"bg-white text-black border-white":"bg-transparent text-gray-500 border-gray-800"}`,children:""}),p.jsx("button",{onClick:()=>W("cheque"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${J==="cheque"?"bg-blue-600 text-white border-blue-600":"bg-transparent text-gray-500 border-gray-800"}`,children:""})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("button",{onClick:xt,disabled:M==="partial"&&(!O||parseFloat(O)<=0),className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${M==="partial"&&(!O||parseFloat(O)<=0)?"bg-gray-800 opacity-50":"bg-[#57b385]"}`,children:"  "}),p.jsx("button",{onClick:()=>te(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),p.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[p.jsx(Vh,{onClick:e,icon:p.jsx(vG,{}),label:""}),p.jsx(Vh,{onClick:r,icon:p.jsx(yG,{}),label:""}),p.jsx("div",{className:"relative -top-6",children:p.jsx("button",{disabled:!t.permissions.createInvoices,onClick:i,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),p.jsx(Vh,{icon:p.jsx(CG,{}),label:"",active:!0}),p.jsx(Vh,{onClick:n,icon:p.jsx(EG,{}),label:""})]})]})},Vh=({icon:t,label:e,active:r=!1,onClick:n})=>p.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[p.jsx("div",{className:r?"scale-110":"",children:t}),p.jsx("span",{className:"text-[10px] font-bold",children:e})]}),vG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),yG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),CG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),EG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),BG=({onNavigateToHome:t,notifications:e,onMarkAllAsRead:r,onClearAll:n,onMarkAsRead:i})=>{const[s,A]=Se.useState("all"),c=Se.useMemo(()=>s==="all"?e:e.filter(C=>C.type===s),[e,s]),h=Se.useMemo(()=>({unread:e.filter(C=>!C.isRead).length,debt:e.filter(C=>C.type==="debt").length,stock:e.filter(C=>C.type==="stock").length,sale:e.filter(C=>C.type==="sale").length}),[e]),d=C=>{const B=Date.now()-C,F=Math.floor(B/6e4);if(F<1)return"";if(F<60)return` ${F} `;const D=Math.floor(F/60);return D<24?` ${D} `:new Date(C).toLocaleDateString("ar-MA")},x=C=>{switch(C){case"debt":return{bg:"bg-red-500/10",border:"border-red-500/20",iconColor:"text-red-500",iconBg:"bg-red-500/20",dot:"bg-red-500"};case"stock":return{bg:"bg-orange-500/10",border:"border-orange-500/20",iconColor:"text-orange-500",iconBg:"bg-orange-500/20",dot:"bg-orange-500"};case"sale":return{bg:"bg-[#57b385]/10",border:"border-[#57b385]/20",iconColor:"text-[#57b385]",iconBg:"bg-[#57b385]/20",dot:"bg-[#57b385]"}}};return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center bg-[#0c0c0c] border-b border-gray-800/50 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md z-20",children:[p.jsx("button",{onClick:t,className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white transition-all active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("h1",{className:"text-xl font-black",children:" "}),p.jsxs("span",{className:"text-[10px] text-[#57b385] font-bold",children:[" ",h.unread,"  "]})]}),p.jsx("button",{onClick:n,className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white transition-all active:scale-90",title:" ",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]}),p.jsxs("div",{className:"px-6 py-4 flex gap-2 overflow-x-auto custom-scrollbar no-scrollbar md:justify-center",children:[p.jsx(jh,{active:s==="all",label:"",count:e.length,onClick:()=>A("all"),color:"gray"}),p.jsx(jh,{active:s==="debt",label:"",count:h.debt,onClick:()=>A("debt"),color:"red"}),p.jsx(jh,{active:s==="stock",label:"",count:h.stock,onClick:()=>A("stock"),color:"orange"}),p.jsx(jh,{active:s==="sale",label:"",count:h.sale,onClick:()=>A("sale"),color:"green"})]}),p.jsx("div",{className:"px-6 pb-4 md:max-w-lg md:mx-auto",children:p.jsxs("button",{onClick:r,className:"w-full py-3 bg-[#1a1a1a] border border-gray-800 rounded-2xl text-xs font-bold text-gray-400 hover:text-white transition-all flex items-center justify-center gap-2 active:scale-[0.98]",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M20 6L9 17l-5-5"})}),"  "]})}),p.jsx("div",{className:"flex-1 overflow-y-auto px-6 space-y-4 pb-32 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:c.length>0?c.map(C=>{const B=x(C.type);return p.jsxs("div",{onClick:()=>i(C.id),className:`relative group p-5 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer h-full ${C.isRead?"bg-[#111111] border-gray-800/40":`${B.bg} ${B.border} shadow-lg shadow-black/20`}`,children:[!C.isRead&&p.jsx("div",{className:`absolute top-5 left-5 w-2 h-2 rounded-full ${B.dot} animate-pulse shadow-lg`}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:`w-12 h-12 min-w-[48px] rounded-2xl flex items-center justify-center ${B.iconBg} ${B.iconColor} shadow-inner`,children:[C.type==="debt"&&p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M12 2v20"}),p.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),C.type==="stock"&&p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),C.type==="sale"&&p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M20 6L9 17l-5-5"})})]}),p.jsxs("div",{className:"flex-1 text-right space-y-1",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:d(C.timestamp)}),p.jsx("h4",{className:`text-base font-black ${C.isRead?"text-gray-200":"text-white"}`,children:C.title})]}),p.jsx("p",{className:`text-xs leading-relaxed ${C.isRead?"text-gray-500":"text-gray-300 font-medium"}`,children:C.message})]})]})]},C.id)}):p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-600 space-y-4 col-span-full",children:[p.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full flex items-center justify-center opacity-20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),p.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]})}),p.jsx("p",{className:"font-bold text-sm",children:"   "})]})}),p.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[p.jsx(Gh,{onClick:t,icon:p.jsx(_G,{}),label:""}),p.jsx(Gh,{onClick:()=>{},icon:p.jsx(TG,{}),label:""}),p.jsx("div",{className:"relative -top-6",children:p.jsx("button",{className:"bg-[#1a1a1a] p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),p.jsx(Gh,{onClick:()=>{},icon:p.jsx(bG,{}),label:""}),p.jsx(Gh,{onClick:()=>{},icon:p.jsx(SG,{}),label:""})]})]})},jh=({active:t,label:e,count:r,onClick:n,color:i})=>{const s={red:t?"bg-red-500 text-white shadow-red-900/20":"text-red-500 bg-red-500/10 border-red-500/20",orange:t?"bg-orange-500 text-white shadow-orange-900/20":"text-orange-500 bg-orange-500/10 border-orange-500/20",green:t?"bg-[#57b385] text-white shadow-green-900/20":"text-[#57b385] bg-[#57b385]/10 border-[#57b385]/20",gray:t?"bg-white text-black shadow-white/10":"text-gray-400 bg-white/5 border-white/10"};return p.jsxs("button",{onClick:n,className:`px-5 py-2.5 rounded-2xl border text-xs font-black transition-all flex items-center gap-2 whitespace-nowrap active:scale-95 ${s[i]}`,children:[e,p.jsx("span",{className:`px-1.5 py-0.5 rounded-lg text-[10px] ${t?"bg-black/20 text-white":"bg-black/40"}`,children:r})]})},Gh=({icon:t,label:e,onClick:r})=>p.jsxs("button",{onClick:r,className:"flex flex-col items-center gap-1 text-gray-500 hover:text-gray-300 transition-all",children:[p.jsx("div",{className:"",children:t}),p.jsx("span",{className:"text-[10px] font-bold",children:e})]}),_G=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),TG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),bG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),SG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),IG=({currentUser:t,onNavigateToHome:e,onAddInvoice:r,onUpdateInvoice:n,onDeleteInvoice:i,onDeleteSupplier:s,invoices:A})=>{const[c,h]=Se.useState(!1),[d,x]=Se.useState(null),[C,B]=Se.useState(null),[F,D]=Se.useState(""),R=Se.useRef(null),k=Se.useRef(!1),[j,G]=Se.useState(null),[Q,ee]=Se.useState(!1),ne=Se.useRef(null),te=Se.useRef(null),[M,H]=Se.useState(null),[O,z]=Se.useState([]),[J,W]=Se.useState(null),[X,Me]=Se.useState([]),[ye,we]=Se.useState(null),ce=Se.useRef(null),He=Se.useRef(null),Be=Se.useRef(null),[tt,me]=Se.useState(null),[Z,de]=Se.useState(""),[fe,oe]=Se.useState(""),[xe,Ye]=Se.useState(""),[Fe,_e]=Se.useState(""),[Le,xt]=Se.useState(new Date().toISOString().split("T")[0]),[pe,St]=Se.useState(new Date().toISOString().split("T")[0]),kt=Se.useMemo(()=>{const at=new Map;return A.forEach(De=>{const Je=at.get(De.supplierName)||{name:De.supplierName,totalAmount:0,totalPaid:0,totalRemaining:0,lastInvoiceDate:De.date,invoiceCount:0,invoices:[]},Ee=De.amount-(De.paidAmount||0);Je.totalAmount+=De.amount,Je.totalPaid+=De.paidAmount||0,Je.totalRemaining+=Ee,Je.invoiceCount+=1,Je.invoices.push(De),new Date(De.date)>new Date(Je.lastInvoiceDate)&&(Je.lastInvoiceDate=De.date),at.set(De.supplierName,Je)}),Array.from(at.values()).filter(De=>De.name.includes(F)).sort((De,Je)=>new Date(Je.lastInvoiceDate).getTime()-new Date(De.lastInvoiceDate).getTime())},[A,F]),Lt=Se.useMemo(()=>C&&kt.find(at=>at.name===C)||null,[kt,C]),Ne=at=>{k.current=!1,R.current=setTimeout(()=>{k.current=!0,(t.role==="admin"||t.permissions.isManager)&&(G(at),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},Ue=()=>{R.current&&(clearTimeout(R.current),R.current=null)},gt=()=>{j&&(s(j.name),G(null))};Se.useEffect(()=>()=>{te.current&&te.current.getTracks().forEach(at=>at.stop())},[]);const Bt=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}ee(!0);try{const at=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});te.current=at,ne.current&&(ne.current.srcObject=at,ne.current.onloadedmetadata=()=>{var De;(De=ne.current)==null||De.play().catch(Je=>console.error("Play error",Je))})}catch(at){console.error("Camera access error:",at),ee(!1);let De="  .";(at.name==="NotAllowedError"||at.name==="PermissionDeniedError")&&(De="    ."),alert(De)}},ur=()=>{te.current&&(te.current.getTracks().forEach(at=>at.stop()),te.current=null),ne.current&&(ne.current.srcObject=null),ee(!1)},_t=()=>{if(ne.current){const at=document.createElement("canvas");at.width=ne.current.videoWidth,at.height=ne.current.videoHeight;const De=at.getContext("2d");if(De){De.drawImage(ne.current,0,0);const Je=at.toDataURL("image/jpeg",.9);H(Je),ur()}}};Se.useEffect(()=>{if(M&&He.current){ce.current&&ce.current.destroy();const at=new Cropper(He.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});ce.current=at}return()=>{ce.current&&(ce.current.destroy(),ce.current=null)}},[M]);const Bn=at=>{const De=at.target.files;if(De&&De.length>0){const Je=[];Array.from(De).forEach(Ee=>{Je.push(new Promise(st=>{const At=new FileReader;At.onloadend=()=>st(At.result),At.readAsDataURL(Ee)}))}),Promise.all(Je).then(Ee=>{H(Ee[0]),Me(Ee.slice(1))})}at.target.value=""},hn=()=>{if(ce.current){const De=ce.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);z(Je=>[...Je,De]),X.length>0?(H(X[0]),Me(Je=>Je.slice(1))):H(null)}},Ge=()=>{X.length>0?(H(X[0]),Me(at=>at.slice(1))):H(null)},It=at=>{z(De=>De.filter((Je,Ee)=>Ee!==at))},Tt=at=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(at),Jt=()=>{de(C||""),oe(""),Ye(""),_e(""),z([]),Me([]),St(new Date().toISOString().split("T")[0]),xt(new Date().toISOString().split("T")[0]),me(null)},fr=at=>{me(at.id),de(at.supplierName),oe(at.amount.toString()),Ye(at.paidAmount?at.paidAmount.toString():""),_e(""),xt(new Date().toISOString().split("T")[0]),St(at.date),at.images&&at.images.length>0?z(at.images):at.image?z([at.image]):z([]),h(!0)},pr=()=>{if(!Z||!fe)return;const at=parseFloat(xe)||0,De=parseFloat(Fe)||0,Je=at+De,Ee=A.find(Nt=>Nt.id===tt);let st=(Ee==null?void 0:Ee.payments)||[];!tt&&Je>0?st=[{id:`pay-${Date.now()}`,amount:Je,timestamp:new Date(pe).getTime(),method:"direct"}]:tt&&De>0&&(st=[...st,{id:`pay-${Date.now()}`,amount:De,timestamp:new Date(Le).getTime(),method:"direct"}]);const At={id:tt||`sup-${Date.now()}`,supplierName:Z,amount:parseFloat(fe),paidAmount:Je,date:pe,image:O.length>0?O[0]:void 0,images:O,createdAt:tt&&(Ee==null?void 0:Ee.createdAt)||Date.now(),payments:st};tt?n(At):r(At),h(!1),Jt()},Xt=kt.reduce((at,De)=>at+De.totalRemaining,0);return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),p.jsx("span",{className:"text-[10px] text-red-500 font-bold",children:"    "})]}),p.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),p.jsxs("div",{className:"px-6 py-4 space-y-4 md:grid md:grid-cols-2 md:gap-4 md:space-y-0",children:[p.jsxs("div",{className:"bg-red-500/5 rounded-2xl p-4 border border-red-500/20 flex justify-between items-center shadow-lg",children:[p.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"  "}),p.jsxs("span",{className:"text-xl font-black text-red-500",children:[Tt(Xt)," ."]})]}),p.jsxs("div",{className:"relative group",children:[p.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-10 pl-4 text-white focus:border-red-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:F,onChange:at=>D(at.target.value)}),p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:kt.length>0?kt.map(at=>p.jsxs("div",{onMouseDown:()=>Ne(at),onMouseUp:Ue,onMouseLeave:Ue,onTouchStart:()=>Ne(at),onTouchEnd:Ue,onClick:()=>!k.current&&B(at.name),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer h-full",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-red-500 group-hover:scale-105 transition-all shadow-inner",children:p.jsx("span",{className:"text-xl font-black",children:at.name.charAt(0)})}),p.jsxs("div",{className:"flex-1 text-right",children:[p.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1 line-clamp-1",children:at.name}),p.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",at.invoiceCount]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[p.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),p.jsx("div",{className:"text-sm font-black text-white",children:Tt(at.totalAmount)})]}),p.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),p.jsx("div",{className:`text-sm font-black ${at.totalRemaining>0?"text-red-500":"text-[#57b385]"}`,children:Tt(at.totalRemaining)})]})]}),p.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${Math.min(100,at.totalRemaining/Math.max(1,at.totalAmount)*100)}%`}})})]},at.name)):p.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),p.jsx("p",{children:"    "})]})}),j&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),p.jsxs("p",{className:"text-sm text-gray-400",children:["      ",p.jsx("span",{className:"text-white font-bold",children:j.name}),"   (",j.invoiceCount,") "]})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:gt,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),p.jsx("button",{onClick:()=>G(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),p.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-30",children:p.jsxs("button",{onClick:()=>{Jt(),h(!0)},className:"bg-red-600 hover:bg-red-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-red-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),p.jsx("span",{children:"  "})]})}),Lt&&p.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/95 md:backdrop-blur-sm flex flex-col items-center justify-center animate-in slide-in-from-bottom duration-400",children:p.jsxs("div",{className:"w-full h-full md:max-w-2xl md:h-[90vh] md:bg-[#161616] md:rounded-[3rem] md:border md:border-gray-800 flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#161616]",children:[p.jsx("button",{onClick:()=>B(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsx("h2",{className:"text-xl font-bold",children:"  "}),p.jsx("div",{className:"w-10"})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-red-500 shadow-xl",children:Lt.name.charAt(0)}),p.jsx("h3",{className:"text-2xl font-black",children:Lt.name}),p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsxs("span",{className:"text-[10px] bg-red-500/10 px-3 py-1 rounded-full border border-red-500/20 text-red-500 font-bold",children:[" : ",Tt(Lt.totalRemaining)," ."]}),p.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[Lt.invoiceCount," "]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:" "}),p.jsx("div",{className:"space-y-3 md:grid md:grid-cols-2 md:gap-3 md:space-y-0",children:Lt.invoices.sort((at,De)=>new Date(De.date).getTime()-new Date(at.date).getTime()).map(at=>{const De=at.amount-(at.paidAmount||0);return p.jsxs("div",{onClick:()=>x(at),className:"bg-[#111111] md:bg-black/40 p-4 rounded-2xl border border-gray-800 flex justify-between items-center active:scale-95 transition-all cursor-pointer group hover:border-gray-600",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-black/40 rounded-xl flex items-center justify-center text-gray-500 group-hover:text-red-500 transition-colors",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),p.jsx("path",{d:"M14 2v6h6"})]})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-white font-bold text-sm",children:at.date}),p.jsxs("div",{className:"text-[10px] text-gray-500",children:[" : ",Tt(at.paidAmount||0)]})]})]}),p.jsxs("div",{className:"text-left",children:[p.jsxs("div",{className:"text-white font-black text-sm",children:[Tt(at.amount)," ."]}),p.jsx("div",{className:`text-[10px] font-bold ${De>0?"text-red-500":"text-green-500"}`,children:De>0?`: ${Tt(De)}`:""})]})]},at.id)})})]})]}),p.jsx("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#161616] border-t border-gray-800 pb-10 md:pb-6",children:p.jsx("button",{onClick:()=>B(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "})})]})}),d&&p.jsx("div",{className:"fixed inset-0 z-[450] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[p.jsx("button",{onClick:()=>x(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),p.jsxs("div",{className:"text-center space-y-1",children:[p.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full mx-auto flex items-center justify-center text-red-500 border border-red-500/20 mb-2",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),p.jsx("path",{d:"M14 2v6h6"}),p.jsx("path",{d:"M16 13H8"}),p.jsx("path",{d:"M16 17H8"}),p.jsx("path",{d:"M10 9H8"})]})}),p.jsx("h3",{className:"text-2xl font-black text-white",children:d.supplierName}),p.jsx("p",{className:"text-sm text-gray-500 font-bold",children:d.date})]}),p.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/50 p-4 space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-400 text-xs font-bold",children:" "}),p.jsx("span",{className:"text-lg font-black text-white",children:Tt(d.amount)})]}),p.jsx("div",{className:"w-full h-px bg-gray-800"}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),p.jsx("span",{className:"text-sm font-black text-[#57b385]",children:Tt(d.paidAmount||0)})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),p.jsx("span",{className:`text-sm font-black ${d.amount-(d.paidAmount||0)>0?"text-red-500":"text-gray-500"}`,children:Tt(d.amount-(d.paidAmount||0))})]})]}),d.images&&d.images.length>0&&p.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.images.map((at,De)=>p.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800",onClick:()=>W(at),children:p.jsx("img",{src:at,alt:"Bon",className:"w-full h-full object-cover"})},De))}),p.jsxs("div",{className:"flex gap-3 pt-2",children:[p.jsx("button",{onClick:()=>fr(d),className:"flex-1 bg-orange-500 hover:bg-orange-400 text-white py-4 rounded-2xl font-bold shadow-lg active:scale-95 transition-all",children:""}),p.jsx("button",{onClick:()=>{i(d.id),x(null)},className:"flex-1 bg-[#1a1a1a] text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),Q&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[p.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[p.jsx("video",{ref:ne,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:p.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),p.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[p.jsx("button",{onClick:ur,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),p.jsx("button",{onClick:_t,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20",children:p.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),p.jsx("div",{className:"w-14"})]})]})}),c&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-xl font-black text-white mb-1",children:tt?" ":"  "}),p.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),O.length>0&&p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:O.map((at,De)=>p.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[p.jsx("img",{src:at,alt:`Img ${De}`,className:"w-full h-full object-cover"}),p.jsx("button",{onClick:()=>It(De),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},De))}),p.jsxs("div",{className:"flex gap-2 w-full",children:[p.jsxs("button",{onClick:Bt,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-2",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),p.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:""})]}),p.jsxs("div",{onClick:()=>{var at;return(at=Be.current)==null?void 0:at.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 flex items-center justify-center hover:border-red-500/50 transition-all cursor-pointer",children:[p.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),p.jsx("polyline",{points:"17 8 12 3 7 8"}),p.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:" "})]}),p.jsx("input",{ref:Be,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Bn})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none transition-all text-right font-bold md:text-sm",value:Z,onChange:at=>de(at.target.value),autoFocus:!0})]}),p.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-center font-black text-lg md:text-sm",value:fe,onChange:at=>oe(at.target.value)})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:tt?" ":" "}),p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] text-center font-black text-lg md:text-sm opacity-70",value:xe,onChange:at=>Ye(at.target.value),readOnly:!!tt})]})]}),tt&&p.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-300",children:[p.jsx("label",{className:"text-[10px] text-[#57b385] font-bold mr-2",children:"  ( )"}),p.jsx("input",{type:"number",className:"w-full bg-[#57b385]/10 border border-[#57b385]/50 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] outline-none text-center font-black text-lg md:text-sm placeholder:text-[#57b385]/30",value:Fe,onChange:at=>_e(at.target.value),placeholder:"0.00"})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"date",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-right md:text-sm",value:pe,onChange:at=>St(at.target.value)})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("button",{onClick:pr,disabled:!Z||!fe,className:"w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg bg-red-600 hover:bg-red-500 disabled:bg-gray-800 active:scale-95 transition-all",children:""}),p.jsx("button",{onClick:()=>{h(!1),Jt()},className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),M&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[p.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:p.jsx("img",{ref:He,src:M,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),p.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4",children:[p.jsx("button",{onClick:hn,className:"flex-1 bg-red-600 text-white py-4 rounded-2xl font-black text-lg active:scale-95",children:" "}),p.jsx("button",{onClick:Ge,className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]})}),J&&p.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>W(null),children:[p.jsx("img",{src:J,alt:"Full",className:"max-w-full max-h-full object-contain"}),p.jsx("button",{className:"absolute top-6 right-6 p-4 bg-white/10 rounded-full text-white",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},NG=({onNavigateToHome:t,requests:e,onAddRequest:r,onUpdateRequest:n,onDeleteRequest:i,settings:s})=>{var hn;const[A,c]=Se.useState(!1),[h,d]=Se.useState(null),[x,C]=Se.useState(""),[B,F]=Se.useState(null),[D,R]=Se.useState(!1),[k,j]=Se.useState([]),G=Se.useRef(null),Q=Se.useRef(null),[ee,ne]=Se.useState(""),[te,M]=Se.useState([]),[H,O]=Se.useState(null),[z,J]=Se.useState([]),[W,X]=Se.useState(null),[Me,ye]=Se.useState(null),[we,ce]=Se.useState(!1),[He,Be]=Se.useState(!1),tt=Se.useRef(null),me=Se.useRef(null),Z=Se.useRef(null),de=Se.useRef(null),fe=Se.useRef(null);Se.useEffect(()=>()=>{Q.current&&Q.current.getTracks().forEach(Ge=>Ge.stop())},[]);const oe=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}j([]),R(!0);try{const Ge=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});Q.current=Ge,G.current&&(G.current.srcObject=Ge,G.current.onloadedmetadata=()=>{var It;(It=G.current)==null||It.play().catch(Tt=>console.error("Play error",Tt))})}catch(Ge){console.error("Camera access error:",Ge),R(!1);let It="  .";(Ge.name==="NotAllowedError"||Ge.name==="PermissionDeniedError")&&(It="    .      ."),alert(It)}},xe=()=>{Q.current&&(Q.current.getTracks().forEach(Ge=>Ge.stop()),Q.current=null),G.current&&(G.current.srcObject=null),R(!1)},Ye=()=>{if(G.current){const Ge=document.createElement("canvas");Ge.width=G.current.videoWidth,Ge.height=G.current.videoHeight;const It=Ge.getContext("2d");if(It){It.drawImage(G.current,0,0);const Tt=Ge.toDataURL("image/jpeg",.9);j(Jt=>[...Jt,Tt]),navigator.vibrate&&navigator.vibrate(50)}}},Fe=()=>{k.length>0&&(O(k[0]),J(k.slice(1))),xe()};Se.useEffect(()=>{if(H&&fe.current){de.current&&de.current.destroy();const Ge=new Cropper(fe.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});de.current=Ge}return()=>{de.current&&(de.current.destroy(),de.current=null)}},[H]);const _e=Se.useMemo(()=>e.filter(Ge=>Ge.status==="pending").filter(Ge=>Ge.productName.toLowerCase().includes(x.toLowerCase())),[e,x]),Le=()=>{ne(""),M([]),J([]),F(null)},xt=()=>{Le(),c(!0)},pe=Ge=>{F(Ge.id),ne(Ge.productName),Ge.images&&Ge.images.length>0?M(Ge.images):Ge.image?M([Ge.image]):M([]),c(!0),d(null)},St=Ge=>{const It=Ge.target.files;if(It&&It.length>0){const Tt=[];Array.from(It).forEach(Jt=>{Tt.push(new Promise(fr=>{const pr=new FileReader;pr.onloadend=()=>fr(pr.result),pr.readAsDataURL(Jt)}))}),Promise.all(Tt).then(Jt=>{O(Jt[0]),J(Jt.slice(1))})}Ge.target.value=""},kt=()=>{if(de.current){const It=de.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);M(Tt=>[...Tt,It]),z.length>0?(O(z[0]),J(Tt=>Tt.slice(1))):O(null)}},Lt=()=>{z.length>0?(O(z[0]),J(Ge=>Ge.slice(1))):O(null)},Ne=Ge=>{M(It=>It.filter((Tt,Jt)=>Jt!==Ge))},Ue=()=>{var It;if(!ee)return;const Ge={id:B||`req-${Date.now()}`,productName:ee,image:te.length>0?te[0]:void 0,images:te,status:"pending",createdAt:B&&((It=e.find(Tt=>Tt.id===B))==null?void 0:It.createdAt)||Date.now()};B?n(Ge):r(Ge),c(!1),Le()},gt=()=>{Me&&(i(Me),ye(null),d(null))},Bt=async()=>{if(!(!h||!me.current)){ce(!0);try{(await rc(me.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async It=>{if(!It){ce(!1),alert("  ");return}try{const Tt=new ClipboardItem({"image/png":It});await navigator.clipboard.write([Tt]),window.open("https://wa.me/","_blank")}catch(Tt){console.error("Clipboard failed",Tt),alert("       ."),window.open("https://wa.me/","_blank")}finally{ce(!1)}},"image/png",1)}catch(Ge){console.error("Share error",Ge),ce(!1)}}},ur=async()=>{if(!(_e.length===0||!tt.current)){Be(!0);try{(await rc(tt.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async It=>{if(!It){Be(!1),alert("  ");return}try{const Tt=new ClipboardItem({"image/png":It});await navigator.clipboard.write([Tt]),window.open("https://wa.me/","_blank")}catch(Tt){console.error("Clipboard failed",Tt),window.open("https://wa.me/","_blank")}finally{Be(!1)}},"image/png",1)}catch(Ge){console.error("Share error",Ge),Be(!1)}}},_t=()=>{if(!h)return;const Ge=window.open("","_blank");if(!Ge){alert("   ");return}const It=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>  - ${h.productName}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 40px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 20px; }
            .content { margin-top: 30px; font-size: 24px; text-align: center; }
            .images { display: grid; grid-template-cols: 1fr 1fr; gap: 20px; margin-top: 30px; }
            img { width: 100%; border-radius: 12px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h1> </h1>
            <p>: ${new Date(h.createdAt).toLocaleDateString("ar-MA")}</p>
          </div>
          <div class="content">
            <strong> :</strong>
            <p>${h.productName}</p>
          </div>
          <div class="images">
            ${(h.images||[]).map(Tt=>`<img src="${Tt}" />`).join("")}
          </div>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;Ge.document.write(It),Ge.document.close()},Bn=()=>{if(_e.length===0)return;const Ge=window.open("","_blank");if(!Ge){alert("   ");return}const It=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title> </title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 30px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
            table { width: 100%; border-collapse: collapse; }
            th { background: #f4f4f4; padding: 12px; border: 1px solid #ddd; text-align: right; }
            td { padding: 12px; border: 1px solid #ddd; }
            .date { font-size: 12px; color: #666; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h1>  </h1>
            <p class="date"> : ${new Date().toLocaleDateString("ar-MA")}</p>
          </div>
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th> </th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              ${_e.map((Tt,Jt)=>`
                <tr>
                  <td>${Jt+1}</td>
                  <td><strong>${Tt.productName}</strong></td>
                  <td>${new Date(Tt.createdAt).toLocaleDateString("ar-MA")}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;Ge.document.write(It),Ge.document.close()};return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsxs("div",{ref:me,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),p.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),p.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",h?new Date(h.createdAt).toLocaleDateString("ar-MA"):""]})]}),p.jsxs("div",{style:{padding:"20px",backgroundColor:"#f9fafb",borderRadius:"12px",border:"1px solid #eee",textAlign:"center"},children:[p.jsx("p",{style:{fontSize:"16px",color:"#666",marginBottom:"5px"},children:"  :"}),p.jsx("h2",{style:{fontSize:"24px",fontWeight:"900",margin:0},children:h==null?void 0:h.productName})]})]}),p.jsxs("div",{ref:tt,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),p.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:"  (Demand)"}),p.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[p.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),p.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"14px",width:"30%"},children:""})]})}),p.jsx("tbody",{children:_e.map((Ge,It)=>p.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[p.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:Ge.productName}),p.jsx("td",{style:{padding:"12px 10px",fontSize:"14px",textAlign:"center"},children:" "})]},It))})]}),p.jsx("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:p.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:["  : ",_e.length]})})]}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),p.jsx("span",{className:"text-[10px] text-blue-500 font-bold",children:"    "})]}),p.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),p.jsx("div",{className:"px-6 py-4",children:p.jsxs("div",{className:"relative group md:max-w-2xl md:mx-auto",children:[p.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3.5 pr-10 pl-4 text-white focus:border-blue-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:x,onChange:Ge=>C(Ge.target.value)}),p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:max-w-2xl md:mx-auto w-full",children:_e.length>0?_e.map(Ge=>{var It;return p.jsxs("div",{onClick:()=>d(Ge),className:"bg-[#111111] rounded-[2rem] border border-gray-800/60 p-4 flex items-center gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer w-full hover:border-gray-600 shadow-lg shadow-black/20",children:[p.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-blue-500 overflow-hidden shadow-inner",children:Ge.image||Ge.images&&Ge.images.length>0?p.jsx("img",{src:((It=Ge.images)==null?void 0:It[0])||Ge.image,alt:"req",className:"w-full h-full object-cover"}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),p.jsx("path",{d:"M12 11h4"}),p.jsx("path",{d:"M12 16h4"}),p.jsx("path",{d:"M8 11h.01"}),p.jsx("path",{d:"M8 16h.01"})]})}),p.jsxs("div",{className:"flex-1 text-right",children:[p.jsx("h3",{className:"text-lg font-black text-white leading-tight line-clamp-1",children:Ge.productName}),p.jsxs("p",{className:"text-[10px] text-gray-500 font-bold mt-1",children:[" : ",new Date(Ge.createdAt).toLocaleDateString("ar-MA")]})]}),p.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-600 group-hover:text-blue-500 transition-colors",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]},Ge.id)}):p.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("path",{d:"M16 4h2a2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"})]}),p.jsx("p",{children:"   "})]})}),p.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[p.jsx("button",{onClick:Bn,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:"  ",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),p.jsx("button",{onClick:ur,disabled:He,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${He?"opacity-50 cursor-wait":""}`,title:"  ",children:He?p.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/80 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:p.jsxs("button",{onClick:xt,className:"pointer-events-auto bg-blue-600 hover:bg-blue-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-blue-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),p.jsx("span",{children:"  "})]})}),h&&p.jsx("div",{className:"fixed inset-0 z-[150] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[p.jsx("button",{onClick:()=>d(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),p.jsxs("div",{className:"text-center space-y-3",children:[p.jsx("div",{onClick:()=>{var It;const Ge=((It=h.images)==null?void 0:It[0])||h.image;Ge&&X(Ge)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] mx-auto flex items-center justify-center text-blue-500 border border-blue-500/20 shadow-2xl overflow-hidden cursor-pointer active:scale-95 transition-transform",children:h.image||h.images&&h.images.length>0?p.jsx("img",{src:((hn=h.images)==null?void 0:hn[0])||h.image,alt:"req",className:"w-full h-full object-cover"}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})})}),p.jsx("h3",{className:"text-2xl font-black text-white",children:h.productName}),p.jsx("p",{className:"text-sm text-gray-500 font-bold bg-black/40 px-4 py-1.5 rounded-full inline-block",children:new Date(h.createdAt).toLocaleDateString("ar-MA")})]}),h.images&&h.images.length>1&&p.jsx("div",{className:"grid grid-cols-3 gap-2",children:h.images.slice(1).map((Ge,It)=>p.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800 cursor-pointer active:scale-95 transition-transform",onClick:()=>X(Ge),children:p.jsx("img",{src:Ge,alt:"req",className:"w-full h-full object-cover"})},It))}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{onClick:Bt,disabled:we,className:`bg-[#25D366] text-white py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all ${we?"opacity-50":""}`,children:[we?p.jsx("svg",{className:"animate-spin",width:"20",height:"20",viewBox:"0 0 24 24",children:p.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),""]}),p.jsxs("button",{onClick:_t,className:"bg-white text-black py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),""]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx("button",{onClick:()=>pe(h),className:"bg-orange-500/10 text-orange-500 border border-orange-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-orange-500 hover:text-white transition-all",children:" "}),p.jsx("button",{onClick:()=>ye(h.id),className:"bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-red-500 hover:text-white transition-all",children:" "})]})]})]})}),A&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-xl font-black text-white mb-1",children:B?" ":" "}),p.jsx("p",{className:"text-xs text-gray-500",children:"      "})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  ()"}),te.length>0&&p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:te.map((Ge,It)=>p.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[p.jsx("img",{src:Ge,alt:`Img ${It}`,className:"w-full h-full object-cover"}),p.jsx("button",{onClick:()=>Ne(It),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},It))}),p.jsxs("div",{className:"flex gap-2 w-full",children:[p.jsxs("button",{onClick:oe,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-1 active:scale-95",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),p.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:""})]}),p.jsx("div",{onClick:()=>{var Ge;return(Ge=Z.current)==null?void 0:Ge.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 hover:border-blue-500 hover:bg-blue-500/5 transition-all cursor-pointer flex flex-col items-center justify-center relative overflow-hidden group active:scale-95",children:p.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500 group-hover:text-blue-500 transition-colors",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),p.jsx("polyline",{points:"17 8 12 3 7 8"}),p.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:" "})]})})]}),p.jsx("input",{ref:Z,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:St})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  "}),p.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-3 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold text-lg md:text-sm",value:ee,onChange:Ge=>ne(Ge.target.value),placeholder:"  ...",autoFocus:!0})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("button",{onClick:Ue,disabled:!ee,className:`w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${ee?"bg-blue-600 hover:bg-blue-500":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:B?" ":" "}),p.jsx("button",{onClick:()=>c(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),D&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[p.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[p.jsx("video",{ref:G,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),k.length>0&&p.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 bg-blue-600 px-4 py-1.5 rounded-full border-2 border-white shadow-lg animate-bounce",children:p.jsxs("span",{className:"text-sm font-black text-white",children:[k.length,"  "]})}),p.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:p.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),p.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[p.jsx("button",{onClick:xe,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),p.jsx("button",{onClick:Ye,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20 relative",children:p.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),k.length>0?p.jsx("button",{onClick:Fe,className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white active:scale-90 transition-all shadow-xl shadow-green-900/40",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})}):p.jsx("div",{className:"w-14"})]})]})}),H&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[p.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:p.jsx("img",{ref:fe,src:H,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),p.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 items-center",children:[p.jsx("div",{className:"flex-1",children:p.jsx("button",{onClick:kt,className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all",children:z.length>0?` (${z.length+1} )`:" "})}),p.jsx("div",{className:"flex-1",children:p.jsx("button",{onClick:Lt,className:"w-full bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:z.length>0?"":""})})]})]})}),Me&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:gt,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>ye(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),W&&p.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>X(null),children:[p.jsx("img",{src:W,alt:"Full",className:"max-w-full max-h-full object-contain shadow-2xl"}),p.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},FG=({onNavigateToHome:t,checks:e,onAddCheck:r,onUpdateCheck:n,onDeleteCheck:i,settings:s})=>{const[A,c]=Se.useState("primary"),[h,d]=Se.useState(!1),[x,C]=Se.useState(""),[B,F]=Se.useState(null),[D,R]=Se.useState(null),[k,j]=Se.useState(!1),G=Se.useRef(null),[Q,ee]=Se.useState(null),[ne,te]=Se.useState(new Date().toISOString().split("T")[0]),[M,H]=Se.useState(""),[O,z]=Se.useState(""),[J,W]=Se.useState(new Date().toISOString().split("T")[0]),[X,Me]=Se.useState(""),ye=new Date().toISOString().split("T")[0],we=Se.useMemo(()=>A==="primary"?{name:"  1",accentColor:"text-purple-500",bgColor:"bg-purple-600",btnBg:"bg-purple-600 hover:bg-purple-500",borderColor:"focus:border-purple-500",shadow:"shadow-purple-900/30",lightBg:"bg-purple-500/10",lightText:"text-purple-400",borderLight:"border-purple-500/20"}:{name:"  2",accentColor:"text-blue-500",bgColor:"bg-blue-600",btnBg:"bg-blue-600 hover:bg-blue-500",borderColor:"focus:border-blue-500",shadow:"shadow-blue-900/30",lightBg:"bg-blue-500/10",lightText:"text-blue-400",borderLight:"border-blue-500/20"},[A]),ce=Se.useMemo(()=>e.filter(Fe=>{if((Fe.checkbookType||"primary")!==A||!(Fe.name.includes(x)||Fe.amount.toString().includes(x)||Fe.serialNumber&&Fe.serialNumber.includes(x)))return!1;if(D!==null)try{if(parseInt(Fe.paymentDate.split("-")[1],10)!==D)return!1}catch{return!1}return!0}),[e,x,D,A]),He=Se.useMemo(()=>ce.reduce((Fe,_e)=>_e.paymentDate<ye?Fe:Fe+_e.amount,0),[ce,ye]),Be=()=>{const Fe=new Date;if(te(Fe.toISOString().split("T")[0]),H(""),z(""),D!==null){const _e=Fe.getFullYear(),Le=new Date(_e,D,0).getDate(),xt=Math.min(Fe.getDate(),Le),pe=D.toString().padStart(2,"0"),St=xt.toString().padStart(2,"0");W(`${_e}-${pe}-${St}`)}else W(Fe.toISOString().split("T")[0]);Me(""),F(null)},tt=()=>{Be(),d(!0)},me=Fe=>{F(Fe.id),te(Fe.creationDate),H(Fe.name),z(Fe.amount.toString()),W(Fe.paymentDate),Me(Fe.serialNumber||""),d(!0)},Z=()=>{var _e;if(!M||!O)return;const Fe={id:B||`chk-${Date.now()}`,creationDate:ne,name:M,amount:parseFloat(O),paymentDate:J,serialNumber:X,checkbookType:A,createdAt:B&&((_e=e.find(Le=>Le.id===B))==null?void 0:_e.createdAt)||Date.now()};B?n(Fe):r(Fe),d(!1),Be()},de=()=>{Q&&(i(Q),ee(null),d(!1),Be())},fe=()=>{if(ce.length===0){alert("   ");return}const Fe=window.open("","_blank");if(!Fe){alert("   ");return}const _e=D?` ${D}`:" ",Le=A==="primary"?"  1":"  2",xt=`
        <!DOCTYPE html>
        <html lang="ar" dir="rtl">
        <head>
            <title> </title>
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
                body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
                .header { text-align: center; margin-bottom: 20px; border-bottom: 2px dashed #000; padding-bottom: 10px; }
                h2 { margin: 0; font-size: 20px; }
                p { margin: 5px 0 0; color: #555; font-size: 14px; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th { border-bottom: 2px solid #000; padding: 8px; font-weight: 800; font-size: 14px; }
                td { padding: 8px; border-bottom: 1px solid #ddd; font-size: 14px; }
                .amount-col { text-align: left; font-weight: bold; }
                .status-paid { color: green; font-size: 12px; }
                .total { margin-top: 30px; border-top: 2px solid #000; padding-top: 15px; font-weight: 900; font-size: 18px; display: flex; justify-content: space-between; }
                @media print {
                   @page { margin: 0; size: A4; }
                   body { padding: 1cm; }
                }
            </style>
        </head>
        <body>
            <div class="header">
                <h3>${s.businessName}</h3>
                <h2>   - ${Le}</h2>
                <p>: ${_e}</p>
                <p> : ${new Date().toLocaleDateString("ar-MA")}</p>
            </div>
            <table>
                <thead>
                    <tr>
                        <th style="text-align: right;"> </th>
                        <th style="text-align: center;"></th>
                        <th style="text-align: left;"> (.)</th>
                    </tr>
                </thead>
                <tbody>
                    ${ce.map(pe=>{const St=pe.paymentDate<ye;return`
                        <tr>
                            <td>${pe.name} ${St?'<span class="status-paid">( )</span>':""}</td>
                            <td style="text-align: center;">${pe.paymentDate}</td>
                            <td class="amount-col">${pe.amount.toFixed(2)}</td>
                        </tr>
                    `}).join("")}
                </tbody>
            </table>
            <div class="total">
                <span> ( ):</span>
                <span>${He.toFixed(2)} .</span>
            </div>
            <script>
                window.onload = function() { window.print(); setTimeout(function(){ window.close() }, 500); }
            <\/script>
        </body>
        </html>
    `;Fe.document.write(xt),Fe.document.close()},oe=async()=>{if(ce.length!==0&&G.current){j(!0);try{(await rc(G.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async _e=>{if(!_e){alert("  "),j(!1);return}try{const Le=new ClipboardItem({"image/png":_e});await navigator.clipboard.write([Le]),window.open("https://wa.me/","_blank")}catch(Le){console.error("Clipboard failed",Le),alert("  .      ."),window.open("https://wa.me/","_blank")}finally{j(!1)}},"image/png",1)}catch(Fe){console.error("Error generating report image",Fe),j(!1),alert("    ")}}},xe=D?` ${D}`:" ",Ye=A==="primary"?"  1":"  2";return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsxs("div",{ref:G,style:{position:"fixed",top:0,left:-9999,width:"600px",padding:"40px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"3px solid #000",paddingBottom:"20px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"22px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),p.jsxs("h1",{style:{fontSize:"28px",fontWeight:"900",margin:0,color:"#000"},children:["  (",Ye,")"]}),p.jsxs("p",{style:{fontSize:"18px",color:"#555",marginTop:"10px"},children:[": ",xe]}),p.jsxs("p",{style:{fontSize:"14px",color:"#777"},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"30px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[p.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),p.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"center",fontSize:"16px"},children:""}),p.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:""})]})}),p.jsx("tbody",{children:ce.map((Fe,_e)=>{const Le=Fe.paymentDate<ye;return p.jsxs("tr",{style:{borderBottom:"1px solid #ddd",backgroundColor:Le?"#f0fff4":"transparent"},children:[p.jsxs("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"bold"},children:[Fe.name,Le&&p.jsx("span",{style:{color:"green",fontSize:"12px",marginRight:"5px"},children:"( )"})]}),p.jsx("td",{style:{padding:"12px",fontSize:"14px",textAlign:"center",fontFamily:"monospace"},children:Fe.paymentDate}),p.jsx("td",{style:{padding:"12px",fontSize:"16px",textAlign:"left",fontWeight:"900"},children:Fe.amount.toFixed(2)})]},_e)})})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#000",color:"white",padding:"15px 20px",borderRadius:"12px"},children:[p.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" ( ):"}),p.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[He.toFixed(2)," ."]})]})]}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),p.jsxs("span",{className:`text-[10px] ${we.accentColor} font-bold transition-colors`,children:[we.name," -  "]})]}),p.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),p.jsx("div",{className:"px-6 pb-4 md:pt-4",children:p.jsxs("div",{className:"flex bg-[#1a1a1a] p-1 rounded-2xl border border-gray-800 relative max-w-lg md:mx-auto",children:[p.jsx("button",{onClick:()=>c("primary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${A==="primary"?"bg-purple-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  1"}),p.jsx("button",{onClick:()=>c("secondary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${A==="secondary"?"bg-blue-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  2"})]})}),p.jsx("div",{className:"px-6 pb-4",children:p.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-4 border border-gray-800 flex justify-between items-center shadow-lg transition-all md:max-w-lg md:mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`w-8 h-8 ${we.lightBg} rounded-lg flex items-center justify-center ${we.accentColor} transition-colors`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M12 2v20"}),p.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("span",{className:"text-gray-400 text-xs font-bold",children:[" ",we.name]}),p.jsx("span",{className:"text-[9px] text-gray-600",children:"(   )"})]})]}),p.jsxs("span",{className:"text-xl font-black text-white tracking-tight",children:[He.toFixed(2)," ",p.jsx("span",{className:`text-xs ${we.accentColor}`,children:"."})]})]})}),p.jsxs("div",{className:"px-6 pb-4 md:grid md:grid-cols-2 md:gap-4 md:items-start",children:[p.jsxs("div",{className:"relative group",children:[p.jsx("input",{type:"text",placeholder:"    ...",className:`w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white ${we.borderColor} outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm`,value:x,onChange:Fe=>C(Fe.target.value)}),p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})})]}),p.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2 overflow-x-auto custom-scrollbar pb-2 no-scrollbar",children:[p.jsx("button",{onClick:()=>R(null),className:`px-4 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap flex-shrink-0 ${D===null?`${we.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:""}),Array.from({length:12},(Fe,_e)=>_e+1).map(Fe=>p.jsx("button",{onClick:()=>R(Fe===D?null:Fe),className:`w-10 h-10 min-w-[40px] rounded-xl text-xs font-bold flex items-center justify-center transition-all flex-shrink-0 ${D===Fe?`${we.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:Fe},Fe))]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:ce.length>0?ce.map(Fe=>{const _e=Fe.paymentDate<ye;return p.jsxs("div",{onClick:()=>me(Fe),className:`bg-[#111111] rounded-2xl border p-4 flex flex-col gap-2 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full ${_e?"border-green-500/30 bg-green-900/5":"border-gray-800/60"}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-12 h-12 rounded-xl border flex items-center justify-center ${_e?"bg-green-500/10 border-green-500/20 text-green-500":`bg-[#1a1a1a] border-gray-800 ${we.accentColor}`}`,children:_e?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M20 6 9 17l-5-5"})}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),p.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h3",{className:`font-bold text-base leading-tight mb-0.5 line-clamp-1 ${_e?"text-green-100":"text-white"}`,children:Fe.name}),Fe.serialNumber&&p.jsxs("span",{className:`text-[10px] ${we.lightBg} ${we.lightText} px-1.5 py-0.5 rounded border ${we.borderLight} font-mono`,children:["#",Fe.serialNumber]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-[10px] text-gray-500 block",children:[" : ",Fe.paymentDate]}),_e&&p.jsx("span",{className:"text-[8px] bg-green-500 text-white px-1.5 py-0.5 rounded-full font-bold",children:" "})]})]})]}),p.jsxs("div",{className:"text-left",children:[p.jsx("span",{className:`text-lg font-black ${_e?"text-green-500":"text-white"}`,children:Fe.amount.toFixed(2)}),p.jsx("span",{className:"text-[10px] text-gray-500 block font-bold",children:"."})]})]}),p.jsx("div",{className:"w-full h-px bg-gray-800/50 my-1 mt-auto"}),p.jsx("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:p.jsxs("span",{children:[" : ",Fe.creationDate]})})]},Fe.id)}):p.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),p.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),p.jsx("p",{children:"   "})]})}),p.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[p.jsx("button",{onClick:fe,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:" ",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),p.jsx("button",{onClick:oe,disabled:k,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${k?"opacity-50 cursor-wait":""}`,title:"   ",children:k?p.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:p.jsxs("button",{onClick:tt,className:`pointer-events-auto ${we.btnBg} text-white px-8 py-4 rounded-full font-black ${we.shadow} shadow-2xl active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),p.jsx("span",{children:" "})]})}),h&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-xl font-black text-white mb-1",children:B?" ":" "}),p.jsx("p",{className:`text-xs ${we.accentColor} font-bold`,children:we.name})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${we.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:ne,onChange:Fe=>te(Fe.target.value)})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${we.borderColor} outline-none transition-all text-right font-bold font-mono md:text-sm`,value:X,onChange:Fe=>Me(Fe.target.value),placeholder:"  "})]})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" ()"}),p.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${we.borderColor} outline-none transition-all text-right font-bold text-lg md:text-sm`,value:M,onChange:Fe=>H(Fe.target.value),placeholder:"  ...",autoFocus:!0})]}),p.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),p.jsx("input",{type:"number",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${we.borderColor} outline-none transition-all text-center font-black text-lg md:text-sm`,value:O,onChange:Fe=>z(Fe.target.value),placeholder:"0.00"})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${we.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:J,onChange:Fe=>W(Fe.target.value)})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("div",{className:"flex gap-2",children:p.jsx("button",{onClick:Z,disabled:!M||!O,className:`flex-1 py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!M||!O?"bg-gray-800 opacity-50":`${we.btnBg}`}`,children:""})}),B&&p.jsx("button",{onClick:()=>ee(B),className:"w-full bg-red-500/10 text-red-500 py-3 md:py-2.5 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),p.jsx("button",{onClick:()=>d(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),Q&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:de,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>ee(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},RG=({onNavigateToHome:t,orders:e,onAddOrder:r,onUpdateOrder:n,onDeleteOrder:i,settings:s})=>{const[A,c]=Se.useState(!1),[h,d]=Se.useState(""),[x,C]=Se.useState(null),[B,F]=Se.useState(null),[D,R]=Se.useState([]),[k,j]=Se.useState(""),[G,Q]=Se.useState(""),[ee,ne]=Se.useState(!1),te=Se.useRef(null),M=Se.useMemo(()=>e.filter(ce=>{const He=ce.items.some(tt=>tt.name.includes(h)),Be=ce.productName&&ce.productName.includes(h);return He||Be}).sort((ce,He)=>He.createdAt-ce.createdAt),[e,h]),H=()=>{R([]),j(""),Q(""),C(null)},O=()=>{H(),c(!0)},z=ce=>{C(ce.id),j(""),Q(""),ce.items&&ce.items.length>0?R([...ce.items]):ce.productName?R([{id:`legacy-${Date.now()}`,name:ce.productName,quantity:ce.quantity||1}]):R([]),c(!0)},J=()=>{if(!k||!G)return;const ce={id:`item-${Date.now()}-${Math.random()}`,name:k,quantity:parseFloat(G)};R(He=>[...He,ce]),j(""),Q("")},W=ce=>{R(He=>He.filter(Be=>Be.id!==ce))},X=()=>{var He;if(D.length===0)return;const ce={id:x||`ord-${Date.now()}`,items:D,productName:void 0,quantity:void 0,status:"pending",createdAt:x&&((He=e.find(Be=>Be.id===x))==null?void 0:He.createdAt)||Date.now()};x?n(ce):r(ce),c(!1),H()},Me=()=>{B&&(i(B),F(null),c(!1),H())},ye=()=>{if(D.length===0)return;const ce=window.open("","_blank");if(!ce){alert("   ");return}const He=s.specialOrderLabel||" ",Be=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>${He}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
            .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
            h2 { margin: 0; }
            ul { list-style: none; padding: 0; }
            li { padding: 10px 0; border-bottom: 1px dashed #ccc; display: flex; justify-content: space-between; font-size: 18px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h2>${He}</h2>
            <p>: ${new Date().toLocaleDateString("ar-MA")}</p>
          </div>
          <ul>
            ${D.map(tt=>`<li><span>${tt.name}</span><span>${tt.quantity}</span></li>`).join("")}
          </ul>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;ce.document.write(Be),ce.document.close()},we=async()=>{if(!(D.length===0||!te.current)){ne(!0);try{(await rc(te.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async He=>{if(!He){ne(!1),alert("  ");return}try{const Be=new ClipboardItem({"image/png":He});await navigator.clipboard.write([Be]),window.open("https://wa.me/","_blank")}catch(Be){console.error("Clipboard write failed:",Be),alert("   .    ."),window.open("https://wa.me/","_blank")}finally{ne(!1)}},"image/png",1)}catch(ce){console.error("Error generating image:",ce),ne(!1)}}};return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[A&&p.jsxs("div",{ref:te,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),p.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:s.specialOrderLabel||" "}),p.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric"})]})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[p.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),p.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:""})]})}),p.jsx("tbody",{children:D.map((ce,He)=>p.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[p.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:ce.name}),p.jsx("td",{style:{padding:"12px 10px",fontSize:"20px",fontWeight:"900",textAlign:"center"},children:ce.quantity})]},He))})]}),p.jsxs("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:[p.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:[" : ",D.length]}),p.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:"    MAMA"})]})]}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),p.jsx("span",{className:"text-[10px] text-rose-500 font-bold",children:"   "})]}),p.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),p.jsx("div",{className:"px-6 py-4",children:p.jsxs("div",{className:"relative group",children:[p.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white focus:border-rose-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:h,onChange:ce=>d(ce.target.value)}),p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:M.length>0?M.map(ce=>p.jsxs("div",{onClick:()=>z(ce),className:"bg-[#111111] rounded-2xl border border-gray-800/60 p-4 flex justify-between items-start gap-3 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full hover:border-gray-600",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-12 h-12 min-w-[48px] bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-rose-500 mt-1",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h3",{className:"font-black text-sm text-gray-400 mb-1",children:new Date(ce.createdAt).toLocaleDateString("ar-MA")}),p.jsxs("div",{className:"space-y-1",children:[ce.items.slice(0,2).map((He,Be)=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-white font-bold text-sm",children:He.name}),p.jsxs("span",{className:"text-[10px] text-rose-500 bg-rose-500/10 px-1.5 py-0.5 rounded font-mono",children:["x",He.quantity]})]},Be)),ce.items.length>2&&p.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",ce.items.length-2,"  ..."]})]})]})]}),p.jsx("div",{className:"bg-[#1a1a1a] px-2 py-1 rounded-lg border border-gray-800",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-500",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]},ce.id)):p.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:p.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),p.jsx("p",{children:"    "})]})}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:p.jsxs("button",{onClick:O,className:"pointer-events-auto bg-rose-600 hover:bg-rose-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-rose-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),p.jsx("span",{children:"  "})]})}),A&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"text-center flex-shrink-0",children:[p.jsx("h3",{className:"text-xl font-black text-white mb-1",children:x?" ":"  "}),p.jsx("p",{className:"text-xs text-rose-500 font-bold",children:"   "})]}),p.jsxs("div",{className:"flex gap-2 items-center flex-shrink-0",children:[p.jsx("div",{className:"flex-1 space-y-1",children:p.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-3 text-white focus:border-rose-500 outline-none transition-all text-right font-bold text-sm",value:k,onChange:ce=>j(ce.target.value),placeholder:" ...",onKeyDown:ce=>ce.key==="Enter"&&J()})}),p.jsx("div",{className:"w-20 space-y-1",children:p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-1 text-white focus:border-rose-500 outline-none transition-all text-center font-black text-sm",value:G,onChange:ce=>Q(ce.target.value),placeholder:"",onKeyDown:ce=>ce.key==="Enter"&&J()})}),p.jsx("button",{onClick:J,disabled:!k||!G,className:`w-12 h-[46px] rounded-xl flex items-center justify-center text-white transition-all active:scale-90 ${!k||!G?"bg-gray-800 text-gray-500":"bg-rose-600 hover:bg-rose-500 shadow-lg"}`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] rounded-2xl border border-gray-800 p-3 space-y-2 min-h-[150px]",children:D.length>0?D.map(ce=>p.jsxs("div",{className:"flex justify-between items-center bg-[#1a1a1a] p-3 rounded-xl border border-gray-800/50",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:()=>W(ce.id),className:"text-red-500 hover:text-red-400 p-1 active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),p.jsx("span",{className:"text-white font-bold text-sm",children:ce.name})]}),p.jsx("span",{className:"text-rose-500 bg-rose-500/10 px-2 py-1 rounded font-mono font-bold text-xs",children:ce.quantity})]},ce.id)):p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 text-xs gap-2",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),p.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),p.jsx("p",{children:"  "})]})}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2 flex-shrink-0",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:X,disabled:D.length===0,className:`flex-[2] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${D.length===0?"bg-gray-800 opacity-50":"bg-rose-600 hover:bg-rose-500"}`,children:""}),p.jsx("button",{onClick:ye,disabled:D.length===0,className:"w-14 bg-[#1a1a1a] hover:bg-white/10 text-white rounded-2xl flex items-center justify-center border border-gray-800 active:scale-90 transition-all disabled:opacity-50",title:"",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),p.jsx("button",{onClick:we,disabled:D.length===0||ee,className:`w-14 bg-[#25D366] hover:bg-[#20b858] text-white rounded-2xl flex items-center justify-center border border-[#25D366]/20 active:scale-90 transition-all disabled:opacity-50 ${ee?"opacity-50 cursor-wait":""}`,title:"  ",children:ee?p.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),p.jsxs("div",{className:"flex gap-2",children:[x&&p.jsx("button",{onClick:()=>F(x),className:"flex-1 bg-red-500/10 text-red-500 py-3 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),p.jsx("button",{onClick:()=>c(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})]})}),B&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:Me,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>F(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})};var DG={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let UG,kG;function MG(){return{geminiUrl:UG,vertexUrl:kG}}function OG(t,e,r,n){var i,s;if(!(t!=null&&t.baseUrl)){const A=MG();return e?(i=A.vertexUrl)!==null&&i!==void 0?i:r:(s=A.geminiUrl)!==null&&s!==void 0?s:n}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hA{}function Ft(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function T(t,e,r){for(let s=0;s<e.length-1;s++){const A=e[s];if(A.endsWith("[]")){const c=A.slice(0,-2);if(!(c in t))if(Array.isArray(r))t[c]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${A}`);if(Array.isArray(t[c])){const h=t[c];if(Array.isArray(r))for(let d=0;d<h.length;d++){const x=h[d];T(x,e.slice(s+1),r[d])}else for(const d of h)T(d,e.slice(s+1),r)}return}else if(A.endsWith("[0]")){const c=A.slice(0,-3);c in t||(t[c]=[{}]);const h=t[c];T(h[0],e.slice(s+1),r);return}(!t[A]||typeof t[A]!="object")&&(t[A]={}),t=t[A]}const n=e[e.length-1],i=t[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(t,r):t[n]=r}function E(t,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return r;const i=e[n];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const A=t[s];return Array.isArray(A)?A.map(c=>E(c,e.slice(n+1),r)):r}else return r}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return r;throw n}}function LG(t,e){for(const[r,n]of Object.entries(e)){const i=r.split("."),s=n.split("."),A=new Set;let c=-1;for(let h=0;h<i.length;h++)if(i[h]==="*"){c=h;break}if(c!==-1&&s.length>c)for(let h=c;h<s.length;h++){const d=s[h];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&A.add(d)}u2(t,i,s,0,A)}}function u2(t,e,r,n,i){if(n>=e.length||typeof t!="object"||t===null)return;const s=e[n];if(s.endsWith("[]")){const A=s.slice(0,-2),c=t;if(A in c&&Array.isArray(c[A]))for(const h of c[A])u2(h,e,r,n+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const A=t,c=Object.keys(A).filter(d=>!d.startsWith("_")&&!i.has(d)),h={};for(const d of c)h[d]=A[d];for(const[d,x]of Object.entries(h)){const C=[];for(const B of r.slice(n))B==="*"?C.push(d):C.push(B);T(A,C,x)}for(const d of c)delete A[d]}}else{const A=t;s in A&&u2(A[s],e,r,n+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fw(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QG(t){const e={},r=E(t,["operationName"]);r!=null&&T(e,["operationName"],r);const n=E(t,["resourceName"]);return n!=null&&T(e,["_url","resourceName"],n),e}function PG(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);s!=null&&T(e,["error"],s);const A=E(t,["response","generateVideoResponse"]);return A!=null&&T(e,["response"],VG(A)),e}function HG(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);s!=null&&T(e,["error"],s);const A=E(t,["response"]);return A!=null&&T(e,["response"],jG(A)),e}function VG(t){const e={},r=E(t,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(A=>GG(A))),T(e,["generatedVideos"],s)}const n=E(t,["raiMediaFilteredCount"]);n!=null&&T(e,["raiMediaFilteredCount"],n);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&T(e,["raiMediaFilteredReasons"],i),e}function jG(t){const e={},r=E(t,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(A=>KG(A))),T(e,["generatedVideos"],s)}const n=E(t,["raiMediaFilteredCount"]);n!=null&&T(e,["raiMediaFilteredCount"],n);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&T(e,["raiMediaFilteredReasons"],i),e}function GG(t){const e={},r=E(t,["video"]);return r!=null&&T(e,["video"],JG(r)),e}function KG(t){const e={},r=E(t,["_self"]);return r!=null&&T(e,["video"],ZG(r)),e}function zG(t){const e={},r=E(t,["operationName"]);return r!=null&&T(e,["_url","operationName"],r),e}function WG(t){const e={},r=E(t,["operationName"]);return r!=null&&T(e,["_url","operationName"],r),e}function XG(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);s!=null&&T(e,["error"],s);const A=E(t,["response"]);return A!=null&&T(e,["response"],qG(A)),e}function qG(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["parent"]);n!=null&&T(e,["parent"],n);const i=E(t,["documentName"]);return i!=null&&T(e,["documentName"],i),e}function b3(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);s!=null&&T(e,["error"],s);const A=E(t,["response"]);return A!=null&&T(e,["response"],YG(A)),e}function YG(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["parent"]);n!=null&&T(e,["parent"],n);const i=E(t,["documentName"]);return i!=null&&T(e,["documentName"],i),e}function JG(t){const e={},r=E(t,["uri"]);r!=null&&T(e,["uri"],r);const n=E(t,["encodedVideo"]);n!=null&&T(e,["videoBytes"],Fw(n));const i=E(t,["encoding"]);return i!=null&&T(e,["mimeType"],i),e}function ZG(t){const e={},r=E(t,["gcsUri"]);r!=null&&T(e,["uri"],r);const n=E(t,["bytesBase64Encoded"]);n!=null&&T(e,["videoBytes"],Fw(n));const i=E(t,["mimeType"]);return i!=null&&T(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $_;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($_||($_={}));var eT;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(eT||(eT={}));var tT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(tT||(tT={}));var el;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(el||(el={}));var rT;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(rT||(rT={}));var nT;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(nT||(nT={}));var iT;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(iT||(iT={}));var sT;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(sT||(sT={}));var aT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(aT||(aT={}));var oT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(oT||(oT={}));var AT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(AT||(AT={}));var lT;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(lT||(lT={}));var cT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(cT||(cT={}));var uT;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(uT||(uT={}));var fT;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(fT||(fT={}));var dT;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(dT||(dT={}));var hT;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(hT||(hT={}));var gT;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gT||(gT={}));var pT;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(pT||(pT={}));var mT;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(mT||(mT={}));var xT;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(xT||(xT={}));var M1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(M1||(M1={}));var wT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wT||(wT={}));var vT;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(vT||(vT={}));var yT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(yT||(yT={}));var f2;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(f2||(f2={}));var CT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(CT||(CT={}));var ET;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ET||(ET={}));var d2;(function(t){t.COLLECTION="COLLECTION"})(d2||(d2={}));var BT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(BT||(BT={}));var _T;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_T||(_T={}));var TT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(TT||(TT={}));var bT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(bT||(bT={}));var ST;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ST||(ST={}));var IT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(IT||(IT={}));var NT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(NT||(NT={}));var FT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(FT||(FT={}));var RT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(RT||(RT={}));var DT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(DT||(DT={}));var UT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(UT||(UT={}));var kT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(kT||(kT={}));var MT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(MT||(MT={}));var OT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(OT||(OT={}));var LT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(LT||(LT={}));var QT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(QT||(QT={}));var PT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(PT||(PT={}));var HT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(HT||(HT={}));var VT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(VT||(VT={}));var jT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(jT||(jT={}));var GT;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(GT||(GT={}));var KT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(KT||(KT={}));var zT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zT||(zT={}));var WT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(WT||(WT={}));var XT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(XT||(XT={}));var qT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(qT||(qT={}));var YT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(YT||(YT={}));var gu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(gu||(gu={}));class h2{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class F0{get text(){var e,r,n,i,s,A,c,h;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",x=!1;const C=[];for(const B of(h=(c=(A=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[F,D]of Object.entries(B))F!=="text"&&F!=="thought"&&F!=="thoughtSignature"&&(D!==null||D!==void 0)&&C.push(F);if(typeof B.text=="string"){if(typeof B.thought=="boolean"&&B.thought)continue;x=!0,d+=B.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?d:void 0}get data(){var e,r,n,i,s,A,c,h;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const x=[];for(const C of(h=(c=(A=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[B,F]of Object.entries(C))B!=="inlineData"&&(F!==null||F!==void 0)&&x.push(B);C.inlineData&&typeof C.inlineData.data=="string"&&(d+=atob(C.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,r,n,i,s,A,c,h;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(h=(c=(A=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,r,n,i,s,A,c,h,d;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(h=(c=(A=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((x==null?void 0:x.length)!==0)return(d=x==null?void 0:x[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,r,n,i,s,A,c,h,d;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(h=(c=(A=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((x==null?void 0:x.length)!==0)return(d=x==null?void 0:x[0])===null||d===void 0?void 0:d.output}}class JT{}class ZT{}class $G{}class eK{}class tK{}class rK{}class $T{}class eb{}class tb{}class nK{}class O1{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new O1;let i;const s=e;return r?i=HG(s):i=PG(s),Object.assign(n,i),n}}class rb{}class nb{}class ib{}class sb{}class iK{}class sK{}class aK{}class Rw{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Rw,s=XG(e);return Object.assign(n,s),n}}class oK{}class AK{}class lK{}class cK{}class ab{}class uK{get text(){var e,r,n;let i="",s=!1;const A=[];for(const c of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[h,d]of Object.entries(c))h!=="text"&&h!=="thought"&&d!==null&&A.push(h);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,i+=c.text}}return A.length>0&&console.warn(`there are non-text parts ${A} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,r,n;let i="";const s=[];for(const A of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[c,h]of Object.entries(A))c!=="inlineData"&&h!==null&&s.push(c);A.inlineData&&typeof A.inlineData.data=="string"&&(i+=atob(A.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class fK{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Dw{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Dw,s=b3(e);return Object.assign(n,s),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function S3(t,e){const r=jr(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function I3(t){return Array.isArray(t)?t.map(e=>L1(e)):[L1(t)]}function L1(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function N3(t){const e=L1(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function F3(t){const e=L1(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ob(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function R3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ob(e)):[ob(t)]}function g2(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ab(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function lb(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ls(t){if(t==null)throw new Error("ContentUnion is required");return g2(t)?t:{role:"user",parts:R3(t)}}function Uw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=ls(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=ls(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>ls(r)):[ls(e)]}function ka(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ab(t)||lb(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ls(t)]}const e=[],r=[],n=g2(t[0]);for(const i of t){const s=g2(i);if(s!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(Ab(i)||lb(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||e.push({role:"user",parts:R3(r)}),e}function dK(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.values(el).includes(r[0].toUpperCase())?r[0].toUpperCase():el.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.values(el).includes(n.toUpperCase())?n.toUpperCase():el.TYPE_UNSPECIFIED})}}function yu(t){const e={},r=["items"],n=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&dK(t.type,e);for(const[A,c]of Object.entries(t))if(c!=null)if(A=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(el).includes(c.toUpperCase())?c.toUpperCase():el.TYPE_UNSPECIFIED}else if(r.includes(A))e[A]=yu(c);else if(n.includes(A)){const h=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}h.push(yu(d))}e[A]=h}else if(i.includes(A)){const h={};for(const[d,x]of Object.entries(c))h[d]=yu(x);e[A]=h}else{if(A==="additionalProperties")continue;e[A]=c}return e}function kw(t){return yu(t)}function Mw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ow(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Lu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=yu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=yu(e.response));return t}function Qu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function hK(t,e,r,n=1){const i=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:i?`${r}/${e}`:e}function gA(t,e){if(typeof e!="string")throw new Error("name must be a string");return hK(t,e,"cachedContents")}function D3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function xl(t){return Fw(t)}function gK(t){return t!=null&&typeof t=="object"&&"name"in t}function pK(t){return t!=null&&typeof t=="object"&&"video"in t}function mK(t){return t!=null&&typeof t=="object"&&"uri"in t}function U3(t){var e;let r;if(gK(t)&&(r=t.name),!(mK(t)&&(r=t.uri,r===void 0))&&!(pK(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function k3(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function M3(t){for(const e of["models","tunedModels","publisherModels"])if(xK(t,e))return t[e];return[]}function xK(t,e){return t!==null&&typeof t=="object"&&e in t}function wK(t,e={}){const r=t,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function vK(t,e={}){const r=[],n=new Set;for(const i of t){const s=i.name;if(n.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);n.add(s);const A=wK(i,e);A.functionDeclarations&&r.push(...A.functionDeclarations)}return{functionDeclarations:r}}function O3(t,e){let r;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function yK(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function L3(t){if(typeof t!="object"||t===null)return{};const e=t,r=e.inlinedResponses;if(typeof r!="object"||r===null)return t;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const A of i){if(typeof A!="object"||A===null)continue;const h=A.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Pu(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function Q3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CK(t){const e={},r=E(t,["responsesFile"]);r!=null&&T(e,["fileName"],r);const n=E(t,["inlinedResponses","inlinedResponses"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(A=>rz(A))),T(e,["inlinedResponses"],s)}const i=E(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),T(e,["inlinedEmbedContentResponses"],s)}return e}function EK(t){const e={},r=E(t,["predictionsFormat"]);r!=null&&T(e,["format"],r);const n=E(t,["gcsDestination","outputUriPrefix"]);n!=null&&T(e,["gcsUri"],n);const i=E(t,["bigqueryDestination","outputUri"]);return i!=null&&T(e,["bigqueryUri"],i),e}function BK(t){const e={},r=E(t,["format"]);r!=null&&T(e,["predictionsFormat"],r);const n=E(t,["gcsUri"]);n!=null&&T(e,["gcsDestination","outputUriPrefix"],n);const i=E(t,["bigqueryUri"]);if(i!=null&&T(e,["bigqueryDestination","outputUri"],i),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(E(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function s1(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata","displayName"]);n!=null&&T(e,["displayName"],n);const i=E(t,["metadata","state"]);i!=null&&T(e,["state"],Q3(i));const s=E(t,["metadata","createTime"]);s!=null&&T(e,["createTime"],s);const A=E(t,["metadata","endTime"]);A!=null&&T(e,["endTime"],A);const c=E(t,["metadata","updateTime"]);c!=null&&T(e,["updateTime"],c);const h=E(t,["metadata","model"]);h!=null&&T(e,["model"],h);const d=E(t,["metadata","output"]);return d!=null&&T(e,["dest"],CK(L3(d))),e}function p2(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["displayName"]);n!=null&&T(e,["displayName"],n);const i=E(t,["state"]);i!=null&&T(e,["state"],Q3(i));const s=E(t,["error"]);s!=null&&T(e,["error"],s);const A=E(t,["createTime"]);A!=null&&T(e,["createTime"],A);const c=E(t,["startTime"]);c!=null&&T(e,["startTime"],c);const h=E(t,["endTime"]);h!=null&&T(e,["endTime"],h);const d=E(t,["updateTime"]);d!=null&&T(e,["updateTime"],d);const x=E(t,["model"]);x!=null&&T(e,["model"],x);const C=E(t,["inputConfig"]);C!=null&&T(e,["src"],_K(C));const B=E(t,["outputConfig"]);B!=null&&T(e,["dest"],EK(L3(B)));const F=E(t,["completionStats"]);return F!=null&&T(e,["completionStats"],F),e}function _K(t){const e={},r=E(t,["instancesFormat"]);r!=null&&T(e,["format"],r);const n=E(t,["gcsSource","uris"]);n!=null&&T(e,["gcsUri"],n);const i=E(t,["bigquerySource","inputUri"]);return i!=null&&T(e,["bigqueryUri"],i),e}function TK(t,e){const r={};if(E(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(E(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=E(e,["fileName"]);n!=null&&T(r,["fileName"],n);const i=E(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>tz(t,A))),T(r,["requests","requests"],s)}return r}function bK(t){const e={},r=E(t,["format"]);r!=null&&T(e,["instancesFormat"],r);const n=E(t,["gcsUri"]);n!=null&&T(e,["gcsSource","uris"],n);const i=E(t,["bigqueryUri"]);if(i!=null&&T(e,["bigquerySource","inputUri"],i),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function SK(t){const e={},r=E(t,["data"]);if(r!=null&&T(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function IK(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],Pu(t,n)),r}function NK(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],Pu(t,n)),r}function FK(t){const e={},r=E(t,["content"]);r!=null&&T(e,["content"],r);const n=E(t,["citationMetadata"]);n!=null&&T(e,["citationMetadata"],RK(n));const i=E(t,["tokenCount"]);i!=null&&T(e,["tokenCount"],i);const s=E(t,["finishReason"]);s!=null&&T(e,["finishReason"],s);const A=E(t,["avgLogprobs"]);A!=null&&T(e,["avgLogprobs"],A);const c=E(t,["groundingMetadata"]);c!=null&&T(e,["groundingMetadata"],c);const h=E(t,["index"]);h!=null&&T(e,["index"],h);const d=E(t,["logprobsResult"]);d!=null&&T(e,["logprobsResult"],d);const x=E(t,["safetyRatings"]);if(x!=null){let B=x;Array.isArray(B)&&(B=B.map(F=>F)),T(e,["safetyRatings"],B)}const C=E(t,["urlContextMetadata"]);return C!=null&&T(e,["urlContextMetadata"],C),e}function RK(t){const e={},r=E(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),T(e,["citations"],n)}return e}function P3(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>lz(s))),T(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&T(e,["role"],n),e}function DK(t,e){const r={},n=E(t,["displayName"]);if(e!==void 0&&n!=null&&T(e,["batch","displayName"],n),E(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function UK(t,e){const r={},n=E(t,["displayName"]);e!==void 0&&n!=null&&T(e,["displayName"],n);const i=E(t,["dest"]);return e!==void 0&&i!=null&&T(e,["outputConfig"],BK(yK(i))),r}function cb(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["_url","model"],jr(t,n));const i=E(e,["src"]);i!=null&&T(r,["batch","inputConfig"],TK(t,O3(t,i)));const s=E(e,["config"]);return s!=null&&DK(s,r),r}function kK(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["model"],jr(t,n));const i=E(e,["src"]);i!=null&&T(r,["inputConfig"],bK(O3(t,i)));const s=E(e,["config"]);return s!=null&&UK(s,r),r}function MK(t,e){const r={},n=E(t,["displayName"]);return e!==void 0&&n!=null&&T(e,["batch","displayName"],n),r}function OK(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["_url","model"],jr(t,n));const i=E(e,["src"]);i!=null&&T(r,["batch","inputConfig"],GK(t,i));const s=E(e,["config"]);return s!=null&&MK(s,r),r}function LK(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],Pu(t,n)),r}function QK(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],Pu(t,n)),r}function PK(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["name"]);n!=null&&T(e,["name"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);return s!=null&&T(e,["error"],s),e}function HK(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["name"]);n!=null&&T(e,["name"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);return s!=null&&T(e,["error"],s),e}function VK(t,e){const r={},n=E(e,["contents"]);if(n!=null){let s=Uw(t,n);Array.isArray(s)&&(s=s.map(A=>A)),T(r,["requests[]","request","content"],s)}const i=E(e,["config"]);return i!=null&&(T(r,["_self"],jK(i,r)),LG(r,{"requests[].*":"requests[].request.*"})),r}function jK(t,e){const r={},n=E(t,["taskType"]);e!==void 0&&n!=null&&T(e,["requests[]","taskType"],n);const i=E(t,["title"]);e!==void 0&&i!=null&&T(e,["requests[]","title"],i);const s=E(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&T(e,["requests[]","outputDimensionality"],s),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function GK(t,e){const r={},n=E(e,["fileName"]);n!=null&&T(r,["file_name"],n);const i=E(e,["inlinedRequests"]);return i!=null&&T(r,["requests"],VK(t,i)),r}function KK(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&T(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function zK(t){const e={},r=E(t,["id"]);r!=null&&T(e,["id"],r);const n=E(t,["args"]);n!=null&&T(e,["args"],n);const i=E(t,["name"]);if(i!=null&&T(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function WK(t){const e={},r=E(t,["allowedFunctionNames"]);r!=null&&T(e,["allowedFunctionNames"],r);const n=E(t,["mode"]);if(n!=null&&T(e,["mode"],n),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function XK(t,e,r){const n={},i=E(e,["systemInstruction"]);r!==void 0&&i!=null&&T(r,["systemInstruction"],P3(ls(i)));const s=E(e,["temperature"]);s!=null&&T(n,["temperature"],s);const A=E(e,["topP"]);A!=null&&T(n,["topP"],A);const c=E(e,["topK"]);c!=null&&T(n,["topK"],c);const h=E(e,["candidateCount"]);h!=null&&T(n,["candidateCount"],h);const d=E(e,["maxOutputTokens"]);d!=null&&T(n,["maxOutputTokens"],d);const x=E(e,["stopSequences"]);x!=null&&T(n,["stopSequences"],x);const C=E(e,["responseLogprobs"]);C!=null&&T(n,["responseLogprobs"],C);const B=E(e,["logprobs"]);B!=null&&T(n,["logprobs"],B);const F=E(e,["presencePenalty"]);F!=null&&T(n,["presencePenalty"],F);const D=E(e,["frequencyPenalty"]);D!=null&&T(n,["frequencyPenalty"],D);const R=E(e,["seed"]);R!=null&&T(n,["seed"],R);const k=E(e,["responseMimeType"]);k!=null&&T(n,["responseMimeType"],k);const j=E(e,["responseSchema"]);j!=null&&T(n,["responseSchema"],kw(j));const G=E(e,["responseJsonSchema"]);if(G!=null&&T(n,["responseJsonSchema"],G),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=E(e,["safetySettings"]);if(r!==void 0&&Q!=null){let X=Q;Array.isArray(X)&&(X=X.map(Me=>cz(Me))),T(r,["safetySettings"],X)}const ee=E(e,["tools"]);if(r!==void 0&&ee!=null){let X=Qu(ee);Array.isArray(X)&&(X=X.map(Me=>fz(Lu(Me)))),T(r,["tools"],X)}const ne=E(e,["toolConfig"]);if(r!==void 0&&ne!=null&&T(r,["toolConfig"],uz(ne)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=E(e,["cachedContent"]);r!==void 0&&te!=null&&T(r,["cachedContent"],gA(t,te));const M=E(e,["responseModalities"]);M!=null&&T(n,["responseModalities"],M);const H=E(e,["mediaResolution"]);H!=null&&T(n,["mediaResolution"],H);const O=E(e,["speechConfig"]);if(O!=null&&T(n,["speechConfig"],Mw(O)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=E(e,["thinkingConfig"]);z!=null&&T(n,["thinkingConfig"],z);const J=E(e,["imageConfig"]);J!=null&&T(n,["imageConfig"],ez(J));const W=E(e,["enableEnhancedCivicAnswers"]);if(W!=null&&T(n,["enableEnhancedCivicAnswers"],W),E(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function qK(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["candidates"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(d=>FK(d))),T(e,["candidates"],h)}const i=E(t,["modelVersion"]);i!=null&&T(e,["modelVersion"],i);const s=E(t,["promptFeedback"]);s!=null&&T(e,["promptFeedback"],s);const A=E(t,["responseId"]);A!=null&&T(e,["responseId"],A);const c=E(t,["usageMetadata"]);return c!=null&&T(e,["usageMetadata"],c),e}function YK(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],Pu(t,n)),r}function JK(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],Pu(t,n)),r}function ZK(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&T(e,["enableWidget"],r),e}function $K(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&T(e,["timeRangeFilter"],r),e}function ez(t){const e={},r=E(t,["aspectRatio"]);r!=null&&T(e,["aspectRatio"],r);const n=E(t,["imageSize"]);if(n!=null&&T(e,["imageSize"],n),E(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function tz(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["request","model"],jr(t,n));const i=E(e,["contents"]);if(i!=null){let c=ka(i);Array.isArray(c)&&(c=c.map(h=>P3(h))),T(r,["request","contents"],c)}const s=E(e,["metadata"]);s!=null&&T(r,["metadata"],s);const A=E(e,["config"]);return A!=null&&T(r,["request","generationConfig"],XK(t,A,E(r,["request"],{}))),r}function rz(t){const e={},r=E(t,["response"]);r!=null&&T(e,["response"],qK(r));const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["error"]);return i!=null&&T(e,["error"],i),e}function nz(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);if(e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),E(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function iz(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);e!==void 0&&i!=null&&T(e,["_query","pageToken"],i);const s=E(t,["filter"]);return e!==void 0&&s!=null&&T(e,["_query","filter"],s),r}function sz(t){const e={},r=E(t,["config"]);return r!=null&&nz(r,e),e}function az(t){const e={},r=E(t,["config"]);return r!=null&&iz(r,e),e}function oz(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>s1(A))),T(e,["batchJobs"],s)}return e}function Az(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>p2(A))),T(e,["batchJobs"],s)}return e}function lz(t){const e={},r=E(t,["mediaResolution"]);r!=null&&T(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&T(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&T(e,["fileData"],KK(s));const A=E(t,["functionCall"]);A!=null&&T(e,["functionCall"],zK(A));const c=E(t,["functionResponse"]);c!=null&&T(e,["functionResponse"],c);const h=E(t,["inlineData"]);h!=null&&T(e,["inlineData"],SK(h));const d=E(t,["text"]);d!=null&&T(e,["text"],d);const x=E(t,["thought"]);x!=null&&T(e,["thought"],x);const C=E(t,["thoughtSignature"]);C!=null&&T(e,["thoughtSignature"],C);const B=E(t,["videoMetadata"]);return B!=null&&T(e,["videoMetadata"],B),e}function cz(t){const e={},r=E(t,["category"]);if(r!=null&&T(e,["category"],r),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=E(t,["threshold"]);return n!=null&&T(e,["threshold"],n),e}function uz(t){const e={},r=E(t,["retrievalConfig"]);r!=null&&T(e,["retrievalConfig"],r);const n=E(t,["functionCallingConfig"]);return n!=null&&T(e,["functionCallingConfig"],WK(n)),e}function fz(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&T(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&T(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&T(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(C=>C)),T(e,["functionDeclarations"],x)}const A=E(t,["googleMaps"]);A!=null&&T(e,["googleMaps"],ZK(A));const c=E(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],$K(c));const h=E(t,["googleSearchRetrieval"]);h!=null&&T(e,["googleSearchRetrieval"],h);const d=E(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var AA;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(AA||(AA={}));class mc{constructor(e,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,i)}init(e,r,n){var i,s;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let A={config:{}};!n||Object.keys(n).length===0?A={config:{}}:typeof n=="object"?A=Object.assign({},n):A=n,A.config&&(A.config.pageToken=r.nextPageToken),this.paramsInternal=A,this.pageInternalSize=(s=(i=A.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dz extends hA{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new mc(AA.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(e){const r=cb(this.apiClient,e),n=r._url,i=Ft("{model}:batchGenerateContent",n),c=r.batch.inputConfig.requests,h=c.requests,d=[];for(const x of h){const C=Object.assign({},x);if(C.systemInstruction){const B=C.systemInstruction;delete C.systemInstruction;const F=C.request;F.systemInstruction=B,C.request=F}d.push(C)}return c.requests=d,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const s=this.getGcsUri(e),A=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?n.dest=`${s.slice(0,-6)}/dest`:n.dest=`${s}_dest_${i}`;else if(A)n.dest=`${A}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=kK(this.apiClient,e);return c=Ft("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json()),A.then(x=>p2(x))}else{const d=cb(this.apiClient,e);return c=Ft("{model}:batchGenerateContent",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>s1(x))}}async createEmbeddingsInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=OK(this.apiClient,e);return s=Ft("{model}:asyncBatchEmbedContent",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>s1(h))}}async get(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=JK(this.apiClient,e);return c=Ft("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json()),A.then(x=>p2(x))}else{const d=YK(this.apiClient,e);return c=Ft("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>s1(x))}}async cancel(e){var r,n,i,s;let A="",c={};if(this.apiClient.isVertexAI()){const h=NK(this.apiClient,e);A=Ft("batchPredictionJobs/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const h=IK(this.apiClient,e);A=Ft("batches/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=az(e);return c=Ft("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=Az(x),B=new ab;return Object.assign(B,C),B})}else{const d=sz(e);return c=Ft("batches",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=oz(x),B=new ab;return Object.assign(B,C),B})}}async delete(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=QK(this.apiClient,e);return c=Ft("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>HK(x))}else{const d=LK(this.apiClient,e);return c=Ft("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>PK(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hz(t){const e={},r=E(t,["data"]);if(r!=null&&T(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function ub(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Oz(s))),T(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&T(e,["role"],n),e}function gz(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&T(e,["ttl"],n);const i=E(t,["expireTime"]);e!==void 0&&i!=null&&T(e,["expireTime"],i);const s=E(t,["displayName"]);e!==void 0&&s!=null&&T(e,["displayName"],s);const A=E(t,["contents"]);if(e!==void 0&&A!=null){let x=ka(A);Array.isArray(x)&&(x=x.map(C=>ub(C))),T(e,["contents"],x)}const c=E(t,["systemInstruction"]);e!==void 0&&c!=null&&T(e,["systemInstruction"],ub(ls(c)));const h=E(t,["tools"]);if(e!==void 0&&h!=null){let x=h;Array.isArray(x)&&(x=x.map(C=>Qz(C))),T(e,["tools"],x)}const d=E(t,["toolConfig"]);if(e!==void 0&&d!=null&&T(e,["toolConfig"],Lz(d)),E(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function pz(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&T(e,["ttl"],n);const i=E(t,["expireTime"]);e!==void 0&&i!=null&&T(e,["expireTime"],i);const s=E(t,["displayName"]);e!==void 0&&s!=null&&T(e,["displayName"],s);const A=E(t,["contents"]);if(e!==void 0&&A!=null){let C=ka(A);Array.isArray(C)&&(C=C.map(B=>B)),T(e,["contents"],C)}const c=E(t,["systemInstruction"]);e!==void 0&&c!=null&&T(e,["systemInstruction"],ls(c));const h=E(t,["tools"]);if(e!==void 0&&h!=null){let C=h;Array.isArray(C)&&(C=C.map(B=>Pz(B))),T(e,["tools"],C)}const d=E(t,["toolConfig"]);e!==void 0&&d!=null&&T(e,["toolConfig"],d);const x=E(t,["kmsKeyName"]);return e!==void 0&&x!=null&&T(e,["encryption_spec","kmsKeyName"],x),r}function mz(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["model"],S3(t,n));const i=E(e,["config"]);return i!=null&&gz(i,r),r}function xz(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["model"],S3(t,n));const i=E(e,["config"]);return i!=null&&pz(i,r),r}function wz(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],gA(t,n)),r}function vz(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],gA(t,n)),r}function yz(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&T(e,["sdkHttpResponse"],r),e}function Cz(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&T(e,["sdkHttpResponse"],r),e}function Ez(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&T(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function Bz(t){const e={},r=E(t,["id"]);r!=null&&T(e,["id"],r);const n=E(t,["args"]);n!=null&&T(e,["args"],n);const i=E(t,["name"]);if(i!=null&&T(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _z(t){const e={},r=E(t,["allowedFunctionNames"]);r!=null&&T(e,["allowedFunctionNames"],r);const n=E(t,["mode"]);if(n!=null&&T(e,["mode"],n),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Tz(t){const e={},r=E(t,["description"]);r!=null&&T(e,["description"],r);const n=E(t,["name"]);n!=null&&T(e,["name"],n);const i=E(t,["parameters"]);i!=null&&T(e,["parameters"],i);const s=E(t,["parametersJsonSchema"]);s!=null&&T(e,["parametersJsonSchema"],s);const A=E(t,["response"]);A!=null&&T(e,["response"],A);const c=E(t,["responseJsonSchema"]);if(c!=null&&T(e,["responseJsonSchema"],c),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function bz(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],gA(t,n)),r}function Sz(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],gA(t,n)),r}function Iz(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&T(e,["enableWidget"],r),e}function Nz(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&T(e,["timeRangeFilter"],r),e}function Fz(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),r}function Rz(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),r}function Dz(t){const e={},r=E(t,["config"]);return r!=null&&Fz(r,e),e}function Uz(t){const e={},r=E(t,["config"]);return r!=null&&Rz(r,e),e}function kz(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),T(e,["cachedContents"],s)}return e}function Mz(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),T(e,["cachedContents"],s)}return e}function Oz(t){const e={},r=E(t,["mediaResolution"]);r!=null&&T(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&T(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&T(e,["fileData"],Ez(s));const A=E(t,["functionCall"]);A!=null&&T(e,["functionCall"],Bz(A));const c=E(t,["functionResponse"]);c!=null&&T(e,["functionResponse"],c);const h=E(t,["inlineData"]);h!=null&&T(e,["inlineData"],hz(h));const d=E(t,["text"]);d!=null&&T(e,["text"],d);const x=E(t,["thought"]);x!=null&&T(e,["thought"],x);const C=E(t,["thoughtSignature"]);C!=null&&T(e,["thoughtSignature"],C);const B=E(t,["videoMetadata"]);return B!=null&&T(e,["videoMetadata"],B),e}function Lz(t){const e={},r=E(t,["retrievalConfig"]);r!=null&&T(e,["retrievalConfig"],r);const n=E(t,["functionCallingConfig"]);return n!=null&&T(e,["functionCallingConfig"],_z(n)),e}function Qz(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&T(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&T(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&T(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(C=>C)),T(e,["functionDeclarations"],x)}const A=E(t,["googleMaps"]);A!=null&&T(e,["googleMaps"],Iz(A));const c=E(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],Nz(c));const h=E(t,["googleSearchRetrieval"]);h!=null&&T(e,["googleSearchRetrieval"],h);const d=E(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}function Pz(t){const e={},r=E(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const n=E(t,["computerUse"]);if(n!=null&&T(e,["computerUse"],n),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=E(t,["codeExecution"]);i!=null&&T(e,["codeExecution"],i);const s=E(t,["enterpriseWebSearch"]);s!=null&&T(e,["enterpriseWebSearch"],s);const A=E(t,["functionDeclarations"]);if(A!=null){let C=A;Array.isArray(C)&&(C=C.map(B=>Tz(B))),T(e,["functionDeclarations"],C)}const c=E(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const h=E(t,["googleSearch"]);h!=null&&T(e,["googleSearch"],h);const d=E(t,["googleSearchRetrieval"]);d!=null&&T(e,["googleSearchRetrieval"],d);const x=E(t,["urlContext"]);return x!=null&&T(e,["urlContext"],x),e}function Hz(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&T(e,["ttl"],n);const i=E(t,["expireTime"]);return e!==void 0&&i!=null&&T(e,["expireTime"],i),r}function Vz(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&T(e,["ttl"],n);const i=E(t,["expireTime"]);return e!==void 0&&i!=null&&T(e,["expireTime"],i),r}function jz(t,e){const r={},n=E(e,["name"]);n!=null&&T(r,["_url","name"],gA(t,n));const i=E(e,["config"]);return i!=null&&Hz(i,r),r}function Gz(t,e){const r={},n=E(e,["name"]);n!=null&&T(r,["_url","name"],gA(t,n));const i=E(e,["config"]);return i!=null&&Vz(i,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kz extends hA{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new mc(AA.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=xz(this.apiClient,e);return c=Ft("cachedContents",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json()),A.then(x=>x)}else{const d=mz(this.apiClient,e);return c=Ft("cachedContents",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>x)}}async get(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=Sz(this.apiClient,e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json()),A.then(x=>x)}else{const d=bz(this.apiClient,e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>x)}}async delete(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=vz(this.apiClient,e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=Cz(x),B=new ib;return Object.assign(B,C),B})}else{const d=wz(this.apiClient,e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=yz(x),B=new ib;return Object.assign(B,C),B})}}async update(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=Gz(this.apiClient,e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json()),A.then(x=>x)}else{const d=jz(this.apiClient,e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>x)}}async listInternal(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=Uz(e);return c=Ft("cachedContents",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=Mz(x),B=new sb;return Object.assign(B,C),B})}else{const d=Dz(e);return c=Ft("cachedContents",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=kz(x),B=new sb;return Object.assign(B,C),B})}}}function Q1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function fb(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sr(t){return this instanceof sr?(this.v=t,this):new sr(t)}function ro(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",A),i[Symbol.asyncIterator]=function(){return this},i;function A(F){return function(D){return Promise.resolve(D).then(F,C)}}function c(F,D){n[F]&&(i[F]=function(R){return new Promise(function(k,j){s.push([F,R,k,j])>1||h(F,R)})},D&&(i[F]=D(i[F])))}function h(F,D){try{d(n[F](D))}catch(R){B(s[0][3],R)}}function d(F){F.value instanceof sr?Promise.resolve(F.value.v).then(x,C):B(s[0][2],F)}function x(F){h("next",F)}function C(F){h("throw",F)}function B(F,D){F(D),s.shift(),s.length&&h(s[0][0],s[0][1])}}function no(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof fb=="function"?fb(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(A){return new Promise(function(c,h){A=t[s](A),i(c,h,A.done,A.value)})}}function i(s,A,c,h){Promise.resolve(h).then(function(d){s({value:d,done:c})},A)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zz(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:H3(r)}function H3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Wz(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function db(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const i=[];let s=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),s&&!H3(t[n])&&(s=!1),n++;s?e.push(...i):e.pop()}return e}class Xz{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new qz(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class qz{constructor(e,r,n,i={},s=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Wz(s)}async sendMessage(e){var r;await this.sendPromise;const n=ls(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var s,A,c;const h=await i,d=(A=(s=h.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content,x=h.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let B=[];x!=null&&(B=(c=x.slice(C))!==null&&c!==void 0?c:[]);const F=d?[d]:[];this.recordHistory(n,F,B)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var r;await this.sendPromise;const n=ls(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,n)}getHistory(e=!1){const r=e?db(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){return ro(this,arguments,function*(){var i,s,A,c,h,d;const x=[];try{for(var C=!0,B=no(e),F;F=yield sr(B.next()),i=F.done,!i;C=!0){c=F.value,C=!1;const D=c;if(zz(D)){const R=(d=(h=D.candidates)===null||h===void 0?void 0:h[0])===null||d===void 0?void 0:d.content;R!==void 0&&x.push(R)}yield yield sr(D)}}catch(D){s={error:D}}finally{try{!C&&!i&&(A=B.return)&&(yield sr(A.call(B)))}finally{if(s)throw s.error}}this.recordHistory(r,x)})}recordHistory(e,r,n){let i=[];r.length>0&&r.every(s=>s.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...db(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class If extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,If.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yz(t){const e={},r=E(t,["file"]);return r!=null&&T(e,["file"],r),e}function Jz(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&T(e,["sdkHttpResponse"],r),e}function Zz(t){const e={},r=E(t,["name"]);return r!=null&&T(e,["_url","file"],U3(r)),e}function $z(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&T(e,["sdkHttpResponse"],r),e}function eW(t){const e={},r=E(t,["name"]);return r!=null&&T(e,["_url","file"],U3(r)),e}function tW(t){const e={},r=E(t,["uris"]);return r!=null&&T(e,["uris"],r),e}function rW(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),r}function nW(t){const e={},r=E(t,["config"]);return r!=null&&rW(r,e),e}function iW(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),T(e,["files"],s)}return e}function sW(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["files"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),T(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aW extends hA{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new mc(AA.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nW(e);return s=Ft("files",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>{const d=iW(h),x=new oK;return Object.assign(x,d),x})}}async createInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Yz(e);return s=Ft("upload/v1beta/files",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>{const d=Jz(h),x=new AK;return Object.assign(x,d),x})}}async get(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=eW(e);return s=Ft("files/{file}",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Zz(e);return s=Ft("files/{file}",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>{const d=$z(h),x=new lK;return Object.assign(x,d),x})}}async registerFilesInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=tW(e);return s=Ft("files:register",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>{const d=sW(h),x=new cK;return Object.assign(x,d),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a1(t){const e={},r=E(t,["data"]);if(r!=null&&T(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function oW(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>EW(s))),T(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&T(e,["role"],n),e}function AW(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&T(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function lW(t){const e={},r=E(t,["id"]);r!=null&&T(e,["id"],r);const n=E(t,["args"]);n!=null&&T(e,["args"],n);const i=E(t,["name"]);if(i!=null&&T(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cW(t){const e={},r=E(t,["description"]);r!=null&&T(e,["description"],r);const n=E(t,["name"]);n!=null&&T(e,["name"],n);const i=E(t,["parameters"]);i!=null&&T(e,["parameters"],i);const s=E(t,["parametersJsonSchema"]);s!=null&&T(e,["parametersJsonSchema"],s);const A=E(t,["response"]);A!=null&&T(e,["response"],A);const c=E(t,["responseJsonSchema"]);if(c!=null&&T(e,["responseJsonSchema"],c),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function uW(t){const e={},r=E(t,["modelSelectionConfig"]);r!=null&&T(e,["modelConfig"],r);const n=E(t,["responseJsonSchema"]);n!=null&&T(e,["responseJsonSchema"],n);const i=E(t,["audioTimestamp"]);i!=null&&T(e,["audioTimestamp"],i);const s=E(t,["candidateCount"]);s!=null&&T(e,["candidateCount"],s);const A=E(t,["enableAffectiveDialog"]);A!=null&&T(e,["enableAffectiveDialog"],A);const c=E(t,["frequencyPenalty"]);c!=null&&T(e,["frequencyPenalty"],c);const h=E(t,["logprobs"]);h!=null&&T(e,["logprobs"],h);const d=E(t,["maxOutputTokens"]);d!=null&&T(e,["maxOutputTokens"],d);const x=E(t,["mediaResolution"]);x!=null&&T(e,["mediaResolution"],x);const C=E(t,["presencePenalty"]);C!=null&&T(e,["presencePenalty"],C);const B=E(t,["responseLogprobs"]);B!=null&&T(e,["responseLogprobs"],B);const F=E(t,["responseMimeType"]);F!=null&&T(e,["responseMimeType"],F);const D=E(t,["responseModalities"]);D!=null&&T(e,["responseModalities"],D);const R=E(t,["responseSchema"]);R!=null&&T(e,["responseSchema"],R);const k=E(t,["routingConfig"]);k!=null&&T(e,["routingConfig"],k);const j=E(t,["seed"]);j!=null&&T(e,["seed"],j);const G=E(t,["speechConfig"]);G!=null&&T(e,["speechConfig"],G);const Q=E(t,["stopSequences"]);Q!=null&&T(e,["stopSequences"],Q);const ee=E(t,["temperature"]);ee!=null&&T(e,["temperature"],ee);const ne=E(t,["thinkingConfig"]);ne!=null&&T(e,["thinkingConfig"],ne);const te=E(t,["topK"]);te!=null&&T(e,["topK"],te);const M=E(t,["topP"]);if(M!=null&&T(e,["topP"],M),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function fW(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&T(e,["enableWidget"],r),e}function dW(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&T(e,["timeRangeFilter"],r),e}function hW(t,e){const r={},n=E(t,["generationConfig"]);e!==void 0&&n!=null&&T(e,["setup","generationConfig"],n);const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","temperature"],s);const A=E(t,["topP"]);e!==void 0&&A!=null&&T(e,["setup","generationConfig","topP"],A);const c=E(t,["topK"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","topK"],c);const h=E(t,["maxOutputTokens"]);e!==void 0&&h!=null&&T(e,["setup","generationConfig","maxOutputTokens"],h);const d=E(t,["mediaResolution"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","mediaResolution"],d);const x=E(t,["seed"]);e!==void 0&&x!=null&&T(e,["setup","generationConfig","seed"],x);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&T(e,["setup","generationConfig","speechConfig"],Ow(C));const B=E(t,["thinkingConfig"]);e!==void 0&&B!=null&&T(e,["setup","generationConfig","thinkingConfig"],B);const F=E(t,["enableAffectiveDialog"]);e!==void 0&&F!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],F);const D=E(t,["systemInstruction"]);e!==void 0&&D!=null&&T(e,["setup","systemInstruction"],oW(ls(D)));const R=E(t,["tools"]);if(e!==void 0&&R!=null){let te=Qu(R);Array.isArray(te)&&(te=te.map(M=>_W(Lu(M)))),T(e,["setup","tools"],te)}const k=E(t,["sessionResumption"]);e!==void 0&&k!=null&&T(e,["setup","sessionResumption"],BW(k));const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&T(e,["setup","inputAudioTranscription"],j);const G=E(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&T(e,["setup","outputAudioTranscription"],G);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&T(e,["setup","realtimeInputConfig"],Q);const ee=E(t,["contextWindowCompression"]);e!==void 0&&ee!=null&&T(e,["setup","contextWindowCompression"],ee);const ne=E(t,["proactivity"]);if(e!==void 0&&ne!=null&&T(e,["setup","proactivity"],ne),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function gW(t,e){const r={},n=E(t,["generationConfig"]);e!==void 0&&n!=null&&T(e,["setup","generationConfig"],uW(n));const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","temperature"],s);const A=E(t,["topP"]);e!==void 0&&A!=null&&T(e,["setup","generationConfig","topP"],A);const c=E(t,["topK"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","topK"],c);const h=E(t,["maxOutputTokens"]);e!==void 0&&h!=null&&T(e,["setup","generationConfig","maxOutputTokens"],h);const d=E(t,["mediaResolution"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","mediaResolution"],d);const x=E(t,["seed"]);e!==void 0&&x!=null&&T(e,["setup","generationConfig","seed"],x);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&T(e,["setup","generationConfig","speechConfig"],Ow(C));const B=E(t,["thinkingConfig"]);e!==void 0&&B!=null&&T(e,["setup","generationConfig","thinkingConfig"],B);const F=E(t,["enableAffectiveDialog"]);e!==void 0&&F!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],F);const D=E(t,["systemInstruction"]);e!==void 0&&D!=null&&T(e,["setup","systemInstruction"],ls(D));const R=E(t,["tools"]);if(e!==void 0&&R!=null){let M=Qu(R);Array.isArray(M)&&(M=M.map(H=>TW(Lu(H)))),T(e,["setup","tools"],M)}const k=E(t,["sessionResumption"]);e!==void 0&&k!=null&&T(e,["setup","sessionResumption"],k);const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&T(e,["setup","inputAudioTranscription"],j);const G=E(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&T(e,["setup","outputAudioTranscription"],G);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&T(e,["setup","realtimeInputConfig"],Q);const ee=E(t,["contextWindowCompression"]);e!==void 0&&ee!=null&&T(e,["setup","contextWindowCompression"],ee);const ne=E(t,["proactivity"]);e!==void 0&&ne!=null&&T(e,["setup","proactivity"],ne);const te=E(t,["explicitVadSignal"]);return e!==void 0&&te!=null&&T(e,["setup","explicitVadSignal"],te),r}function pW(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["setup","model"],jr(t,n));const i=E(e,["config"]);return i!=null&&T(r,["config"],hW(i,r)),r}function mW(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["setup","model"],jr(t,n));const i=E(e,["config"]);return i!=null&&T(r,["config"],gW(i,r)),r}function xW(t){const e={},r=E(t,["musicGenerationConfig"]);return r!=null&&T(e,["musicGenerationConfig"],r),e}function wW(t){const e={},r=E(t,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),T(e,["weightedPrompts"],n)}return e}function vW(t){const e={},r=E(t,["media"]);if(r!=null){let d=I3(r);Array.isArray(d)&&(d=d.map(x=>a1(x))),T(e,["mediaChunks"],d)}const n=E(t,["audio"]);n!=null&&T(e,["audio"],a1(F3(n)));const i=E(t,["audioStreamEnd"]);i!=null&&T(e,["audioStreamEnd"],i);const s=E(t,["video"]);s!=null&&T(e,["video"],a1(N3(s)));const A=E(t,["text"]);A!=null&&T(e,["text"],A);const c=E(t,["activityStart"]);c!=null&&T(e,["activityStart"],c);const h=E(t,["activityEnd"]);return h!=null&&T(e,["activityEnd"],h),e}function yW(t){const e={},r=E(t,["media"]);if(r!=null){let d=I3(r);Array.isArray(d)&&(d=d.map(x=>x)),T(e,["mediaChunks"],d)}const n=E(t,["audio"]);n!=null&&T(e,["audio"],F3(n));const i=E(t,["audioStreamEnd"]);i!=null&&T(e,["audioStreamEnd"],i);const s=E(t,["video"]);s!=null&&T(e,["video"],N3(s));const A=E(t,["text"]);A!=null&&T(e,["text"],A);const c=E(t,["activityStart"]);c!=null&&T(e,["activityStart"],c);const h=E(t,["activityEnd"]);return h!=null&&T(e,["activityEnd"],h),e}function CW(t){const e={},r=E(t,["setupComplete"]);r!=null&&T(e,["setupComplete"],r);const n=E(t,["serverContent"]);n!=null&&T(e,["serverContent"],n);const i=E(t,["toolCall"]);i!=null&&T(e,["toolCall"],i);const s=E(t,["toolCallCancellation"]);s!=null&&T(e,["toolCallCancellation"],s);const A=E(t,["usageMetadata"]);A!=null&&T(e,["usageMetadata"],bW(A));const c=E(t,["goAway"]);c!=null&&T(e,["goAway"],c);const h=E(t,["sessionResumptionUpdate"]);h!=null&&T(e,["sessionResumptionUpdate"],h);const d=E(t,["voiceActivityDetectionSignal"]);d!=null&&T(e,["voiceActivityDetectionSignal"],d);const x=E(t,["voiceActivity"]);return x!=null&&T(e,["voiceActivity"],SW(x)),e}function EW(t){const e={},r=E(t,["mediaResolution"]);r!=null&&T(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&T(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&T(e,["fileData"],AW(s));const A=E(t,["functionCall"]);A!=null&&T(e,["functionCall"],lW(A));const c=E(t,["functionResponse"]);c!=null&&T(e,["functionResponse"],c);const h=E(t,["inlineData"]);h!=null&&T(e,["inlineData"],a1(h));const d=E(t,["text"]);d!=null&&T(e,["text"],d);const x=E(t,["thought"]);x!=null&&T(e,["thought"],x);const C=E(t,["thoughtSignature"]);C!=null&&T(e,["thoughtSignature"],C);const B=E(t,["videoMetadata"]);return B!=null&&T(e,["videoMetadata"],B),e}function BW(t){const e={},r=E(t,["handle"]);if(r!=null&&T(e,["handle"],r),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _W(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&T(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&T(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&T(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(C=>C)),T(e,["functionDeclarations"],x)}const A=E(t,["googleMaps"]);A!=null&&T(e,["googleMaps"],fW(A));const c=E(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],dW(c));const h=E(t,["googleSearchRetrieval"]);h!=null&&T(e,["googleSearchRetrieval"],h);const d=E(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}function TW(t){const e={},r=E(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const n=E(t,["computerUse"]);if(n!=null&&T(e,["computerUse"],n),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=E(t,["codeExecution"]);i!=null&&T(e,["codeExecution"],i);const s=E(t,["enterpriseWebSearch"]);s!=null&&T(e,["enterpriseWebSearch"],s);const A=E(t,["functionDeclarations"]);if(A!=null){let C=A;Array.isArray(C)&&(C=C.map(B=>cW(B))),T(e,["functionDeclarations"],C)}const c=E(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const h=E(t,["googleSearch"]);h!=null&&T(e,["googleSearch"],h);const d=E(t,["googleSearchRetrieval"]);d!=null&&T(e,["googleSearchRetrieval"],d);const x=E(t,["urlContext"]);return x!=null&&T(e,["urlContext"],x),e}function bW(t){const e={},r=E(t,["promptTokenCount"]);r!=null&&T(e,["promptTokenCount"],r);const n=E(t,["cachedContentTokenCount"]);n!=null&&T(e,["cachedContentTokenCount"],n);const i=E(t,["candidatesTokenCount"]);i!=null&&T(e,["responseTokenCount"],i);const s=E(t,["toolUsePromptTokenCount"]);s!=null&&T(e,["toolUsePromptTokenCount"],s);const A=E(t,["thoughtsTokenCount"]);A!=null&&T(e,["thoughtsTokenCount"],A);const c=E(t,["totalTokenCount"]);c!=null&&T(e,["totalTokenCount"],c);const h=E(t,["promptTokensDetails"]);if(h!=null){let F=h;Array.isArray(F)&&(F=F.map(D=>D)),T(e,["promptTokensDetails"],F)}const d=E(t,["cacheTokensDetails"]);if(d!=null){let F=d;Array.isArray(F)&&(F=F.map(D=>D)),T(e,["cacheTokensDetails"],F)}const x=E(t,["candidatesTokensDetails"]);if(x!=null){let F=x;Array.isArray(F)&&(F=F.map(D=>D)),T(e,["responseTokensDetails"],F)}const C=E(t,["toolUsePromptTokensDetails"]);if(C!=null){let F=C;Array.isArray(F)&&(F=F.map(D=>D)),T(e,["toolUsePromptTokensDetails"],F)}const B=E(t,["trafficType"]);return B!=null&&T(e,["trafficType"],B),e}function SW(t){const e={},r=E(t,["type"]);return r!=null&&T(e,["voiceActivityType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IW(t,e){const r={},n=E(t,["data"]);if(n!=null&&T(r,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=E(t,["mimeType"]);return i!=null&&T(r,["mimeType"],i),r}function NW(t,e){const r={},n=E(t,["content"]);n!=null&&T(r,["content"],n);const i=E(t,["citationMetadata"]);i!=null&&T(r,["citationMetadata"],FW(i));const s=E(t,["tokenCount"]);s!=null&&T(r,["tokenCount"],s);const A=E(t,["finishReason"]);A!=null&&T(r,["finishReason"],A);const c=E(t,["avgLogprobs"]);c!=null&&T(r,["avgLogprobs"],c);const h=E(t,["groundingMetadata"]);h!=null&&T(r,["groundingMetadata"],h);const d=E(t,["index"]);d!=null&&T(r,["index"],d);const x=E(t,["logprobsResult"]);x!=null&&T(r,["logprobsResult"],x);const C=E(t,["safetyRatings"]);if(C!=null){let F=C;Array.isArray(F)&&(F=F.map(D=>D)),T(r,["safetyRatings"],F)}const B=E(t,["urlContextMetadata"]);return B!=null&&T(r,["urlContextMetadata"],B),r}function FW(t,e){const r={},n=E(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),T(r,["citations"],i)}return r}function RW(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["contents"]);if(s!=null){let A=ka(s);Array.isArray(A)&&(A=A.map(c=>c)),T(n,["contents"],A)}return n}function DW(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),T(r,["tokensInfo"],s)}return r}function UW(t,e){const r={},n=E(t,["values"]);n!=null&&T(r,["values"],n);const i=E(t,["statistics"]);return i!=null&&T(r,["statistics"],kW(i)),r}function kW(t,e){const r={},n=E(t,["truncated"]);n!=null&&T(r,["truncated"],n);const i=E(t,["token_count"]);return i!=null&&T(r,["tokenCount"],i),r}function pg(t,e){const r={},n=E(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(A=>GX(A))),T(r,["parts"],s)}const i=E(t,["role"]);return i!=null&&T(r,["role"],i),r}function MW(t,e){const r={},n=E(t,["controlType"]);n!=null&&T(r,["controlType"],n);const i=E(t,["enableControlImageComputation"]);return i!=null&&T(r,["computeControl"],i),r}function OW(t,e){const r={};if(E(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(E(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(E(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function LW(t,e,r){const n={},i=E(t,["systemInstruction"]);e!==void 0&&i!=null&&T(e,["systemInstruction"],ls(i));const s=E(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>K3(h))),T(e,["tools"],c)}const A=E(t,["generationConfig"]);return e!==void 0&&A!=null&&T(e,["generationConfig"],IX(A)),n}function QW(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["contents"]);if(s!=null){let c=ka(s);Array.isArray(c)&&(c=c.map(h=>pg(h))),T(n,["contents"],c)}const A=E(e,["config"]);return A!=null&&OW(A),n}function PW(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["contents"]);if(s!=null){let c=ka(s);Array.isArray(c)&&(c=c.map(h=>h)),T(n,["contents"],c)}const A=E(e,["config"]);return A!=null&&LW(A,n),n}function HW(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["totalTokens"]);i!=null&&T(r,["totalTokens"],i);const s=E(t,["cachedContentTokenCount"]);return s!=null&&T(r,["cachedContentTokenCount"],s),r}function VW(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["totalTokens"]);return i!=null&&T(r,["totalTokens"],i),r}function jW(t,e,r){const n={},i=E(e,["model"]);return i!=null&&T(n,["_url","name"],jr(t,i)),n}function GW(t,e,r){const n={},i=E(e,["model"]);return i!=null&&T(n,["_url","name"],jr(t,i)),n}function KW(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&T(r,["sdkHttpResponse"],n),r}function zW(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&T(r,["sdkHttpResponse"],n),r}function WW(t,e,r){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&T(e,["parameters","storageUri"],i);const s=E(t,["negativePrompt"]);e!==void 0&&s!=null&&T(e,["parameters","negativePrompt"],s);const A=E(t,["numberOfImages"]);e!==void 0&&A!=null&&T(e,["parameters","sampleCount"],A);const c=E(t,["aspectRatio"]);e!==void 0&&c!=null&&T(e,["parameters","aspectRatio"],c);const h=E(t,["guidanceScale"]);e!==void 0&&h!=null&&T(e,["parameters","guidanceScale"],h);const d=E(t,["seed"]);e!==void 0&&d!=null&&T(e,["parameters","seed"],d);const x=E(t,["safetyFilterLevel"]);e!==void 0&&x!=null&&T(e,["parameters","safetySetting"],x);const C=E(t,["personGeneration"]);e!==void 0&&C!=null&&T(e,["parameters","personGeneration"],C);const B=E(t,["includeSafetyAttributes"]);e!==void 0&&B!=null&&T(e,["parameters","includeSafetyAttributes"],B);const F=E(t,["includeRaiReason"]);e!==void 0&&F!=null&&T(e,["parameters","includeRaiReason"],F);const D=E(t,["language"]);e!==void 0&&D!=null&&T(e,["parameters","language"],D);const R=E(t,["outputMimeType"]);e!==void 0&&R!=null&&T(e,["parameters","outputOptions","mimeType"],R);const k=E(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&T(e,["parameters","outputOptions","compressionQuality"],k);const j=E(t,["addWatermark"]);e!==void 0&&j!=null&&T(e,["parameters","addWatermark"],j);const G=E(t,["labels"]);e!==void 0&&G!=null&&T(e,["labels"],G);const Q=E(t,["editMode"]);e!==void 0&&Q!=null&&T(e,["parameters","editMode"],Q);const ee=E(t,["baseSteps"]);return e!==void 0&&ee!=null&&T(e,["parameters","editConfig","baseSteps"],ee),n}function XW(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const A=E(e,["referenceImages"]);if(A!=null){let h=A;Array.isArray(h)&&(h=h.map(d=>YX(d))),T(n,["instances[0]","referenceImages"],h)}const c=E(e,["config"]);return c!=null&&WW(c,n),n}function qW(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>mg(A))),T(r,["generatedImages"],s)}return r}function YW(t,e,r){const n={},i=E(t,["taskType"]);e!==void 0&&i!=null&&T(e,["requests[]","taskType"],i);const s=E(t,["title"]);e!==void 0&&s!=null&&T(e,["requests[]","title"],s);const A=E(t,["outputDimensionality"]);if(e!==void 0&&A!=null&&T(e,["requests[]","outputDimensionality"],A),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function JW(t,e,r){const n={},i=E(t,["taskType"]);e!==void 0&&i!=null&&T(e,["instances[]","task_type"],i);const s=E(t,["title"]);e!==void 0&&s!=null&&T(e,["instances[]","title"],s);const A=E(t,["outputDimensionality"]);e!==void 0&&A!=null&&T(e,["parameters","outputDimensionality"],A);const c=E(t,["mimeType"]);e!==void 0&&c!=null&&T(e,["instances[]","mimeType"],c);const h=E(t,["autoTruncate"]);return e!==void 0&&h!=null&&T(e,["parameters","autoTruncate"],h),n}function ZW(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["contents"]);if(s!=null){let h=Uw(t,s);Array.isArray(h)&&(h=h.map(d=>d)),T(n,["requests[]","content"],h)}const A=E(e,["config"]);A!=null&&YW(A,n);const c=E(e,["model"]);return c!==void 0&&T(n,["requests[]","model"],jr(t,c)),n}function $W(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["contents"]);if(s!=null){let c=Uw(t,s);Array.isArray(c)&&(c=c.map(h=>h)),T(n,["instances[]","content"],c)}const A=E(e,["config"]);return A!=null&&JW(A,n),n}function eX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["embeddings"]);if(i!=null){let A=i;Array.isArray(A)&&(A=A.map(c=>c)),T(r,["embeddings"],A)}const s=E(t,["metadata"]);return s!=null&&T(r,["metadata"],s),r}function tX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["predictions[]","embeddings"]);if(i!=null){let A=i;Array.isArray(A)&&(A=A.map(c=>UW(c))),T(r,["embeddings"],A)}const s=E(t,["metadata"]);return s!=null&&T(r,["metadata"],s),r}function rX(t,e){const r={},n=E(t,["endpoint"]);n!=null&&T(r,["name"],n);const i=E(t,["deployedModelId"]);return i!=null&&T(r,["deployedModelId"],i),r}function nX(t,e){const r={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&T(r,["fileUri"],n);const i=E(t,["mimeType"]);return i!=null&&T(r,["mimeType"],i),r}function iX(t,e){const r={},n=E(t,["id"]);n!=null&&T(r,["id"],n);const i=E(t,["args"]);i!=null&&T(r,["args"],i);const s=E(t,["name"]);if(s!=null&&T(r,["name"],s),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function sX(t,e){const r={},n=E(t,["allowedFunctionNames"]);n!=null&&T(r,["allowedFunctionNames"],n);const i=E(t,["mode"]);if(i!=null&&T(r,["mode"],i),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}function aX(t,e){const r={},n=E(t,["description"]);n!=null&&T(r,["description"],n);const i=E(t,["name"]);i!=null&&T(r,["name"],i);const s=E(t,["parameters"]);s!=null&&T(r,["parameters"],s);const A=E(t,["parametersJsonSchema"]);A!=null&&T(r,["parametersJsonSchema"],A);const c=E(t,["response"]);c!=null&&T(r,["response"],c);const h=E(t,["responseJsonSchema"]);if(h!=null&&T(r,["responseJsonSchema"],h),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return r}function oX(t,e,r,n){const i={},s=E(e,["systemInstruction"]);r!==void 0&&s!=null&&T(r,["systemInstruction"],pg(ls(s)));const A=E(e,["temperature"]);A!=null&&T(i,["temperature"],A);const c=E(e,["topP"]);c!=null&&T(i,["topP"],c);const h=E(e,["topK"]);h!=null&&T(i,["topK"],h);const d=E(e,["candidateCount"]);d!=null&&T(i,["candidateCount"],d);const x=E(e,["maxOutputTokens"]);x!=null&&T(i,["maxOutputTokens"],x);const C=E(e,["stopSequences"]);C!=null&&T(i,["stopSequences"],C);const B=E(e,["responseLogprobs"]);B!=null&&T(i,["responseLogprobs"],B);const F=E(e,["logprobs"]);F!=null&&T(i,["logprobs"],F);const D=E(e,["presencePenalty"]);D!=null&&T(i,["presencePenalty"],D);const R=E(e,["frequencyPenalty"]);R!=null&&T(i,["frequencyPenalty"],R);const k=E(e,["seed"]);k!=null&&T(i,["seed"],k);const j=E(e,["responseMimeType"]);j!=null&&T(i,["responseMimeType"],j);const G=E(e,["responseSchema"]);G!=null&&T(i,["responseSchema"],kw(G));const Q=E(e,["responseJsonSchema"]);if(Q!=null&&T(i,["responseJsonSchema"],Q),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const ee=E(e,["safetySettings"]);if(r!==void 0&&ee!=null){let Me=ee;Array.isArray(Me)&&(Me=Me.map(ye=>JX(ye))),T(r,["safetySettings"],Me)}const ne=E(e,["tools"]);if(r!==void 0&&ne!=null){let Me=Qu(ne);Array.isArray(Me)&&(Me=Me.map(ye=>iq(Lu(ye)))),T(r,["tools"],Me)}const te=E(e,["toolConfig"]);if(r!==void 0&&te!=null&&T(r,["toolConfig"],nq(te)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=E(e,["cachedContent"]);r!==void 0&&M!=null&&T(r,["cachedContent"],gA(t,M));const H=E(e,["responseModalities"]);H!=null&&T(i,["responseModalities"],H);const O=E(e,["mediaResolution"]);O!=null&&T(i,["mediaResolution"],O);const z=E(e,["speechConfig"]);if(z!=null&&T(i,["speechConfig"],Mw(z)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=E(e,["thinkingConfig"]);J!=null&&T(i,["thinkingConfig"],J);const W=E(e,["imageConfig"]);W!=null&&T(i,["imageConfig"],UX(W));const X=E(e,["enableEnhancedCivicAnswers"]);if(X!=null&&T(i,["enableEnhancedCivicAnswers"],X),E(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function AX(t,e,r,n){const i={},s=E(e,["systemInstruction"]);r!==void 0&&s!=null&&T(r,["systemInstruction"],ls(s));const A=E(e,["temperature"]);A!=null&&T(i,["temperature"],A);const c=E(e,["topP"]);c!=null&&T(i,["topP"],c);const h=E(e,["topK"]);h!=null&&T(i,["topK"],h);const d=E(e,["candidateCount"]);d!=null&&T(i,["candidateCount"],d);const x=E(e,["maxOutputTokens"]);x!=null&&T(i,["maxOutputTokens"],x);const C=E(e,["stopSequences"]);C!=null&&T(i,["stopSequences"],C);const B=E(e,["responseLogprobs"]);B!=null&&T(i,["responseLogprobs"],B);const F=E(e,["logprobs"]);F!=null&&T(i,["logprobs"],F);const D=E(e,["presencePenalty"]);D!=null&&T(i,["presencePenalty"],D);const R=E(e,["frequencyPenalty"]);R!=null&&T(i,["frequencyPenalty"],R);const k=E(e,["seed"]);k!=null&&T(i,["seed"],k);const j=E(e,["responseMimeType"]);j!=null&&T(i,["responseMimeType"],j);const G=E(e,["responseSchema"]);G!=null&&T(i,["responseSchema"],kw(G));const Q=E(e,["responseJsonSchema"]);Q!=null&&T(i,["responseJsonSchema"],Q);const ee=E(e,["routingConfig"]);ee!=null&&T(i,["routingConfig"],ee);const ne=E(e,["modelSelectionConfig"]);ne!=null&&T(i,["modelConfig"],ne);const te=E(e,["safetySettings"]);if(r!==void 0&&te!=null){let He=te;Array.isArray(He)&&(He=He.map(Be=>Be)),T(r,["safetySettings"],He)}const M=E(e,["tools"]);if(r!==void 0&&M!=null){let He=Qu(M);Array.isArray(He)&&(He=He.map(Be=>K3(Lu(Be)))),T(r,["tools"],He)}const H=E(e,["toolConfig"]);r!==void 0&&H!=null&&T(r,["toolConfig"],H);const O=E(e,["labels"]);r!==void 0&&O!=null&&T(r,["labels"],O);const z=E(e,["cachedContent"]);r!==void 0&&z!=null&&T(r,["cachedContent"],gA(t,z));const J=E(e,["responseModalities"]);J!=null&&T(i,["responseModalities"],J);const W=E(e,["mediaResolution"]);W!=null&&T(i,["mediaResolution"],W);const X=E(e,["speechConfig"]);X!=null&&T(i,["speechConfig"],Mw(X));const Me=E(e,["audioTimestamp"]);Me!=null&&T(i,["audioTimestamp"],Me);const ye=E(e,["thinkingConfig"]);ye!=null&&T(i,["thinkingConfig"],ye);const we=E(e,["imageConfig"]);if(we!=null&&T(i,["imageConfig"],kX(we)),E(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ce=E(e,["modelArmorConfig"]);return r!==void 0&&ce!=null&&T(r,["modelArmorConfig"],ce),i}function hb(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["contents"]);if(s!=null){let c=ka(s);Array.isArray(c)&&(c=c.map(h=>pg(h))),T(n,["contents"],c)}const A=E(e,["config"]);return A!=null&&T(n,["generationConfig"],oX(t,A,n)),n}function gb(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["contents"]);if(s!=null){let c=ka(s);Array.isArray(c)&&(c=c.map(h=>h)),T(n,["contents"],c)}const A=E(e,["config"]);return A!=null&&T(n,["generationConfig"],AX(t,A,n)),n}function pb(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(x=>NW(x))),T(r,["candidates"],d)}const s=E(t,["modelVersion"]);s!=null&&T(r,["modelVersion"],s);const A=E(t,["promptFeedback"]);A!=null&&T(r,["promptFeedback"],A);const c=E(t,["responseId"]);c!=null&&T(r,["responseId"],c);const h=E(t,["usageMetadata"]);return h!=null&&T(r,["usageMetadata"],h),r}function mb(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["candidates"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(C=>C)),T(r,["candidates"],x)}const s=E(t,["createTime"]);s!=null&&T(r,["createTime"],s);const A=E(t,["modelVersion"]);A!=null&&T(r,["modelVersion"],A);const c=E(t,["promptFeedback"]);c!=null&&T(r,["promptFeedback"],c);const h=E(t,["responseId"]);h!=null&&T(r,["responseId"],h);const d=E(t,["usageMetadata"]);return d!=null&&T(r,["usageMetadata"],d),r}function lX(t,e,r){const n={};if(E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=E(t,["numberOfImages"]);e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i);const s=E(t,["aspectRatio"]);e!==void 0&&s!=null&&T(e,["parameters","aspectRatio"],s);const A=E(t,["guidanceScale"]);if(e!==void 0&&A!=null&&T(e,["parameters","guidanceScale"],A),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=E(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&T(e,["parameters","safetySetting"],c);const h=E(t,["personGeneration"]);e!==void 0&&h!=null&&T(e,["parameters","personGeneration"],h);const d=E(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&T(e,["parameters","includeSafetyAttributes"],d);const x=E(t,["includeRaiReason"]);e!==void 0&&x!=null&&T(e,["parameters","includeRaiReason"],x);const C=E(t,["language"]);e!==void 0&&C!=null&&T(e,["parameters","language"],C);const B=E(t,["outputMimeType"]);e!==void 0&&B!=null&&T(e,["parameters","outputOptions","mimeType"],B);const F=E(t,["outputCompressionQuality"]);if(e!==void 0&&F!=null&&T(e,["parameters","outputOptions","compressionQuality"],F),E(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=E(t,["imageSize"]);if(e!==void 0&&D!=null&&T(e,["parameters","sampleImageSize"],D),E(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function cX(t,e,r){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&T(e,["parameters","storageUri"],i);const s=E(t,["negativePrompt"]);e!==void 0&&s!=null&&T(e,["parameters","negativePrompt"],s);const A=E(t,["numberOfImages"]);e!==void 0&&A!=null&&T(e,["parameters","sampleCount"],A);const c=E(t,["aspectRatio"]);e!==void 0&&c!=null&&T(e,["parameters","aspectRatio"],c);const h=E(t,["guidanceScale"]);e!==void 0&&h!=null&&T(e,["parameters","guidanceScale"],h);const d=E(t,["seed"]);e!==void 0&&d!=null&&T(e,["parameters","seed"],d);const x=E(t,["safetyFilterLevel"]);e!==void 0&&x!=null&&T(e,["parameters","safetySetting"],x);const C=E(t,["personGeneration"]);e!==void 0&&C!=null&&T(e,["parameters","personGeneration"],C);const B=E(t,["includeSafetyAttributes"]);e!==void 0&&B!=null&&T(e,["parameters","includeSafetyAttributes"],B);const F=E(t,["includeRaiReason"]);e!==void 0&&F!=null&&T(e,["parameters","includeRaiReason"],F);const D=E(t,["language"]);e!==void 0&&D!=null&&T(e,["parameters","language"],D);const R=E(t,["outputMimeType"]);e!==void 0&&R!=null&&T(e,["parameters","outputOptions","mimeType"],R);const k=E(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&T(e,["parameters","outputOptions","compressionQuality"],k);const j=E(t,["addWatermark"]);e!==void 0&&j!=null&&T(e,["parameters","addWatermark"],j);const G=E(t,["labels"]);e!==void 0&&G!=null&&T(e,["labels"],G);const Q=E(t,["imageSize"]);e!==void 0&&Q!=null&&T(e,["parameters","sampleImageSize"],Q);const ee=E(t,["enhancePrompt"]);return e!==void 0&&ee!=null&&T(e,["parameters","enhancePrompt"],ee),n}function uX(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const A=E(e,["config"]);return A!=null&&lX(A,n),n}function fX(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const A=E(e,["config"]);return A!=null&&cX(A,n),n}function dX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let A=i;Array.isArray(A)&&(A=A.map(c=>_X(c))),T(r,["generatedImages"],A)}const s=E(t,["positivePromptSafetyAttributes"]);return s!=null&&T(r,["positivePromptSafetyAttributes"],j3(s)),r}function hX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let A=i;Array.isArray(A)&&(A=A.map(c=>mg(c))),T(r,["generatedImages"],A)}const s=E(t,["positivePromptSafetyAttributes"]);return s!=null&&T(r,["positivePromptSafetyAttributes"],G3(s)),r}function gX(t,e,r){const n={},i=E(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i),E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=E(t,["durationSeconds"]);if(e!==void 0&&s!=null&&T(e,["parameters","durationSeconds"],s),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const A=E(t,["aspectRatio"]);e!==void 0&&A!=null&&T(e,["parameters","aspectRatio"],A);const c=E(t,["resolution"]);e!==void 0&&c!=null&&T(e,["parameters","resolution"],c);const h=E(t,["personGeneration"]);if(e!==void 0&&h!=null&&T(e,["parameters","personGeneration"],h),E(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=E(t,["negativePrompt"]);e!==void 0&&d!=null&&T(e,["parameters","negativePrompt"],d);const x=E(t,["enhancePrompt"]);if(e!==void 0&&x!=null&&T(e,["parameters","enhancePrompt"],x),E(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const C=E(t,["lastFrame"]);e!==void 0&&C!=null&&T(e,["instances[0]","lastFrame"],xg(C));const B=E(t,["referenceImages"]);if(e!==void 0&&B!=null){let F=B;Array.isArray(F)&&(F=F.map(D=>mq(D))),T(e,["instances[0]","referenceImages"],F)}if(E(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(E(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function pX(t,e,r){const n={},i=E(t,["numberOfVideos"]);e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i);const s=E(t,["outputGcsUri"]);e!==void 0&&s!=null&&T(e,["parameters","storageUri"],s);const A=E(t,["fps"]);e!==void 0&&A!=null&&T(e,["parameters","fps"],A);const c=E(t,["durationSeconds"]);e!==void 0&&c!=null&&T(e,["parameters","durationSeconds"],c);const h=E(t,["seed"]);e!==void 0&&h!=null&&T(e,["parameters","seed"],h);const d=E(t,["aspectRatio"]);e!==void 0&&d!=null&&T(e,["parameters","aspectRatio"],d);const x=E(t,["resolution"]);e!==void 0&&x!=null&&T(e,["parameters","resolution"],x);const C=E(t,["personGeneration"]);e!==void 0&&C!=null&&T(e,["parameters","personGeneration"],C);const B=E(t,["pubsubTopic"]);e!==void 0&&B!=null&&T(e,["parameters","pubsubTopic"],B);const F=E(t,["negativePrompt"]);e!==void 0&&F!=null&&T(e,["parameters","negativePrompt"],F);const D=E(t,["enhancePrompt"]);e!==void 0&&D!=null&&T(e,["parameters","enhancePrompt"],D);const R=E(t,["generateAudio"]);e!==void 0&&R!=null&&T(e,["parameters","generateAudio"],R);const k=E(t,["lastFrame"]);e!==void 0&&k!=null&&T(e,["instances[0]","lastFrame"],ao(k));const j=E(t,["referenceImages"]);if(e!==void 0&&j!=null){let ee=j;Array.isArray(ee)&&(ee=ee.map(ne=>xq(ne))),T(e,["instances[0]","referenceImages"],ee)}const G=E(t,["mask"]);e!==void 0&&G!=null&&T(e,["instances[0]","mask"],pq(G));const Q=E(t,["compressionQuality"]);return e!==void 0&&Q!=null&&T(e,["parameters","compressionQuality"],Q),n}function mX(t,e){const r={},n=E(t,["name"]);n!=null&&T(r,["name"],n);const i=E(t,["metadata"]);i!=null&&T(r,["metadata"],i);const s=E(t,["done"]);s!=null&&T(r,["done"],s);const A=E(t,["error"]);A!=null&&T(r,["error"],A);const c=E(t,["response","generateVideoResponse"]);return c!=null&&T(r,["response"],yX(c)),r}function xX(t,e){const r={},n=E(t,["name"]);n!=null&&T(r,["name"],n);const i=E(t,["metadata"]);i!=null&&T(r,["metadata"],i);const s=E(t,["done"]);s!=null&&T(r,["done"],s);const A=E(t,["error"]);A!=null&&T(r,["error"],A);const c=E(t,["response"]);return c!=null&&T(r,["response"],CX(c)),r}function wX(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const A=E(e,["image"]);A!=null&&T(n,["instances[0]","image"],xg(A));const c=E(e,["video"]);c!=null&&T(n,["instances[0]","video"],z3(c));const h=E(e,["source"]);h!=null&&EX(h,n);const d=E(e,["config"]);return d!=null&&gX(d,n),n}function vX(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const A=E(e,["image"]);A!=null&&T(n,["instances[0]","image"],ao(A));const c=E(e,["video"]);c!=null&&T(n,["instances[0]","video"],W3(c));const h=E(e,["source"]);h!=null&&BX(h,n);const d=E(e,["config"]);return d!=null&&pX(d,n),n}function yX(t,e){const r={},n=E(t,["generatedSamples"]);if(n!=null){let A=n;Array.isArray(A)&&(A=A.map(c=>bX(c))),T(r,["generatedVideos"],A)}const i=E(t,["raiMediaFilteredCount"]);i!=null&&T(r,["raiMediaFilteredCount"],i);const s=E(t,["raiMediaFilteredReasons"]);return s!=null&&T(r,["raiMediaFilteredReasons"],s),r}function CX(t,e){const r={},n=E(t,["videos"]);if(n!=null){let A=n;Array.isArray(A)&&(A=A.map(c=>SX(c))),T(r,["generatedVideos"],A)}const i=E(t,["raiMediaFilteredCount"]);i!=null&&T(r,["raiMediaFilteredCount"],i);const s=E(t,["raiMediaFilteredReasons"]);return s!=null&&T(r,["raiMediaFilteredReasons"],s),r}function EX(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&T(e,["instances[0]","prompt"],i);const s=E(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],xg(s));const A=E(t,["video"]);return e!==void 0&&A!=null&&T(e,["instances[0]","video"],z3(A)),n}function BX(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&T(e,["instances[0]","prompt"],i);const s=E(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],ao(s));const A=E(t,["video"]);return e!==void 0&&A!=null&&T(e,["instances[0]","video"],W3(A)),n}function _X(t,e){const r={},n=E(t,["_self"]);n!=null&&T(r,["image"],MX(n));const i=E(t,["raiFilteredReason"]);i!=null&&T(r,["raiFilteredReason"],i);const s=E(t,["_self"]);return s!=null&&T(r,["safetyAttributes"],j3(s)),r}function mg(t,e){const r={},n=E(t,["_self"]);n!=null&&T(r,["image"],V3(n));const i=E(t,["raiFilteredReason"]);i!=null&&T(r,["raiFilteredReason"],i);const s=E(t,["_self"]);s!=null&&T(r,["safetyAttributes"],G3(s));const A=E(t,["prompt"]);return A!=null&&T(r,["enhancedPrompt"],A),r}function TX(t,e){const r={},n=E(t,["_self"]);n!=null&&T(r,["mask"],V3(n));const i=E(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),T(r,["labels"],s)}return r}function bX(t,e){const r={},n=E(t,["video"]);return n!=null&&T(r,["video"],hq(n)),r}function SX(t,e){const r={},n=E(t,["_self"]);return n!=null&&T(r,["video"],gq(n)),r}function IX(t,e){const r={},n=E(t,["modelSelectionConfig"]);n!=null&&T(r,["modelConfig"],n);const i=E(t,["responseJsonSchema"]);i!=null&&T(r,["responseJsonSchema"],i);const s=E(t,["audioTimestamp"]);s!=null&&T(r,["audioTimestamp"],s);const A=E(t,["candidateCount"]);A!=null&&T(r,["candidateCount"],A);const c=E(t,["enableAffectiveDialog"]);c!=null&&T(r,["enableAffectiveDialog"],c);const h=E(t,["frequencyPenalty"]);h!=null&&T(r,["frequencyPenalty"],h);const d=E(t,["logprobs"]);d!=null&&T(r,["logprobs"],d);const x=E(t,["maxOutputTokens"]);x!=null&&T(r,["maxOutputTokens"],x);const C=E(t,["mediaResolution"]);C!=null&&T(r,["mediaResolution"],C);const B=E(t,["presencePenalty"]);B!=null&&T(r,["presencePenalty"],B);const F=E(t,["responseLogprobs"]);F!=null&&T(r,["responseLogprobs"],F);const D=E(t,["responseMimeType"]);D!=null&&T(r,["responseMimeType"],D);const R=E(t,["responseModalities"]);R!=null&&T(r,["responseModalities"],R);const k=E(t,["responseSchema"]);k!=null&&T(r,["responseSchema"],k);const j=E(t,["routingConfig"]);j!=null&&T(r,["routingConfig"],j);const G=E(t,["seed"]);G!=null&&T(r,["seed"],G);const Q=E(t,["speechConfig"]);Q!=null&&T(r,["speechConfig"],Q);const ee=E(t,["stopSequences"]);ee!=null&&T(r,["stopSequences"],ee);const ne=E(t,["temperature"]);ne!=null&&T(r,["temperature"],ne);const te=E(t,["thinkingConfig"]);te!=null&&T(r,["thinkingConfig"],te);const M=E(t,["topK"]);M!=null&&T(r,["topK"],M);const H=E(t,["topP"]);if(H!=null&&T(r,["topP"],H),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function NX(t,e,r){const n={},i=E(e,["model"]);return i!=null&&T(n,["_url","name"],jr(t,i)),n}function FX(t,e,r){const n={},i=E(e,["model"]);return i!=null&&T(n,["_url","name"],jr(t,i)),n}function RX(t,e){const r={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&T(r,["enableWidget"],n),r}function DX(t,e){const r={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&T(r,["timeRangeFilter"],n),r}function UX(t,e){const r={},n=E(t,["aspectRatio"]);n!=null&&T(r,["aspectRatio"],n);const i=E(t,["imageSize"]);if(i!=null&&T(r,["imageSize"],i),E(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return r}function kX(t,e){const r={},n=E(t,["aspectRatio"]);n!=null&&T(r,["aspectRatio"],n);const i=E(t,["imageSize"]);i!=null&&T(r,["imageSize"],i);const s=E(t,["personGeneration"]);s!=null&&T(r,["personGeneration"],s);const A=E(t,["outputMimeType"]);A!=null&&T(r,["imageOutputOptions","mimeType"],A);const c=E(t,["outputCompressionQuality"]);return c!=null&&T(r,["imageOutputOptions","compressionQuality"],c),r}function MX(t,e){const r={},n=E(t,["bytesBase64Encoded"]);n!=null&&T(r,["imageBytes"],xl(n));const i=E(t,["mimeType"]);return i!=null&&T(r,["mimeType"],i),r}function V3(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&T(r,["gcsUri"],n);const i=E(t,["bytesBase64Encoded"]);i!=null&&T(r,["imageBytes"],xl(i));const s=E(t,["mimeType"]);return s!=null&&T(r,["mimeType"],s),r}function xg(t,e){const r={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=E(t,["imageBytes"]);n!=null&&T(r,["bytesBase64Encoded"],xl(n));const i=E(t,["mimeType"]);return i!=null&&T(r,["mimeType"],i),r}function ao(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&T(r,["gcsUri"],n);const i=E(t,["imageBytes"]);i!=null&&T(r,["bytesBase64Encoded"],xl(i));const s=E(t,["mimeType"]);return s!=null&&T(r,["mimeType"],s),r}function OX(t,e,r,n){const i={},s=E(e,["pageSize"]);r!==void 0&&s!=null&&T(r,["_query","pageSize"],s);const A=E(e,["pageToken"]);r!==void 0&&A!=null&&T(r,["_query","pageToken"],A);const c=E(e,["filter"]);r!==void 0&&c!=null&&T(r,["_query","filter"],c);const h=E(e,["queryBase"]);return r!==void 0&&h!=null&&T(r,["_url","models_url"],k3(t,h)),i}function LX(t,e,r,n){const i={},s=E(e,["pageSize"]);r!==void 0&&s!=null&&T(r,["_query","pageSize"],s);const A=E(e,["pageToken"]);r!==void 0&&A!=null&&T(r,["_query","pageToken"],A);const c=E(e,["filter"]);r!==void 0&&c!=null&&T(r,["_query","filter"],c);const h=E(e,["queryBase"]);return r!==void 0&&h!=null&&T(r,["_url","models_url"],k3(t,h)),i}function QX(t,e,r){const n={},i=E(e,["config"]);return i!=null&&OX(t,i,n),n}function PX(t,e,r){const n={},i=E(e,["config"]);return i!=null&&LX(t,i,n),n}function HX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&T(r,["nextPageToken"],i);const s=E(t,["_self"]);if(s!=null){let A=M3(s);Array.isArray(A)&&(A=A.map(c=>m2(c))),T(r,["models"],A)}return r}function VX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&T(r,["nextPageToken"],i);const s=E(t,["_self"]);if(s!=null){let A=M3(s);Array.isArray(A)&&(A=A.map(c=>x2(c))),T(r,["models"],A)}return r}function jX(t,e){const r={},n=E(t,["maskMode"]);n!=null&&T(r,["maskMode"],n);const i=E(t,["segmentationClasses"]);i!=null&&T(r,["maskClasses"],i);const s=E(t,["maskDilation"]);return s!=null&&T(r,["dilation"],s),r}function m2(t,e){const r={},n=E(t,["name"]);n!=null&&T(r,["name"],n);const i=E(t,["displayName"]);i!=null&&T(r,["displayName"],i);const s=E(t,["description"]);s!=null&&T(r,["description"],s);const A=E(t,["version"]);A!=null&&T(r,["version"],A);const c=E(t,["_self"]);c!=null&&T(r,["tunedModelInfo"],sq(c));const h=E(t,["inputTokenLimit"]);h!=null&&T(r,["inputTokenLimit"],h);const d=E(t,["outputTokenLimit"]);d!=null&&T(r,["outputTokenLimit"],d);const x=E(t,["supportedGenerationMethods"]);x!=null&&T(r,["supportedActions"],x);const C=E(t,["temperature"]);C!=null&&T(r,["temperature"],C);const B=E(t,["maxTemperature"]);B!=null&&T(r,["maxTemperature"],B);const F=E(t,["topP"]);F!=null&&T(r,["topP"],F);const D=E(t,["topK"]);D!=null&&T(r,["topK"],D);const R=E(t,["thinking"]);return R!=null&&T(r,["thinking"],R),r}function x2(t,e){const r={},n=E(t,["name"]);n!=null&&T(r,["name"],n);const i=E(t,["displayName"]);i!=null&&T(r,["displayName"],i);const s=E(t,["description"]);s!=null&&T(r,["description"],s);const A=E(t,["versionId"]);A!=null&&T(r,["version"],A);const c=E(t,["deployedModels"]);if(c!=null){let B=c;Array.isArray(B)&&(B=B.map(F=>rX(F))),T(r,["endpoints"],B)}const h=E(t,["labels"]);h!=null&&T(r,["labels"],h);const d=E(t,["_self"]);d!=null&&T(r,["tunedModelInfo"],aq(d));const x=E(t,["defaultCheckpointId"]);x!=null&&T(r,["defaultCheckpointId"],x);const C=E(t,["checkpoints"]);if(C!=null){let B=C;Array.isArray(B)&&(B=B.map(F=>F)),T(r,["checkpoints"],B)}return r}function GX(t,e){const r={},n=E(t,["mediaResolution"]);n!=null&&T(r,["mediaResolution"],n);const i=E(t,["codeExecutionResult"]);i!=null&&T(r,["codeExecutionResult"],i);const s=E(t,["executableCode"]);s!=null&&T(r,["executableCode"],s);const A=E(t,["fileData"]);A!=null&&T(r,["fileData"],nX(A));const c=E(t,["functionCall"]);c!=null&&T(r,["functionCall"],iX(c));const h=E(t,["functionResponse"]);h!=null&&T(r,["functionResponse"],h);const d=E(t,["inlineData"]);d!=null&&T(r,["inlineData"],IW(d));const x=E(t,["text"]);x!=null&&T(r,["text"],x);const C=E(t,["thought"]);C!=null&&T(r,["thought"],C);const B=E(t,["thoughtSignature"]);B!=null&&T(r,["thoughtSignature"],B);const F=E(t,["videoMetadata"]);return F!=null&&T(r,["videoMetadata"],F),r}function KX(t,e){const r={},n=E(t,["productImage"]);return n!=null&&T(r,["image"],ao(n)),r}function zX(t,e,r){const n={},i=E(t,["numberOfImages"]);e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i);const s=E(t,["baseSteps"]);e!==void 0&&s!=null&&T(e,["parameters","baseSteps"],s);const A=E(t,["outputGcsUri"]);e!==void 0&&A!=null&&T(e,["parameters","storageUri"],A);const c=E(t,["seed"]);e!==void 0&&c!=null&&T(e,["parameters","seed"],c);const h=E(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&T(e,["parameters","safetySetting"],h);const d=E(t,["personGeneration"]);e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d);const x=E(t,["addWatermark"]);e!==void 0&&x!=null&&T(e,["parameters","addWatermark"],x);const C=E(t,["outputMimeType"]);e!==void 0&&C!=null&&T(e,["parameters","outputOptions","mimeType"],C);const B=E(t,["outputCompressionQuality"]);e!==void 0&&B!=null&&T(e,["parameters","outputOptions","compressionQuality"],B);const F=E(t,["enhancePrompt"]);e!==void 0&&F!=null&&T(e,["parameters","enhancePrompt"],F);const D=E(t,["labels"]);return e!==void 0&&D!=null&&T(e,["labels"],D),n}function WX(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["source"]);s!=null&&qX(s,n);const A=E(e,["config"]);return A!=null&&zX(A,n),n}function XX(t,e){const r={},n=E(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>mg(s))),T(r,["generatedImages"],i)}return r}function qX(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&T(e,["instances[0]","prompt"],i);const s=E(t,["personImage"]);e!==void 0&&s!=null&&T(e,["instances[0]","personImage","image"],ao(s));const A=E(t,["productImages"]);if(e!==void 0&&A!=null){let c=A;Array.isArray(c)&&(c=c.map(h=>KX(h))),T(e,["instances[0]","productImages"],c)}return n}function YX(t,e){const r={},n=E(t,["referenceImage"]);n!=null&&T(r,["referenceImage"],ao(n));const i=E(t,["referenceId"]);i!=null&&T(r,["referenceId"],i);const s=E(t,["referenceType"]);s!=null&&T(r,["referenceType"],s);const A=E(t,["maskImageConfig"]);A!=null&&T(r,["maskImageConfig"],jX(A));const c=E(t,["controlImageConfig"]);c!=null&&T(r,["controlImageConfig"],MW(c));const h=E(t,["styleImageConfig"]);h!=null&&T(r,["styleImageConfig"],h);const d=E(t,["subjectImageConfig"]);return d!=null&&T(r,["subjectImageConfig"],d),r}function j3(t,e){const r={},n=E(t,["safetyAttributes","categories"]);n!=null&&T(r,["categories"],n);const i=E(t,["safetyAttributes","scores"]);i!=null&&T(r,["scores"],i);const s=E(t,["contentType"]);return s!=null&&T(r,["contentType"],s),r}function G3(t,e){const r={},n=E(t,["safetyAttributes","categories"]);n!=null&&T(r,["categories"],n);const i=E(t,["safetyAttributes","scores"]);i!=null&&T(r,["scores"],i);const s=E(t,["contentType"]);return s!=null&&T(r,["contentType"],s),r}function JX(t,e){const r={},n=E(t,["category"]);if(n!=null&&T(r,["category"],n),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=E(t,["threshold"]);return i!=null&&T(r,["threshold"],i),r}function ZX(t,e){const r={},n=E(t,["image"]);return n!=null&&T(r,["image"],ao(n)),r}function $X(t,e,r){const n={},i=E(t,["mode"]);e!==void 0&&i!=null&&T(e,["parameters","mode"],i);const s=E(t,["maxPredictions"]);e!==void 0&&s!=null&&T(e,["parameters","maxPredictions"],s);const A=E(t,["confidenceThreshold"]);e!==void 0&&A!=null&&T(e,["parameters","confidenceThreshold"],A);const c=E(t,["maskDilation"]);e!==void 0&&c!=null&&T(e,["parameters","maskDilation"],c);const h=E(t,["binaryColorThreshold"]);e!==void 0&&h!=null&&T(e,["parameters","binaryColorThreshold"],h);const d=E(t,["labels"]);return e!==void 0&&d!=null&&T(e,["labels"],d),n}function eq(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["source"]);s!=null&&rq(s,n);const A=E(e,["config"]);return A!=null&&$X(A,n),n}function tq(t,e){const r={},n=E(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>TX(s))),T(r,["generatedMasks"],i)}return r}function rq(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&T(e,["instances[0]","prompt"],i);const s=E(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],ao(s));const A=E(t,["scribbleImage"]);return e!==void 0&&A!=null&&T(e,["instances[0]","scribble"],ZX(A)),n}function nq(t,e){const r={},n=E(t,["retrievalConfig"]);n!=null&&T(r,["retrievalConfig"],n);const i=E(t,["functionCallingConfig"]);return i!=null&&T(r,["functionCallingConfig"],sX(i)),r}function iq(t,e){const r={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&T(r,["computerUse"],n);const i=E(t,["fileSearch"]);i!=null&&T(r,["fileSearch"],i);const s=E(t,["codeExecution"]);if(s!=null&&T(r,["codeExecution"],s),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const A=E(t,["functionDeclarations"]);if(A!=null){let C=A;Array.isArray(C)&&(C=C.map(B=>B)),T(r,["functionDeclarations"],C)}const c=E(t,["googleMaps"]);c!=null&&T(r,["googleMaps"],RX(c));const h=E(t,["googleSearch"]);h!=null&&T(r,["googleSearch"],DX(h));const d=E(t,["googleSearchRetrieval"]);d!=null&&T(r,["googleSearchRetrieval"],d);const x=E(t,["urlContext"]);return x!=null&&T(r,["urlContext"],x),r}function K3(t,e){const r={},n=E(t,["retrieval"]);n!=null&&T(r,["retrieval"],n);const i=E(t,["computerUse"]);if(i!=null&&T(r,["computerUse"],i),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=E(t,["codeExecution"]);s!=null&&T(r,["codeExecution"],s);const A=E(t,["enterpriseWebSearch"]);A!=null&&T(r,["enterpriseWebSearch"],A);const c=E(t,["functionDeclarations"]);if(c!=null){let B=c;Array.isArray(B)&&(B=B.map(F=>aX(F))),T(r,["functionDeclarations"],B)}const h=E(t,["googleMaps"]);h!=null&&T(r,["googleMaps"],h);const d=E(t,["googleSearch"]);d!=null&&T(r,["googleSearch"],d);const x=E(t,["googleSearchRetrieval"]);x!=null&&T(r,["googleSearchRetrieval"],x);const C=E(t,["urlContext"]);return C!=null&&T(r,["urlContext"],C),r}function sq(t,e){const r={},n=E(t,["baseModel"]);n!=null&&T(r,["baseModel"],n);const i=E(t,["createTime"]);i!=null&&T(r,["createTime"],i);const s=E(t,["updateTime"]);return s!=null&&T(r,["updateTime"],s),r}function aq(t,e){const r={},n=E(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&T(r,["baseModel"],n);const i=E(t,["createTime"]);i!=null&&T(r,["createTime"],i);const s=E(t,["updateTime"]);return s!=null&&T(r,["updateTime"],s),r}function oq(t,e,r){const n={},i=E(t,["displayName"]);e!==void 0&&i!=null&&T(e,["displayName"],i);const s=E(t,["description"]);e!==void 0&&s!=null&&T(e,["description"],s);const A=E(t,["defaultCheckpointId"]);return e!==void 0&&A!=null&&T(e,["defaultCheckpointId"],A),n}function Aq(t,e,r){const n={},i=E(t,["displayName"]);e!==void 0&&i!=null&&T(e,["displayName"],i);const s=E(t,["description"]);e!==void 0&&s!=null&&T(e,["description"],s);const A=E(t,["defaultCheckpointId"]);return e!==void 0&&A!=null&&T(e,["defaultCheckpointId"],A),n}function lq(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","name"],jr(t,i));const s=E(e,["config"]);return s!=null&&oq(s,n),n}function cq(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["config"]);return s!=null&&Aq(s,n),n}function uq(t,e,r){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&T(e,["parameters","storageUri"],i);const s=E(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&T(e,["parameters","safetySetting"],s);const A=E(t,["personGeneration"]);e!==void 0&&A!=null&&T(e,["parameters","personGeneration"],A);const c=E(t,["includeRaiReason"]);e!==void 0&&c!=null&&T(e,["parameters","includeRaiReason"],c);const h=E(t,["outputMimeType"]);e!==void 0&&h!=null&&T(e,["parameters","outputOptions","mimeType"],h);const d=E(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&T(e,["parameters","outputOptions","compressionQuality"],d);const x=E(t,["enhanceInputImage"]);e!==void 0&&x!=null&&T(e,["parameters","upscaleConfig","enhanceInputImage"],x);const C=E(t,["imagePreservationFactor"]);e!==void 0&&C!=null&&T(e,["parameters","upscaleConfig","imagePreservationFactor"],C);const B=E(t,["labels"]);e!==void 0&&B!=null&&T(e,["labels"],B);const F=E(t,["numberOfImages"]);e!==void 0&&F!=null&&T(e,["parameters","sampleCount"],F);const D=E(t,["mode"]);return e!==void 0&&D!=null&&T(e,["parameters","mode"],D),n}function fq(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],jr(t,i));const s=E(e,["image"]);s!=null&&T(n,["instances[0]","image"],ao(s));const A=E(e,["upscaleFactor"]);A!=null&&T(n,["parameters","upscaleConfig","upscaleFactor"],A);const c=E(e,["config"]);return c!=null&&uq(c,n),n}function dq(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>mg(A))),T(r,["generatedImages"],s)}return r}function hq(t,e){const r={},n=E(t,["uri"]);n!=null&&T(r,["uri"],n);const i=E(t,["encodedVideo"]);i!=null&&T(r,["videoBytes"],xl(i));const s=E(t,["encoding"]);return s!=null&&T(r,["mimeType"],s),r}function gq(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&T(r,["uri"],n);const i=E(t,["bytesBase64Encoded"]);i!=null&&T(r,["videoBytes"],xl(i));const s=E(t,["mimeType"]);return s!=null&&T(r,["mimeType"],s),r}function pq(t,e){const r={},n=E(t,["image"]);n!=null&&T(r,["_self"],ao(n));const i=E(t,["maskMode"]);return i!=null&&T(r,["maskMode"],i),r}function mq(t,e){const r={},n=E(t,["image"]);n!=null&&T(r,["image"],xg(n));const i=E(t,["referenceType"]);return i!=null&&T(r,["referenceType"],i),r}function xq(t,e){const r={},n=E(t,["image"]);n!=null&&T(r,["image"],ao(n));const i=E(t,["referenceType"]);return i!=null&&T(r,["referenceType"],i),r}function z3(t,e){const r={},n=E(t,["uri"]);n!=null&&T(r,["uri"],n);const i=E(t,["videoBytes"]);i!=null&&T(r,["encodedVideo"],xl(i));const s=E(t,["mimeType"]);return s!=null&&T(r,["encoding"],s),r}function W3(t,e){const r={},n=E(t,["uri"]);n!=null&&T(r,["gcsUri"],n);const i=E(t,["videoBytes"]);i!=null&&T(r,["bytesBase64Encoded"],xl(i));const s=E(t,["mimeType"]);return s!=null&&T(r,["mimeType"],s),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wq(t,e){const r={},n=E(t,["displayName"]);return e!==void 0&&n!=null&&T(e,["displayName"],n),r}function vq(t){const e={},r=E(t,["config"]);return r!=null&&wq(r,e),e}function yq(t,e){const r={},n=E(t,["force"]);return e!==void 0&&n!=null&&T(e,["_query","force"],n),r}function Cq(t){const e={},r=E(t,["name"]);r!=null&&T(e,["_url","name"],r);const n=E(t,["config"]);return n!=null&&yq(n,e),e}function Eq(t){const e={},r=E(t,["name"]);return r!=null&&T(e,["_url","name"],r),e}function Bq(t,e){const r={},n=E(t,["customMetadata"]);if(e!==void 0&&n!=null){let s=n;Array.isArray(s)&&(s=s.map(A=>A)),T(e,["customMetadata"],s)}const i=E(t,["chunkingConfig"]);return e!==void 0&&i!=null&&T(e,["chunkingConfig"],i),r}function _q(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);s!=null&&T(e,["error"],s);const A=E(t,["response"]);return A!=null&&T(e,["response"],bq(A)),e}function Tq(t){const e={},r=E(t,["fileSearchStoreName"]);r!=null&&T(e,["_url","file_search_store_name"],r);const n=E(t,["fileName"]);n!=null&&T(e,["fileName"],n);const i=E(t,["config"]);return i!=null&&Bq(i,e),e}function bq(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["parent"]);n!=null&&T(e,["parent"],n);const i=E(t,["documentName"]);return i!=null&&T(e,["documentName"],i),e}function Sq(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),r}function Iq(t){const e={},r=E(t,["config"]);return r!=null&&Sq(r,e),e}function Nq(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),T(e,["fileSearchStores"],s)}return e}function X3(t,e){const r={},n=E(t,["mimeType"]);e!==void 0&&n!=null&&T(e,["mimeType"],n);const i=E(t,["displayName"]);e!==void 0&&i!=null&&T(e,["displayName"],i);const s=E(t,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>h)),T(e,["customMetadata"],c)}const A=E(t,["chunkingConfig"]);return e!==void 0&&A!=null&&T(e,["chunkingConfig"],A),r}function Fq(t){const e={},r=E(t,["fileSearchStoreName"]);r!=null&&T(e,["_url","file_search_store_name"],r);const n=E(t,["config"]);return n!=null&&X3(n,e),e}function Rq(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&T(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dq="Content-Type",Uq="X-Server-Timeout",kq="User-Agent",w2="x-goog-api-client",Mq="1.39.0",Oq=`google-genai-sdk/${Mq}`,Lq="v1beta1",Qq="v1beta";class Pq{constructor(e){var r,n,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(r=e.httpOptions)===null||r===void 0?void 0:r.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Lq}else{if(!this.clientOptions.apiKey)throw new If({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Qq,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,r){return!(r.baseUrl&&r.baseUrlResourceScope===d2.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,r),i=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[A,c]of Object.entries(e.queryParams))i.searchParams.append(A,String(c));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,r,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(r))typeof s=="object"?n[i]=Object.assign(Object.assign({},n[i]),s):s!==void 0&&(n[i]=s);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,r),i=this.constructUrl(e.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,r,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n,i){if(r&&r.timeout||i){const s=new AbortController,A=s.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const c=setTimeout(()=>s.abort(),r.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=A}return r&&r.extraBody!==null&&Hq(e,r.extraBody),e.headers=await this.getHeadersInternal(r,n),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await xb(i),new h2(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await xb(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return ro(this,arguments,function*(){var n;const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let A="";const c="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:x}=yield sr(i.read());if(d){if(A.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const C=s.decode(x,{stream:!0});try{const D=JSON.parse(C);if("error"in D){const R=JSON.parse(JSON.stringify(D.error)),k=R.status,j=R.code,G=`got status: ${k}. ${JSON.stringify(D)}`;if(j>=400&&j<600)throw new If({message:G,status:j})}}catch(D){if(D.name==="ApiError")throw D}A+=C;let B=-1,F=0;for(;;){B=-1,F=0;for(const k of h){const j=A.indexOf(k);j!==-1&&(B===-1||j<B)&&(B=j,F=k.length)}if(B===-1)break;const D=A.substring(0,B);A=A.substring(B+F);const R=D.trim();if(R.startsWith(c)){const k=R.substring(c.length).trim();try{const j=new Response(k,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield sr(new h2(j))}catch(j){throw new Error(`exception parsing stream chunk ${k}. ${j}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},r=Oq+" "+this.clientOptions.userAgentExtra;return e[kq]=r,e[w2]=r,e[Dq]="application/json",e}async getHeadersInternal(e,r){const n=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))n.append(i,s);e.timeout&&e.timeout>0&&n.append(Uq,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(e){var r;let n="";return typeof e=="string"&&(n=e.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(e,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,A=await s.stat(e);i.sizeBytes=String(A.size);const c=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:A.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const h={file:i},d=this.getFileName(e),x=Ft("upload/v1beta/files",h._url),C=await this.fetchUploadUrl(x,i.sizeBytes,i.mimeType,d,h,r==null?void 0:r.httpOptions);return s.upload(e,C,this)}async uploadFileToFileSearchStore(e,r,n){var i;const s=this.clientOptions.uploader,A=await s.stat(r),c=String(A.size),h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:A.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(r),C={};n!=null&&X3(n,C);const B=await this.fetchUploadUrl(d,c,h,x,C,n==null?void 0:n.httpOptions);return s.uploadToFileSearchStore(r,B,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,n,i,s,A){var c;let h={};A?h=A:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:h});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function xb(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let n;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?n=await t.json():n={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new If({message:i,status:r}):new Error(i)}}function Hq(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))r=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(s,A){const c=Object.assign({},s);for(const h in A)if(Object.prototype.hasOwnProperty.call(A,h)){const d=A[h],x=c[h];d&&typeof d=="object"&&!Array.isArray(d)&&x&&typeof x=="object"&&!Array.isArray(x)?c[h]=n(x,d):(x&&d&&typeof x!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof x}, New type: ${typeof d}. Overwriting.`),c[h]=d)}return c}const i=n(r,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vq="mcp_used/unknown";let jq=!1;function q3(t){for(const e of t)if(Gq(e)||typeof e=="object"&&"inputSchema"in e)return!0;return jq}function Y3(t){var e;const r=(e=t[w2])!==null&&e!==void 0?e:"";t[w2]=(r+` ${Vq}`).trimStart()}function Gq(t){return t!==null&&typeof t=="object"&&t instanceof Lw}function Kq(t){return ro(this,arguments,function*(r,n=100){let i,s=0;for(;s<n;){const A=yield sr(r.listTools({cursor:i}));for(const c of A.tools)yield yield sr(c),s++;if(!A.nextCursor)break;i=A.nextCursor}})}class Lw{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new Lw(e,r)}async initialize(){var e,r,n,i;if(this.mcpTools.length>0)return;const s={},A=[];for(const x of this.mcpClients)try{for(var c=!0,h=(r=void 0,no(Kq(x))),d;d=await h.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const C=i;A.push(C);const B=C.name;if(s[B])throw new Error(`Duplicate function name ${B} found in MCP tools. Please ensure function names are unique.`);s[B]=x}}catch(C){r={error:C}}finally{try{!c&&!e&&(n=h.return)&&await n.call(h)}finally{if(r)throw r.error}}this.mcpTools=A,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),vK(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const A=await i.callTool({name:n.name,arguments:n.args},void 0,s);r.push({functionResponse:{name:n.name,response:A.isError?{error:A}:A}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zq(t,e,r){const n=new fK;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),e(n)}class Wq{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),A=Yq(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),h=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const x=new Promise(Q=>{d=Q}),C=e.callbacks,B=function(){d({})},F=this.apiClient,D={onopen:B,onmessage:Q=>{zq(F,C.onmessage,Q)},onerror:(r=C==null?void 0:C.onerror)!==null&&r!==void 0?r:function(Q){},onclose:(n=C==null?void 0:C.onclose)!==null&&n!==void 0?n:function(Q){}},R=this.webSocketFactory.create(h,qq(A),D);R.connect(),await x;const G={setup:{model:jr(this.apiClient,e.model)}};return R.send(JSON.stringify(G)),new Xq(R,this.apiClient)}}class Xq{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=wW(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=xW(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(gu.PLAY)}pause(){this.sendPlaybackControl(gu.PAUSE)}stop(){this.sendPlaybackControl(gu.STOP)}resetContext(){this.sendPlaybackControl(gu.RESET_CONTEXT)}close(){this.conn.close()}}function qq(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function Yq(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jq="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Zq(t,e,r){const n=new uK;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const s=JSON.parse(i);if(t.isVertexAI()){const A=CW(s);Object.assign(n,A)}else Object.assign(n,s);e(n)}class $q{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new Wq(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,i,s,A,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let x;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&q3(e.config.tools)&&Y3(C);const B=nY(C);if(this.apiClient.isVertexAI()){const O=this.apiClient.getProject(),z=this.apiClient.getLocation(),J=this.apiClient.getApiKey(),W=!!O&&!!z||!!J;this.apiClient.getCustomBaseUrl()&&!W?x=h:(x=`${h}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(B,x))}else{const O=this.apiClient.getApiKey();let z="BidiGenerateContent",J="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",J="access_token"),x=`${h}/ws/google.ai.generativelanguage.${d}.GenerativeService.${z}?${J}=${O}`}let F=()=>{};const D=new Promise(O=>{F=O}),R=e.callbacks,k=function(){var O;(O=R==null?void 0:R.onopen)===null||O===void 0||O.call(R),F({})},j=this.apiClient,G={onopen:k,onmessage:O=>{Zq(j,R.onmessage,O)},onerror:(r=R==null?void 0:R.onerror)!==null&&r!==void 0?r:function(O){},onclose:(n=R==null?void 0:R.onclose)!==null&&n!==void 0?n:function(O){}},Q=this.webSocketFactory.create(x,rY(B),G);Q.connect(),await D;let ee=jr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ee.startsWith("publishers/")){const O=this.apiClient.getProject(),z=this.apiClient.getLocation();O&&z&&(ee=`projects/${O}/locations/${z}/`+ee)}let ne={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[M1.AUDIO]}:e.config.responseModalities=[M1.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(c=(A=e.config)===null||A===void 0?void 0:A.tools)!==null&&c!==void 0?c:[],M=[];for(const O of te)if(this.isCallableTool(O)){const z=O;M.push(await z.tool())}else M.push(O);M.length>0&&(e.config.tools=M);const H={model:ee,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ne=mW(this.apiClient,H):ne=pW(this.apiClient,H),delete ne.config,Q.send(JSON.stringify(ne)),new tY(Q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const eY={turnComplete:!0};class tY{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=ka(r.turns),e.isVertexAI()||(n=n.map(i=>pg(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const s of n){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Jq)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},eY),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:yW(e)}:r={realtimeInput:vW(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function rY(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function nY(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wb=10;function vb(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const A of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(Cu(A)){i=!0;break}if(!i)return!0;const s=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Cu(t){return"callTool"in t&&typeof t.callTool=="function"}function iY(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>Cu(i)))!==null&&n!==void 0?n:!1}function yb(t){var e;const r=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((n,i)=>{if(Cu(n))return;const s=n;s.functionDeclarations&&s.functionDeclarations.length>0&&r.push(i)}),r}function Cb(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sY extends hA{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,i,s,A,c;const h=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!iY(r)||vb(r.config))return await this.generateContentInternal(h);const d=yb(r);if(d.length>0){const R=d.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let x,C;const B=ka(h.contents),F=(s=(i=(n=h.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:wb;let D=0;for(;D<F&&(x=await this.generateContentInternal(h),!(!x.functionCalls||x.functionCalls.length===0));){const R=x.candidates[0].content,k=[];for(const j of(c=(A=r.config)===null||A===void 0?void 0:A.tools)!==null&&c!==void 0?c:[])if(Cu(j)){const Q=await j.callTool(x.functionCalls);k.push(...Q)}D++,C={role:"user",parts:k},h.contents=ka(h.contents),h.contents.push(R),h.contents.push(C),Cb(h.config)&&(B.push(R),B.push(C))}return Cb(h.config)&&(x.automaticFunctionCallingHistory=B),x},this.generateContentStream=async r=>{var n,i,s,A,c;if(this.maybeMoveToResponseJsonSchem(r),vb(r.config)){const C=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(C)}const h=yb(r);if(h.length>0){const C=h.map(B=>`tools[${B}]`).join(", ");throw new Error(`Incompatible tools found at ${C}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(s=(i=(n=r==null?void 0:r.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,x=(c=(A=r==null?void 0:r.config)===null||A===void 0?void 0:A.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let s;const A=[];if(n!=null&&n.generatedImages)for(const h of n.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((i=h==null?void 0:h.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=h==null?void 0:h.safetyAttributes:A.push(h);let c;return s?c={generatedImages:A,positivePromptSafetyAttributes:s,sdkHttpResponse:n.sdkHttpResponse}:c={generatedImages:A,sdkHttpResponse:n.sdkHttpResponse},c}),this.list=async r=>{var n;const A={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!A.config.queryBase){if(!((n=A.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");A.config.filter="labels.tune-type:*"}return new mc(AA.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(A),A)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,s,A,c,h;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((A=(s=r.source)===null||s===void 0?void 0:s.video)===null||A===void 0)&&A.uri&&(!((h=(c=r.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,n,i;const s=(r=e.config)===null||r===void 0?void 0:r.tools;if(!s)return e;const A=await Promise.all(s.map(async h=>Cu(h)?await h.tool():h)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:A})};if(c.config.tools=A,e.config&&e.config.tools&&q3(e.config.tools)){const h=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},h);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Y3(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var r,n,i;const s=new Map;for(const A of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(Cu(A)){const c=A,h=await c.tool();for(const d of(i=h.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,c)}}return s}async processAfcStream(e){var r,n,i;const s=(i=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:wb;let A=!1,c=0;const h=await this.initAfcToolsMap(e);return(function(d,x,C){return ro(this,arguments,function*(){for(var B,F,D,R,k,j;c<s;){A&&(c++,A=!1);const ne=yield sr(d.processParamsMaybeAddMcpUsage(C)),te=yield sr(d.generateContentStreamInternal(ne)),M=[],H=[];try{for(var G=!0,Q=(F=void 0,no(te)),ee;ee=yield sr(Q.next()),B=ee.done,!B;G=!0){R=ee.value,G=!1;const O=R;if(yield yield sr(O),O.candidates&&(!((k=O.candidates[0])===null||k===void 0)&&k.content)){H.push(O.candidates[0].content);for(const z of(j=O.candidates[0].content.parts)!==null&&j!==void 0?j:[])if(c<s&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(z.functionCall.name)){const J=yield sr(x.get(z.functionCall.name).callTool([z.functionCall]));M.push(...J)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(O){F={error:O}}finally{try{!G&&!B&&(D=Q.return)&&(yield sr(D.call(Q)))}finally{if(F)throw F.error}}if(M.length>0){A=!0;const O=new F0;O.candidates=[{content:{role:"user",parts:M}}],yield yield sr(O);const z=[];z.push(...H),z.push({role:"user",parts:M});const J=ka(C.contents).concat(z);C.contents=J}else break}})})(this,h,e)}async generateContentInternal(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=gb(this.apiClient,e);return c=Ft("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=mb(x),B=new F0;return Object.assign(B,C),B})}else{const d=hb(this.apiClient,e);return c=Ft("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=pb(x),B=new F0;return Object.assign(B,C),B})}}async generateContentStreamInternal(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=gb(this.apiClient,e);return c=Ft("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),A.then(function(C){return ro(this,arguments,function*(){var B,F,D,R;try{for(var k=!0,j=no(C),G;G=yield sr(j.next()),B=G.done,!B;k=!0){R=G.value,k=!1;const Q=R,ee=mb(yield sr(Q.json()),e);ee.sdkHttpResponse={headers:Q.headers};const ne=new F0;Object.assign(ne,ee),yield yield sr(ne)}}catch(Q){F={error:Q}}finally{try{!k&&!B&&(D=j.return)&&(yield sr(D.call(j)))}finally{if(F)throw F.error}}})})}else{const d=hb(this.apiClient,e);return c=Ft("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),A.then(function(C){return ro(this,arguments,function*(){var B,F,D,R;try{for(var k=!0,j=no(C),G;G=yield sr(j.next()),B=G.done,!B;k=!0){R=G.value,k=!1;const Q=R,ee=pb(yield sr(Q.json()),e);ee.sdkHttpResponse={headers:Q.headers};const ne=new F0;Object.assign(ne,ee),yield yield sr(ne)}}catch(Q){F={error:Q}}finally{try{!k&&!B&&(D=j.return)&&(yield sr(D.call(j)))}finally{if(F)throw F.error}}})})}}async embedContent(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=$W(this.apiClient,e);return c=Ft("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=tX(x),B=new JT;return Object.assign(B,C),B})}else{const d=ZW(this.apiClient,e);return c=Ft("{model}:batchEmbedContents",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=eX(x),B=new JT;return Object.assign(B,C),B})}}async generateImagesInternal(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=fX(this.apiClient,e);return c=Ft("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=hX(x),B=new ZT;return Object.assign(B,C),B})}else{const d=uX(this.apiClient,e);return c=Ft("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=dX(x),B=new ZT;return Object.assign(B,C),B})}}async editImageInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI()){const c=XW(this.apiClient,e);return s=Ft("{model}:predict",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>{const d=qW(h),x=new $G;return Object.assign(x,d),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI()){const c=fq(this.apiClient,e);return s=Ft("{model}:predict",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>{const d=dq(h),x=new eK;return Object.assign(x,d),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI()){const c=WX(this.apiClient,e);return s=Ft("{model}:predict",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>{const d=XX(h),x=new tK;return Object.assign(x,d),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI()){const c=eq(this.apiClient,e);return s=Ft("{model}:predict",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>{const d=tq(h),x=new rK;return Object.assign(x,d),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=FX(this.apiClient,e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json()),A.then(x=>x2(x))}else{const d=NX(this.apiClient,e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>m2(x))}}async listInternal(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=PX(this.apiClient,e);return c=Ft("{models_url}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=VX(x),B=new $T;return Object.assign(B,C),B})}else{const d=QX(this.apiClient,e);return c=Ft("{models_url}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=HX(x),B=new $T;return Object.assign(B,C),B})}}async update(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=cq(this.apiClient,e);return c=Ft("{model}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json()),A.then(x=>x2(x))}else{const d=lq(this.apiClient,e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>m2(x))}}async delete(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=GW(this.apiClient,e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=zW(x),B=new eb;return Object.assign(B,C),B})}else{const d=jW(this.apiClient,e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=KW(x),B=new eb;return Object.assign(B,C),B})}}async countTokens(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=PW(this.apiClient,e);return c=Ft("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=VW(x),B=new tb;return Object.assign(B,C),B})}else{const d=QW(this.apiClient,e);return c=Ft("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=HW(x),B=new tb;return Object.assign(B,C),B})}}async computeTokens(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI()){const c=RW(this.apiClient,e);return s=Ft("{model}:computeTokens",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>{const d=DW(h),x=new nK;return Object.assign(x,d),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=vX(this.apiClient,e);return c=Ft("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json()),A.then(x=>{const C=xX(x),B=new O1;return Object.assign(B,C),B})}else{const d=wX(this.apiClient,e);return c=Ft("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>{const C=mX(x),B=new O1;return Object.assign(B,C),B})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aY extends hA{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const A=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:s}});return r._fromAPIResponse({apiResponse:A,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const A=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:s}});return r._fromAPIResponse({apiResponse:A,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=WG(e);return c=Ft("{operationName}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json()),A}else{const d=zG(e);return c=Ft("{operationName}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A}}async fetchPredictVideosOperationInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI()){const c=QG(e);return s=Ft("{resourceName}:fetchPredictOperation",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oY(t){const e={},r=E(t,["data"]);if(r!=null&&T(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function AY(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>mY(s))),T(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&T(e,["role"],n),e}function lY(t,e,r){const n={},i=E(e,["expireTime"]);r!==void 0&&i!=null&&T(r,["expireTime"],i);const s=E(e,["newSessionExpireTime"]);r!==void 0&&s!=null&&T(r,["newSessionExpireTime"],s);const A=E(e,["uses"]);r!==void 0&&A!=null&&T(r,["uses"],A);const c=E(e,["liveConnectConstraints"]);r!==void 0&&c!=null&&T(r,["bidiGenerateContentSetup"],pY(t,c));const h=E(e,["lockAdditionalFields"]);return r!==void 0&&h!=null&&T(r,["fieldMask"],h),n}function cY(t,e){const r={},n=E(e,["config"]);return n!=null&&T(r,["config"],lY(t,n,r)),r}function uY(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&T(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function fY(t){const e={},r=E(t,["id"]);r!=null&&T(e,["id"],r);const n=E(t,["args"]);n!=null&&T(e,["args"],n);const i=E(t,["name"]);if(i!=null&&T(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dY(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&T(e,["enableWidget"],r),e}function hY(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&T(e,["timeRangeFilter"],r),e}function gY(t,e){const r={},n=E(t,["generationConfig"]);e!==void 0&&n!=null&&T(e,["setup","generationConfig"],n);const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","temperature"],s);const A=E(t,["topP"]);e!==void 0&&A!=null&&T(e,["setup","generationConfig","topP"],A);const c=E(t,["topK"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","topK"],c);const h=E(t,["maxOutputTokens"]);e!==void 0&&h!=null&&T(e,["setup","generationConfig","maxOutputTokens"],h);const d=E(t,["mediaResolution"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","mediaResolution"],d);const x=E(t,["seed"]);e!==void 0&&x!=null&&T(e,["setup","generationConfig","seed"],x);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&T(e,["setup","generationConfig","speechConfig"],Ow(C));const B=E(t,["thinkingConfig"]);e!==void 0&&B!=null&&T(e,["setup","generationConfig","thinkingConfig"],B);const F=E(t,["enableAffectiveDialog"]);e!==void 0&&F!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],F);const D=E(t,["systemInstruction"]);e!==void 0&&D!=null&&T(e,["setup","systemInstruction"],AY(ls(D)));const R=E(t,["tools"]);if(e!==void 0&&R!=null){let te=Qu(R);Array.isArray(te)&&(te=te.map(M=>wY(Lu(M)))),T(e,["setup","tools"],te)}const k=E(t,["sessionResumption"]);e!==void 0&&k!=null&&T(e,["setup","sessionResumption"],xY(k));const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&T(e,["setup","inputAudioTranscription"],j);const G=E(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&T(e,["setup","outputAudioTranscription"],G);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&T(e,["setup","realtimeInputConfig"],Q);const ee=E(t,["contextWindowCompression"]);e!==void 0&&ee!=null&&T(e,["setup","contextWindowCompression"],ee);const ne=E(t,["proactivity"]);if(e!==void 0&&ne!=null&&T(e,["setup","proactivity"],ne),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function pY(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["setup","model"],jr(t,n));const i=E(e,["config"]);return i!=null&&T(r,["config"],gY(i,r)),r}function mY(t){const e={},r=E(t,["mediaResolution"]);r!=null&&T(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&T(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&T(e,["fileData"],uY(s));const A=E(t,["functionCall"]);A!=null&&T(e,["functionCall"],fY(A));const c=E(t,["functionResponse"]);c!=null&&T(e,["functionResponse"],c);const h=E(t,["inlineData"]);h!=null&&T(e,["inlineData"],oY(h));const d=E(t,["text"]);d!=null&&T(e,["text"],d);const x=E(t,["thought"]);x!=null&&T(e,["thought"],x);const C=E(t,["thoughtSignature"]);C!=null&&T(e,["thoughtSignature"],C);const B=E(t,["videoMetadata"]);return B!=null&&T(e,["videoMetadata"],B),e}function xY(t){const e={},r=E(t,["handle"]);if(r!=null&&T(e,["handle"],r),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function wY(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&T(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&T(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&T(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(C=>C)),T(e,["functionDeclarations"],x)}const A=E(t,["googleMaps"]);A!=null&&T(e,["googleMaps"],dY(A));const c=E(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],hY(c));const h=E(t,["googleSearchRetrieval"]);h!=null&&T(e,["googleSearchRetrieval"],h);const d=E(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vY(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(s=>`${r}.${s}`);e.push(...i)}else e.push(r)}return e.join(",")}function yY(t,e){let r=null;const n=t.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const s=n.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,r=s):delete t.bidiGenerateContentSetup}else n!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(r){const s=vY(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const A=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>A.includes(d)?`generationConfig.${d}`:d));const h=[];s&&h.push(s),c.length>0&&h.push(...c),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class CY extends hA{constructor(e){super(),this.apiClient=e}async create(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=cY(this.apiClient,e);s=Ft("auth_tokens",c._url),A=c._query,delete c.config,delete c._url,delete c._query;const h=yY(c,e.config);return i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EY(t,e){const r={},n=E(t,["force"]);return e!==void 0&&n!=null&&T(e,["_query","force"],n),r}function BY(t){const e={},r=E(t,["name"]);r!=null&&T(e,["_url","name"],r);const n=E(t,["config"]);return n!=null&&EY(n,e),e}function _Y(t){const e={},r=E(t,["name"]);return r!=null&&T(e,["_url","name"],r),e}function TY(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),r}function bY(t){const e={},r=E(t,["parent"]);r!=null&&T(e,["_url","parent"],r);const n=E(t,["config"]);return n!=null&&TY(n,e),e}function SY(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),T(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IY extends hA{constructor(e){super(),this.apiClient=e,this.list=async r=>new mc(AA.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=_Y(e);return s=Ft("{name}",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(e){var r,n;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=BY(e);i=Ft("{name}",A._url),s=A._query,delete A._url,delete A._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=bY(e);return s=Ft("{parent}/documents",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>{const d=SY(h),x=new iK;return Object.assign(x,d),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NY extends hA{constructor(e,r=new IY(e)){super(),this.apiClient=e,this.documents=r,this.list=async(n={})=>new mc(AA.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vq(e);return s=Ft("fileSearchStores",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async get(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Eq(e);return s=Ft("{name}",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(e){var r,n;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Cq(e);i=Ft("{name}",A._url),s=A._query,delete A._url,delete A._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Iq(e);return s=Ft("fileSearchStores",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>{const d=Nq(h),x=new sK;return Object.assign(x,d),x})}}async uploadToFileSearchStoreInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Fq(e);return s=Ft("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>{const d=Rq(h),x=new aK;return Object.assign(x,d),x})}}async importFile(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Tq(e);return s=Ft("{file_search_store_name}:importFile",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>{const d=_q(h),x=new Rw;return Object.assign(x,d),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let J3=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return J3=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const FY=()=>J3();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v2(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const y2=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class La extends Error{}class bs extends La{constructor(e,r,n,i){super(`${bs.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.error=r}static makeMessage(e,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new wg({message:n,cause:y2(r)});const s=r;return e===400?new $3(e,s,n,i):e===401?new eN(e,s,n,i):e===403?new tN(e,s,n,i):e===404?new rN(e,s,n,i):e===409?new nN(e,s,n,i):e===422?new iN(e,s,n,i):e===429?new sN(e,s,n,i):e>=500?new aN(e,s,n,i):new bs(e,s,n,i)}}class C2 extends bs{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class wg extends bs{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class Z3 extends wg{constructor({message:e}={}){super({message:e??"Request timed out."})}}class $3 extends bs{}class eN extends bs{}class tN extends bs{}class rN extends bs{}class nN extends bs{}class iN extends bs{}class sN extends bs{}class aN extends bs{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RY=/^[a-z][a-z0-9+.-]*:/i,DY=t=>RY.test(t);let E2=t=>(E2=Array.isArray,E2(t));const UY=E2;let kY=UY;const Eb=kY;function MY(t){if(!t)return!0;for(const e in t)return!1;return!0}function OY(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const LY=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new La(`${t} must be an integer`);if(e<0)throw new La(`${t} must be a positive integer`);return e},QY=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PY=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Au="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HY(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const VY=()=>{var t,e,r,n,i;const s=HY();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":_b(Deno.build.os),"X-Stainless-Arch":Bb(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":_b((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":Bb((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const A=jY();return A?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${A.browser}`,"X-Stainless-Runtime-Version":A.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function jY(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,s=n[2]||0,A=n[3]||0;return{browser:e,version:`${i}.${s}.${A}`}}}return null}const Bb=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",_b=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Kh;const GY=()=>Kh??(Kh=VY());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KY(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function oN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function zY(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return oN({start(){},async pull(r){const{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=e.return)===null||r===void 0?void 0:r.call(e))}})}function AN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function WY(t){var e,r;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((r=(e=t[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(e));return}const n=t.getReader(),i=n.cancel();n.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XY=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lN=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,r=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function fx(t,e,r){return lN(),new File(t,e??"unknown_file",r)}function qY(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const YY=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",JY=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&cN(t),ZY=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function $Y(t,e,r){if(lN(),t=await t,JY(t))return t instanceof File?t:fx([await t.arrayBuffer()],t.name);if(ZY(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),fx(await B2(i),e,r)}const n=await B2(t);if(e||(e=qY(t)),!(r!=null&&r.type)){const i=n.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return fx(n,e,r)}async function B2(t){var e,r,n,i,s;let A=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)A.push(t);else if(cN(t))A.push(t instanceof Blob?t:await t.arrayBuffer());else if(YY(t))try{for(var c=!0,h=no(t),d;d=await h.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const x=i;A.push(...await B2(x))}}catch(x){r={error:x}}finally{try{!c&&!e&&(n=h.return)&&await n.call(h)}finally{if(r)throw r.error}}else{const x=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${x?`; constructor: ${x}`:""}${eJ(t)}`)}return A}function eJ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uN{constructor(e){this._client=e}}uN._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Tb=Object.freeze(Object.create(null)),tJ=(t=fN)=>(function(r,...n){if(r.length===1)return r[0];let i=!1;const s=[],A=r.reduce((x,C,B)=>{var F,D,R;/[?#]/.test(C)&&(i=!0);const k=n[B];let j=(i?encodeURIComponent:t)(""+k);return B!==n.length&&(k==null||typeof k=="object"&&k.toString===((R=Object.getPrototypeOf((D=Object.getPrototypeOf((F=k.hasOwnProperty)!==null&&F!==void 0?F:Tb))!==null&&D!==void 0?D:Tb))===null||R===void 0?void 0:R.toString))&&(j=k+"",s.push({start:x.length+C.length,length:j.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),x+C+(B===n.length?"":j)},""),c=A.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=h.exec(c))!==null;)s.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(s.sort((x,C)=>x.start-C.start),s.length>0){let x=0;const C=s.reduce((B,F)=>{const D=" ".repeat(F.start-x),R="^".repeat(F.length);return x=F.start+F.length,B+D+R},"");throw new La(`Path parameters result in path with invalid segments:
${s.map(B=>B.error).join(`
`)}
${A}
${C}`)}return A}),zh=tJ(fN);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dN extends uN{create(e,r){var n;const{api_version:i=this._client.apiVersion}=e,s=Q1(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new La("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new La("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(zh`/${i}/interactions`,Object.assign(Object.assign({body:s},r),{stream:(n=e.stream)!==null&&n!==void 0?n:!1}))}delete(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(zh`/${i}/interactions/${e}`,n)}cancel(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(zh`/${i}/interactions/${e}/cancel`,n)}get(e,r={},n){var i;const s=r??{},{api_version:A=this._client.apiVersion}=s,c=Q1(s,["api_version"]);return this._client.get(zh`/${A}/interactions/${e}`,Object.assign(Object.assign({query:c},n),{stream:(i=r==null?void 0:r.stream)!==null&&i!==void 0?i:!1}))}}dN._key=Object.freeze(["interactions"]);class hN extends dN{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rJ(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}let Wh;function Qw(t){let e;return(Wh??(e=new globalThis.TextEncoder,Wh=e.encode.bind(e)))(t)}let Xh;function bb(t){let e;return(Xh??(e=new globalThis.TextDecoder,Xh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vg{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Qw(e):e;this.buffer=rJ([this.buffer,r]);const n=[];let i;for(;(i=nJ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(bb(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,A=bb(this.buffer.subarray(0,s));n.push(A),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}vg.NEWLINE_CHARS=new Set([`
`,"\r"]);vg.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function nJ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function iJ(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P1={off:0,error:200,warn:300,info:400,debug:500},Sb=(t,e,r)=>{if(t){if(OY(P1,t))return t;vs(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(P1))}`)}};function z0(){}function qh(t,e,r){return!e||P1[t]>P1[r]?z0:e[t].bind(e)}const sJ={error:z0,warn:z0,info:z0,debug:z0};let Ib=new WeakMap;function vs(t){var e;const r=t.logger,n=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!r)return sJ;const i=Ib.get(r);if(i&&i[0]===n)return i[1];const s={error:qh("error",r,n),warn:qh("warn",r,n),info:qh("info",r,n),debug:qh("debug",r,n)};return Ib.set(r,[n,s]),s}const jl=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pu{constructor(e,r,n){this.iterator=e,this.controller=r,this.client=n}static fromSSEResponse(e,r,n){let i=!1;const s=n?vs(n):console;function A(){return ro(this,arguments,function*(){var h,d,x,C;if(i)throw new La("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let B=!1;try{try{for(var F=!0,D=no(aJ(e,r)),R;R=yield sr(D.next()),h=R.done,!h;F=!0){C=R.value,F=!1;const k=C;if(!B)if(k.data.startsWith("[DONE]")){B=!0;continue}else try{yield yield sr(JSON.parse(k.data))}catch(j){throw s.error("Could not parse message into JSON:",k.data),s.error("From chunk:",k.raw),j}}}catch(k){d={error:k}}finally{try{!F&&!h&&(x=D.return)&&(yield sr(x.call(D)))}finally{if(d)throw d.error}}B=!0}catch(k){if(v2(k))return yield sr(void 0);throw k}finally{B||r.abort()}})}return new pu(A,r,n)}static fromReadableStream(e,r,n){let i=!1;function s(){return ro(this,arguments,function*(){var h,d,x,C;const B=new vg,F=AN(e);try{for(var D=!0,R=no(F),k;k=yield sr(R.next()),h=k.done,!h;D=!0){C=k.value,D=!1;const j=C;for(const G of B.decode(j))yield yield sr(G)}}catch(j){d={error:j}}finally{try{!D&&!h&&(x=R.return)&&(yield sr(x.call(R)))}finally{if(d)throw d.error}}for(const j of B.flush())yield yield sr(j)})}function A(){return ro(this,arguments,function*(){var h,d,x,C;if(i)throw new La("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let B=!1;try{try{for(var F=!0,D=no(s()),R;R=yield sr(D.next()),h=R.done,!h;F=!0){C=R.value,F=!1;const k=C;B||k&&(yield yield sr(JSON.parse(k)))}}catch(k){d={error:k}}finally{try{!F&&!h&&(x=D.return)&&(yield sr(x.call(D)))}finally{if(d)throw d.error}}B=!0}catch(k){if(v2(k))return yield sr(void 0);throw k}finally{B||r.abort()}})}return new pu(A,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),i=s=>({next:()=>{if(s.length===0){const A=n.next();e.push(A),r.push(A)}return s.shift()}});return[new pu(()=>i(e),this.controller,this.client),new pu(()=>i(r),this.controller,this.client)]}toReadableStream(){const e=this;let r;return oN({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:s}=await r.next();if(s)return n.close();const A=Qw(JSON.stringify(i)+`
`);n.enqueue(A)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function aJ(t,e){return ro(this,arguments,function*(){var n,i,s,A;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new La("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new La("Attempted to iterate over a response with no body");const c=new AJ,h=new vg,d=AN(t.body);try{for(var x=!0,C=no(oJ(d)),B;B=yield sr(C.next()),n=B.done,!n;x=!0){A=B.value,x=!1;const F=A;for(const D of h.decode(F)){const R=c.decode(D);R&&(yield yield sr(R))}}}catch(F){i={error:F}}finally{try{!x&&!n&&(s=C.return)&&(yield sr(s.call(C)))}finally{if(i)throw i.error}}for(const F of h.flush()){const D=c.decode(F);D&&(yield yield sr(D))}})}function oJ(t){return ro(this,arguments,function*(){var r,n,i,s;let A=new Uint8Array;try{for(var c=!0,h=no(t),d;d=yield sr(h.next()),r=d.done,!r;c=!0){s=d.value,c=!1;const x=s;if(x==null)continue;const C=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Qw(x):x;let B=new Uint8Array(A.length+C.length);B.set(A),B.set(C,A.length),A=B;let F;for(;(F=iJ(A))!==-1;)yield yield sr(A.slice(0,F)),A=A.slice(F)}}catch(x){n={error:x}}finally{try{!c&&!r&&(i=h.return)&&(yield sr(i.call(h)))}finally{if(n)throw n.error}}A.length>0&&(yield yield sr(A))})}class AJ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=lJ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function lJ(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cJ(t,e){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:s}=e,A=await(async()=>{var c;if(e.options.stream)return vs(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):pu.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const h=r.headers.get("content-type"),d=(c=h==null?void 0:h.split(";")[0])===null||c===void 0?void 0:c.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await r.json():await r.text()})();return vs(t).debug(`[${n}] response parsed`,jl({retryOfRequestLogID:i,url:r.url,status:r.status,body:A,durationMs:Date.now()-s})),A}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pw extends Promise{constructor(e,r,n=cJ){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new Pw(this.client,this.responsePromise,async(r,n)=>e(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gN=Symbol("brand.privateNullableHeaders");function*uJ(t){if(!t)return;if(gN in t){const{values:n,nulls:i}=t;yield*n.entries();for(const s of i)yield[s,null];return}let e=!1,r;t instanceof Headers?r=t.entries():Eb(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=Eb(n[1])?n[1]:[n[1]];let A=!1;for(const c of s)c!==void 0&&(e&&!A&&(A=!0,yield[i,null]),yield[i,c])}}const R0=t=>{const e=new Headers,r=new Set;for(const n of t){const i=new Set;for(const[s,A]of uJ(n)){const c=s.toLowerCase();i.has(c)||(e.delete(s),i.add(c)),A===null?(e.delete(s),r.add(c)):(e.append(s,A),r.delete(c))}}return{[gN]:!0,values:e,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dx=t=>{var e,r,n,i,s,A;if(typeof globalThis.process<"u")return(n=(r=(e=DG)===null||e===void 0?void 0:e[t])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(A=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||A===void 0?void 0:A.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pN;class yg{constructor(e){var r,n,i,s,A,c,h,{baseURL:d=dx("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(r=dx("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:C="v1beta"}=e,B=Q1(e,["baseURL","apiKey","apiVersion"]);const F=Object.assign(Object.assign({apiKey:x,apiVersion:C},B),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=F.baseURL,this.timeout=(n=F.timeout)!==null&&n!==void 0?n:yg.DEFAULT_TIMEOUT,this.logger=(i=F.logger)!==null&&i!==void 0?i:console;const D="warn";this.logLevel=D,this.logLevel=(A=(s=Sb(F.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:Sb(dx("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&A!==void 0?A:D,this.fetchOptions=F.fetchOptions,this.maxRetries=(c=F.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(h=F.fetch)!==null&&h!==void 0?h:KY(),this.encoder=XY,this._options=F,this.apiKey=x,this.apiVersion=C,this.clientAdapter=F.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const r=R0([e.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return R0([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return R0([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new La(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Au}`}defaultIdempotencyKey(){return`stainless-node-retry-${FY()}`}makeStatusError(e,r,n,i){return bs.generate(e,r,n,i)}buildURL(e,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,s=DY(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),A=this.defaultQuery();return MY(A)||(r=Object.assign(Object.assign({},A),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(s.search=this.stringifyQuery(r)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const r=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:e,path:r},i)))}request(e,r=null){return new Pw(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){var i,s,A;const c=await e,h=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=h),await this.prepareOptions(c);const{req:d,url:x,timeout:C}=await this.buildRequest(c,{retryCount:h-r});await this.prepareRequest(d,{url:x,options:c});const B="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),F=n===void 0?"":`, retryOf: ${n}`,D=Date.now();if(vs(this).debug(`[${B}] sending request`,jl({retryOfRequestLogID:n,method:c.method,url:x,options:c,headers:d.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new C2;const R=new AbortController,k=await this.fetchWithTimeout(x,d,C,R).catch(y2),j=Date.now();if(k instanceof globalThis.Error){const Q=`retrying, ${r} attempts remaining`;if(!((A=c.signal)===null||A===void 0)&&A.aborted)throw new C2;const ee=v2(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(r)return vs(this).info(`[${B}] connection ${ee?"timed out":"failed"} - ${Q}`),vs(this).debug(`[${B}] connection ${ee?"timed out":"failed"} (${Q})`,jl({retryOfRequestLogID:n,url:x,durationMs:j-D,message:k.message})),this.retryRequest(c,r,n??B);throw vs(this).info(`[${B}] connection ${ee?"timed out":"failed"} - error; no more retries left`),vs(this).debug(`[${B}] connection ${ee?"timed out":"failed"} (error; no more retries left)`,jl({retryOfRequestLogID:n,url:x,durationMs:j-D,message:k.message})),ee?new Z3:new wg({cause:k})}const G=`[${B}${F}] ${d.method} ${x} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${j-D}ms`;if(!k.ok){const Q=await this.shouldRetry(k);if(r&&Q){const O=`retrying, ${r} attempts remaining`;return await WY(k.body),vs(this).info(`${G} - ${O}`),vs(this).debug(`[${B}] response error (${O})`,jl({retryOfRequestLogID:n,url:k.url,status:k.status,headers:k.headers,durationMs:j-D})),this.retryRequest(c,r,n??B,k.headers)}const ee=Q?"error; no more retries left":"error; not retryable";vs(this).info(`${G} - ${ee}`);const ne=await k.text().catch(O=>y2(O).message),te=QY(ne),M=te?void 0:ne;throw vs(this).debug(`[${B}] response error (${ee})`,jl({retryOfRequestLogID:n,url:k.url,status:k.status,headers:k.headers,message:M,durationMs:Date.now()-D})),this.makeStatusError(k.status,te,M,k.headers)}return vs(this).info(G),vs(this).debug(`[${B}] response start`,jl({retryOfRequestLogID:n,url:k.url,status:k.status,headers:k.headers,durationMs:j-D})),{response:k,options:c,controller:R,requestLogID:B,retryOfRequestLogID:n,startTime:D}}async fetchWithTimeout(e,r,n,i){const s=r||{},{signal:A,method:c}=s,h=Q1(s,["signal","method"]);A&&A.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),n),x=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,C=Object.assign(Object.assign(Object.assign({signal:i.signal},x?{duplex:"half"}:{}),{method:"GET"}),h);c&&(C.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,C)}finally{clearTimeout(d)}}async shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){var s;let A;const c=i==null?void 0:i.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(A=d)}const h=i==null?void 0:i.get("retry-after");if(h&&!A){const d=parseFloat(h);Number.isNaN(d)?A=Date.parse(h)-Date.now():A=d*1e3}if(!(A&&0<=A&&A<60*1e3)){const d=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;A=this.calculateDefaultRetryTimeoutMillis(r,d)}return await PY(A),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){const s=r-e,A=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return A*c*1e3}async buildRequest(e,{retryCount:r=0}={}){var n,i,s;const A=Object.assign({},e),{method:c,path:h,query:d,defaultBaseURL:x}=A,C=this.buildURL(h,d,x);"timeout"in A&&LY("timeout",A.timeout),A.timeout=(n=A.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:B,body:F}=this.buildBody({options:A}),D=await this.buildHeaders({options:e,method:c,bodyHeaders:B,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:D},A.signal&&{signal:A.signal}),globalThis.ReadableStream&&F instanceof globalThis.ReadableStream&&{duplex:"half"}),F&&{body:F}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=A.fetchOptions)!==null&&s!==void 0?s:{}),url:C,timeout:A.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let s={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const A=await this.authHeaders(e);let c=R0([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),GY()),this._options.defaultHeaders,n,e.headers,A]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=R0([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:zY(e)}:this.encoder({body:e,headers:n})}}yg.DEFAULT_TIMEOUT=6e4;class Fi extends yg{constructor(){super(...arguments),this.interactions=new hN(this)}}pN=Fi;Fi.GeminiNextGenAPIClient=pN;Fi.GeminiNextGenAPIClientError=La;Fi.APIError=bs;Fi.APIConnectionError=wg;Fi.APIConnectionTimeoutError=Z3;Fi.APIUserAbortError=C2;Fi.NotFoundError=rN;Fi.ConflictError=nN;Fi.RateLimitError=sN;Fi.BadRequestError=$3;Fi.AuthenticationError=eN;Fi.InternalServerError=aN;Fi.PermissionDeniedError=tN;Fi.UnprocessableEntityError=iN;Fi.toFile=$Y;Fi.Interactions=hN;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fJ(t,e){const r={},n=E(t,["name"]);return n!=null&&T(r,["_url","name"],n),r}function dJ(t,e){const r={},n=E(t,["name"]);return n!=null&&T(r,["_url","name"],n),r}function hJ(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&T(r,["sdkHttpResponse"],n),r}function gJ(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&T(r,["sdkHttpResponse"],n),r}function pJ(t,e,r){const n={};if(E(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=E(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&T(e,["displayName"],i),E(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=E(t,["epochCount"]);e!==void 0&&s!=null&&T(e,["tuningTask","hyperparameters","epochCount"],s);const A=E(t,["learningRateMultiplier"]);if(A!=null&&T(n,["tuningTask","hyperparameters","learningRateMultiplier"],A),E(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(E(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(E(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(E(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(E(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=E(t,["batchSize"]);e!==void 0&&c!=null&&T(e,["tuningTask","hyperparameters","batchSize"],c);const h=E(t,["learningRate"]);if(e!==void 0&&h!=null&&T(e,["tuningTask","hyperparameters","learningRate"],h),E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(E(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(E(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(E(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(E(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(E(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return n}function mJ(t,e,r){const n={};let i=E(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const ne=E(t,["validationDataset"]);e!==void 0&&ne!=null&&T(e,["supervisedTuningSpec"],hx(ne))}else if(i==="PREFERENCE_TUNING"){const ne=E(t,["validationDataset"]);e!==void 0&&ne!=null&&T(e,["preferenceOptimizationSpec"],hx(ne))}else if(i==="DISTILLATION"){const ne=E(t,["validationDataset"]);e!==void 0&&ne!=null&&T(e,["distillationSpec"],hx(ne))}const s=E(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&T(e,["tunedModelDisplayName"],s);const A=E(t,["description"]);e!==void 0&&A!=null&&T(e,["description"],A);let c=E(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const ne=E(t,["epochCount"]);e!==void 0&&ne!=null&&T(e,["supervisedTuningSpec","hyperParameters","epochCount"],ne)}else if(c==="PREFERENCE_TUNING"){const ne=E(t,["epochCount"]);e!==void 0&&ne!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],ne)}else if(c==="DISTILLATION"){const ne=E(t,["epochCount"]);e!==void 0&&ne!=null&&T(e,["distillationSpec","hyperParameters","epochCount"],ne)}let h=E(r,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const ne=E(t,["learningRateMultiplier"]);e!==void 0&&ne!=null&&T(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],ne)}else if(h==="PREFERENCE_TUNING"){const ne=E(t,["learningRateMultiplier"]);e!==void 0&&ne!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],ne)}else if(h==="DISTILLATION"){const ne=E(t,["learningRateMultiplier"]);e!==void 0&&ne!=null&&T(e,["distillationSpec","hyperParameters","learningRateMultiplier"],ne)}let d=E(r,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const ne=E(t,["exportLastCheckpointOnly"]);e!==void 0&&ne!=null&&T(e,["supervisedTuningSpec","exportLastCheckpointOnly"],ne)}else if(d==="PREFERENCE_TUNING"){const ne=E(t,["exportLastCheckpointOnly"]);e!==void 0&&ne!=null&&T(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],ne)}else if(d==="DISTILLATION"){const ne=E(t,["exportLastCheckpointOnly"]);e!==void 0&&ne!=null&&T(e,["distillationSpec","exportLastCheckpointOnly"],ne)}let x=E(r,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const ne=E(t,["adapterSize"]);e!==void 0&&ne!=null&&T(e,["supervisedTuningSpec","hyperParameters","adapterSize"],ne)}else if(x==="PREFERENCE_TUNING"){const ne=E(t,["adapterSize"]);e!==void 0&&ne!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],ne)}else if(x==="DISTILLATION"){const ne=E(t,["adapterSize"]);e!==void 0&&ne!=null&&T(e,["distillationSpec","hyperParameters","adapterSize"],ne)}let C=E(r,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const ne=E(t,["tuningMode"]);e!==void 0&&ne!=null&&T(e,["supervisedTuningSpec","tuningMode"],ne)}const B=E(t,["customBaseModel"]);e!==void 0&&B!=null&&T(e,["customBaseModel"],B);let F=E(r,["config","method"]);if(F===void 0&&(F="SUPERVISED_FINE_TUNING"),F==="SUPERVISED_FINE_TUNING"){const ne=E(t,["batchSize"]);e!==void 0&&ne!=null&&T(e,["supervisedTuningSpec","hyperParameters","batchSize"],ne)}let D=E(r,["config","method"]);if(D===void 0&&(D="SUPERVISED_FINE_TUNING"),D==="SUPERVISED_FINE_TUNING"){const ne=E(t,["learningRate"]);e!==void 0&&ne!=null&&T(e,["supervisedTuningSpec","hyperParameters","learningRate"],ne)}const R=E(t,["labels"]);e!==void 0&&R!=null&&T(e,["labels"],R);const k=E(t,["beta"]);e!==void 0&&k!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","beta"],k);const j=E(t,["baseTeacherModel"]);e!==void 0&&j!=null&&T(e,["distillationSpec","baseTeacherModel"],j);const G=E(t,["tunedTeacherModelSource"]);e!==void 0&&G!=null&&T(e,["distillationSpec","tunedTeacherModelSource"],G);const Q=E(t,["sftLossWeightMultiplier"]);e!==void 0&&Q!=null&&T(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],Q);const ee=E(t,["outputUri"]);return e!==void 0&&ee!=null&&T(e,["outputUri"],ee),n}function xJ(t,e){const r={},n=E(t,["baseModel"]);n!=null&&T(r,["baseModel"],n);const i=E(t,["preTunedModel"]);i!=null&&T(r,["preTunedModel"],i);const s=E(t,["trainingDataset"]);s!=null&&IJ(s);const A=E(t,["config"]);return A!=null&&pJ(A,r),r}function wJ(t,e){const r={},n=E(t,["baseModel"]);n!=null&&T(r,["baseModel"],n);const i=E(t,["preTunedModel"]);i!=null&&T(r,["preTunedModel"],i);const s=E(t,["trainingDataset"]);s!=null&&NJ(s,r,e);const A=E(t,["config"]);return A!=null&&mJ(A,r,e),r}function vJ(t,e){const r={},n=E(t,["name"]);return n!=null&&T(r,["_url","name"],n),r}function yJ(t,e){const r={},n=E(t,["name"]);return n!=null&&T(r,["_url","name"],n),r}function CJ(t,e,r){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&T(e,["_query","pageSize"],i);const s=E(t,["pageToken"]);e!==void 0&&s!=null&&T(e,["_query","pageToken"],s);const A=E(t,["filter"]);return e!==void 0&&A!=null&&T(e,["_query","filter"],A),n}function EJ(t,e,r){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&T(e,["_query","pageSize"],i);const s=E(t,["pageToken"]);e!==void 0&&s!=null&&T(e,["_query","pageToken"],s);const A=E(t,["filter"]);return e!==void 0&&A!=null&&T(e,["_query","filter"],A),n}function BJ(t,e){const r={},n=E(t,["config"]);return n!=null&&CJ(n,r),r}function _J(t,e){const r={},n=E(t,["config"]);return n!=null&&EJ(n,r),r}function TJ(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&T(r,["nextPageToken"],i);const s=E(t,["tunedModels"]);if(s!=null){let A=s;Array.isArray(A)&&(A=A.map(c=>mN(c))),T(r,["tuningJobs"],A)}return r}function bJ(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&T(r,["nextPageToken"],i);const s=E(t,["tuningJobs"]);if(s!=null){let A=s;Array.isArray(A)&&(A=A.map(c=>_2(c))),T(r,["tuningJobs"],A)}return r}function SJ(t,e){const r={},n=E(t,["name"]);n!=null&&T(r,["model"],n);const i=E(t,["name"]);return i!=null&&T(r,["endpoint"],i),r}function IJ(t,e){const r={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=E(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),T(r,["examples","examples"],i)}return r}function NJ(t,e,r){const n={};let i=E(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const A=E(t,["gcsUri"]);e!==void 0&&A!=null&&T(e,["supervisedTuningSpec","trainingDatasetUri"],A)}else if(i==="PREFERENCE_TUNING"){const A=E(t,["gcsUri"]);e!==void 0&&A!=null&&T(e,["preferenceOptimizationSpec","trainingDatasetUri"],A)}else if(i==="DISTILLATION"){const A=E(t,["gcsUri"]);e!==void 0&&A!=null&&T(e,["distillationSpec","promptDatasetUri"],A)}let s=E(r,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const A=E(t,["vertexDatasetResource"]);e!==void 0&&A!=null&&T(e,["supervisedTuningSpec","trainingDatasetUri"],A)}else if(s==="PREFERENCE_TUNING"){const A=E(t,["vertexDatasetResource"]);e!==void 0&&A!=null&&T(e,["preferenceOptimizationSpec","trainingDatasetUri"],A)}else if(s==="DISTILLATION"){const A=E(t,["vertexDatasetResource"]);e!==void 0&&A!=null&&T(e,["distillationSpec","promptDatasetUri"],A)}if(E(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function mN(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["name"]);i!=null&&T(r,["name"],i);const s=E(t,["state"]);s!=null&&T(r,["state"],D3(s));const A=E(t,["createTime"]);A!=null&&T(r,["createTime"],A);const c=E(t,["tuningTask","startTime"]);c!=null&&T(r,["startTime"],c);const h=E(t,["tuningTask","completeTime"]);h!=null&&T(r,["endTime"],h);const d=E(t,["updateTime"]);d!=null&&T(r,["updateTime"],d);const x=E(t,["description"]);x!=null&&T(r,["description"],x);const C=E(t,["baseModel"]);C!=null&&T(r,["baseModel"],C);const B=E(t,["_self"]);return B!=null&&T(r,["tunedModel"],SJ(B)),r}function _2(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["name"]);i!=null&&T(r,["name"],i);const s=E(t,["state"]);s!=null&&T(r,["state"],D3(s));const A=E(t,["createTime"]);A!=null&&T(r,["createTime"],A);const c=E(t,["startTime"]);c!=null&&T(r,["startTime"],c);const h=E(t,["endTime"]);h!=null&&T(r,["endTime"],h);const d=E(t,["updateTime"]);d!=null&&T(r,["updateTime"],d);const x=E(t,["error"]);x!=null&&T(r,["error"],x);const C=E(t,["description"]);C!=null&&T(r,["description"],C);const B=E(t,["baseModel"]);B!=null&&T(r,["baseModel"],B);const F=E(t,["tunedModel"]);F!=null&&T(r,["tunedModel"],F);const D=E(t,["preTunedModel"]);D!=null&&T(r,["preTunedModel"],D);const R=E(t,["supervisedTuningSpec"]);R!=null&&T(r,["supervisedTuningSpec"],R);const k=E(t,["preferenceOptimizationSpec"]);k!=null&&T(r,["preferenceOptimizationSpec"],k);const j=E(t,["distillationSpec"]);j!=null&&T(r,["distillationSpec"],j);const G=E(t,["tuningDataStats"]);G!=null&&T(r,["tuningDataStats"],G);const Q=E(t,["encryptionSpec"]);Q!=null&&T(r,["encryptionSpec"],Q);const ee=E(t,["partnerModelTuningSpec"]);ee!=null&&T(r,["partnerModelTuningSpec"],ee);const ne=E(t,["customBaseModel"]);ne!=null&&T(r,["customBaseModel"],ne);const te=E(t,["experiment"]);te!=null&&T(r,["experiment"],te);const M=E(t,["labels"]);M!=null&&T(r,["labels"],M);const H=E(t,["outputUri"]);H!=null&&T(r,["outputUri"],H);const O=E(t,["pipelineJob"]);O!=null&&T(r,["pipelineJob"],O);const z=E(t,["serviceAccount"]);z!=null&&T(r,["serviceAccount"],z);const J=E(t,["tunedModelDisplayName"]);J!=null&&T(r,["tunedModelDisplayName"],J);const W=E(t,["veoTuningSpec"]);return W!=null&&T(r,["veoTuningSpec"],W),r}function FJ(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["name"]);i!=null&&T(r,["name"],i);const s=E(t,["metadata"]);s!=null&&T(r,["metadata"],s);const A=E(t,["done"]);A!=null&&T(r,["done"],A);const c=E(t,["error"]);return c!=null&&T(r,["error"],c),r}function hx(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&T(r,["validationDatasetUri"],n);const i=E(t,["vertexDatasetResource"]);return i!=null&&T(r,["validationDatasetUri"],i),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RJ extends hA{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new mc(AA.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},r),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),s=await this.tuneMldevInternal(i);let A="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?A=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(A=s.name.split("/operations/")[0]),{name:A,state:f2.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=yJ(e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>_2(x))}else{const d=vJ(e);return c=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>mN(x))}}async listInternal(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=_J(e);return c=Ft("tuningJobs",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=bJ(x),B=new rb;return Object.assign(B,C),B})}else{const d=BJ(e);return c=Ft("tunedModels",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=TJ(x),B=new rb;return Object.assign(B,C),B})}}async cancel(e){var r,n,i,s;let A,c="",h={};if(this.apiClient.isVertexAI()){const d=dJ(e);return c=Ft("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=gJ(x),B=new nb;return Object.assign(B,C),B})}else{const d=fJ(e);return c=Ft("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const B=C;return B.sdkHttpResponse={headers:x.headers},B})),A.then(x=>{const C=hJ(x),B=new nb;return Object.assign(B,C),B})}}async tuneInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI()){const c=wJ(e,e);return s=Ft("tuningJobs",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>_2(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=xJ(e);return s=Ft("tunedModels",c._url),A=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>FJ(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DJ{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const UJ=1024*1024*8,kJ=3,MJ=1e3,OJ=2,H1="x-goog-upload-status";async function LJ(t,e,r){var n;const i=await xN(t,e,r),s=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[H1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function QJ(t,e,r){var n;const i=await xN(t,e,r),s=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[H1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const A=b3(s),c=new Dw;return Object.assign(c,A),c}async function xN(t,e,r){var n,i;let s=0,A=0,c=new h2(new Response),h="upload";for(s=t.size;A<s;){const d=Math.min(UJ,s-A),x=t.slice(A,A+d);A+d>=s&&(h+=", finalize");let C=0,B=MJ;for(;C<kJ&&(c=await r.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(A),"Content-Length":String(d)}}}),!(!((n=c==null?void 0:c.headers)===null||n===void 0)&&n[H1]));)C++,await HJ(B),B=B*OJ;if(A+=d,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[H1])!=="active")break;if(s<=A)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function PJ(t){return{size:t.size,type:t.type}}function HJ(t){return new Promise(e=>setTimeout(e,t))}class VJ{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LJ(e,r,n)}async uploadToFileSearchStore(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await QJ(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await PJ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jJ{create(e,r,n){return new GJ(e,r,n)}}class GJ{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nb="x-goog-api-key";class KJ{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get(Nb)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Nb,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zJ="gl-node/";class WJ{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Fi({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=r.interactions,this._interactions}constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=OG(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new KJ(this.apiKey);this.apiClient=new Pq({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:zJ+"web",uploader:new VJ,downloader:new DJ}),this.models=new sY(this.apiClient),this.live=new $q(this.apiClient,i,new jJ),this.batches=new dz(this.apiClient),this.chats=new Xz(this.models,this.apiClient),this.caches=new Kz(this.apiClient),this.files=new aW(this.apiClient),this.operations=new aY(this.apiClient),this.authTokens=new CY(this.apiClient),this.tunings=new RJ(this.apiClient),this.fileSearchStores=new NY(this.apiClient)}}const XJ=({products:t,invoices:e,currentUser:r,onAction:n,onSearchProduct:i})=>{const[s,A]=Se.useState(!1),[c,h]=Se.useState(!1),[d,x]=Se.useState(null),[C,B]=Se.useState(""),F=Se.useRef(null),D=Se.useRef(null);Se.useEffect(()=>{const j=window.SpeechRecognition||window.webkitSpeechRecognition;j&&(F.current=new j,F.current.continuous=!1,F.current.lang="ar-MA",F.current.interimResults=!0,F.current.onresult=G=>{let Q="";for(let ee=G.resultIndex;ee<G.results.length;++ee)Q+=G.results[ee][0].transcript;B(Q),G.results[0].isFinal&&k(Q)},F.current.onend=()=>{A(!1)},F.current.onerror=G=>{console.error("Speech error",G.error),A(!1)})},[]);const R=()=>{var j,G;s?(j=F.current)==null||j.stop():(D.current&&clearTimeout(D.current),x(null),B(""),(G=F.current)==null||G.start(),A(!0),navigator.vibrate&&navigator.vibrate(50))},k=async j=>{h(!0);try{const G=new WJ({apiKey:"PLACEHOLDER_API_KEY"}),Q=t.map(z=>`[ID:${z.id} NAME:${z.name} PRICE:${z.price}]`).join("; "),ee=e.map(z=>`[ID:${z.id} CUSTOMER:${z.name} REMAINING:${z.remainingAmount}]`).join("; "),ne=`
            MAMA.
         :
        : {${Q}}
        : {${ee}}
        : ${r.name}

        :   : "${j}"
        
        1.         : OPEN_INVOICE:ID.
        2.         : OPEN_PRODUCT:ID.
        3.  : NAVIGATE:products, customers, settings, create-invoice.
        4. : SEARCH:_.
        
        :   ( OPEN_INVOICE:INV-1)            .
      `,M=(await G.models.generateContent({model:"gemini-3-flash-preview",contents:j,config:{systemInstruction:ne}})).text||"",H=M.split(`
`);let O=M;for(const z of H)if(z.includes("OPEN_INVOICE:")){const J=z.split("OPEN_INVOICE:")[1].trim();n("OPEN_INVOICE",J),O=M.replace(z,"").trim()}else if(z.includes("OPEN_PRODUCT:")){const J=z.split("OPEN_PRODUCT:")[1].trim();n("OPEN_PRODUCT",J),O=M.replace(z,"").trim()}else if(z.includes("NAVIGATE:")){const J=z.split("NAVIGATE:")[1].trim().toLowerCase();n("NAVIGATE",J),O=M.replace(z,"").trim()}else if(z.includes("SEARCH:")){const J=z.split("SEARCH:")[1].trim();i(J),O=M.replace(z,"").trim()}x(O||" ."),D.current=setTimeout(()=>{x(null),B("")},3e3)}catch{x("    ."),D.current=setTimeout(()=>{x(null),B("")},3e3)}finally{h(!1)}};return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"fixed bottom-24 right-6 z-[200] flex flex-col items-end gap-3 pointer-events-none",children:[(C||d||c)&&p.jsxs("div",{className:"pointer-events-auto bg-[#1a1a1a]/95 backdrop-blur-xl border border-gray-800 p-4 rounded-[2rem] rounded-br-none shadow-2xl max-w-[280px] animate-in fade-in slide-in-from-bottom-2 duration-300",children:[C&&p.jsxs("div",{className:"mb-2 border-b border-gray-800/50 pb-2",children:[p.jsx("span",{className:"text-[10px] text-[#57b385] font-black uppercase block mb-1",children:" :"}),p.jsxs("p",{className:"text-xs font-medium text-gray-300 italic",children:['"',C,'"']})]}),c?p.jsxs("div",{className:"flex items-center gap-2 py-1",children:[p.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:" ..."}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce"}),p.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-75"}),p.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-150"})]})]}):d&&p.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-300",children:p.jsx("p",{className:"text-sm font-bold text-white leading-relaxed",children:d})})]}),p.jsxs("button",{onClick:R,className:`pointer-events-auto w-16 h-16 rounded-full flex items-center justify-center shadow-2xl transition-all duration-300 border-4 border-[#0c0c0c] relative group ${s?"bg-red-500 scale-110":"bg-[#57b385] hover:scale-110"}`,children:[s&&p.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500 animate-ping opacity-20"}),p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),p.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),p.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]})]})]})})};var Fb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},qJ=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],A=t[r++],c=t[r++],h=((i&7)<<18|(s&63)<<12|(A&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const s=t[r++],A=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|A&63)}}return e.join("")},vN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],A=i+1<t.length,c=A?t[i+1]:0,h=i+2<t.length,d=h?t[i+2]:0,x=s>>2,C=(s&3)<<4|c>>4;let B=(c&15)<<2|d>>6,F=d&63;h||(F=64,A||(B=64)),n.push(r[x],r[C],r[B],r[F])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const C=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||C==null)throw new YJ;const B=s<<2|c>>4;if(n.push(B),d!==64){const F=c<<4&240|d>>2;if(n.push(F),C!==64){const D=d<<6&192|C;n.push(D)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JJ=function(t){const e=wN(t);return vN.encodeByteArray(e,!0)},V1=function(t){return JJ(t).replace(/\./g,"")},ZJ=function(t){try{return vN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $J(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ=()=>$J().__FIREBASE_DEFAULTS__,tZ=()=>{if(typeof process>"u"||typeof Fb>"u")return;const t=Fb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZJ(t[1]);return e&&JSON.parse(e)},Hw=()=>{try{return eZ()||tZ()||rZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nZ=t=>{var e,r;return(r=(e=Hw())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},iZ=t=>{const e=nZ(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},yN=()=>{var t;return(t=Hw())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[V1(JSON.stringify(r)),V1(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AZ(){var t;const e=(t=Hw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lZ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cZ(){return!AZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CN(){try{return typeof indexedDB=="object"}catch{return!1}}function EN(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function uZ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ="FirebaseError";class wl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=fZ,Object.setPrototypeOf(this,wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cg.prototype.create)}}class Cg{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],A=s?dZ(s,n):"Error",c=`${this.serviceName}: ${A} (${i}).`;return new wl(i,c,n)}}function dZ(t,e){return t.replace(hZ,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const hZ=/\{\$([^}]+)}/g;function j1(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],A=e[i];if(Rb(s)&&Rb(A)){if(!j1(s,A))return!1}else if(s!==A)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Rb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gZ=1e3,pZ=2,mZ=14400*1e3,xZ=.5;function Db(t,e=gZ,r=pZ){const n=e*Math.pow(r,t),i=Math.round(xZ*n*(Math.random()-.5)*2);return Math.min(mZ,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){return t&&t._delegate?t._delegate:t}class lA{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new sZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yZ(e))try{this.getOrInitializeService({instanceIdentifier:Gl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Gl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gl){return this.instances.has(e)}getOptions(e=Gl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,A]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&A.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const A=this.instances.get(i);return A&&e(A,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:vZ(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Gl){return this.component?this.component.multipleInstances?e:Gl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vZ(t){return t===Gl?void 0:t}function yZ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new wZ(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Or||(Or={}));const EZ={debug:Or.DEBUG,verbose:Or.VERBOSE,info:Or.INFO,warn:Or.WARN,error:Or.ERROR,silent:Or.SILENT},BZ=Or.INFO,_Z={[Or.DEBUG]:"log",[Or.VERBOSE]:"log",[Or.INFO]:"info",[Or.WARN]:"warn",[Or.ERROR]:"error"},TZ=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=_Z[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vw{constructor(e){this.name=e,this._logLevel=BZ,this._logHandler=TZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Or))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Or.DEBUG,...e),this._logHandler(this,Or.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Or.VERBOSE,...e),this._logHandler(this,Or.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Or.INFO,...e),this._logHandler(this,Or.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Or.WARN,...e),this._logHandler(this,Or.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Or.ERROR,...e),this._logHandler(this,Or.ERROR,...e)}}const bZ=(t,e)=>e.some(r=>t instanceof r);let Ub,kb;function SZ(){return Ub||(Ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IZ(){return kb||(kb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BN=new WeakMap,T2=new WeakMap,_N=new WeakMap,gx=new WeakMap,jw=new WeakMap;function NZ(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",A)},s=()=>{r(sl(t.result)),i()},A=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",A)});return e.then(r=>{r instanceof IDBCursor&&BN.set(r,t)}).catch(()=>{}),jw.set(e,t),e}function FZ(t){if(T2.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",A),t.removeEventListener("abort",A)},s=()=>{r(),i()},A=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",A),t.addEventListener("abort",A)});T2.set(t,e)}let b2={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return T2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_N.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return sl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RZ(t){b2=t(b2)}function DZ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(px(this),e,...r);return _N.set(n,e.sort?e.sort():[e]),sl(n)}:IZ().includes(t)?function(...e){return t.apply(px(this),e),sl(BN.get(this))}:function(...e){return sl(t.apply(px(this),e))}}function UZ(t){return typeof t=="function"?DZ(t):(t instanceof IDBTransaction&&FZ(t),bZ(t,SZ())?new Proxy(t,b2):t)}function sl(t){if(t instanceof IDBRequest)return NZ(t);if(gx.has(t))return gx.get(t);const e=UZ(t);return e!==t&&(gx.set(t,e),jw.set(e,t)),e}const px=t=>jw.get(t);function TN(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const A=indexedDB.open(t,e),c=sl(A);return n&&A.addEventListener("upgradeneeded",h=>{n(sl(A.result),h.oldVersion,h.newVersion,sl(A.transaction),h)}),r&&A.addEventListener("blocked",h=>r(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const kZ=["get","getKey","getAll","getAllKeys","count"],MZ=["put","add","delete","clear"],mx=new Map;function Mb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mx.get(e))return mx.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=MZ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||kZ.includes(r)))return;const s=async function(A,...c){const h=this.transaction(A,i?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[r](...c),i&&h.done]))[0]};return mx.set(e,s),s}RZ(t=>({...t,get:(e,r,n)=>Mb(e,r)||t.get(e,r,n),has:(e,r)=>!!Mb(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(LZ(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function LZ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const S2="@firebase/app",Ob="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new Vw("@firebase/app"),QZ="@firebase/app-compat",PZ="@firebase/analytics-compat",HZ="@firebase/analytics",VZ="@firebase/app-check-compat",jZ="@firebase/app-check",GZ="@firebase/auth",KZ="@firebase/auth-compat",zZ="@firebase/database",WZ="@firebase/data-connect",XZ="@firebase/database-compat",qZ="@firebase/functions",YZ="@firebase/functions-compat",JZ="@firebase/installations",ZZ="@firebase/installations-compat",$Z="@firebase/messaging",e$="@firebase/messaging-compat",t$="@firebase/performance",r$="@firebase/performance-compat",n$="@firebase/remote-config",i$="@firebase/remote-config-compat",s$="@firebase/storage",a$="@firebase/storage-compat",o$="@firebase/firestore",A$="@firebase/vertexai-preview",l$="@firebase/firestore-compat",c$="firebase",u$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="[DEFAULT]",f$={[S2]:"fire-core",[QZ]:"fire-core-compat",[HZ]:"fire-analytics",[PZ]:"fire-analytics-compat",[jZ]:"fire-app-check",[VZ]:"fire-app-check-compat",[GZ]:"fire-auth",[KZ]:"fire-auth-compat",[zZ]:"fire-rtdb",[WZ]:"fire-data-connect",[XZ]:"fire-rtdb-compat",[qZ]:"fire-fn",[YZ]:"fire-fn-compat",[JZ]:"fire-iid",[ZZ]:"fire-iid-compat",[$Z]:"fire-fcm",[e$]:"fire-fcm-compat",[t$]:"fire-perf",[r$]:"fire-perf-compat",[n$]:"fire-rc",[i$]:"fire-rc-compat",[s$]:"fire-gcs",[a$]:"fire-gcs-compat",[o$]:"fire-fst",[l$]:"fire-fst-compat",[A$]:"fire-vertex","fire-js":"fire-js",[c$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Map,d$=new Map,N2=new Map;function Lb(t,e){try{t.container.addComponent(e)}catch(r){cA.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function fl(t){const e=t.name;if(N2.has(e))return cA.debug(`There were multiple attempts to register component ${e}.`),!1;N2.set(e,t);for(const r of G1.values())Lb(r,t);for(const r of d$.values())Lb(r,t);return!0}function Kf(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},al=new Cg("app","Firebase",h$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new lA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw al.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=u$;function bN(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:I2,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw al.create("bad-app-name",{appName:String(i)});if(r||(r=yN()),!r)throw al.create("no-options");const s=G1.get(i);if(s){if(j1(r,s.options)&&j1(n,s.config))return s;throw al.create("duplicate-app",{appName:i})}const A=new CZ(i);for(const h of N2.values())A.addComponent(h);const c=new g$(r,n,A);return G1.set(i,c),c}function SN(t=I2){const e=G1.get(t);if(!e&&t===I2&&yN())return bN();if(!e)throw al.create("no-app",{appName:t});return e}function wo(t,e,r){var n;let i=(n=f$[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),A=e.match(/\s|\//);if(s||A){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&A&&c.push("and"),A&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cA.warn(c.join(" "));return}fl(new lA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="firebase-heartbeat-database",x$=1,Nf="firebase-heartbeat-store";let xx=null;function IN(){return xx||(xx=TN(m$,x$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nf)}catch(r){console.warn(r)}}}}).catch(t=>{throw al.create("idb-open",{originalErrorMessage:t.message})})),xx}async function w$(t){try{const r=(await IN()).transaction(Nf),n=await r.objectStore(Nf).get(NN(t));return await r.done,n}catch(e){if(e instanceof wl)cA.warn(e.message);else{const r=al.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cA.warn(r.message)}}}async function Qb(t,e){try{const n=(await IN()).transaction(Nf,"readwrite");await n.objectStore(Nf).put(e,NN(t)),await n.done}catch(r){if(r instanceof wl)cA.warn(r.message);else{const n=al.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});cA.warn(n.message)}}}function NN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=1024,y$=720*60*60*1e3;class C${constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new B$(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(A=>A.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const c=new Date(A.date).valueOf();return Date.now()-c<=y$}),this._storage.overwrite(this._heartbeatsCache))}catch(n){cA.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Pb(),{heartbeatsToSend:n,unsentEntries:i}=E$(this._heartbeatsCache.heartbeats),s=V1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return cA.warn(r),""}}}function Pb(){return new Date().toISOString().substring(0,10)}function E$(t,e=v$){const r=[];let n=t.slice();for(const i of t){const s=r.find(A=>A.agent===i.agent);if(s){if(s.dates.push(i.date),Hb(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Hb(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class B${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CN()?EN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await w$(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qb(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qb(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Hb(t){return V1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t){fl(new lA("platform-logger",e=>new OZ(e),"PRIVATE")),fl(new lA("heartbeat",e=>new C$(e),"PRIVATE")),wo(S2,Ob,t),wo(S2,Ob,"esm2017"),wo("fire-js","")}_$("");var T$="firebase",b$="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(T$,b$,"app");var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tc,FN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,H){function O(){}O.prototype=H.prototype,M.D=H.prototype,M.prototype=new O,M.prototype.constructor=M,M.C=function(z,J,W){for(var X=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)X[Me-2]=arguments[Me];return H.prototype[J].apply(z,X)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,H,O){O||(O=0);var z=Array(16);if(typeof H=="string")for(var J=0;16>J;++J)z[J]=H.charCodeAt(O++)|H.charCodeAt(O++)<<8|H.charCodeAt(O++)<<16|H.charCodeAt(O++)<<24;else for(J=0;16>J;++J)z[J]=H[O++]|H[O++]<<8|H[O++]<<16|H[O++]<<24;H=M.g[0],O=M.g[1],J=M.g[2];var W=M.g[3],X=H+(W^O&(J^W))+z[0]+3614090360&4294967295;H=O+(X<<7&4294967295|X>>>25),X=W+(J^H&(O^J))+z[1]+3905402710&4294967295,W=H+(X<<12&4294967295|X>>>20),X=J+(O^W&(H^O))+z[2]+606105819&4294967295,J=W+(X<<17&4294967295|X>>>15),X=O+(H^J&(W^H))+z[3]+3250441966&4294967295,O=J+(X<<22&4294967295|X>>>10),X=H+(W^O&(J^W))+z[4]+4118548399&4294967295,H=O+(X<<7&4294967295|X>>>25),X=W+(J^H&(O^J))+z[5]+1200080426&4294967295,W=H+(X<<12&4294967295|X>>>20),X=J+(O^W&(H^O))+z[6]+2821735955&4294967295,J=W+(X<<17&4294967295|X>>>15),X=O+(H^J&(W^H))+z[7]+4249261313&4294967295,O=J+(X<<22&4294967295|X>>>10),X=H+(W^O&(J^W))+z[8]+1770035416&4294967295,H=O+(X<<7&4294967295|X>>>25),X=W+(J^H&(O^J))+z[9]+2336552879&4294967295,W=H+(X<<12&4294967295|X>>>20),X=J+(O^W&(H^O))+z[10]+4294925233&4294967295,J=W+(X<<17&4294967295|X>>>15),X=O+(H^J&(W^H))+z[11]+2304563134&4294967295,O=J+(X<<22&4294967295|X>>>10),X=H+(W^O&(J^W))+z[12]+1804603682&4294967295,H=O+(X<<7&4294967295|X>>>25),X=W+(J^H&(O^J))+z[13]+4254626195&4294967295,W=H+(X<<12&4294967295|X>>>20),X=J+(O^W&(H^O))+z[14]+2792965006&4294967295,J=W+(X<<17&4294967295|X>>>15),X=O+(H^J&(W^H))+z[15]+1236535329&4294967295,O=J+(X<<22&4294967295|X>>>10),X=H+(J^W&(O^J))+z[1]+4129170786&4294967295,H=O+(X<<5&4294967295|X>>>27),X=W+(O^J&(H^O))+z[6]+3225465664&4294967295,W=H+(X<<9&4294967295|X>>>23),X=J+(H^O&(W^H))+z[11]+643717713&4294967295,J=W+(X<<14&4294967295|X>>>18),X=O+(W^H&(J^W))+z[0]+3921069994&4294967295,O=J+(X<<20&4294967295|X>>>12),X=H+(J^W&(O^J))+z[5]+3593408605&4294967295,H=O+(X<<5&4294967295|X>>>27),X=W+(O^J&(H^O))+z[10]+38016083&4294967295,W=H+(X<<9&4294967295|X>>>23),X=J+(H^O&(W^H))+z[15]+3634488961&4294967295,J=W+(X<<14&4294967295|X>>>18),X=O+(W^H&(J^W))+z[4]+3889429448&4294967295,O=J+(X<<20&4294967295|X>>>12),X=H+(J^W&(O^J))+z[9]+568446438&4294967295,H=O+(X<<5&4294967295|X>>>27),X=W+(O^J&(H^O))+z[14]+3275163606&4294967295,W=H+(X<<9&4294967295|X>>>23),X=J+(H^O&(W^H))+z[3]+4107603335&4294967295,J=W+(X<<14&4294967295|X>>>18),X=O+(W^H&(J^W))+z[8]+1163531501&4294967295,O=J+(X<<20&4294967295|X>>>12),X=H+(J^W&(O^J))+z[13]+2850285829&4294967295,H=O+(X<<5&4294967295|X>>>27),X=W+(O^J&(H^O))+z[2]+4243563512&4294967295,W=H+(X<<9&4294967295|X>>>23),X=J+(H^O&(W^H))+z[7]+1735328473&4294967295,J=W+(X<<14&4294967295|X>>>18),X=O+(W^H&(J^W))+z[12]+2368359562&4294967295,O=J+(X<<20&4294967295|X>>>12),X=H+(O^J^W)+z[5]+4294588738&4294967295,H=O+(X<<4&4294967295|X>>>28),X=W+(H^O^J)+z[8]+2272392833&4294967295,W=H+(X<<11&4294967295|X>>>21),X=J+(W^H^O)+z[11]+1839030562&4294967295,J=W+(X<<16&4294967295|X>>>16),X=O+(J^W^H)+z[14]+4259657740&4294967295,O=J+(X<<23&4294967295|X>>>9),X=H+(O^J^W)+z[1]+2763975236&4294967295,H=O+(X<<4&4294967295|X>>>28),X=W+(H^O^J)+z[4]+1272893353&4294967295,W=H+(X<<11&4294967295|X>>>21),X=J+(W^H^O)+z[7]+4139469664&4294967295,J=W+(X<<16&4294967295|X>>>16),X=O+(J^W^H)+z[10]+3200236656&4294967295,O=J+(X<<23&4294967295|X>>>9),X=H+(O^J^W)+z[13]+681279174&4294967295,H=O+(X<<4&4294967295|X>>>28),X=W+(H^O^J)+z[0]+3936430074&4294967295,W=H+(X<<11&4294967295|X>>>21),X=J+(W^H^O)+z[3]+3572445317&4294967295,J=W+(X<<16&4294967295|X>>>16),X=O+(J^W^H)+z[6]+76029189&4294967295,O=J+(X<<23&4294967295|X>>>9),X=H+(O^J^W)+z[9]+3654602809&4294967295,H=O+(X<<4&4294967295|X>>>28),X=W+(H^O^J)+z[12]+3873151461&4294967295,W=H+(X<<11&4294967295|X>>>21),X=J+(W^H^O)+z[15]+530742520&4294967295,J=W+(X<<16&4294967295|X>>>16),X=O+(J^W^H)+z[2]+3299628645&4294967295,O=J+(X<<23&4294967295|X>>>9),X=H+(J^(O|~W))+z[0]+4096336452&4294967295,H=O+(X<<6&4294967295|X>>>26),X=W+(O^(H|~J))+z[7]+1126891415&4294967295,W=H+(X<<10&4294967295|X>>>22),X=J+(H^(W|~O))+z[14]+2878612391&4294967295,J=W+(X<<15&4294967295|X>>>17),X=O+(W^(J|~H))+z[5]+4237533241&4294967295,O=J+(X<<21&4294967295|X>>>11),X=H+(J^(O|~W))+z[12]+1700485571&4294967295,H=O+(X<<6&4294967295|X>>>26),X=W+(O^(H|~J))+z[3]+2399980690&4294967295,W=H+(X<<10&4294967295|X>>>22),X=J+(H^(W|~O))+z[10]+4293915773&4294967295,J=W+(X<<15&4294967295|X>>>17),X=O+(W^(J|~H))+z[1]+2240044497&4294967295,O=J+(X<<21&4294967295|X>>>11),X=H+(J^(O|~W))+z[8]+1873313359&4294967295,H=O+(X<<6&4294967295|X>>>26),X=W+(O^(H|~J))+z[15]+4264355552&4294967295,W=H+(X<<10&4294967295|X>>>22),X=J+(H^(W|~O))+z[6]+2734768916&4294967295,J=W+(X<<15&4294967295|X>>>17),X=O+(W^(J|~H))+z[13]+1309151649&4294967295,O=J+(X<<21&4294967295|X>>>11),X=H+(J^(O|~W))+z[4]+4149444226&4294967295,H=O+(X<<6&4294967295|X>>>26),X=W+(O^(H|~J))+z[11]+3174756917&4294967295,W=H+(X<<10&4294967295|X>>>22),X=J+(H^(W|~O))+z[2]+718787259&4294967295,J=W+(X<<15&4294967295|X>>>17),X=O+(W^(J|~H))+z[9]+3951481745&4294967295,M.g[0]=M.g[0]+H&4294967295,M.g[1]=M.g[1]+(J+(X<<21&4294967295|X>>>11))&4294967295,M.g[2]=M.g[2]+J&4294967295,M.g[3]=M.g[3]+W&4294967295}n.prototype.u=function(M,H){H===void 0&&(H=M.length);for(var O=H-this.blockSize,z=this.B,J=this.h,W=0;W<H;){if(J==0)for(;W<=O;)i(this,M,W),W+=this.blockSize;if(typeof M=="string"){for(;W<H;)if(z[J++]=M.charCodeAt(W++),J==this.blockSize){i(this,z),J=0;break}}else for(;W<H;)if(z[J++]=M[W++],J==this.blockSize){i(this,z),J=0;break}}this.h=J,this.o+=H},n.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var H=1;H<M.length-8;++H)M[H]=0;var O=8*this.o;for(H=M.length-8;H<M.length;++H)M[H]=O&255,O/=256;for(this.u(M),M=Array(16),H=O=0;4>H;++H)for(var z=0;32>z;z+=8)M[O++]=this.g[H]>>>z&255;return M};function s(M,H){var O=c;return Object.prototype.hasOwnProperty.call(O,M)?O[M]:O[M]=H(M)}function A(M,H){this.h=H;for(var O=[],z=!0,J=M.length-1;0<=J;J--){var W=M[J]|0;z&&W==H||(O[J]=W,z=!1)}this.g=O}var c={};function h(M){return-128<=M&&128>M?s(M,function(H){return new A([H|0],0>H?-1:0)}):new A([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return k(d(-M));for(var H=[],O=1,z=0;M>=O;z++)H[z]=M/O|0,O*=4294967296;return new A(H,0)}function x(M,H){if(M.length==0)throw Error("number format error: empty string");if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(M.charAt(0)=="-")return k(x(M.substring(1),H));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(H,8)),z=C,J=0;J<M.length;J+=8){var W=Math.min(8,M.length-J),X=parseInt(M.substring(J,J+W),H);8>W?(W=d(Math.pow(H,W)),z=z.j(W).add(d(X))):(z=z.j(O),z=z.add(d(X)))}return z}var C=h(0),B=h(1),F=h(16777216);t=A.prototype,t.m=function(){if(R(this))return-k(this).m();for(var M=0,H=1,O=0;O<this.g.length;O++){var z=this.i(O);M+=(0<=z?z:4294967296+z)*H,H*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(R(this))return"-"+k(this).toString(M);for(var H=d(Math.pow(M,6)),O=this,z="";;){var J=ee(O,H).g;O=j(O,J.j(H));var W=((0<O.g.length?O.g[0]:O.h)>>>0).toString(M);if(O=J,D(O))return W+z;for(;6>W.length;)W="0"+W;z=W+z}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var H=0;H<M.g.length;H++)if(M.g[H]!=0)return!1;return!0}function R(M){return M.h==-1}t.l=function(M){return M=j(this,M),R(M)?-1:D(M)?0:1};function k(M){for(var H=M.g.length,O=[],z=0;z<H;z++)O[z]=~M.g[z];return new A(O,~M.h).add(B)}t.abs=function(){return R(this)?k(this):this},t.add=function(M){for(var H=Math.max(this.g.length,M.g.length),O=[],z=0,J=0;J<=H;J++){var W=z+(this.i(J)&65535)+(M.i(J)&65535),X=(W>>>16)+(this.i(J)>>>16)+(M.i(J)>>>16);z=X>>>16,W&=65535,X&=65535,O[J]=X<<16|W}return new A(O,O[O.length-1]&-2147483648?-1:0)};function j(M,H){return M.add(k(H))}t.j=function(M){if(D(this)||D(M))return C;if(R(this))return R(M)?k(this).j(k(M)):k(k(this).j(M));if(R(M))return k(this.j(k(M)));if(0>this.l(F)&&0>M.l(F))return d(this.m()*M.m());for(var H=this.g.length+M.g.length,O=[],z=0;z<2*H;z++)O[z]=0;for(z=0;z<this.g.length;z++)for(var J=0;J<M.g.length;J++){var W=this.i(z)>>>16,X=this.i(z)&65535,Me=M.i(J)>>>16,ye=M.i(J)&65535;O[2*z+2*J]+=X*ye,G(O,2*z+2*J),O[2*z+2*J+1]+=W*ye,G(O,2*z+2*J+1),O[2*z+2*J+1]+=X*Me,G(O,2*z+2*J+1),O[2*z+2*J+2]+=W*Me,G(O,2*z+2*J+2)}for(z=0;z<H;z++)O[z]=O[2*z+1]<<16|O[2*z];for(z=H;z<2*H;z++)O[z]=0;return new A(O,0)};function G(M,H){for(;(M[H]&65535)!=M[H];)M[H+1]+=M[H]>>>16,M[H]&=65535,H++}function Q(M,H){this.g=M,this.h=H}function ee(M,H){if(D(H))throw Error("division by zero");if(D(M))return new Q(C,C);if(R(M))return H=ee(k(M),H),new Q(k(H.g),k(H.h));if(R(H))return H=ee(M,k(H)),new Q(k(H.g),H.h);if(30<M.g.length){if(R(M)||R(H))throw Error("slowDivide_ only works with positive integers.");for(var O=B,z=H;0>=z.l(M);)O=ne(O),z=ne(z);var J=te(O,1),W=te(z,1);for(z=te(z,2),O=te(O,2);!D(z);){var X=W.add(z);0>=X.l(M)&&(J=J.add(O),W=X),z=te(z,1),O=te(O,1)}return H=j(M,J.j(H)),new Q(J,H)}for(J=C;0<=M.l(H);){for(O=Math.max(1,Math.floor(M.m()/H.m())),z=Math.ceil(Math.log(O)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),W=d(O),X=W.j(H);R(X)||0<X.l(M);)O-=z,W=d(O),X=W.j(H);D(W)&&(W=B),J=J.add(W),M=j(M,X)}return new Q(J,M)}t.A=function(M){return ee(this,M).h},t.and=function(M){for(var H=Math.max(this.g.length,M.g.length),O=[],z=0;z<H;z++)O[z]=this.i(z)&M.i(z);return new A(O,this.h&M.h)},t.or=function(M){for(var H=Math.max(this.g.length,M.g.length),O=[],z=0;z<H;z++)O[z]=this.i(z)|M.i(z);return new A(O,this.h|M.h)},t.xor=function(M){for(var H=Math.max(this.g.length,M.g.length),O=[],z=0;z<H;z++)O[z]=this.i(z)^M.i(z);return new A(O,this.h^M.h)};function ne(M){for(var H=M.g.length+1,O=[],z=0;z<H;z++)O[z]=M.i(z)<<1|M.i(z-1)>>>31;return new A(O,M.h)}function te(M,H){var O=H>>5;H%=32;for(var z=M.g.length-O,J=[],W=0;W<z;W++)J[W]=0<H?M.i(W+O)>>>H|M.i(W+O+1)<<32-H:M.i(W+O);return new A(J,M.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,FN=n,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=d,A.fromString=x,tc=A}).apply(typeof Vb<"u"?Vb:typeof self<"u"?self:typeof window<"u"?window:{});var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RN,W0,DN,o1,F2,UN,kN,MN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,L,K){return b==Array.prototype||b==Object.prototype||(b[L]=K.value),b};function r(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yh=="object"&&Yh];for(var L=0;L<b.length;++L){var K=b[L];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}var n=r(this);function i(b,L){if(L)e:{var K=n;b=b.split(".");for(var Ae=0;Ae<b.length-1;Ae++){var Pe=b[Ae];if(!(Pe in K))break e;K=K[Pe]}b=b[b.length-1],Ae=K[b],L=L(Ae),L!=Ae&&L!=null&&e(K,b,{configurable:!0,writable:!0,value:L})}}function s(b,L){b instanceof String&&(b+="");var K=0,Ae=!1,Pe={next:function(){if(!Ae&&K<b.length){var et=K++;return{value:L(et,b[et]),done:!1}}return Ae=!0,{done:!0,value:void 0}}};return Pe[Symbol.iterator]=function(){return Pe},Pe}i("Array.prototype.values",function(b){return b||function(){return s(this,function(L,K){return K})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},c=this||self;function h(b){var L=typeof b;return L=L!="object"?L:b?Array.isArray(b)?"array":L:"null",L=="array"||L=="object"&&typeof b.length=="number"}function d(b){var L=typeof b;return L=="object"&&b!=null||L=="function"}function x(b,L,K){return b.call.apply(b.bind,arguments)}function C(b,L,K){if(!b)throw Error();if(2<arguments.length){var Ae=Array.prototype.slice.call(arguments,2);return function(){var Pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Pe,Ae),b.apply(L,Pe)}}return function(){return b.apply(L,arguments)}}function B(b,L,K){return B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:C,B.apply(null,arguments)}function F(b,L){var K=Array.prototype.slice.call(arguments,1);return function(){var Ae=K.slice();return Ae.push.apply(Ae,arguments),b.apply(this,Ae)}}function D(b,L){function K(){}K.prototype=L.prototype,b.aa=L.prototype,b.prototype=new K,b.prototype.constructor=b,b.Qb=function(Ae,Pe,et){for(var bt=Array(arguments.length-2),Qr=2;Qr<arguments.length;Qr++)bt[Qr-2]=arguments[Qr];return L.prototype[Pe].apply(Ae,bt)}}function R(b){const L=b.length;if(0<L){const K=Array(L);for(let Ae=0;Ae<L;Ae++)K[Ae]=b[Ae];return K}return[]}function k(b,L){for(let K=1;K<arguments.length;K++){const Ae=arguments[K];if(h(Ae)){const Pe=b.length||0,et=Ae.length||0;b.length=Pe+et;for(let bt=0;bt<et;bt++)b[Pe+bt]=Ae[bt]}else b.push(Ae)}}class j{constructor(L,K){this.i=L,this.j=K,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function G(b){return/^[\s\xa0]*$/.test(b)}function Q(){var b=c.navigator;return b&&(b=b.userAgent)?b:""}function ee(b){return ee[" "](b),b}ee[" "]=function(){};var ne=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function te(b,L,K){for(const Ae in b)L.call(K,b[Ae],Ae,b)}function M(b,L){for(const K in b)L.call(void 0,b[K],K,b)}function H(b){const L={};for(const K in b)L[K]=b[K];return L}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(b,L){let K,Ae;for(let Pe=1;Pe<arguments.length;Pe++){Ae=arguments[Pe];for(K in Ae)b[K]=Ae[K];for(let et=0;et<O.length;et++)K=O[et],Object.prototype.hasOwnProperty.call(Ae,K)&&(b[K]=Ae[K])}}function J(b){var L=1;b=b.split(":");const K=[];for(;0<L&&b.length;)K.push(b.shift()),L--;return b.length&&K.push(b.join(":")),K}function W(b){c.setTimeout(()=>{throw b},0)}function X(){var b=Be;let L=null;return b.g&&(L=b.g,b.g=b.g.next,b.g||(b.h=null),L.next=null),L}class Me{constructor(){this.h=this.g=null}add(L,K){const Ae=ye.get();Ae.set(L,K),this.h?this.h.next=Ae:this.g=Ae,this.h=Ae}}var ye=new j(()=>new we,b=>b.reset());class we{constructor(){this.next=this.g=this.h=null}set(L,K){this.h=L,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,He=!1,Be=new Me,tt=()=>{const b=c.Promise.resolve(void 0);ce=()=>{b.then(me)}};var me=()=>{for(var b;b=X();){try{b.h.call(b.g)}catch(K){W(K)}var L=ye;L.j(b),100>L.h&&(L.h++,b.next=L.g,L.g=b)}He=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(b,L){this.type=b,this.g=this.target=L,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var fe=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var b=!1,L=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const K=()=>{};c.addEventListener("test",K,L),c.removeEventListener("test",K,L)}catch{}return b})();function oe(b,L){if(de.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var K=this.type=b.type,Ae=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=L,L=b.relatedTarget){if(ne){e:{try{ee(L.nodeName);var Pe=!0;break e}catch{}Pe=!1}Pe||(L=null)}}else K=="mouseover"?L=b.fromElement:K=="mouseout"&&(L=b.toElement);this.relatedTarget=L,Ae?(this.clientX=Ae.clientX!==void 0?Ae.clientX:Ae.pageX,this.clientY=Ae.clientY!==void 0?Ae.clientY:Ae.pageY,this.screenX=Ae.screenX||0,this.screenY=Ae.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:xe[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&oe.aa.h.call(this)}}D(oe,de);var xe={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function _e(b,L,K,Ae,Pe){this.listener=b,this.proxy=null,this.src=L,this.type=K,this.capture=!!Ae,this.ha=Pe,this.key=++Fe,this.da=this.fa=!1}function Le(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function xt(b){this.src=b,this.g={},this.h=0}xt.prototype.add=function(b,L,K,Ae,Pe){var et=b.toString();b=this.g[et],b||(b=this.g[et]=[],this.h++);var bt=St(b,L,Ae,Pe);return-1<bt?(L=b[bt],K||(L.fa=!1)):(L=new _e(L,this.src,et,!!Ae,Pe),L.fa=K,b.push(L)),L};function pe(b,L){var K=L.type;if(K in b.g){var Ae=b.g[K],Pe=Array.prototype.indexOf.call(Ae,L,void 0),et;(et=0<=Pe)&&Array.prototype.splice.call(Ae,Pe,1),et&&(Le(L),b.g[K].length==0&&(delete b.g[K],b.h--))}}function St(b,L,K,Ae){for(var Pe=0;Pe<b.length;++Pe){var et=b[Pe];if(!et.da&&et.listener==L&&et.capture==!!K&&et.ha==Ae)return Pe}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Lt={};function Ne(b,L,K,Ae,Pe){if(Array.isArray(L)){for(var et=0;et<L.length;et++)Ne(b,L[et],K,Ae,Pe);return null}return K=It(K),b&&b[Ye]?b.K(L,K,d(Ae)?!!Ae.capture:!1,Pe):Ue(b,L,K,!1,Ae,Pe)}function Ue(b,L,K,Ae,Pe,et){if(!L)throw Error("Invalid event type");var bt=d(Pe)?!!Pe.capture:!!Pe,Qr=hn(b);if(Qr||(b[kt]=Qr=new xt(b)),K=Qr.add(L,K,Ae,bt,et),K.proxy)return K;if(Ae=gt(),K.proxy=Ae,Ae.src=b,Ae.listener=K,b.addEventListener)fe||(Pe=bt),Pe===void 0&&(Pe=!1),b.addEventListener(L.toString(),Ae,Pe);else if(b.attachEvent)b.attachEvent(_t(L.toString()),Ae);else if(b.addListener&&b.removeListener)b.addListener(Ae);else throw Error("addEventListener and attachEvent are unavailable.");return K}function gt(){function b(K){return L.call(b.src,b.listener,K)}const L=Bn;return b}function Bt(b,L,K,Ae,Pe){if(Array.isArray(L))for(var et=0;et<L.length;et++)Bt(b,L[et],K,Ae,Pe);else Ae=d(Ae)?!!Ae.capture:!!Ae,K=It(K),b&&b[Ye]?(b=b.i,L=String(L).toString(),L in b.g&&(et=b.g[L],K=St(et,K,Ae,Pe),-1<K&&(Le(et[K]),Array.prototype.splice.call(et,K,1),et.length==0&&(delete b.g[L],b.h--)))):b&&(b=hn(b))&&(L=b.g[L.toString()],b=-1,L&&(b=St(L,K,Ae,Pe)),(K=-1<b?L[b]:null)&&ur(K))}function ur(b){if(typeof b!="number"&&b&&!b.da){var L=b.src;if(L&&L[Ye])pe(L.i,b);else{var K=b.type,Ae=b.proxy;L.removeEventListener?L.removeEventListener(K,Ae,b.capture):L.detachEvent?L.detachEvent(_t(K),Ae):L.addListener&&L.removeListener&&L.removeListener(Ae),(K=hn(L))?(pe(K,b),K.h==0&&(K.src=null,L[kt]=null)):Le(b)}}}function _t(b){return b in Lt?Lt[b]:Lt[b]="on"+b}function Bn(b,L){if(b.da)b=!0;else{L=new oe(L,this);var K=b.listener,Ae=b.ha||b.src;b.fa&&ur(b),b=K.call(Ae,L)}return b}function hn(b){return b=b[kt],b instanceof xt?b:null}var Ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(b){return typeof b=="function"?b:(b[Ge]||(b[Ge]=function(L){return b.handleEvent(L)}),b[Ge])}function Tt(){Z.call(this),this.i=new xt(this),this.M=this,this.F=null}D(Tt,Z),Tt.prototype[Ye]=!0,Tt.prototype.removeEventListener=function(b,L,K,Ae){Bt(this,b,L,K,Ae)};function Jt(b,L){var K,Ae=b.F;if(Ae)for(K=[];Ae;Ae=Ae.F)K.push(Ae);if(b=b.M,Ae=L.type||L,typeof L=="string")L=new de(L,b);else if(L instanceof de)L.target=L.target||b;else{var Pe=L;L=new de(Ae,b),z(L,Pe)}if(Pe=!0,K)for(var et=K.length-1;0<=et;et--){var bt=L.g=K[et];Pe=fr(bt,Ae,!0,L)&&Pe}if(bt=L.g=b,Pe=fr(bt,Ae,!0,L)&&Pe,Pe=fr(bt,Ae,!1,L)&&Pe,K)for(et=0;et<K.length;et++)bt=L.g=K[et],Pe=fr(bt,Ae,!1,L)&&Pe}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var b=this.i,L;for(L in b.g){for(var K=b.g[L],Ae=0;Ae<K.length;Ae++)Le(K[Ae]);delete b.g[L],b.h--}}this.F=null},Tt.prototype.K=function(b,L,K,Ae){return this.i.add(String(b),L,!1,K,Ae)},Tt.prototype.L=function(b,L,K,Ae){return this.i.add(String(b),L,!0,K,Ae)};function fr(b,L,K,Ae){if(L=b.i.g[String(L)],!L)return!0;L=L.concat();for(var Pe=!0,et=0;et<L.length;++et){var bt=L[et];if(bt&&!bt.da&&bt.capture==K){var Qr=bt.listener,pn=bt.ha||bt.src;bt.fa&&pe(b.i,bt),Pe=Qr.call(pn,Ae)!==!1&&Pe}}return Pe&&!Ae.defaultPrevented}function pr(b,L,K){if(typeof b=="function")K&&(b=B(b,K));else if(b&&typeof b.handleEvent=="function")b=B(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:c.setTimeout(b,L||0)}function Xt(b){b.g=pr(()=>{b.g=null,b.i&&(b.i=!1,Xt(b))},b.l);const L=b.h;b.h=null,b.m.apply(null,L)}class at extends Z{constructor(L,K){super(),this.m=L,this.l=K,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Xt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function De(b){Z.call(this),this.h=b,this.g={}}D(De,Z);var Je=[];function Ee(b){te(b.g,function(L,K){this.g.hasOwnProperty(K)&&ur(L)},b),b.g={}}De.prototype.N=function(){De.aa.N.call(this),Ee(this)},De.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var st=c.JSON.stringify,At=c.JSON.parse,Nt=class{stringify(b){return c.JSON.stringify(b,void 0)}parse(b){return c.JSON.parse(b,void 0)}};function Yr(){}Yr.prototype.h=null;function Ci(b){return b.h||(b.h=b.i())}function qi(){}var $t={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ti(){de.call(this,"d")}D(ti,de);function Gr(){de.call(this,"c")}D(Gr,de);var ri={},wn=null;function ga(){return wn=wn||new Tt}ri.La="serverreachability";function _n(b){de.call(this,ri.La,b)}D(_n,de);function Ei(b){const L=ga();Jt(L,new _n(L))}ri.STAT_EVENT="statevent";function ds(b,L){de.call(this,ri.STAT_EVENT,b),this.stat=L}D(ds,de);function zr(b){const L=ga();Jt(L,new ds(L,b))}ri.Ma="timingevent";function So(b,L){de.call(this,ri.Ma,b),this.size=L}D(So,de);function ni(b,L){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){b()},L)}function Ss(){this.g=!0}Ss.prototype.xa=function(){this.g=!1};function kn(b,L,K,Ae,Pe,et){b.info(function(){if(b.g)if(et)for(var bt="",Qr=et.split("&"),pn=0;pn<Qr.length;pn++){var mr=Qr[pn].split("=");if(1<mr.length){var fn=mr[0];mr=mr[1];var Rn=fn.split("_");bt=2<=Rn.length&&Rn[1]=="type"?bt+(fn+"="+mr+"&"):bt+(fn+"=redacted&")}}else bt=null;else bt=et;return"XMLHTTP REQ ("+Ae+") [attempt "+Pe+"]: "+L+`
`+K+`
`+bt})}function hs(b,L,K,Ae,Pe,et,bt){b.info(function(){return"XMLHTTP RESP ("+Ae+") [ attempt "+Pe+"]: "+L+`
`+K+`
`+et+" "+bt})}function re(b,L,K,Ae){b.info(function(){return"XMLHTTP TEXT ("+L+"): "+le(b,K)+(Ae?" "+Ae:"")})}function ae(b,L){b.info(function(){return"TIMEOUT: "+L})}Ss.prototype.info=function(){};function le(b,L){if(!b.g)return L;if(!L)return null;try{var K=JSON.parse(L);if(K){for(b=0;b<K.length;b++)if(Array.isArray(K[b])){var Ae=K[b];if(!(2>Ae.length)){var Pe=Ae[1];if(Array.isArray(Pe)&&!(1>Pe.length)){var et=Pe[0];if(et!="noop"&&et!="stop"&&et!="close")for(var bt=1;bt<Pe.length;bt++)Pe[bt]=""}}}}return st(K)}catch{return L}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},he={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ce;function je(){}D(je,Yr),je.prototype.g=function(){return new XMLHttpRequest},je.prototype.i=function(){return{}},Ce=new je;function nt(b,L,K,Ae){this.j=b,this.i=L,this.l=K,this.R=Ae||1,this.U=new De(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}var We={},Xe={};function ut(b,L,K){b.L=1,b.v=gn(Zt(L)),b.m=K,b.P=!0,ht(b,null)}function ht(b,L){b.F=Date.now(),Ct(b),b.A=Zt(b.v);var K=b.A,Ae=b.R;Array.isArray(Ae)||(Ae=[String(Ae)]),nn(K.i,"t",Ae),b.C=0,K=b.j.J,b.h=new Qe,b.g=Bc(b.j,K?L:null,!b.m),0<b.O&&(b.M=new at(B(b.Y,b,b.g),b.O)),L=b.U,K=b.g,Ae=b.ca;var Pe="readystatechange";Array.isArray(Pe)||(Pe&&(Je[0]=Pe.toString()),Pe=Je);for(var et=0;et<Pe.length;et++){var bt=Ne(K,Pe[et],Ae||L.handleEvent,!1,L.h||L);if(!bt)break;L.g[bt.key]=bt}L=b.H?H(b.H):{},b.m?(b.u||(b.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,L)):(b.u="GET",b.g.ea(b.A,b.u,null,L)),Ei(),kn(b.i,b.u,b.A,b.l,b.R,b.m)}nt.prototype.ca=function(b){b=b.target;const L=this.M;L&&Ri(b)==3?L.j():this.Y(b)},nt.prototype.Y=function(b){try{if(b==this.g)e:{const Rn=Ri(this.g);var L=this.g.Ba();const Xn=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||Io(this.g)))){this.J||Rn!=4||L==7||(L==8||0>=Xn?Ei(3):Ei(2)),it(this);var K=this.g.Z();this.X=K;t:if(pt(this)){var Ae=Io(this.g);b="";var Pe=Ae.length,et=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),Fr(this);var bt="";break t}this.h.i=new c.TextDecoder}for(L=0;L<Pe;L++)this.h.h=!0,b+=this.h.i.decode(Ae[L],{stream:!(et&&L==Pe-1)});Ae.length=0,this.h.g+=b,this.C=0,bt=this.h.g}else bt=this.g.oa();if(this.o=K==200,hs(this.i,this.u,this.A,this.l,this.R,Rn,K),this.o){if(this.T&&!this.K){t:{if(this.g){var Qr,pn=this.g;if((Qr=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Qr)){var mr=Qr;break t}}mr=null}if(K=mr)re(this.i,this.l,K,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nn(this,K);else{this.o=!1,this.s=3,zr(12),Gt(this),Fr(this);break e}}if(this.P){K=!0;let Ui;for(;!this.J&&this.C<bt.length;)if(Ui=wt(this,bt),Ui==Xe){Rn==4&&(this.s=4,zr(14),K=!1),re(this.i,this.l,null,"[Incomplete Response]");break}else if(Ui==We){this.s=4,zr(15),re(this.i,this.l,bt,"[Invalid Chunk]"),K=!1;break}else re(this.i,this.l,Ui,null),Nn(this,Ui);if(pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||bt.length!=0||this.h.h||(this.s=1,zr(16),K=!1),this.o=this.o&&K,!K)re(this.i,this.l,bt,"[Invalid Chunked Response]"),Gt(this),Fr(this);else if(0<bt.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+bt.length),Ro(fn),fn.M=!0,zr(11))}}else re(this.i,this.l,bt,null),Nn(this,bt);Rn==4&&Gt(this),this.o&&!this.J&&(Rn==4?un(this.j,this):(this.o=!1,Ct(this)))}else kr(this.g),K==400&&0<bt.indexOf("Unknown SID")?(this.s=3,zr(12)):(this.s=0,zr(13)),Gt(this),Fr(this)}}}catch{}finally{}};function pt(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function wt(b,L){var K=b.C,Ae=L.indexOf(`
`,K);return Ae==-1?Xe:(K=Number(L.substring(K,Ae)),isNaN(K)?We:(Ae+=1,Ae+K>L.length?Xe:(L=L.slice(Ae,Ae+K),b.C=Ae+K,L)))}nt.prototype.cancel=function(){this.J=!0,Gt(this)};function Ct(b){b.S=Date.now()+b.I,Dt(b,b.I)}function Dt(b,L){if(b.B!=null)throw Error("WatchDog timer not null");b.B=ni(B(b.ba,b),L)}function it(b){b.B&&(c.clearTimeout(b.B),b.B=null)}nt.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(ae(this.i,this.A),this.L!=2&&(Ei(),zr(17)),Gt(this),this.s=2,Fr(this)):Dt(this,this.S-b)};function Fr(b){b.j.G==0||b.J||un(b.j,b)}function Gt(b){it(b);var L=b.M;L&&typeof L.ma=="function"&&L.ma(),b.M=null,Ee(b.U),b.g&&(L=b.g,b.g=null,L.abort(),L.ma())}function Nn(b,L){try{var K=b.j;if(K.G!=0&&(K.g==b||Mn(K.h,b))){if(!b.K&&Mn(K.h,b)&&K.G==3){try{var Ae=K.Da.g.parse(L)}catch{Ae=null}if(Array.isArray(Ae)&&Ae.length==3){var Pe=Ae;if(Pe[0]==0){e:if(!K.u){if(K.g)if(K.g.F+3e3<b.F)xa(K),lo(K);else break e;_l(K),zr(18)}}else K.za=Pe[1],0<K.za-K.T&&37500>Pe[2]&&K.F&&K.v==0&&!K.C&&(K.C=ni(B(K.Za,K),6e3));if(1>=ar(K.h)&&K.ca){try{K.ca()}catch{}K.ca=void 0}}else Di(K,11)}else if((b.K||K.g==b)&&xa(K),!G(L))for(Pe=K.Da.g.parse(L),L=0;L<Pe.length;L++){let mr=Pe[L];if(K.T=mr[0],mr=mr[1],K.G==2)if(mr[0]=="c"){K.K=mr[1],K.ia=mr[2];const fn=mr[3];fn!=null&&(K.la=fn,K.j.info("VER="+K.la));const Rn=mr[4];Rn!=null&&(K.Aa=Rn,K.j.info("SVER="+K.Aa));const Xn=mr[5];Xn!=null&&typeof Xn=="number"&&0<Xn&&(Ae=1.5*Xn,K.L=Ae,K.j.info("backChannelRequestTimeoutMs_="+Ae)),Ae=K;const Ui=b.g;if(Ui){const _i=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var et=Ae.h;et.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(pa(et,et.h),et.h=null))}if(Ae.D){const ja=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(Ae.ya=ja,Et(Ae.I,Ae.D,ja))}}K.G=3,K.l&&K.l.ua(),K.ba&&(K.R=Date.now()-b.F,K.j.info("Handshake RTT: "+K.R+"ms")),Ae=K;var bt=b;if(Ae.qa=jt(Ae,Ae.J?Ae.ia:null,Ae.W),bt.K){Yi(Ae.h,bt);var Qr=bt,pn=Ae.L;pn&&(Qr.I=pn),Qr.B&&(it(Qr),Ct(Qr)),Ae.g=bt}else Ec(Ae);0<K.i.length&&tr(K)}else mr[0]!="stop"&&mr[0]!="close"||Di(K,7);else K.G==3&&(mr[0]=="stop"||mr[0]=="close"?mr[0]=="stop"?Di(K,7):Ms(K):mr[0]!="noop"&&K.l&&K.l.ta(mr),K.v=0)}}Ei(4)}catch{}}var Pa=class{constructor(b,L){this.g=b,this.map=L}};function dr(b){this.l=b||10,c.PerformanceNavigationTiming?(b=c.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nr(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function ar(b){return b.h?1:b.g?b.g.size:0}function Mn(b,L){return b.h?b.h==L:b.g?b.g.has(L):!1}function pa(b,L){b.g?b.g.add(L):b.h=L}function Yi(b,L){b.h&&b.h==L?b.h=null:b.g&&b.g.has(L)&&b.g.delete(L)}dr.prototype.cancel=function(){if(this.i=Sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Sr(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let L=b.i;for(const K of b.g.values())L=L.concat(K.D);return L}return R(b.i)}function Js(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(h(b)){for(var L=[],K=b.length,Ae=0;Ae<K;Ae++)L.push(b[Ae]);return L}L=[],K=0;for(Ae in b)L[K++]=b[Ae];return L}function Gu(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(h(b)||typeof b=="string"){var L=[];b=b.length;for(var K=0;K<b;K++)L.push(K);return L}L=[],K=0;for(const Ae in b)L[K++]=Ae;return L}}}function rn(b,L){if(b.forEach&&typeof b.forEach=="function")b.forEach(L,void 0);else if(h(b)||typeof b=="string")Array.prototype.forEach.call(b,L,void 0);else for(var K=Gu(b),Ae=Js(b),Pe=Ae.length,et=0;et<Pe;et++)L.call(void 0,Ae[et],K&&K[et],b)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pA(b,L){if(b){b=b.split("&");for(var K=0;K<b.length;K++){var Ae=b[K].indexOf("="),Pe=null;if(0<=Ae){var et=b[K].substring(0,Ae);Pe=b[K].substring(Ae+1)}else et=b[K];L(et,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function Ji(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof Ji){this.h=b.h,vn(this,b.j),this.o=b.o,this.g=b.g,Ve(this,b.s),this.l=b.l;var L=b.i,K=new Fs;K.i=L.i,L.g&&(K.g=new Map(L.g),K.h=L.h),ge(this,K),this.m=b.m}else b&&(L=String(b).match(Is))?(this.h=!1,vn(this,L[1]||"",!0),this.o=zn(L[2]||""),this.g=zn(L[3]||"",!0),Ve(this,L[4]),this.l=zn(L[5]||"",!0),ge(this,L[6]||"",!0),this.m=zn(L[7]||"")):(this.h=!1,this.i=new Fs(null,this.h))}Ji.prototype.toString=function(){var b=[],L=this.j;L&&b.push(Ns(L,Bi,!0),":");var K=this.g;return(K||L=="file")&&(b.push("//"),(L=this.o)&&b.push(Ns(L,Bi,!0),"@"),b.push(encodeURIComponent(String(K)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),K=this.s,K!=null&&b.push(":",String(K))),(K=this.l)&&(this.g&&K.charAt(0)!="/"&&b.push("/"),b.push(Ns(K,K.charAt(0)=="/"?Jr:Vt,!0))),(K=this.i.toString())&&b.push("?",K),(K=this.m)&&b.push("#",Ns(K,Ku)),b.join("")};function Zt(b){return new Ji(b)}function vn(b,L,K){b.j=K?zn(L,!0):L,b.j&&(b.j=b.j.replace(/:$/,""))}function Ve(b,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);b.s=L}else b.s=null}function ge(b,L,K){L instanceof Fs?(b.i=L,Zs(b.i,b.h)):(K||(L=Ns(L,yc)),b.i=new Fs(L,b.h))}function Et(b,L,K){b.i.set(L,K)}function gn(b){return Et(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function zn(b,L){return b?L?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Ns(b,L,K){return typeof b=="string"?(b=encodeURI(b).replace(L,yl),K&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function yl(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Bi=/[#\/\?@]/g,Vt=/[#\?:]/g,Jr=/[#\?]/g,yc=/[#\?@]/g,Ku=/#/g;function Fs(b,L){this.h=this.g=null,this.i=b||null,this.j=!!L}function Fn(b){b.g||(b.g=new Map,b.h=0,b.i&&pA(b.i,function(L,K){b.add(decodeURIComponent(L.replace(/\+/g," ")),K)}))}t=Fs.prototype,t.add=function(b,L){Fn(this),this.i=null,b=hi(this,b);var K=this.g.get(b);return K||this.g.set(b,K=[]),K.push(L),this.h+=1,this};function oo(b,L){Fn(b),L=hi(b,L),b.g.has(L)&&(b.i=null,b.h-=b.g.get(L).length,b.g.delete(L))}function mA(b,L){return Fn(b),L=hi(b,L),b.g.has(L)}t.forEach=function(b,L){Fn(this),this.g.forEach(function(K,Ae){K.forEach(function(Pe){b.call(L,Pe,Ae,this)},this)},this)},t.na=function(){Fn(this);const b=Array.from(this.g.values()),L=Array.from(this.g.keys()),K=[];for(let Ae=0;Ae<L.length;Ae++){const Pe=b[Ae];for(let et=0;et<Pe.length;et++)K.push(L[Ae])}return K},t.V=function(b){Fn(this);let L=[];if(typeof b=="string")mA(this,b)&&(L=L.concat(this.g.get(hi(this,b))));else{b=Array.from(this.g.values());for(let K=0;K<b.length;K++)L=L.concat(b[K])}return L},t.set=function(b,L){return Fn(this),this.i=null,b=hi(this,b),mA(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[L]),this.h+=1,this},t.get=function(b,L){return b?(b=this.V(b),0<b.length?String(b[0]):L):L};function nn(b,L,K){oo(b,L),0<K.length&&(b.i=null,b.g.set(hi(b,L),R(K)),b.h+=K.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],L=Array.from(this.g.keys());for(var K=0;K<L.length;K++){var Ae=L[K];const et=encodeURIComponent(String(Ae)),bt=this.V(Ae);for(Ae=0;Ae<bt.length;Ae++){var Pe=et;bt[Ae]!==""&&(Pe+="="+encodeURIComponent(String(bt[Ae]))),b.push(Pe)}}return this.i=b.join("&")};function hi(b,L){return L=String(L),b.j&&(L=L.toLowerCase()),L}function Zs(b,L){L&&!b.j&&(Fn(b),b.i=null,b.g.forEach(function(K,Ae){var Pe=Ae.toLowerCase();Ae!=Pe&&(oo(this,Ae),nn(this,Pe,K))},b)),b.j=L}function Kt(b,L){const K=new Ss;if(c.Image){const Ae=new Image;Ae.onload=F(zt,K,"TestLoadImage: loaded",!0,L,Ae),Ae.onerror=F(zt,K,"TestLoadImage: error",!1,L,Ae),Ae.onabort=F(zt,K,"TestLoadImage: abort",!1,L,Ae),Ae.ontimeout=F(zt,K,"TestLoadImage: timeout",!1,L,Ae),c.setTimeout(function(){Ae.ontimeout&&Ae.ontimeout()},1e4),Ae.src=b}else L(!1)}function Cc(b,L){const K=new Ss,Ae=new AbortController,Pe=setTimeout(()=>{Ae.abort(),zt(K,"TestPingServer: timeout",!1,L)},1e4);fetch(b,{signal:Ae.signal}).then(et=>{clearTimeout(Pe),et.ok?zt(K,"TestPingServer: ok",!0,L):zt(K,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Pe),zt(K,"TestPingServer: error",!1,L)})}function zt(b,L,K,Ae,Pe){try{Pe&&(Pe.onload=null,Pe.onerror=null,Pe.onabort=null,Pe.ontimeout=null),Ae(K)}catch{}}function Zr(){this.g=new Nt}function Cl(b,L,K){const Ae=K||"";try{rn(b,function(Pe,et){let bt=Pe;d(Pe)&&(bt=st(Pe)),L.push(Ae+et+"="+encodeURIComponent(bt))})}catch(Pe){throw L.push(Ae+"type="+encodeURIComponent("_badmap")),Pe}}function Rs(b){this.l=b.Ub||null,this.j=b.eb||!1}D(Rs,Yr),Rs.prototype.g=function(){return new Zi(this.l,this.j)},Rs.prototype.i=(function(b){return function(){return b}})({});function Zi(b,L){Tt.call(this),this.D=b,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Zi,Tt),t=Zi.prototype,t.open=function(b,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=L,this.readyState=1,Us(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(L.body=b),(this.D||c).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},t.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ds(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ds(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}t.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var L=b.value?b.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!b.done}))&&(this.response=this.responseText+=L)}b.done?ma(this):Us(this),this.readyState==3&&Ds(this)}},t.Ra=function(b){this.g&&(this.response=this.responseText=b,ma(this))},t.Qa=function(b){this.g&&(this.response=b,ma(this))},t.ga=function(){this.g&&ma(this)};function ma(b){b.readyState=4,b.l=null,b.j=null,b.v=null,Us(b)}t.setRequestHeader=function(b,L){this.u.append(b,L)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],L=this.h.entries();for(var K=L.next();!K.done;)K=K.value,b.push(K[0]+": "+K[1]),K=L.next();return b.join(`\r
`)};function Us(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function $s(b){let L="";return te(b,function(K,Ae){L+=Ae,L+=":",L+=K,L+=`\r
`}),L}function ks(b,L,K){e:{for(Ae in K){var Ae=!1;break e}Ae=!0}Ae||(K=$s(K),typeof b=="string"?K!=null&&encodeURIComponent(String(K)):Et(b,L,K))}function sn(b){Tt.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(sn,Tt);var On=/^https?$/i,gs=["POST","PUT"];t=sn.prototype,t.Ha=function(b){this.J=b},t.ea=function(b,L,K,Ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);L=L?L.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ce.g(),this.v=this.o?Ci(this.o):Ci(Ce),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(L,String(b),!0),this.B=!1}catch(et){Ln(this,et);return}if(b=K||"",K=new Map(this.headers),Ae)if(Object.getPrototypeOf(Ae)===Object.prototype)for(var Pe in Ae)K.set(Pe,Ae[Pe]);else if(typeof Ae.keys=="function"&&typeof Ae.get=="function")for(const et of Ae.keys())K.set(et,Ae.get(et));else throw Error("Unknown input type for opt_headers: "+String(Ae));Ae=Array.from(K.keys()).find(et=>et.toLowerCase()=="content-type"),Pe=c.FormData&&b instanceof c.FormData,!(0<=Array.prototype.indexOf.call(gs,L,void 0))||Ae||Pe||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,bt]of K)this.g.setRequestHeader(et,bt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xA(this),this.u=!0,this.g.send(b),this.u=!1}catch(et){Ln(this,et)}};function Ln(b,L){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=L,b.m=5,Ha(b),Va(b)}function Ha(b){b.A||(b.A=!0,Jt(b,"complete"),Jt(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,Jt(this,"complete"),Jt(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),sn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?El(this):this.bb())},t.bb=function(){El(this)};function El(b){if(b.h&&typeof A<"u"&&(!b.v[1]||Ri(b)!=4||b.Z()!=2)){if(b.u&&Ri(b)==4)pr(b.Ea,0,b);else if(Jt(b,"readystatechange"),Ri(b)==4){b.h=!1;try{const bt=b.Z();e:switch(bt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var K;if(!(K=L)){var Ae;if(Ae=bt===0){var Pe=String(b.D).match(Is)[1]||null;!Pe&&c.self&&c.self.location&&(Pe=c.self.location.protocol.slice(0,-1)),Ae=!On.test(Pe?Pe.toLowerCase():"")}K=Ae}if(K)Jt(b,"complete"),Jt(b,"success");else{b.m=6;try{var et=2<Ri(b)?b.g.statusText:""}catch{et=""}b.l=et+" ["+b.Z()+"]",Ha(b)}}finally{Va(b)}}}}function Va(b,L){if(b.g){xA(b);const K=b.g,Ae=b.v[0]?()=>{}:null;b.g=null,b.v=null,L||Jt(b,"ready");try{K.onreadystatechange=Ae}catch{}}}function xA(b){b.I&&(c.clearTimeout(b.I),b.I=null)}t.isActive=function(){return!!this.g};function Ri(b){return b.g?b.g.readyState:0}t.Z=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(b){if(this.g){var L=this.g.responseText;return b&&L.indexOf(b)==0&&(L=L.substring(b.length)),At(L)}};function Io(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function kr(b){const L={};b=(b.g&&2<=Ri(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ae=0;Ae<b.length;Ae++){if(G(b[Ae]))continue;var K=J(b[Ae]);const Pe=K[0];if(K=K[1],typeof K!="string")continue;K=K.trim();const et=L[Pe]||[];L[Pe]=et,et.push(K)}M(L,function(Ae){return Ae.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(b,L,K){return K&&K.internalChannelParams&&K.internalChannelParams[b]||L}function No(b){this.Aa=0,this.i=[],this.j=new Ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,b),this.cb=Ao("retryDelaySeedMs",1e4,b),this.Wa=Ao("forwardChannelMaxRetries",2,b),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new dr(b&&b.concurrentRequestLimit),this.Da=new Zr,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=No.prototype,t.la=8,t.G=1,t.connect=function(b,L,K,Ae){zr(0),this.W=b,this.H=L||{},K&&Ae!==void 0&&(this.H.OSID=K,this.H.OAID=Ae),this.F=this.X,this.I=jt(this,null,this.W),tr(this)};function Ms(b){if(Ze(b),b.G==3){var L=b.U++,K=Zt(b.I);if(Et(K,"SID",b.K),Et(K,"RID",L),Et(K,"TYPE","terminate"),co(b,K),L=new nt(b,b.j,L),L.L=2,L.v=gn(Zt(K)),K=!1,c.navigator&&c.navigator.sendBeacon)try{K=c.navigator.sendBeacon(L.v.toString(),"")}catch{}!K&&c.Image&&(new Image().src=L.v,K=!0),K||(L.g=Bc(L.j,null),L.g.ea(L.v)),L.F=Date.now(),Ct(L)}Mr(b)}function lo(b){b.g&&(Ro(b),b.g.cancel(),b.g=null)}function Ze(b){lo(b),b.u&&(c.clearTimeout(b.u),b.u=null),xa(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&c.clearTimeout(b.s),b.s=null)}function tr(b){if(!nr(b.h)&&!b.s){b.s=!0;var L=b.Ga;ce||tt(),He||(ce(),He=!0),Be.add(L,b),b.B=0}}function Wn(b,L){return ar(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=L.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=ni(B(b.Ga,b,L),Do(b,b.B)),b.B++,!0)}t.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const Pe=new nt(this,this.j,b);let et=this.o;if(this.S&&(et?(et=H(et),z(et,this.S)):et=this.S),this.m!==null||this.O||(Pe.H=et,et=null),this.P)e:{for(var L=0,K=0;K<this.i.length;K++){t:{var Ae=this.i[K];if("__data__"in Ae.map&&(Ae=Ae.map.__data__,typeof Ae=="string")){Ae=Ae.length;break t}Ae=void 0}if(Ae===void 0)break;if(L+=Ae,4096<L){L=K;break e}if(L===4096||K===this.i.length-1){L=K+1;break e}}L=1e3}else L=1e3;L=Bl(this,Pe,L),K=Zt(this.I),Et(K,"RID",b),Et(K,"CVER",22),this.D&&Et(K,"X-HTTP-Session-Id",this.D),co(this,K),et&&(this.O?L="headers="+encodeURIComponent(String($s(et)))+"&"+L:this.m&&ks(K,this.m,et)),pa(this.h,Pe),this.Ua&&Et(K,"TYPE","init"),this.P?(Et(K,"$req",L),Et(K,"SID","null"),Pe.T=!0,ut(Pe,K,null)):ut(Pe,K,L),this.G=2}}else this.G==3&&(b?Fo(this,b):this.i.length==0||nr(this.h)||Fo(this))};function Fo(b,L){var K;L?K=L.l:K=b.U++;const Ae=Zt(b.I);Et(Ae,"SID",b.K),Et(Ae,"RID",K),Et(Ae,"AID",b.T),co(b,Ae),b.m&&b.o&&ks(Ae,b.m,b.o),K=new nt(b,b.j,K,b.B+1),b.m===null&&(K.H=b.o),L&&(b.i=L.D.concat(b.i)),L=Bl(b,K,1e3),K.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),pa(b.h,K),ut(K,Ae,L)}function co(b,L){b.H&&te(b.H,function(K,Ae){Et(L,Ae,K)}),b.l&&rn({},function(K,Ae){Et(L,Ae,K)})}function Bl(b,L,K){K=Math.min(b.i.length,K);var Ae=b.l?B(b.l.Na,b.l,b):null;e:{var Pe=b.i;let et=-1;for(;;){const bt=["count="+K];et==-1?0<K?(et=Pe[0].g,bt.push("ofs="+et)):et=0:bt.push("ofs="+et);let Qr=!0;for(let pn=0;pn<K;pn++){let mr=Pe[pn].g;const fn=Pe[pn].map;if(mr-=et,0>mr)et=Math.max(0,Pe[pn].g-100),Qr=!1;else try{Cl(fn,bt,"req"+mr+"_")}catch{Ae&&Ae(fn)}}if(Qr){Ae=bt.join("&");break e}}}return b=b.i.splice(0,K),L.D=b,Ae}function Ec(b){if(!b.g&&!b.u){b.Y=1;var L=b.Fa;ce||tt(),He||(ce(),He=!0),Be.add(L,b),b.v=0}}function _l(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=ni(B(b.Fa,b),Do(b,b.v)),b.v++,!0)}t.Fa=function(){if(this.u=null,Tn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=ni(B(this.ab,this),b)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zr(10),lo(this),Tn(this))};function Ro(b){b.A!=null&&(c.clearTimeout(b.A),b.A=null)}function Tn(b){b.g=new nt(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var L=Zt(b.qa);Et(L,"RID","rpc"),Et(L,"SID",b.K),Et(L,"AID",b.T),Et(L,"CI",b.F?"0":"1"),!b.F&&b.ja&&Et(L,"TO",b.ja),Et(L,"TYPE","xmlhttp"),co(b,L),b.m&&b.o&&ks(L,b.m,b.o),b.L&&(b.g.I=b.L);var K=b.g;b=b.ia,K.L=1,K.v=gn(Zt(L)),K.m=null,K.P=!0,ht(K,b)}t.Za=function(){this.C!=null&&(this.C=null,lo(this),_l(this),zr(19))};function xa(b){b.C!=null&&(c.clearTimeout(b.C),b.C=null)}function un(b,L){var K=null;if(b.g==L){xa(b),Ro(b),b.g=null;var Ae=2}else if(Mn(b.h,L))K=L.D,Yi(b.h,L),Ae=1;else return;if(b.G!=0){if(L.o)if(Ae==1){K=L.m?L.m.length:0,L=Date.now()-L.F;var Pe=b.B;Ae=ga(),Jt(Ae,new So(Ae,K)),tr(b)}else Ec(b);else if(Pe=L.s,Pe==3||Pe==0&&0<L.X||!(Ae==1&&Wn(b,L)||Ae==2&&_l(b)))switch(K&&0<K.length&&(L=b.h,L.i=L.i.concat(K)),Pe){case 1:Di(b,5);break;case 4:Di(b,10);break;case 3:Di(b,6);break;default:Di(b,2)}}}function Do(b,L){let K=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(K*=2),K*L}function Di(b,L){if(b.j.info("Error code "+L),L==2){var K=B(b.fb,b),Ae=b.Xa;const Pe=!Ae;Ae=new Ji(Ae||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vn(Ae,"https"),gn(Ae),Pe?Kt(Ae.toString(),K):Cc(Ae.toString(),K)}else zr(2);b.G=0,b.l&&b.l.sa(L),Mr(b),Ze(b)}t.fb=function(b){b?(this.j.info("Successfully pinged google.com"),zr(2)):(this.j.info("Failed to ping google.com"),zr(1))};function Mr(b){if(b.G=0,b.ka=[],b.l){const L=Sr(b.h);(L.length!=0||b.i.length!=0)&&(k(b.ka,L),k(b.ka,b.i),b.h.i.length=0,R(b.i),b.i.length=0),b.l.ra()}}function jt(b,L,K){var Ae=K instanceof Ji?Zt(K):new Ji(K);if(Ae.g!="")L&&(Ae.g=L+"."+Ae.g),Ve(Ae,Ae.s);else{var Pe=c.location;Ae=Pe.protocol,L=L?L+"."+Pe.hostname:Pe.hostname,Pe=+Pe.port;var et=new Ji(null);Ae&&vn(et,Ae),L&&(et.g=L),Pe&&Ve(et,Pe),K&&(et.l=K),Ae=et}return K=b.D,L=b.ya,K&&L&&Et(Ae,K,L),Et(Ae,"VER",b.la),co(b,Ae),Ae}function Bc(b,L,K){if(L&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=b.Ca&&!b.pa?new sn(new Rs({eb:K})):new sn(b.pa),L.Ha(b.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wr(){}t=Wr.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Os(){}Os.prototype.g=function(b,L){return new Qn(b,L)};function Qn(b,L){Tt.call(this),this.g=new No(L),this.l=b,this.h=L&&L.messageUrlParams||null,b=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(b?b["X-WebChannel-Content-Type"]=L.messageContentType:b={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(b?b["X-WebChannel-Client-Profile"]=L.va:b={"X-WebChannel-Client-Profile":L.va}),this.g.S=b,(b=L&&L.Sb)&&!G(b)&&(this.g.m=b),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!G(L)&&(this.g.D=L,b=this.h,b!==null&&L in b&&(b=this.h,L in b&&delete b[L])),this.j=new wa(this)}D(Qn,Tt),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){Ms(this.g)},Qn.prototype.o=function(b){var L=this.g;if(typeof b=="string"){var K={};K.__data__=b,b=K}else this.u&&(K={},K.__data__=st(b),b=K);L.i.push(new Pa(L.Ya++,b)),L.G==3&&tr(L)},Qn.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,Qn.aa.N.call(this)};function _c(b){ti.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var L=b.__sm__;if(L){e:{for(const K in L){b=K;break e}b=void 0}(this.i=b)&&(b=this.i,L=L!==null&&b in L?L[b]:void 0),this.data=L}else this.data=b}D(_c,ti);function ps(){Gr.call(this),this.status=1}D(ps,Gr);function wa(b){this.g=b}D(wa,Wr),wa.prototype.ua=function(){Jt(this.g,"a")},wa.prototype.ta=function(b){Jt(this.g,new _c(b))},wa.prototype.sa=function(b){Jt(this.g,new ps)},wa.prototype.ra=function(){Jt(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,MN=function(){return new Os},kN=function(){return ga()},UN=ri,F2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,o1=ue,he.COMPLETE="complete",DN=he,qi.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,W0=qi,sn.prototype.listenOnce=sn.prototype.L,sn.prototype.getLastError=sn.prototype.Ka,sn.prototype.getLastErrorCode=sn.prototype.Ba,sn.prototype.getStatus=sn.prototype.Z,sn.prototype.getResponseJson=sn.prototype.Oa,sn.prototype.getResponseText=sn.prototype.oa,sn.prototype.send=sn.prototype.ea,sn.prototype.setWithCredentials=sn.prototype.Ha,RN=sn}).apply(typeof Yh<"u"?Yh:typeof self<"u"?self:typeof window<"u"?window:{});const jb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Vw("@firebase/firestore");function D0(){return ac.logLevel}function Pt(t,...e){if(ac.logLevel<=Or.DEBUG){const r=e.map(Gw);ac.debug(`Firestore (${Hu}): ${t}`,...r)}}function uA(t,...e){if(ac.logLevel<=Or.ERROR){const r=e.map(Gw);ac.error(`Firestore (${Hu}): ${t}`,...r)}}function bu(t,...e){if(ac.logLevel<=Or.WARN){const r=e.map(Gw);ac.warn(`Firestore (${Hu}): ${t}`,...r)}}function Gw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t="Unexpected state"){const e=`FIRESTORE (${Hu}) INTERNAL ASSERTION FAILED: `+t;throw uA(e),new Error(e)}function tn(t,e){t||rr()}function cr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends wl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(ns.UNAUTHENTICATED)))}shutdown(){}}class I${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class N${constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){tn(this.o===void 0);let n=this.i;const i=h=>this.i!==n?(n=this.i,r(h)):Promise.resolve();let s=new ol;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ol,e.enqueueRetryable((()=>i(this.currentUser)))};const A=()=>{const h=s;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ol)}}),0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(tn(typeof n.accessToken=="string"),new ON(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string"),new ns(e)}}class F${constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=ns.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R${constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new F$(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(ns.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){tn(this.o===void 0);const n=s=>{s.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const A=s.token!==this.R;return this.R=s.token,Pt("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(tn(typeof r.token=="string"),this.R=r.token,new D$(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=k$(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Vr(t,e){return t<e?-1:t>e?1:0}function Su(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ot(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ot(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ot(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yi.fromMillis(Date.now())}static fromDate(e){return yi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new yi(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vr(this.nanoseconds,e.nanoseconds):Vr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new lr(e)}static min(){return new lr(new yi(0,0))}static max(){return new lr(new yi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,r,n){r===void 0?r=0:r>e.length&&rr(),n===void 0?n=e.length-r:n>e.length-r&&rr(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ff.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ff?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),A=r.get(i);if(s<A)return-1;if(s>A)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class En extends Ff{construct(e,r,n){return new En(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ot(ft.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new En(r)}static emptyPath(){return new En([])}}const M$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ji extends Ff{construct(e,r,n){return new ji(e,r,n)}static isValidIdentifier(e){return M$.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ji.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ji(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ot(ft.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let A=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ot(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ot(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,i+=2}else c==="`"?(A=!A,i++):c!=="."||A?(n+=c,i++):(s(),i++)}if(s(),A)throw new Ot(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ji(r)}static emptyPath(){return new ji([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.path=e}static fromPath(e){return new qt(En.fromString(e))}static fromName(e){return new qt(En.fromString(e).popFirst(5))}static empty(){return new qt(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&En.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return En.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qt(new En(e.slice()))}}function O$(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=lr.fromTimestamp(n===1e9?new yi(r+1,0):new yi(r,n));return new dl(i,qt.empty(),e)}function L$(t){return new dl(t.readTime,t.key,-1)}class dl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new dl(lr.min(),qt.empty(),-1)}static max(){return new dl(lr.max(),qt.empty(),-1)}}function Q$(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=qt.comparator(t.documentKey,e.documentKey),r!==0?r:Vr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){if(t.code!==ft.FAILED_PRECONDITION||t.message!==P$)throw t;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&rr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new mt(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof mt?r:mt.resolve(r)}catch(r){return mt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):mt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):mt.reject(r)}static resolve(e){return new mt(((r,n)=>{r(e)}))}static reject(e){return new mt(((r,n)=>{n(e)}))}static waitFor(e){return new mt(((r,n)=>{let i=0,s=0,A=!1;e.forEach((c=>{++i,c.next((()=>{++s,A&&s===i&&r()}),(h=>n(h)))})),A=!0,s===i&&r()}))}static or(e){let r=mt.resolve(!1);for(const n of e)r=r.next((i=>i?mt.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new mt(((n,i)=>{const s=e.length,A=new Array(s);let c=0;for(let h=0;h<s;h++){const d=h;r(e[d]).next((x=>{A[d]=x,++c,c===s&&n(A)}),(x=>i(x)))}}))}static doWhile(e,r){return new mt(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}function V$(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Wf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kw.oe=-1;function Eg(t){return t==null}function K1(t){return t===0&&1/t==-1/0}function j$(t){return typeof t=="number"&&Number.isInteger(t)&&!K1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function xc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function QN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,r){this.comparator=e,this.root=r||Hi.EMPTY}insert(e,r){return new Un(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Hi.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hi{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Hi.RED,this.left=i??Hi.EMPTY,this.right=s??Hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Hi(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Hi.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rr();const e=this.left.check();if(e!==this.right.check())throw rr();return e+(this.isRed()?0:1)}}Hi.EMPTY=null,Hi.RED=!0,Hi.BLACK=!1;Hi.EMPTY=new class{constructor(){this.size=0}get key(){throw rr()}get value(){throw rr()}get color(){throw rr()}get left(){throw rr()}get right(){throw rr()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Hi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Kb(this.data.getIterator())}getIteratorFrom(e){return new Kb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Wi(this.comparator);return r.data=e,r}}class Kb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.fields=e,e.sort(ji.comparator)}static empty(){return new fa([])}unionWith(e){let r=new Wi(ji.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new fa(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new PN("Invalid base64 string: "+s):s}})(e);return new Xi(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let A=0;A<i.length;++A)s+=String.fromCharCode(i[A]);return s})(e);return new Xi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const G$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(t){if(tn(!!t),typeof t=="string"){let e=0;const r=G$.exec(t);if(tn(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ei(t.seconds),nanos:ei(t.nanos)}}function ei(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oc(t){return typeof t=="string"?Xi.fromBase64String(t):Xi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Ww(t){const e=t.mapValue.fields.__previous_value__;return zw(e)?Ww(e):e}function Rf(t){const e=hl(t.mapValue.fields.__local_write_time__.timestampValue);return new yi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,r,n,i,s,A,c,h,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=A,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d}}class Df{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Df("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Df&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh={mapValue:{}};function Ac(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zw(t)?4:W$(t)?9007199254740991:z$(t)?10:11:rr()}function Eo(t,e){if(t===e)return!0;const r=Ac(t);if(r!==Ac(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rf(t).isEqual(Rf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const A=hl(i.timestampValue),c=hl(s.timestampValue);return A.seconds===c.seconds&&A.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return oc(i.bytesValue).isEqual(oc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return ei(i.geoPointValue.latitude)===ei(s.geoPointValue.latitude)&&ei(i.geoPointValue.longitude)===ei(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return ei(i.integerValue)===ei(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const A=ei(i.doubleValue),c=ei(s.doubleValue);return A===c?K1(A)===K1(c):isNaN(A)&&isNaN(c)}return!1})(t,e);case 9:return Su(t.arrayValue.values||[],e.arrayValue.values||[],Eo);case 10:case 11:return(function(i,s){const A=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Gb(A)!==Gb(c))return!1;for(const h in A)if(A.hasOwnProperty(h)&&(c[h]===void 0||!Eo(A[h],c[h])))return!1;return!0})(t,e);default:return rr()}}function Uf(t,e){return(t.values||[]).find((r=>Eo(r,e)))!==void 0}function Iu(t,e){if(t===e)return 0;const r=Ac(t),n=Ac(e);if(r!==n)return Vr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Vr(t.booleanValue,e.booleanValue);case 2:return(function(s,A){const c=ei(s.integerValue||s.doubleValue),h=ei(A.integerValue||A.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return zb(t.timestampValue,e.timestampValue);case 4:return zb(Rf(t),Rf(e));case 5:return Vr(t.stringValue,e.stringValue);case 6:return(function(s,A){const c=oc(s),h=oc(A);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(s,A){const c=s.split("/"),h=A.split("/");for(let d=0;d<c.length&&d<h.length;d++){const x=Vr(c[d],h[d]);if(x!==0)return x}return Vr(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,A){const c=Vr(ei(s.latitude),ei(A.latitude));return c!==0?c:Vr(ei(s.longitude),ei(A.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Wb(t.arrayValue,e.arrayValue);case 10:return(function(s,A){var c,h,d,x;const C=s.fields||{},B=A.fields||{},F=(c=C.value)===null||c===void 0?void 0:c.arrayValue,D=(h=B.value)===null||h===void 0?void 0:h.arrayValue,R=Vr(((d=F==null?void 0:F.values)===null||d===void 0?void 0:d.length)||0,((x=D==null?void 0:D.values)===null||x===void 0?void 0:x.length)||0);return R!==0?R:Wb(F,D)})(t.mapValue,e.mapValue);case 11:return(function(s,A){if(s===Zh.mapValue&&A===Zh.mapValue)return 0;if(s===Zh.mapValue)return 1;if(A===Zh.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),d=A.fields||{},x=Object.keys(d);h.sort(),x.sort();for(let C=0;C<h.length&&C<x.length;++C){const B=Vr(h[C],x[C]);if(B!==0)return B;const F=Iu(c[h[C]],d[x[C]]);if(F!==0)return F}return Vr(h.length,x.length)})(t.mapValue,e.mapValue);default:throw rr()}}function zb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Vr(t,e);const r=hl(t),n=hl(e),i=Vr(r.seconds,n.seconds);return i!==0?i:Vr(r.nanos,n.nanos)}function Wb(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Iu(r[i],n[i]);if(s)return s}return Vr(r.length,n.length)}function Nu(t){return R2(t)}function R2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=hl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return oc(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return qt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=R2(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const A of n)s?s=!1:i+=",",i+=`${A}:${R2(r.fields[A])}`;return i+"}"})(t.mapValue):rr()}function Xb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function D2(t){return!!t&&"integerValue"in t}function Xw(t){return!!t&&"arrayValue"in t}function qb(t){return!!t&&"nullValue"in t}function Yb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function A1(t){return!!t&&"mapValue"in t}function z$(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function ff(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xc(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=ff(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ff(t.arrayValue.values[r]);return e}return Object.assign({},t)}function W$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.value=e}static empty(){return new Ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!A1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ff(r)}setAll(e){let r=ji.emptyPath(),n={},i=[];e.forEach(((A,c)=>{if(!r.isImmediateParentOf(c)){const h=this.getFieldsMap(r);this.applyChanges(h,n,i),n={},i=[],r=c.popLast()}A?n[c.lastSegment()]=ff(A):i.push(c.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());A1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Eo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];A1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){xc(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new Ws(ff(this.value))}}function HN(t){const e=[];return xc(t.fields,((r,n)=>{const i=new ji([r]);if(A1(n)){const s=HN(n.mapValue).fields;if(s.length===0)e.push(i);else for(const A of s)e.push(i.child(A))}else e.push(i)})),new fa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,r,n,i,s,A,c){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=A,this.documentState=c}static newInvalidDocument(e){return new as(e,0,lr.min(),lr.min(),lr.min(),Ws.empty(),0)}static newFoundDocument(e,r,n,i){return new as(e,1,r,lr.min(),n,i,0)}static newNoDocument(e,r){return new as(e,2,r,lr.min(),lr.min(),Ws.empty(),0)}static newUnknownDocument(e,r){return new as(e,3,r,lr.min(),lr.min(),Ws.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(lr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof as&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new as(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,r){this.position=e,this.inclusive=r}}function Jb(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],A=t.position[i];if(s.field.isKeyField()?n=qt.comparator(qt.fromName(A.referenceValue),r.key):n=Iu(A,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Zb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Eo(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,r="asc"){this.field=e,this.dir=r}}function X$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{}class di extends VN{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Y$(e,r,n):r==="array-contains"?new $$(e,n):r==="in"?new eee(e,n):r==="not-in"?new tee(e,n):r==="array-contains-any"?new ree(e,n):new di(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new J$(e,n):new Z$(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Iu(r,this.value)):r!==null&&Ac(this.value)===Ac(r)&&this.matchesComparison(Iu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class io extends VN{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new io(e,r)}matches(e){return jN(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jN(t){return t.op==="and"}function GN(t){return q$(t)&&jN(t)}function q$(t){for(const e of t.filters)if(e instanceof io)return!1;return!0}function U2(t){if(t instanceof di)return t.field.canonicalString()+t.op.toString()+Nu(t.value);if(GN(t))return t.filters.map((e=>U2(e))).join(",");{const e=t.filters.map((r=>U2(r))).join(",");return`${t.op}(${e})`}}function KN(t,e){return t instanceof di?(function(n,i){return i instanceof di&&n.op===i.op&&n.field.isEqual(i.field)&&Eo(n.value,i.value)})(t,e):t instanceof io?(function(n,i){return i instanceof io&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,A,c)=>s&&KN(A,i.filters[c])),!0):!1})(t,e):void rr()}function zN(t){return t instanceof di?(function(r){return`${r.field.canonicalString()} ${r.op} ${Nu(r.value)}`})(t):t instanceof io?(function(r){return r.op.toString()+" {"+r.getFilters().map(zN).join(" ,")+"}"})(t):"Filter"}class Y$ extends di{constructor(e,r,n){super(e,r,n),this.key=qt.fromName(n.referenceValue)}matches(e){const r=qt.comparator(e.key,this.key);return this.matchesComparison(r)}}class J$ extends di{constructor(e,r){super(e,"in",r),this.keys=WN("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class Z$ extends di{constructor(e,r){super(e,"not-in",r),this.keys=WN("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function WN(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>qt.fromName(n.referenceValue)))}class $$ extends di{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Xw(r)&&Uf(r.arrayValue,this.value)}}class eee extends di{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Uf(this.value.arrayValue,r)}}class tee extends di{constructor(e,r){super(e,"not-in",r)}matches(e){if(Uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Uf(this.value.arrayValue,r)}}class ree extends di{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Xw(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Uf(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(e,r=null,n=[],i=[],s=null,A=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=A,this.endAt=c,this.ue=null}}function $b(t,e=null,r=[],n=[],i=null,s=null,A=null){return new nee(t,e,r,n,i,s,A)}function qw(t){const e=cr(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>U2(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),Eg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Nu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Nu(n))).join(",")),e.ue=r}return e.ue}function Yw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!X$(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!KN(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zb(t.startAt,e.startAt)&&Zb(t.endAt,e.endAt)}function k2(t){return qt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,r=null,n=[],i=[],s=null,A="F",c=null,h=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=A,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iee(t,e,r,n,i,s,A,c){return new Xf(t,e,r,n,i,s,A,c)}function Jw(t){return new Xf(t)}function e4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XN(t){return t.collectionGroup!==null}function df(t){const e=cr(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let c=new Wi(ji.comparator);return A.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new W1(s,n))})),r.has(ji.keyField().canonicalString())||e.ce.push(new W1(ji.keyField(),n))}return e.ce}function vo(t){const e=cr(t);return e.le||(e.le=see(e,df(t))),e.le}function see(t,e){if(t.limitType==="F")return $b(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new W1(i.field,s)}));const r=t.endAt?new z1(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new z1(t.startAt.position,t.startAt.inclusive):null;return $b(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function M2(t,e){const r=t.filters.concat([e]);return new Xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function O2(t,e,r){return new Xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Bg(t,e){return Yw(vo(t),vo(e))&&t.limitType===e.limitType}function qN(t){return`${qw(vo(t))}|lt:${t.limitType}`}function lu(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>zN(i))).join(", ")}]`),Eg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(A){return`${A.field.canonicalString()} (${A.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Nu(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Nu(i))).join(",")),`Target(${n})`})(vo(t))}; limitType=${t.limitType})`}function _g(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):qt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of df(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(A,c,h){const d=Jb(A,c,h);return A.inclusive?d<=0:d<0})(n.startAt,df(n),i)||n.endAt&&!(function(A,c,h){const d=Jb(A,c,h);return A.inclusive?d>=0:d>0})(n.endAt,df(n),i))})(t,e)}function aee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YN(t){return(e,r)=>{let n=!1;for(const i of df(t)){const s=oee(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function oee(t,e,r){const n=t.field.isKeyField()?qt.comparator(e.key,r.key):(function(s,A,c){const h=A.data.field(s),d=c.data.field(s);return h!==null&&d!==null?Iu(h,d):rr()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return rr()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xc(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return QN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee=new Un(qt.comparator);function fA(){return Aee}const JN=new Un(qt.comparator);function X0(...t){let e=JN;for(const r of t)e=e.insert(r.key,r);return e}function ZN(t){let e=JN;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function ql(){return hf()}function $N(){return hf()}function hf(){return new Vu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const lee=new Un(qt.comparator),cee=new Wi(qt.comparator);function br(...t){let e=cee;for(const r of t)e=e.add(r);return e}const uee=new Wi(Vr);function fee(){return uee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K1(e)?"-0":e}}function eF(t){return{integerValue:""+t}}function dee(t,e){return j$(e)?eF(e):Zw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this._=void 0}}function hee(t,e,r){return t instanceof X1?(function(i,s){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zw(s)&&(s=Ww(s)),s&&(A.fields.__previous_value__=s),{mapValue:A}})(r,e):t instanceof kf?rF(t,e):t instanceof Mf?nF(t,e):(function(i,s){const A=tF(i,s),c=t4(A)+t4(i.Pe);return D2(A)&&D2(i.Pe)?eF(c):Zw(i.serializer,c)})(t,e)}function gee(t,e,r){return t instanceof kf?rF(t,e):t instanceof Mf?nF(t,e):r}function tF(t,e){return t instanceof q1?(function(n){return D2(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class X1 extends Tg{}class kf extends Tg{constructor(e){super(),this.elements=e}}function rF(t,e){const r=iF(e);for(const n of t.elements)r.some((i=>Eo(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Mf extends Tg{constructor(e){super(),this.elements=e}}function nF(t,e){let r=iF(e);for(const n of t.elements)r=r.filter((i=>!Eo(i,n)));return{arrayValue:{values:r}}}class q1 extends Tg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function t4(t){return ei(t.integerValue||t.doubleValue)}function iF(t){return Xw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pee(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof kf&&i instanceof kf||n instanceof Mf&&i instanceof Mf?Su(n.elements,i.elements,Eo):n instanceof q1&&i instanceof q1?Eo(n.Pe,i.Pe):n instanceof X1&&i instanceof X1})(t.transform,e.transform)}class mee{constructor(e,r){this.version=e,this.transformResults=r}}class Xs{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Xs}static exists(e){return new Xs(void 0,e)}static updateTime(e){return new Xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function l1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bg{}function sF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sg(t.key,Xs.none()):new qf(t.key,t.data,Xs.none());{const r=t.data,n=Ws.empty();let i=new Wi(ji.comparator);for(let s of e.fields)if(!i.has(s)){let A=r.field(s);A===null&&s.length>1&&(s=s.popLast(),A=r.field(s)),A===null?n.delete(s):n.set(s,A),i=i.add(s)}return new vl(t.key,n,new fa(i.toArray()),Xs.none())}}function xee(t,e,r){t instanceof qf?(function(i,s,A){const c=i.value.clone(),h=n4(i.fieldTransforms,s,A.transformResults);c.setAll(h),s.convertToFoundDocument(A.version,c).setHasCommittedMutations()})(t,e,r):t instanceof vl?(function(i,s,A){if(!l1(i.precondition,s))return void s.convertToUnknownDocument(A.version);const c=n4(i.fieldTransforms,s,A.transformResults),h=s.data;h.setAll(aF(i)),h.setAll(c),s.convertToFoundDocument(A.version,h).setHasCommittedMutations()})(t,e,r):(function(i,s,A){s.convertToNoDocument(A.version).setHasCommittedMutations()})(0,e,r)}function gf(t,e,r,n){return t instanceof qf?(function(s,A,c,h){if(!l1(s.precondition,A))return c;const d=s.value.clone(),x=i4(s.fieldTransforms,h,A);return d.setAll(x),A.convertToFoundDocument(A.version,d).setHasLocalMutations(),null})(t,e,r,n):t instanceof vl?(function(s,A,c,h){if(!l1(s.precondition,A))return c;const d=i4(s.fieldTransforms,h,A),x=A.data;return x.setAll(aF(s)),x.setAll(d),A.convertToFoundDocument(A.version,x).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((C=>C.field)))})(t,e,r,n):(function(s,A,c){return l1(s.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):c})(t,e,r)}function wee(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=tF(n.transform,i||null);s!=null&&(r===null&&(r=Ws.empty()),r.set(n.field,s))}return r||null}function r4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Su(n,i,((s,A)=>pee(s,A)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qf extends bg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vl extends bg{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aF(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function n4(t,e,r){const n=new Map;tn(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],A=s.transform,c=e.data.field(s.field);n.set(s.field,gee(A,c,r[i]))}return n}function i4(t,e,r){const n=new Map;for(const i of t){const s=i.transform,A=r.data.field(i.field);n.set(i.field,hee(s,A,e))}return n}class Sg extends bg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vee extends bg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xee(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=gf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=gf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=$N();return this.mutations.forEach((i=>{const s=e.get(i.key),A=s.overlayedDocument;let c=this.applyToLocalView(A,s.mutatedFields);c=r.has(i.key)?null:c;const h=sF(A,c);h!==null&&n.set(i.key,h),A.isValidDocument()||A.convertToNoDocument(lr.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),br())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,((r,n)=>r4(r,n)))&&Su(this.baseMutations,e.baseMutations,((r,n)=>r4(r,n)))}}class $w{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){tn(e.mutations.length===n.length);let i=(function(){return lee})();const s=e.mutations;for(let A=0;A<s.length;A++)i=i.insert(s[A].key,n[A].version);return new $w(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li,Rr;function Bee(t){switch(t){default:return rr();case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0}}function oF(t){if(t===void 0)return uA("GRPC error has no .code"),ft.UNKNOWN;switch(t){case li.OK:return ft.OK;case li.CANCELLED:return ft.CANCELLED;case li.UNKNOWN:return ft.UNKNOWN;case li.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case li.INTERNAL:return ft.INTERNAL;case li.UNAVAILABLE:return ft.UNAVAILABLE;case li.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case li.NOT_FOUND:return ft.NOT_FOUND;case li.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case li.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case li.ABORTED:return ft.ABORTED;case li.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case li.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case li.DATA_LOSS:return ft.DATA_LOSS;default:return rr()}}(Rr=li||(li={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ee(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee=new tc([4294967295,4294967295],0);function s4(t){const e=_ee().encode(t),r=new FN;return r.update(e),new Uint8Array(r.digest())}function a4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new tc([r,n],0),new tc([i,s],0)]}class ev{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new q0(`Invalid padding: ${r}`);if(n<0)throw new q0(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new q0(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new q0(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=tc.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(tc.fromNumber(n)));return i.compare(Tee)===1&&(i=new tc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=s4(e),[n,i]=a4(r);for(let s=0;s<this.hashCount;s++){const A=this.Ee(n,i,s);if(!this.de(A))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),A=new ev(s,i,r);return n.forEach((c=>A.insert(c))),A}insert(e){if(this.Ie===0)return;const r=s4(e),[n,i]=a4(r);for(let s=0;s<this.hashCount;s++){const A=this.Ee(n,i,s);this.Ae(A)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class q0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Yf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Ig(lr.min(),i,new Un(Vr),fA(),br())}}class Yf{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Yf(n,r,br(),br(),br())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class AF{constructor(e,r){this.targetId=e,this.me=r}}class lF{constructor(e,r,n=Xi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class o4{constructor(){this.fe=0,this.ge=l4(),this.pe=Xi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=br(),r=br(),n=br();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:rr()}})),new Yf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=l4()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bee{constructor(e){this.Le=e,this.Be=new Map,this.ke=fA(),this.qe=A4(),this.Qe=new Un(Vr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:rr()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((n,i)=>{this.ze(i)&&r(i)}))}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(k2(s))if(n===0){const A=new qt(s.path);this.Ue(r,A,as.newNoDocument(A,lr.min()))}else tn(n===1);else{const A=this.Ye(r);if(A!==n){const c=this.Ze(e),h=c?this.Xe(c,e,A):1;if(h!==0){this.je(r);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,d)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let A,c;try{A=oc(n).toUint8Array()}catch(h){if(h instanceof PN)return bu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new ev(A,i,s)}catch(h){return bu(h instanceof q0?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ie===0?null:c}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const A=this.Le.tt(),c=`projects/${A.projectId}/databases/${A.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,s,null),i++)})),i}rt(e){const r=new Map;this.Be.forEach(((s,A)=>{const c=this.Je(A);if(c){if(s.current&&k2(c.target)){const h=new qt(c.target.path);this.ke.get(h)!==null||this.it(A,h)||this.Ue(A,h,as.newNoDocument(h,e))}s.be&&(r.set(A,s.ve()),s.Ce())}}));let n=br();this.qe.forEach(((s,A)=>{let c=!0;A.forEachWhile((h=>{const d=this.Je(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(s))})),this.ke.forEach(((s,A)=>A.setReadTime(e)));const i=new Ig(e,r,this.Qe,this.ke,n);return this.ke=fA(),this.qe=A4(),this.Qe=new Un(Vr),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new o4,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Wi(Vr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Pt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new o4),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function A4(){return new Un(qt.comparator)}function l4(){return new Un(qt.comparator)}const See={asc:"ASCENDING",desc:"DESCENDING"},Iee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nee={and:"AND",or:"OR"};class Fee{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function L2(t,e){return t.useProto3Json||Eg(e)?e:{value:e}}function Y1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ree(t,e){return Y1(t,e.toTimestamp())}function yo(t){return tn(!!t),lr.fromTimestamp((function(r){const n=hl(r);return new yi(n.seconds,n.nanos)})(t))}function tv(t,e){return Q2(t,e).canonicalString()}function Q2(t,e){const r=(function(i){return new En(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function uF(t){const e=En.fromString(t);return tn(pF(e)),e}function P2(t,e){return tv(t.databaseId,e.path)}function wx(t,e){const r=uF(e);if(r.get(1)!==t.databaseId.projectId)throw new Ot(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ot(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new qt(dF(r))}function fF(t,e){return tv(t.databaseId,e)}function Dee(t){const e=uF(t);return e.length===4?En.emptyPath():dF(e)}function H2(t){return new En(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dF(t){return tn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function c4(t,e,r){return{name:P2(t,e),fields:r.value.mapValue.fields}}function Uee(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:rr()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,x){return d.useProto3Json?(tn(x===void 0||typeof x=="string"),Xi.fromBase64String(x||"")):(tn(x===void 0||x instanceof Buffer||x instanceof Uint8Array),Xi.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),A=e.targetChange.cause,c=A&&(function(d){const x=d.code===void 0?ft.UNKNOWN:oF(d.code);return new Ot(x,d.message||"")})(A);r=new lF(n,i,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=wx(t,n.document.name),s=yo(n.document.updateTime),A=n.document.createTime?yo(n.document.createTime):lr.min(),c=new Ws({mapValue:{fields:n.document.fields}}),h=as.newFoundDocument(i,s,A,c),d=n.targetIds||[],x=n.removedTargetIds||[];r=new c1(d,x,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=wx(t,n.document),s=n.readTime?yo(n.readTime):lr.min(),A=as.newNoDocument(i,s),c=n.removedTargetIds||[];r=new c1([],c,A.key,A)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=wx(t,n.document),s=n.removedTargetIds||[];r=new c1([],s,i,null)}else{if(!("filter"in e))return rr();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,A=new Eee(i,s),c=n.targetId;r=new AF(c,A)}}return r}function kee(t,e){let r;if(e instanceof qf)r={update:c4(t,e.key,e.value)};else if(e instanceof Sg)r={delete:P2(t,e.key)};else if(e instanceof vl)r={update:c4(t,e.key,e.data),updateMask:Gee(e.fieldMask)};else{if(!(e instanceof vee))return rr();r={verify:P2(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,A){const c=A.transform;if(c instanceof X1)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof kf)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mf)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof q1)return{fieldPath:A.field.canonicalString(),increment:c.Pe};throw rr()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Ree(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rr()})(t,e.precondition)),r}function Mee(t,e){return t&&t.length>0?(tn(e!==void 0),t.map((r=>(function(i,s){let A=i.updateTime?yo(i.updateTime):yo(s);return A.isEqual(lr.min())&&(A=yo(s)),new mee(A,i.transformResults||[])})(r,e)))):[]}function Oee(t,e){return{documents:[fF(t,e.path)]}}function Lee(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=fF(t,i);const s=(function(d){if(d.length!==0)return gF(io.create(d,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const A=(function(d){if(d.length!==0)return d.map((x=>(function(B){return{field:cu(B.field),direction:Hee(B.dir)}})(x)))})(e.orderBy);A&&(r.structuredQuery.orderBy=A);const c=L2(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{_t:r,parent:i}}function Qee(t){let e=Dee(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){tn(n===1);const x=r.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let s=[];r.where&&(s=(function(C){const B=hF(C);return B instanceof io&&GN(B)?B.getFilters():[B]})(r.where));let A=[];r.orderBy&&(A=(function(C){return C.map((B=>(function(D){return new W1(uu(D.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(B)))})(r.orderBy));let c=null;r.limit&&(c=(function(C){let B;return B=typeof C=="object"?C.value:C,Eg(B)?null:B})(r.limit));let h=null;r.startAt&&(h=(function(C){const B=!!C.before,F=C.values||[];return new z1(F,B)})(r.startAt));let d=null;return r.endAt&&(d=(function(C){const B=!C.before,F=C.values||[];return new z1(F,B)})(r.endAt)),iee(e,i,A,s,c,"F",h,d)}function Pee(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rr()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function hF(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=uu(r.unaryFilter.field);return di.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=uu(r.unaryFilter.field);return di.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uu(r.unaryFilter.field);return di.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=uu(r.unaryFilter.field);return di.create(A,"!=",{nullValue:"NULL_VALUE"});default:return rr()}})(t):t.fieldFilter!==void 0?(function(r){return di.create(uu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rr()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return io.create(r.compositeFilter.filters.map((n=>hF(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rr()}})(r.compositeFilter.op))})(t):rr()}function Hee(t){return See[t]}function Vee(t){return Iee[t]}function jee(t){return Nee[t]}function cu(t){return{fieldPath:t.canonicalString()}}function uu(t){return ji.fromServerFormat(t.fieldPath)}function gF(t){return t instanceof di?(function(r){if(r.op==="=="){if(Yb(r.value))return{unaryFilter:{field:cu(r.field),op:"IS_NAN"}};if(qb(r.value))return{unaryFilter:{field:cu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Yb(r.value))return{unaryFilter:{field:cu(r.field),op:"IS_NOT_NAN"}};if(qb(r.value))return{unaryFilter:{field:cu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cu(r.field),op:Vee(r.op),value:r.value}}})(t):t instanceof io?(function(r){const n=r.getFilters().map((i=>gF(i)));return n.length===1?n[0]:{compositeFilter:{op:jee(r.op),filters:n}}})(t):rr()}function Gee(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function pF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,r,n,i,s=lr.min(),A=lr.min(),c=Xi.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e){this.ct=e}}function zee(t){const e=Qee({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?O2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(){this.un=new Xee}addToCollectionParentIndex(e,r){return this.un.add(r),mt.resolve()}getCollectionParents(e,r){return mt.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return mt.resolve()}deleteFieldIndex(e,r){return mt.resolve()}deleteAllFieldIndexes(e){return mt.resolve()}createTargetIndexes(e,r){return mt.resolve()}getDocumentsMatchingTarget(e,r){return mt.resolve(null)}getIndexType(e,r){return mt.resolve(0)}getFieldIndexes(e,r){return mt.resolve([])}getNextCollectionGroupToUpdate(e){return mt.resolve(null)}getMinOffset(e,r){return mt.resolve(dl.min())}getMinOffsetFromCollectionGroup(e,r){return mt.resolve(dl.min())}updateCollectionGroup(e,r,n){return mt.resolve()}updateIndexEntries(e,r){return mt.resolve()}}class Xee{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Wi(En.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Wi(En.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fu(0)}static kn(){return new Fu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(){this.changes=new Vu((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,as.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?mt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&gf(n.mutation,i,fa.empty(),yi.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,br()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=br()){const i=ql();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let A=X0();return s.forEach(((c,h)=>{A=A.insert(c,h.overlayedDocument)})),A}))))}getOverlayedDocuments(e,r){const n=ql();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,br())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((A,c)=>{r.set(A,c)}))}))}computeViews(e,r,n,i){let s=fA();const A=hf(),c=(function(){return hf()})();return r.forEach(((h,d)=>{const x=n.get(d.key);i.has(d.key)&&(x===void 0||x.mutation instanceof vl)?s=s.insert(d.key,d):x!==void 0?(A.set(d.key,x.mutation.getFieldMask()),gf(x.mutation,d,x.mutation.getFieldMask(),yi.now())):A.set(d.key,fa.empty())})),this.recalculateAndSaveOverlays(e,s).next((h=>(h.forEach(((d,x)=>A.set(d,x))),r.forEach(((d,x)=>{var C;return c.set(d,new Yee(x,(C=A.get(d))!==null&&C!==void 0?C:null))})),c)))}recalculateAndSaveOverlays(e,r){const n=hf();let i=new Un(((A,c)=>A-c)),s=br();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((A=>{for(const c of A)c.keys().forEach((h=>{const d=r.get(h);if(d===null)return;let x=n.get(h)||fa.empty();x=c.applyToLocalView(d,x),n.set(h,x);const C=(i.get(c.batchId)||br()).add(h);i=i.insert(c.batchId,C)}))})).next((()=>{const A=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,x=h.value,C=$N();x.forEach((B=>{if(!s.has(B)){const F=sF(r.get(B),n.get(B));F!==null&&C.set(B,F),s=s.add(B)}})),A.push(this.documentOverlayCache.saveOverlays(e,d,C))}return mt.waitFor(A)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(A){return qt.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):XN(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const A=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):mt.resolve(ql());let c=-1,h=s;return A.next((d=>mt.forEach(d,((x,C)=>(c<C.largestBatchId&&(c=C.largestBatchId),s.get(x)?mt.resolve():this.remoteDocumentCache.getEntry(e,x).next((B=>{h=h.insert(x,B)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,h,d,br()))).next((x=>({batchId:c,changes:ZN(x)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new qt(r)).next((n=>{let i=X0();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let A=X0();return this.indexManager.getCollectionParents(e,s).next((c=>mt.forEach(c,(h=>{const d=(function(C,B){return new Xf(B,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(r,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((x=>{x.forEach(((C,B)=>{A=A.insert(C,B)}))}))})).next((()=>A))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((A=>(s=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((A=>{s.forEach(((h,d)=>{const x=d.getKey();A.get(x)===null&&(A=A.insert(x,as.newInvalidDocument(x)))}));let c=X0();return A.forEach(((h,d)=>{const x=s.get(h);x!==void 0&&gf(x.mutation,d,fa.empty(),yi.now()),_g(r,d)&&(c=c.insert(h,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return mt.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:yo(i.createTime)}})(r)),mt.resolve()}getNamedQuery(e,r){return mt.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(i){return{name:i.name,query:zee(i.bundledQuery),readTime:yo(i.readTime)}})(r)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(){this.overlays=new Un(qt.comparator),this.Ir=new Map}getOverlay(e,r){return mt.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ql();return mt.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.ht(e,r,s)})),mt.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(n)),mt.resolve()}getOverlaysForCollection(e,r,n){const i=ql(),s=r.length+1,A=new qt(r.child("")),c=this.overlays.getIteratorFrom(A);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===s&&h.largestBatchId>n&&i.set(h.getKey(),h)}return mt.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Un(((d,x)=>d-x));const A=this.overlays.getIterator();for(;A.hasNext();){const d=A.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let x=s.get(d.largestBatchId);x===null&&(x=ql(),s=s.insert(d.largestBatchId,x)),x.set(d.getKey(),d)}}const c=ql(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,x)=>c.set(d,x))),!(c.size()>=i)););return mt.resolve(c)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const A=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,A)}this.overlays=this.overlays.insert(n.key,new Cee(r,n));let s=this.Ir.get(r);s===void 0&&(s=br(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(){this.sessionToken=Xi.EMPTY_BYTE_STRING}getSessionToken(e){return mt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.Tr=new Wi(Ii.Er),this.dr=new Wi(Ii.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ii(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Vr(new Ii(e,r))}mr(e,r){e.forEach((n=>this.removeReference(n,r)))}gr(e){const r=new qt(new En([])),n=new Ii(r,e),i=new Ii(r,e+1),s=[];return this.dr.forEachInRange([n,i],(A=>{this.Vr(A),s.push(A.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new qt(new En([])),n=new Ii(r,e),i=new Ii(r,e+1);let s=br();return this.dr.forEachInRange([n,i],(A=>{s=s.add(A.key)})),s}containsKey(e){const r=new Ii(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ii{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return qt.comparator(e.key,r.key)||Vr(e.wr,r.wr)}static Ar(e,r){return Vr(e.wr,r.wr)||qt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Wi(Ii.Er)}checkEmpty(e){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new yee(s,r,n,i);this.mutationQueue.push(A);for(const c of i)this.br=this.br.add(new Ii(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return mt.resolve(A)}lookupMutationBatch(e,r){return mt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return mt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ii(r,0),i=new Ii(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],(A=>{const c=this.Dr(A.wr);s.push(c)})),mt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Wi(Vr);return r.forEach((i=>{const s=new Ii(i,0),A=new Ii(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,A],(c=>{n=n.add(c.wr)}))})),mt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;qt.isDocumentKey(s)||(s=s.child(""));const A=new Ii(new qt(s),0);let c=new Wi(Vr);return this.br.forEachWhile((h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(c=c.add(h.wr)),!0)}),A),mt.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){tn(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return mt.forEach(r.mutations,(i=>{const s=new Ii(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,r){const n=new Ii(r,0),i=this.br.firstAfterOrEqual(n);return mt.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,mt.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e){this.Mr=e,this.docs=(function(){return new Un(qt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,A=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:A}),this.size+=A-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return mt.resolve(n?n.document.mutableCopy():as.newInvalidDocument(r))}getEntries(e,r){let n=fA();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():as.newInvalidDocument(i))})),mt.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=fA();const A=r.path,c=new qt(A.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:x}}=h.getNext();if(!A.isPrefixOf(d.path))break;d.path.length>A.length+1||Q$(L$(x),n)<=0||(i.has(x.key)||_g(r,x))&&(s=s.insert(x.key,x.mutableCopy()))}return mt.resolve(s)}getAllFromCollectionGroup(e,r,n,i){rr()}Or(e,r){return mt.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new nte(this)}getSize(e){return mt.resolve(this.size)}}class nte extends qee{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),mt.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(e){this.persistence=e,this.Nr=new Vu((r=>qw(r)),Yw),this.lastRemoteSnapshotVersion=lr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new rv,this.targetCount=0,this.kr=Fu.Bn()}forEachTarget(e,r){return this.Nr.forEach(((n,i)=>r(i))),mt.resolve()}getLastRemoteSnapshotVersion(e){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),mt.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Fu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,mt.resolve()}updateTargetData(e,r){return this.Kn(r),mt.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,mt.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach(((A,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Nr.delete(A),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),mt.waitFor(s).next((()=>i))}getTargetCount(e){return mt.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return mt.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),mt.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((A=>{s.push(i.markPotentiallyOrphaned(e,A))})),mt.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),mt.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return mt.resolve(n)}containsKey(e,r){return mt.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Kw(0),this.Kr=!1,this.Kr=!0,this.$r=new ete,this.referenceDelegate=e(this),this.Ur=new ite(this),this.indexManager=new Wee,this.remoteDocumentCache=(function(i){return new rte(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new Kee(r),this.Gr=new Zee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new $ee,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new tte(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Pt("MemoryPersistence","Starting transaction:",e);const i=new ate(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,r){return mt.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,r))))}}class ate extends H${constructor(e){super(),this.currentSequenceNumber=e}}class nv{constructor(e){this.persistence=e,this.Jr=new rv,this.Yr=null}static Zr(e){return new nv(e)}get Xr(){if(this.Yr)return this.Yr;throw rr()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),mt.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),mt.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),mt.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.Xr,(n=>{const i=qt.fromPath(n);return this.ei(e,i).next((s=>{s||r.removeEntry(i,lr.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return mt.or([()=>mt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=br(),i=br();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new iv(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return cZ()?8:V$(oZ())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next((A=>{s.result=A})).next((()=>{if(!s.result)return this.Zi(e,r,i,n).next((A=>{s.result=A}))})).next((()=>{if(s.result)return;const A=new ote;return this.Xi(e,r,A).next((c=>{if(s.result=c,this.zi)return this.es(e,r,A,c.size)}))})).next((()=>s.result))}es(e,r,n,i){return n.documentReadCount<this.ji?(D0()<=Or.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",lu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),mt.resolve()):(D0()<=Or.DEBUG&&Pt("QueryEngine","Query:",lu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(D0()<=Or.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",lu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vo(r))):mt.resolve())}Yi(e,r){if(e4(r))return mt.resolve(null);let n=vo(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=O2(r,null,"F"),n=vo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const A=br(...s);return this.Ji.getDocuments(e,A).next((c=>this.indexManager.getMinOffset(e,n).next((h=>{const d=this.ts(r,c);return this.ns(r,d,A,h.readTime)?this.Yi(e,O2(r,null,"F")):this.rs(e,d,r,h)}))))})))))}Zi(e,r,n,i){return e4(r)||i.isEqual(lr.min())?mt.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const A=this.ts(r,s);return this.ns(r,A,n,i)?mt.resolve(null):(D0()<=Or.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lu(r)),this.rs(e,A,r,O$(i,-1)).next((c=>c)))}))}ts(e,r){let n=new Wi(YN(e));return r.forEach(((i,s)=>{_g(e,s)&&(n=n.add(s))})),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return D0()<=Or.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",lu(r)),this.Ji.getDocumentsMatchingQuery(e,r,dl.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((A=>{s=s.insert(A.key,A)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Un(Vr),this._s=new Vu((s=>qw(s)),Yw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jee(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}}function cte(t,e,r,n){return new lte(t,e,r,n)}async function mF(t,e){const r=cr(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const A=[],c=[];let h=br();for(const d of i){A.push(d.batchId);for(const x of d.mutations)h=h.add(x.key)}for(const d of s){c.push(d.batchId);for(const x of d.mutations)h=h.add(x.key)}return r.localDocuments.getDocuments(n,h).next((d=>({hs:d,removedBatchIds:A,addedBatchIds:c})))}))}))}function ute(t,e){const r=cr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return(function(c,h,d,x){const C=d.batch,B=C.keys();let F=mt.resolve();return B.forEach((D=>{F=F.next((()=>x.getEntry(h,D))).next((R=>{const k=d.docVersions.get(D);tn(k!==null),R.version.compareTo(k)<0&&(C.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),x.addEntry(R)))}))})),F.next((()=>c.mutationQueue.removeMutationBatch(h,C)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let h=br();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function xF(t){const e=cr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function fte(t,e){const r=cr(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const A=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const c=[];e.targetChanges.forEach(((x,C)=>{const B=i.get(C);if(!B)return;c.push(r.Ur.removeMatchingKeys(s,x.removedDocuments,C).next((()=>r.Ur.addMatchingKeys(s,x.addedDocuments,C))));let F=B.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(C)!==null?F=F.withResumeToken(Xi.EMPTY_BYTE_STRING,lr.min()).withLastLimboFreeSnapshotVersion(lr.min()):x.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(x.resumeToken,n)),i=i.insert(C,F),(function(R,k,j){return R.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(B,F,x)&&c.push(r.Ur.updateTargetData(s,F))}));let h=fA(),d=br();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(s,x))})),c.push(dte(s,A,e.documentUpdates).next((x=>{h=x.Ps,d=x.Is}))),!n.isEqual(lr.min())){const x=r.Ur.getLastRemoteSnapshotVersion(s).next((C=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n)));c.push(x)}return mt.waitFor(c).next((()=>A.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,h,d))).next((()=>h))})).then((s=>(r.os=i,s)))}function dte(t,e,r){let n=br(),i=br();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let A=fA();return r.forEach(((c,h)=>{const d=s.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(lr.min())?(e.removeEntry(c,h.readTime),A=A.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),A=A.insert(c,h)):Pt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)})),{Ps:A,Is:i}}))}function hte(t,e){const r=cr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function gte(t,e){const r=cr(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Ur.getTargetData(n,e).next((s=>s?(i=s,mt.resolve(i)):r.Ur.allocateTargetId(n).next((A=>(i=new tl(e,A,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n}))}async function V2(t,e,r){const n=cr(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(A=>n.persistence.referenceDelegate.removeTarget(A,i)))}catch(A){if(!Wf(A))throw A;Pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function u4(t,e,r){const n=cr(t);let i=lr.min(),s=br();return n.persistence.runTransaction("Execute query","readwrite",(A=>(function(h,d,x){const C=cr(h),B=C._s.get(x);return B!==void 0?mt.resolve(C.os.get(B)):C.Ur.getTargetData(d,x)})(n,A,vo(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(A,c.targetId).next((h=>{s=h}))})).next((()=>n.ss.getDocumentsMatchingQuery(A,e,r?i:lr.min(),r?s:br()))).next((c=>(pte(n,aee(e),c),{documents:c,Ts:s})))))}function pte(t,e,r){let n=t.us.get(e)||lr.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.us.set(e,n)}class f4{constructor(){this.activeTargetIds=fee()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mte{constructor(){this.so=new f4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new f4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xte{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h=null;function vx(){return $h===null?$h=(function(){return 268435456+Math.round(2147483648*Math.random())})():$h++,"0x"+$h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="WebChannelConnection";class yte extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,A){const c=vx(),h=this.xo(r,n.toUriEncodedString());Pt("RestConnection",`Sending RPC '${r}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,A),this.No(r,h,d,i).then((x=>(Pt("RestConnection",`Received RPC '${r}' ${c}: `,x),x)),(x=>{throw bu("RestConnection",`RPC '${r}' ${c} failed with error: `,x,"url: ",h,"request:",i),x}))}Lo(r,n,i,s,A,c){return this.Mo(r,n,i,s,A)}Oo(r,n,i){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hu})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,A)=>r[A]=s)),i&&i.headers.forEach(((s,A)=>r[A]=s))}xo(r,n){const i=wte[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=vx();return new Promise(((A,c)=>{const h=new RN;h.setWithCredentials(!0),h.listenOnce(DN.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case o1.NO_ERROR:const x=h.getResponseJson();Pt(ts,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(x)),A(x);break;case o1.TIMEOUT:Pt(ts,`RPC '${e}' ${s} timed out`),c(new Ot(ft.DEADLINE_EXCEEDED,"Request time out"));break;case o1.HTTP_ERROR:const C=h.getStatus();if(Pt(ts,`RPC '${e}' ${s} failed with status:`,C,"response text:",h.getResponseText()),C>0){let B=h.getResponseJson();Array.isArray(B)&&(B=B[0]);const F=B==null?void 0:B.error;if(F&&F.status&&F.message){const D=(function(k){const j=k.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(j)>=0?j:ft.UNKNOWN})(F.status);c(new Ot(D,F.message))}else c(new Ot(ft.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ot(ft.UNAVAILABLE,"Connection failed."));break;default:rr()}}finally{Pt(ts,`RPC '${e}' ${s} completed.`)}}));const d=JSON.stringify(i);Pt(ts,`RPC '${e}' ${s} sending request:`,i),h.send(r,"POST",d,n,15)}))}Bo(e,r,n){const i=vx(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=MN(),c=kN(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,r,n),h.encodeInitMessageHeaders=!0;const x=s.join("");Pt(ts,`Creating RPC '${e}' stream ${i}: ${x}`,h);const C=A.createWebChannel(x,h);let B=!1,F=!1;const D=new vte({Io:k=>{F?Pt(ts,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(B||(Pt(ts,`Opening RPC '${e}' stream ${i} transport.`),C.open(),B=!0),Pt(ts,`RPC '${e}' stream ${i} sending:`,k),C.send(k))},To:()=>C.close()}),R=(k,j,G)=>{k.listen(j,(Q=>{try{G(Q)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return R(C,W0.EventType.OPEN,(()=>{F||(Pt(ts,`RPC '${e}' stream ${i} transport opened.`),D.yo())})),R(C,W0.EventType.CLOSE,(()=>{F||(F=!0,Pt(ts,`RPC '${e}' stream ${i} transport closed`),D.So())})),R(C,W0.EventType.ERROR,(k=>{F||(F=!0,bu(ts,`RPC '${e}' stream ${i} transport errored:`,k),D.So(new Ot(ft.UNAVAILABLE,"The operation could not be completed")))})),R(C,W0.EventType.MESSAGE,(k=>{var j;if(!F){const G=k.data[0];tn(!!G);const Q=G,ee=Q.error||((j=Q[0])===null||j===void 0?void 0:j.error);if(ee){Pt(ts,`RPC '${e}' stream ${i} received error:`,ee);const ne=ee.status;let te=(function(O){const z=li[O];if(z!==void 0)return oF(z)})(ne),M=ee.message;te===void 0&&(te=ft.INTERNAL,M="Unknown error status: "+ne+" with message "+ee.message),F=!0,D.So(new Ot(te,M)),C.close()}else Pt(ts,`RPC '${e}' stream ${i} received:`,G),D.bo(G)}})),R(c,UN.STAT_EVENT,(k=>{k.stat===F2.PROXY?Pt(ts,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===F2.NOPROXY&&Pt(ts,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{D.wo()}),0),D}}function yx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){return new Fee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Pt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,r,n,i,s,A,c,h){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new wF(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ft.RESOURCE_EXHAUSTED?(uA(r.toString()),uA("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===r&&this.P_(n,i)}),(n=>{e((()=>{const i=new Ot(ft.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cte extends vF{constructor(e,r,n,i,s,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,A),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Uee(this.serializer,e),n=(function(s){if(!("targetChange"in s))return lr.min();const A=s.targetChange;return A.targetIds&&A.targetIds.length?lr.min():A.readTime?yo(A.readTime):lr.min()})(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=H2(this.serializer),r.addTarget=(function(s,A){let c;const h=A.target;if(c=k2(h)?{documents:Oee(s,h)}:{query:Lee(s,h)._t},c.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){c.resumeToken=cF(s,A.resumeToken);const d=L2(s,A.expectedCount);d!==null&&(c.expectedCount=d)}else if(A.snapshotVersion.compareTo(lr.min())>0){c.readTime=Y1(s,A.snapshotVersion.toTimestamp());const d=L2(s,A.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const n=Pee(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=H2(this.serializer),r.removeTarget=e,this.a_(r)}}class Ete extends vF{constructor(e,r,n,i,s,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,A),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return tn(!!e.streamToken),this.lastStreamToken=e.streamToken,tn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=Mee(e.writeResults,e.commitTime),n=yo(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=H2(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>kee(this.serializer,n)))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ot(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,A])=>this.connection.Mo(e,Q2(r,n),i,s,A))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ot(ft.UNKNOWN,s.toString())}))}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([A,c])=>this.connection.Lo(e,Q2(r,n),i,A,c,s))).catch((A=>{throw A.name==="FirebaseError"?(A.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new Ot(ft.UNKNOWN,A.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class _te{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(uA(r),this.D_=!1):Pt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((A=>{n.enqueueAndForget((async()=>{wc(this)&&(Pt("RemoteStore","Restarting streams for network reachability change."),await(async function(h){const d=cr(h);d.L_.add(4),await Jf(d),d.q_.set("Unknown"),d.L_.delete(4),await Fg(d)})(this))}))})),this.q_=new _te(n,i)}}async function Fg(t){if(wc(t))for(const e of t.B_)await e(!0)}async function Jf(t){for(const e of t.B_)await e(!1)}function yF(t,e){const r=cr(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Av(r)?ov(r):ju(r).r_()&&av(r,e))}function sv(t,e){const r=cr(t),n=ju(r);r.N_.delete(e),n.r_()&&CF(r,e),r.N_.size===0&&(n.r_()?n.o_():wc(r)&&r.q_.set("Unknown"))}function av(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ju(t).A_(e)}function CF(t,e){t.Q_.xe(e),ju(t).R_(e)}function ov(t){t.Q_=new bee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ju(t).start(),t.q_.v_()}function Av(t){return wc(t)&&!ju(t).n_()&&t.N_.size>0}function wc(t){return cr(t).L_.size===0}function EF(t){t.Q_=void 0}async function bte(t){t.q_.set("Online")}async function Ste(t){t.N_.forEach(((e,r)=>{av(t,e)}))}async function Ite(t,e){EF(t),Av(t)?(t.q_.M_(e),ov(t)):t.q_.set("Unknown")}async function Nte(t,e,r){if(t.q_.set("Online"),e instanceof lF&&e.state===2&&e.cause)try{await(async function(i,s){const A=s.cause;for(const c of s.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,A),i.N_.delete(c),i.Q_.removeTarget(c))})(t,e)}catch(n){Pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await J1(t,n)}else if(e instanceof c1?t.Q_.Ke(e):e instanceof AF?t.Q_.He(e):t.Q_.We(e),!r.isEqual(lr.min()))try{const n=await xF(t.localStore);r.compareTo(n)>=0&&await(function(s,A){const c=s.Q_.rt(A);return c.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const x=s.N_.get(d);x&&s.N_.set(d,x.withResumeToken(h.resumeToken,A))}})),c.targetMismatches.forEach(((h,d)=>{const x=s.N_.get(h);if(!x)return;s.N_.set(h,x.withResumeToken(Xi.EMPTY_BYTE_STRING,x.snapshotVersion)),CF(s,h);const C=new tl(x.target,h,d,x.sequenceNumber);av(s,C)})),s.remoteSyncer.applyRemoteEvent(c)})(t,r)}catch(n){Pt("RemoteStore","Failed to raise snapshot:",n),await J1(t,n)}}async function J1(t,e,r){if(!Wf(e))throw e;t.L_.add(1),await Jf(t),t.q_.set("Offline"),r||(r=()=>xF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Pt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Fg(t)}))}function BF(t,e){return e().catch((r=>J1(t,r,e)))}async function Rg(t){const e=cr(t),r=gl(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Fte(e);)try{const i=await hte(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,Rte(e,i)}catch(i){await J1(e,i)}_F(e)&&TF(e)}function Fte(t){return wc(t)&&t.O_.length<10}function Rte(t,e){t.O_.push(e);const r=gl(t);r.r_()&&r.V_&&r.m_(e.mutations)}function _F(t){return wc(t)&&!gl(t).n_()&&t.O_.length>0}function TF(t){gl(t).start()}async function Dte(t){gl(t).p_()}async function Ute(t){const e=gl(t);for(const r of t.O_)e.m_(r.mutations)}async function kte(t,e,r){const n=t.O_.shift(),i=$w.from(n,e,r);await BF(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Rg(t)}async function Mte(t,e){e&&gl(t).V_&&await(async function(n,i){if((function(A){return Bee(A)&&A!==ft.ABORTED})(i.code)){const s=n.O_.shift();gl(n).s_(),await BF(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Rg(n)}})(t,e),_F(t)&&TF(t)}async function h4(t,e){const r=cr(t);r.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const n=wc(r);r.L_.add(3),await Jf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Fg(r)}async function Ote(t,e){const r=cr(t);e?(r.L_.delete(2),await Fg(r)):e||(r.L_.add(2),await Jf(r),r.q_.set("Unknown"))}function ju(t){return t.K_||(t.K_=(function(r,n,i){const s=cr(r);return s.w_(),new Cte(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:bte.bind(null,t),Ro:Ste.bind(null,t),mo:Ite.bind(null,t),d_:Nte.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Av(t)?ov(t):t.q_.set("Unknown")):(await t.K_.stop(),EF(t))}))),t.K_}function gl(t){return t.U_||(t.U_=(function(r,n,i){const s=cr(r);return s.w_(),new Ete(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Dte.bind(null,t),mo:Mte.bind(null,t),f_:Ute.bind(null,t),g_:kte.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Rg(t)):(await t.U_.stop(),t.O_.length>0&&(Pt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((A=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const A=Date.now()+n,c=new lv(e,r,A,i,s);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ot(ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cv(t,e){if(uA("AsyncQueue",`${e}: ${t}`),Wf(t))return new Ot(ft.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||qt.comparator(r.key,n.key):(r,n)=>qt.comparator(r.key,n.key),this.keyedMap=X0(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new Eu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Eu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Eu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.W_=new Un(qt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):rr():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Ru{constructor(e,r,n,i,s,A,c,h,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=A,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,s){const A=[];return r.forEach((c=>{A.push({type:0,doc:c})})),new Ru(e,r,Eu.emptySet(r),A,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Qte{constructor(){this.queries=p4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=cr(r),s=i.queries;i.queries=p4(),s.forEach(((A,c)=>{for(const h of c.j_)h.onError(n)}))})(this,new Ot(ft.ABORTED,"Firestore shutting down"))}}function p4(){return new Vu((t=>qN(t)),Bg)}async function bF(t,e){const r=cr(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new Lte,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(A){const c=cv(A,`Initialization of query '${lu(e.query)}' failed`);return void e.onError(c)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&uv(r)}async function SF(t,e){const r=cr(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const A=s.j_.indexOf(e);A>=0&&(s.j_.splice(A,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Pte(t,e){const r=cr(t);let n=!1;for(const i of e){const s=i.query,A=r.queries.get(s);if(A){for(const c of A.j_)c.X_(i)&&(n=!0);A.z_=i}}n&&uv(r)}function Hte(t,e,r){const n=cr(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function uv(t){t.Y_.forEach((e=>{e.next()}))}var j2,m4;(m4=j2||(j2={})).ea="default",m4.Cache="cache";class IF{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ru(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==j2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.key=e}}class FF{constructor(e){this.key=e}}class Vte{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=br(),this.mutatedKeys=br(),this.Aa=YN(e),this.Ra=new Eu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new g4,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,A=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((x,C)=>{const B=i.get(x),F=_g(this.query,C)?C:null,D=!!B&&this.mutatedKeys.has(B.key),R=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let k=!1;B&&F?B.data.isEqual(F.data)?D!==R&&(n.track({type:3,doc:F}),k=!0):this.ga(B,F)||(n.track({type:2,doc:F}),k=!0,(h&&this.Aa(F,h)>0||d&&this.Aa(F,d)<0)&&(c=!0)):!B&&F?(n.track({type:0,doc:F}),k=!0):B&&!F&&(n.track({type:1,doc:B}),k=!0,(h||d)&&(c=!0)),k&&(F?(A=A.add(F),s=R?s.add(x):s.delete(x)):(A=A.delete(x),s=s.delete(x)))})),this.query.limit!==null)for(;A.size>this.query.limit;){const x=this.query.limitType==="F"?A.last():A.first();A=A.delete(x.key),s=s.delete(x.key),n.track({type:1,doc:x})}return{Ra:A,fa:n,ns:c,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort(((x,C)=>(function(F,D){const R=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rr()}};return R(F)-R(D)})(x.type,C.type)||this.Aa(x.doc,C.doc))),this.pa(n),i=i!=null&&i;const c=r&&!i?this.ya():[],h=this.da.size===0&&this.current&&!i?1:0,d=h!==this.Ea;return this.Ea=h,A.length!==0||d?{snapshot:new Ru(this.query,e.Ra,s,A,e.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new g4,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=br(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const r=[];return e.forEach((n=>{this.da.has(n)||r.push(new FF(n))})),this.da.forEach((n=>{e.has(n)||r.push(new NF(n))})),r}ba(e){this.Ta=e.Ts,this.da=br();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Ru.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class jte{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Gte{constructor(e){this.key=e,this.va=!1}}class Kte{constructor(e,r,n,i,s,A){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new Vu((c=>qN(c)),Bg),this.Ma=new Map,this.xa=new Set,this.Oa=new Un(qt.comparator),this.Na=new Map,this.La=new rv,this.Ba={},this.ka=new Map,this.qa=Fu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function zte(t,e,r=!0){const n=OF(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await RF(n,e,r,!0),i}async function Wte(t,e){const r=OF(t);await RF(r,e,!0,!1)}async function RF(t,e,r,n){const i=await gte(t.localStore,vo(e)),s=i.targetId,A=t.sharedClientState.addLocalQueryTarget(s,r);let c;return n&&(c=await Xte(t,e,s,A==="current",i.resumeToken)),t.isPrimaryClient&&r&&yF(t.remoteStore,i),c}async function Xte(t,e,r,n,i){t.Ka=(C,B,F)=>(async function(R,k,j,G){let Q=k.view.ma(j);Q.ns&&(Q=await u4(R.localStore,k.query,!1).then((({documents:M})=>k.view.ma(M,Q))));const ee=G&&G.targetChanges.get(k.targetId),ne=G&&G.targetMismatches.get(k.targetId)!=null,te=k.view.applyChanges(Q,R.isPrimaryClient,ee,ne);return w4(R,k.targetId,te.wa),te.snapshot})(t,C,B,F);const s=await u4(t.localStore,e,!0),A=new Vte(e,s.Ts),c=A.ma(s.documents),h=Yf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=A.applyChanges(c,t.isPrimaryClient,h);w4(t,r,d.wa);const x=new jte(e,r,A);return t.Fa.set(e,x),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),d.snapshot}async function qte(t,e,r){const n=cr(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter((A=>!Bg(A,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await V2(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&sv(n.remoteStore,i.targetId),G2(n,i.targetId)})).catch(zf)):(G2(n,i.targetId),await V2(n.localStore,i.targetId,!0))}async function Yte(t,e){const r=cr(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),sv(r.remoteStore,n.targetId))}async function Jte(t,e,r){const n=ire(t);try{const i=await(function(A,c){const h=cr(A),d=yi.now(),x=c.reduce(((F,D)=>F.add(D.key)),br());let C,B;return h.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let D=fA(),R=br();return h.cs.getEntries(F,x).next((k=>{D=k,D.forEach(((j,G)=>{G.isValidDocument()||(R=R.add(j))}))})).next((()=>h.localDocuments.getOverlayedDocuments(F,D))).next((k=>{C=k;const j=[];for(const G of c){const Q=wee(G,C.get(G.key).overlayedDocument);Q!=null&&j.push(new vl(G.key,Q,HN(Q.value.mapValue),Xs.exists(!0)))}return h.mutationQueue.addMutationBatch(F,d,j,c)})).next((k=>{B=k;const j=k.applyToLocalDocumentSet(C,R);return h.documentOverlayCache.saveOverlays(F,k.batchId,j)}))})).then((()=>({batchId:B.batchId,changes:ZN(C)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(A,c,h){let d=A.Ba[A.currentUser.toKey()];d||(d=new Un(Vr)),d=d.insert(c,h),A.Ba[A.currentUser.toKey()]=d})(n,i.batchId,r),await Zf(n,i.changes),await Rg(n.remoteStore)}catch(i){const s=cv(i,"Failed to persist write");r.reject(s)}}async function DF(t,e){const r=cr(t);try{const n=await fte(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const A=r.Na.get(s);A&&(tn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?A.va=!0:i.modifiedDocuments.size>0?tn(A.va):i.removedDocuments.size>0&&(tn(A.va),A.va=!1))})),await Zf(r,n,e)}catch(n){await zf(n)}}function x4(t,e,r){const n=cr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach(((s,A)=>{const c=A.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(A,c){const h=cr(A);h.onlineState=c;let d=!1;h.queries.forEach(((x,C)=>{for(const B of C.j_)B.Z_(c)&&(d=!0)})),d&&uv(h)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Zte(t,e,r){const n=cr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let A=new Un(qt.comparator);A=A.insert(s,as.newNoDocument(s,lr.min()));const c=br().add(s),h=new Ig(lr.min(),new Map,new Un(Vr),A,c);await DF(n,h),n.Oa=n.Oa.remove(s),n.Na.delete(e),fv(n)}else await V2(n.localStore,e,!1).then((()=>G2(n,e,r))).catch(zf)}async function $te(t,e){const r=cr(t),n=e.batch.batchId;try{const i=await ute(r.localStore,e);kF(r,n,null),UF(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Zf(r,i)}catch(i){await zf(i)}}async function ere(t,e,r){const n=cr(t);try{const i=await(function(A,c){const h=cr(A);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let x;return h.mutationQueue.lookupMutationBatch(d,c).next((C=>(tn(C!==null),x=C.keys(),h.mutationQueue.removeMutationBatch(d,C)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,x,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,x))).next((()=>h.localDocuments.getDocuments(d,x)))}))})(n.localStore,e);kF(n,e,r),UF(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Zf(n,i)}catch(i){await zf(i)}}function UF(t,e){(t.ka.get(e)||[]).forEach((r=>{r.resolve()})),t.ka.delete(e)}function kF(t,e,r){const n=cr(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function G2(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((n=>{t.La.containsKey(n)||MF(t,n)}))}function MF(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(sv(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),fv(t))}function w4(t,e,r){for(const n of r)n instanceof NF?(t.La.addReference(n.key,e),tre(t,n)):n instanceof FF?(Pt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||MF(t,n.key)):rr()}function tre(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Pt("SyncEngine","New document in limbo: "+r),t.xa.add(n),fv(t))}function fv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new qt(En.fromString(e)),n=t.qa.next();t.Na.set(n,new Gte(r)),t.Oa=t.Oa.insert(r,n),yF(t.remoteStore,new tl(vo(Jw(r.path)),n,"TargetPurposeLimboResolution",Kw.oe))}}async function Zf(t,e,r){const n=cr(t),i=[],s=[],A=[];n.Fa.isEmpty()||(n.Fa.forEach(((c,h)=>{A.push(n.Ka(h,e,r).then((d=>{var x;if((d||r)&&n.isPrimaryClient){const C=d?!d.fromCache:(x=r==null?void 0:r.targetChanges.get(h.targetId))===null||x===void 0?void 0:x.current;n.sharedClientState.updateQueryState(h.targetId,C?"current":"not-current")}if(d){i.push(d);const C=iv.Wi(h.targetId,d);s.push(C)}})))})),await Promise.all(A),n.Ca.d_(i),await(async function(h,d){const x=cr(h);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>mt.forEach(d,(B=>mt.forEach(B.$i,(F=>x.persistence.referenceDelegate.addReference(C,B.targetId,F))).next((()=>mt.forEach(B.Ui,(F=>x.persistence.referenceDelegate.removeReference(C,B.targetId,F)))))))))}catch(C){if(!Wf(C))throw C;Pt("LocalStore","Failed to update sequence numbers: "+C)}for(const C of d){const B=C.targetId;if(!C.fromCache){const F=x.os.get(B),D=F.snapshotVersion,R=F.withLastLimboFreeSnapshotVersion(D);x.os=x.os.insert(B,R)}}})(n.localStore,s))}async function rre(t,e){const r=cr(t);if(!r.currentUser.isEqual(e)){Pt("SyncEngine","User change. New user:",e.toKey());const n=await mF(r.localStore,e);r.currentUser=e,(function(s,A){s.ka.forEach((c=>{c.forEach((h=>{h.reject(new Ot(ft.CANCELLED,A))}))})),s.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Zf(r,n.hs)}}function nre(t,e){const r=cr(t),n=r.Na.get(e);if(n&&n.va)return br().add(n.key);{let i=br();const s=r.Ma.get(e);if(!s)return i;for(const A of s){const c=r.Fa.get(A);i=i.unionWith(c.view.Va)}return i}}function OF(t){const e=cr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zte.bind(null,e),e.Ca.d_=Pte.bind(null,e.eventManager),e.Ca.$a=Hte.bind(null,e.eventManager),e}function ire(t){const e=cr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$te.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ere.bind(null,e),e}class Z1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ng(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return cte(this.persistence,new Ate,e.initialUser,this.serializer)}Ga(e){return new ste(nv.Zr,this.serializer)}Wa(e){return new mte}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Z1.provider={build:()=>new Z1};class K2{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>x4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=rre.bind(null,this.syncEngine),await Ote(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Qte})()}createDatastore(e){const r=Ng(e.databaseInfo.databaseId),n=(function(s){return new yte(s)})(e.databaseInfo);return(function(s,A,c,h){return new Bte(s,A,c,h)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,A,c){return new Tte(n,i,s,A,c)})(this.localStore,this.datastore,e.asyncQueue,(r=>x4(this.syncEngine,r,0)),(function(){return d4.D()?new d4:new xte})())}createSyncEngine(e,r){return(function(i,s,A,c,h,d,x){const C=new Kte(i,s,A,c,h,d);return x&&(C.Qa=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=cr(i);Pt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Jf(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}K2.provider={build:()=>new K2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):uA("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ns.UNAUTHENTICATED,this.clientId=LN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async A=>{Pt("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A})),this.appCheckCredentials.start(n,(A=>(Pt("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ol;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=cv(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Cx(t,e){t.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await mF(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function v4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await are(t);Pt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>h4(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>h4(e.remoteStore,i))),t._onlineComponents=e}async function are(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ft.FAILED_PRECONDITION||i.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;bu("Error using user provided cache. Falling back to memory cache: "+r),await Cx(t,new Z1)}}else Pt("FirestoreClient","Using default OfflineComponentProvider"),await Cx(t,new Z1);return t._offlineComponents}async function QF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pt("FirestoreClient","Using user provided OnlineComponentProvider"),await v4(t,t._uninitializedComponentsProvider._online)):(Pt("FirestoreClient","Using default OnlineComponentProvider"),await v4(t,new K2))),t._onlineComponents}function ore(t){return QF(t).then((e=>e.syncEngine))}async function z2(t){const e=await QF(t),r=e.eventManager;return r.onListen=zte.bind(null,e.syncEngine),r.onUnlisten=qte.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Wte.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Yte.bind(null,e.syncEngine),r}function Are(t,e,r={}){const n=new ol;return t.asyncQueue.enqueueAndForget((async()=>(function(s,A,c,h,d){const x=new LF({next:B=>{x.Za(),A.enqueueAndForget((()=>SF(s,C))),B.fromCache&&h.source==="server"?d.reject(new Ot(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(B)},error:B=>d.reject(B)}),C=new IF(c,x,{includeMetadataChanges:!0,_a:!0});return bF(s,C)})(await z2(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t,e,r){if(!r)throw new Ot(ft.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lre(t,e,r,n){if(e===!0&&n===!0)throw new Ot(ft.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function C4(t){if(!qt.isDocumentKey(t))throw new Ot(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E4(t){if(qt.isDocumentKey(t))throw new Ot(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rr()}function Ma(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ot(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Dg(t);throw new Ot(ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ot(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ot(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PF((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ot(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ot(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ot(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ug{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ot(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ot(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B4(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new S$;switch(n.type){case"firstParty":return new R$(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ot(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=y4.get(r);n&&(Pt("ComponentProvider","Removing Datastore"),y4.delete(r),n.terminate())})(this),Promise.resolve()}}function cre(t,e,r,n={}){var i;const s=(t=Ma(t,Ug))._getSettings(),A=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==A&&bu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:A,ssl:!1})),n.mockUserToken){let c,h;if(typeof n.mockUserToken=="string")c=n.mockUserToken,h=ns.MOCK_USER;else{c=aZ(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new Ot(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ns(d)}t._authCredentials=new I$(new ON(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vc(this.firestore,e,this._query)}}class _s{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Al(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _s(this.firestore,e,this._key)}}class Al extends vc{constructor(e,r,n){super(e,r,Jw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _s(this.firestore,null,new qt(e))}withConverter(e){return new Al(this.firestore,e,this._path)}}function qa(t,e,...r){if(t=Ys(t),HF("collection","path",e),t instanceof Ug){const n=En.fromString(e,...r);return E4(n),new Al(t,null,n)}{if(!(t instanceof _s||t instanceof Al))throw new Ot(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(En.fromString(e,...r));return E4(n),new Al(t.firestore,null,n)}}function ln(t,e,...r){if(t=Ys(t),arguments.length===1&&(e=LN.newId()),HF("doc","path",e),t instanceof Ug){const n=En.fromString(e,...r);return C4(n),new _s(t,null,new qt(n))}{if(!(t instanceof _s||t instanceof Al))throw new Ot(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(En.fromString(e,...r));return C4(n),new _s(t.firestore,t instanceof Al?t.converter:null,new qt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new wF(this,"async_queue_retry"),this.Vu=()=>{const n=yx();n&&Pt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=yx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=yx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new ol;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wf(e))throw e;Pt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const r=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(A){let c=A.message||"";return A.stack&&(c=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),c})(n);throw uA("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=lv.createAndSchedule(this,e,r,n,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&rr()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function T4(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class pl extends Ug{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new _4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _4(e),this._firestoreClient=void 0,await e}}}function ure(t,e){const r=typeof t=="object"?t:SN(),n=typeof t=="string"?t:"(default)",i=Kf(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=iZ("firestore");s&&cre(i,...s)}return i}function kg(t){if(t._terminated)throw new Ot(ft.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fre(t),t._firestoreClient}function fre(t){var e,r,n;const i=t._freezeSettings(),s=(function(c,h,d,x){return new K$(c,h,d,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,PF(x.experimentalLongPollingOptions),x.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new sre(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&(function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Du(Xi.fromBase64String(e))}catch(r){throw new Ot(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Du(Xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ot(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ot(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ot(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vr(this._lat,e._lat)||Vr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dre=/^__.*__$/;class hre{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new vl(e,this.data,this.fieldMask,r,this.fieldTransforms):new qf(e,this.data,r,this.fieldTransforms)}}class VF{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new vl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function jF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rr()}}class pv{constructor(e,r,n,i,s,A){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jF(this.Cu)&&dre.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class gre{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Ng(e)}Qu(e,r,n,i=!1){return new pv({Cu:e,methodName:r,qu:n,path:ji.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mg(t){const e=t._freezeSettings(),r=Ng(t._databaseId);return new gre(t._databaseId,!!e.ignoreUndefinedProperties,r)}function GF(t,e,r,n,i,s={}){const A=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);mv("Data must be an object, but it was:",A,n);const c=WF(n,A);let h,d;if(s.merge)h=new fa(A.fieldMask),d=A.fieldTransforms;else if(s.mergeFields){const x=[];for(const C of s.mergeFields){const B=W2(e,C,r);if(!A.contains(B))throw new Ot(ft.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);qF(x,B)||x.push(B)}h=new fa(x),d=A.fieldTransforms.filter((C=>h.covers(C.field)))}else h=null,d=A.fieldTransforms;return new hre(new Ws(c),h,d)}class Og extends dv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Og}}function KF(t,e,r,n){const i=t.Qu(1,e,r);mv("Data must be an object, but it was:",i,n);const s=[],A=Ws.empty();xc(n,((h,d)=>{const x=xv(e,h,r);d=Ys(d);const C=i.Nu(x);if(d instanceof Og)s.push(x);else{const B=ed(d,C);B!=null&&(s.push(x),A.set(x,B))}}));const c=new fa(s);return new VF(A,c,i.fieldTransforms)}function zF(t,e,r,n,i,s){const A=t.Qu(1,e,r),c=[W2(e,n,r)],h=[i];if(s.length%2!=0)throw new Ot(ft.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<s.length;B+=2)c.push(W2(e,s[B])),h.push(s[B+1]);const d=[],x=Ws.empty();for(let B=c.length-1;B>=0;--B)if(!qF(d,c[B])){const F=c[B];let D=h[B];D=Ys(D);const R=A.Nu(F);if(D instanceof Og)d.push(F);else{const k=ed(D,R);k!=null&&(d.push(F),x.set(F,k))}}const C=new fa(d);return new VF(x,C,A.fieldTransforms)}function pre(t,e,r,n=!1){return ed(r,t.Qu(n?4:3,e))}function ed(t,e){if(XF(t=Ys(t)))return mv("Unsupported field value:",e,t),WF(t,e);if(t instanceof dv)return(function(n,i){if(!jF(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const s=[];let A=0;for(const c of n){let h=ed(c,i.Lu(A));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),A++}return{arrayValue:{values:s}}})(t,e)}return(function(n,i){if((n=Ys(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return dee(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=yi.fromDate(n);return{timestampValue:Y1(i.serializer,s)}}if(n instanceof yi){const s=new yi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Y1(i.serializer,s)}}if(n instanceof hv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Du)return{bytesValue:cF(i.serializer,n._byteString)};if(n instanceof _s){const s=i.databaseId,A=n.firestore._databaseId;if(!A.isEqual(s))throw i.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:tv(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof gv)return(function(A,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map((h=>{if(typeof h!="number")throw c.Bu("VectorValues must only contain numeric values.");return Zw(c.serializer,h)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${Dg(n)}`)})(t,e)}function WF(t,e){const r={};return QN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xc(t,((n,i)=>{const s=ed(i,e.Mu(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function XF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yi||t instanceof hv||t instanceof Du||t instanceof _s||t instanceof dv||t instanceof gv)}function mv(t,e,r){if(!XF(r)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(r)){const n=Dg(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function W2(t,e,r){if((e=Ys(e))instanceof $f)return e._internalPath;if(typeof e=="string")return xv(t,e);throw $1("Field path arguments must be of type string or ",t,!1,void 0,r)}const mre=new RegExp("[~\\*/\\[\\]]");function xv(t,e,r){if(e.search(mre)>=0)throw $1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new $f(...e.split("."))._internalPath}catch{throw $1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function $1(t,e,r,n,i){const s=n&&!n.isEmpty(),A=i!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||A)&&(h+=" (found",s&&(h+=` in field ${n}`),A&&(h+=` in document ${i}`),h+=")"),new Ot(ft.INVALID_ARGUMENT,c+t+h)}function qF(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _s(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(wv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class xre extends YF{data(){return super.data()}}function wv(t,e){return typeof e=="string"?xv(t,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ot(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vv{}class wre extends vv{}function Ya(t,e,...r){let n=[];e instanceof vv&&n.push(e),n=n.concat(r),(function(s){const A=s.filter((h=>h instanceof yv)).length,c=s.filter((h=>h instanceof Lg)).length;if(A>1||A>0&&c>0)throw new Ot(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Lg extends wre{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Lg(e,r,n)}_apply(e){const r=this._parse(e);return ZF(e._query,r),new vc(e.firestore,e.converter,M2(e._query,r))}_parse(e){const r=Mg(e.firestore);return(function(s,A,c,h,d,x,C){let B;if(d.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ot(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){S4(C,x);const F=[];for(const D of C)F.push(b4(h,s,D));B={arrayValue:{values:F}}}else B=b4(h,s,C)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||S4(C,x),B=pre(c,A,C,x==="in"||x==="not-in");return di.create(d,x,B)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Ex(t,e,r){const n=e,i=wv("where",t);return Lg._create(i,n,r)}class yv extends vv{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new yv(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:io.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,s){let A=i;const c=s.getFlattenedFilters();for(const h of c)ZF(A,h),A=M2(A,h)})(e._query,r),new vc(e.firestore,e.converter,M2(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function b4(t,e,r){if(typeof(r=Ys(r))=="string"){if(r==="")throw new Ot(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XN(e)&&r.indexOf("/")!==-1)throw new Ot(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(En.fromString(r));if(!qt.isDocumentKey(n))throw new Ot(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Xb(t,new qt(n))}if(r instanceof _s)return Xb(t,r._key);throw new Ot(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dg(r)}.`)}function S4(t,e){if(!Array.isArray(t)||t.length===0)throw new Ot(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZF(t,e){const r=(function(i,s){for(const A of i)for(const c of A.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Ot(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ot(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class vre{convertValue(e,r="none"){switch(Ac(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw rr()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return xc(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((A=>ei(A.doubleValue)));return new gv(s)}convertGeoPoint(e){return new hv(ei(e.latitude),ei(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Ww(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Rf(e));default:return null}}convertTimestamp(e){const r=hl(e);return new yi(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=En.fromString(e);tn(pF(n));const i=new Df(n.get(1),n.get(3)),s=new qt(n.popFirst(5));return i.isEqual(r)||uA(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e8 extends YF{constructor(e,r,n,i,s,A){super(e,r,n,i,A),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new u1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(wv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class u1 extends e8{data(e={}){return super.data(e)}}class t8{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Y0(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new u1(this._firestore,this._userDataWriter,n.key,n,new Y0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ot(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let A=0;return i._snapshot.docChanges.map((c=>{const h=new u1(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Y0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:A++}}))}{let A=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const h=new u1(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Y0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,x=-1;return c.type!==0&&(d=A.indexOf(c.doc.key),A=A.delete(c.doc.key)),c.type!==1&&(A=A.add(c.doc),x=A.indexOf(c.doc.key)),{type:yre(c.type),doc:h,oldIndex:d,newIndex:x}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function yre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rr()}}class Cv extends vre{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new _s(this.firestore,null,r)}}function Bx(t){t=Ma(t,vc);const e=Ma(t.firestore,pl),r=kg(e),n=new Cv(e);return JF(t._query),Are(r,t._query).then((i=>new t8(e,n,t,i)))}function Gs(t,e,r){t=Ma(t,_s);const n=Ma(t.firestore,pl),i=$F(t.converter,e,r);return Qg(n,[GF(Mg(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Xs.none())])}function e1(t,e,r,...n){t=Ma(t,_s);const i=Ma(t.firestore,pl),s=Mg(i);let A;return A=typeof(e=Ys(e))=="string"||e instanceof $f?zF(s,"updateDoc",t._key,e,r,n):KF(s,"updateDoc",t._key,e),Qg(i,[A.toMutation(t._key,Xs.exists(!0))])}function GA(t){return Qg(Ma(t.firestore,pl),[new Sg(t._key,Xs.none())])}function eA(t,...e){var r,n,i;t=Ys(t);let s={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||T4(e[A])||(s=e[A],A++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(T4(e[A])){const C=e[A];e[A]=(r=C.next)===null||r===void 0?void 0:r.bind(C),e[A+1]=(n=C.error)===null||n===void 0?void 0:n.bind(C),e[A+2]=(i=C.complete)===null||i===void 0?void 0:i.bind(C)}let h,d,x;if(t instanceof _s)d=Ma(t.firestore,pl),x=Jw(t._key.path),h={next:C=>{e[A]&&e[A](Cre(d,t,C))},error:e[A+1],complete:e[A+2]};else{const C=Ma(t,vc);d=Ma(C.firestore,pl),x=C._query;const B=new Cv(d);h={next:F=>{e[A]&&e[A](new t8(d,B,C,F))},error:e[A+1],complete:e[A+2]},JF(t._query)}return(function(B,F,D,R){const k=new LF(R),j=new IF(F,k,D);return B.asyncQueue.enqueueAndForget((async()=>bF(await z2(B),j))),()=>{k.Za(),B.asyncQueue.enqueueAndForget((async()=>SF(await z2(B),j)))}})(kg(d),x,c,h)}function Qg(t,e){return(function(n,i){const s=new ol;return n.asyncQueue.enqueueAndForget((async()=>Jte(await ore(n),i,s))),s.promise})(kg(t),e)}function Cre(t,e,r){const n=r.docs.get(e._key),i=new Cv(t);return new e8(t,i,e._key,n,new Y0(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Mg(e)}set(e,r,n){this._verifyNotCommitted();const i=_x(e,this._firestore),s=$F(i.converter,r,n),A=GF(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(A.toMutation(i._key,Xs.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=_x(e,this._firestore);let A;return A=typeof(r=Ys(r))=="string"||r instanceof $f?zF(this._dataReader,"WriteBatch.update",s._key,r,n,i):KF(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(A.toMutation(s._key,Xs.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=_x(e,this._firestore);return this._mutations=this._mutations.concat(new Sg(r._key,Xs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ot(ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _x(t,e){if((t=Ys(t)).firestore!==e)throw new Ot(ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){return kg(t=Ma(t,pl)),new Ere(t,(e=>Qg(t,e)))}(function(e,r=!0){(function(i){Hu=i})(p$),fl(new lA("firestore",((n,{instanceIdentifier:i,options:s})=>{const A=n.getProvider("app").getImmediate(),c=new pl(new N$(n.getProvider("auth-internal")),new U$(n.getProvider("app-check-internal")),(function(d,x){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ot(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(d.options.projectId,x)})(A,i),A);return s=Object.assign({useFetchStreams:r},s),c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),wo(jb,"4.7.3",e),wo(jb,"4.7.3","esm2017")})();const r8="@firebase/installations",Ev="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=1e4,i8=`w:${Ev}`,s8="FIS_v2",Bre="https://firebaseinstallations.googleapis.com/v1",_re=3600*1e3,Tre="installations",bre="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sre={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},lc=new Cg(Tre,bre,Sre);function a8(t){return t instanceof wl&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8({projectId:t}){return`${Bre}/projects/${t}/installations`}function A8(t){return{token:t.token,requestStatus:2,expiresIn:Nre(t.expiresIn),creationTime:Date.now()}}async function l8(t,e){const n=(await e.json()).error;return lc.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function c8({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ire(t,{refreshToken:e}){const r=c8(t);return r.append("Authorization",Fre(e)),r}async function u8(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Nre(t){return Number(t.replace("s","000"))}function Fre(t){return`${s8} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rre({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=o8(t),i=c8(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const A={fid:r,authVersion:s8,appId:t.appId,sdkVersion:i8},c={method:"POST",headers:i,body:JSON.stringify(A)},h=await u8(()=>fetch(n,c));if(h.ok){const d=await h.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:A8(d.authToken)}}else throw await l8("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dre(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ure=/^[cdef][\w-]{21}$/,X2="";function kre(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Mre(t);return Ure.test(r)?r:X2}catch{return X2}}function Mre(t){return Dre(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=new Map;function h8(t,e){const r=Pg(t);g8(r,e),Ore(r,e)}function g8(t,e){const r=d8.get(t);if(r)for(const n of r)n(e)}function Ore(t,e){const r=Lre();r&&r.postMessage({key:t,fid:e}),Qre()}let Yl=null;function Lre(){return!Yl&&"BroadcastChannel"in self&&(Yl=new BroadcastChannel("[Firebase] FID Change"),Yl.onmessage=t=>{g8(t.data.key,t.data.fid)}),Yl}function Qre(){d8.size===0&&Yl&&(Yl.close(),Yl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pre="firebase-installations-database",Hre=1,cc="firebase-installations-store";let Tx=null;function Bv(){return Tx||(Tx=TN(Pre,Hre,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cc)}}})),Tx}async function eg(t,e){const r=Pg(t),i=(await Bv()).transaction(cc,"readwrite"),s=i.objectStore(cc),A=await s.get(r);return await s.put(e,r),await i.done,(!A||A.fid!==e.fid)&&h8(t,e.fid),e}async function p8(t){const e=Pg(t),n=(await Bv()).transaction(cc,"readwrite");await n.objectStore(cc).delete(e),await n.done}async function Hg(t,e){const r=Pg(t),i=(await Bv()).transaction(cc,"readwrite"),s=i.objectStore(cc),A=await s.get(r),c=e(A);return c===void 0?await s.delete(r):await s.put(c,r),await i.done,c&&(!A||A.fid!==c.fid)&&h8(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _v(t){let e;const r=await Hg(t.appConfig,n=>{const i=Vre(n),s=jre(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===X2?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Vre(t){const e=t||{fid:kre(),registrationStatus:0};return m8(e)}function jre(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(lc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Gre(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Kre(t)}:{installationEntry:e}}async function Gre(t,e){try{const r=await Rre(t,e);return eg(t.appConfig,r)}catch(r){throw a8(r)&&r.customData.serverCode===409?await p8(t.appConfig):await eg(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Kre(t){let e=await N4(t.appConfig);for(;e.registrationStatus===1;)await f8(100),e=await N4(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await _v(t);return n||r}return e}function N4(t){return Hg(t,e=>{if(!e)throw lc.create("installation-not-found");return m8(e)})}function m8(t){return zre(t)?{fid:t.fid,registrationStatus:0}:t}function zre(t){return t.registrationStatus===1&&t.registrationTime+n8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wre({appConfig:t,heartbeatServiceProvider:e},r){const n=Xre(t,r),i=Ire(t,r),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const A={installation:{sdkVersion:i8,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(A)},h=await u8(()=>fetch(n,c));if(h.ok){const d=await h.json();return A8(d)}else throw await l8("Generate Auth Token",h)}function Xre(t,{fid:e}){return`${o8(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tv(t,e=!1){let r;const n=await Hg(t.appConfig,s=>{if(!x8(s))throw lc.create("not-registered");const A=s.authToken;if(!e&&Jre(A))return s;if(A.requestStatus===1)return r=qre(t,e),s;{if(!navigator.onLine)throw lc.create("app-offline");const c=$re(s);return r=Yre(t,c),c}});return r?await r:n.authToken}async function qre(t,e){let r=await F4(t.appConfig);for(;r.authToken.requestStatus===1;)await f8(100),r=await F4(t.appConfig);const n=r.authToken;return n.requestStatus===0?Tv(t,e):n}function F4(t){return Hg(t,e=>{if(!x8(e))throw lc.create("not-registered");const r=e.authToken;return ene(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Yre(t,e){try{const r=await Wre(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await eg(t.appConfig,n),r}catch(r){if(a8(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await p8(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await eg(t.appConfig,n)}throw r}}function x8(t){return t!==void 0&&t.registrationStatus===2}function Jre(t){return t.requestStatus===2&&!Zre(t)}function Zre(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_re}function $re(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ene(t){return t.requestStatus===1&&t.requestTime+n8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tne(t){const e=t,{installationEntry:r,registrationPromise:n}=await _v(e);return n?n.catch(console.error):Tv(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rne(t,e=!1){const r=t;return await nne(r),(await Tv(r,e)).token}async function nne(t){const{registrationPromise:e}=await _v(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ine(t){if(!t||!t.options)throw bx("App Configuration");if(!t.name)throw bx("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw bx(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function bx(t){return lc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="installations",sne="installations-internal",ane=t=>{const e=t.getProvider("app").getImmediate(),r=ine(e),n=Kf(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},one=t=>{const e=t.getProvider("app").getImmediate(),r=Kf(e,w8).getImmediate();return{getId:()=>tne(r),getToken:i=>rne(r,i)}};function Ane(){fl(new lA(w8,ane,"PUBLIC")),fl(new lA(sne,one,"PRIVATE"))}Ane();wo(r8,Ev);wo(r8,Ev,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="analytics",lne="firebase_id",cne="origin",une=60*1e3,fne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Vw("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dne={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},da=new Cg("analytics","Analytics",dne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hne(t){if(!t.startsWith(bv)){const e=da.create("invalid-gtag-resource",{gtagURL:t});return qs.warn(e.message),""}return t}function v8(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function gne(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function pne(t,e){const r=gne("firebase-js-sdk-policy",{createScriptURL:hne}),n=document.createElement("script"),i=`${bv}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function mne(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function xne(t,e,r,n,i,s){const A=n[i];try{if(A)await e[A];else{const h=(await v8(r)).find(d=>d.measurementId===i);h&&await e[h.appId]}}catch(c){qs.error(c)}t("config",i,s)}async function wne(t,e,r,n,i){try{let s=[];if(i&&i.send_to){let A=i.send_to;Array.isArray(A)||(A=[A]);const c=await v8(r);for(const h of A){const d=c.find(C=>C.measurementId===h),x=d&&e[d.appId];if(x)s.push(x);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,i||{})}catch(s){qs.error(s)}}function vne(t,e,r,n){async function i(s,...A){try{if(s==="event"){const[c,h]=A;await wne(t,e,r,c,h)}else if(s==="config"){const[c,h]=A;await xne(t,e,r,n,c,h)}else if(s==="consent"){const[c,h]=A;t("consent",c,h)}else if(s==="get"){const[c,h,d]=A;t("get",c,h,d)}else if(s==="set"){const[c]=A;t("set",c)}else t(s,...A)}catch(c){qs.error(c)}}return i}function yne(t,e,r,n,i){let s=function(...A){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=vne(s,t,e,r),{gtagCore:s,wrappedGtag:window[i]}}function Cne(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(bv)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene=30,Bne=1e3;class _ne{constructor(e={},r=Bne){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const y8=new _ne;function Tne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function bne(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:Tne(n)},s=fne.replace("{app-id}",r),A=await fetch(s,i);if(A.status!==200&&A.status!==304){let c="";try{const h=await A.json();!((e=h.error)===null||e===void 0)&&e.message&&(c=h.error.message)}catch{}throw da.create("config-fetch-failed",{httpStatus:A.status,responseMessage:c})}return A.json()}async function Sne(t,e=y8,r){const{appId:n,apiKey:i,measurementId:s}=t.options;if(!n)throw da.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw da.create("no-api-key")}const A=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Fne;return setTimeout(async()=>{c.abort()},une),C8({appId:n,apiKey:i,measurementId:s},A,c,e)}async function C8(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=y8){var s;const{appId:A,measurementId:c}=t;try{await Ine(n,e)}catch(h){if(c)return qs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:A,measurementId:c};throw h}try{const h=await bne(t);return i.deleteThrottleMetadata(A),h}catch(h){const d=h;if(!Nne(d)){if(i.deleteThrottleMetadata(A),c)return qs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:A,measurementId:c};throw h}const x=Number((s=d==null?void 0:d.customData)===null||s===void 0?void 0:s.httpStatus)===503?Db(r,i.intervalMillis,Ene):Db(r,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+x,backoffCount:r+1};return i.setThrottleMetadata(A,C),qs.debug(`Calling attemptFetch again in ${x} millis`),C8(t,C,n,i)}}function Ine(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(s),n(da.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Nne(t){if(!(t instanceof wl)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Fne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Rne(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const s=await e,A=Object.assign(Object.assign({},n),{send_to:s});t("event",r,A)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dne(){if(CN())try{await EN()}catch(t){return qs.warn(da.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return qs.warn(da.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Une(t,e,r,n,i,s,A){var c;const h=Sne(t);h.then(F=>{r[F.measurementId]=F.appId,t.options.measurementId&&F.measurementId!==t.options.measurementId&&qs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${F.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(F=>qs.error(F)),e.push(h);const d=Dne().then(F=>{if(F)return n.getId()}),[x,C]=await Promise.all([h,d]);Cne(s)||pne(s,x.measurementId),i("js",new Date);const B=(c=A==null?void 0:A.config)!==null&&c!==void 0?c:{};return B[cne]="firebase",B.update=!0,C!=null&&(B[lne]=C),i("config",x.measurementId,B),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(e){this.app=e}_delete(){return delete pf[this.app.options.appId],Promise.resolve()}}let pf={},R4=[];const D4={};let Sx="dataLayer",Mne="gtag",U4,E8,k4=!1;function One(){const t=[];if(lZ()&&t.push("This is a browser extension environment."),uZ()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=da.create("invalid-analytics-context",{errorInfo:e});qs.warn(r.message)}}function Lne(t,e,r){One();const n=t.options.appId;if(!n)throw da.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw da.create("no-api-key");if(pf[n]!=null)throw da.create("already-exists",{id:n});if(!k4){mne(Sx);const{wrappedGtag:s,gtagCore:A}=yne(pf,R4,D4,Sx,Mne);E8=s,U4=A,k4=!0}return pf[n]=Une(t,R4,D4,e,U4,Sx,r),new kne(t)}function Qne(t=SN()){t=Ys(t);const e=Kf(t,tg);return e.isInitialized()?e.getImmediate():Pne(t)}function Pne(t,e={}){const r=Kf(t,tg);if(r.isInitialized()){const i=r.getImmediate();if(j1(e,r.getOptions()))return i;throw da.create("already-initialized")}return r.initialize({options:e})}function Hne(t,e,r,n){t=Ys(t),Rne(E8,pf[t.app.options.appId],e,r,n).catch(i=>qs.error(i))}const M4="@firebase/analytics",O4="0.10.8";function Vne(){fl(new lA(tg,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Lne(n,i,r)},"PUBLIC")),fl(new lA("analytics-internal",t,"PRIVATE")),wo(M4,O4),wo(M4,O4,"esm2017");function t(e){try{const r=e.getProvider(tg).getImmediate();return{logEvent:(n,i,s)=>Hne(r,n,i,s)}}catch(r){throw da.create("interop-component-reg-failed",{reason:r})}}}Vne();const jne={apiKey:"AIzaSyC8yzlyr_lSdPWWbmODXThX-vPNAgpAn-c",authDomain:"mama-2951e.firebaseapp.com",projectId:"mama-2951e",storageBucket:"mama-2951e.firebasestorage.app",messagingSenderId:"881003136686",appId:"1:881003136686:web:819d11969d25fe32c28f3f",measurementId:"G-HZDLYN3PK7"},B8=bN(jne),wr=ure(B8);Qne(B8);const Ix={userName:" ",signatureName:"Thank you for your visit",businessName:"Droguerie Taliouine",businessLogo:null,receiptSize:"80mm",showBarcode:!0,stockThreshold:10,backupTime:"00:00",lastBackupDate:null,autoBackupEnabled:!0,loginPhone:"0671276651",loginPassword:"1234",staffList:[],specialOrderLabel:" "},Gne=()=>{const[t,e]=Se.useState("login"),[r,n]=Se.useState([]),[i,s]=Se.useState(""),[A,c]=Se.useState(""),[h,d]=Se.useState("retail"),[x,C]=Se.useState(!1),[B,F]=Se.useState(null),[D,R]=Se.useState(!1),[k,j]=Se.useState(null),[G,Q]=Se.useState(Ix),[ee,ne]=Se.useState([]),[te,M]=Se.useState([]),[H,O]=Se.useState([]),[z,J]=Se.useState([]),[W,X]=Se.useState([]),[Me,ye]=Se.useState([]),[we,ce]=Se.useState([]),[He,Be]=Se.useState([]),[tt,me]=Se.useState(!0),[Z,de]=Se.useState("");Se.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),Se.useEffect(()=>{const De=eA(ln(wr,"settings","global"),Je=>{if(Je.exists()){const Ee=Je.data();Q({...Ix,...Ee})}else Gs(ln(wr,"settings","global"),Ix);me(!1)});return()=>De()},[]),Se.useEffect(()=>{const De=Ya(qa(wr,"invoices")),Je=eA(De,Ee=>{const st=Ee.docs.map(At=>{const Nt=At.data();return{...Nt,items:Nt.items||[],payments:Nt.payments||[]}});st.sort((At,Nt)=>Nt.createdAt-At.createdAt),ne(st)});return()=>Je()},[]),Se.useEffect(()=>{const De=Ya(qa(wr,"supplier_invoices")),Je=eA(De,Ee=>{const st=Ee.docs.map(At=>At.data());st.sort((At,Nt)=>Nt.createdAt-At.createdAt),M(st)});return()=>Je()},[]),Se.useEffect(()=>{const De=Ya(qa(wr,"client_requests")),Je=eA(De,Ee=>{const st=Ee.docs.map(At=>At.data());st.sort((At,Nt)=>Nt.createdAt-At.createdAt),O(st)});return()=>Je()},[]),Se.useEffect(()=>{const De=Ya(qa(wr,"checks")),Je=eA(De,Ee=>{const st=Ee.docs.map(At=>At.data());st.sort((At,Nt)=>Nt.createdAt-At.createdAt),J(st)});return()=>Je()},[]),Se.useEffect(()=>{const De=Ya(qa(wr,"special_orders")),Je=eA(De,Ee=>{const st=Ee.docs.map(At=>{const Nt=At.data();return!Nt.items&&Nt.productName&&(Nt.items=[{id:"legacy-1",name:Nt.productName,quantity:Nt.quantity||1}]),Nt});st.sort((At,Nt)=>Nt.createdAt-At.createdAt),X(st)});return()=>Je()},[]),Se.useEffect(()=>{const De=Ya(qa(wr,"notifications")),Je=eA(De,Ee=>{const st=Ee.docs.map(At=>At.data());st.sort((At,Nt)=>Nt.timestamp-At.timestamp),ye(st)});return()=>Je()},[]),Se.useEffect(()=>{const De=Ya(qa(wr,"general_payments")),Je=eA(De,Ee=>{const st=Ee.docs.map(At=>At.data());st.sort((At,Nt)=>Nt.timestamp-At.timestamp),ce(st)});return()=>Je()},[]),Se.useEffect(()=>{const De=Ya(qa(wr,"products")),Je=eA(De,Ee=>{const st=Ee.docs.map(At=>At.data());Be(st)});return()=>Je()},[]);const fe=async De=>{let Je;typeof De=="function"?Je=De(G):Je=De,Q(Je);const Ee=JSON.parse(JSON.stringify(Je));await Gs(ln(wr,"settings","global"),Ee)},oe=async De=>{await Gs(ln(wr,"products",De.id),JSON.parse(JSON.stringify(De)))},xe=async De=>{await Gs(ln(wr,"products",De.id),JSON.parse(JSON.stringify(De)))},Ye=async De=>{await GA(ln(wr,"products",De))},Fe=async De=>{await Gs(ln(wr,"supplier_invoices",De.id),JSON.parse(JSON.stringify(De)))},_e=async De=>{await e1(ln(wr,"supplier_invoices",De.id),JSON.parse(JSON.stringify(De)))},Le=async De=>{await GA(ln(wr,"supplier_invoices",De))},xt=async De=>{const Je=I4(wr),Ee=Ya(qa(wr,"supplier_invoices"),Ex("supplierName","==",De));(await Bx(Ee)).forEach(At=>{Je.delete(At.ref)}),await Je.commit()},pe=async De=>{await Gs(ln(wr,"client_requests",De.id),JSON.parse(JSON.stringify(De)))},St=async De=>{await Gs(ln(wr,"client_requests",De.id),JSON.parse(JSON.stringify(De)))},kt=async De=>{await GA(ln(wr,"client_requests",De))},Lt=async De=>{await Gs(ln(wr,"checks",De.id),JSON.parse(JSON.stringify(De)))},Ne=async De=>{await Gs(ln(wr,"checks",De.id),JSON.parse(JSON.stringify(De)))},Ue=async De=>{await GA(ln(wr,"checks",De))},gt=async De=>{await Gs(ln(wr,"special_orders",De.id),JSON.parse(JSON.stringify(De)))},Bt=async De=>{await Gs(ln(wr,"special_orders",De.id),JSON.parse(JSON.stringify(De)))},ur=async De=>{await GA(ln(wr,"special_orders",De))},_t=async De=>{await Gs(ln(wr,"general_payments",De.id),JSON.parse(JSON.stringify(De)))},Bn=async De=>{await GA(ln(wr,"general_payments",De))},hn=async De=>{await GA(ln(wr,"invoices",De)),await GA(ln(wr,"notifications",`debt-${De}`))},Ge=async De=>{const Je=I4(wr),Ee=Ya(qa(wr,"invoices"),Ex("name","==",De));(await Bx(Ee)).forEach(Yr=>{Je.delete(Yr.ref),Je.delete(ln(wr,"notifications",`debt-${Yr.id}`))});const At=Ya(qa(wr,"general_payments"),Ex("customerName","==",De));(await Bx(At)).forEach(Yr=>Je.delete(Yr.ref)),await Je.commit()},It=()=>{e("login"),j(null),Tt()},Tt=()=>{n([]),F(null),s(""),c(""),d("retail")},Jt=De=>{k!=null&&k.permissions.createInvoices&&(F(De),n(De.items),s(De.name),c(De.phone||""),d(De.priceMode||"retail"),e("create-invoice"))},fr=(De,Je)=>{k!=null&&k.permissions.createInvoices&&(Tt(),s(De),c(Je||""),e("create-invoice"))},pr=async De=>{await Gs(ln(wr,"invoices",De.id),JSON.parse(JSON.stringify(De)));for(const Je of De.items)if(!Je.isManual){const Ee=He.find(st=>st.id===Je.id);if(Ee){let st=Je.count;if(B){const At=B.items.find(Nt=>Nt.id===Je.id);At&&(st=Je.count-At.count)}if(st!==0){const At=Math.max(0,Ee.stock-st);await e1(ln(wr,"products",Je.id),{stock:At})}}}Tt(),e("dashboard")},Xt=Se.useMemo(()=>k?k.role==="admin"||k.permissions.isManager||k.permissions.viewAllWork?ee:ee.filter(De=>De.creatorName===k.name):[],[ee,k]),at=(De,Je)=>{if(De==="OPEN_INVOICE"&&Je){const Ee=ee.find(st=>st.id===Je);Ee&&Jt(Ee)}else De==="OPEN_PRODUCT"&&Je?(de(Je),e("products")):De==="NAVIGATE"?Object.values(["dashboard","products","customers","settings","create-invoice","suppliers"]).includes(Je)&&e(Je):De==="SEARCH"&&(de(Je||""),e("products"))};return tt?p.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white font-bold",children:"  ..."}):p.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-black font-['Tajawal'] relative overflow-x-hidden text-white",children:[t==="login"&&p.jsx(t6,{onLoginSuccess:De=>{j(De),e("dashboard")},settings:G}),t==="dashboard"&&k&&p.jsx(TM,{currentUser:k,onLogout:It,invoices:Xt,settings:G,products:He,onNavigateToProducts:()=>{de(""),e("products")},onNavigateToCreateInvoice:()=>{B||Tt(),e("create-invoice")},onNavigateToSettings:()=>e("settings"),onNavigateToCustomers:()=>e("customers"),onNavigateToNotifications:()=>e("notifications"),onNavigateToSuppliers:()=>e("suppliers"),onNavigateToClientRequests:()=>e("client-requests"),onNavigateToCheckbook:()=>e("checkbook"),onNavigateToSpecialOrders:()=>e("special-orders"),onEditInvoice:Jt,onDeleteInvoice:hn,onNewInvoiceForCustomer:fr,unreadNotificationsCount:Me.filter(De=>!De.isRead).length}),t==="products"&&k&&p.jsx(iG,{currentUser:k,products:He,onAddProduct:oe,onUpdateProduct:xe,onDeleteProduct:Ye,onLogout:It,onNavigateToHome:()=>e("dashboard"),onNavigateToCreateInvoice:()=>e("create-invoice"),onNavigateToCustomers:()=>e("customers"),onNavigateToSettings:()=>e("settings"),isSelectionMode:x,onSelectProduct:(De,Je)=>n(Ee=>Ee.find(At=>At.id===De.id)?Ee.map(At=>At.id===De.id?{...At,count:At.count+Je,total:(At.count+Je)*De.price}:At):[...Ee,{...De,productName:De.name,count:Je,total:De.price*Je}]),onStartInvoiceWithProduct:(De,Je)=>{Tt(),n([{...De,productName:De.name,count:Je,total:De.price*Je}]),e("create-invoice")},selectedItems:r,settings:G,invoicePriceMode:h,initialSearchTerm:Z}),t==="create-invoice"&&k&&p.jsx(lG,{currentUser:k,onNavigateToHome:()=>{Tt(),e("dashboard")},onNavigateToProductSelection:()=>{C(!0),e("products")},items:r,setInvoiceItems:n,products:He,onUpdateQuantity:(De,Je)=>n(Ee=>Ee.map(st=>st.id===De?{...st,count:Math.max(0,st.count+Je),total:Math.max(0,st.count+Je)*st.price}:st).filter(st=>st.count>0)),onClearInvoice:Tt,onAddManualItem:(De,Je,Ee)=>n(st=>[...st,{id:`manual-${Date.now()}`,productName:De,price:Je,count:Ee,total:Je*Ee,isManual:!0}]),onSaveInvoice:pr,initialInvoice:B,settings:G,onUpdateItem:(De,Je)=>n(Ee=>Ee.map(st=>st.id===De?{...st,...Je,total:(Je.price||st.price)*(Je.count||st.count)}:st)),customerName:i,setCustomerName:s,customerPhone:A,setCustomerPhone:c,priceMode:h,setPriceMode:d}),t==="settings"&&k&&p.jsx(cG,{currentUser:k,onNavigateToHome:()=>e("dashboard"),settings:G,onUpdateSettings:fe,onTriggerManualBackup:()=>{},invoices:ee,onEditInvoice:Jt,onNavigateToProducts:()=>e("products"),onNavigateToCustomers:()=>e("customers"),onNavigateToCreateInvoice:()=>e("create-invoice"),onLogout:It}),t==="customers"&&k&&p.jsx(wG,{currentUser:k,onNavigateToHome:()=>e("dashboard"),onNavigateToProducts:()=>e("products"),onNavigateToSettings:()=>e("settings"),onNavigateToCreateInvoice:()=>e("create-invoice"),invoices:Xt,generalPayments:we,onAddGeneralPayment:_t,onDeleteGeneralPayment:Bn,onDeleteCustomer:Ge,onProcessPayment:async(De,Je,Ee)=>{const st=ee.find(At=>At.id===De);if(st){const At=st.paidAmount+Je,Nt=Math.max(0,st.amount-At),Yr={...st,paidAmount:At,remainingAmount:Nt,type:Nt<=0?"paid":"partial",payments:[...st.payments,{id:`pay-${Date.now()}`,amount:Je,timestamp:Date.now(),method:Ee}]};await Gs(ln(wr,"invoices",De),JSON.parse(JSON.stringify(Yr)))}},onEditInvoice:Jt,settings:G}),k&&t==="dashboard"&&p.jsx(XJ,{products:He,invoices:ee,currentUser:k,onAction:at,onSearchProduct:De=>{de(De),e("products")}}),t==="notifications"&&k&&p.jsx(BG,{onNavigateToHome:()=>e("dashboard"),notifications:Me,onMarkAllAsRead:()=>Me.forEach(De=>e1(ln(wr,"notifications",De.id),{isRead:!0})),onClearAll:()=>{},onMarkAsRead:De=>e1(ln(wr,"notifications",De),{isRead:!0})}),t==="suppliers"&&k&&p.jsx(IG,{currentUser:k,onNavigateToHome:()=>e("dashboard"),onAddInvoice:Fe,onUpdateInvoice:_e,onDeleteInvoice:Le,onDeleteSupplier:xt,invoices:te}),t==="client-requests"&&k&&p.jsx(NG,{onNavigateToHome:()=>e("dashboard"),requests:H,onAddRequest:pe,onUpdateRequest:St,onDeleteRequest:kt,settings:G}),t==="checkbook"&&k&&p.jsx(FG,{onNavigateToHome:()=>e("dashboard"),checks:z,onAddCheck:Lt,onUpdateCheck:Ne,onDeleteCheck:Ue,settings:G}),t==="special-orders"&&k&&p.jsx(RG,{onNavigateToHome:()=>e("dashboard"),orders:W,onAddOrder:gt,onUpdateOrder:Bt,onDeleteOrder:ur,settings:G})]})},_8=document.getElementById("root");if(!_8)throw new Error("Could not find root element to mount to");const Kne=e6.createRoot(_8);Kne.render(p.jsx(zR.StrictMode,{children:p.jsx(Gne,{})}));

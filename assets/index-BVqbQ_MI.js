(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rm={exports:{}},B0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function qR(){if(DE)return B0;DE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:l,ref:i!==void 0?i:null,props:s}}return B0.Fragment=e,B0.jsx=r,B0.jsxs=r,B0}var UE;function YR(){return UE||(UE=1,Rm.exports=qR()),Rm.exports}var f=YR(),km={exports:{}},hr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function JR(){if(ME)return hr;ME=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),b=Symbol.iterator;function N(ne){return ne===null||typeof ne!="object"?null:(ne=b&&ne[b]||ne["@@iterator"],typeof ne=="function"?ne:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,U={};function j(ne,X,ue){this.props=ne,this.context=X,this.refs=U,this.updater=ue||R}j.prototype.isReactComponent={},j.prototype.setState=function(ne,X){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,X,"setState")},j.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function K(){}K.prototype=j.prototype;function Q(ne,X,ue){this.props=ne,this.context=X,this.refs=U,this.updater=ue||R}var J=Q.prototype=new K;J.constructor=Q,k(J,j.prototype),J.isPureReactComponent=!0;var re=Array.isArray;function G(){}var M={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function O(ne,X,ue){var oe=ue.ref;return{$$typeof:t,type:ne,key:X,ref:oe!==void 0?oe:null,props:ue}}function ee(ne,X){return O(ne.type,X,ne.props)}function te(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function W(ne){var X={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(ue){return X[ue]})}var q=/\/+/g;function Ie(ne,X){return typeof ne=="object"&&ne!==null&&ne.key!=null?W(""+ne.key):X.toString(36)}function xe(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(G,G):(ne.status="pending",ne.then(function(X){ne.status==="pending"&&(ne.status="fulfilled",ne.value=X)},function(X){ne.status==="pending"&&(ne.status="rejected",ne.reason=X)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function ge(ne,X,ue,oe,ce){var be=typeof ne;(be==="undefined"||be==="boolean")&&(ne=null);var Je=!1;if(ne===null)Je=!0;else switch(be){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(ne.$$typeof){case t:case e:Je=!0;break;case m:return Je=ne._init,ge(Je(ne._payload),X,ue,oe,ce)}}if(Je)return ce=ce(ne),Je=oe===""?"."+Ie(ne,0):oe,re(ce)?(ue="",Je!=null&&(ue=Je.replace(q,"$&/")+"/"),ge(ce,X,ue,"",function(Te){return Te})):ce!=null&&(te(ce)&&(ce=ee(ce,ue+(ce.key==null||ne&&ne.key===ce.key?"":(""+ce.key).replace(q,"$&/")+"/")+Je)),X.push(ce)),1;Je=0;var ke=oe===""?".":oe+":";if(re(ne))for(var He=0;He<ne.length;He++)oe=ne[He],be=ke+Ie(oe,He),Je+=ge(oe,X,ue,be,ce);else if(He=N(ne),typeof He=="function")for(ne=He.call(ne),He=0;!(oe=ne.next()).done;)oe=oe.value,be=ke+Ie(oe,He++),Je+=ge(oe,X,ue,be,ce);else if(be==="object"){if(typeof ne.then=="function")return ge(xe(ne),X,ue,oe,ce);throw X=String(ne),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Je}function ye(ne,X,ue){if(ne==null)return ne;var oe=[],ce=0;return ge(ne,oe,"","",function(be){return X.call(ue,be,ce++)}),oe}function We(ne){if(ne._status===-1){var X=ne._result;X=X(),X.then(function(ue){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=ue)},function(ue){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=ue)}),ne._status===-1&&(ne._status=0,ne._result=X)}if(ne._status===1)return ne._result.default;throw ne._result}var Ee=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},et={map:ye,forEach:function(ne,X,ue){ye(ne,function(){X.apply(this,arguments)},ue)},count:function(ne){var X=0;return ye(ne,function(){X++}),X},toArray:function(ne){return ye(ne,function(X){return X})||[]},only:function(ne){if(!te(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return hr.Activity=C,hr.Children=et,hr.Component=j,hr.Fragment=r,hr.Profiler=i,hr.PureComponent=Q,hr.StrictMode=n,hr.Suspense=g,hr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,hr.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return M.H.useMemoCache(ne)}},hr.cache=function(ne){return function(){return ne.apply(null,arguments)}},hr.cacheSignal=function(){return null},hr.cloneElement=function(ne,X,ue){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var oe=k({},ne.props),ce=ne.key;if(X!=null)for(be in X.key!==void 0&&(ce=""+X.key),X)!P.call(X,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&X.ref===void 0||(oe[be]=X[be]);var be=arguments.length-2;if(be===1)oe.children=ue;else if(1<be){for(var Je=Array(be),ke=0;ke<be;ke++)Je[ke]=arguments[ke+2];oe.children=Je}return O(ne.type,ce,oe)},hr.createContext=function(ne){return ne={$$typeof:l,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:s,_context:ne},ne},hr.createElement=function(ne,X,ue){var oe,ce={},be=null;if(X!=null)for(oe in X.key!==void 0&&(be=""+X.key),X)P.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ce[oe]=X[oe]);var Je=arguments.length-2;if(Je===1)ce.children=ue;else if(1<Je){for(var ke=Array(Je),He=0;He<Je;He++)ke[He]=arguments[He+2];ce.children=ke}if(ne&&ne.defaultProps)for(oe in Je=ne.defaultProps,Je)ce[oe]===void 0&&(ce[oe]=Je[oe]);return O(ne,be,ce)},hr.createRef=function(){return{current:null}},hr.forwardRef=function(ne){return{$$typeof:c,render:ne}},hr.isValidElement=te,hr.lazy=function(ne){return{$$typeof:m,_payload:{_status:-1,_result:ne},_init:We}},hr.memo=function(ne,X){return{$$typeof:d,type:ne,compare:X===void 0?null:X}},hr.startTransition=function(ne){var X=M.T,ue={};M.T=ue;try{var oe=ne(),ce=M.S;ce!==null&&ce(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(G,Ee)}catch(be){Ee(be)}finally{X!==null&&ue.types!==null&&(X.types=ue.types),M.T=X}},hr.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},hr.use=function(ne){return M.H.use(ne)},hr.useActionState=function(ne,X,ue){return M.H.useActionState(ne,X,ue)},hr.useCallback=function(ne,X){return M.H.useCallback(ne,X)},hr.useContext=function(ne){return M.H.useContext(ne)},hr.useDebugValue=function(){},hr.useDeferredValue=function(ne,X){return M.H.useDeferredValue(ne,X)},hr.useEffect=function(ne,X){return M.H.useEffect(ne,X)},hr.useEffectEvent=function(ne){return M.H.useEffectEvent(ne)},hr.useId=function(){return M.H.useId()},hr.useImperativeHandle=function(ne,X,ue){return M.H.useImperativeHandle(ne,X,ue)},hr.useInsertionEffect=function(ne,X){return M.H.useInsertionEffect(ne,X)},hr.useLayoutEffect=function(ne,X){return M.H.useLayoutEffect(ne,X)},hr.useMemo=function(ne,X){return M.H.useMemo(ne,X)},hr.useOptimistic=function(ne,X){return M.H.useOptimistic(ne,X)},hr.useReducer=function(ne,X,ue){return M.H.useReducer(ne,X,ue)},hr.useRef=function(ne){return M.H.useRef(ne)},hr.useState=function(ne){return M.H.useState(ne)},hr.useSyncExternalStore=function(ne,X,ue){return M.H.useSyncExternalStore(ne,X,ue)},hr.useTransition=function(){return M.H.useTransition()},hr.version="19.2.4",hr}var OE;function Z2(){return OE||(OE=1,km.exports=JR()),km.exports}var Ce=Z2();const ZR=j4(Ce);var Dm={exports:{}},_0={},Um={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function $R(){return LE||(LE=1,(function(t){function e(ge,ye){var We=ge.length;ge.push(ye);e:for(;0<We;){var Ee=We-1>>>1,et=ge[Ee];if(0<i(et,ye))ge[Ee]=ye,ge[We]=et,We=Ee;else break e}}function r(ge){return ge.length===0?null:ge[0]}function n(ge){if(ge.length===0)return null;var ye=ge[0],We=ge.pop();if(We!==ye){ge[0]=We;e:for(var Ee=0,et=ge.length,ne=et>>>1;Ee<ne;){var X=2*(Ee+1)-1,ue=ge[X],oe=X+1,ce=ge[oe];if(0>i(ue,We))oe<et&&0>i(ce,ue)?(ge[Ee]=ce,ge[oe]=We,Ee=oe):(ge[Ee]=ue,ge[X]=We,Ee=X);else if(oe<et&&0>i(ce,We))ge[Ee]=ce,ge[oe]=We,Ee=oe;else break e}}return ye}function i(ge,ye){var We=ge.sortIndex-ye.sortIndex;return We!==0?We:ge.id-ye.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var g=[],d=[],m=1,C=null,b=3,N=!1,R=!1,k=!1,U=!1,j=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function J(ge){for(var ye=r(d);ye!==null;){if(ye.callback===null)n(d);else if(ye.startTime<=ge)n(d),ye.sortIndex=ye.expirationTime,e(g,ye);else break;ye=r(d)}}function re(ge){if(k=!1,J(ge),!R)if(r(g)!==null)R=!0,G||(G=!0,W());else{var ye=r(d);ye!==null&&xe(re,ye.startTime-ge)}}var G=!1,M=-1,P=5,O=-1;function ee(){return U?!0:!(t.unstable_now()-O<P)}function te(){if(U=!1,G){var ge=t.unstable_now();O=ge;var ye=!0;try{e:{R=!1,k&&(k=!1,K(M),M=-1),N=!0;var We=b;try{t:{for(J(ge),C=r(g);C!==null&&!(C.expirationTime>ge&&ee());){var Ee=C.callback;if(typeof Ee=="function"){C.callback=null,b=C.priorityLevel;var et=Ee(C.expirationTime<=ge);if(ge=t.unstable_now(),typeof et=="function"){C.callback=et,J(ge),ye=!0;break t}C===r(g)&&n(g),J(ge)}else n(g);C=r(g)}if(C!==null)ye=!0;else{var ne=r(d);ne!==null&&xe(re,ne.startTime-ge),ye=!1}}break e}finally{C=null,b=We,N=!1}ye=void 0}}finally{ye?W():G=!1}}}var W;if(typeof Q=="function")W=function(){Q(te)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Ie=q.port2;q.port1.onmessage=te,W=function(){Ie.postMessage(null)}}else W=function(){j(te,0)};function xe(ge,ye){M=j(function(){ge(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ge){ge.callback=null},t.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ge?Math.floor(1e3/ge):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(ge){switch(b){case 1:case 2:case 3:var ye=3;break;default:ye=b}var We=b;b=ye;try{return ge()}finally{b=We}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(ge,ye){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var We=b;b=ge;try{return ye()}finally{b=We}},t.unstable_scheduleCallback=function(ge,ye,We){var Ee=t.unstable_now();switch(typeof We=="object"&&We!==null?(We=We.delay,We=typeof We=="number"&&0<We?Ee+We:Ee):We=Ee,ge){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=We+et,ge={id:m++,callback:ye,priorityLevel:ge,startTime:We,expirationTime:et,sortIndex:-1},We>Ee?(ge.sortIndex=We,e(d,ge),r(g)===null&&ge===r(d)&&(k?(K(M),M=-1):k=!0,xe(re,We-Ee))):(ge.sortIndex=et,e(g,ge),R||N||(R=!0,G||(G=!0,W()))),ge},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(ge){var ye=b;return function(){var We=b;b=ye;try{return ge.apply(this,arguments)}finally{b=We}}}})(Mm)),Mm}var QE;function e5(){return QE||(QE=1,Um.exports=$R()),Um.exports}var Om={exports:{}},es={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function t5(){if(PE)return es;PE=1;var t=Z2();function e(g){var d="https://react.dev/errors/"+g;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(g,d,m){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:C==null?null:""+C,children:g,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(g,d){if(g==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,es.createPortal=function(g,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(g,d,null,m)},es.flushSync=function(g){var d=l.T,m=n.p;try{if(l.T=null,n.p=2,g)return g()}finally{l.T=d,n.p=m,n.d.f()}},es.preconnect=function(g,d){typeof g=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(g,d))},es.prefetchDNS=function(g){typeof g=="string"&&n.d.D(g)},es.preinit=function(g,d){if(typeof g=="string"&&d&&typeof d.as=="string"){var m=d.as,C=c(m,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,N=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?n.d.S(g,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:C,integrity:b,fetchPriority:N}):m==="script"&&n.d.X(g,{crossOrigin:C,integrity:b,fetchPriority:N,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},es.preinitModule=function(g,d){if(typeof g=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);n.d.M(g,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(g)},es.preload=function(g,d){if(typeof g=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,C=c(m,d.crossOrigin);n.d.L(g,m,{crossOrigin:C,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},es.preloadModule=function(g,d){if(typeof g=="string")if(d){var m=c(d.as,d.crossOrigin);n.d.m(g,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(g)},es.requestFormReset=function(g){n.d.r(g)},es.unstable_batchedUpdates=function(g,d){return g(d)},es.useFormState=function(g,d,m){return l.H.useFormState(g,d,m)},es.useFormStatus=function(){return l.H.useHostTransitionStatus()},es.version="19.2.4",es}var HE;function r5(){if(HE)return Om.exports;HE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Om.exports=t5(),Om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function n5(){if(VE)return _0;VE=1;var t=e5(),e=Z2(),r=r5();function n(a){var A="https://react.dev/errors/"+a;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)A+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+a+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var A=a,p=a;if(a.alternate)for(;A.return;)A=A.return;else{a=A;do A=a,(A.flags&4098)!==0&&(p=A.return),a=A.return;while(a)}return A.tag===3?p:null}function l(a){if(a.tag===13){var A=a.memoizedState;if(A===null&&(a=a.alternate,a!==null&&(A=a.memoizedState)),A!==null)return A.dehydrated}return null}function c(a){if(a.tag===31){var A=a.memoizedState;if(A===null&&(a=a.alternate,a!==null&&(A=a.memoizedState)),A!==null)return A.dehydrated}return null}function g(a){if(s(a)!==a)throw Error(n(188))}function d(a){var A=a.alternate;if(!A){if(A=s(a),A===null)throw Error(n(188));return A!==a?null:a}for(var p=a,v=A;;){var S=p.return;if(S===null)break;var F=S.alternate;if(F===null){if(v=S.return,v!==null){p=v;continue}break}if(S.child===F.child){for(F=S.child;F;){if(F===p)return g(S),a;if(F===v)return g(S),A;F=F.sibling}throw Error(n(188))}if(p.return!==v.return)p=S,v=F;else{for(var V=!1,le=S.child;le;){if(le===p){V=!0,p=S,v=F;break}if(le===v){V=!0,v=S,p=F;break}le=le.sibling}if(!V){for(le=F.child;le;){if(le===p){V=!0,p=F,v=S;break}if(le===v){V=!0,v=F,p=S;break}le=le.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?a:A}function m(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a;for(a=a.child;a!==null;){if(A=m(a),A!==null)return A;a=a.sibling}return null}var C=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function W(a){return a===null||typeof a!="object"?null:(a=te&&a[te]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function Ie(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case k:return"Fragment";case j:return"Profiler";case U:return"StrictMode";case re:return"Suspense";case G:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case R:return"Portal";case Q:return a.displayName||"Context";case K:return(a._context.displayName||"Context")+".Consumer";case J:var A=a.render;return a=a.displayName,a||(a=A.displayName||A.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return A=a.displayName||null,A!==null?A:Ie(a.type)||"Memo";case P:A=a._payload,a=a._init;try{return Ie(a(A))}catch{}}return null}var xe=Array.isArray,ge=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,We={pending:!1,data:null,method:null,action:null},Ee=[],et=-1;function ne(a){return{current:a}}function X(a){0>et||(a.current=Ee[et],Ee[et]=null,et--)}function ue(a,A){et++,Ee[et]=a.current,a.current=A}var oe=ne(null),ce=ne(null),be=ne(null),Je=ne(null);function ke(a,A){switch(ue(be,A),ue(ce,a),ue(oe,null),A.nodeType){case 9:case 11:a=(a=A.documentElement)&&(a=a.namespaceURI)?nE(a):0;break;default:if(a=A.tagName,A=A.namespaceURI)A=nE(A),a=iE(A,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(oe),ue(oe,a)}function He(){X(oe),X(ce),X(be)}function Te(a){a.memoizedState!==null&&ue(Je,a);var A=oe.current,p=iE(A,a.type);A!==p&&(ue(ce,a),ue(oe,p))}function pt(a){ce.current===a&&(X(oe),X(ce)),Je.current===a&&(X(Je),y0._currentValue=We)}var se,Xe;function vt(a){if(se===void 0)try{throw Error()}catch(p){var A=p.stack.trim().match(/\n( *(at )?)/);se=A&&A[1]||"",Xe=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+a+Xe}var Ft=!1;function At(a,A){if(!a||Ft)return"";Ft=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(A){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(tt){var qe=tt}Reflect.construct(a,[],ut)}else{try{ut.call()}catch(tt){qe=tt}a.call(ut.prototype)}}else{try{throw Error()}catch(tt){qe=tt}(ut=a())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(tt){if(tt&&qe&&typeof tt.stack=="string")return[tt.stack,qe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=v.DetermineComponentFrameRoot(),V=F[0],le=F[1];if(V&&le){var Be=V.split(`
`),Ge=le.split(`
`);for(S=v=0;v<Be.length&&!Be[v].includes("DetermineComponentFrameRoot");)v++;for(;S<Ge.length&&!Ge[S].includes("DetermineComponentFrameRoot");)S++;if(v===Be.length||S===Ge.length)for(v=Be.length-1,S=Ge.length-1;1<=v&&0<=S&&Be[v]!==Ge[S];)S--;for(;1<=v&&0<=S;v--,S--)if(Be[v]!==Ge[S]){if(v!==1||S!==1)do if(v--,S--,0>S||Be[v]!==Ge[S]){var at=`
`+Be[v].replace(" at new "," at ");return a.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",a.displayName)),at}while(1<=v&&0<=S);break}}}finally{Ft=!1,Error.prepareStackTrace=p}return(p=a?a.displayName||a.name:"")?vt(p):""}function ot(a,A){switch(a.tag){case 26:case 27:case 5:return vt(a.type);case 16:return vt("Lazy");case 13:return a.child!==A&&A!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return At(a.type,!1);case 11:return At(a.type.render,!1);case 1:return At(a.type,!0);case 31:return vt("Activity");default:return""}}function Dt(a){try{var A="",p=null;do A+=ot(a,p),p=a,a=a.return;while(a);return A}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Nt=Object.prototype.hasOwnProperty,wr=t.unstable_scheduleCallback,Tt=t.unstable_cancelCallback,un=t.unstable_shouldYield,nn=t.unstable_requestPaint,Pe=t.unstable_now,Le=t.unstable_getCurrentPriorityLevel,lt=t.unstable_ImmediatePriority,kt=t.unstable_UserBlockingPriority,tr=t.unstable_NormalPriority,st=t.unstable_LowPriority,bt=t.unstable_IdlePriority,Wt=t.log,Er=t.unstable_setDisableYieldValue,Gt=null,Ne=null;function Rt(a){if(typeof Wt=="function"&&Er(a),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Gt,a)}catch{}}var jt=Math.clz32?Math.clz32:ht,Ar=Math.log,Re=Math.LN2;function ht(a){return a>>>=0,a===0?32:31-(Ar(a)/Re|0)|0}var ft=256,it=262144,Xt=4194304;function xr(a){var A=a&42;if(A!==0)return A;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Jr(a,A,p){var v=a.pendingLanes;if(v===0)return 0;var S=0,F=a.suspendedLanes,V=a.pingedLanes;a=a.warmLanes;var le=v&134217727;return le!==0?(v=le&~F,v!==0?S=xr(v):(V&=le,V!==0?S=xr(V):p||(p=le&~a,p!==0&&(S=xr(p))))):(le=v&~F,le!==0?S=xr(le):V!==0?S=xr(V):p||(p=v&~a,p!==0&&(S=xr(p)))),S===0?0:A!==0&&A!==S&&(A&F)===0&&(F=S&-S,p=A&-A,F>=p||F===32&&(p&4194048)!==0)?A:S}function sn(a,A){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&A)===0}function Ns(a,A){switch(a){case 1:case 2:case 4:case 8:case 64:return A+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nn(){var a=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),a}function Bi(a){for(var A=[],p=0;31>p;p++)A.push(a);return A}function gs(a,A){a.pendingLanes|=A,A!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function $r(a,A,p,v,S,F){var V=a.pendingLanes;a.pendingLanes=p,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=p,a.entangledLanes&=p,a.errorRecoveryDisabledLanes&=p,a.shellSuspendCounter=0;var le=a.entanglements,Be=a.expirationTimes,Ge=a.hiddenUpdates;for(p=V&~p;0<p;){var at=31-jt(p),ut=1<<at;le[at]=0,Be[at]=-1;var qe=Ge[at];if(qe!==null)for(Ge[at]=null,at=0;at<qe.length;at++){var tt=qe[at];tt!==null&&(tt.lane&=-536870913)}p&=~ut}v!==0&&No(a,v,0),F!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=F&~(V&~A))}function No(a,A,p){a.pendingLanes|=A,a.suspendedLanes&=~A;var v=31-jt(A);a.entangledLanes|=A,a.entanglements[v]=a.entanglements[v]|1073741824|p&261930}function ai(a,A){var p=a.entangledLanes|=A;for(a=a.entanglements;p;){var v=31-jt(p),S=1<<v;S&A|a[v]&A&&(a[v]|=A),p&=~S}}function Fs(a,A){var p=A&-A;return p=(p&42)!==0?1:Pn(p),(p&(a.suspendedLanes|A))!==0?0:p}function Pn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ps(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ie(){var a=ye.p;return a!==0?a:(a=window.event,a===void 0?32:TE(a.type))}function Ae(a,A){var p=ye.p;try{return ye.p=a,A()}finally{ye.p=p}}var de=Math.random().toString(36).slice(2),he="__reactFiber$"+de,pe="__reactProps$"+de,ve="__reactContainer$"+de,Ve="__reactEvents$"+de,rt="__reactListeners$"+de,Me="__reactHandles$"+de,Ke="__reactResources$"+de,ze="__reactMarker$"+de;function dt(a){delete a[he],delete a[pe],delete a[Ve],delete a[rt],delete a[Me]}function xt(a){var A=a[he];if(A)return A;for(var p=a.parentNode;p;){if(A=p[ve]||p[he]){if(p=A.alternate,A.child!==null||p!==null&&p.child!==null)for(a=uE(a);a!==null;){if(p=a[he])return p;a=uE(a)}return A}a=p,p=a.parentNode}return null}function wt(a){if(a=a[he]||a[ve]){var A=a.tag;if(A===5||A===6||A===13||A===31||A===26||A===27||A===3)return a}return null}function Ct(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a.stateNode;throw Error(n(33))}function _t(a){var A=a[Ke];return A||(A=a[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),A}function Ot(a){a[ze]=!0}var nt=new Set,Or={};function Jt(a,A){Un(a,A),Un(a+"Capture",A)}function Un(a,A){for(Or[a]=A,a=0;a<A.length;a++)nt.add(A[a])}var Va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vr={},cr={};function dr(a){return Nt.call(cr,a)?!0:Nt.call(vr,a)?!1:Va.test(a)?cr[a]=!0:(vr[a]=!0,!1)}function Hn(a,A,p){if(dr(A))if(p===null)a.removeAttribute(A);else{switch(typeof p){case"undefined":case"function":case"symbol":a.removeAttribute(A);return;case"boolean":var v=A.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){a.removeAttribute(A);return}}a.setAttribute(A,""+p)}}function xa(a,A,p){if(p===null)a.removeAttribute(A);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(A);return}a.setAttribute(A,""+p)}}function Ji(a,A,p,v){if(v===null)a.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(p);return}a.setAttributeNS(A,p,""+v)}}function Dr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ea(a){var A=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(A==="checkbox"||A==="radio")}function Gu(a,A,p){var v=Object.getOwnPropertyDescriptor(a.constructor.prototype,A);if(!a.hasOwnProperty(A)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,F=v.set;return Object.defineProperty(a,A,{configurable:!0,get:function(){return S.call(this)},set:function(V){p=""+V,F.call(this,V)}}),Object.defineProperty(a,A,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(V){p=""+V},stopTracking:function(){a._valueTracker=null,delete a[A]}}}}function fn(a){if(!a._valueTracker){var A=ea(a)?"checked":"value";a._valueTracker=Gu(a,A,""+a[A])}}function Rs(a){if(!a)return!1;var A=a._valueTracker;if(!A)return!0;var p=A.getValue(),v="";return a&&(v=ea(a)?a.checked?"true":"false":a.value),a=v,a!==p?(A.setValue(a),!0):!1}function ml(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Zi=/[\n"\\]/g;function sr(a){return a.replace(Zi,function(A){return"\\"+A.charCodeAt(0).toString(16)+" "})}function _n(a,A,p,v,S,F,V,le){a.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.type=V:a.removeAttribute("type"),A!=null?V==="number"?(A===0&&a.value===""||a.value!=A)&&(a.value=""+Dr(A)):a.value!==""+Dr(A)&&(a.value=""+Dr(A)):V!=="submit"&&V!=="reset"||a.removeAttribute("value"),A!=null?me(a,V,Dr(A)):p!=null?me(a,V,Dr(p)):v!=null&&a.removeAttribute("value"),S==null&&F!=null&&(a.defaultChecked=!!F),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?a.name=""+Dr(le):a.removeAttribute("name")}function Qe(a,A,p,v,S,F,V,le){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(a.type=F),A!=null||p!=null){if(!(F!=="submit"&&F!=="reset"||A!=null)){fn(a);return}p=p!=null?""+Dr(p):"",A=A!=null?""+Dr(A):p,le||A===a.value||(a.value=A),a.defaultValue=A}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,a.checked=le?a.checked:!!v,a.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(a.name=V),fn(a)}function me(a,A,p){A==="number"&&ml(a.ownerDocument)===a||a.defaultValue===""+p||(a.defaultValue=""+p)}function St(a,A,p,v){if(a=a.options,A){A={};for(var S=0;S<p.length;S++)A["$"+p[S]]=!0;for(p=0;p<a.length;p++)S=A.hasOwnProperty("$"+a[p].value),a[p].selected!==S&&(a[p].selected=S),S&&v&&(a[p].defaultSelected=!0)}else{for(p=""+Dr(p),A=null,S=0;S<a.length;S++){if(a[S].value===p){a[S].selected=!0,v&&(a[S].defaultSelected=!0);return}A!==null||a[S].disabled||(A=a[S])}A!==null&&(A.selected=!0)}}function Cn(a,A,p){if(A!=null&&(A=""+Dr(A),A!==a.value&&(a.value=A),p==null)){a.defaultValue!==A&&(a.defaultValue=A);return}a.defaultValue=p!=null?""+Dr(p):""}function Jn(a,A,p,v){if(A==null){if(v!=null){if(p!=null)throw Error(n(92));if(xe(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),A=p}p=Dr(A),a.defaultValue=p,v=a.textContent,v===p&&v!==""&&v!==null&&(a.value=v),fn(a)}function ks(a,A){if(A){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=A;return}}a.textContent=A}var yA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _i(a,A,p){var v=A.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?a.setProperty(A,""):A==="float"?a.cssFloat="":a[A]="":v?a.setProperty(A,p):typeof p!="number"||p===0||yA.has(A)?A==="float"?a.cssFloat=p:a[A]=(""+p).trim():a[A]=p+"px"}function qt(a,A,p){if(A!=null&&typeof A!="object")throw Error(n(62));if(a=a.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||A!=null&&A.hasOwnProperty(v)||(v.indexOf("--")===0?a.setProperty(v,""):v==="float"?a.cssFloat="":a[v]="");for(var S in A)v=A[S],A.hasOwnProperty(S)&&p[S]!==v&&_i(a,S,v)}else for(var F in A)A.hasOwnProperty(F)&&_i(a,F,A[F])}function an(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(a){return Ku.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Mn(){}var Ao=null;function xl(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var dn=null,mi=null;function ta(a){var A=wt(a);if(A&&(a=A.stateNode)){var p=a[pe]||null;e:switch(a=A.stateNode,A.type){case"input":if(_n(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),A=p.name,p.type==="radio"&&A!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+sr(""+A)+'"][type="radio"]'),A=0;A<p.length;A++){var v=p[A];if(v!==a&&v.form===a.form){var S=v[pe]||null;if(!S)throw Error(n(90));_n(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(A=0;A<p.length;A++)v=p[A],v.form===a.form&&Rs(v)}break e;case"textarea":Cn(a,p.value,p.defaultValue);break e;case"select":A=p.value,A!=null&&St(a,!!p.multiple,A,!1)}}}var Zt=!1;function yc(a,A,p){if(Zt)return a(A,p);Zt=!0;try{var v=a(A);return v}finally{if(Zt=!1,(dn!==null||mi!==null)&&(Od(),dn&&(A=dn,a=mi,mi=dn=null,ta(A),a)))for(A=0;A<a.length;A++)ta(a[A])}}function $t(a,A){var p=a.stateNode;if(p===null)return null;var v=p[pe]||null;if(v===null)return null;p=v[A];e:switch(A){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(n(231,A,typeof p));return p}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CA=!1;if(on)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){CA=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{CA=!1}var $i=null,Ms=null,wa=null;function Os(){if(wa)return wa;var a,A=Ms,p=A.length,v,S="value"in $i?$i.value:$i.textContent,F=S.length;for(a=0;a<p&&A[a]===S[a];a++);var V=p-a;for(v=1;v<=V&&A[p-v]===S[F-v];v++);return wa=S.slice(a,1<v?1-v:void 0)}function ra(a){var A=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&A===13&&(a=13)):a=A,a===10&&(a=13),32<=a||a===13?a:0}function Ls(){return!0}function hn(){return!1}function Vn(a){function A(p,v,S,F,V){this._reactName=p,this._targetInst=S,this.type=v,this.nativeEvent=F,this.target=V,this.currentTarget=null;for(var le in a)a.hasOwnProperty(le)&&(p=a[le],this[le]=p?p(F):F[le]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Ls:hn,this.isPropagationStopped=hn,this}return C(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),A}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jn=Vn(ms),ja=C({},ms,{view:0,detail:0}),EA=Vn(ja),Ga,wl,Di,Fo=C({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:va,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Di&&(Di&&a.type==="mousemove"?(Ga=a.screenX-Di.screenX,wl=a.screenY-Di.screenY):wl=Ga=0,Di=a),Ga)},movementY:function(a){return"movementY"in a?a.movementY:wl}}),Hr=Vn(Fo),co=C({},Fo,{dataTransfer:0}),Ro=Vn(co),Qs=C({},ja,{relatedTarget:0}),uo=Vn(Qs),Ye=C({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),or=Vn(Ye),Zn=C({},ms,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ko=Vn(Zn),fo=C({},ms,{data:0}),bA=Vn(fo),Cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Do={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fn(a){var A=this.nativeEvent;return A.getModifierState?A.getModifierState(a):(a=Do[a])?!!A[a]:!1}function va(){return Fn}var wn=C({},ja,{key:function(a){if(a.key){var A=Cc[a.key]||a.key;if(A!=="Unidentified")return A}return a.type==="keypress"?(a=ra(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?BA[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:va,charCode:function(a){return a.type==="keypress"?ra(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ra(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Uo=Vn(wn),Ui=C({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vr=Vn(Ui),Yt=C({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:va}),Ec=Vn(Yt),en=C({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ps=Vn(en),Gn=C({},Fo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),bc=Vn(Gn),xs=C({},ms,{newState:0,oldState:0}),ya=Vn(xs),T=[9,13,27,32],L=on&&"CompositionEvent"in window,z=null;on&&"documentMode"in document&&(z=document.documentMode);var fe=on&&"TextEvent"in window&&!z,Oe=on&&(!L||z&&8<z&&11>=z),$e=" ",It=!1;function zr(a,A){switch(a){case"keyup":return T.indexOf(A.keyCode)!==-1;case"keydown":return A.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var br=!1;function vn(a,A){switch(a){case"compositionend":return En(A);case"keypress":return A.which!==32?null:(It=!0,$e);case"textInput":return a=A.data,a===$e&&It?null:a;default:return null}}function On(a,A){if(br)return a==="compositionend"||!L&&zr(a,A)?(a=Os(),wa=Ms=$i=null,br=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(A.ctrlKey||A.altKey||A.metaKey)||A.ctrlKey&&A.altKey){if(A.char&&1<A.char.length)return A.char;if(A.which)return String.fromCharCode(A.which)}return null;case"compositionend":return Oe&&A.locale!=="ko"?null:A.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mi(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A==="input"?!!$n[a.type]:A==="textarea"}function Ti(a,A,p,v){dn?mi?mi.push(v):mi=[v]:dn=v,A=Gd(A,"onChange"),0<A.length&&(p=new jn("onChange","change",null,p,v),a.push({event:p,listeners:A}))}var Ka=null,Mo=null;function Kg(a){JC(a,0)}function _A(a){var A=Ct(a);if(Rs(A))return a}function na(a,A){if(a==="change")return A}var td=!1;if(on){var TA;if(on){var Oo="oninput"in document;if(!Oo){var Ir=document.createElement("div");Ir.setAttribute("oninput","return;"),Oo=typeof Ir.oninput=="function"}TA=Oo}else TA=!1;td=TA&&(!document.documentMode||9<document.documentMode)}function SA(){Ka&&(Ka.detachEvent("onpropertychange",Y),Mo=Ka=null)}function Y(a){if(a.propertyName==="value"&&_A(Mo)){var A=[];Ti(A,Mo,a,xl(a)),yc(Kg,A)}}function o(a,A,p){a==="focusin"?(SA(),Ka=A,Mo=p,Ka.attachEvent("onpropertychange",Y)):a==="focusout"&&SA()}function u(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return _A(Mo)}function h(a,A){if(a==="click")return _A(A)}function x(a,A){if(a==="input"||a==="change")return _A(A)}function w(a,A){return a===A&&(a!==0||1/a===1/A)||a!==a&&A!==A}var y=typeof Object.is=="function"?Object.is:w;function B(a,A){if(y(a,A))return!0;if(typeof a!="object"||a===null||typeof A!="object"||A===null)return!1;var p=Object.keys(a),v=Object.keys(A);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var S=p[v];if(!Nt.call(A,S)||!y(a[S],A[S]))return!1}return!0}function I(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function D(a,A){var p=I(a);a=0;for(var v;p;){if(p.nodeType===3){if(v=a+p.textContent.length,a<=A&&v>=A)return{node:p,offset:A-a};a=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=I(p)}}function H(a,A){return a&&A?a===A?!0:a&&a.nodeType===3?!1:A&&A.nodeType===3?H(a,A.parentNode):"contains"in a?a.contains(A):a.compareDocumentPosition?!!(a.compareDocumentPosition(A)&16):!1:!1}function Z(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var A=ml(a.document);A instanceof a.HTMLIFrameElement;){try{var p=typeof A.contentWindow.location.href=="string"}catch{p=!1}if(p)a=A.contentWindow;else break;A=ml(a.document)}return A}function ae(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A&&(A==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||A==="textarea"||a.contentEditable==="true")}var we=on&&"documentMode"in document&&11>=document.documentMode,_e=null,Se=null,Ue=null,Ze=!1;function Bt(a,A,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Ze||_e==null||_e!==ml(v)||(v=_e,"selectionStart"in v&&ae(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ue&&B(Ue,v)||(Ue=v,v=Gd(Se,"onSelect"),0<v.length&&(A=new jn("onSelect","select",null,A,p),a.push({event:A,listeners:v}),A.target=_e)))}function Et(a,A){var p={};return p[a.toLowerCase()]=A.toLowerCase(),p["Webkit"+a]="webkit"+A,p["Moz"+a]="moz"+A,p}var mt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionrun:Et("Transition","TransitionRun"),transitionstart:Et("Transition","TransitionStart"),transitioncancel:Et("Transition","TransitionCancel"),transitionend:Et("Transition","TransitionEnd")},_r={},ur={};on&&(ur=document.createElement("div").style,"AnimationEvent"in window||(delete mt.animationend.animation,delete mt.animationiteration.animation,delete mt.animationstart.animation),"TransitionEvent"in window||delete mt.transitionend.transition);function Kn(a){if(_r[a])return _r[a];if(!mt[a])return a;var A=mt[a],p;for(p in A)if(A.hasOwnProperty(p)&&p in ur)return _r[a]=A[p];return a}var Hs=Kn("animationend"),Oi=Kn("animationiteration"),tn=Kn("animationstart"),xi=Kn("transitionrun"),ws=Kn("transitionstart"),vl=Kn("transitioncancel"),Lo=Kn("transitionend"),rd=new Map,zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zu.push("scrollEnd");function za(a,A){rd.set(a,A),Jt(A,[a])}var nd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ca=[],Bc=0,zg=0;function id(){for(var a=Bc,A=zg=Bc=0;A<a;){var p=Ca[A];Ca[A++]=null;var v=Ca[A];Ca[A++]=null;var S=Ca[A];Ca[A++]=null;var F=Ca[A];if(Ca[A++]=null,v!==null&&S!==null){var V=v.pending;V===null?S.next=S:(S.next=V.next,V.next=S),v.pending=S}F!==0&&Rv(p,S,F)}}function sd(a,A,p,v){Ca[Bc++]=a,Ca[Bc++]=A,Ca[Bc++]=p,Ca[Bc++]=v,zg|=v,a.lanes|=v,a=a.alternate,a!==null&&(a.lanes|=v)}function Wg(a,A,p,v){return sd(a,A,p,v),ad(a)}function IA(a,A){return sd(a,null,null,A),ad(a)}function Rv(a,A,p){a.lanes|=p;var v=a.alternate;v!==null&&(v.lanes|=p);for(var S=!1,F=a.return;F!==null;)F.childLanes|=p,v=F.alternate,v!==null&&(v.childLanes|=p),F.tag===22&&(a=F.stateNode,a===null||a._visibility&1||(S=!0)),a=F,F=F.return;return a.tag===3?(F=a.stateNode,S&&A!==null&&(S=31-jt(p),a=F.hiddenUpdates,v=a[S],v===null?a[S]=[A]:v.push(A),A.lane=p|536870912),F):null}function ad(a){if(50<h0)throw h0=0,rm=null,Error(n(185));for(var A=a.return;A!==null;)a=A,A=a.return;return a.tag===3?a.stateNode:null}var _c={};function R8(a,A,p,v){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=A,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(a,A,p,v){return new R8(a,A,p,v)}function Xg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qo(a,A){var p=a.alternate;return p===null?(p=ia(a.tag,A,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=A,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&65011712,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,A=a.dependencies,p.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p.refCleanup=a.refCleanup,p}function kv(a,A){a.flags&=65011714;var p=a.alternate;return p===null?(a.childLanes=0,a.lanes=A,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,A=p.dependencies,a.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),a}function od(a,A,p,v,S,F){var V=0;if(v=a,typeof a=="function")Xg(a)&&(V=1);else if(typeof a=="string")V=OR(a,p,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=ia(31,p,A,S),a.elementType=O,a.lanes=F,a;case k:return NA(p.children,S,F,A);case U:V=8,S|=24;break;case j:return a=ia(12,p,A,S|2),a.elementType=j,a.lanes=F,a;case re:return a=ia(13,p,A,S),a.elementType=re,a.lanes=F,a;case G:return a=ia(19,p,A,S),a.elementType=G,a.lanes=F,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Q:V=10;break e;case K:V=9;break e;case J:V=11;break e;case M:V=14;break e;case P:V=16,v=null;break e}V=29,p=Error(n(130,a===null?"null":typeof a,"")),v=null}return A=ia(V,p,A,S),A.elementType=a,A.type=v,A.lanes=F,A}function NA(a,A,p,v){return a=ia(7,a,v,A),a.lanes=p,a}function qg(a,A,p){return a=ia(6,a,null,A),a.lanes=p,a}function Dv(a){var A=ia(18,null,null,0);return A.stateNode=a,A}function Yg(a,A,p){return A=ia(4,a.children!==null?a.children:[],a.key,A),A.lanes=p,A.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},A}var Uv=new WeakMap;function Ea(a,A){if(typeof a=="object"&&a!==null){var p=Uv.get(a);return p!==void 0?p:(A={value:a,source:A,stack:Dt(A)},Uv.set(a,A),A)}return{value:a,source:A,stack:Dt(A)}}var Tc=[],Sc=0,ld=null,Wu=0,ba=[],Ba=0,yl=null,ho=1,go="";function Po(a,A){Tc[Sc++]=Wu,Tc[Sc++]=ld,ld=a,Wu=A}function Mv(a,A,p){ba[Ba++]=ho,ba[Ba++]=go,ba[Ba++]=yl,yl=a;var v=ho;a=go;var S=32-jt(v)-1;v&=~(1<<S),p+=1;var F=32-jt(A)+S;if(30<F){var V=S-S%5;F=(v&(1<<V)-1).toString(32),v>>=V,S-=V,ho=1<<32-jt(A)+S|p<<S|v,go=F+a}else ho=1<<F|p<<S|v,go=a}function Jg(a){a.return!==null&&(Po(a,1),Mv(a,1,0))}function Zg(a){for(;a===ld;)ld=Tc[--Sc],Tc[Sc]=null,Wu=Tc[--Sc],Tc[Sc]=null;for(;a===yl;)yl=ba[--Ba],ba[Ba]=null,go=ba[--Ba],ba[Ba]=null,ho=ba[--Ba],ba[Ba]=null}function Ov(a,A){ba[Ba++]=ho,ba[Ba++]=go,ba[Ba++]=yl,ho=A.id,go=A.overflow,yl=a}var Li=null,Tn=null,Ur=!1,Cl=null,_a=!1,$g=Error(n(519));function El(a){var A=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xu(Ea(A,a)),$g}function Lv(a){var A=a.stateNode,p=a.type,v=a.memoizedProps;switch(A[he]=a,A[pe]=v,p){case"dialog":Sr("cancel",A),Sr("close",A);break;case"iframe":case"object":case"embed":Sr("load",A);break;case"video":case"audio":for(p=0;p<p0.length;p++)Sr(p0[p],A);break;case"source":Sr("error",A);break;case"img":case"image":case"link":Sr("error",A),Sr("load",A);break;case"details":Sr("toggle",A);break;case"input":Sr("invalid",A),Qe(A,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Sr("invalid",A);break;case"textarea":Sr("invalid",A),Jn(A,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||A.textContent===""+p||v.suppressHydrationWarning===!0||tE(A.textContent,p)?(v.popover!=null&&(Sr("beforetoggle",A),Sr("toggle",A)),v.onScroll!=null&&Sr("scroll",A),v.onScrollEnd!=null&&Sr("scrollend",A),v.onClick!=null&&(A.onclick=Mn),A=!0):A=!1,A||El(a,!0)}function Qv(a){for(Li=a.return;Li;)switch(Li.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:Li=Li.return}}function Ic(a){if(a!==Li)return!1;if(!Ur)return Qv(a),Ur=!0,!1;var A=a.tag,p;if((p=A!==3&&A!==27)&&((p=A===5)&&(p=a.type,p=!(p!=="form"&&p!=="button")||mm(a.type,a.memoizedProps)),p=!p),p&&Tn&&El(a),Qv(a),A===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Tn=cE(a)}else if(A===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Tn=cE(a)}else A===27?(A=Tn,Ol(a.type)?(a=Cm,Cm=null,Tn=a):Tn=A):Tn=Li?Sa(a.stateNode.nextSibling):null;return!0}function FA(){Tn=Li=null,Ur=!1}function ep(){var a=Cl;return a!==null&&(Ks===null?Ks=a:Ks.push.apply(Ks,a),Cl=null),a}function Xu(a){Cl===null?Cl=[a]:Cl.push(a)}var tp=ne(null),RA=null,Ho=null;function bl(a,A,p){ue(tp,A._currentValue),A._currentValue=p}function Vo(a){a._currentValue=tp.current,X(tp)}function rp(a,A,p){for(;a!==null;){var v=a.alternate;if((a.childLanes&A)!==A?(a.childLanes|=A,v!==null&&(v.childLanes|=A)):v!==null&&(v.childLanes&A)!==A&&(v.childLanes|=A),a===p)break;a=a.return}}function np(a,A,p,v){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var F=S.dependencies;if(F!==null){var V=S.child;F=F.firstContext;e:for(;F!==null;){var le=F;F=S;for(var Be=0;Be<A.length;Be++)if(le.context===A[Be]){F.lanes|=p,le=F.alternate,le!==null&&(le.lanes|=p),rp(F.return,p,a),v||(V=null);break e}F=le.next}}else if(S.tag===18){if(V=S.return,V===null)throw Error(n(341));V.lanes|=p,F=V.alternate,F!==null&&(F.lanes|=p),rp(V,p,a),V=null}else V=S.child;if(V!==null)V.return=S;else for(V=S;V!==null;){if(V===a){V=null;break}if(S=V.sibling,S!==null){S.return=V.return,V=S;break}V=V.return}S=V}}function Nc(a,A,p,v){a=null;for(var S=A,F=!1;S!==null;){if(!F){if((S.flags&524288)!==0)F=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var V=S.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var le=S.type;y(S.pendingProps.value,V.value)||(a!==null?a.push(le):a=[le])}}else if(S===Je.current){if(V=S.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(y0):a=[y0])}S=S.return}a!==null&&np(A,a,p,v),A.flags|=262144}function Ad(a){for(a=a.firstContext;a!==null;){if(!y(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function kA(a){RA=a,Ho=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Qi(a){return Pv(RA,a)}function cd(a,A){return RA===null&&kA(a),Pv(a,A)}function Pv(a,A){var p=A._currentValue;if(A={context:A,memoizedValue:p,next:null},Ho===null){if(a===null)throw Error(n(308));Ho=A,a.dependencies={lanes:0,firstContext:A},a.flags|=524288}else Ho=Ho.next=A;return p}var k8=typeof AbortController<"u"?AbortController:function(){var a=[],A=this.signal={aborted:!1,addEventListener:function(p,v){a.push(v)}};this.abort=function(){A.aborted=!0,a.forEach(function(p){return p()})}},D8=t.unstable_scheduleCallback,U8=t.unstable_NormalPriority,oi={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ip(){return{controller:new k8,data:new Map,refCount:0}}function qu(a){a.refCount--,a.refCount===0&&D8(U8,function(){a.controller.abort()})}var Yu=null,sp=0,Fc=0,Rc=null;function M8(a,A){if(Yu===null){var p=Yu=[];sp=0,Fc=lm(),Rc={status:"pending",value:void 0,then:function(v){p.push(v)}}}return sp++,A.then(Hv,Hv),A}function Hv(){if(--sp===0&&Yu!==null){Rc!==null&&(Rc.status="fulfilled");var a=Yu;Yu=null,Fc=0,Rc=null;for(var A=0;A<a.length;A++)(0,a[A])()}}function O8(a,A){var p=[],v={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return a.then(function(){v.status="fulfilled",v.value=A;for(var S=0;S<p.length;S++)(0,p[S])(A)},function(S){for(v.status="rejected",v.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),v}var Vv=ge.S;ge.S=function(a,A){BC=Pe(),typeof A=="object"&&A!==null&&typeof A.then=="function"&&M8(a,A),Vv!==null&&Vv(a,A)};var DA=ne(null);function ap(){var a=DA.current;return a!==null?a:yn.pooledCache}function ud(a,A){A===null?ue(DA,DA.current):ue(DA,A.pool)}function jv(){var a=ap();return a===null?null:{parent:oi._currentValue,pool:a}}var kc=Error(n(460)),op=Error(n(474)),fd=Error(n(542)),dd={then:function(){}};function Gv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Kv(a,A,p){switch(p=a[p],p===void 0?a.push(A):p!==A&&(A.then(Mn,Mn),A=p),A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,Wv(a),a;default:if(typeof A.status=="string")A.then(Mn,Mn);else{if(a=yn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=A,a.status="pending",a.then(function(v){if(A.status==="pending"){var S=A;S.status="fulfilled",S.value=v}},function(v){if(A.status==="pending"){var S=A;S.status="rejected",S.reason=v}})}switch(A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,Wv(a),a}throw MA=A,kc}}function UA(a){try{var A=a._init;return A(a._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(MA=p,kc):p}}var MA=null;function zv(){if(MA===null)throw Error(n(459));var a=MA;return MA=null,a}function Wv(a){if(a===kc||a===fd)throw Error(n(483))}var Dc=null,Ju=0;function hd(a){var A=Ju;return Ju+=1,Dc===null&&(Dc=[]),Kv(Dc,a,A)}function Zu(a,A){A=A.props.ref,a.ref=A!==void 0?A:null}function gd(a,A){throw A.$$typeof===b?Error(n(525)):(a=Object.prototype.toString.call(A),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":a)))}function Xv(a){function A(De,Fe){if(a){var je=De.deletions;je===null?(De.deletions=[Fe],De.flags|=16):je.push(Fe)}}function p(De,Fe){if(!a)return null;for(;Fe!==null;)A(De,Fe),Fe=Fe.sibling;return null}function v(De){for(var Fe=new Map;De!==null;)De.key!==null?Fe.set(De.key,De):Fe.set(De.index,De),De=De.sibling;return Fe}function S(De,Fe){return De=Qo(De,Fe),De.index=0,De.sibling=null,De}function F(De,Fe,je){return De.index=je,a?(je=De.alternate,je!==null?(je=je.index,je<Fe?(De.flags|=67108866,Fe):je):(De.flags|=67108866,Fe)):(De.flags|=1048576,Fe)}function V(De){return a&&De.alternate===null&&(De.flags|=67108866),De}function le(De,Fe,je,ct){return Fe===null||Fe.tag!==6?(Fe=qg(je,De.mode,ct),Fe.return=De,Fe):(Fe=S(Fe,je),Fe.return=De,Fe)}function Be(De,Fe,je,ct){var er=je.type;return er===k?at(De,Fe,je.props.children,ct,je.key):Fe!==null&&(Fe.elementType===er||typeof er=="object"&&er!==null&&er.$$typeof===P&&UA(er)===Fe.type)?(Fe=S(Fe,je.props),Zu(Fe,je),Fe.return=De,Fe):(Fe=od(je.type,je.key,je.props,null,De.mode,ct),Zu(Fe,je),Fe.return=De,Fe)}function Ge(De,Fe,je,ct){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==je.containerInfo||Fe.stateNode.implementation!==je.implementation?(Fe=Yg(je,De.mode,ct),Fe.return=De,Fe):(Fe=S(Fe,je.children||[]),Fe.return=De,Fe)}function at(De,Fe,je,ct,er){return Fe===null||Fe.tag!==7?(Fe=NA(je,De.mode,ct,er),Fe.return=De,Fe):(Fe=S(Fe,je),Fe.return=De,Fe)}function ut(De,Fe,je){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=qg(""+Fe,De.mode,je),Fe.return=De,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case N:return je=od(Fe.type,Fe.key,Fe.props,null,De.mode,je),Zu(je,Fe),je.return=De,je;case R:return Fe=Yg(Fe,De.mode,je),Fe.return=De,Fe;case P:return Fe=UA(Fe),ut(De,Fe,je)}if(xe(Fe)||W(Fe))return Fe=NA(Fe,De.mode,je,null),Fe.return=De,Fe;if(typeof Fe.then=="function")return ut(De,hd(Fe),je);if(Fe.$$typeof===Q)return ut(De,cd(De,Fe),je);gd(De,Fe)}return null}function qe(De,Fe,je,ct){var er=Fe!==null?Fe.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return er!==null?null:le(De,Fe,""+je,ct);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case N:return je.key===er?Be(De,Fe,je,ct):null;case R:return je.key===er?Ge(De,Fe,je,ct):null;case P:return je=UA(je),qe(De,Fe,je,ct)}if(xe(je)||W(je))return er!==null?null:at(De,Fe,je,ct,null);if(typeof je.then=="function")return qe(De,Fe,hd(je),ct);if(je.$$typeof===Q)return qe(De,Fe,cd(De,je),ct);gd(De,je)}return null}function tt(De,Fe,je,ct,er){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return De=De.get(je)||null,le(Fe,De,""+ct,er);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case N:return De=De.get(ct.key===null?je:ct.key)||null,Be(Fe,De,ct,er);case R:return De=De.get(ct.key===null?je:ct.key)||null,Ge(Fe,De,ct,er);case P:return ct=UA(ct),tt(De,Fe,je,ct,er)}if(xe(ct)||W(ct))return De=De.get(je)||null,at(Fe,De,ct,er,null);if(typeof ct.then=="function")return tt(De,Fe,je,hd(ct),er);if(ct.$$typeof===Q)return tt(De,Fe,je,cd(Fe,ct),er);gd(Fe,ct)}return null}function Vt(De,Fe,je,ct){for(var er=null,Wr=null,zt=Fe,Br=Fe=0,Fr=null;zt!==null&&Br<je.length;Br++){zt.index>Br?(Fr=zt,zt=null):Fr=zt.sibling;var Xr=qe(De,zt,je[Br],ct);if(Xr===null){zt===null&&(zt=Fr);break}a&&zt&&Xr.alternate===null&&A(De,zt),Fe=F(Xr,Fe,Br),Wr===null?er=Xr:Wr.sibling=Xr,Wr=Xr,zt=Fr}if(Br===je.length)return p(De,zt),Ur&&Po(De,Br),er;if(zt===null){for(;Br<je.length;Br++)zt=ut(De,je[Br],ct),zt!==null&&(Fe=F(zt,Fe,Br),Wr===null?er=zt:Wr.sibling=zt,Wr=zt);return Ur&&Po(De,Br),er}for(zt=v(zt);Br<je.length;Br++)Fr=tt(zt,De,Br,je[Br],ct),Fr!==null&&(a&&Fr.alternate!==null&&zt.delete(Fr.key===null?Br:Fr.key),Fe=F(Fr,Fe,Br),Wr===null?er=Fr:Wr.sibling=Fr,Wr=Fr);return a&&zt.forEach(function(Vl){return A(De,Vl)}),Ur&&Po(De,Br),er}function nr(De,Fe,je,ct){if(je==null)throw Error(n(151));for(var er=null,Wr=null,zt=Fe,Br=Fe=0,Fr=null,Xr=je.next();zt!==null&&!Xr.done;Br++,Xr=je.next()){zt.index>Br?(Fr=zt,zt=null):Fr=zt.sibling;var Vl=qe(De,zt,Xr.value,ct);if(Vl===null){zt===null&&(zt=Fr);break}a&&zt&&Vl.alternate===null&&A(De,zt),Fe=F(Vl,Fe,Br),Wr===null?er=Vl:Wr.sibling=Vl,Wr=Vl,zt=Fr}if(Xr.done)return p(De,zt),Ur&&Po(De,Br),er;if(zt===null){for(;!Xr.done;Br++,Xr=je.next())Xr=ut(De,Xr.value,ct),Xr!==null&&(Fe=F(Xr,Fe,Br),Wr===null?er=Xr:Wr.sibling=Xr,Wr=Xr);return Ur&&Po(De,Br),er}for(zt=v(zt);!Xr.done;Br++,Xr=je.next())Xr=tt(zt,De,Br,Xr.value,ct),Xr!==null&&(a&&Xr.alternate!==null&&zt.delete(Xr.key===null?Br:Xr.key),Fe=F(Xr,Fe,Br),Wr===null?er=Xr:Wr.sibling=Xr,Wr=Xr);return a&&zt.forEach(function(XR){return A(De,XR)}),Ur&&Po(De,Br),er}function mn(De,Fe,je,ct){if(typeof je=="object"&&je!==null&&je.type===k&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case N:e:{for(var er=je.key;Fe!==null;){if(Fe.key===er){if(er=je.type,er===k){if(Fe.tag===7){p(De,Fe.sibling),ct=S(Fe,je.props.children),ct.return=De,De=ct;break e}}else if(Fe.elementType===er||typeof er=="object"&&er!==null&&er.$$typeof===P&&UA(er)===Fe.type){p(De,Fe.sibling),ct=S(Fe,je.props),Zu(ct,je),ct.return=De,De=ct;break e}p(De,Fe);break}else A(De,Fe);Fe=Fe.sibling}je.type===k?(ct=NA(je.props.children,De.mode,ct,je.key),ct.return=De,De=ct):(ct=od(je.type,je.key,je.props,null,De.mode,ct),Zu(ct,je),ct.return=De,De=ct)}return V(De);case R:e:{for(er=je.key;Fe!==null;){if(Fe.key===er)if(Fe.tag===4&&Fe.stateNode.containerInfo===je.containerInfo&&Fe.stateNode.implementation===je.implementation){p(De,Fe.sibling),ct=S(Fe,je.children||[]),ct.return=De,De=ct;break e}else{p(De,Fe);break}else A(De,Fe);Fe=Fe.sibling}ct=Yg(je,De.mode,ct),ct.return=De,De=ct}return V(De);case P:return je=UA(je),mn(De,Fe,je,ct)}if(xe(je))return Vt(De,Fe,je,ct);if(W(je)){if(er=W(je),typeof er!="function")throw Error(n(150));return je=er.call(je),nr(De,Fe,je,ct)}if(typeof je.then=="function")return mn(De,Fe,hd(je),ct);if(je.$$typeof===Q)return mn(De,Fe,cd(De,je),ct);gd(De,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,Fe!==null&&Fe.tag===6?(p(De,Fe.sibling),ct=S(Fe,je),ct.return=De,De=ct):(p(De,Fe),ct=qg(je,De.mode,ct),ct.return=De,De=ct),V(De)):p(De,Fe)}return function(De,Fe,je,ct){try{Ju=0;var er=mn(De,Fe,je,ct);return Dc=null,er}catch(zt){if(zt===kc||zt===fd)throw zt;var Wr=ia(29,zt,null,De.mode);return Wr.lanes=ct,Wr.return=De,Wr}finally{}}}var OA=Xv(!0),qv=Xv(!1),Bl=!1;function lp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ap(a,A){a=a.updateQueue,A.updateQueue===a&&(A.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function _l(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Tl(a,A,p){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(Zr&2)!==0){var S=v.pending;return S===null?A.next=A:(A.next=S.next,S.next=A),v.pending=A,A=ad(a),Rv(a,null,p),A}return sd(a,v,A,p),ad(a)}function $u(a,A,p){if(A=A.updateQueue,A!==null&&(A=A.shared,(p&4194048)!==0)){var v=A.lanes;v&=a.pendingLanes,p|=v,A.lanes=p,ai(a,p)}}function cp(a,A){var p=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var S=null,F=null;if(p=p.firstBaseUpdate,p!==null){do{var V={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};F===null?S=F=V:F=F.next=V,p=p.next}while(p!==null);F===null?S=F=A:F=F.next=A}else S=F=A;p={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:F,shared:v.shared,callbacks:v.callbacks},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=A:a.next=A,p.lastBaseUpdate=A}var up=!1;function e0(){if(up){var a=Rc;if(a!==null)throw a}}function t0(a,A,p,v){up=!1;var S=a.updateQueue;Bl=!1;var F=S.firstBaseUpdate,V=S.lastBaseUpdate,le=S.shared.pending;if(le!==null){S.shared.pending=null;var Be=le,Ge=Be.next;Be.next=null,V===null?F=Ge:V.next=Ge,V=Be;var at=a.alternate;at!==null&&(at=at.updateQueue,le=at.lastBaseUpdate,le!==V&&(le===null?at.firstBaseUpdate=Ge:le.next=Ge,at.lastBaseUpdate=Be))}if(F!==null){var ut=S.baseState;V=0,at=Ge=Be=null,le=F;do{var qe=le.lane&-536870913,tt=qe!==le.lane;if(tt?(Nr&qe)===qe:(v&qe)===qe){qe!==0&&qe===Fc&&(up=!0),at!==null&&(at=at.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var Vt=a,nr=le;qe=A;var mn=p;switch(nr.tag){case 1:if(Vt=nr.payload,typeof Vt=="function"){ut=Vt.call(mn,ut,qe);break e}ut=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=nr.payload,qe=typeof Vt=="function"?Vt.call(mn,ut,qe):Vt,qe==null)break e;ut=C({},ut,qe);break e;case 2:Bl=!0}}qe=le.callback,qe!==null&&(a.flags|=64,tt&&(a.flags|=8192),tt=S.callbacks,tt===null?S.callbacks=[qe]:tt.push(qe))}else tt={lane:qe,tag:le.tag,payload:le.payload,callback:le.callback,next:null},at===null?(Ge=at=tt,Be=ut):at=at.next=tt,V|=qe;if(le=le.next,le===null){if(le=S.shared.pending,le===null)break;tt=le,le=tt.next,tt.next=null,S.lastBaseUpdate=tt,S.shared.pending=null}}while(!0);at===null&&(Be=ut),S.baseState=Be,S.firstBaseUpdate=Ge,S.lastBaseUpdate=at,F===null&&(S.shared.lanes=0),Rl|=V,a.lanes=V,a.memoizedState=ut}}function Yv(a,A){if(typeof a!="function")throw Error(n(191,a));a.call(A)}function Jv(a,A){var p=a.callbacks;if(p!==null)for(a.callbacks=null,a=0;a<p.length;a++)Yv(p[a],A)}var Uc=ne(null),pd=ne(0);function Zv(a,A){a=Jo,ue(pd,a),ue(Uc,A),Jo=a|A.baseLanes}function fp(){ue(pd,Jo),ue(Uc,Uc.current)}function dp(){Jo=pd.current,X(Uc),X(pd)}var sa=ne(null),Ta=null;function Sl(a){var A=a.alternate;ue(ei,ei.current&1),ue(sa,a),Ta===null&&(A===null||Uc.current!==null||A.memoizedState!==null)&&(Ta=a)}function hp(a){ue(ei,ei.current),ue(sa,a),Ta===null&&(Ta=a)}function $v(a){a.tag===22?(ue(ei,ei.current),ue(sa,a),Ta===null&&(Ta=a)):Il()}function Il(){ue(ei,ei.current),ue(sa,sa.current)}function aa(a){X(sa),Ta===a&&(Ta=null),X(ei)}var ei=ne(0);function md(a){for(var A=a;A!==null;){if(A.tag===13){var p=A.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||vm(p)||ym(p)))return A}else if(A.tag===19&&(A.memoizedProps.revealOrder==="forwards"||A.memoizedProps.revealOrder==="backwards"||A.memoizedProps.revealOrder==="unstable_legacy-backwards"||A.memoizedProps.revealOrder==="together")){if((A.flags&128)!==0)return A}else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return null;A=A.return}A.sibling.return=A.return,A=A.sibling}return null}var jo=0,yr=null,gn=null,li=null,xd=!1,Mc=!1,LA=!1,wd=0,r0=0,Oc=null,L8=0;function zn(){throw Error(n(321))}function gp(a,A){if(A===null)return!1;for(var p=0;p<A.length&&p<a.length;p++)if(!y(a[p],A[p]))return!1;return!0}function pp(a,A,p,v,S,F){return jo=F,yr=A,A.memoizedState=null,A.updateQueue=null,A.lanes=0,ge.H=a===null||a.memoizedState===null?My:Fp,LA=!1,F=p(v,S),LA=!1,Mc&&(F=ty(A,p,v,S)),ey(a),F}function ey(a){ge.H=s0;var A=gn!==null&&gn.next!==null;if(jo=0,li=gn=yr=null,xd=!1,r0=0,Oc=null,A)throw Error(n(300));a===null||Ai||(a=a.dependencies,a!==null&&Ad(a)&&(Ai=!0))}function ty(a,A,p,v){yr=a;var S=0;do{if(Mc&&(Oc=null),r0=0,Mc=!1,25<=S)throw Error(n(301));if(S+=1,li=gn=null,a.updateQueue!=null){var F=a.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}ge.H=Oy,F=A(p,v)}while(Mc);return F}function Q8(){var a=ge.H,A=a.useState()[0];return A=typeof A.then=="function"?n0(A):A,a=a.useState()[0],(gn!==null?gn.memoizedState:null)!==a&&(yr.flags|=1024),A}function mp(){var a=wd!==0;return wd=0,a}function xp(a,A,p){A.updateQueue=a.updateQueue,A.flags&=-2053,a.lanes&=~p}function wp(a){if(xd){for(a=a.memoizedState;a!==null;){var A=a.queue;A!==null&&(A.pending=null),a=a.next}xd=!1}jo=0,li=gn=yr=null,Mc=!1,r0=wd=0,Oc=null}function vs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?yr.memoizedState=li=a:li=li.next=a,li}function ti(){if(gn===null){var a=yr.alternate;a=a!==null?a.memoizedState:null}else a=gn.next;var A=li===null?yr.memoizedState:li.next;if(A!==null)li=A,gn=a;else{if(a===null)throw yr.alternate===null?Error(n(467)):Error(n(310));gn=a,a={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},li===null?yr.memoizedState=li=a:li=li.next=a}return li}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function n0(a){var A=r0;return r0+=1,Oc===null&&(Oc=[]),a=Kv(Oc,a,A),A=yr,(li===null?A.memoizedState:li.next)===null&&(A=A.alternate,ge.H=A===null||A.memoizedState===null?My:Fp),a}function yd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return n0(a);if(a.$$typeof===Q)return Qi(a)}throw Error(n(438,String(a)))}function vp(a){var A=null,p=yr.updateQueue;if(p!==null&&(A=p.memoCache),A==null){var v=yr.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(A={data:v.data.map(function(S){return S.slice()}),index:0})))}if(A==null&&(A={data:[],index:0}),p===null&&(p=vd(),yr.updateQueue=p),p.memoCache=A,p=A.data[A.index],p===void 0)for(p=A.data[A.index]=Array(a),v=0;v<a;v++)p[v]=ee;return A.index++,p}function Go(a,A){return typeof A=="function"?A(a):A}function Cd(a){var A=ti();return yp(A,gn,a)}function yp(a,A,p){var v=a.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=p;var S=a.baseQueue,F=v.pending;if(F!==null){if(S!==null){var V=S.next;S.next=F.next,F.next=V}A.baseQueue=S=F,v.pending=null}if(F=a.baseState,S===null)a.memoizedState=F;else{A=S.next;var le=V=null,Be=null,Ge=A,at=!1;do{var ut=Ge.lane&-536870913;if(ut!==Ge.lane?(Nr&ut)===ut:(jo&ut)===ut){var qe=Ge.revertLane;if(qe===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),ut===Fc&&(at=!0);else if((jo&qe)===qe){Ge=Ge.next,qe===Fc&&(at=!0);continue}else ut={lane:0,revertLane:Ge.revertLane,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Be===null?(le=Be=ut,V=F):Be=Be.next=ut,yr.lanes|=qe,Rl|=qe;ut=Ge.action,LA&&p(F,ut),F=Ge.hasEagerState?Ge.eagerState:p(F,ut)}else qe={lane:ut,revertLane:Ge.revertLane,gesture:Ge.gesture,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Be===null?(le=Be=qe,V=F):Be=Be.next=qe,yr.lanes|=ut,Rl|=ut;Ge=Ge.next}while(Ge!==null&&Ge!==A);if(Be===null?V=F:Be.next=le,!y(F,a.memoizedState)&&(Ai=!0,at&&(p=Rc,p!==null)))throw p;a.memoizedState=F,a.baseState=V,a.baseQueue=Be,v.lastRenderedState=F}return S===null&&(v.lanes=0),[a.memoizedState,v.dispatch]}function Cp(a){var A=ti(),p=A.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=a;var v=p.dispatch,S=p.pending,F=A.memoizedState;if(S!==null){p.pending=null;var V=S=S.next;do F=a(F,V.action),V=V.next;while(V!==S);y(F,A.memoizedState)||(Ai=!0),A.memoizedState=F,A.baseQueue===null&&(A.baseState=F),p.lastRenderedState=F}return[F,v]}function ry(a,A,p){var v=yr,S=ti(),F=Ur;if(F){if(p===void 0)throw Error(n(407));p=p()}else p=A();var V=!y((gn||S).memoizedState,p);if(V&&(S.memoizedState=p,Ai=!0),S=S.queue,Bp(sy.bind(null,v,S,a),[a]),S.getSnapshot!==A||V||li!==null&&li.memoizedState.tag&1){if(v.flags|=2048,Lc(9,{destroy:void 0},iy.bind(null,v,S,p,A),null),yn===null)throw Error(n(349));F||(jo&127)!==0||ny(v,A,p)}return p}function ny(a,A,p){a.flags|=16384,a={getSnapshot:A,value:p},A=yr.updateQueue,A===null?(A=vd(),yr.updateQueue=A,A.stores=[a]):(p=A.stores,p===null?A.stores=[a]:p.push(a))}function iy(a,A,p,v){A.value=p,A.getSnapshot=v,ay(A)&&oy(a)}function sy(a,A,p){return p(function(){ay(A)&&oy(a)})}function ay(a){var A=a.getSnapshot;a=a.value;try{var p=A();return!y(a,p)}catch{return!0}}function oy(a){var A=IA(a,2);A!==null&&zs(A,a,2)}function Ep(a){var A=vs();if(typeof a=="function"){var p=a;if(a=p(),LA){Rt(!0);try{p()}finally{Rt(!1)}}}return A.memoizedState=A.baseState=a,A.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:a},A}function ly(a,A,p,v){return a.baseState=p,yp(a,gn,typeof v=="function"?v:Go)}function P8(a,A,p,v,S){if(Bd(a))throw Error(n(485));if(a=A.action,a!==null){var F={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){F.listeners.push(V)}};ge.T!==null?p(!0):F.isTransition=!1,v(F),p=A.pending,p===null?(F.next=A.pending=F,Ay(A,F)):(F.next=p.next,A.pending=p.next=F)}}function Ay(a,A){var p=A.action,v=A.payload,S=a.state;if(A.isTransition){var F=ge.T,V={};ge.T=V;try{var le=p(S,v),Be=ge.S;Be!==null&&Be(V,le),cy(a,A,le)}catch(Ge){bp(a,A,Ge)}finally{F!==null&&V.types!==null&&(F.types=V.types),ge.T=F}}else try{F=p(S,v),cy(a,A,F)}catch(Ge){bp(a,A,Ge)}}function cy(a,A,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){uy(a,A,v)},function(v){return bp(a,A,v)}):uy(a,A,p)}function uy(a,A,p){A.status="fulfilled",A.value=p,fy(A),a.state=p,A=a.pending,A!==null&&(p=A.next,p===A?a.pending=null:(p=p.next,A.next=p,Ay(a,p)))}function bp(a,A,p){var v=a.pending;if(a.pending=null,v!==null){v=v.next;do A.status="rejected",A.reason=p,fy(A),A=A.next;while(A!==v)}a.action=null}function fy(a){a=a.listeners;for(var A=0;A<a.length;A++)(0,a[A])()}function dy(a,A){return A}function hy(a,A){if(Ur){var p=yn.formState;if(p!==null){e:{var v=yr;if(Ur){if(Tn){t:{for(var S=Tn,F=_a;S.nodeType!==8;){if(!F){S=null;break t}if(S=Sa(S.nextSibling),S===null){S=null;break t}}F=S.data,S=F==="F!"||F==="F"?S:null}if(S){Tn=Sa(S.nextSibling),v=S.data==="F!";break e}}El(v)}v=!1}v&&(A=p[0])}}return p=vs(),p.memoizedState=p.baseState=A,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:A},p.queue=v,p=ky.bind(null,yr,v),v.dispatch=p,v=Ep(!1),F=Np.bind(null,yr,!1,v.queue),v=vs(),S={state:A,dispatch:null,action:a,pending:null},v.queue=S,p=P8.bind(null,yr,S,F,p),S.dispatch=p,v.memoizedState=a,[A,p,!1]}function gy(a){var A=ti();return py(A,gn,a)}function py(a,A,p){if(A=yp(a,A,dy)[0],a=Cd(Go)[0],typeof A=="object"&&A!==null&&typeof A.then=="function")try{var v=n0(A)}catch(V){throw V===kc?fd:V}else v=A;A=ti();var S=A.queue,F=S.dispatch;return p!==A.memoizedState&&(yr.flags|=2048,Lc(9,{destroy:void 0},H8.bind(null,S,p),null)),[v,F,a]}function H8(a,A){a.action=A}function my(a){var A=ti(),p=gn;if(p!==null)return py(A,p,a);ti(),A=A.memoizedState,p=ti();var v=p.queue.dispatch;return p.memoizedState=a,[A,v,!1]}function Lc(a,A,p,v){return a={tag:a,create:p,deps:v,inst:A,next:null},A=yr.updateQueue,A===null&&(A=vd(),yr.updateQueue=A),p=A.lastEffect,p===null?A.lastEffect=a.next=a:(v=p.next,p.next=a,a.next=v,A.lastEffect=a),a}function xy(){return ti().memoizedState}function Ed(a,A,p,v){var S=vs();yr.flags|=a,S.memoizedState=Lc(1|A,{destroy:void 0},p,v===void 0?null:v)}function bd(a,A,p,v){var S=ti();v=v===void 0?null:v;var F=S.memoizedState.inst;gn!==null&&v!==null&&gp(v,gn.memoizedState.deps)?S.memoizedState=Lc(A,F,p,v):(yr.flags|=a,S.memoizedState=Lc(1|A,F,p,v))}function wy(a,A){Ed(8390656,8,a,A)}function Bp(a,A){bd(2048,8,a,A)}function V8(a){yr.flags|=4;var A=yr.updateQueue;if(A===null)A=vd(),yr.updateQueue=A,A.events=[a];else{var p=A.events;p===null?A.events=[a]:p.push(a)}}function vy(a){var A=ti().memoizedState;return V8({ref:A,nextImpl:a}),function(){if((Zr&2)!==0)throw Error(n(440));return A.impl.apply(void 0,arguments)}}function yy(a,A){return bd(4,2,a,A)}function Cy(a,A){return bd(4,4,a,A)}function Ey(a,A){if(typeof A=="function"){a=a();var p=A(a);return function(){typeof p=="function"?p():A(null)}}if(A!=null)return a=a(),A.current=a,function(){A.current=null}}function by(a,A,p){p=p!=null?p.concat([a]):null,bd(4,4,Ey.bind(null,A,a),p)}function _p(){}function By(a,A){var p=ti();A=A===void 0?null:A;var v=p.memoizedState;return A!==null&&gp(A,v[1])?v[0]:(p.memoizedState=[a,A],a)}function _y(a,A){var p=ti();A=A===void 0?null:A;var v=p.memoizedState;if(A!==null&&gp(A,v[1]))return v[0];if(v=a(),LA){Rt(!0);try{a()}finally{Rt(!1)}}return p.memoizedState=[v,A],v}function Tp(a,A,p){return p===void 0||(jo&1073741824)!==0&&(Nr&261930)===0?a.memoizedState=A:(a.memoizedState=p,a=TC(),yr.lanes|=a,Rl|=a,p)}function Ty(a,A,p,v){return y(p,A)?p:Uc.current!==null?(a=Tp(a,p,v),y(a,A)||(Ai=!0),a):(jo&42)===0||(jo&1073741824)!==0&&(Nr&261930)===0?(Ai=!0,a.memoizedState=p):(a=TC(),yr.lanes|=a,Rl|=a,A)}function Sy(a,A,p,v,S){var F=ye.p;ye.p=F!==0&&8>F?F:8;var V=ge.T,le={};ge.T=le,Np(a,!1,A,p);try{var Be=S(),Ge=ge.S;if(Ge!==null&&Ge(le,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var at=O8(Be,v);i0(a,A,at,Aa(a))}else i0(a,A,v,Aa(a))}catch(ut){i0(a,A,{then:function(){},status:"rejected",reason:ut},Aa())}finally{ye.p=F,V!==null&&le.types!==null&&(V.types=le.types),ge.T=V}}function j8(){}function Sp(a,A,p,v){if(a.tag!==5)throw Error(n(476));var S=Iy(a).queue;Sy(a,S,A,We,p===null?j8:function(){return Ny(a),p(v)})}function Iy(a){var A=a.memoizedState;if(A!==null)return A;A={memoizedState:We,baseState:We,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:We},next:null};var p={};return A.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:p},next:null},a.memoizedState=A,a=a.alternate,a!==null&&(a.memoizedState=A),A}function Ny(a){var A=Iy(a);A.next===null&&(A=a.alternate.memoizedState),i0(a,A.next.queue,{},Aa())}function Ip(){return Qi(y0)}function Fy(){return ti().memoizedState}function Ry(){return ti().memoizedState}function G8(a){for(var A=a.return;A!==null;){switch(A.tag){case 24:case 3:var p=Aa();a=_l(p);var v=Tl(A,a,p);v!==null&&(zs(v,A,p),$u(v,A,p)),A={cache:ip()},a.payload=A;return}A=A.return}}function K8(a,A,p){var v=Aa();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Bd(a)?Dy(A,p):(p=Wg(a,A,p,v),p!==null&&(zs(p,a,v),Uy(p,A,v)))}function ky(a,A,p){var v=Aa();i0(a,A,p,v)}function i0(a,A,p,v){var S={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Bd(a))Dy(A,S);else{var F=a.alternate;if(a.lanes===0&&(F===null||F.lanes===0)&&(F=A.lastRenderedReducer,F!==null))try{var V=A.lastRenderedState,le=F(V,p);if(S.hasEagerState=!0,S.eagerState=le,y(le,V))return sd(a,A,S,0),yn===null&&id(),!1}catch{}finally{}if(p=Wg(a,A,S,v),p!==null)return zs(p,a,v),Uy(p,A,v),!0}return!1}function Np(a,A,p,v){if(v={lane:2,revertLane:lm(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Bd(a)){if(A)throw Error(n(479))}else A=Wg(a,p,v,2),A!==null&&zs(A,a,2)}function Bd(a){var A=a.alternate;return a===yr||A!==null&&A===yr}function Dy(a,A){Mc=xd=!0;var p=a.pending;p===null?A.next=A:(A.next=p.next,p.next=A),a.pending=A}function Uy(a,A,p){if((p&4194048)!==0){var v=A.lanes;v&=a.pendingLanes,p|=v,A.lanes=p,ai(a,p)}}var s0={readContext:Qi,use:yd,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn};s0.useEffectEvent=zn;var My={readContext:Qi,use:yd,useCallback:function(a,A){return vs().memoizedState=[a,A===void 0?null:A],a},useContext:Qi,useEffect:wy,useImperativeHandle:function(a,A,p){p=p!=null?p.concat([a]):null,Ed(4194308,4,Ey.bind(null,A,a),p)},useLayoutEffect:function(a,A){return Ed(4194308,4,a,A)},useInsertionEffect:function(a,A){Ed(4,2,a,A)},useMemo:function(a,A){var p=vs();A=A===void 0?null:A;var v=a();if(LA){Rt(!0);try{a()}finally{Rt(!1)}}return p.memoizedState=[v,A],v},useReducer:function(a,A,p){var v=vs();if(p!==void 0){var S=p(A);if(LA){Rt(!0);try{p(A)}finally{Rt(!1)}}}else S=A;return v.memoizedState=v.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},v.queue=a,a=a.dispatch=K8.bind(null,yr,a),[v.memoizedState,a]},useRef:function(a){var A=vs();return a={current:a},A.memoizedState=a},useState:function(a){a=Ep(a);var A=a.queue,p=ky.bind(null,yr,A);return A.dispatch=p,[a.memoizedState,p]},useDebugValue:_p,useDeferredValue:function(a,A){var p=vs();return Tp(p,a,A)},useTransition:function(){var a=Ep(!1);return a=Sy.bind(null,yr,a.queue,!0,!1),vs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,A,p){var v=yr,S=vs();if(Ur){if(p===void 0)throw Error(n(407));p=p()}else{if(p=A(),yn===null)throw Error(n(349));(Nr&127)!==0||ny(v,A,p)}S.memoizedState=p;var F={value:p,getSnapshot:A};return S.queue=F,wy(sy.bind(null,v,F,a),[a]),v.flags|=2048,Lc(9,{destroy:void 0},iy.bind(null,v,F,p,A),null),p},useId:function(){var a=vs(),A=yn.identifierPrefix;if(Ur){var p=go,v=ho;p=(v&~(1<<32-jt(v)-1)).toString(32)+p,A="_"+A+"R_"+p,p=wd++,0<p&&(A+="H"+p.toString(32)),A+="_"}else p=L8++,A="_"+A+"r_"+p.toString(32)+"_";return a.memoizedState=A},useHostTransitionStatus:Ip,useFormState:hy,useActionState:hy,useOptimistic:function(a){var A=vs();A.memoizedState=A.baseState=a;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return A.queue=p,A=Np.bind(null,yr,!0,p),p.dispatch=A,[a,A]},useMemoCache:vp,useCacheRefresh:function(){return vs().memoizedState=G8.bind(null,yr)},useEffectEvent:function(a){var A=vs(),p={impl:a};return A.memoizedState=p,function(){if((Zr&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},Fp={readContext:Qi,use:yd,useCallback:By,useContext:Qi,useEffect:Bp,useImperativeHandle:by,useInsertionEffect:yy,useLayoutEffect:Cy,useMemo:_y,useReducer:Cd,useRef:xy,useState:function(){return Cd(Go)},useDebugValue:_p,useDeferredValue:function(a,A){var p=ti();return Ty(p,gn.memoizedState,a,A)},useTransition:function(){var a=Cd(Go)[0],A=ti().memoizedState;return[typeof a=="boolean"?a:n0(a),A]},useSyncExternalStore:ry,useId:Fy,useHostTransitionStatus:Ip,useFormState:gy,useActionState:gy,useOptimistic:function(a,A){var p=ti();return ly(p,gn,a,A)},useMemoCache:vp,useCacheRefresh:Ry};Fp.useEffectEvent=vy;var Oy={readContext:Qi,use:yd,useCallback:By,useContext:Qi,useEffect:Bp,useImperativeHandle:by,useInsertionEffect:yy,useLayoutEffect:Cy,useMemo:_y,useReducer:Cp,useRef:xy,useState:function(){return Cp(Go)},useDebugValue:_p,useDeferredValue:function(a,A){var p=ti();return gn===null?Tp(p,a,A):Ty(p,gn.memoizedState,a,A)},useTransition:function(){var a=Cp(Go)[0],A=ti().memoizedState;return[typeof a=="boolean"?a:n0(a),A]},useSyncExternalStore:ry,useId:Fy,useHostTransitionStatus:Ip,useFormState:my,useActionState:my,useOptimistic:function(a,A){var p=ti();return gn!==null?ly(p,gn,a,A):(p.baseState=a,[a,p.queue.dispatch])},useMemoCache:vp,useCacheRefresh:Ry};Oy.useEffectEvent=vy;function Rp(a,A,p,v){A=a.memoizedState,p=p(v,A),p=p==null?A:C({},A,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var kp={enqueueSetState:function(a,A,p){a=a._reactInternals;var v=Aa(),S=_l(v);S.payload=A,p!=null&&(S.callback=p),A=Tl(a,S,v),A!==null&&(zs(A,a,v),$u(A,a,v))},enqueueReplaceState:function(a,A,p){a=a._reactInternals;var v=Aa(),S=_l(v);S.tag=1,S.payload=A,p!=null&&(S.callback=p),A=Tl(a,S,v),A!==null&&(zs(A,a,v),$u(A,a,v))},enqueueForceUpdate:function(a,A){a=a._reactInternals;var p=Aa(),v=_l(p);v.tag=2,A!=null&&(v.callback=A),A=Tl(a,v,p),A!==null&&(zs(A,a,p),$u(A,a,p))}};function Ly(a,A,p,v,S,F,V){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,F,V):A.prototype&&A.prototype.isPureReactComponent?!B(p,v)||!B(S,F):!0}function Qy(a,A,p,v){a=A.state,typeof A.componentWillReceiveProps=="function"&&A.componentWillReceiveProps(p,v),typeof A.UNSAFE_componentWillReceiveProps=="function"&&A.UNSAFE_componentWillReceiveProps(p,v),A.state!==a&&kp.enqueueReplaceState(A,A.state,null)}function QA(a,A){var p=A;if("ref"in A){p={};for(var v in A)v!=="ref"&&(p[v]=A[v])}if(a=a.defaultProps){p===A&&(p=C({},p));for(var S in a)p[S]===void 0&&(p[S]=a[S])}return p}function Py(a){nd(a)}function Hy(a){console.error(a)}function Vy(a){nd(a)}function _d(a,A){try{var p=a.onUncaughtError;p(A.value,{componentStack:A.stack})}catch(v){setTimeout(function(){throw v})}}function jy(a,A,p){try{var v=a.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:A.tag===1?A.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Dp(a,A,p){return p=_l(p),p.tag=3,p.payload={element:null},p.callback=function(){_d(a,A)},p}function Gy(a){return a=_l(a),a.tag=3,a}function Ky(a,A,p,v){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var F=v.value;a.payload=function(){return S(F)},a.callback=function(){jy(A,p,v)}}var V=p.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(a.callback=function(){jy(A,p,v),typeof S!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var le=v.stack;this.componentDidCatch(v.value,{componentStack:le!==null?le:""})})}function z8(a,A,p,v,S){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(A=p.alternate,A!==null&&Nc(A,p,S,!0),p=sa.current,p!==null){switch(p.tag){case 31:case 13:return Ta===null?Ld():p.alternate===null&&Wn===0&&(Wn=3),p.flags&=-257,p.flags|=65536,p.lanes=S,v===dd?p.flags|=16384:(A=p.updateQueue,A===null?p.updateQueue=new Set([v]):A.add(v),sm(a,v,S)),!1;case 22:return p.flags|=65536,v===dd?p.flags|=16384:(A=p.updateQueue,A===null?(A={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=A):(p=A.retryQueue,p===null?A.retryQueue=new Set([v]):p.add(v)),sm(a,v,S)),!1}throw Error(n(435,p.tag))}return sm(a,v,S),Ld(),!1}if(Ur)return A=sa.current,A!==null?((A.flags&65536)===0&&(A.flags|=256),A.flags|=65536,A.lanes=S,v!==$g&&(a=Error(n(422),{cause:v}),Xu(Ea(a,p)))):(v!==$g&&(A=Error(n(423),{cause:v}),Xu(Ea(A,p))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,v=Ea(v,p),S=Dp(a.stateNode,v,S),cp(a,S),Wn!==4&&(Wn=2)),!1;var F=Error(n(520),{cause:v});if(F=Ea(F,p),d0===null?d0=[F]:d0.push(F),Wn!==4&&(Wn=2),A===null)return!0;v=Ea(v,p),p=A;do{switch(p.tag){case 3:return p.flags|=65536,a=S&-S,p.lanes|=a,a=Dp(p.stateNode,v,a),cp(p,a),!1;case 1:if(A=p.type,F=p.stateNode,(p.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(kl===null||!kl.has(F))))return p.flags|=65536,S&=-S,p.lanes|=S,S=Gy(S),Ky(S,a,p,v),cp(p,S),!1}p=p.return}while(p!==null);return!1}var Up=Error(n(461)),Ai=!1;function Pi(a,A,p,v){A.child=a===null?qv(A,null,p,v):OA(A,a.child,p,v)}function zy(a,A,p,v,S){p=p.render;var F=A.ref;if("ref"in v){var V={};for(var le in v)le!=="ref"&&(V[le]=v[le])}else V=v;return kA(A),v=pp(a,A,p,V,F,S),le=mp(),a!==null&&!Ai?(xp(a,A,S),Ko(a,A,S)):(Ur&&le&&Jg(A),A.flags|=1,Pi(a,A,v,S),A.child)}function Wy(a,A,p,v,S){if(a===null){var F=p.type;return typeof F=="function"&&!Xg(F)&&F.defaultProps===void 0&&p.compare===null?(A.tag=15,A.type=F,Xy(a,A,F,v,S)):(a=od(p.type,null,v,A,A.mode,S),a.ref=A.ref,a.return=A,A.child=a)}if(F=a.child,!jp(a,S)){var V=F.memoizedProps;if(p=p.compare,p=p!==null?p:B,p(V,v)&&a.ref===A.ref)return Ko(a,A,S)}return A.flags|=1,a=Qo(F,v),a.ref=A.ref,a.return=A,A.child=a}function Xy(a,A,p,v,S){if(a!==null){var F=a.memoizedProps;if(B(F,v)&&a.ref===A.ref)if(Ai=!1,A.pendingProps=v=F,jp(a,S))(a.flags&131072)!==0&&(Ai=!0);else return A.lanes=a.lanes,Ko(a,A,S)}return Mp(a,A,p,v,S)}function qy(a,A,p,v){var S=v.children,F=a!==null?a.memoizedState:null;if(a===null&&A.stateNode===null&&(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((A.flags&128)!==0){if(F=F!==null?F.baseLanes|p:p,a!==null){for(v=A.child=a.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~F}else v=0,A.child=null;return Yy(a,A,F,p,v)}if((p&536870912)!==0)A.memoizedState={baseLanes:0,cachePool:null},a!==null&&ud(A,F!==null?F.cachePool:null),F!==null?Zv(A,F):fp(),$v(A);else return v=A.lanes=536870912,Yy(a,A,F!==null?F.baseLanes|p:p,p,v)}else F!==null?(ud(A,F.cachePool),Zv(A,F),Il(),A.memoizedState=null):(a!==null&&ud(A,null),fp(),Il());return Pi(a,A,S,p),A.child}function a0(a,A){return a!==null&&a.tag===22||A.stateNode!==null||(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.sibling}function Yy(a,A,p,v,S){var F=ap();return F=F===null?null:{parent:oi._currentValue,pool:F},A.memoizedState={baseLanes:p,cachePool:F},a!==null&&ud(A,null),fp(),$v(A),a!==null&&Nc(a,A,v,!0),A.childLanes=S,null}function Td(a,A){return A=Id({mode:A.mode,children:A.children},a.mode),A.ref=a.ref,a.child=A,A.return=a,A}function Jy(a,A,p){return OA(A,a.child,null,p),a=Td(A,A.pendingProps),a.flags|=2,aa(A),A.memoizedState=null,a}function W8(a,A,p){var v=A.pendingProps,S=(A.flags&128)!==0;if(A.flags&=-129,a===null){if(Ur){if(v.mode==="hidden")return a=Td(A,v),A.lanes=536870912,a0(null,a);if(hp(A),(a=Tn)?(a=AE(a,_a),a=a!==null&&a.data==="&"?a:null,a!==null&&(A.memoizedState={dehydrated:a,treeContext:yl!==null?{id:ho,overflow:go}:null,retryLane:536870912,hydrationErrors:null},p=Dv(a),p.return=A,A.child=p,Li=A,Tn=null)):a=null,a===null)throw El(A);return A.lanes=536870912,null}return Td(A,v)}var F=a.memoizedState;if(F!==null){var V=F.dehydrated;if(hp(A),S)if(A.flags&256)A.flags&=-257,A=Jy(a,A,p);else if(A.memoizedState!==null)A.child=a.child,A.flags|=128,A=null;else throw Error(n(558));else if(Ai||Nc(a,A,p,!1),S=(p&a.childLanes)!==0,Ai||S){if(v=yn,v!==null&&(V=Fs(v,p),V!==0&&V!==F.retryLane))throw F.retryLane=V,IA(a,V),zs(v,a,V),Up;Ld(),A=Jy(a,A,p)}else a=F.treeContext,Tn=Sa(V.nextSibling),Li=A,Ur=!0,Cl=null,_a=!1,a!==null&&Ov(A,a),A=Td(A,v),A.flags|=4096;return A}return a=Qo(a.child,{mode:v.mode,children:v.children}),a.ref=A.ref,A.child=a,a.return=A,a}function Sd(a,A){var p=A.ref;if(p===null)a!==null&&a.ref!==null&&(A.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(a===null||a.ref!==p)&&(A.flags|=4194816)}}function Mp(a,A,p,v,S){return kA(A),p=pp(a,A,p,v,void 0,S),v=mp(),a!==null&&!Ai?(xp(a,A,S),Ko(a,A,S)):(Ur&&v&&Jg(A),A.flags|=1,Pi(a,A,p,S),A.child)}function Zy(a,A,p,v,S,F){return kA(A),A.updateQueue=null,p=ty(A,v,p,S),ey(a),v=mp(),a!==null&&!Ai?(xp(a,A,F),Ko(a,A,F)):(Ur&&v&&Jg(A),A.flags|=1,Pi(a,A,p,F),A.child)}function $y(a,A,p,v,S){if(kA(A),A.stateNode===null){var F=_c,V=p.contextType;typeof V=="object"&&V!==null&&(F=Qi(V)),F=new p(v,F),A.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=kp,A.stateNode=F,F._reactInternals=A,F=A.stateNode,F.props=v,F.state=A.memoizedState,F.refs={},lp(A),V=p.contextType,F.context=typeof V=="object"&&V!==null?Qi(V):_c,F.state=A.memoizedState,V=p.getDerivedStateFromProps,typeof V=="function"&&(Rp(A,p,V,v),F.state=A.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(V=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),V!==F.state&&kp.enqueueReplaceState(F,F.state,null),t0(A,v,F,S),e0(),F.state=A.memoizedState),typeof F.componentDidMount=="function"&&(A.flags|=4194308),v=!0}else if(a===null){F=A.stateNode;var le=A.memoizedProps,Be=QA(p,le);F.props=Be;var Ge=F.context,at=p.contextType;V=_c,typeof at=="object"&&at!==null&&(V=Qi(at));var ut=p.getDerivedStateFromProps;at=typeof ut=="function"||typeof F.getSnapshotBeforeUpdate=="function",le=A.pendingProps!==le,at||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(le||Ge!==V)&&Qy(A,F,v,V),Bl=!1;var qe=A.memoizedState;F.state=qe,t0(A,v,F,S),e0(),Ge=A.memoizedState,le||qe!==Ge||Bl?(typeof ut=="function"&&(Rp(A,p,ut,v),Ge=A.memoizedState),(Be=Bl||Ly(A,p,Be,v,qe,Ge,V))?(at||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(A.flags|=4194308)):(typeof F.componentDidMount=="function"&&(A.flags|=4194308),A.memoizedProps=v,A.memoizedState=Ge),F.props=v,F.state=Ge,F.context=V,v=Be):(typeof F.componentDidMount=="function"&&(A.flags|=4194308),v=!1)}else{F=A.stateNode,Ap(a,A),V=A.memoizedProps,at=QA(p,V),F.props=at,ut=A.pendingProps,qe=F.context,Ge=p.contextType,Be=_c,typeof Ge=="object"&&Ge!==null&&(Be=Qi(Ge)),le=p.getDerivedStateFromProps,(Ge=typeof le=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(V!==ut||qe!==Be)&&Qy(A,F,v,Be),Bl=!1,qe=A.memoizedState,F.state=qe,t0(A,v,F,S),e0();var tt=A.memoizedState;V!==ut||qe!==tt||Bl||a!==null&&a.dependencies!==null&&Ad(a.dependencies)?(typeof le=="function"&&(Rp(A,p,le,v),tt=A.memoizedState),(at=Bl||Ly(A,p,at,v,qe,tt,Be)||a!==null&&a.dependencies!==null&&Ad(a.dependencies))?(Ge||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,tt,Be),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,tt,Be)),typeof F.componentDidUpdate=="function"&&(A.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(A.flags|=1024)):(typeof F.componentDidUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(A.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(A.flags|=1024),A.memoizedProps=v,A.memoizedState=tt),F.props=v,F.state=tt,F.context=Be,v=at):(typeof F.componentDidUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(A.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(A.flags|=1024),v=!1)}return F=v,Sd(a,A),v=(A.flags&128)!==0,F||v?(F=A.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:F.render(),A.flags|=1,a!==null&&v?(A.child=OA(A,a.child,null,S),A.child=OA(A,null,p,S)):Pi(a,A,p,S),A.memoizedState=F.state,a=A.child):a=Ko(a,A,S),a}function eC(a,A,p,v){return FA(),A.flags|=256,Pi(a,A,p,v),A.child}var Op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lp(a){return{baseLanes:a,cachePool:jv()}}function Qp(a,A,p){return a=a!==null?a.childLanes&~p:0,A&&(a|=la),a}function tC(a,A,p){var v=A.pendingProps,S=!1,F=(A.flags&128)!==0,V;if((V=F)||(V=a!==null&&a.memoizedState===null?!1:(ei.current&2)!==0),V&&(S=!0,A.flags&=-129),V=(A.flags&32)!==0,A.flags&=-33,a===null){if(Ur){if(S?Sl(A):Il(),(a=Tn)?(a=AE(a,_a),a=a!==null&&a.data!=="&"?a:null,a!==null&&(A.memoizedState={dehydrated:a,treeContext:yl!==null?{id:ho,overflow:go}:null,retryLane:536870912,hydrationErrors:null},p=Dv(a),p.return=A,A.child=p,Li=A,Tn=null)):a=null,a===null)throw El(A);return ym(a)?A.lanes=32:A.lanes=536870912,null}var le=v.children;return v=v.fallback,S?(Il(),S=A.mode,le=Id({mode:"hidden",children:le},S),v=NA(v,S,p,null),le.return=A,v.return=A,le.sibling=v,A.child=le,v=A.child,v.memoizedState=Lp(p),v.childLanes=Qp(a,V,p),A.memoizedState=Op,a0(null,v)):(Sl(A),Pp(A,le))}var Be=a.memoizedState;if(Be!==null&&(le=Be.dehydrated,le!==null)){if(F)A.flags&256?(Sl(A),A.flags&=-257,A=Hp(a,A,p)):A.memoizedState!==null?(Il(),A.child=a.child,A.flags|=128,A=null):(Il(),le=v.fallback,S=A.mode,v=Id({mode:"visible",children:v.children},S),le=NA(le,S,p,null),le.flags|=2,v.return=A,le.return=A,v.sibling=le,A.child=v,OA(A,a.child,null,p),v=A.child,v.memoizedState=Lp(p),v.childLanes=Qp(a,V,p),A.memoizedState=Op,A=a0(null,v));else if(Sl(A),ym(le)){if(V=le.nextSibling&&le.nextSibling.dataset,V)var Ge=V.dgst;V=Ge,v=Error(n(419)),v.stack="",v.digest=V,Xu({value:v,source:null,stack:null}),A=Hp(a,A,p)}else if(Ai||Nc(a,A,p,!1),V=(p&a.childLanes)!==0,Ai||V){if(V=yn,V!==null&&(v=Fs(V,p),v!==0&&v!==Be.retryLane))throw Be.retryLane=v,IA(a,v),zs(V,a,v),Up;vm(le)||Ld(),A=Hp(a,A,p)}else vm(le)?(A.flags|=192,A.child=a.child,A=null):(a=Be.treeContext,Tn=Sa(le.nextSibling),Li=A,Ur=!0,Cl=null,_a=!1,a!==null&&Ov(A,a),A=Pp(A,v.children),A.flags|=4096);return A}return S?(Il(),le=v.fallback,S=A.mode,Be=a.child,Ge=Be.sibling,v=Qo(Be,{mode:"hidden",children:v.children}),v.subtreeFlags=Be.subtreeFlags&65011712,Ge!==null?le=Qo(Ge,le):(le=NA(le,S,p,null),le.flags|=2),le.return=A,v.return=A,v.sibling=le,A.child=v,a0(null,v),v=A.child,le=a.child.memoizedState,le===null?le=Lp(p):(S=le.cachePool,S!==null?(Be=oi._currentValue,S=S.parent!==Be?{parent:Be,pool:Be}:S):S=jv(),le={baseLanes:le.baseLanes|p,cachePool:S}),v.memoizedState=le,v.childLanes=Qp(a,V,p),A.memoizedState=Op,a0(a.child,v)):(Sl(A),p=a.child,a=p.sibling,p=Qo(p,{mode:"visible",children:v.children}),p.return=A,p.sibling=null,a!==null&&(V=A.deletions,V===null?(A.deletions=[a],A.flags|=16):V.push(a)),A.child=p,A.memoizedState=null,p)}function Pp(a,A){return A=Id({mode:"visible",children:A},a.mode),A.return=a,a.child=A}function Id(a,A){return a=ia(22,a,null,A),a.lanes=0,a}function Hp(a,A,p){return OA(A,a.child,null,p),a=Pp(A,A.pendingProps.children),a.flags|=2,A.memoizedState=null,a}function rC(a,A,p){a.lanes|=A;var v=a.alternate;v!==null&&(v.lanes|=A),rp(a.return,A,p)}function Vp(a,A,p,v,S,F){var V=a.memoizedState;V===null?a.memoizedState={isBackwards:A,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:S,treeForkCount:F}:(V.isBackwards=A,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=p,V.tailMode=S,V.treeForkCount=F)}function nC(a,A,p){var v=A.pendingProps,S=v.revealOrder,F=v.tail;v=v.children;var V=ei.current,le=(V&2)!==0;if(le?(V=V&1|2,A.flags|=128):V&=1,ue(ei,V),Pi(a,A,v,p),v=Ur?Wu:0,!le&&a!==null&&(a.flags&128)!==0)e:for(a=A.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&rC(a,p,A);else if(a.tag===19)rC(a,p,A);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===A)break e;for(;a.sibling===null;){if(a.return===null||a.return===A)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(S){case"forwards":for(p=A.child,S=null;p!==null;)a=p.alternate,a!==null&&md(a)===null&&(S=p),p=p.sibling;p=S,p===null?(S=A.child,A.child=null):(S=p.sibling,p.sibling=null),Vp(A,!1,S,p,F,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=A.child,A.child=null;S!==null;){if(a=S.alternate,a!==null&&md(a)===null){A.child=S;break}a=S.sibling,S.sibling=p,p=S,S=a}Vp(A,!0,p,null,F,v);break;case"together":Vp(A,!1,null,null,void 0,v);break;default:A.memoizedState=null}return A.child}function Ko(a,A,p){if(a!==null&&(A.dependencies=a.dependencies),Rl|=A.lanes,(p&A.childLanes)===0)if(a!==null){if(Nc(a,A,p,!1),(p&A.childLanes)===0)return null}else return null;if(a!==null&&A.child!==a.child)throw Error(n(153));if(A.child!==null){for(a=A.child,p=Qo(a,a.pendingProps),A.child=p,p.return=A;a.sibling!==null;)a=a.sibling,p=p.sibling=Qo(a,a.pendingProps),p.return=A;p.sibling=null}return A.child}function jp(a,A){return(a.lanes&A)!==0?!0:(a=a.dependencies,!!(a!==null&&Ad(a)))}function X8(a,A,p){switch(A.tag){case 3:ke(A,A.stateNode.containerInfo),bl(A,oi,a.memoizedState.cache),FA();break;case 27:case 5:Te(A);break;case 4:ke(A,A.stateNode.containerInfo);break;case 10:bl(A,A.type,A.memoizedProps.value);break;case 31:if(A.memoizedState!==null)return A.flags|=128,hp(A),null;break;case 13:var v=A.memoizedState;if(v!==null)return v.dehydrated!==null?(Sl(A),A.flags|=128,null):(p&A.child.childLanes)!==0?tC(a,A,p):(Sl(A),a=Ko(a,A,p),a!==null?a.sibling:null);Sl(A);break;case 19:var S=(a.flags&128)!==0;if(v=(p&A.childLanes)!==0,v||(Nc(a,A,p,!1),v=(p&A.childLanes)!==0),S){if(v)return nC(a,A,p);A.flags|=128}if(S=A.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ue(ei,ei.current),v)break;return null;case 22:return A.lanes=0,qy(a,A,p,A.pendingProps);case 24:bl(A,oi,a.memoizedState.cache)}return Ko(a,A,p)}function iC(a,A,p){if(a!==null)if(a.memoizedProps!==A.pendingProps)Ai=!0;else{if(!jp(a,p)&&(A.flags&128)===0)return Ai=!1,X8(a,A,p);Ai=(a.flags&131072)!==0}else Ai=!1,Ur&&(A.flags&1048576)!==0&&Mv(A,Wu,A.index);switch(A.lanes=0,A.tag){case 16:e:{var v=A.pendingProps;if(a=UA(A.elementType),A.type=a,typeof a=="function")Xg(a)?(v=QA(a,v),A.tag=1,A=$y(null,A,a,v,p)):(A.tag=0,A=Mp(null,A,a,v,p));else{if(a!=null){var S=a.$$typeof;if(S===J){A.tag=11,A=zy(null,A,a,v,p);break e}else if(S===M){A.tag=14,A=Wy(null,A,a,v,p);break e}}throw A=Ie(a)||a,Error(n(306,A,""))}}return A;case 0:return Mp(a,A,A.type,A.pendingProps,p);case 1:return v=A.type,S=QA(v,A.pendingProps),$y(a,A,v,S,p);case 3:e:{if(ke(A,A.stateNode.containerInfo),a===null)throw Error(n(387));v=A.pendingProps;var F=A.memoizedState;S=F.element,Ap(a,A),t0(A,v,null,p);var V=A.memoizedState;if(v=V.cache,bl(A,oi,v),v!==F.cache&&np(A,[oi],p,!0),e0(),v=V.element,F.isDehydrated)if(F={element:v,isDehydrated:!1,cache:V.cache},A.updateQueue.baseState=F,A.memoizedState=F,A.flags&256){A=eC(a,A,v,p);break e}else if(v!==S){S=Ea(Error(n(424)),A),Xu(S),A=eC(a,A,v,p);break e}else{switch(a=A.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Tn=Sa(a.firstChild),Li=A,Ur=!0,Cl=null,_a=!0,p=qv(A,null,v,p),A.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(FA(),v===S){A=Ko(a,A,p);break e}Pi(a,A,v,p)}A=A.child}return A;case 26:return Sd(a,A),a===null?(p=gE(A.type,null,A.pendingProps,null))?A.memoizedState=p:Ur||(p=A.type,a=A.pendingProps,v=Kd(be.current).createElement(p),v[he]=A,v[pe]=a,Hi(v,p,a),Ot(v),A.stateNode=v):A.memoizedState=gE(A.type,a.memoizedProps,A.pendingProps,a.memoizedState),null;case 27:return Te(A),a===null&&Ur&&(v=A.stateNode=fE(A.type,A.pendingProps,be.current),Li=A,_a=!0,S=Tn,Ol(A.type)?(Cm=S,Tn=Sa(v.firstChild)):Tn=S),Pi(a,A,A.pendingProps.children,p),Sd(a,A),a===null&&(A.flags|=4194304),A.child;case 5:return a===null&&Ur&&((S=v=Tn)&&(v=bR(v,A.type,A.pendingProps,_a),v!==null?(A.stateNode=v,Li=A,Tn=Sa(v.firstChild),_a=!1,S=!0):S=!1),S||El(A)),Te(A),S=A.type,F=A.pendingProps,V=a!==null?a.memoizedProps:null,v=F.children,mm(S,F)?v=null:V!==null&&mm(S,V)&&(A.flags|=32),A.memoizedState!==null&&(S=pp(a,A,Q8,null,null,p),y0._currentValue=S),Sd(a,A),Pi(a,A,v,p),A.child;case 6:return a===null&&Ur&&((a=p=Tn)&&(p=BR(p,A.pendingProps,_a),p!==null?(A.stateNode=p,Li=A,Tn=null,a=!0):a=!1),a||El(A)),null;case 13:return tC(a,A,p);case 4:return ke(A,A.stateNode.containerInfo),v=A.pendingProps,a===null?A.child=OA(A,null,v,p):Pi(a,A,v,p),A.child;case 11:return zy(a,A,A.type,A.pendingProps,p);case 7:return Pi(a,A,A.pendingProps,p),A.child;case 8:return Pi(a,A,A.pendingProps.children,p),A.child;case 12:return Pi(a,A,A.pendingProps.children,p),A.child;case 10:return v=A.pendingProps,bl(A,A.type,v.value),Pi(a,A,v.children,p),A.child;case 9:return S=A.type._context,v=A.pendingProps.children,kA(A),S=Qi(S),v=v(S),A.flags|=1,Pi(a,A,v,p),A.child;case 14:return Wy(a,A,A.type,A.pendingProps,p);case 15:return Xy(a,A,A.type,A.pendingProps,p);case 19:return nC(a,A,p);case 31:return W8(a,A,p);case 22:return qy(a,A,p,A.pendingProps);case 24:return kA(A),v=Qi(oi),a===null?(S=ap(),S===null&&(S=yn,F=ip(),S.pooledCache=F,F.refCount++,F!==null&&(S.pooledCacheLanes|=p),S=F),A.memoizedState={parent:v,cache:S},lp(A),bl(A,oi,S)):((a.lanes&p)!==0&&(Ap(a,A),t0(A,null,null,p),e0()),S=a.memoizedState,F=A.memoizedState,S.parent!==v?(S={parent:v,cache:v},A.memoizedState=S,A.lanes===0&&(A.memoizedState=A.updateQueue.baseState=S),bl(A,oi,v)):(v=F.cache,bl(A,oi,v),v!==S.cache&&np(A,[oi],p,!0))),Pi(a,A,A.pendingProps.children,p),A.child;case 29:throw A.pendingProps}throw Error(n(156,A.tag))}function zo(a){a.flags|=4}function Gp(a,A,p,v,S){if((A=(a.mode&32)!==0)&&(A=!1),A){if(a.flags|=16777216,(S&335544128)===S)if(a.stateNode.complete)a.flags|=8192;else if(FC())a.flags|=8192;else throw MA=dd,op}else a.flags&=-16777217}function sC(a,A){if(A.type!=="stylesheet"||(A.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!vE(A))if(FC())a.flags|=8192;else throw MA=dd,op}function Nd(a,A){A!==null&&(a.flags|=4),a.flags&16384&&(A=a.tag!==22?Nn():536870912,a.lanes|=A,Vc|=A)}function o0(a,A){if(!Ur)switch(a.tailMode){case"hidden":A=a.tail;for(var p=null;A!==null;)A.alternate!==null&&(p=A),A=A.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?A||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Sn(a){var A=a.alternate!==null&&a.alternate.child===a.child,p=0,v=0;if(A)for(var S=a.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=v,a.childLanes=p,A}function q8(a,A,p){var v=A.pendingProps;switch(Zg(A),A.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(A),null;case 1:return Sn(A),null;case 3:return p=A.stateNode,v=null,a!==null&&(v=a.memoizedState.cache),A.memoizedState.cache!==v&&(A.flags|=2048),Vo(oi),He(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(Ic(A)?zo(A):a===null||a.memoizedState.isDehydrated&&(A.flags&256)===0||(A.flags|=1024,ep())),Sn(A),null;case 26:var S=A.type,F=A.memoizedState;return a===null?(zo(A),F!==null?(Sn(A),sC(A,F)):(Sn(A),Gp(A,S,null,v,p))):F?F!==a.memoizedState?(zo(A),Sn(A),sC(A,F)):(Sn(A),A.flags&=-16777217):(a=a.memoizedProps,a!==v&&zo(A),Sn(A),Gp(A,S,a,v,p)),null;case 27:if(pt(A),p=be.current,S=A.type,a!==null&&A.stateNode!=null)a.memoizedProps!==v&&zo(A);else{if(!v){if(A.stateNode===null)throw Error(n(166));return Sn(A),null}a=oe.current,Ic(A)?Lv(A):(a=fE(S,v,p),A.stateNode=a,zo(A))}return Sn(A),null;case 5:if(pt(A),S=A.type,a!==null&&A.stateNode!=null)a.memoizedProps!==v&&zo(A);else{if(!v){if(A.stateNode===null)throw Error(n(166));return Sn(A),null}if(F=oe.current,Ic(A))Lv(A);else{var V=Kd(be.current);switch(F){case 1:F=V.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:F=V.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":F=V.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":F=V.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":F=V.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof v.is=="string"?V.createElement("select",{is:v.is}):V.createElement("select"),v.multiple?F.multiple=!0:v.size&&(F.size=v.size);break;default:F=typeof v.is=="string"?V.createElement(S,{is:v.is}):V.createElement(S)}}F[he]=A,F[pe]=v;e:for(V=A.child;V!==null;){if(V.tag===5||V.tag===6)F.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===A)break e;for(;V.sibling===null;){if(V.return===null||V.return===A)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}A.stateNode=F;e:switch(Hi(F,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&zo(A)}}return Sn(A),Gp(A,A.type,a===null?null:a.memoizedProps,A.pendingProps,p),null;case 6:if(a&&A.stateNode!=null)a.memoizedProps!==v&&zo(A);else{if(typeof v!="string"&&A.stateNode===null)throw Error(n(166));if(a=be.current,Ic(A)){if(a=A.stateNode,p=A.memoizedProps,v=null,S=Li,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}a[he]=A,a=!!(a.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||tE(a.nodeValue,p)),a||El(A,!0)}else a=Kd(a).createTextNode(v),a[he]=A,A.stateNode=a}return Sn(A),null;case 31:if(p=A.memoizedState,a===null||a.memoizedState!==null){if(v=Ic(A),p!==null){if(a===null){if(!v)throw Error(n(318));if(a=A.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[he]=A}else FA(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Sn(A),a=!1}else p=ep(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),a=!0;if(!a)return A.flags&256?(aa(A),A):(aa(A),null);if((A.flags&128)!==0)throw Error(n(558))}return Sn(A),null;case 13:if(v=A.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=Ic(A),v!==null&&v.dehydrated!==null){if(a===null){if(!S)throw Error(n(318));if(S=A.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[he]=A}else FA(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Sn(A),S=!1}else S=ep(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=S),S=!0;if(!S)return A.flags&256?(aa(A),A):(aa(A),null)}return aa(A),(A.flags&128)!==0?(A.lanes=p,A):(p=v!==null,a=a!==null&&a.memoizedState!==null,p&&(v=A.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),F=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(F=v.memoizedState.cachePool.pool),F!==S&&(v.flags|=2048)),p!==a&&p&&(A.child.flags|=8192),Nd(A,A.updateQueue),Sn(A),null);case 4:return He(),a===null&&fm(A.stateNode.containerInfo),Sn(A),null;case 10:return Vo(A.type),Sn(A),null;case 19:if(X(ei),v=A.memoizedState,v===null)return Sn(A),null;if(S=(A.flags&128)!==0,F=v.rendering,F===null)if(S)o0(v,!1);else{if(Wn!==0||a!==null&&(a.flags&128)!==0)for(a=A.child;a!==null;){if(F=md(a),F!==null){for(A.flags|=128,o0(v,!1),a=F.updateQueue,A.updateQueue=a,Nd(A,a),A.subtreeFlags=0,a=p,p=A.child;p!==null;)kv(p,a),p=p.sibling;return ue(ei,ei.current&1|2),Ur&&Po(A,v.treeForkCount),A.child}a=a.sibling}v.tail!==null&&Pe()>Ud&&(A.flags|=128,S=!0,o0(v,!1),A.lanes=4194304)}else{if(!S)if(a=md(F),a!==null){if(A.flags|=128,S=!0,a=a.updateQueue,A.updateQueue=a,Nd(A,a),o0(v,!0),v.tail===null&&v.tailMode==="hidden"&&!F.alternate&&!Ur)return Sn(A),null}else 2*Pe()-v.renderingStartTime>Ud&&p!==536870912&&(A.flags|=128,S=!0,o0(v,!1),A.lanes=4194304);v.isBackwards?(F.sibling=A.child,A.child=F):(a=v.last,a!==null?a.sibling=F:A.child=F,v.last=F)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Pe(),a.sibling=null,p=ei.current,ue(ei,S?p&1|2:p&1),Ur&&Po(A,v.treeForkCount),a):(Sn(A),null);case 22:case 23:return aa(A),dp(),v=A.memoizedState!==null,a!==null?a.memoizedState!==null!==v&&(A.flags|=8192):v&&(A.flags|=8192),v?(p&536870912)!==0&&(A.flags&128)===0&&(Sn(A),A.subtreeFlags&6&&(A.flags|=8192)):Sn(A),p=A.updateQueue,p!==null&&Nd(A,p.retryQueue),p=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),v=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(v=A.memoizedState.cachePool.pool),v!==p&&(A.flags|=2048),a!==null&&X(DA),null;case 24:return p=null,a!==null&&(p=a.memoizedState.cache),A.memoizedState.cache!==p&&(A.flags|=2048),Vo(oi),Sn(A),null;case 25:return null;case 30:return null}throw Error(n(156,A.tag))}function Y8(a,A){switch(Zg(A),A.tag){case 1:return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 3:return Vo(oi),He(),a=A.flags,(a&65536)!==0&&(a&128)===0?(A.flags=a&-65537|128,A):null;case 26:case 27:case 5:return pt(A),null;case 31:if(A.memoizedState!==null){if(aa(A),A.alternate===null)throw Error(n(340));FA()}return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 13:if(aa(A),a=A.memoizedState,a!==null&&a.dehydrated!==null){if(A.alternate===null)throw Error(n(340));FA()}return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 19:return X(ei),null;case 4:return He(),null;case 10:return Vo(A.type),null;case 22:case 23:return aa(A),dp(),a!==null&&X(DA),a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 24:return Vo(oi),null;case 25:return null;default:return null}}function aC(a,A){switch(Zg(A),A.tag){case 3:Vo(oi),He();break;case 26:case 27:case 5:pt(A);break;case 4:He();break;case 31:A.memoizedState!==null&&aa(A);break;case 13:aa(A);break;case 19:X(ei);break;case 10:Vo(A.type);break;case 22:case 23:aa(A),dp(),a!==null&&X(DA);break;case 24:Vo(oi)}}function l0(a,A){try{var p=A.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var S=v.next;p=S;do{if((p.tag&a)===a){v=void 0;var F=p.create,V=p.inst;v=F(),V.destroy=v}p=p.next}while(p!==S)}}catch(le){An(A,A.return,le)}}function Nl(a,A,p){try{var v=A.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var F=S.next;v=F;do{if((v.tag&a)===a){var V=v.inst,le=V.destroy;if(le!==void 0){V.destroy=void 0,S=A;var Be=p,Ge=le;try{Ge()}catch(at){An(S,Be,at)}}}v=v.next}while(v!==F)}}catch(at){An(A,A.return,at)}}function oC(a){var A=a.updateQueue;if(A!==null){var p=a.stateNode;try{Jv(A,p)}catch(v){An(a,a.return,v)}}}function lC(a,A,p){p.props=QA(a.type,a.memoizedProps),p.state=a.memoizedState;try{p.componentWillUnmount()}catch(v){An(a,A,v)}}function A0(a,A){try{var p=a.ref;if(p!==null){switch(a.tag){case 26:case 27:case 5:var v=a.stateNode;break;case 30:v=a.stateNode;break;default:v=a.stateNode}typeof p=="function"?a.refCleanup=p(v):p.current=v}}catch(S){An(a,A,S)}}function po(a,A){var p=a.ref,v=a.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(S){An(a,A,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){An(a,A,S)}else p.current=null}function AC(a){var A=a.type,p=a.memoizedProps,v=a.stateNode;try{e:switch(A){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(S){An(a,a.return,S)}}function Kp(a,A,p){try{var v=a.stateNode;xR(v,a.type,p,A),v[pe]=A}catch(S){An(a,a.return,S)}}function cC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ol(a.type)||a.tag===4}function zp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||cC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ol(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Wp(a,A,p){var v=a.tag;if(v===5||v===6)a=a.stateNode,A?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(a,A):(A=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,A.appendChild(a),p=p._reactRootContainer,p!=null||A.onclick!==null||(A.onclick=Mn));else if(v!==4&&(v===27&&Ol(a.type)&&(p=a.stateNode,A=null),a=a.child,a!==null))for(Wp(a,A,p),a=a.sibling;a!==null;)Wp(a,A,p),a=a.sibling}function Fd(a,A,p){var v=a.tag;if(v===5||v===6)a=a.stateNode,A?p.insertBefore(a,A):p.appendChild(a);else if(v!==4&&(v===27&&Ol(a.type)&&(p=a.stateNode),a=a.child,a!==null))for(Fd(a,A,p),a=a.sibling;a!==null;)Fd(a,A,p),a=a.sibling}function uC(a){var A=a.stateNode,p=a.memoizedProps;try{for(var v=a.type,S=A.attributes;S.length;)A.removeAttributeNode(S[0]);Hi(A,v,p),A[he]=a,A[pe]=p}catch(F){An(a,a.return,F)}}var Wo=!1,ci=!1,Xp=!1,fC=typeof WeakSet=="function"?WeakSet:Set,Si=null;function J8(a,A){if(a=a.containerInfo,gm=Zd,a=Z(a),ae(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var S=v.anchorOffset,F=v.focusNode;v=v.focusOffset;try{p.nodeType,F.nodeType}catch{p=null;break e}var V=0,le=-1,Be=-1,Ge=0,at=0,ut=a,qe=null;t:for(;;){for(var tt;ut!==p||S!==0&&ut.nodeType!==3||(le=V+S),ut!==F||v!==0&&ut.nodeType!==3||(Be=V+v),ut.nodeType===3&&(V+=ut.nodeValue.length),(tt=ut.firstChild)!==null;)qe=ut,ut=tt;for(;;){if(ut===a)break t;if(qe===p&&++Ge===S&&(le=V),qe===F&&++at===v&&(Be=V),(tt=ut.nextSibling)!==null)break;ut=qe,qe=ut.parentNode}ut=tt}p=le===-1||Be===-1?null:{start:le,end:Be}}else p=null}p=p||{start:0,end:0}}else p=null;for(pm={focusedElem:a,selectionRange:p},Zd=!1,Si=A;Si!==null;)if(A=Si,a=A.child,(A.subtreeFlags&1028)!==0&&a!==null)a.return=A,Si=a;else for(;Si!==null;){switch(A=Si,F=A.alternate,a=A.flags,A.tag){case 0:if((a&4)!==0&&(a=A.updateQueue,a=a!==null?a.events:null,a!==null))for(p=0;p<a.length;p++)S=a[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&F!==null){a=void 0,p=A,S=F.memoizedProps,F=F.memoizedState,v=p.stateNode;try{var Vt=QA(p.type,S);a=v.getSnapshotBeforeUpdate(Vt,F),v.__reactInternalSnapshotBeforeUpdate=a}catch(nr){An(p,p.return,nr)}}break;case 3:if((a&1024)!==0){if(a=A.stateNode.containerInfo,p=a.nodeType,p===9)wm(a);else if(p===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":wm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=A.sibling,a!==null){a.return=A.return,Si=a;break}Si=A.return}}function dC(a,A,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:qo(a,p),v&4&&l0(5,p);break;case 1:if(qo(a,p),v&4)if(a=p.stateNode,A===null)try{a.componentDidMount()}catch(V){An(p,p.return,V)}else{var S=QA(p.type,A.memoizedProps);A=A.memoizedState;try{a.componentDidUpdate(S,A,a.__reactInternalSnapshotBeforeUpdate)}catch(V){An(p,p.return,V)}}v&64&&oC(p),v&512&&A0(p,p.return);break;case 3:if(qo(a,p),v&64&&(a=p.updateQueue,a!==null)){if(A=null,p.child!==null)switch(p.child.tag){case 27:case 5:A=p.child.stateNode;break;case 1:A=p.child.stateNode}try{Jv(a,A)}catch(V){An(p,p.return,V)}}break;case 27:A===null&&v&4&&uC(p);case 26:case 5:qo(a,p),A===null&&v&4&&AC(p),v&512&&A0(p,p.return);break;case 12:qo(a,p);break;case 31:qo(a,p),v&4&&pC(a,p);break;case 13:qo(a,p),v&4&&mC(a,p),v&64&&(a=p.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(p=aR.bind(null,p),_R(a,p))));break;case 22:if(v=p.memoizedState!==null||Wo,!v){A=A!==null&&A.memoizedState!==null||ci,S=Wo;var F=ci;Wo=v,(ci=A)&&!F?Yo(a,p,(p.subtreeFlags&8772)!==0):qo(a,p),Wo=S,ci=F}break;case 30:break;default:qo(a,p)}}function hC(a){var A=a.alternate;A!==null&&(a.alternate=null,hC(A)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(A=a.stateNode,A!==null&&dt(A)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Rn=null,Vs=!1;function Xo(a,A,p){for(p=p.child;p!==null;)gC(a,A,p),p=p.sibling}function gC(a,A,p){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Gt,p)}catch{}switch(p.tag){case 26:ci||po(p,A),Xo(a,A,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ci||po(p,A);var v=Rn,S=Vs;Ol(p.type)&&(Rn=p.stateNode,Vs=!1),Xo(a,A,p),x0(p.stateNode),Rn=v,Vs=S;break;case 5:ci||po(p,A);case 6:if(v=Rn,S=Vs,Rn=null,Xo(a,A,p),Rn=v,Vs=S,Rn!==null)if(Vs)try{(Rn.nodeType===9?Rn.body:Rn.nodeName==="HTML"?Rn.ownerDocument.body:Rn).removeChild(p.stateNode)}catch(F){An(p,A,F)}else try{Rn.removeChild(p.stateNode)}catch(F){An(p,A,F)}break;case 18:Rn!==null&&(Vs?(a=Rn,oE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,p.stateNode),Yc(a)):oE(Rn,p.stateNode));break;case 4:v=Rn,S=Vs,Rn=p.stateNode.containerInfo,Vs=!0,Xo(a,A,p),Rn=v,Vs=S;break;case 0:case 11:case 14:case 15:Nl(2,p,A),ci||Nl(4,p,A),Xo(a,A,p);break;case 1:ci||(po(p,A),v=p.stateNode,typeof v.componentWillUnmount=="function"&&lC(p,A,v)),Xo(a,A,p);break;case 21:Xo(a,A,p);break;case 22:ci=(v=ci)||p.memoizedState!==null,Xo(a,A,p),ci=v;break;default:Xo(a,A,p)}}function pC(a,A){if(A.memoizedState===null&&(a=A.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Yc(a)}catch(p){An(A,A.return,p)}}}function mC(a,A){if(A.memoizedState===null&&(a=A.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Yc(a)}catch(p){An(A,A.return,p)}}function Z8(a){switch(a.tag){case 31:case 13:case 19:var A=a.stateNode;return A===null&&(A=a.stateNode=new fC),A;case 22:return a=a.stateNode,A=a._retryCache,A===null&&(A=a._retryCache=new fC),A;default:throw Error(n(435,a.tag))}}function Rd(a,A){var p=Z8(a);A.forEach(function(v){if(!p.has(v)){p.add(v);var S=oR.bind(null,a,v);v.then(S,S)}})}function js(a,A){var p=A.deletions;if(p!==null)for(var v=0;v<p.length;v++){var S=p[v],F=a,V=A,le=V;e:for(;le!==null;){switch(le.tag){case 27:if(Ol(le.type)){Rn=le.stateNode,Vs=!1;break e}break;case 5:Rn=le.stateNode,Vs=!1;break e;case 3:case 4:Rn=le.stateNode.containerInfo,Vs=!0;break e}le=le.return}if(Rn===null)throw Error(n(160));gC(F,V,S),Rn=null,Vs=!1,F=S.alternate,F!==null&&(F.return=null),S.return=null}if(A.subtreeFlags&13886)for(A=A.child;A!==null;)xC(A,a),A=A.sibling}var Wa=null;function xC(a,A){var p=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:js(A,a),Gs(a),v&4&&(Nl(3,a,a.return),l0(3,a),Nl(5,a,a.return));break;case 1:js(A,a),Gs(a),v&512&&(ci||p===null||po(p,p.return)),v&64&&Wo&&(a=a.updateQueue,a!==null&&(v=a.callbacks,v!==null&&(p=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var S=Wa;if(js(A,a),Gs(a),v&512&&(ci||p===null||po(p,p.return)),v&4){var F=p!==null?p.memoizedState:null;if(v=a.memoizedState,p===null)if(v===null)if(a.stateNode===null){e:{v=a.type,p=a.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":F=S.getElementsByTagName("title")[0],(!F||F[ze]||F[he]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=S.createElement(v),S.head.insertBefore(F,S.querySelector("head > title"))),Hi(F,v,p),F[he]=a,Ot(F),v=F;break e;case"link":var V=xE("link","href",S).get(v+(p.href||""));if(V){for(var le=0;le<V.length;le++)if(F=V[le],F.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&F.getAttribute("rel")===(p.rel==null?null:p.rel)&&F.getAttribute("title")===(p.title==null?null:p.title)&&F.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){V.splice(le,1);break t}}F=S.createElement(v),Hi(F,v,p),S.head.appendChild(F);break;case"meta":if(V=xE("meta","content",S).get(v+(p.content||""))){for(le=0;le<V.length;le++)if(F=V[le],F.getAttribute("content")===(p.content==null?null:""+p.content)&&F.getAttribute("name")===(p.name==null?null:p.name)&&F.getAttribute("property")===(p.property==null?null:p.property)&&F.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&F.getAttribute("charset")===(p.charSet==null?null:p.charSet)){V.splice(le,1);break t}}F=S.createElement(v),Hi(F,v,p),S.head.appendChild(F);break;default:throw Error(n(468,v))}F[he]=a,Ot(F),v=F}a.stateNode=v}else wE(S,a.type,a.stateNode);else a.stateNode=mE(S,v,a.memoizedProps);else F!==v?(F===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):F.count--,v===null?wE(S,a.type,a.stateNode):mE(S,v,a.memoizedProps)):v===null&&a.stateNode!==null&&Kp(a,a.memoizedProps,p.memoizedProps)}break;case 27:js(A,a),Gs(a),v&512&&(ci||p===null||po(p,p.return)),p!==null&&v&4&&Kp(a,a.memoizedProps,p.memoizedProps);break;case 5:if(js(A,a),Gs(a),v&512&&(ci||p===null||po(p,p.return)),a.flags&32){S=a.stateNode;try{ks(S,"")}catch(Vt){An(a,a.return,Vt)}}v&4&&a.stateNode!=null&&(S=a.memoizedProps,Kp(a,S,p!==null?p.memoizedProps:S)),v&1024&&(Xp=!0);break;case 6:if(js(A,a),Gs(a),v&4){if(a.stateNode===null)throw Error(n(162));v=a.memoizedProps,p=a.stateNode;try{p.nodeValue=v}catch(Vt){An(a,a.return,Vt)}}break;case 3:if(Xd=null,S=Wa,Wa=zd(A.containerInfo),js(A,a),Wa=S,Gs(a),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Yc(A.containerInfo)}catch(Vt){An(a,a.return,Vt)}Xp&&(Xp=!1,wC(a));break;case 4:v=Wa,Wa=zd(a.stateNode.containerInfo),js(A,a),Gs(a),Wa=v;break;case 12:js(A,a),Gs(a);break;case 31:js(A,a),Gs(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Rd(a,v)));break;case 13:js(A,a),Gs(a),a.child.flags&8192&&a.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Dd=Pe()),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Rd(a,v)));break;case 22:S=a.memoizedState!==null;var Be=p!==null&&p.memoizedState!==null,Ge=Wo,at=ci;if(Wo=Ge||S,ci=at||Be,js(A,a),ci=at,Wo=Ge,Gs(a),v&8192)e:for(A=a.stateNode,A._visibility=S?A._visibility&-2:A._visibility|1,S&&(p===null||Be||Wo||ci||PA(a)),p=null,A=a;;){if(A.tag===5||A.tag===26){if(p===null){Be=p=A;try{if(F=Be.stateNode,S)V=F.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{le=Be.stateNode;var ut=Be.memoizedProps.style,qe=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;le.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(Vt){An(Be,Be.return,Vt)}}}else if(A.tag===6){if(p===null){Be=A;try{Be.stateNode.nodeValue=S?"":Be.memoizedProps}catch(Vt){An(Be,Be.return,Vt)}}}else if(A.tag===18){if(p===null){Be=A;try{var tt=Be.stateNode;S?lE(tt,!0):lE(Be.stateNode,!1)}catch(Vt){An(Be,Be.return,Vt)}}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===a)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break e;for(;A.sibling===null;){if(A.return===null||A.return===a)break e;p===A&&(p=null),A=A.return}p===A&&(p=null),A.sibling.return=A.return,A=A.sibling}v&4&&(v=a.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,Rd(a,p))));break;case 19:js(A,a),Gs(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Rd(a,v)));break;case 30:break;case 21:break;default:js(A,a),Gs(a)}}function Gs(a){var A=a.flags;if(A&2){try{for(var p,v=a.return;v!==null;){if(cC(v)){p=v;break}v=v.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var S=p.stateNode,F=zp(a);Fd(a,F,S);break;case 5:var V=p.stateNode;p.flags&32&&(ks(V,""),p.flags&=-33);var le=zp(a);Fd(a,le,V);break;case 3:case 4:var Be=p.stateNode.containerInfo,Ge=zp(a);Wp(a,Ge,Be);break;default:throw Error(n(161))}}catch(at){An(a,a.return,at)}a.flags&=-3}A&4096&&(a.flags&=-4097)}function wC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var A=a;wC(A),A.tag===5&&A.flags&1024&&A.stateNode.reset(),a=a.sibling}}function qo(a,A){if(A.subtreeFlags&8772)for(A=A.child;A!==null;)dC(a,A.alternate,A),A=A.sibling}function PA(a){for(a=a.child;a!==null;){var A=a;switch(A.tag){case 0:case 11:case 14:case 15:Nl(4,A,A.return),PA(A);break;case 1:po(A,A.return);var p=A.stateNode;typeof p.componentWillUnmount=="function"&&lC(A,A.return,p),PA(A);break;case 27:x0(A.stateNode);case 26:case 5:po(A,A.return),PA(A);break;case 22:A.memoizedState===null&&PA(A);break;case 30:PA(A);break;default:PA(A)}a=a.sibling}}function Yo(a,A,p){for(p=p&&(A.subtreeFlags&8772)!==0,A=A.child;A!==null;){var v=A.alternate,S=a,F=A,V=F.flags;switch(F.tag){case 0:case 11:case 15:Yo(S,F,p),l0(4,F);break;case 1:if(Yo(S,F,p),v=F,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ge){An(v,v.return,Ge)}if(v=F,S=v.updateQueue,S!==null){var le=v.stateNode;try{var Be=S.shared.hiddenCallbacks;if(Be!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Be.length;S++)Yv(Be[S],le)}catch(Ge){An(v,v.return,Ge)}}p&&V&64&&oC(F),A0(F,F.return);break;case 27:uC(F);case 26:case 5:Yo(S,F,p),p&&v===null&&V&4&&AC(F),A0(F,F.return);break;case 12:Yo(S,F,p);break;case 31:Yo(S,F,p),p&&V&4&&pC(S,F);break;case 13:Yo(S,F,p),p&&V&4&&mC(S,F);break;case 22:F.memoizedState===null&&Yo(S,F,p),A0(F,F.return);break;case 30:break;default:Yo(S,F,p)}A=A.sibling}}function qp(a,A){var p=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),a=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(a=A.memoizedState.cachePool.pool),a!==p&&(a!=null&&a.refCount++,p!=null&&qu(p))}function Yp(a,A){a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&qu(a))}function Xa(a,A,p,v){if(A.subtreeFlags&10256)for(A=A.child;A!==null;)vC(a,A,p,v),A=A.sibling}function vC(a,A,p,v){var S=A.flags;switch(A.tag){case 0:case 11:case 15:Xa(a,A,p,v),S&2048&&l0(9,A);break;case 1:Xa(a,A,p,v);break;case 3:Xa(a,A,p,v),S&2048&&(a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&qu(a)));break;case 12:if(S&2048){Xa(a,A,p,v),a=A.stateNode;try{var F=A.memoizedProps,V=F.id,le=F.onPostCommit;typeof le=="function"&&le(V,A.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Be){An(A,A.return,Be)}}else Xa(a,A,p,v);break;case 31:Xa(a,A,p,v);break;case 13:Xa(a,A,p,v);break;case 23:break;case 22:F=A.stateNode,V=A.alternate,A.memoizedState!==null?F._visibility&2?Xa(a,A,p,v):c0(a,A):F._visibility&2?Xa(a,A,p,v):(F._visibility|=2,Qc(a,A,p,v,(A.subtreeFlags&10256)!==0||!1)),S&2048&&qp(V,A);break;case 24:Xa(a,A,p,v),S&2048&&Yp(A.alternate,A);break;default:Xa(a,A,p,v)}}function Qc(a,A,p,v,S){for(S=S&&((A.subtreeFlags&10256)!==0||!1),A=A.child;A!==null;){var F=a,V=A,le=p,Be=v,Ge=V.flags;switch(V.tag){case 0:case 11:case 15:Qc(F,V,le,Be,S),l0(8,V);break;case 23:break;case 22:var at=V.stateNode;V.memoizedState!==null?at._visibility&2?Qc(F,V,le,Be,S):c0(F,V):(at._visibility|=2,Qc(F,V,le,Be,S)),S&&Ge&2048&&qp(V.alternate,V);break;case 24:Qc(F,V,le,Be,S),S&&Ge&2048&&Yp(V.alternate,V);break;default:Qc(F,V,le,Be,S)}A=A.sibling}}function c0(a,A){if(A.subtreeFlags&10256)for(A=A.child;A!==null;){var p=a,v=A,S=v.flags;switch(v.tag){case 22:c0(p,v),S&2048&&qp(v.alternate,v);break;case 24:c0(p,v),S&2048&&Yp(v.alternate,v);break;default:c0(p,v)}A=A.sibling}}var u0=8192;function Pc(a,A,p){if(a.subtreeFlags&u0)for(a=a.child;a!==null;)yC(a,A,p),a=a.sibling}function yC(a,A,p){switch(a.tag){case 26:Pc(a,A,p),a.flags&u0&&a.memoizedState!==null&&LR(p,Wa,a.memoizedState,a.memoizedProps);break;case 5:Pc(a,A,p);break;case 3:case 4:var v=Wa;Wa=zd(a.stateNode.containerInfo),Pc(a,A,p),Wa=v;break;case 22:a.memoizedState===null&&(v=a.alternate,v!==null&&v.memoizedState!==null?(v=u0,u0=16777216,Pc(a,A,p),u0=v):Pc(a,A,p));break;default:Pc(a,A,p)}}function CC(a){var A=a.alternate;if(A!==null&&(a=A.child,a!==null)){A.child=null;do A=a.sibling,a.sibling=null,a=A;while(a!==null)}}function f0(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var p=0;p<A.length;p++){var v=A[p];Si=v,bC(v,a)}CC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)EC(a),a=a.sibling}function EC(a){switch(a.tag){case 0:case 11:case 15:f0(a),a.flags&2048&&Nl(9,a,a.return);break;case 3:f0(a);break;case 12:f0(a);break;case 22:var A=a.stateNode;a.memoizedState!==null&&A._visibility&2&&(a.return===null||a.return.tag!==13)?(A._visibility&=-3,kd(a)):f0(a);break;default:f0(a)}}function kd(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var p=0;p<A.length;p++){var v=A[p];Si=v,bC(v,a)}CC(a)}for(a=a.child;a!==null;){switch(A=a,A.tag){case 0:case 11:case 15:Nl(8,A,A.return),kd(A);break;case 22:p=A.stateNode,p._visibility&2&&(p._visibility&=-3,kd(A));break;default:kd(A)}a=a.sibling}}function bC(a,A){for(;Si!==null;){var p=Si;switch(p.tag){case 0:case 11:case 15:Nl(8,p,A);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:qu(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Si=v;else e:for(p=a;Si!==null;){v=Si;var S=v.sibling,F=v.return;if(hC(v),v===p){Si=null;break e}if(S!==null){S.return=F,Si=S;break e}Si=F}}}var $8={getCacheForType:function(a){var A=Qi(oi),p=A.data.get(a);return p===void 0&&(p=a(),A.data.set(a,p)),p},cacheSignal:function(){return Qi(oi).controller.signal}},eR=typeof WeakMap=="function"?WeakMap:Map,Zr=0,yn=null,Tr=null,Nr=0,ln=0,oa=null,Fl=!1,Hc=!1,Jp=!1,Jo=0,Wn=0,Rl=0,HA=0,Zp=0,la=0,Vc=0,d0=null,Ks=null,$p=!1,Dd=0,BC=0,Ud=1/0,Md=null,kl=null,wi=0,Dl=null,jc=null,Zo=0,em=0,tm=null,_C=null,h0=0,rm=null;function Aa(){return(Zr&2)!==0&&Nr!==0?Nr&-Nr:ge.T!==null?lm():ie()}function TC(){if(la===0)if((Nr&536870912)===0||Ur){var a=it;it<<=1,(it&3932160)===0&&(it=262144),la=a}else la=536870912;return a=sa.current,a!==null&&(a.flags|=32),la}function zs(a,A,p){(a===yn&&(ln===2||ln===9)||a.cancelPendingCommit!==null)&&(Gc(a,0),Ul(a,Nr,la,!1)),gs(a,p),((Zr&2)===0||a!==yn)&&(a===yn&&((Zr&2)===0&&(HA|=p),Wn===4&&Ul(a,Nr,la,!1)),mo(a))}function SC(a,A,p){if((Zr&6)!==0)throw Error(n(327));var v=!p&&(A&127)===0&&(A&a.expiredLanes)===0||sn(a,A),S=v?nR(a,A):im(a,A,!0),F=v;do{if(S===0){Hc&&!v&&Ul(a,A,0,!1);break}else{if(p=a.current.alternate,F&&!tR(p)){S=im(a,A,!1),F=!1;continue}if(S===2){if(F=A,a.errorRecoveryDisabledLanes&F)var V=0;else V=a.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){A=V;e:{var le=a;S=d0;var Be=le.current.memoizedState.isDehydrated;if(Be&&(Gc(le,V).flags|=256),V=im(le,V,!1),V!==2){if(Jp&&!Be){le.errorRecoveryDisabledLanes|=F,HA|=F,S=4;break e}F=Ks,Ks=S,F!==null&&(Ks===null?Ks=F:Ks.push.apply(Ks,F))}S=V}if(F=!1,S!==2)continue}}if(S===1){Gc(a,0),Ul(a,A,0,!0);break}e:{switch(v=a,F=S,F){case 0:case 1:throw Error(n(345));case 4:if((A&4194048)!==A)break;case 6:Ul(v,A,la,!Fl);break e;case 2:Ks=null;break;case 3:case 5:break;default:throw Error(n(329))}if((A&62914560)===A&&(S=Dd+300-Pe(),10<S)){if(Ul(v,A,la,!Fl),Jr(v,0,!0)!==0)break e;Zo=A,v.timeoutHandle=sE(IC.bind(null,v,p,Ks,Md,$p,A,la,HA,Vc,Fl,F,"Throttled",-0,0),S);break e}IC(v,p,Ks,Md,$p,A,la,HA,Vc,Fl,F,null,-0,0)}}break}while(!0);mo(a)}function IC(a,A,p,v,S,F,V,le,Be,Ge,at,ut,qe,tt){if(a.timeoutHandle=-1,ut=A.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},yC(A,F,ut);var Vt=(F&62914560)===F?Dd-Pe():(F&4194048)===F?BC-Pe():0;if(Vt=QR(ut,Vt),Vt!==null){Zo=F,a.cancelPendingCommit=Vt(OC.bind(null,a,A,F,p,v,S,V,le,Be,at,ut,null,qe,tt)),Ul(a,F,V,!Ge);return}}OC(a,A,F,p,v,S,V,le,Be)}function tR(a){for(var A=a;;){var p=A.tag;if((p===0||p===11||p===15)&&A.flags&16384&&(p=A.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var S=p[v],F=S.getSnapshot;S=S.value;try{if(!y(F(),S))return!1}catch{return!1}}if(p=A.child,A.subtreeFlags&16384&&p!==null)p.return=A,A=p;else{if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return!0;A=A.return}A.sibling.return=A.return,A=A.sibling}}return!0}function Ul(a,A,p,v){A&=~Zp,A&=~HA,a.suspendedLanes|=A,a.pingedLanes&=~A,v&&(a.warmLanes|=A),v=a.expirationTimes;for(var S=A;0<S;){var F=31-jt(S),V=1<<F;v[F]=-1,S&=~V}p!==0&&No(a,p,A)}function Od(){return(Zr&6)===0?(g0(0),!1):!0}function nm(){if(Tr!==null){if(ln===0)var a=Tr.return;else a=Tr,Ho=RA=null,wp(a),Dc=null,Ju=0,a=Tr;for(;a!==null;)aC(a.alternate,a),a=a.return;Tr=null}}function Gc(a,A){var p=a.timeoutHandle;p!==-1&&(a.timeoutHandle=-1,yR(p)),p=a.cancelPendingCommit,p!==null&&(a.cancelPendingCommit=null,p()),Zo=0,nm(),yn=a,Tr=p=Qo(a.current,null),Nr=A,ln=0,oa=null,Fl=!1,Hc=sn(a,A),Jp=!1,Vc=la=Zp=HA=Rl=Wn=0,Ks=d0=null,$p=!1,(A&8)!==0&&(A|=A&32);var v=a.entangledLanes;if(v!==0)for(a=a.entanglements,v&=A;0<v;){var S=31-jt(v),F=1<<S;A|=a[S],v&=~F}return Jo=A,id(),p}function NC(a,A){yr=null,ge.H=s0,A===kc||A===fd?(A=zv(),ln=3):A===op?(A=zv(),ln=4):ln=A===Up?8:A!==null&&typeof A=="object"&&typeof A.then=="function"?6:1,oa=A,Tr===null&&(Wn=1,_d(a,Ea(A,a.current)))}function FC(){var a=sa.current;return a===null?!0:(Nr&4194048)===Nr?Ta===null:(Nr&62914560)===Nr||(Nr&536870912)!==0?a===Ta:!1}function RC(){var a=ge.H;return ge.H=s0,a===null?s0:a}function kC(){var a=ge.A;return ge.A=$8,a}function Ld(){Wn=4,Fl||(Nr&4194048)!==Nr&&sa.current!==null||(Hc=!0),(Rl&134217727)===0&&(HA&134217727)===0||yn===null||Ul(yn,Nr,la,!1)}function im(a,A,p){var v=Zr;Zr|=2;var S=RC(),F=kC();(yn!==a||Nr!==A)&&(Md=null,Gc(a,A)),A=!1;var V=Wn;e:do try{if(ln!==0&&Tr!==null){var le=Tr,Be=oa;switch(ln){case 8:nm(),V=6;break e;case 3:case 2:case 9:case 6:sa.current===null&&(A=!0);var Ge=ln;if(ln=0,oa=null,Kc(a,le,Be,Ge),p&&Hc){V=0;break e}break;default:Ge=ln,ln=0,oa=null,Kc(a,le,Be,Ge)}}rR(),V=Wn;break}catch(at){NC(a,at)}while(!0);return A&&a.shellSuspendCounter++,Ho=RA=null,Zr=v,ge.H=S,ge.A=F,Tr===null&&(yn=null,Nr=0,id()),V}function rR(){for(;Tr!==null;)DC(Tr)}function nR(a,A){var p=Zr;Zr|=2;var v=RC(),S=kC();yn!==a||Nr!==A?(Md=null,Ud=Pe()+500,Gc(a,A)):Hc=sn(a,A);e:do try{if(ln!==0&&Tr!==null){A=Tr;var F=oa;t:switch(ln){case 1:ln=0,oa=null,Kc(a,A,F,1);break;case 2:case 9:if(Gv(F)){ln=0,oa=null,UC(A);break}A=function(){ln!==2&&ln!==9||yn!==a||(ln=7),mo(a)},F.then(A,A);break e;case 3:ln=7;break e;case 4:ln=5;break e;case 7:Gv(F)?(ln=0,oa=null,UC(A)):(ln=0,oa=null,Kc(a,A,F,7));break;case 5:var V=null;switch(Tr.tag){case 26:V=Tr.memoizedState;case 5:case 27:var le=Tr;if(V?vE(V):le.stateNode.complete){ln=0,oa=null;var Be=le.sibling;if(Be!==null)Tr=Be;else{var Ge=le.return;Ge!==null?(Tr=Ge,Qd(Ge)):Tr=null}break t}}ln=0,oa=null,Kc(a,A,F,5);break;case 6:ln=0,oa=null,Kc(a,A,F,6);break;case 8:nm(),Wn=6;break e;default:throw Error(n(462))}}iR();break}catch(at){NC(a,at)}while(!0);return Ho=RA=null,ge.H=v,ge.A=S,Zr=p,Tr!==null?0:(yn=null,Nr=0,id(),Wn)}function iR(){for(;Tr!==null&&!un();)DC(Tr)}function DC(a){var A=iC(a.alternate,a,Jo);a.memoizedProps=a.pendingProps,A===null?Qd(a):Tr=A}function UC(a){var A=a,p=A.alternate;switch(A.tag){case 15:case 0:A=Zy(p,A,A.pendingProps,A.type,void 0,Nr);break;case 11:A=Zy(p,A,A.pendingProps,A.type.render,A.ref,Nr);break;case 5:wp(A);default:aC(p,A),A=Tr=kv(A,Jo),A=iC(p,A,Jo)}a.memoizedProps=a.pendingProps,A===null?Qd(a):Tr=A}function Kc(a,A,p,v){Ho=RA=null,wp(A),Dc=null,Ju=0;var S=A.return;try{if(z8(a,S,A,p,Nr)){Wn=1,_d(a,Ea(p,a.current)),Tr=null;return}}catch(F){if(S!==null)throw Tr=S,F;Wn=1,_d(a,Ea(p,a.current)),Tr=null;return}A.flags&32768?(Ur||v===1?a=!0:Hc||(Nr&536870912)!==0?a=!1:(Fl=a=!0,(v===2||v===9||v===3||v===6)&&(v=sa.current,v!==null&&v.tag===13&&(v.flags|=16384))),MC(A,a)):Qd(A)}function Qd(a){var A=a;do{if((A.flags&32768)!==0){MC(A,Fl);return}a=A.return;var p=q8(A.alternate,A,Jo);if(p!==null){Tr=p;return}if(A=A.sibling,A!==null){Tr=A;return}Tr=A=a}while(A!==null);Wn===0&&(Wn=5)}function MC(a,A){do{var p=Y8(a.alternate,a);if(p!==null){p.flags&=32767,Tr=p;return}if(p=a.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!A&&(a=a.sibling,a!==null)){Tr=a;return}Tr=a=p}while(a!==null);Wn=6,Tr=null}function OC(a,A,p,v,S,F,V,le,Be){a.cancelPendingCommit=null;do Pd();while(wi!==0);if((Zr&6)!==0)throw Error(n(327));if(A!==null){if(A===a.current)throw Error(n(177));if(F=A.lanes|A.childLanes,F|=zg,$r(a,p,F,V,le,Be),a===yn&&(Tr=yn=null,Nr=0),jc=A,Dl=a,Zo=p,em=F,tm=S,_C=v,(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,lR(tr,function(){return VC(),null})):(a.callbackNode=null,a.callbackPriority=0),v=(A.flags&13878)!==0,(A.subtreeFlags&13878)!==0||v){v=ge.T,ge.T=null,S=ye.p,ye.p=2,V=Zr,Zr|=4;try{J8(a,A,p)}finally{Zr=V,ye.p=S,ge.T=v}}wi=1,LC(),QC(),PC()}}function LC(){if(wi===1){wi=0;var a=Dl,A=jc,p=(A.flags&13878)!==0;if((A.subtreeFlags&13878)!==0||p){p=ge.T,ge.T=null;var v=ye.p;ye.p=2;var S=Zr;Zr|=4;try{xC(A,a);var F=pm,V=Z(a.containerInfo),le=F.focusedElem,Be=F.selectionRange;if(V!==le&&le&&le.ownerDocument&&H(le.ownerDocument.documentElement,le)){if(Be!==null&&ae(le)){var Ge=Be.start,at=Be.end;if(at===void 0&&(at=Ge),"selectionStart"in le)le.selectionStart=Ge,le.selectionEnd=Math.min(at,le.value.length);else{var ut=le.ownerDocument||document,qe=ut&&ut.defaultView||window;if(qe.getSelection){var tt=qe.getSelection(),Vt=le.textContent.length,nr=Math.min(Be.start,Vt),mn=Be.end===void 0?nr:Math.min(Be.end,Vt);!tt.extend&&nr>mn&&(V=mn,mn=nr,nr=V);var De=D(le,nr),Fe=D(le,mn);if(De&&Fe&&(tt.rangeCount!==1||tt.anchorNode!==De.node||tt.anchorOffset!==De.offset||tt.focusNode!==Fe.node||tt.focusOffset!==Fe.offset)){var je=ut.createRange();je.setStart(De.node,De.offset),tt.removeAllRanges(),nr>mn?(tt.addRange(je),tt.extend(Fe.node,Fe.offset)):(je.setEnd(Fe.node,Fe.offset),tt.addRange(je))}}}}for(ut=[],tt=le;tt=tt.parentNode;)tt.nodeType===1&&ut.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<ut.length;le++){var ct=ut[le];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}Zd=!!gm,pm=gm=null}finally{Zr=S,ye.p=v,ge.T=p}}a.current=A,wi=2}}function QC(){if(wi===2){wi=0;var a=Dl,A=jc,p=(A.flags&8772)!==0;if((A.subtreeFlags&8772)!==0||p){p=ge.T,ge.T=null;var v=ye.p;ye.p=2;var S=Zr;Zr|=4;try{dC(a,A.alternate,A)}finally{Zr=S,ye.p=v,ge.T=p}}wi=3}}function PC(){if(wi===4||wi===3){wi=0,nn();var a=Dl,A=jc,p=Zo,v=_C;(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?wi=5:(wi=0,jc=Dl=null,HC(a,a.pendingLanes));var S=a.pendingLanes;if(S===0&&(kl=null),ps(p),A=A.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Gt,A,void 0,(A.current.flags&128)===128)}catch{}if(v!==null){A=ge.T,S=ye.p,ye.p=2,ge.T=null;try{for(var F=a.onRecoverableError,V=0;V<v.length;V++){var le=v[V];F(le.value,{componentStack:le.stack})}}finally{ge.T=A,ye.p=S}}(Zo&3)!==0&&Pd(),mo(a),S=a.pendingLanes,(p&261930)!==0&&(S&42)!==0?a===rm?h0++:(h0=0,rm=a):h0=0,g0(0)}}function HC(a,A){(a.pooledCacheLanes&=A)===0&&(A=a.pooledCache,A!=null&&(a.pooledCache=null,qu(A)))}function Pd(){return LC(),QC(),PC(),VC()}function VC(){if(wi!==5)return!1;var a=Dl,A=em;em=0;var p=ps(Zo),v=ge.T,S=ye.p;try{ye.p=32>p?32:p,ge.T=null,p=tm,tm=null;var F=Dl,V=Zo;if(wi=0,jc=Dl=null,Zo=0,(Zr&6)!==0)throw Error(n(331));var le=Zr;if(Zr|=4,EC(F.current),vC(F,F.current,V,p),Zr=le,g0(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Gt,F)}catch{}return!0}finally{ye.p=S,ge.T=v,HC(a,A)}}function jC(a,A,p){A=Ea(p,A),A=Dp(a.stateNode,A,2),a=Tl(a,A,2),a!==null&&(gs(a,2),mo(a))}function An(a,A,p){if(a.tag===3)jC(a,a,p);else for(;A!==null;){if(A.tag===3){jC(A,a,p);break}else if(A.tag===1){var v=A.stateNode;if(typeof A.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(kl===null||!kl.has(v))){a=Ea(p,a),p=Gy(2),v=Tl(A,p,2),v!==null&&(Ky(p,v,A,a),gs(v,2),mo(v));break}}A=A.return}}function sm(a,A,p){var v=a.pingCache;if(v===null){v=a.pingCache=new eR;var S=new Set;v.set(A,S)}else S=v.get(A),S===void 0&&(S=new Set,v.set(A,S));S.has(p)||(Jp=!0,S.add(p),a=sR.bind(null,a,A,p),A.then(a,a))}function sR(a,A,p){var v=a.pingCache;v!==null&&v.delete(A),a.pingedLanes|=a.suspendedLanes&p,a.warmLanes&=~p,yn===a&&(Nr&p)===p&&(Wn===4||Wn===3&&(Nr&62914560)===Nr&&300>Pe()-Dd?(Zr&2)===0&&Gc(a,0):Zp|=p,Vc===Nr&&(Vc=0)),mo(a)}function GC(a,A){A===0&&(A=Nn()),a=IA(a,A),a!==null&&(gs(a,A),mo(a))}function aR(a){var A=a.memoizedState,p=0;A!==null&&(p=A.retryLane),GC(a,p)}function oR(a,A){var p=0;switch(a.tag){case 31:case 13:var v=a.stateNode,S=a.memoizedState;S!==null&&(p=S.retryLane);break;case 19:v=a.stateNode;break;case 22:v=a.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(A),GC(a,p)}function lR(a,A){return wr(a,A)}var Hd=null,zc=null,am=!1,Vd=!1,om=!1,Ml=0;function mo(a){a!==zc&&a.next===null&&(zc===null?Hd=zc=a:zc=zc.next=a),Vd=!0,am||(am=!0,cR())}function g0(a,A){if(!om&&Vd){om=!0;do for(var p=!1,v=Hd;v!==null;){if(a!==0){var S=v.pendingLanes;if(S===0)var F=0;else{var V=v.suspendedLanes,le=v.pingedLanes;F=(1<<31-jt(42|a)+1)-1,F&=S&~(V&~le),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(p=!0,XC(v,F))}else F=Nr,F=Jr(v,v===yn?F:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(F&3)===0||sn(v,F)||(p=!0,XC(v,F));v=v.next}while(p);om=!1}}function AR(){KC()}function KC(){Vd=am=!1;var a=0;Ml!==0&&vR()&&(a=Ml);for(var A=Pe(),p=null,v=Hd;v!==null;){var S=v.next,F=zC(v,A);F===0?(v.next=null,p===null?Hd=S:p.next=S,S===null&&(zc=p)):(p=v,(a!==0||(F&3)!==0)&&(Vd=!0)),v=S}wi!==0&&wi!==5||g0(a),Ml!==0&&(Ml=0)}function zC(a,A){for(var p=a.suspendedLanes,v=a.pingedLanes,S=a.expirationTimes,F=a.pendingLanes&-62914561;0<F;){var V=31-jt(F),le=1<<V,Be=S[V];Be===-1?((le&p)===0||(le&v)!==0)&&(S[V]=Ns(le,A)):Be<=A&&(a.expiredLanes|=le),F&=~le}if(A=yn,p=Nr,p=Jr(a,a===A?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v=a.callbackNode,p===0||a===A&&(ln===2||ln===9)||a.cancelPendingCommit!==null)return v!==null&&v!==null&&Tt(v),a.callbackNode=null,a.callbackPriority=0;if((p&3)===0||sn(a,p)){if(A=p&-p,A===a.callbackPriority)return A;switch(v!==null&&Tt(v),ps(p)){case 2:case 8:p=kt;break;case 32:p=tr;break;case 268435456:p=bt;break;default:p=tr}return v=WC.bind(null,a),p=wr(p,v),a.callbackPriority=A,a.callbackNode=p,A}return v!==null&&v!==null&&Tt(v),a.callbackPriority=2,a.callbackNode=null,2}function WC(a,A){if(wi!==0&&wi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var p=a.callbackNode;if(Pd()&&a.callbackNode!==p)return null;var v=Nr;return v=Jr(a,a===yn?v:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v===0?null:(SC(a,v,A),zC(a,Pe()),a.callbackNode!=null&&a.callbackNode===p?WC.bind(null,a):null)}function XC(a,A){if(Pd())return null;SC(a,A,!0)}function cR(){CR(function(){(Zr&6)!==0?wr(lt,AR):KC()})}function lm(){if(Ml===0){var a=Fc;a===0&&(a=ft,ft<<=1,(ft&261888)===0&&(ft=256)),Ml=a}return Ml}function qC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ds(""+a)}function YC(a,A){var p=A.ownerDocument.createElement("input");return p.name=A.name,p.value=A.value,a.id&&p.setAttribute("form",a.id),A.parentNode.insertBefore(p,A),a=new FormData(a),p.parentNode.removeChild(p),a}function uR(a,A,p,v,S){if(A==="submit"&&p&&p.stateNode===S){var F=qC((S[pe]||null).action),V=v.submitter;V&&(A=(A=V[pe]||null)?qC(A.formAction):V.getAttribute("formAction"),A!==null&&(F=A,V=null));var le=new jn("action","action",null,v,S);a.push({event:le,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Ml!==0){var Be=V?YC(S,V):new FormData(S);Sp(p,{pending:!0,data:Be,method:S.method,action:F},null,Be)}}else typeof F=="function"&&(le.preventDefault(),Be=V?YC(S,V):new FormData(S),Sp(p,{pending:!0,data:Be,method:S.method,action:F},F,Be))},currentTarget:S}]})}}for(var Am=0;Am<zu.length;Am++){var cm=zu[Am],fR=cm.toLowerCase(),dR=cm[0].toUpperCase()+cm.slice(1);za(fR,"on"+dR)}za(Hs,"onAnimationEnd"),za(Oi,"onAnimationIteration"),za(tn,"onAnimationStart"),za("dblclick","onDoubleClick"),za("focusin","onFocus"),za("focusout","onBlur"),za(xi,"onTransitionRun"),za(ws,"onTransitionStart"),za(vl,"onTransitionCancel"),za(Lo,"onTransitionEnd"),Un("onMouseEnter",["mouseout","mouseover"]),Un("onMouseLeave",["mouseout","mouseover"]),Un("onPointerEnter",["pointerout","pointerover"]),Un("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var p0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(p0));function JC(a,A){A=(A&4)!==0;for(var p=0;p<a.length;p++){var v=a[p],S=v.event;v=v.listeners;e:{var F=void 0;if(A)for(var V=v.length-1;0<=V;V--){var le=v[V],Be=le.instance,Ge=le.currentTarget;if(le=le.listener,Be!==F&&S.isPropagationStopped())break e;F=le,S.currentTarget=Ge;try{F(S)}catch(at){nd(at)}S.currentTarget=null,F=Be}else for(V=0;V<v.length;V++){if(le=v[V],Be=le.instance,Ge=le.currentTarget,le=le.listener,Be!==F&&S.isPropagationStopped())break e;F=le,S.currentTarget=Ge;try{F(S)}catch(at){nd(at)}S.currentTarget=null,F=Be}}}}function Sr(a,A){var p=A[Ve];p===void 0&&(p=A[Ve]=new Set);var v=a+"__bubble";p.has(v)||(ZC(A,a,2,!1),p.add(v))}function um(a,A,p){var v=0;A&&(v|=4),ZC(p,a,v,A)}var jd="_reactListening"+Math.random().toString(36).slice(2);function fm(a){if(!a[jd]){a[jd]=!0,nt.forEach(function(p){p!=="selectionchange"&&(hR.has(p)||um(p,!1,a),um(p,!0,a))});var A=a.nodeType===9?a:a.ownerDocument;A===null||A[jd]||(A[jd]=!0,um("selectionchange",!1,A))}}function ZC(a,A,p,v){switch(TE(A)){case 2:var S=VR;break;case 8:S=jR;break;default:S=Tm}p=S.bind(null,A,p,a),S=void 0,!CA||A!=="touchstart"&&A!=="touchmove"&&A!=="wheel"||(S=!0),v?S!==void 0?a.addEventListener(A,p,{capture:!0,passive:S}):a.addEventListener(A,p,!0):S!==void 0?a.addEventListener(A,p,{passive:S}):a.addEventListener(A,p,!1)}function dm(a,A,p,v,S){var F=v;if((A&1)===0&&(A&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var le=v.stateNode.containerInfo;if(le===S)break;if(V===4)for(V=v.return;V!==null;){var Be=V.tag;if((Be===3||Be===4)&&V.stateNode.containerInfo===S)return;V=V.return}for(;le!==null;){if(V=xt(le),V===null)return;if(Be=V.tag,Be===5||Be===6||Be===26||Be===27){v=F=V;continue e}le=le.parentNode}}v=v.return}yc(function(){var Ge=F,at=xl(p),ut=[];e:{var qe=rd.get(a);if(qe!==void 0){var tt=jn,Vt=a;switch(a){case"keypress":if(ra(p)===0)break e;case"keydown":case"keyup":tt=Uo;break;case"focusin":Vt="focus",tt=uo;break;case"focusout":Vt="blur",tt=uo;break;case"beforeblur":case"afterblur":tt=uo;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Ec;break;case Hs:case Oi:case tn:tt=or;break;case Lo:tt=Ps;break;case"scroll":case"scrollend":tt=EA;break;case"wheel":tt=bc;break;case"copy":case"cut":case"paste":tt=ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Vr;break;case"toggle":case"beforetoggle":tt=ya}var nr=(A&4)!==0,mn=!nr&&(a==="scroll"||a==="scrollend"),De=nr?qe!==null?qe+"Capture":null:qe;nr=[];for(var Fe=Ge,je;Fe!==null;){var ct=Fe;if(je=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||je===null||De===null||(ct=$t(Fe,De),ct!=null&&nr.push(m0(Fe,ct,je))),mn)break;Fe=Fe.return}0<nr.length&&(qe=new tt(qe,Vt,null,p,at),ut.push({event:qe,listeners:nr}))}}if((A&7)===0){e:{if(qe=a==="mouseover"||a==="pointerover",tt=a==="mouseout"||a==="pointerout",qe&&p!==Ao&&(Vt=p.relatedTarget||p.fromElement)&&(xt(Vt)||Vt[ve]))break e;if((tt||qe)&&(qe=at.window===at?at:(qe=at.ownerDocument)?qe.defaultView||qe.parentWindow:window,tt?(Vt=p.relatedTarget||p.toElement,tt=Ge,Vt=Vt?xt(Vt):null,Vt!==null&&(mn=s(Vt),nr=Vt.tag,Vt!==mn||nr!==5&&nr!==27&&nr!==6)&&(Vt=null)):(tt=null,Vt=Ge),tt!==Vt)){if(nr=Hr,ct="onMouseLeave",De="onMouseEnter",Fe="mouse",(a==="pointerout"||a==="pointerover")&&(nr=Vr,ct="onPointerLeave",De="onPointerEnter",Fe="pointer"),mn=tt==null?qe:Ct(tt),je=Vt==null?qe:Ct(Vt),qe=new nr(ct,Fe+"leave",tt,p,at),qe.target=mn,qe.relatedTarget=je,ct=null,xt(at)===Ge&&(nr=new nr(De,Fe+"enter",Vt,p,at),nr.target=je,nr.relatedTarget=mn,ct=nr),mn=ct,tt&&Vt)t:{for(nr=gR,De=tt,Fe=Vt,je=0,ct=De;ct;ct=nr(ct))je++;ct=0;for(var er=Fe;er;er=nr(er))ct++;for(;0<je-ct;)De=nr(De),je--;for(;0<ct-je;)Fe=nr(Fe),ct--;for(;je--;){if(De===Fe||Fe!==null&&De===Fe.alternate){nr=De;break t}De=nr(De),Fe=nr(Fe)}nr=null}else nr=null;tt!==null&&$C(ut,qe,tt,nr,!1),Vt!==null&&mn!==null&&$C(ut,mn,Vt,nr,!0)}}e:{if(qe=Ge?Ct(Ge):window,tt=qe.nodeName&&qe.nodeName.toLowerCase(),tt==="select"||tt==="input"&&qe.type==="file")var Wr=na;else if(Mi(qe))if(td)Wr=x;else{Wr=u;var zt=o}else tt=qe.nodeName,!tt||tt.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?Ge&&an(Ge.elementType)&&(Wr=na):Wr=h;if(Wr&&(Wr=Wr(a,Ge))){Ti(ut,Wr,p,at);break e}zt&&zt(a,qe,Ge),a==="focusout"&&Ge&&qe.type==="number"&&Ge.memoizedProps.value!=null&&me(qe,"number",qe.value)}switch(zt=Ge?Ct(Ge):window,a){case"focusin":(Mi(zt)||zt.contentEditable==="true")&&(_e=zt,Se=Ge,Ue=null);break;case"focusout":Ue=Se=_e=null;break;case"mousedown":Ze=!0;break;case"contextmenu":case"mouseup":case"dragend":Ze=!1,Bt(ut,p,at);break;case"selectionchange":if(we)break;case"keydown":case"keyup":Bt(ut,p,at)}var Br;if(L)e:{switch(a){case"compositionstart":var Fr="onCompositionStart";break e;case"compositionend":Fr="onCompositionEnd";break e;case"compositionupdate":Fr="onCompositionUpdate";break e}Fr=void 0}else br?zr(a,p)&&(Fr="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(Fr="onCompositionStart");Fr&&(Oe&&p.locale!=="ko"&&(br||Fr!=="onCompositionStart"?Fr==="onCompositionEnd"&&br&&(Br=Os()):($i=at,Ms="value"in $i?$i.value:$i.textContent,br=!0)),zt=Gd(Ge,Fr),0<zt.length&&(Fr=new bA(Fr,a,null,p,at),ut.push({event:Fr,listeners:zt}),Br?Fr.data=Br:(Br=En(p),Br!==null&&(Fr.data=Br)))),(Br=fe?vn(a,p):On(a,p))&&(Fr=Gd(Ge,"onBeforeInput"),0<Fr.length&&(zt=new bA("onBeforeInput","beforeinput",null,p,at),ut.push({event:zt,listeners:Fr}),zt.data=Br)),uR(ut,a,Ge,p,at)}JC(ut,A)})}function m0(a,A,p){return{instance:a,listener:A,currentTarget:p}}function Gd(a,A){for(var p=A+"Capture",v=[];a!==null;){var S=a,F=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||F===null||(S=$t(a,p),S!=null&&v.unshift(m0(a,S,F)),S=$t(a,A),S!=null&&v.push(m0(a,S,F))),a.tag===3)return v;a=a.return}return[]}function gR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function $C(a,A,p,v,S){for(var F=A._reactName,V=[];p!==null&&p!==v;){var le=p,Be=le.alternate,Ge=le.stateNode;if(le=le.tag,Be!==null&&Be===v)break;le!==5&&le!==26&&le!==27||Ge===null||(Be=Ge,S?(Ge=$t(p,F),Ge!=null&&V.unshift(m0(p,Ge,Be))):S||(Ge=$t(p,F),Ge!=null&&V.push(m0(p,Ge,Be)))),p=p.return}V.length!==0&&a.push({event:A,listeners:V})}var pR=/\r\n?/g,mR=/\u0000|\uFFFD/g;function eE(a){return(typeof a=="string"?a:""+a).replace(pR,`
`).replace(mR,"")}function tE(a,A){return A=eE(A),eE(a)===A}function pn(a,A,p,v,S,F){switch(p){case"children":typeof v=="string"?A==="body"||A==="textarea"&&v===""||ks(a,v):(typeof v=="number"||typeof v=="bigint")&&A!=="body"&&ks(a,""+v);break;case"className":xa(a,"class",v);break;case"tabIndex":xa(a,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(a,p,v);break;case"style":qt(a,v,F);break;case"data":if(A!=="object"){xa(a,"data",v);break}case"src":case"href":if(v===""&&(A!=="a"||p!=="href")){a.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(p);break}v=Ds(""+v),a.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){a.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(p==="formAction"?(A!=="input"&&pn(a,A,"name",S.name,S,null),pn(a,A,"formEncType",S.formEncType,S,null),pn(a,A,"formMethod",S.formMethod,S,null),pn(a,A,"formTarget",S.formTarget,S,null)):(pn(a,A,"encType",S.encType,S,null),pn(a,A,"method",S.method,S,null),pn(a,A,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(p);break}v=Ds(""+v),a.setAttribute(p,v);break;case"onClick":v!=null&&(a.onclick=Mn);break;case"onScroll":v!=null&&Sr("scroll",a);break;case"onScrollEnd":v!=null&&Sr("scrollend",a);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(n(60));a.innerHTML=p}}break;case"multiple":a.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":a.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){a.removeAttribute("xlink:href");break}p=Ds(""+v),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(p,""+v):a.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(p,""):a.removeAttribute(p);break;case"capture":case"download":v===!0?a.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(p,v):a.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?a.setAttribute(p,v):a.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?a.removeAttribute(p):a.setAttribute(p,v);break;case"popover":Sr("beforetoggle",a),Sr("toggle",a),Hn(a,"popover",v);break;case"xlinkActuate":Ji(a,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Ji(a,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Ji(a,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Ji(a,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Ji(a,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Ji(a,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Ji(a,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Ji(a,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Ji(a,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Hn(a,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=vc.get(p)||p,Hn(a,p,v))}}function hm(a,A,p,v,S,F){switch(p){case"style":qt(a,v,F);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(n(60));a.innerHTML=p}}break;case"children":typeof v=="string"?ks(a,v):(typeof v=="number"||typeof v=="bigint")&&ks(a,""+v);break;case"onScroll":v!=null&&Sr("scroll",a);break;case"onScrollEnd":v!=null&&Sr("scrollend",a);break;case"onClick":v!=null&&(a.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),A=p.slice(2,S?p.length-7:void 0),F=a[pe]||null,F=F!=null?F[p]:null,typeof F=="function"&&a.removeEventListener(A,F,S),typeof v=="function")){typeof F!="function"&&F!==null&&(p in a?a[p]=null:a.hasAttribute(p)&&a.removeAttribute(p)),a.addEventListener(A,v,S);break e}p in a?a[p]=v:v===!0?a.setAttribute(p,""):Hn(a,p,v)}}}function Hi(a,A,p){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Sr("error",a),Sr("load",a);var v=!1,S=!1,F;for(F in p)if(p.hasOwnProperty(F)){var V=p[F];if(V!=null)switch(F){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:pn(a,A,F,V,p,null)}}S&&pn(a,A,"srcSet",p.srcSet,p,null),v&&pn(a,A,"src",p.src,p,null);return;case"input":Sr("invalid",a);var le=F=V=S=null,Be=null,Ge=null;for(v in p)if(p.hasOwnProperty(v)){var at=p[v];if(at!=null)switch(v){case"name":S=at;break;case"type":V=at;break;case"checked":Be=at;break;case"defaultChecked":Ge=at;break;case"value":F=at;break;case"defaultValue":le=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(n(137,A));break;default:pn(a,A,v,at,p,null)}}Qe(a,F,le,Be,Ge,V,S,!1);return;case"select":Sr("invalid",a),v=V=F=null;for(S in p)if(p.hasOwnProperty(S)&&(le=p[S],le!=null))switch(S){case"value":F=le;break;case"defaultValue":V=le;break;case"multiple":v=le;default:pn(a,A,S,le,p,null)}A=F,p=V,a.multiple=!!v,A!=null?St(a,!!v,A,!1):p!=null&&St(a,!!v,p,!0);return;case"textarea":Sr("invalid",a),F=S=v=null;for(V in p)if(p.hasOwnProperty(V)&&(le=p[V],le!=null))switch(V){case"value":v=le;break;case"defaultValue":S=le;break;case"children":F=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(91));break;default:pn(a,A,V,le,p,null)}Jn(a,v,S,F);return;case"option":for(Be in p)if(p.hasOwnProperty(Be)&&(v=p[Be],v!=null))switch(Be){case"selected":a.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:pn(a,A,Be,v,p,null)}return;case"dialog":Sr("beforetoggle",a),Sr("toggle",a),Sr("cancel",a),Sr("close",a);break;case"iframe":case"object":Sr("load",a);break;case"video":case"audio":for(v=0;v<p0.length;v++)Sr(p0[v],a);break;case"image":Sr("error",a),Sr("load",a);break;case"details":Sr("toggle",a);break;case"embed":case"source":case"link":Sr("error",a),Sr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in p)if(p.hasOwnProperty(Ge)&&(v=p[Ge],v!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:pn(a,A,Ge,v,p,null)}return;default:if(an(A)){for(at in p)p.hasOwnProperty(at)&&(v=p[at],v!==void 0&&hm(a,A,at,v,p,void 0));return}}for(le in p)p.hasOwnProperty(le)&&(v=p[le],v!=null&&pn(a,A,le,v,p,null))}function xR(a,A,p,v){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,F=null,V=null,le=null,Be=null,Ge=null,at=null;for(tt in p){var ut=p[tt];if(p.hasOwnProperty(tt)&&ut!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":Be=ut;default:v.hasOwnProperty(tt)||pn(a,A,tt,null,v,ut)}}for(var qe in v){var tt=v[qe];if(ut=p[qe],v.hasOwnProperty(qe)&&(tt!=null||ut!=null))switch(qe){case"type":F=tt;break;case"name":S=tt;break;case"checked":Ge=tt;break;case"defaultChecked":at=tt;break;case"value":V=tt;break;case"defaultValue":le=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,A));break;default:tt!==ut&&pn(a,A,qe,tt,v,ut)}}_n(a,V,le,Be,Ge,at,F,S);return;case"select":tt=V=le=qe=null;for(F in p)if(Be=p[F],p.hasOwnProperty(F)&&Be!=null)switch(F){case"value":break;case"multiple":tt=Be;default:v.hasOwnProperty(F)||pn(a,A,F,null,v,Be)}for(S in v)if(F=v[S],Be=p[S],v.hasOwnProperty(S)&&(F!=null||Be!=null))switch(S){case"value":qe=F;break;case"defaultValue":le=F;break;case"multiple":V=F;default:F!==Be&&pn(a,A,S,F,v,Be)}A=le,p=V,v=tt,qe!=null?St(a,!!p,qe,!1):!!v!=!!p&&(A!=null?St(a,!!p,A,!0):St(a,!!p,p?[]:"",!1));return;case"textarea":tt=qe=null;for(le in p)if(S=p[le],p.hasOwnProperty(le)&&S!=null&&!v.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:pn(a,A,le,null,v,S)}for(V in v)if(S=v[V],F=p[V],v.hasOwnProperty(V)&&(S!=null||F!=null))switch(V){case"value":qe=S;break;case"defaultValue":tt=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==F&&pn(a,A,V,S,v,F)}Cn(a,qe,tt);return;case"option":for(var Vt in p)if(qe=p[Vt],p.hasOwnProperty(Vt)&&qe!=null&&!v.hasOwnProperty(Vt))switch(Vt){case"selected":a.selected=!1;break;default:pn(a,A,Vt,null,v,qe)}for(Be in v)if(qe=v[Be],tt=p[Be],v.hasOwnProperty(Be)&&qe!==tt&&(qe!=null||tt!=null))switch(Be){case"selected":a.selected=qe&&typeof qe!="function"&&typeof qe!="symbol";break;default:pn(a,A,Be,qe,v,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nr in p)qe=p[nr],p.hasOwnProperty(nr)&&qe!=null&&!v.hasOwnProperty(nr)&&pn(a,A,nr,null,v,qe);for(Ge in v)if(qe=v[Ge],tt=p[Ge],v.hasOwnProperty(Ge)&&qe!==tt&&(qe!=null||tt!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(n(137,A));break;default:pn(a,A,Ge,qe,v,tt)}return;default:if(an(A)){for(var mn in p)qe=p[mn],p.hasOwnProperty(mn)&&qe!==void 0&&!v.hasOwnProperty(mn)&&hm(a,A,mn,void 0,v,qe);for(at in v)qe=v[at],tt=p[at],!v.hasOwnProperty(at)||qe===tt||qe===void 0&&tt===void 0||hm(a,A,at,qe,v,tt);return}}for(var De in p)qe=p[De],p.hasOwnProperty(De)&&qe!=null&&!v.hasOwnProperty(De)&&pn(a,A,De,null,v,qe);for(ut in v)qe=v[ut],tt=p[ut],!v.hasOwnProperty(ut)||qe===tt||qe==null&&tt==null||pn(a,A,ut,qe,v,tt)}function rE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,A=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var S=p[v],F=S.transferSize,V=S.initiatorType,le=S.duration;if(F&&le&&rE(V)){for(V=0,le=S.responseEnd,v+=1;v<p.length;v++){var Be=p[v],Ge=Be.startTime;if(Ge>le)break;var at=Be.transferSize,ut=Be.initiatorType;at&&rE(ut)&&(Be=Be.responseEnd,V+=at*(Be<le?1:(le-Ge)/(Be-Ge)))}if(--v,A+=8*(F+V)/(S.duration/1e3),a++,10<a)break}}if(0<a)return A/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var gm=null,pm=null;function Kd(a){return a.nodeType===9?a:a.ownerDocument}function nE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iE(a,A){if(a===0)switch(A){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&A==="foreignObject"?0:a}function mm(a,A){return a==="textarea"||a==="noscript"||typeof A.children=="string"||typeof A.children=="number"||typeof A.children=="bigint"||typeof A.dangerouslySetInnerHTML=="object"&&A.dangerouslySetInnerHTML!==null&&A.dangerouslySetInnerHTML.__html!=null}var xm=null;function vR(){var a=window.event;return a&&a.type==="popstate"?a===xm?!1:(xm=a,!0):(xm=null,!1)}var sE=typeof setTimeout=="function"?setTimeout:void 0,yR=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,CR=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(a){return aE.resolve(null).then(a).catch(ER)}:sE;function ER(a){setTimeout(function(){throw a})}function Ol(a){return a==="head"}function oE(a,A){var p=A,v=0;do{var S=p.nextSibling;if(a.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(v===0){a.removeChild(S),Yc(A);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")x0(a.ownerDocument.documentElement);else if(p==="head"){p=a.ownerDocument.head,x0(p);for(var F=p.firstChild;F;){var V=F.nextSibling,le=F.nodeName;F[ze]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&F.rel.toLowerCase()==="stylesheet"||p.removeChild(F),F=V}}else p==="body"&&x0(a.ownerDocument.body);p=S}while(p);Yc(A)}function lE(a,A){var p=a;a=0;do{var v=p.nextSibling;if(p.nodeType===1?A?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(A?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(a===0)break;a--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||a++;p=v}while(p)}function wm(a){var A=a.firstChild;for(A&&A.nodeType===10&&(A=A.nextSibling);A;){var p=A;switch(A=A.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":wm(p),dt(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}a.removeChild(p)}}function bR(a,A,p,v){for(;a.nodeType===1;){var S=p;if(a.nodeName.toLowerCase()!==A.toLowerCase()){if(!v&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(v){if(!a[ze])switch(A){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(F=a.getAttribute("rel"),F==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(F!==S.rel||a.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(F=a.getAttribute("src"),(F!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&F&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(A==="input"&&a.type==="hidden"){var F=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===F)return a}else return a;if(a=Sa(a.nextSibling),a===null)break}return null}function BR(a,A,p){if(A==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!p||(a=Sa(a.nextSibling),a===null))return null;return a}function AE(a,A){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!A||(a=Sa(a.nextSibling),a===null))return null;return a}function vm(a){return a.data==="$?"||a.data==="$~"}function ym(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function _R(a,A){var p=a.ownerDocument;if(a.data==="$~")a._reactRetry=A;else if(a.data!=="$?"||p.readyState!=="loading")A();else{var v=function(){A(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),a._reactRetry=v}}function Sa(a){for(;a!=null;a=a.nextSibling){var A=a.nodeType;if(A===1||A===3)break;if(A===8){if(A=a.data,A==="$"||A==="$!"||A==="$?"||A==="$~"||A==="&"||A==="F!"||A==="F")break;if(A==="/$"||A==="/&")return null}}return a}var Cm=null;function cE(a){a=a.nextSibling;for(var A=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"||p==="/&"){if(A===0)return Sa(a.nextSibling);A--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||A++}a=a.nextSibling}return null}function uE(a){a=a.previousSibling;for(var A=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(A===0)return a;A--}else p!=="/$"&&p!=="/&"||A++}a=a.previousSibling}return null}function fE(a,A,p){switch(A=Kd(p),a){case"html":if(a=A.documentElement,!a)throw Error(n(452));return a;case"head":if(a=A.head,!a)throw Error(n(453));return a;case"body":if(a=A.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function x0(a){for(var A=a.attributes;A.length;)a.removeAttributeNode(A[0]);dt(a)}var Ia=new Map,dE=new Set;function zd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var $o=ye.d;ye.d={f:TR,r:SR,D:IR,C:NR,L:FR,m:RR,X:DR,S:kR,M:UR};function TR(){var a=$o.f(),A=Od();return a||A}function SR(a){var A=wt(a);A!==null&&A.tag===5&&A.type==="form"?Ny(A):$o.r(a)}var Wc=typeof document>"u"?null:document;function hE(a,A,p){var v=Wc;if(v&&typeof A=="string"&&A){var S=sr(A);S='link[rel="'+a+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),dE.has(S)||(dE.add(S),a={rel:a,crossOrigin:p,href:A},v.querySelector(S)===null&&(A=v.createElement("link"),Hi(A,"link",a),Ot(A),v.head.appendChild(A)))}}function IR(a){$o.D(a),hE("dns-prefetch",a,null)}function NR(a,A){$o.C(a,A),hE("preconnect",a,A)}function FR(a,A,p){$o.L(a,A,p);var v=Wc;if(v&&a&&A){var S='link[rel="preload"][as="'+sr(A)+'"]';A==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+sr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+sr(p.imageSizes)+'"]')):S+='[href="'+sr(a)+'"]';var F=S;switch(A){case"style":F=Xc(a);break;case"script":F=qc(a)}Ia.has(F)||(a=C({rel:"preload",href:A==="image"&&p&&p.imageSrcSet?void 0:a,as:A},p),Ia.set(F,a),v.querySelector(S)!==null||A==="style"&&v.querySelector(w0(F))||A==="script"&&v.querySelector(v0(F))||(A=v.createElement("link"),Hi(A,"link",a),Ot(A),v.head.appendChild(A)))}}function RR(a,A){$o.m(a,A);var p=Wc;if(p&&a){var v=A&&typeof A.as=="string"?A.as:"script",S='link[rel="modulepreload"][as="'+sr(v)+'"][href="'+sr(a)+'"]',F=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=qc(a)}if(!Ia.has(F)&&(a=C({rel:"modulepreload",href:a},A),Ia.set(F,a),p.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(v0(F)))return}v=p.createElement("link"),Hi(v,"link",a),Ot(v),p.head.appendChild(v)}}}function kR(a,A,p){$o.S(a,A,p);var v=Wc;if(v&&a){var S=_t(v).hoistableStyles,F=Xc(a);A=A||"default";var V=S.get(F);if(!V){var le={loading:0,preload:null};if(V=v.querySelector(w0(F)))le.loading=5;else{a=C({rel:"stylesheet",href:a,"data-precedence":A},p),(p=Ia.get(F))&&Em(a,p);var Be=V=v.createElement("link");Ot(Be),Hi(Be,"link",a),Be._p=new Promise(function(Ge,at){Be.onload=Ge,Be.onerror=at}),Be.addEventListener("load",function(){le.loading|=1}),Be.addEventListener("error",function(){le.loading|=2}),le.loading|=4,Wd(V,A,v)}V={type:"stylesheet",instance:V,count:1,state:le},S.set(F,V)}}}function DR(a,A){$o.X(a,A);var p=Wc;if(p&&a){var v=_t(p).hoistableScripts,S=qc(a),F=v.get(S);F||(F=p.querySelector(v0(S)),F||(a=C({src:a,async:!0},A),(A=Ia.get(S))&&bm(a,A),F=p.createElement("script"),Ot(F),Hi(F,"link",a),p.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},v.set(S,F))}}function UR(a,A){$o.M(a,A);var p=Wc;if(p&&a){var v=_t(p).hoistableScripts,S=qc(a),F=v.get(S);F||(F=p.querySelector(v0(S)),F||(a=C({src:a,async:!0,type:"module"},A),(A=Ia.get(S))&&bm(a,A),F=p.createElement("script"),Ot(F),Hi(F,"link",a),p.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},v.set(S,F))}}function gE(a,A,p,v){var S=(S=be.current)?zd(S):null;if(!S)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(A=Xc(p.href),p=_t(S).hoistableStyles,v=p.get(A),v||(v={type:"style",instance:null,count:0,state:null},p.set(A,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){a=Xc(p.href);var F=_t(S).hoistableStyles,V=F.get(a);if(V||(S=S.ownerDocument||S,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(a,V),(F=S.querySelector(w0(a)))&&!F._p&&(V.instance=F,V.state.loading=5),Ia.has(a)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Ia.set(a,p),F||MR(S,a,p,V.state))),A&&v===null)throw Error(n(528,""));return V}if(A&&v!==null)throw Error(n(529,""));return null;case"script":return A=p.async,p=p.src,typeof p=="string"&&A&&typeof A!="function"&&typeof A!="symbol"?(A=qc(p),p=_t(S).hoistableScripts,v=p.get(A),v||(v={type:"script",instance:null,count:0,state:null},p.set(A,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Xc(a){return'href="'+sr(a)+'"'}function w0(a){return'link[rel="stylesheet"]['+a+"]"}function pE(a){return C({},a,{"data-precedence":a.precedence,precedence:null})}function MR(a,A,p,v){a.querySelector('link[rel="preload"][as="style"]['+A+"]")?v.loading=1:(A=a.createElement("link"),v.preload=A,A.addEventListener("load",function(){return v.loading|=1}),A.addEventListener("error",function(){return v.loading|=2}),Hi(A,"link",p),Ot(A),a.head.appendChild(A))}function qc(a){return'[src="'+sr(a)+'"]'}function v0(a){return"script[async]"+a}function mE(a,A,p){if(A.count++,A.instance===null)switch(A.type){case"style":var v=a.querySelector('style[data-href~="'+sr(p.href)+'"]');if(v)return A.instance=v,Ot(v),v;var S=C({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(a.ownerDocument||a).createElement("style"),Ot(v),Hi(v,"style",S),Wd(v,p.precedence,a),A.instance=v;case"stylesheet":S=Xc(p.href);var F=a.querySelector(w0(S));if(F)return A.state.loading|=4,A.instance=F,Ot(F),F;v=pE(p),(S=Ia.get(S))&&Em(v,S),F=(a.ownerDocument||a).createElement("link"),Ot(F);var V=F;return V._p=new Promise(function(le,Be){V.onload=le,V.onerror=Be}),Hi(F,"link",v),A.state.loading|=4,Wd(F,p.precedence,a),A.instance=F;case"script":return F=qc(p.src),(S=a.querySelector(v0(F)))?(A.instance=S,Ot(S),S):(v=p,(S=Ia.get(F))&&(v=C({},p),bm(v,S)),a=a.ownerDocument||a,S=a.createElement("script"),Ot(S),Hi(S,"link",v),a.head.appendChild(S),A.instance=S);case"void":return null;default:throw Error(n(443,A.type))}else A.type==="stylesheet"&&(A.state.loading&4)===0&&(v=A.instance,A.state.loading|=4,Wd(v,p.precedence,a));return A.instance}function Wd(a,A,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,F=S,V=0;V<v.length;V++){var le=v[V];if(le.dataset.precedence===A)F=le;else if(F!==S)break}F?F.parentNode.insertBefore(a,F.nextSibling):(A=p.nodeType===9?p.head:p,A.insertBefore(a,A.firstChild))}function Em(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.title==null&&(a.title=A.title)}function bm(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.integrity==null&&(a.integrity=A.integrity)}var Xd=null;function xE(a,A,p){if(Xd===null){var v=new Map,S=Xd=new Map;S.set(p,v)}else S=Xd,v=S.get(p),v||(v=new Map,S.set(p,v));if(v.has(a))return v;for(v.set(a,null),p=p.getElementsByTagName(a),S=0;S<p.length;S++){var F=p[S];if(!(F[ze]||F[he]||a==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var V=F.getAttribute(A)||"";V=a+V;var le=v.get(V);le?le.push(F):v.set(V,[F])}}return v}function wE(a,A,p){a=a.ownerDocument||a,a.head.insertBefore(p,A==="title"?a.querySelector("head > title"):null)}function OR(a,A,p){if(p===1||A.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof A.precedence!="string"||typeof A.href!="string"||A.href==="")break;return!0;case"link":if(typeof A.rel!="string"||typeof A.href!="string"||A.href===""||A.onLoad||A.onError)break;switch(A.rel){case"stylesheet":return a=A.disabled,typeof A.precedence=="string"&&a==null;default:return!0}case"script":if(A.async&&typeof A.async!="function"&&typeof A.async!="symbol"&&!A.onLoad&&!A.onError&&A.src&&typeof A.src=="string")return!0}return!1}function vE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function LR(a,A,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=Xc(v.href),F=A.querySelector(w0(S));if(F){A=F._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(a.count++,a=qd.bind(a),A.then(a,a)),p.state.loading|=4,p.instance=F,Ot(F);return}F=A.ownerDocument||A,v=pE(v),(S=Ia.get(S))&&Em(v,S),F=F.createElement("link"),Ot(F);var V=F;V._p=new Promise(function(le,Be){V.onload=le,V.onerror=Be}),Hi(F,"link",v),p.instance=F}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(p,A),(A=p.state.preload)&&(p.state.loading&3)===0&&(a.count++,p=qd.bind(a),A.addEventListener("load",p),A.addEventListener("error",p))}}var Bm=0;function QR(a,A){return a.stylesheets&&a.count===0&&Jd(a,a.stylesheets),0<a.count||0<a.imgCount?function(p){var v=setTimeout(function(){if(a.stylesheets&&Jd(a,a.stylesheets),a.unsuspend){var F=a.unsuspend;a.unsuspend=null,F()}},6e4+A);0<a.imgBytes&&Bm===0&&(Bm=62500*wR());var S=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Jd(a,a.stylesheets),a.unsuspend)){var F=a.unsuspend;a.unsuspend=null,F()}},(a.imgBytes>Bm?50:800)+A);return a.unsuspend=p,function(){a.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function qd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Yd=null;function Jd(a,A){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Yd=new Map,A.forEach(PR,a),Yd=null,qd.call(a))}function PR(a,A){if(!(A.state.loading&4)){var p=Yd.get(a);if(p)var v=p.get(null);else{p=new Map,Yd.set(a,p);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<S.length;F++){var V=S[F];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(p.set(V.dataset.precedence,V),v=V)}v&&p.set(null,v)}S=A.instance,V=S.getAttribute("data-precedence"),F=p.get(V)||v,F===v&&p.set(null,S),p.set(V,S),this.count++,v=qd.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),F?F.parentNode.insertBefore(S,F.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),A.state.loading|=4}}var y0={$$typeof:Q,Provider:null,Consumer:null,_currentValue:We,_currentValue2:We,_threadCount:0};function HR(a,A,p,v,S,F,V,le,Be){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=F,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Be,this.incompleteTransitions=new Map}function yE(a,A,p,v,S,F,V,le,Be,Ge,at,ut){return a=new HR(a,A,p,V,Be,Ge,at,ut,le),A=1,F===!0&&(A|=24),F=ia(3,null,null,A),a.current=F,F.stateNode=a,A=ip(),A.refCount++,a.pooledCache=A,A.refCount++,F.memoizedState={element:v,isDehydrated:p,cache:A},lp(F),a}function CE(a){return a?(a=_c,a):_c}function EE(a,A,p,v,S,F){S=CE(S),v.context===null?v.context=S:v.pendingContext=S,v=_l(A),v.payload={element:p},F=F===void 0?null:F,F!==null&&(v.callback=F),p=Tl(a,v,A),p!==null&&(zs(p,a,A),$u(p,a,A))}function bE(a,A){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<A?p:A}}function _m(a,A){bE(a,A),(a=a.alternate)&&bE(a,A)}function BE(a){if(a.tag===13||a.tag===31){var A=IA(a,67108864);A!==null&&zs(A,a,67108864),_m(a,67108864)}}function _E(a){if(a.tag===13||a.tag===31){var A=Aa();A=Pn(A);var p=IA(a,A);p!==null&&zs(p,a,A),_m(a,A)}}var Zd=!0;function VR(a,A,p,v){var S=ge.T;ge.T=null;var F=ye.p;try{ye.p=2,Tm(a,A,p,v)}finally{ye.p=F,ge.T=S}}function jR(a,A,p,v){var S=ge.T;ge.T=null;var F=ye.p;try{ye.p=8,Tm(a,A,p,v)}finally{ye.p=F,ge.T=S}}function Tm(a,A,p,v){if(Zd){var S=Sm(v);if(S===null)dm(a,A,v,$d,p),SE(a,v);else if(KR(S,a,A,p,v))v.stopPropagation();else if(SE(a,v),A&4&&-1<GR.indexOf(a)){for(;S!==null;){var F=wt(S);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var V=xr(F.pendingLanes);if(V!==0){var le=F;for(le.pendingLanes|=2,le.entangledLanes|=2;V;){var Be=1<<31-jt(V);le.entanglements[1]|=Be,V&=~Be}mo(F),(Zr&6)===0&&(Ud=Pe()+500,g0(0))}}break;case 31:case 13:le=IA(F,2),le!==null&&zs(le,F,2),Od(),_m(F,2)}if(F=Sm(v),F===null&&dm(a,A,v,$d,p),F===S)break;S=F}S!==null&&v.stopPropagation()}else dm(a,A,v,null,p)}}function Sm(a){return a=xl(a),Im(a)}var $d=null;function Im(a){if($d=null,a=xt(a),a!==null){var A=s(a);if(A===null)a=null;else{var p=A.tag;if(p===13){if(a=l(A),a!==null)return a;a=null}else if(p===31){if(a=c(A),a!==null)return a;a=null}else if(p===3){if(A.stateNode.current.memoizedState.isDehydrated)return A.tag===3?A.stateNode.containerInfo:null;a=null}else A!==a&&(a=null)}}return $d=a,null}function TE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case lt:return 2;case kt:return 8;case tr:case st:return 32;case bt:return 268435456;default:return 32}default:return 32}}var Nm=!1,Ll=null,Ql=null,Pl=null,C0=new Map,E0=new Map,Hl=[],GR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SE(a,A){switch(a){case"focusin":case"focusout":Ll=null;break;case"dragenter":case"dragleave":Ql=null;break;case"mouseover":case"mouseout":Pl=null;break;case"pointerover":case"pointerout":C0.delete(A.pointerId);break;case"gotpointercapture":case"lostpointercapture":E0.delete(A.pointerId)}}function b0(a,A,p,v,S,F){return a===null||a.nativeEvent!==F?(a={blockedOn:A,domEventName:p,eventSystemFlags:v,nativeEvent:F,targetContainers:[S]},A!==null&&(A=wt(A),A!==null&&BE(A)),a):(a.eventSystemFlags|=v,A=a.targetContainers,S!==null&&A.indexOf(S)===-1&&A.push(S),a)}function KR(a,A,p,v,S){switch(A){case"focusin":return Ll=b0(Ll,a,A,p,v,S),!0;case"dragenter":return Ql=b0(Ql,a,A,p,v,S),!0;case"mouseover":return Pl=b0(Pl,a,A,p,v,S),!0;case"pointerover":var F=S.pointerId;return C0.set(F,b0(C0.get(F)||null,a,A,p,v,S)),!0;case"gotpointercapture":return F=S.pointerId,E0.set(F,b0(E0.get(F)||null,a,A,p,v,S)),!0}return!1}function IE(a){var A=xt(a.target);if(A!==null){var p=s(A);if(p!==null){if(A=p.tag,A===13){if(A=l(p),A!==null){a.blockedOn=A,Ae(a.priority,function(){_E(p)});return}}else if(A===31){if(A=c(p),A!==null){a.blockedOn=A,Ae(a.priority,function(){_E(p)});return}}else if(A===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function eh(a){if(a.blockedOn!==null)return!1;for(var A=a.targetContainers;0<A.length;){var p=Sm(a.nativeEvent);if(p===null){p=a.nativeEvent;var v=new p.constructor(p.type,p);Ao=v,p.target.dispatchEvent(v),Ao=null}else return A=wt(p),A!==null&&BE(A),a.blockedOn=p,!1;A.shift()}return!0}function NE(a,A,p){eh(a)&&p.delete(A)}function zR(){Nm=!1,Ll!==null&&eh(Ll)&&(Ll=null),Ql!==null&&eh(Ql)&&(Ql=null),Pl!==null&&eh(Pl)&&(Pl=null),C0.forEach(NE),E0.forEach(NE)}function th(a,A){a.blockedOn===A&&(a.blockedOn=null,Nm||(Nm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zR)))}var rh=null;function FE(a){rh!==a&&(rh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rh===a&&(rh=null);for(var A=0;A<a.length;A+=3){var p=a[A],v=a[A+1],S=a[A+2];if(typeof v!="function"){if(Im(v||p)===null)continue;break}var F=wt(p);F!==null&&(a.splice(A,3),A-=3,Sp(F,{pending:!0,data:S,method:p.method,action:v},v,S))}}))}function Yc(a){function A(Be){return th(Be,a)}Ll!==null&&th(Ll,a),Ql!==null&&th(Ql,a),Pl!==null&&th(Pl,a),C0.forEach(A),E0.forEach(A);for(var p=0;p<Hl.length;p++){var v=Hl[p];v.blockedOn===a&&(v.blockedOn=null)}for(;0<Hl.length&&(p=Hl[0],p.blockedOn===null);)IE(p),p.blockedOn===null&&Hl.shift();if(p=(a.ownerDocument||a).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var S=p[v],F=p[v+1],V=S[pe]||null;if(typeof F=="function")V||FE(p);else if(V){var le=null;if(F&&F.hasAttribute("formAction")){if(S=F,V=F[pe]||null)le=V.formAction;else if(Im(S)!==null)continue}else le=V.action;typeof le=="function"?p[v+1]=le:(p.splice(v,3),v-=3),FE(p)}}}function RE(){function a(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(V){return S=V})},focusReset:"manual",scroll:"manual"})}function A(){S!==null&&(S(),S=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",A),navigation.addEventListener("navigateerror",A),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",A),navigation.removeEventListener("navigateerror",A),S!==null&&(S(),S=null)}}}function Fm(a){this._internalRoot=a}nh.prototype.render=Fm.prototype.render=function(a){var A=this._internalRoot;if(A===null)throw Error(n(409));var p=A.current,v=Aa();EE(p,v,a,A,null,null)},nh.prototype.unmount=Fm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var A=a.containerInfo;EE(a.current,2,null,a,null,null),Od(),A[ve]=null}};function nh(a){this._internalRoot=a}nh.prototype.unstable_scheduleHydration=function(a){if(a){var A=ie();a={blockedOn:null,target:a,priority:A};for(var p=0;p<Hl.length&&A!==0&&A<Hl[p].priority;p++);Hl.splice(p,0,a),p===0&&IE(a)}};var kE=e.version;if(kE!=="19.2.4")throw Error(n(527,kE,"19.2.4"));ye.findDOMNode=function(a){var A=a._reactInternals;if(A===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=d(A),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var WR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ge,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Gt=ih.inject(WR),Ne=ih}catch{}}return _0.createRoot=function(a,A){if(!i(a))throw Error(n(299));var p=!1,v="",S=Py,F=Hy,V=Vy;return A!=null&&(A.unstable_strictMode===!0&&(p=!0),A.identifierPrefix!==void 0&&(v=A.identifierPrefix),A.onUncaughtError!==void 0&&(S=A.onUncaughtError),A.onCaughtError!==void 0&&(F=A.onCaughtError),A.onRecoverableError!==void 0&&(V=A.onRecoverableError)),A=yE(a,1,!1,null,null,p,v,null,S,F,V,RE),a[ve]=A.current,fm(a),new Fm(A)},_0.hydrateRoot=function(a,A,p){if(!i(a))throw Error(n(299));var v=!1,S="",F=Py,V=Hy,le=Vy,Be=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(F=p.onUncaughtError),p.onCaughtError!==void 0&&(V=p.onCaughtError),p.onRecoverableError!==void 0&&(le=p.onRecoverableError),p.formState!==void 0&&(Be=p.formState)),A=yE(a,1,!0,A,p??null,v,S,Be,F,V,le,RE),A.context=CE(null),p=A.current,v=Aa(),v=Pn(v),S=_l(v),S.callback=null,Tl(p,S,v),p=v,A.current.lanes=p,gs(A,p),mo(A),a[ve]=A.current,fm(a),new nh(A)},_0.version="19.2.4",_0}var jE;function i5(){if(jE)return Dm.exports;jE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dm.exports=n5(),Dm.exports}var s5=i5();const a5=j4(s5),o5=({onLoginSuccess:t,settings:e})=>{const[r,n]=Ce.useState(""),[i,s]=Ce.useState(!1),[l,c]=Ce.useState(""),g=d=>{if(d.preventDefault(),c(""),r===e.loginPassword){t({role:"admin",name:e.userName,phone:e.loginPhone,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,viewWholesalePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}});return}const m=e.staffList.find(C=>C.password===r);if(m){t({role:"staff",name:m.name,phone:m.phone,permissions:m.permissions});return}c("   ")};return f.jsx("div",{className:"relative w-full h-screen custom-gradient-bg flex items-center justify-center overflow-hidden",children:f.jsxs("div",{className:"w-full h-full md:max-w-4xl md:h-auto md:flex md:rounded-[3rem] md:overflow-hidden md:shadow-2xl md:bg-[#1a1a1a]",children:[f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-6 pt-12 md:pt-0 md:bg-black/20 md:p-12",children:[f.jsx("h1",{className:"text-white text-3xl md:text-4xl font-bold mb-2",children:"   "}),f.jsx("h2",{className:"text-white text-5xl md:text-6xl font-extrabold tracking-wider",children:"MAMA"}),f.jsx("p",{className:"text-gray-400 mt-4 text-sm font-medium",children:"    "})]}),f.jsxs("div",{className:"bg-[#1a1a1a] rounded-t-[3rem] md:rounded-none w-full px-8 pt-8 pb-12 flex flex-col items-center transition-all duration-500 border-t border-gray-800 md:border-t-0 md:border-r md:w-[450px] md:h-auto h-full mt-auto md:mt-0 justify-center",children:[f.jsx("div",{className:"w-16 h-1.5 bg-gray-500 rounded-full mb-10 opacity-30 md:hidden"}),f.jsx("h3",{className:"text-white text-3xl font-bold mb-10",children:" "}),l&&f.jsx("div",{className:"w-full bg-red-500/10 border border-red-500/30 rounded-xl py-3 px-4 mb-6 text-red-500 text-center text-sm font-bold animate-in fade-in slide-in-from-top-2",children:l}),f.jsxs("form",{onSubmit:g,className:"w-full space-y-6",children:[f.jsxs("div",{className:"input-container relative",children:[f.jsx("label",{className:"input-label",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:i?"text":"password",placeholder:"  ",className:"custom-input pl-12",value:r,onChange:d=>n(d.target.value),required:!0}),f.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#57b385] transition-colors",onClick:()=>s(!i),"aria-label":i?"  ":"  ",children:i?f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),f.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),f.jsx("button",{type:"submit",className:"w-full btn-gradient py-4 rounded-2xl text-white text-xl font-bold shadow-lg hover:brightness-110 active:scale-[0.98] transition-all",children:" "})]}),f.jsx("div",{className:"mt-20 text-center",children:f.jsxs("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:["    ",new Date().getFullYear()," MAMA SYSTEMS"]})})]})]})})},G4=(t,e)=>{const r=window.open("","_blank");if(!r){alert("     ");return}const n=t.items||[];n.reduce((s,l)=>s+l.count,0);const i=`
    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
      <head>
        <title> #${t.id}</title>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
          
          * {
            box-sizing: border-box;
          }

          body {
            font-family: 'Tajawal', sans-serif;
            margin: 0;
            padding: 0;
            background-color: white;
            color: black;
            font-size: 12px;
          }
          
          .receipt {
            max-width: ${e.receiptSize==="58mm"?"58mm":"80mm"};
            margin: 0 auto;
            padding: 10px 20px; /* Added significant side padding */
          }
          
          .header {
            text-align: center;
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 10px;
          }
          
          .logo {
            max-width: 60px;
            max-height: 60px;
            margin-bottom: 5px;
          }
          
          .title {
            font-size: 16px;
            font-weight: 800;
            margin: 5px 0;
          }
          
          .info {
            font-size: 10px;
            margin-bottom: 5px;
          }
          
          .customer-info {
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 5px;
          }
          
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10px;
          }
          
          th {
            text-align: right;
            border-bottom: 1px solid #000;
            font-size: 10px;
            padding: 2px 0;
          }
          
          td {
            text-align: right;
            font-size: 10px;
            padding: 4px 0;
            vertical-align: top;
          }
          
          .col-price { text-align: center; }
          .col-total { text-align: left; }
          
          .totals {
            border-top: 1px dashed #000;
            padding-top: 5px;
            margin-top: 5px;
          }
          
          .row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
            font-weight: bold;
          }
          
          .total-row {
            font-size: 14px;
            font-weight: 900;
            margin-top: 5px;
          }
          
          .footer {
            text-align: center;
            margin-top: 15px;
            font-size: 9px;
            border-top: 1px dashed #000;
            padding-top: 10px;
          }

          @media print {
            body { margin: 0; padding: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="receipt">
          
          <!-- Header -->
          <div class="header">
            ${e.businessLogo?`<img src="${e.businessLogo}" class="logo" />`:""}
            <div class="title">${e.businessName}</div>
            <div class="info">${e.userName}</div>
            <div class="info">: ${new Date().toLocaleString("ar-MA")}</div>
            <div class="info"> : ${t.id}</div>
          </div>

          <!-- Customer -->
          <div class="customer-info">
            <div style="font-weight: bold;">: ${t.name}</div>
            ${t.phone?`<div>: ${t.phone}</div>`:""}
          </div>

          <!-- Items -->
          <table>
            <thead>
              <tr>
                <th width="50%"></th>
                <th width="15%" class="col-price"></th>
                <th width="35%" class="col-total"></th>
              </tr>
            </thead>
            <tbody>
              ${n.map(s=>`
                <tr>
                  <td>${s.productName}</td>
                  <td class="col-price">${s.count}</td>
                  <td class="col-total">${s.total.toFixed(2)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <!-- Totals -->
          <div class="totals">
            <div class="row total-row">
              <span> :</span>
              <span>${t.amount.toFixed(2)} .</span>
            </div>
            <div class="row">
              <span> (${t.method==="direct"?"":""}):</span>
              <span>${t.paidAmount.toFixed(2)} .</span>
            </div>
            ${t.remainingAmount>0?`
            <div class="row" style="color: black;">
              <span> ():</span>
              <span>${t.remainingAmount.toFixed(2)} .</span>
            </div>
            `:""}
          </div>

          <!-- Footer -->
          <div class="footer">
            <p> </p>
            <p>Thank you for your visit</p>
            ${e.showBarcode?`
              <div style="margin-top: 10px;">
                <svg id="barcode"></svg>
              </div>
              <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"><\/script>
              <script>
                try {
                  JsBarcode("#barcode", "${t.id}", {
                    format: "CODE128",
                    width: 1.5,
                    height: 40,
                    displayValue: true,
                    fontSize: 12
                  });
                } catch(e) {}
              <\/script>
            `:""}
          </div>
        </div>

        <script>
          // Print automatically when loaded
          window.onload = function() {
            setTimeout(function() {
              window.print();
              // Optional: window.close();
            }, 500);
          }
        <\/script>
      </body>
    </html>
  `;r.document.write(i),r.document.close()};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kx=function(t,e){return kx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kx(t,e)};function oo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Dx=function(){return Dx=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Dx.apply(this,arguments)};function ys(t,e,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function c(m){try{d(n.next(m))}catch(C){l(C)}}function g(m){try{d(n.throw(m))}catch(C){l(C)}}function d(m){m.done?s(m.value):i(m.value).then(c,g)}d((n=n.apply(t,[])).next())})}function ns(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(m){return g([d,m])}}function g(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(m){d=[6,m],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function ah(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var ol=(function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),sg=function(t,e){return ol.fromClientRect(t,e.getBoundingClientRect())},l5=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new ol(0,0,n,i)},ag=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},ii=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var l=t[i];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},GE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A5=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var oh=0;oh<GE.length;oh++)A5[GE.charCodeAt(oh)]=oh;var KE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lh=0;lh<KE.length;lh++)D0[KE.charCodeAt(lh)]=lh;var c5=function(t){var e=t.length*.75,r=t.length,n,i=0,s,l,c,g;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)s=D0[t.charCodeAt(n)],l=D0[t.charCodeAt(n+1)],c=D0[t.charCodeAt(n+2)],g=D0[t.charCodeAt(n+3)],m[i++]=s<<2|l>>4,m[i++]=(l&15)<<4|c>>2,m[i++]=(c&3)<<6|g&63;return d},u5=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},f5=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},JA=5,$2=11,Lm=2,d5=$2-JA,K4=65536>>JA,h5=1<<JA,Qm=h5-1,g5=1024>>JA,p5=K4+g5,m5=p5,x5=32,w5=m5+x5,v5=65536>>$2,y5=1<<d5,C5=y5-1,zE=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},E5=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},b5=function(t,e){var r=c5(t),n=Array.isArray(r)?f5(r):new Uint32Array(r),i=Array.isArray(r)?u5(r):new Uint16Array(r),s=24,l=zE(i,s/2,n[4]/2),c=n[5]===2?zE(i,(s+n[4])/2):E5(n,Math.ceil((s+n[4])/4));return new B5(n[0],n[1],n[2],n[3],l,c)},B5=(function(){function t(e,r,n,i,s,l){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=l}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>JA],r=(r<<Lm)+(e&Qm),this.data[r];if(e<=65535)return r=this.index[K4+(e-55296>>JA)],r=(r<<Lm)+(e&Qm),this.data[r];if(e<this.highStart)return r=w5-v5+(e>>$2),r=this.index[r],r+=e>>JA&C5,r=this.index[r],r=(r<<Lm)+(e&Qm),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),WE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_5=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ah=0;Ah<WE.length;Ah++)_5[WE.charCodeAt(Ah)]=Ah;var T5="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",XE=50,S5=1,z4=2,W4=3,I5=4,N5=5,qE=7,X4=8,YE=9,ql=10,Ux=11,JE=12,Mx=13,F5=14,U0=15,Ox=16,ch=17,T0=18,R5=19,ZE=20,Lx=21,S0=22,Pm=23,Jc=24,ua=25,M0=26,O0=27,Zc=28,k5=29,KA=30,D5=31,uh=32,fh=33,Qx=34,Px=35,Hx=36,mf=37,Vx=38,i1=39,s1=40,Hm=41,q4=42,U5=43,M5=[9001,65288],Y4="!",Rr="",dh="",jx=b5(T5),el=[KA,Hx],Gx=[S5,z4,W4,N5],J4=[ql,X4],$E=[O0,M0],O5=Gx.concat(J4),eb=[Vx,i1,s1,Qx,Px],L5=[U0,Mx],Q5=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,l){var c=jx.get(s);if(c>XE?(i.push(!0),c-=XE):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(l),r.push(Ox);if(c===I5||c===Ux){if(l===0)return n.push(l),r.push(KA);var g=r[l-1];return O5.indexOf(g)===-1?(n.push(n[l-1]),r.push(g)):(n.push(l),r.push(KA))}if(n.push(l),c===D5)return r.push(e==="strict"?Lx:mf);if(c===q4||c===k5)return r.push(KA);if(c===U5)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(mf):r.push(KA);r.push(c)}),[n,r,i]},Vm=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var l=n[s];if(l===e)return!0;if(l!==ql)break}if(i===ql)for(var s=r;s>0;){s--;var c=n[s];if(Array.isArray(t)?t.indexOf(c)!==-1:t===c)for(var g=r;g<=n.length;){g++;var l=n[g];if(l===e)return!0;if(l!==ql)break}if(c!==ql)break}return!1},tb=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===ql)r--;else return n}return 0},P5=function(t,e,r,n,i){if(r[n]===0)return Rr;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Rr;var l=s-1,c=s+1,g=e[s],d=l>=0?e[l]:0,m=e[c];if(g===z4&&m===W4)return Rr;if(Gx.indexOf(g)!==-1)return Y4;if(Gx.indexOf(m)!==-1||J4.indexOf(m)!==-1)return Rr;if(tb(s,e)===X4)return dh;if(jx.get(t[s])===Ux||(g===uh||g===fh)&&jx.get(t[c])===Ux||g===qE||m===qE||g===YE||[ql,Mx,U0].indexOf(g)===-1&&m===YE||[ch,T0,R5,Jc,Zc].indexOf(m)!==-1||tb(s,e)===S0||Vm(Pm,S0,s,e)||Vm([ch,T0],Lx,s,e)||Vm(JE,JE,s,e))return Rr;if(g===ql)return dh;if(g===Pm||m===Pm)return Rr;if(m===Ox||g===Ox)return dh;if([Mx,U0,Lx].indexOf(m)!==-1||g===F5||d===Hx&&L5.indexOf(g)!==-1||g===Zc&&m===Hx||m===ZE||el.indexOf(m)!==-1&&g===ua||el.indexOf(g)!==-1&&m===ua||g===O0&&[mf,uh,fh].indexOf(m)!==-1||[mf,uh,fh].indexOf(g)!==-1&&m===M0||el.indexOf(g)!==-1&&$E.indexOf(m)!==-1||$E.indexOf(g)!==-1&&el.indexOf(m)!==-1||[O0,M0].indexOf(g)!==-1&&(m===ua||[S0,U0].indexOf(m)!==-1&&e[c+1]===ua)||[S0,U0].indexOf(g)!==-1&&m===ua||g===ua&&[ua,Zc,Jc].indexOf(m)!==-1)return Rr;if([ua,Zc,Jc,ch,T0].indexOf(m)!==-1)for(var C=s;C>=0;){var b=e[C];if(b===ua)return Rr;if([Zc,Jc].indexOf(b)!==-1)C--;else break}if([O0,M0].indexOf(m)!==-1)for(var C=[ch,T0].indexOf(g)!==-1?l:s;C>=0;){var b=e[C];if(b===ua)return Rr;if([Zc,Jc].indexOf(b)!==-1)C--;else break}if(Vx===g&&[Vx,i1,Qx,Px].indexOf(m)!==-1||[i1,Qx].indexOf(g)!==-1&&[i1,s1].indexOf(m)!==-1||[s1,Px].indexOf(g)!==-1&&m===s1||eb.indexOf(g)!==-1&&[ZE,M0].indexOf(m)!==-1||eb.indexOf(m)!==-1&&g===O0||el.indexOf(g)!==-1&&el.indexOf(m)!==-1||g===Jc&&el.indexOf(m)!==-1||el.concat(ua).indexOf(g)!==-1&&m===S0&&M5.indexOf(t[c])===-1||el.concat(ua).indexOf(m)!==-1&&g===T0)return Rr;if(g===Hm&&m===Hm){for(var N=r[s],R=1;N>0&&(N--,e[N]===Hm);)R++;if(R%2!==0)return Rr}return g===uh&&m===fh?Rr:dh},H5=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=Q5(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(c){return[ua,KA,q4].indexOf(c)!==-1?mf:c}));var l=e.wordBreak==="keep-all"?s.map(function(c,g){return c&&t[g]>=19968&&t[g]<=40959}):void 0;return[n,i,l]},V5=(function(){function t(e,r,n,i){this.codePoints=e,this.required=r===Y4,this.start=n,this.end=i}return t.prototype.slice=function(){return ii.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),j5=function(t,e){var r=ag(t),n=H5(r,e),i=n[0],s=n[1],l=n[2],c=r.length,g=0,d=0;return{next:function(){if(d>=c)return{done:!0,value:null};for(var m=Rr;d<c&&(m=P5(r,s,i,++d,l))===Rr;);if(m!==Rr||d===c){var C=new V5(r,m,g,d);return g=d,{value:C,done:!1}}return{done:!0,value:null}}}},G5=1,K5=2,Of=4,rb=8,g1=10,nb=47,J0=92,z5=9,W5=32,hh=34,I0=61,X5=35,q5=36,Y5=37,gh=39,ph=40,N0=41,J5=95,qs=45,Z5=33,$5=60,e6=62,t6=64,r6=91,n6=93,i6=61,s6=123,mh=63,a6=125,ib=124,o6=126,l6=128,sb=65533,jm=42,WA=43,A6=44,c6=58,u6=59,xf=46,f6=0,d6=8,h6=11,g6=14,p6=31,m6=127,xo=-1,Z4=48,$4=97,eS=101,x6=102,w6=117,v6=122,tS=65,rS=69,nS=70,y6=85,C6=90,ss=function(t){return t>=Z4&&t<=57},E6=function(t){return t>=55296&&t<=57343},$c=function(t){return ss(t)||t>=tS&&t<=nS||t>=$4&&t<=x6},b6=function(t){return t>=$4&&t<=v6},B6=function(t){return t>=tS&&t<=C6},_6=function(t){return b6(t)||B6(t)},T6=function(t){return t>=l6},xh=function(t){return t===g1||t===z5||t===W5},p1=function(t){return _6(t)||T6(t)||t===J5},ab=function(t){return p1(t)||ss(t)||t===qs},S6=function(t){return t>=f6&&t<=d6||t===h6||t>=g6&&t<=p6||t===m6},Wl=function(t,e){return t!==J0?!1:e!==g1},wh=function(t,e,r){return t===qs?p1(e)||Wl(e,r):p1(t)?!0:!!(t===J0&&Wl(t,e))},Gm=function(t,e,r){return t===WA||t===qs?ss(e)?!0:e===xf&&ss(r):ss(t===xf?e:t)},I6=function(t){var e=0,r=1;(t[e]===WA||t[e]===qs)&&(t[e]===qs&&(r=-1),e++);for(var n=[];ss(t[e]);)n.push(t[e++]);var i=n.length?parseInt(ii.apply(void 0,n),10):0;t[e]===xf&&e++;for(var s=[];ss(t[e]);)s.push(t[e++]);var l=s.length,c=l?parseInt(ii.apply(void 0,s),10):0;(t[e]===rS||t[e]===eS)&&e++;var g=1;(t[e]===WA||t[e]===qs)&&(t[e]===qs&&(g=-1),e++);for(var d=[];ss(t[e]);)d.push(t[e++]);var m=d.length?parseInt(ii.apply(void 0,d),10):0;return r*(i+c*Math.pow(10,-l))*Math.pow(10,g*m)},N6={type:2},F6={type:3},R6={type:4},k6={type:13},D6={type:8},U6={type:21},M6={type:9},O6={type:10},L6={type:11},Q6={type:12},P6={type:14},vh={type:23},H6={type:1},V6={type:25},j6={type:24},G6={type:26},K6={type:27},z6={type:28},W6={type:29},X6={type:31},Kx={type:32},iS=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(ag(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==Kx;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case hh:return this.consumeStringToken(hh);case X5:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(ab(r)||Wl(n,i)){var s=wh(r,n,i)?K5:G5,l=this.consumeName();return{type:5,value:l,flags:s}}break;case q5:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),k6;break;case gh:return this.consumeStringToken(gh);case ph:return N6;case N0:return F6;case jm:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),P6;break;case WA:if(Gm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case A6:return R6;case qs:var c=e,g=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Gm(c,g,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(wh(c,g,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(g===qs&&d===e6)return this.consumeCodePoint(),this.consumeCodePoint(),j6;break;case xf:if(Gm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case nb:if(this.peekCodePoint(0)===jm)for(this.consumeCodePoint();;){var m=this.consumeCodePoint();if(m===jm&&(m=this.consumeCodePoint(),m===nb))return this.consumeToken();if(m===xo)return this.consumeToken()}break;case c6:return G6;case u6:return K6;case $5:if(this.peekCodePoint(0)===Z5&&this.peekCodePoint(1)===qs&&this.peekCodePoint(2)===qs)return this.consumeCodePoint(),this.consumeCodePoint(),V6;break;case t6:var C=this.peekCodePoint(0),b=this.peekCodePoint(1),N=this.peekCodePoint(2);if(wh(C,b,N)){var l=this.consumeName();return{type:7,value:l}}break;case r6:return z6;case J0:if(Wl(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case n6:return W6;case i6:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),D6;break;case s6:return L6;case a6:return Q6;case w6:case y6:var R=this.peekCodePoint(0),k=this.peekCodePoint(1);return R===WA&&($c(k)||k===mh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case ib:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),M6;if(this.peekCodePoint(0)===ib)return this.consumeCodePoint(),U6;break;case o6:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),O6;break;case xo:return Kx}return xh(e)?(this.consumeWhiteSpace(),X6):ss(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):p1(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ii(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();$c(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===mh&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(ii.apply(void 0,e.map(function(g){return g===mh?Z4:g})),16),s=parseInt(ii.apply(void 0,e.map(function(g){return g===mh?nS:g})),16);return{type:30,start:i,end:s}}var l=parseInt(ii.apply(void 0,e),16);if(this.peekCodePoint(0)===qs&&$c(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var c=[];$c(r)&&c.length<6;)c.push(r),r=this.consumeCodePoint();var s=parseInt(ii.apply(void 0,c),16);return{type:30,start:l,end:s}}else return{type:30,start:l,end:l}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ph?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ph?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===xo)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===gh||r===hh){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===xo||this.peekCodePoint(0)===N0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),vh)}for(;;){var i=this.consumeCodePoint();if(i===xo||i===N0)return{type:22,value:ii.apply(void 0,e)};if(xh(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===xo||this.peekCodePoint(0)===N0?(this.consumeCodePoint(),{type:22,value:ii.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vh);if(i===hh||i===gh||i===ph||S6(i))return this.consumeBadUrlRemnants(),vh;if(i===J0)if(Wl(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),vh;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;xh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===N0||e===xo)return;Wl(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=ii.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===xo||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===g1)return this._value.splice(0,n),H6;if(i===J0){var s=this._value[n+1];s!==xo&&s!==void 0&&(s===g1?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Wl(i,s)&&(r+=this.consumeStringSlice(n),r+=ii(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Of,n=this.peekCodePoint(0);for((n===WA||n===qs)&&e.push(this.consumeCodePoint());ss(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===xf&&ss(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=rb;ss(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===rS||n===eS)&&((i===WA||i===qs)&&ss(s)||ss(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=rb;ss(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[I6(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),l=this.peekCodePoint(2);if(wh(i,s,l)){var c=this.consumeName();return{type:15,number:r,flags:n,unit:c}}return i===Y5?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if($c(e)){for(var r=ii(e);$c(this.peekCodePoint(0))&&r.length<6;)r+=ii(this.consumeCodePoint());xh(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||E6(n)||n>1114111?sb:n}return e===xo?sb:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(ab(r))e+=ii(r);else if(Wl(r,this.peekCodePoint(0)))e+=ii(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t})(),sS=(function(){function t(e){this._tokens=e}return t.create=function(e){var r=new iS;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||Y6(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Kx:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),Lf=function(t){return t.type===15},Du=function(t){return t.type===17},xn=function(t){return t.type===20},q6=function(t){return t.type===0},zx=function(t,e){return xn(t)&&t.value===e},aS=function(t){return t.type!==31},bu=function(t){return t.type!==31&&t.type!==4},_o=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},Y6=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},lA=function(t){return t.type===17||t.type===15},gi=function(t){return t.type===16||lA(t)},oS=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},zi={type:17,number:0,flags:Of},ew={type:16,number:50,flags:Of},Yl={type:16,number:100,flags:Of},L0=function(t,e,r){var n=t[0],i=t[1];return[bn(n,e),bn(typeof i<"u"?i:n,r)]},bn=function(t,e){if(t.type===16)return t.number/100*e;if(Lf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},lS="deg",AS="grad",cS="rad",uS="turn",og={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case lS:return Math.PI*e.number/180;case AS:return Math.PI/200*e.number;case cS:return e.number;case uS:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},fS=function(t){return t.type===15&&(t.unit===lS||t.unit===AS||t.unit===cS||t.unit===uS)},dS=function(t){var e=t.filter(xn).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[zi,zi];case"to top":case"bottom":return Ua(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[zi,Yl];case"to right":case"left":return Ua(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Yl,Yl];case"to bottom":case"top":return Ua(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Yl,zi];case"to left":case"right":return Ua(270)}return 0},Ua=function(t){return Math.PI*t/180},tA={name:"color",parse:function(t,e){if(e.type===18){var r=J6[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Jl(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),l=e.value.substring(3,4);return Jl(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(l+l,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Jl(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),l=e.value.substring(6,8);return Jl(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(l,16)/255)}}if(e.type===20){var c=il[e.value.toUpperCase()];if(typeof c<"u")return c}return il.TRANSPARENT}},rA=function(t){return(255&t)===0},Ii=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},Jl=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},ob=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},lb=function(t,e){var r=e.filter(bu);if(r.length===3){var n=r.map(ob),i=n[0],s=n[1],l=n[2];return Jl(i,s,l,1)}if(r.length===4){var c=r.map(ob),i=c[0],s=c[1],l=c[2],g=c[3];return Jl(i,s,l,g)}return 0};function Km(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var Ab=function(t,e){var r=e.filter(bu),n=r[0],i=r[1],s=r[2],l=r[3],c=(n.type===17?Ua(n.number):og.parse(t,n))/(Math.PI*2),g=gi(i)?i.number/100:0,d=gi(s)?s.number/100:0,m=typeof l<"u"&&gi(l)?bn(l,1):1;if(g===0)return Jl(d*255,d*255,d*255,1);var C=d<=.5?d*(g+1):d+g-d*g,b=d*2-C,N=Km(b,C,c+1/3),R=Km(b,C,c),k=Km(b,C,c-1/3);return Jl(N*255,R*255,k*255,m)},J6={hsl:Ab,hsla:Ab,rgb:lb,rgba:lb},Z0=function(t,e){return tA.parse(t,sS.create(e).parseComponentValue())},il={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Z6={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(xn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$6={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lg=function(t,e){var r=tA.parse(t,e[0]),n=e[1];return n&&gi(n)?{color:r,stop:n}:{color:r,stop:null}},cb=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=zi),n.stop===null&&(n.stop=Yl);for(var i=[],s=0,l=0;l<t.length;l++){var c=t[l].stop;if(c!==null){var g=bn(c,e);g>s?i.push(g):i.push(s),s=g}else i.push(null)}for(var d=null,l=0;l<i.length;l++){var m=i[l];if(m===null)d===null&&(d=l);else if(d!==null){for(var C=l-d,b=i[d-1],N=(m-b)/(C+1),R=1;R<=C;R++)i[d+R-1]=N*R;d=null}}return t.map(function(k,U){var j=k.color;return{color:j,stop:Math.max(Math.min(1,i[U]/e),0)}})},ek=function(t,e,r){var n=e/2,i=r/2,s=bn(t[0],e)-n,l=i-bn(t[1],r);return(Math.atan2(l,s)+Math.PI*2)%(Math.PI*2)},tk=function(t,e,r){var n=typeof t=="number"?t:ek(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,l=r/2,c=i/2,g=Math.sin(n-Math.PI/2)*c,d=Math.cos(n-Math.PI/2)*c;return[i,s-d,s+d,l-g,l+g]},$a=function(t,e){return Math.sqrt(t*t+e*e)},ub=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(l,c){var g=c[0],d=c[1],m=$a(r-g,n-d);return(i?m<l.optimumDistance:m>l.optimumDistance)?{optimumCorner:c,optimumDistance:m}:l},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},rk=function(t,e,r,n,i){var s=0,l=0;switch(t.size){case 0:t.shape===0?s=l=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),l=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=l=Math.min($a(e,r),$a(e,r-i),$a(e-n,r),$a(e-n,r-i));else if(t.shape===1){var c=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),g=ub(n,i,e,r,!0),d=g[0],m=g[1];s=$a(d-e,(m-r)/c),l=c*s}break;case 1:t.shape===0?s=l=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),l=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=l=Math.max($a(e,r),$a(e,r-i),$a(e-n,r),$a(e-n,r-i));else if(t.shape===1){var c=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),C=ub(n,i,e,r,!1),d=C[0],m=C[1];s=$a(d-e,(m-r)/c),l=c*s}break}return Array.isArray(t.size)&&(s=bn(t.size[0],n),l=t.size.length===2?bn(t.size[1],i):s),[s,l]},nk=function(t,e){var r=Ua(180),n=[];return _o(e).forEach(function(i,s){if(s===0){var l=i[0];if(l.type===20&&l.value==="to"){r=dS(i);return}else if(fS(l)){r=og.parse(t,l);return}}var c=lg(t,i);n.push(c)}),{angle:r,stops:n,type:1}},yh=function(t,e){var r=Ua(180),n=[];return _o(e).forEach(function(i,s){if(s===0){var l=i[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){r=dS(i);return}else if(fS(l)){r=(og.parse(t,l)+Ua(270))%Ua(360);return}}var c=lg(t,i);n.push(c)}),{angle:r,stops:n,type:1}},ik=function(t,e){var r=Ua(180),n=[],i=1,s=0,l=3,c=[];return _o(e).forEach(function(g,d){var m=g[0];if(d===0){if(xn(m)&&m.value==="linear"){i=1;return}else if(xn(m)&&m.value==="radial"){i=2;return}}if(m.type===18){if(m.name==="from"){var C=tA.parse(t,m.values[0]);n.push({stop:zi,color:C})}else if(m.name==="to"){var C=tA.parse(t,m.values[0]);n.push({stop:Yl,color:C})}else if(m.name==="color-stop"){var b=m.values.filter(bu);if(b.length===2){var C=tA.parse(t,b[1]),N=b[0];Du(N)&&n.push({stop:{type:16,number:N.number*100,flags:N.flags},color:C})}}}}),i===1?{angle:(r+Ua(180))%Ua(360),stops:n,type:i}:{size:l,shape:s,stops:n,position:c,type:i}},hS="closest-side",gS="farthest-side",pS="closest-corner",mS="farthest-corner",xS="circle",wS="ellipse",vS="cover",yS="contain",sk=function(t,e){var r=0,n=3,i=[],s=[];return _o(e).forEach(function(l,c){var g=!0;if(c===0){var d=!1;g=l.reduce(function(C,b){if(d)if(xn(b))switch(b.value){case"center":return s.push(ew),C;case"top":case"left":return s.push(zi),C;case"right":case"bottom":return s.push(Yl),C}else(gi(b)||lA(b))&&s.push(b);else if(xn(b))switch(b.value){case xS:return r=0,!1;case wS:return r=1,!1;case"at":return d=!0,!1;case hS:return n=0,!1;case vS:case gS:return n=1,!1;case yS:case pS:return n=2,!1;case mS:return n=3,!1}else if(lA(b)||gi(b))return Array.isArray(n)||(n=[]),n.push(b),!1;return C},g)}if(g){var m=lg(t,l);i.push(m)}}),{size:n,shape:r,stops:i,position:s,type:2}},Ch=function(t,e){var r=0,n=3,i=[],s=[];return _o(e).forEach(function(l,c){var g=!0;if(c===0?g=l.reduce(function(m,C){if(xn(C))switch(C.value){case"center":return s.push(ew),!1;case"top":case"left":return s.push(zi),!1;case"right":case"bottom":return s.push(Yl),!1}else if(gi(C)||lA(C))return s.push(C),!1;return m},g):c===1&&(g=l.reduce(function(m,C){if(xn(C))switch(C.value){case xS:return r=0,!1;case wS:return r=1,!1;case yS:case hS:return n=0,!1;case gS:return n=1,!1;case pS:return n=2,!1;case vS:case mS:return n=3,!1}else if(lA(C)||gi(C))return Array.isArray(n)||(n=[]),n.push(C),!1;return m},g)),g){var d=lg(t,l);i.push(d)}}),{size:n,shape:r,stops:i,position:s,type:2}},ak=function(t){return t.type===1},ok=function(t){return t.type===2},tw={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=CS[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function lk(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!CS[t.name])}var CS={"linear-gradient":nk,"-moz-linear-gradient":yh,"-ms-linear-gradient":yh,"-o-linear-gradient":yh,"-webkit-linear-gradient":yh,"radial-gradient":sk,"-moz-radial-gradient":Ch,"-ms-radial-gradient":Ch,"-o-radial-gradient":Ch,"-webkit-radial-gradient":Ch,"-webkit-gradient":ik},Ak={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return bu(n)&&lk(n)}).map(function(n){return tw.parse(t,n)})}},ck={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(xn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uk={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return _o(e).map(function(r){return r.filter(gi)}).map(oS)}},fk={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return _o(e).map(function(r){return r.filter(xn).map(function(n){return n.value}).join(" ")}).map(dk)}},dk=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},mu;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(mu||(mu={}));var hk={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return _o(e).map(function(r){return r.filter(gk)})}},gk=function(t){return xn(t)||gi(t)},Ag=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},pk=Ag("top"),mk=Ag("right"),xk=Ag("bottom"),wk=Ag("left"),cg=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return oS(r.filter(gi))}}},vk=cg("top-left"),yk=cg("top-right"),Ck=cg("bottom-right"),Ek=cg("bottom-left"),ug=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},bk=ug("top"),Bk=ug("right"),_k=ug("bottom"),Tk=ug("left"),fg=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Lf(r)?r.number:0}}},Sk=fg("top"),Ik=fg("right"),Nk=fg("bottom"),Fk=fg("left"),Rk={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},kk={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Dk={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(xn).reduce(function(r,n){return r|Uk(n.value)},0)}},Uk=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Mk={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Ok={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},m1;(function(t){t.NORMAL="normal",t.STRICT="strict"})(m1||(m1={}));var Lk={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return m1.STRICT;case"normal":default:return m1.NORMAL}}},Qk={name:"line-height",initialValue:"normal",prefix:!1,type:4},fb=function(t,e){return xn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:gi(t)?bn(t,e):e},Pk={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:tw.parse(t,e)}},Hk={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Wx={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},dg=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Vk=dg("top"),jk=dg("right"),Gk=dg("bottom"),Kk=dg("left"),zk={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(xn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Wk={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},hg=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Xk=hg("top"),qk=hg("right"),Yk=hg("bottom"),Jk=hg("left"),Zk={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},$k={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},eD={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&zx(e[0],"none")?[]:_o(e).map(function(r){for(var n={color:il.TRANSPARENT,offsetX:zi,offsetY:zi,blur:zi},i=0,s=0;s<r.length;s++){var l=r[s];lA(l)?(i===0?n.offsetX=l:i===1?n.offsetY=l:n.blur=l,i++):n.color=tA.parse(t,l)}return n})}},tD={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},rD={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=sD[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},nD=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},iD=function(t){var e=t.filter(function(g){return g.type===17}).map(function(g){return g.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var l=e[12],c=e[13];return e[14],e[15],e.length===16?[r,n,i,s,l,c]:null},sD={matrix:nD,matrix3d:iD},db={type:16,number:50,flags:Of},aD=[db,db],oD={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(gi);return r.length!==2?aD:[r[0],r[1]]}},lD={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},$0;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})($0||($0={}));var AD={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return $0.BREAK_ALL;case"keep-all":return $0.KEEP_ALL;case"normal":default:return $0.NORMAL}}},cD={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Du(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},ES={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},uD={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Du(e)?e.number:1}},fD={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dD={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(xn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},hD={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},gD={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},pD={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Du(e))return e.number;if(xn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},mD={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(xn).map(function(r){return r.value})}},xD={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},yi=function(t,e){return(t&e)!==0},wD={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},vD={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(aS),s=0;s<i.length;s++){var l=i[s],c=i[s+1];if(l.type===20){var g=c&&Du(c)?c.number:1;n.push({counter:l.value,increment:g})}}return n}},yD={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(aS),i=0;i<n.length;i++){var s=n[i],l=n[i+1];if(xn(s)&&s.value!=="none"){var c=l&&Du(l)?l.number:0;r.push({counter:s.value,reset:c})}}return r}},CD={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Lf).map(function(r){return ES.parse(t,r)})}},ED={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(q6);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var l=i[s].value,c=i[s+1].value;n.push({open:l,close:c})}return n}},hb=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},bD={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&zx(e[0],"none")?[]:_o(e).map(function(r){for(var n={color:255,offsetX:zi,offsetY:zi,blur:zi,spread:zi,inset:!1},i=0,s=0;s<r.length;s++){var l=r[s];zx(l,"inset")?n.inset=!0:lA(l)?(i===0?n.offsetX=l:i===1?n.offsetY=l:i===2?n.blur=l:n.spread=l,i++):n.color=tA.parse(t,l)}return n})}},BD={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(xn).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},_D={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},TD={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Lf(e)?e.number:0}},SD=(function(){function t(e,r){var n,i;this.animationDuration=Lt(e,CD,r.animationDuration),this.backgroundClip=Lt(e,Z6,r.backgroundClip),this.backgroundColor=Lt(e,$6,r.backgroundColor),this.backgroundImage=Lt(e,Ak,r.backgroundImage),this.backgroundOrigin=Lt(e,ck,r.backgroundOrigin),this.backgroundPosition=Lt(e,uk,r.backgroundPosition),this.backgroundRepeat=Lt(e,fk,r.backgroundRepeat),this.backgroundSize=Lt(e,hk,r.backgroundSize),this.borderTopColor=Lt(e,pk,r.borderTopColor),this.borderRightColor=Lt(e,mk,r.borderRightColor),this.borderBottomColor=Lt(e,xk,r.borderBottomColor),this.borderLeftColor=Lt(e,wk,r.borderLeftColor),this.borderTopLeftRadius=Lt(e,vk,r.borderTopLeftRadius),this.borderTopRightRadius=Lt(e,yk,r.borderTopRightRadius),this.borderBottomRightRadius=Lt(e,Ck,r.borderBottomRightRadius),this.borderBottomLeftRadius=Lt(e,Ek,r.borderBottomLeftRadius),this.borderTopStyle=Lt(e,bk,r.borderTopStyle),this.borderRightStyle=Lt(e,Bk,r.borderRightStyle),this.borderBottomStyle=Lt(e,_k,r.borderBottomStyle),this.borderLeftStyle=Lt(e,Tk,r.borderLeftStyle),this.borderTopWidth=Lt(e,Sk,r.borderTopWidth),this.borderRightWidth=Lt(e,Ik,r.borderRightWidth),this.borderBottomWidth=Lt(e,Nk,r.borderBottomWidth),this.borderLeftWidth=Lt(e,Fk,r.borderLeftWidth),this.boxShadow=Lt(e,bD,r.boxShadow),this.color=Lt(e,Rk,r.color),this.direction=Lt(e,kk,r.direction),this.display=Lt(e,Dk,r.display),this.float=Lt(e,Mk,r.cssFloat),this.fontFamily=Lt(e,hD,r.fontFamily),this.fontSize=Lt(e,gD,r.fontSize),this.fontStyle=Lt(e,xD,r.fontStyle),this.fontVariant=Lt(e,mD,r.fontVariant),this.fontWeight=Lt(e,pD,r.fontWeight),this.letterSpacing=Lt(e,Ok,r.letterSpacing),this.lineBreak=Lt(e,Lk,r.lineBreak),this.lineHeight=Lt(e,Qk,r.lineHeight),this.listStyleImage=Lt(e,Pk,r.listStyleImage),this.listStylePosition=Lt(e,Hk,r.listStylePosition),this.listStyleType=Lt(e,Wx,r.listStyleType),this.marginTop=Lt(e,Vk,r.marginTop),this.marginRight=Lt(e,jk,r.marginRight),this.marginBottom=Lt(e,Gk,r.marginBottom),this.marginLeft=Lt(e,Kk,r.marginLeft),this.opacity=Lt(e,uD,r.opacity);var s=Lt(e,zk,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Lt(e,Wk,r.overflowWrap),this.paddingTop=Lt(e,Xk,r.paddingTop),this.paddingRight=Lt(e,qk,r.paddingRight),this.paddingBottom=Lt(e,Yk,r.paddingBottom),this.paddingLeft=Lt(e,Jk,r.paddingLeft),this.paintOrder=Lt(e,BD,r.paintOrder),this.position=Lt(e,$k,r.position),this.textAlign=Lt(e,Zk,r.textAlign),this.textDecorationColor=Lt(e,fD,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Lt(e,dD,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Lt(e,eD,r.textShadow),this.textTransform=Lt(e,tD,r.textTransform),this.transform=Lt(e,rD,r.transform),this.transformOrigin=Lt(e,oD,r.transformOrigin),this.visibility=Lt(e,lD,r.visibility),this.webkitTextStrokeColor=Lt(e,_D,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Lt(e,TD,r.webkitTextStrokeWidth),this.wordBreak=Lt(e,AD,r.wordBreak),this.zIndex=Lt(e,cD,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return rA(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return yi(this.display,4)||yi(this.display,33554432)||yi(this.display,268435456)||yi(this.display,536870912)||yi(this.display,67108864)||yi(this.display,134217728)},t})(),ID=(function(){function t(e,r){this.content=Lt(e,wD,r.content),this.quotes=Lt(e,ED,r.quotes)}return t})(),gb=(function(){function t(e,r){this.counterIncrement=Lt(e,vD,r.counterIncrement),this.counterReset=Lt(e,yD,r.counterReset)}return t})(),Lt=function(t,e,r){var n=new iS,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new sS(n.read());switch(e.type){case 2:var l=s.parseComponentValue();return e.parse(t,xn(l)?l.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return og.parse(t,s.parseComponentValue());case"color":return tA.parse(t,s.parseComponentValue());case"image":return tw.parse(t,s.parseComponentValue());case"length":var c=s.parseComponentValue();return lA(c)?c:zi;case"length-percentage":var g=s.parseComponentValue();return gi(g)?g:zi;case"time":return ES.parse(t,s.parseComponentValue())}break}},ND="data-html2canvas-debug",FD=function(t){var e=t.getAttribute(ND);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Xx=function(t,e){var r=FD(t);return r===1||e===r},To=(function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Xx(r,3))debugger;this.styles=new SD(e,window.getComputedStyle(r,null)),Jx(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=sg(this.context,r),Xx(r,4)&&(this.flags|=16)}return t})(),RD="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",pb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eh=0;Eh<pb.length;Eh++)Q0[pb.charCodeAt(Eh)]=Eh;var kD=function(t){var e=t.length*.75,r=t.length,n,i=0,s,l,c,g;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)s=Q0[t.charCodeAt(n)],l=Q0[t.charCodeAt(n+1)],c=Q0[t.charCodeAt(n+2)],g=Q0[t.charCodeAt(n+3)],m[i++]=s<<2|l>>4,m[i++]=(l&15)<<4|c>>2,m[i++]=(c&3)<<6|g&63;return d},DD=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},UD=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},ZA=5,rw=11,zm=2,MD=rw-ZA,bS=65536>>ZA,OD=1<<ZA,Wm=OD-1,LD=1024>>ZA,QD=bS+LD,PD=QD,HD=32,VD=PD+HD,jD=65536>>rw,GD=1<<MD,KD=GD-1,mb=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},zD=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},WD=function(t,e){var r=kD(t),n=Array.isArray(r)?UD(r):new Uint32Array(r),i=Array.isArray(r)?DD(r):new Uint16Array(r),s=24,l=mb(i,s/2,n[4]/2),c=n[5]===2?mb(i,(s+n[4])/2):zD(n,Math.ceil((s+n[4])/4));return new XD(n[0],n[1],n[2],n[3],l,c)},XD=(function(){function t(e,r,n,i,s,l){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=l}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>ZA],r=(r<<zm)+(e&Wm),this.data[r];if(e<=65535)return r=this.index[bS+(e-55296>>ZA)],r=(r<<zm)+(e&Wm),this.data[r];if(e<this.highStart)return r=VD-jD+(e>>rw),r=this.index[r],r+=e>>ZA&KD,r=this.index[r],r=(r<<zm)+(e&Wm),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),xb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bh=0;bh<xb.length;bh++)qD[xb.charCodeAt(bh)]=bh;var YD=1,Xm=2,qm=3,wb=4,vb=5,JD=7,yb=8,Ym=9,Jm=10,Cb=11,Eb=12,bb=13,Bb=14,Zm=15,ZD=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},$D=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var l=t[i];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},eU=WD(RD),Ra="",$m="",tU=function(t){return eU.get(t)},rU=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],l=e[r];if(s===Xm&&l===qm)return Ra;if(s===Xm||s===qm||s===wb||l===Xm||l===qm||l===wb)return $m;if(s===yb&&[yb,Ym,Cb,Eb].indexOf(l)!==-1||(s===Cb||s===Ym)&&(l===Ym||l===Jm)||(s===Eb||s===Jm)&&l===Jm||l===bb||l===vb||l===JD||s===YD)return Ra;if(s===bb&&l===Bb){for(;i===vb;)i=e[--n];if(i===Bb)return Ra}if(s===Zm&&l===Zm){for(var c=0;i===Zm;)c++,i=e[--n];if(c%2===0)return Ra}return $m},nU=function(t){var e=ZD(t),r=e.length,n=0,i=0,s=e.map(tU);return{next:function(){if(n>=r)return{done:!0,value:null};for(var l=Ra;n<r&&(l=rU(e,s,++n))===Ra;);if(l!==Ra||n===r){var c=$D.apply(null,e.slice(i,n));return i=n,{value:c,done:!1}}return{done:!0,value:null}}}},iU=function(t){for(var e=nU(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},sU=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},aU=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=ag(n.data).map(function(g){return ii(g)}),s=0,l={},c=i.every(function(g,d){r.setStart(n,s),r.setEnd(n,s+g.length);var m=r.getBoundingClientRect();s+=g.length;var C=m.x>l.x||m.y>l.y;return l=m,d===0?!0:C});return t.body.removeChild(e),c},oU=function(){return typeof new Image().crossOrigin<"u"},lU=function(){return typeof new XMLHttpRequest().responseType=="string"},AU=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},_b=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},cU=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var l=qx(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),Tb(l).then(function(c){n.drawImage(c,0,0);var g=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=t.createElement("div");return d.style.backgroundImage="url("+s+")",d.style.height=r+"px",_b(g)?Tb(qx(r,r,0,0,d)):Promise.reject(!1)}).then(function(c){return n.drawImage(c,0,0),_b(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},qx=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",l=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject");return l.setAttributeNS(null,"width",t.toString()),l.setAttributeNS(null,"height",e.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(c),c.appendChild(i),l},Tb=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Vi={get SUPPORT_RANGE_BOUNDS(){var t=sU(document);return Object.defineProperty(Vi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Vi.SUPPORT_RANGE_BOUNDS&&aU(document);return Object.defineProperty(Vi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=AU(document);return Object.defineProperty(Vi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?cU(document):Promise.resolve(!1);return Object.defineProperty(Vi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=oU();return Object.defineProperty(Vi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=lU();return Object.defineProperty(Vi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Vi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Vi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},ef=(function(){function t(e,r){this.text=e,this.bounds=r}return t})(),uU=function(t,e,r,n){var i=hU(e,r),s=[],l=0;return i.forEach(function(c){if(r.textDecorationLine.length||c.trim().length>0)if(Vi.SUPPORT_RANGE_BOUNDS){var g=Sb(n,l,c.length).getClientRects();if(g.length>1){var d=nw(c),m=0;d.forEach(function(b){s.push(new ef(b,ol.fromDOMRectList(t,Sb(n,m+l,b.length).getClientRects()))),m+=b.length})}else s.push(new ef(c,ol.fromDOMRectList(t,g)))}else{var C=n.splitText(c.length);s.push(new ef(c,fU(t,n))),n=C}else Vi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(c.length));l+=c.length}),s},fU=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=sg(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return ol.EMPTY},Sb=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},nw=function(t){if(Vi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return iU(t)},dU=function(t,e){if(Vi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return pU(t,e)},hU=function(t,e){return e.letterSpacing!==0?nw(t):dU(t,e)},gU=[32,160,4961,65792,65793,4153,4241],pU=function(t,e){for(var r=j5(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var l=i.value.slice(),c=ag(l),g="";c.forEach(function(d){gU.indexOf(d)===-1?g+=ii(d):(g.length&&n.push(g),n.push(ii(d)),g="")}),g.length&&n.push(g)}};!(i=r.next()).done;)s();return n},mU=(function(){function t(e,r,n){this.text=xU(r.data,n.textTransform),this.textBounds=uU(e,this.text,n,r)}return t})(),xU=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(wU,vU);case 2:return t.toUpperCase();default:return t}},wU=/(^|\s|:|-|\(|\))([a-z])/g,vU=function(t,e,r){return t.length>0?e+r.toUpperCase():t},BS=(function(t){oo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e})(To),_S=(function(t){oo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e})(To),TS=(function(t){oo(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,l=sg(r,n);return n.setAttribute("width",l.width+"px"),n.setAttribute("height",l.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(To),SS=(function(t){oo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(To),Yx=(function(t){oo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e})(To),yU=[{type:15,flags:0,unit:"px",number:3}],CU=[{type:16,flags:0,number:50}],EU=function(t){return t.width>t.height?new ol(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ol(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},bU=function(t){var e=t.type===BU?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},x1="checkbox",w1="radio",BU="password",Ib=707406591,iw=(function(t){oo(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=bU(n),(i.type===x1||i.type===w1)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=EU(i.bounds)),i.type){case x1:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=yU;break;case w1:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=CU;break}return i}return e})(To),IS=(function(t){oo(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(To),NS=(function(t){oo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(To),FS=(function(t){oo(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=kS(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Z0(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):il.TRANSPARENT,l=n.contentWindow.document.body?Z0(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):il.TRANSPARENT;i.backgroundColor=rA(s)?rA(l)?i.styles.backgroundColor:l:s}}catch{}return i}return e})(To),_U=["OL","UL","MENU"],a1=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,DS(i)&&i.data.trim().length>0)r.textNodes.push(new mU(t,i,r.styles));else if(fu(i))if(LS(i)&&i.assignedNodes)i.assignedNodes().forEach(function(c){return a1(t,c,r,n)});else{var l=RS(t,i);l.styles.isVisible()&&(TU(i,l,n)?l.flags|=4:SU(l.styles)&&(l.flags|=2),_U.indexOf(i.tagName)!==-1&&(l.flags|=8),r.elements.push(l),i.slot,i.shadowRoot?a1(t,i.shadowRoot,l,n):!v1(i)&&!US(i)&&!y1(i)&&a1(t,i,l,n))}},RS=function(t,e){return Zx(e)?new BS(t,e):MS(e)?new _S(t,e):US(e)?new TS(t,e):IU(e)?new SS(t,e):NU(e)?new Yx(t,e):FU(e)?new iw(t,e):y1(e)?new IS(t,e):v1(e)?new NS(t,e):OS(e)?new FS(t,e):new To(t,e)},kS=function(t,e){var r=RS(t,e);return r.flags|=4,a1(t,e,r,r),r},TU=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||sw(t)&&r.styles.isTransparent()},SU=function(t){return t.isPositioned()||t.isFloating()},DS=function(t){return t.nodeType===Node.TEXT_NODE},fu=function(t){return t.nodeType===Node.ELEMENT_NODE},Jx=function(t){return fu(t)&&typeof t.style<"u"&&!o1(t)},o1=function(t){return typeof t.className=="object"},IU=function(t){return t.tagName==="LI"},NU=function(t){return t.tagName==="OL"},FU=function(t){return t.tagName==="INPUT"},RU=function(t){return t.tagName==="HTML"},US=function(t){return t.tagName==="svg"},sw=function(t){return t.tagName==="BODY"},MS=function(t){return t.tagName==="CANVAS"},Nb=function(t){return t.tagName==="VIDEO"},Zx=function(t){return t.tagName==="IMG"},OS=function(t){return t.tagName==="IFRAME"},Fb=function(t){return t.tagName==="STYLE"},kU=function(t){return t.tagName==="SCRIPT"},v1=function(t){return t.tagName==="TEXTAREA"},y1=function(t){return t.tagName==="SELECT"},LS=function(t){return t.tagName==="SLOT"},Rb=function(t){return t.tagName.indexOf("-")>0},DU=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(c){var g=r.counters[c.counter];g&&c.increment!==0&&(s=!1,g.length||g.push(1),g[Math.max(0,g.length-1)]+=c.increment)});var l=[];return s&&i.forEach(function(c){var g=r.counters[c.counter];l.push(c.counter),g||(g=r.counters[c.counter]=[]),g.push(c.reset)}),l},t})(),kb={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Db={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},UU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},MU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},eu=function(t,e,r,n,i,s){return t<e||t>r?wf(t,i,s.length>0):n.integers.reduce(function(l,c,g){for(;t>=c;)t-=c,l+=n.values[g];return l},"")+s},QS=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},ri=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(QS(Math.abs(t),s,n,function(l){return ii(Math.floor(l%s)+e)})+i)},VA=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return QS(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},su=1,Kl=2,zl=4,P0=8,tl=function(t,e,r,n,i,s){if(t<-9999||t>9999)return wf(t,4,i.length>0);var l=Math.abs(t),c=i;if(l===0)return e[0]+c;for(var g=0;l>0&&g<=4;g++){var d=l%10;d===0&&yi(s,su)&&c!==""?c=e[d]+c:d>1||d===1&&g===0||d===1&&g===1&&yi(s,Kl)||d===1&&g===1&&yi(s,zl)&&t>100||d===1&&g>1&&yi(s,P0)?c=e[d]+(g>0?r[g-1]:"")+c:d===1&&g>0&&(c=r[g-1]+c),l=Math.floor(l/10)}return(t<0?n:"")+c},Ub="",Mb="",Ob="",ex="",wf=function(t,e,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",l=r?" ":"";switch(e){case 0:return""+l;case 1:return""+l;case 2:return""+l;case 5:var c=ri(t,48,57,!0,n);return c.length<4?"0"+c:c;case 4:return VA(t,"",i);case 6:return eu(t,1,3999,kb,3,n).toLowerCase();case 7:return eu(t,1,3999,kb,3,n);case 8:return ri(t,945,969,!1,n);case 9:return ri(t,97,122,!1,n);case 10:return ri(t,65,90,!1,n);case 11:return ri(t,1632,1641,!0,n);case 12:case 49:return eu(t,1,9999,Db,3,n);case 35:return eu(t,1,9999,Db,3,n).toLowerCase();case 13:return ri(t,2534,2543,!0,n);case 14:case 30:return ri(t,6112,6121,!0,n);case 15:return VA(t,"",i);case 16:return VA(t,"",i);case 17:case 48:return tl(t,"",Ub,"",i,Kl|zl|P0);case 47:return tl(t,"",Mb,"",i,su|Kl|zl|P0);case 42:return tl(t,"",Ub,"",i,Kl|zl|P0);case 41:return tl(t,"",Mb,"",i,su|Kl|zl|P0);case 26:return tl(t,"","",Ob,i,0);case 25:return tl(t,"","",Ob,i,su|Kl|zl);case 31:return tl(t,"","",ex,s,su|Kl|zl);case 33:return tl(t,"","",ex,s,0);case 32:return tl(t,"","",ex,s,su|Kl|zl);case 18:return ri(t,2406,2415,!0,n);case 20:return eu(t,1,19999,MU,3,n);case 21:return ri(t,2790,2799,!0,n);case 22:return ri(t,2662,2671,!0,n);case 22:return eu(t,1,10999,UU,3,n);case 23:return VA(t,"");case 24:return VA(t,"");case 27:return ri(t,3302,3311,!0,n);case 28:return VA(t,"",i);case 29:return VA(t,"",i);case 34:return ri(t,3792,3801,!0,n);case 37:return ri(t,6160,6169,!0,n);case 38:return ri(t,4160,4169,!0,n);case 39:return ri(t,2918,2927,!0,n);case 40:return ri(t,1776,1785,!0,n);case 43:return ri(t,3046,3055,!0,n);case 44:return ri(t,3174,3183,!0,n);case 45:return ri(t,3664,3673,!0,n);case 46:return ri(t,3872,3881,!0,n);case 3:default:return ri(t,48,57,!0,n)}},PS="data-html2canvas-ignore",Lb=(function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new DU,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=OU(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset,c=i.contentWindow,g=c.document,d=PU(i).then(function(){return ys(n,void 0,void 0,function(){var m,C;return ns(this,function(b){switch(b.label){case 0:return this.scrolledElements.forEach(GU),c&&(c.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==r.top||c.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-r.left,c.scrollY-r.top,0,0))),m=this.options.onclone,C=this.clonedReferenceElement,typeof C>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:g.fonts&&g.fonts.ready?[4,g.fonts.ready]:[3,2];case 1:b.sent(),b.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,QU(g)]:[3,4];case 3:b.sent(),b.label=4;case 4:return typeof m=="function"?[2,Promise.resolve().then(function(){return m(g,C)}).then(function(){return i})]:[2,i]}})})});return g.open(),g.write(VU(document.doctype)+"<html></html>"),jU(this.referenceElement.ownerDocument,s,l),g.replaceChild(g.adoptNode(this.documentElement),g.documentElement),g.close(),d},t.prototype.createElementClone=function(e){if(Xx(e,2))debugger;if(MS(e))return this.createCanvasClone(e);if(Nb(e))return this.createVideoClone(e);if(Fb(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Zx(r)&&(Zx(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Rb(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return tx(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,l){return l&&typeof l.cssText=="string"?s+l.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),l=i.getContext("2d");if(l)if(!this.options.allowTaint&&s)l.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var c=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(c){var g=c.getContextAttributes();(g==null?void 0:g.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}l.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!fu(r)||!kU(r)&&!r.hasAttribute(PS)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!fu(r)||!Fb(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(fu(s)&&LS(s)&&typeof s.assignedNodes=="function"){var l=s.assignedNodes();l.length&&l.forEach(function(c){return i.appendChildNode(r,c,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(DS(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&fu(e)&&(Jx(e)||o1(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),l=n.getComputedStyle(e,":before"),c=n.getComputedStyle(e,":after");this.referenceElement===e&&Jx(i)&&(this.clonedReferenceElement=i),sw(i)&&WU(i);var g=this.counters.parse(new gb(this.context,s)),d=this.resolvePseudoContent(e,i,l,tf.BEFORE);Rb(e)&&(r=!0),Nb(e)||this.cloneChildNodes(e,i,r),d&&i.insertBefore(d,i.firstChild);var m=this.resolvePseudoContent(e,i,c,tf.AFTER);return m&&i.appendChild(m),this.counters.pop(g),(s&&(this.options.copyStyles||o1(e))&&!OS(e)||r)&&tx(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(v1(e)||y1(e))&&(v1(i)||y1(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var l=n.content,c=r.ownerDocument;if(!(!c||!l||l==="none"||l==="-moz-alt-content"||n.display==="none")){this.counters.parse(new gb(this.context,n));var g=new ID(this.context,n),d=c.createElement("html2canvaspseudoelement");tx(n,d),g.content.forEach(function(C){if(C.type===0)d.appendChild(c.createTextNode(C.value));else if(C.type===22){var b=c.createElement("img");b.src=C.value,b.style.opacity="1",d.appendChild(b)}else if(C.type===18){if(C.name==="attr"){var N=C.values.filter(xn);N.length&&d.appendChild(c.createTextNode(e.getAttribute(N[0].value)||""))}else if(C.name==="counter"){var R=C.values.filter(bu),k=R[0],U=R[1];if(k&&xn(k)){var j=s.counters.getCounterValue(k.value),K=U&&xn(U)?Wx.parse(s.context,U.value):3;d.appendChild(c.createTextNode(wf(j,K,!1)))}}else if(C.name==="counters"){var Q=C.values.filter(bu),k=Q[0],J=Q[1],U=Q[2];if(k&&xn(k)){var re=s.counters.getCounterValues(k.value),G=U&&xn(U)?Wx.parse(s.context,U.value):3,M=J&&J.type===0?J.value:"",P=re.map(function(te){return wf(te,G,!1)}).join(M);d.appendChild(c.createTextNode(P))}}}else if(C.type===20)switch(C.value){case"open-quote":d.appendChild(c.createTextNode(hb(g.quotes,s.quoteDepth++,!0)));break;case"close-quote":d.appendChild(c.createTextNode(hb(g.quotes,--s.quoteDepth,!1)));break;default:d.appendChild(c.createTextNode(C.value))}}),d.className=$x+" "+e2;var m=i===tf.BEFORE?" "+$x:" "+e2;return o1(r)?r.className.baseValue+=m:r.className+=m,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),tf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(tf||(tf={}));var OU=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(PS,"true"),t.body.appendChild(r),r},LU=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},QU=function(t){return Promise.all([].slice.call(t.images,0).map(LU))},PU=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},HU=["all","d","content"],tx=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);HU.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},VU=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},jU=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},GU=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},KU=":before",zU=":after",$x="___html2canvas___pseudoelement_before",e2="___html2canvas___pseudoelement_after",Qb=`{
    content: "" !important;
    display: none !important;
}`,WU=function(t){XU(t,"."+$x+KU+Qb+`
         .`+e2+zU+Qb)},XU=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},HS=(function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),qU=(function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(nx(e)||$U(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ys(this,void 0,void 0,function(){var r,n,i,s,l=this;return ns(this,function(c){switch(c.label){case 0:return r=HS.isSameOrigin(e),n=!rx(e)&&this._options.useCORS===!0&&Vi.SUPPORT_CORS_IMAGES&&!r,i=!rx(e)&&!r&&!nx(e)&&typeof this._options.proxy=="string"&&Vi.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!rx(e)&&!nx(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(g,d){var m=new Image;m.onload=function(){return g(m)},m.onerror=d,(eM(s)||n)&&(m.crossOrigin="anonymous"),m.src=s,m.complete===!0&&setTimeout(function(){return g(m)},500),l._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,l){var c=Vi.SUPPORT_RESPONSE_TYPE?"blob":"text",g=new XMLHttpRequest;g.onload=function(){if(g.status===200)if(c==="text")s(g.response);else{var C=new FileReader;C.addEventListener("load",function(){return s(C.result)},!1),C.addEventListener("error",function(b){return l(b)},!1),C.readAsDataURL(g.response)}else l("Failed to proxy resource "+i+" with status code "+g.status)},g.onerror=l;var d=n.indexOf("?")>-1?"&":"?";if(g.open("GET",""+n+d+"url="+encodeURIComponent(e)+"&responseType="+c),c!=="text"&&g instanceof XMLHttpRequest&&(g.responseType=c),r._options.imageTimeout){var m=r._options.imageTimeout;g.timeout=m,g.ontimeout=function(){return l("Timed out ("+m+"ms) proxying "+i)}}g.send()})},t})(),YU=/^data:image\/svg\+xml/i,JU=/^data:image\/.*;base64,/i,ZU=/^data:image\/.*/i,$U=function(t){return Vi.SUPPORT_SVG_DRAWING||!tM(t)},rx=function(t){return ZU.test(t)},eM=function(t){return JU.test(t)},nx=function(t){return t.substr(0,4)==="blob"},tM=function(t){return t.substr(-3).toLowerCase()==="svg"||YU.test(t)},Mt=(function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t})(),tu=function(t,e,r){return new Mt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Bh=(function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=tu(this.start,this.startControl,e),i=tu(this.startControl,this.endControl,e),s=tu(this.endControl,this.end,e),l=tu(n,i,e),c=tu(i,s,e),g=tu(l,c,e);return r?new t(this.start,n,l,g):new t(g,c,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Da=function(t){return t.type===1},rM=(function(){function t(e){var r=e.styles,n=e.bounds,i=L0(r.borderTopLeftRadius,n.width,n.height),s=i[0],l=i[1],c=L0(r.borderTopRightRadius,n.width,n.height),g=c[0],d=c[1],m=L0(r.borderBottomRightRadius,n.width,n.height),C=m[0],b=m[1],N=L0(r.borderBottomLeftRadius,n.width,n.height),R=N[0],k=N[1],U=[];U.push((s+g)/n.width),U.push((R+C)/n.width),U.push((l+k)/n.height),U.push((d+b)/n.height);var j=Math.max.apply(Math,U);j>1&&(s/=j,l/=j,g/=j,d/=j,C/=j,b/=j,R/=j,k/=j);var K=n.width-g,Q=n.height-b,J=n.width-C,re=n.height-k,G=r.borderTopWidth,M=r.borderRightWidth,P=r.borderBottomWidth,O=r.borderLeftWidth,ee=bn(r.paddingTop,e.bounds.width),te=bn(r.paddingRight,e.bounds.width),W=bn(r.paddingBottom,e.bounds.width),q=bn(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||l>0?kn(n.left+O/3,n.top+G/3,s-O/3,l-G/3,rn.TOP_LEFT):new Mt(n.left+O/3,n.top+G/3),this.topRightBorderDoubleOuterBox=s>0||l>0?kn(n.left+K,n.top+G/3,g-M/3,d-G/3,rn.TOP_RIGHT):new Mt(n.left+n.width-M/3,n.top+G/3),this.bottomRightBorderDoubleOuterBox=C>0||b>0?kn(n.left+J,n.top+Q,C-M/3,b-P/3,rn.BOTTOM_RIGHT):new Mt(n.left+n.width-M/3,n.top+n.height-P/3),this.bottomLeftBorderDoubleOuterBox=R>0||k>0?kn(n.left+O/3,n.top+re,R-O/3,k-P/3,rn.BOTTOM_LEFT):new Mt(n.left+O/3,n.top+n.height-P/3),this.topLeftBorderDoubleInnerBox=s>0||l>0?kn(n.left+O*2/3,n.top+G*2/3,s-O*2/3,l-G*2/3,rn.TOP_LEFT):new Mt(n.left+O*2/3,n.top+G*2/3),this.topRightBorderDoubleInnerBox=s>0||l>0?kn(n.left+K,n.top+G*2/3,g-M*2/3,d-G*2/3,rn.TOP_RIGHT):new Mt(n.left+n.width-M*2/3,n.top+G*2/3),this.bottomRightBorderDoubleInnerBox=C>0||b>0?kn(n.left+J,n.top+Q,C-M*2/3,b-P*2/3,rn.BOTTOM_RIGHT):new Mt(n.left+n.width-M*2/3,n.top+n.height-P*2/3),this.bottomLeftBorderDoubleInnerBox=R>0||k>0?kn(n.left+O*2/3,n.top+re,R-O*2/3,k-P*2/3,rn.BOTTOM_LEFT):new Mt(n.left+O*2/3,n.top+n.height-P*2/3),this.topLeftBorderStroke=s>0||l>0?kn(n.left+O/2,n.top+G/2,s-O/2,l-G/2,rn.TOP_LEFT):new Mt(n.left+O/2,n.top+G/2),this.topRightBorderStroke=s>0||l>0?kn(n.left+K,n.top+G/2,g-M/2,d-G/2,rn.TOP_RIGHT):new Mt(n.left+n.width-M/2,n.top+G/2),this.bottomRightBorderStroke=C>0||b>0?kn(n.left+J,n.top+Q,C-M/2,b-P/2,rn.BOTTOM_RIGHT):new Mt(n.left+n.width-M/2,n.top+n.height-P/2),this.bottomLeftBorderStroke=R>0||k>0?kn(n.left+O/2,n.top+re,R-O/2,k-P/2,rn.BOTTOM_LEFT):new Mt(n.left+O/2,n.top+n.height-P/2),this.topLeftBorderBox=s>0||l>0?kn(n.left,n.top,s,l,rn.TOP_LEFT):new Mt(n.left,n.top),this.topRightBorderBox=g>0||d>0?kn(n.left+K,n.top,g,d,rn.TOP_RIGHT):new Mt(n.left+n.width,n.top),this.bottomRightBorderBox=C>0||b>0?kn(n.left+J,n.top+Q,C,b,rn.BOTTOM_RIGHT):new Mt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=R>0||k>0?kn(n.left,n.top+re,R,k,rn.BOTTOM_LEFT):new Mt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||l>0?kn(n.left+O,n.top+G,Math.max(0,s-O),Math.max(0,l-G),rn.TOP_LEFT):new Mt(n.left+O,n.top+G),this.topRightPaddingBox=g>0||d>0?kn(n.left+Math.min(K,n.width-M),n.top+G,K>n.width+M?0:Math.max(0,g-M),Math.max(0,d-G),rn.TOP_RIGHT):new Mt(n.left+n.width-M,n.top+G),this.bottomRightPaddingBox=C>0||b>0?kn(n.left+Math.min(J,n.width-O),n.top+Math.min(Q,n.height-P),Math.max(0,C-M),Math.max(0,b-P),rn.BOTTOM_RIGHT):new Mt(n.left+n.width-M,n.top+n.height-P),this.bottomLeftPaddingBox=R>0||k>0?kn(n.left+O,n.top+Math.min(re,n.height-P),Math.max(0,R-O),Math.max(0,k-P),rn.BOTTOM_LEFT):new Mt(n.left+O,n.top+n.height-P),this.topLeftContentBox=s>0||l>0?kn(n.left+O+q,n.top+G+ee,Math.max(0,s-(O+q)),Math.max(0,l-(G+ee)),rn.TOP_LEFT):new Mt(n.left+O+q,n.top+G+ee),this.topRightContentBox=g>0||d>0?kn(n.left+Math.min(K,n.width+O+q),n.top+G+ee,K>n.width+O+q?0:g-O+q,d-(G+ee),rn.TOP_RIGHT):new Mt(n.left+n.width-(M+te),n.top+G+ee),this.bottomRightContentBox=C>0||b>0?kn(n.left+Math.min(J,n.width-(O+q)),n.top+Math.min(Q,n.height+G+ee),Math.max(0,C-(M+te)),b-(P+W),rn.BOTTOM_RIGHT):new Mt(n.left+n.width-(M+te),n.top+n.height-(P+W)),this.bottomLeftContentBox=R>0||k>0?kn(n.left+O+q,n.top+re,Math.max(0,R-(O+q)),k-(P+W),rn.BOTTOM_LEFT):new Mt(n.left+O+q,n.top+n.height-(P+W))}return t})(),rn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(rn||(rn={}));var kn=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),l=r*s,c=n*s,g=t+r,d=e+n;switch(i){case rn.TOP_LEFT:return new Bh(new Mt(t,d),new Mt(t,d-c),new Mt(g-l,e),new Mt(g,e));case rn.TOP_RIGHT:return new Bh(new Mt(t,e),new Mt(t+l,e),new Mt(g,d-c),new Mt(g,d));case rn.BOTTOM_RIGHT:return new Bh(new Mt(g,e),new Mt(g,e+c),new Mt(t+l,d),new Mt(t,d));case rn.BOTTOM_LEFT:default:return new Bh(new Mt(g,d),new Mt(g-l,d),new Mt(t,e+c),new Mt(t,e))}},C1=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},nM=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},E1=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},iM=(function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t})(),_h=(function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t})(),sM=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),aM=function(t){return t.type===0},VS=function(t){return t.type===1},oM=function(t){return t.type===2},Pb=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},lM=function(t,e,r,n,i){return t.map(function(s,l){switch(l){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},jS=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),GS=(function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new rM(this.container),this.container.styles.opacity<1&&this.effects.push(new sM(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new iM(n,i,s))}if(this.container.styles.overflowX!==0){var l=C1(this.curves),c=E1(this.curves);Pb(l,c)?this.effects.push(new _h(l,6)):(this.effects.push(new _h(l,2)),this.effects.push(new _h(c,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(g){return!VS(g)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var l=C1(n.curves),c=E1(n.curves);Pb(l,c)||i.unshift(new _h(c,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(g){return yi(g.target,e)})},t})(),t2=function(t,e,r,n){t.container.elements.forEach(function(i){var s=yi(i.flags,4),l=yi(i.flags,2),c=new GS(i,t);yi(i.styles.display,2048)&&n.push(c);var g=yi(i.flags,8)?[]:n;if(s||l){var d=s||i.styles.isPositioned()?r:e,m=new jS(c);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var C=i.styles.zIndex.order;if(C<0){var b=0;d.negativeZIndex.some(function(R,k){return C>R.element.container.styles.zIndex.order?(b=k,!1):b>0}),d.negativeZIndex.splice(b,0,m)}else if(C>0){var N=0;d.positiveZIndex.some(function(R,k){return C>=R.element.container.styles.zIndex.order?(N=k+1,!1):N>0}),d.positiveZIndex.splice(N,0,m)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(m)}else i.styles.isFloating()?d.nonPositionedFloats.push(m):d.nonPositionedInlineLevel.push(m);t2(c,m,s?m:r,g)}else i.styles.isInlineLevel()?e.inlineLevel.push(c):e.nonInlineLevel.push(c),t2(c,e,r,g);yi(i.flags,8)&&KS(i,g)})},KS=function(t,e){for(var r=t instanceof Yx?t.start:1,n=t instanceof Yx?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof SS&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=wf(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},AM=function(t){var e=new GS(t,null),r=new jS(e),n=[];return t2(e,r,r,n),KS(e.container,n),r},Hb=function(t,e){switch(e){case 0:return Ma(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ma(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ma(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ma(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},cM=function(t,e){switch(e){case 0:return Ma(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ma(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ma(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ma(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},uM=function(t,e){switch(e){case 0:return Ma(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ma(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ma(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ma(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},fM=function(t,e){switch(e){case 0:return Th(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Th(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Th(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Th(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Th=function(t,e){var r=[];return Da(t)?r.push(t.subdivide(.5,!1)):r.push(t),Da(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ma=function(t,e,r,n){var i=[];return Da(t)?i.push(t.subdivide(.5,!1)):i.push(t),Da(r)?i.push(r.subdivide(.5,!0)):i.push(r),Da(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Da(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},zS=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},b1=function(t){var e=t.styles,r=t.bounds,n=bn(e.paddingLeft,r.width),i=bn(e.paddingRight,r.width),s=bn(e.paddingTop,r.width),l=bn(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+l))},dM=function(t,e){return t===0?e.bounds:t===2?b1(e):zS(e)},hM=function(t,e){return t===0?e.bounds:t===2?b1(e):zS(e)},ix=function(t,e,r){var n=dM(au(t.styles.backgroundOrigin,e),t),i=hM(au(t.styles.backgroundClip,e),t),s=gM(au(t.styles.backgroundSize,e),r,n),l=s[0],c=s[1],g=L0(au(t.styles.backgroundPosition,e),n.width-l,n.height-c),d=pM(au(t.styles.backgroundRepeat,e),g,s,n,i),m=Math.round(n.left+g[0]),C=Math.round(n.top+g[1]);return[d,m,C,l,c]},ru=function(t){return xn(t)&&t.value===mu.AUTO},Sh=function(t){return typeof t=="number"},gM=function(t,e,r){var n=e[0],i=e[1],s=e[2],l=t[0],c=t[1];if(!l)return[0,0];if(gi(l)&&c&&gi(c))return[bn(l,r.width),bn(c,r.height)];var g=Sh(s);if(xn(l)&&(l.value===mu.CONTAIN||l.value===mu.COVER)){if(Sh(s)){var d=r.width/r.height;return d<s!=(l.value===mu.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var m=Sh(n),C=Sh(i),b=m||C;if(ru(l)&&(!c||ru(c))){if(m&&C)return[n,i];if(!g&&!b)return[r.width,r.height];if(b&&g){var N=m?n:i*s,R=C?i:n/s;return[N,R]}var k=m?n:r.width,U=C?i:r.height;return[k,U]}if(g){var j=0,K=0;return gi(l)?j=bn(l,r.width):gi(c)&&(K=bn(c,r.height)),ru(l)?j=K*s:(!c||ru(c))&&(K=j/s),[j,K]}var Q=null,J=null;if(gi(l)?Q=bn(l,r.width):c&&gi(c)&&(J=bn(c,r.height)),Q!==null&&(!c||ru(c))&&(J=m&&C?Q/n*i:r.height),J!==null&&ru(l)&&(Q=m&&C?J/i*n:r.width),Q!==null&&J!==null)return[Q,J];throw new Error("Unable to calculate background-size for element")},au=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},pM=function(t,e,r,n,i){var s=e[0],l=e[1],c=r[0],g=r[1];switch(t){case 2:return[new Mt(Math.round(n.left),Math.round(n.top+l)),new Mt(Math.round(n.left+n.width),Math.round(n.top+l)),new Mt(Math.round(n.left+n.width),Math.round(g+n.top+l)),new Mt(Math.round(n.left),Math.round(g+n.top+l))];case 3:return[new Mt(Math.round(n.left+s),Math.round(n.top)),new Mt(Math.round(n.left+s+c),Math.round(n.top)),new Mt(Math.round(n.left+s+c),Math.round(n.height+n.top)),new Mt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Mt(Math.round(n.left+s),Math.round(n.top+l)),new Mt(Math.round(n.left+s+c),Math.round(n.top+l)),new Mt(Math.round(n.left+s+c),Math.round(n.top+l+g)),new Mt(Math.round(n.left+s),Math.round(n.top+l+g))];default:return[new Mt(Math.round(i.left),Math.round(i.top)),new Mt(Math.round(i.left+i.width),Math.round(i.top)),new Mt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Mt(Math.round(i.left),Math.round(i.height+i.top))]}},mM="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Vb="Hidden Text",xM=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),l=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",l.appendChild(n),i.src=mM,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Vb)),n.appendChild(s),n.appendChild(i);var c=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(Vb)),n.style.lineHeight="normal",i.style.verticalAlign="super";var g=i.offsetTop-n.offsetTop+2;return l.removeChild(n),{baseline:c,middle:g}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t})(),WS=(function(){function t(e,r){this.context=e,this.options=r}return t})(),wM=1e4,vM=(function(t){oo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new xM(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),oM(r)&&(this.ctx.globalAlpha=r.opacity),aM(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),VS(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ys(this,void 0,void 0,function(){var n;return ns(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ys(this,void 0,void 0,function(){return ns(this,function(n){switch(n.label){case 0:if(yi(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var l=nw(r.text);l.reduce(function(c,g){return s.ctx.fillText(g,c,r.bounds.top+i),c+s.ctx.measureText(g).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),i=BM(r.fontFamily).join(", "),s=Lf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return ys(this,void 0,void 0,function(){var i,s,l,c,g,d,m,C,b=this;return ns(this,function(N){return i=this.createFontStyle(n),s=i[0],l=i[1],c=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",g=this.fontMetrics.getMetrics(l,c),d=g.baseline,m=g.middle,C=n.paintOrder,r.textBounds.forEach(function(R){C.forEach(function(k){switch(k){case 0:b.ctx.fillStyle=Ii(n.color),b.renderTextWithLetterSpacing(R,n.letterSpacing,d);var U=n.textShadow;U.length&&R.text.trim().length&&(U.slice(0).reverse().forEach(function(j){b.ctx.shadowColor=Ii(j.color),b.ctx.shadowOffsetX=j.offsetX.number*b.options.scale,b.ctx.shadowOffsetY=j.offsetY.number*b.options.scale,b.ctx.shadowBlur=j.blur.number,b.renderTextWithLetterSpacing(R,n.letterSpacing,d)}),b.ctx.shadowColor="",b.ctx.shadowOffsetX=0,b.ctx.shadowOffsetY=0,b.ctx.shadowBlur=0),n.textDecorationLine.length&&(b.ctx.fillStyle=Ii(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(j){switch(j){case 1:b.ctx.fillRect(R.bounds.left,Math.round(R.bounds.top+d),R.bounds.width,1);break;case 2:b.ctx.fillRect(R.bounds.left,Math.round(R.bounds.top),R.bounds.width,1);break;case 3:b.ctx.fillRect(R.bounds.left,Math.ceil(R.bounds.top+m),R.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&R.text.trim().length&&(b.ctx.strokeStyle=Ii(n.webkitTextStrokeColor),b.ctx.lineWidth=n.webkitTextStrokeWidth,b.ctx.lineJoin=window.chrome?"miter":"round",b.ctx.strokeText(R.text,R.bounds.left,R.bounds.top+d)),b.ctx.strokeStyle="",b.ctx.lineWidth=0,b.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=b1(r),l=E1(n);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ys(this,void 0,void 0,function(){var n,i,s,l,c,g,K,K,d,m,C,b,J,N,R,re,k,U,j,K,Q,J,re;return ns(this,function(G){switch(G.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,l=0,c=n.textNodes,G.label=1;case 1:return l<c.length?(g=c[l],[4,this.renderTextNode(g,s)]):[3,4];case 2:G.sent(),G.label=3;case 3:return l++,[3,1];case 4:if(!(n instanceof BS))return[3,8];G.label=5;case 5:return G.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return K=G.sent(),this.renderReplacedElement(n,i,K),[3,8];case 7:return G.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof _S&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof TS))return[3,12];G.label=9;case 9:return G.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return K=G.sent(),this.renderReplacedElement(n,i,K),[3,12];case 11:return G.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof FS&&n.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:m=G.sent(),n.width&&n.height&&this.ctx.drawImage(m,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),G.label=14;case 14:if(n instanceof iw&&(C=Math.min(n.bounds.width,n.bounds.height),n.type===x1?n.checked&&(this.ctx.save(),this.path([new Mt(n.bounds.left+C*.39363,n.bounds.top+C*.79),new Mt(n.bounds.left+C*.16,n.bounds.top+C*.5549),new Mt(n.bounds.left+C*.27347,n.bounds.top+C*.44071),new Mt(n.bounds.left+C*.39694,n.bounds.top+C*.5649),new Mt(n.bounds.left+C*.72983,n.bounds.top+C*.23),new Mt(n.bounds.left+C*.84,n.bounds.top+C*.34085),new Mt(n.bounds.left+C*.39363,n.bounds.top+C*.79)]),this.ctx.fillStyle=Ii(Ib),this.ctx.fill(),this.ctx.restore()):n.type===w1&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+C/2,n.bounds.top+C/2,C/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ii(Ib),this.ctx.fill(),this.ctx.restore())),yM(n)&&n.value.length){switch(b=this.createFontStyle(s),J=b[0],N=b[1],R=this.fontMetrics.getMetrics(J,N).baseline,this.ctx.font=J,this.ctx.fillStyle=Ii(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=EM(n.styles.textAlign),re=b1(n),k=0,n.styles.textAlign){case 1:k+=re.width/2;break;case 2:k+=re.width;break}U=re.add(k,0,0,-re.height/2+1),this.ctx.save(),this.path([new Mt(re.left,re.top),new Mt(re.left+re.width,re.top),new Mt(re.left+re.width,re.top+re.height),new Mt(re.left,re.top+re.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ef(n.value,U),s.letterSpacing,R),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!yi(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(j=n.styles.listStyleImage,j.type!==0)return[3,18];K=void 0,Q=j.url,G.label=15;case 15:return G.trys.push([15,17,,18]),[4,this.context.cache.match(Q)];case 16:return K=G.sent(),this.ctx.drawImage(K,n.bounds.left-(K.width+10),n.bounds.top),[3,18];case 17:return G.sent(),this.context.logger.error("Error loading list-style-image "+Q),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(J=this.createFontStyle(s)[0],this.ctx.font=J,this.ctx.fillStyle=Ii(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",re=new ol(n.bounds.left,n.bounds.top+bn(n.styles.paddingTop,n.bounds.width),n.bounds.width,fb(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ef(r.listValue,re),s.letterSpacing,fb(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),G.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ys(this,void 0,void 0,function(){var n,i,j,s,l,j,c,g,j,d,m,j,C,b,j,N,R,j,k,U,j;return ns(this,function(K){switch(K.label){case 0:if(yi(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:K.sent(),n=0,i=r.negativeZIndex,K.label=2;case 2:return n<i.length?(j=i[n],[4,this.renderStack(j)]):[3,5];case 3:K.sent(),K.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:K.sent(),s=0,l=r.nonInlineLevel,K.label=7;case 7:return s<l.length?(j=l[s],[4,this.renderNode(j)]):[3,10];case 8:K.sent(),K.label=9;case 9:return s++,[3,7];case 10:c=0,g=r.nonPositionedFloats,K.label=11;case 11:return c<g.length?(j=g[c],[4,this.renderStack(j)]):[3,14];case 12:K.sent(),K.label=13;case 13:return c++,[3,11];case 14:d=0,m=r.nonPositionedInlineLevel,K.label=15;case 15:return d<m.length?(j=m[d],[4,this.renderStack(j)]):[3,18];case 16:K.sent(),K.label=17;case 17:return d++,[3,15];case 18:C=0,b=r.inlineLevel,K.label=19;case 19:return C<b.length?(j=b[C],[4,this.renderNode(j)]):[3,22];case 20:K.sent(),K.label=21;case 21:return C++,[3,19];case 22:N=0,R=r.zeroOrAutoZIndexOrTransformedOrOpacity,K.label=23;case 23:return N<R.length?(j=R[N],[4,this.renderStack(j)]):[3,26];case 24:K.sent(),K.label=25;case 25:return N++,[3,23];case 26:k=0,U=r.positiveZIndex,K.label=27;case 27:return k<U.length?(j=U[k],[4,this.renderStack(j)]):[3,30];case 28:K.sent(),K.label=29;case 29:return k++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var l=Da(i)?i.start:i;s===0?n.ctx.moveTo(l.x,l.y):n.ctx.lineTo(l.x,l.y),Da(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var l=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,c=l.createElement("canvas");c.width=Math.max(1,n),c.height=Math.max(1,i);var g=c.getContext("2d");return g.drawImage(r,0,0,r.width,r.height,0,0,n,i),c},e.prototype.renderBackgroundImage=function(r){return ys(this,void 0,void 0,function(){var n,i,s,l,c,g;return ns(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,i=function(m){var C,b,N,ee,ge,ye,q,Ie,P,R,ee,ge,ye,q,Ie,k,U,j,K,Q,J,re,G,M,P,O,ee,te,W,q,Ie,xe,ge,ye,We,Ee,et,ne,X,ue,oe,ce;return ns(this,function(be){switch(be.label){case 0:if(m.type!==0)return[3,5];C=void 0,b=m.url,be.label=1;case 1:return be.trys.push([1,3,,4]),[4,s.context.cache.match(b)];case 2:return C=be.sent(),[3,4];case 3:return be.sent(),s.context.logger.error("Error loading background-image "+b),[3,4];case 4:return C&&(N=ix(r,n,[C.width,C.height,C.width/C.height]),ee=N[0],ge=N[1],ye=N[2],q=N[3],Ie=N[4],P=s.ctx.createPattern(s.resizeImage(C,q,Ie),"repeat"),s.renderRepeat(ee,P,ge,ye)),[3,6];case 5:ak(m)?(R=ix(r,n,[null,null,null]),ee=R[0],ge=R[1],ye=R[2],q=R[3],Ie=R[4],k=tk(m.angle,q,Ie),U=k[0],j=k[1],K=k[2],Q=k[3],J=k[4],re=document.createElement("canvas"),re.width=q,re.height=Ie,G=re.getContext("2d"),M=G.createLinearGradient(j,Q,K,J),cb(m.stops,U).forEach(function(Je){return M.addColorStop(Je.stop,Ii(Je.color))}),G.fillStyle=M,G.fillRect(0,0,q,Ie),q>0&&Ie>0&&(P=s.ctx.createPattern(re,"repeat"),s.renderRepeat(ee,P,ge,ye))):ok(m)&&(O=ix(r,n,[null,null,null]),ee=O[0],te=O[1],W=O[2],q=O[3],Ie=O[4],xe=m.position.length===0?[ew]:m.position,ge=bn(xe[0],q),ye=bn(xe[xe.length-1],Ie),We=rk(m,ge,ye,q,Ie),Ee=We[0],et=We[1],Ee>0&&et>0&&(ne=s.ctx.createRadialGradient(te+ge,W+ye,0,te+ge,W+ye,Ee),cb(m.stops,Ee*2).forEach(function(Je){return ne.addColorStop(Je.stop,Ii(Je.color))}),s.path(ee),s.ctx.fillStyle=ne,Ee!==et?(X=r.bounds.left+.5*r.bounds.width,ue=r.bounds.top+.5*r.bounds.height,oe=et/Ee,ce=1/oe,s.ctx.save(),s.ctx.translate(X,ue),s.ctx.transform(1,0,0,oe,0,0),s.ctx.translate(-X,-ue),s.ctx.fillRect(te,ce*(W-ue)+ue,q,Ie*ce),s.ctx.restore()):s.ctx.fill())),be.label=6;case 6:return n--,[2]}})},s=this,l=0,c=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return l<c.length?(g=c[l],[5,i(g)]):[3,4];case 2:d.sent(),d.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return ys(this,void 0,void 0,function(){return ns(this,function(s){return this.path(Hb(i,n)),this.ctx.fillStyle=Ii(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return ys(this,void 0,void 0,function(){var l,c;return ns(this,function(g){switch(g.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return g.sent(),[2];case 2:return l=cM(s,i),this.path(l),this.ctx.fillStyle=Ii(r),this.ctx.fill(),c=uM(s,i),this.path(c),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ys(this,void 0,void 0,function(){var n,i,s,l,c,g,d,m,C=this;return ns(this,function(b){switch(b.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!rA(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],l=CM(au(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),rA(n.backgroundColor)||(this.ctx.fillStyle=Ii(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:b.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(N){C.ctx.save();var R=C1(r.curves),k=N.inset?0:wM,U=lM(R,-k+(N.inset?1:-1)*N.spread.number,(N.inset?1:-1)*N.spread.number,N.spread.number*(N.inset?-2:2),N.spread.number*(N.inset?-2:2));N.inset?(C.path(R),C.ctx.clip(),C.mask(U)):(C.mask(R),C.ctx.clip(),C.path(U)),C.ctx.shadowOffsetX=N.offsetX.number+k,C.ctx.shadowOffsetY=N.offsetY.number,C.ctx.shadowColor=Ii(N.color),C.ctx.shadowBlur=N.blur.number,C.ctx.fillStyle=N.inset?Ii(N.color):"rgba(0,0,0,1)",C.ctx.fill(),C.ctx.restore()}),b.label=2;case 2:c=0,g=0,d=s,b.label=3;case 3:return g<d.length?(m=d[g],m.style!==0&&!rA(m.color)&&m.width>0?m.style!==2?[3,5]:[4,this.renderDashedDottedBorder(m.color,m.width,c,r.curves,2)]:[3,11]):[3,13];case 4:return b.sent(),[3,11];case 5:return m.style!==3?[3,7]:[4,this.renderDashedDottedBorder(m.color,m.width,c,r.curves,3)];case 6:return b.sent(),[3,11];case 7:return m.style!==4?[3,9]:[4,this.renderDoubleBorder(m.color,m.width,c,r.curves)];case 8:return b.sent(),[3,11];case 9:return[4,this.renderSolidBorder(m.color,c,r.curves)];case 10:b.sent(),b.label=11;case 11:c++,b.label=12;case 12:return g++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,l){return ys(this,void 0,void 0,function(){var c,g,d,m,C,b,N,R,k,U,j,K,Q,J,re,G,re,G;return ns(this,function(M){return this.ctx.save(),c=fM(s,i),g=Hb(s,i),l===2&&(this.path(g),this.ctx.clip()),Da(g[0])?(d=g[0].start.x,m=g[0].start.y):(d=g[0].x,m=g[0].y),Da(g[1])?(C=g[1].end.x,b=g[1].end.y):(C=g[1].x,b=g[1].y),i===0||i===2?N=Math.abs(d-C):N=Math.abs(m-b),this.ctx.beginPath(),l===3?this.formatPath(c):this.formatPath(g.slice(0,2)),R=n<3?n*3:n*2,k=n<3?n*2:n,l===3&&(R=n,k=n),U=!0,N<=R*2?U=!1:N<=R*2+k?(j=N/(2*R+k),R*=j,k*=j):(K=Math.floor((N+k)/(R+k)),Q=(N-K*R)/(K-1),J=(N-(K+1)*R)/K,k=J<=0||Math.abs(k-Q)<Math.abs(k-J)?Q:J),U&&(l===3?this.ctx.setLineDash([0,R+k]):this.ctx.setLineDash([R,k])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ii(r),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(Da(g[0])&&(re=g[3],G=g[0],this.ctx.beginPath(),this.formatPath([new Mt(re.end.x,re.end.y),new Mt(G.start.x,G.start.y)]),this.ctx.stroke()),Da(g[1])&&(re=g[1],G=g[2],this.ctx.beginPath(),this.formatPath([new Mt(re.end.x,re.end.y),new Mt(G.start.x,G.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ys(this,void 0,void 0,function(){var n;return ns(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ii(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=AM(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(WS),yM=function(t){return t instanceof NS||t instanceof IS?!0:t instanceof iw&&t.type!==w1&&t.type!==x1},CM=function(t,e){switch(t){case 0:return C1(e);case 2:return nM(e);case 1:default:return E1(e)}},EM=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},bM=["-apple-system","system-ui"],BM=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return bM.indexOf(e)===-1}):t},_M=(function(t){oo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return ys(this,void 0,void 0,function(){var n,i;return ns(this,function(s){switch(s.label){case 0:return n=qx(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,TM(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ii(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(WS),TM=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},SM=(function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ah([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),IM=(function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new SM({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new qU(this,e)}return t.instanceCount=1,t})(),AA=function(t,e){return e===void 0&&(e={}),NM(t,e)};typeof window<"u"&&HS.setContext(window);var NM=function(t,e){return ys(void 0,void 0,void 0,function(){var r,n,i,s,l,c,g,d,m,C,b,N,R,k,U,j,K,Q,J,re,M,G,M,P,O,ee,te,W,q,Ie,xe,ge,ye,We,Ee,et,ne,X,ue,oe;return ns(this,function(ce){switch(ce.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(P=e.allowTaint)!==null&&P!==void 0?P:!1,imageTimeout:(O=e.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:e.proxy,useCORS:(ee=e.useCORS)!==null&&ee!==void 0?ee:!1},s=Dx({logging:(te=e.logging)!==null&&te!==void 0?te:!0,cache:e.cache},i),l={windowWidth:(W=e.windowWidth)!==null&&W!==void 0?W:n.innerWidth,windowHeight:(q=e.windowHeight)!==null&&q!==void 0?q:n.innerHeight,scrollX:(Ie=e.scrollX)!==null&&Ie!==void 0?Ie:n.pageXOffset,scrollY:(xe=e.scrollY)!==null&&xe!==void 0?xe:n.pageYOffset},c=new ol(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),g=new IM(s,c),d=(ge=e.foreignObjectRendering)!==null&&ge!==void 0?ge:!1,m={allowTaint:(ye=e.allowTaint)!==null&&ye!==void 0?ye:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},g.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),C=new Lb(g,t,m),b=C.clonedReferenceElement,b?[4,C.toIFrame(r,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return N=ce.sent(),R=sw(b)||RU(b)?l5(b.ownerDocument):sg(g,b),k=R.width,U=R.height,j=R.left,K=R.top,Q=FM(g,b,e.backgroundColor),J={canvas:e.canvas,backgroundColor:Q,scale:(Ee=(We=e.scale)!==null&&We!==void 0?We:n.devicePixelRatio)!==null&&Ee!==void 0?Ee:1,x:((et=e.x)!==null&&et!==void 0?et:0)+j,y:((ne=e.y)!==null&&ne!==void 0?ne:0)+K,width:(X=e.width)!==null&&X!==void 0?X:Math.ceil(k),height:(ue=e.height)!==null&&ue!==void 0?ue:Math.ceil(U)},d?(g.logger.debug("Document cloned, using foreign object rendering"),M=new _M(g,J),[4,M.render(b)]):[3,3];case 2:return re=ce.sent(),[3,5];case 3:return g.logger.debug("Document cloned, element located at "+j+","+K+" with size "+k+"x"+U+" using computed rendering"),g.logger.debug("Starting DOM parsing"),G=kS(g,b),Q===G.styles.backgroundColor&&(G.styles.backgroundColor=il.TRANSPARENT),g.logger.debug("Starting renderer for element at "+J.x+","+J.y+" with size "+J.width+"x"+J.height),M=new vM(g,J),[4,M.render(G)];case 4:re=ce.sent(),ce.label=5;case 5:return(!((oe=e.removeContainer)!==null&&oe!==void 0)||oe)&&(Lb.destroy(N)||g.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),g.logger.debug("Finished rendering"),[2,re]}})})},FM=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Z0(t,getComputedStyle(n.documentElement).backgroundColor):il.TRANSPARENT,s=n.body?Z0(t,getComputedStyle(n.body).backgroundColor):il.TRANSPARENT,l=typeof r=="string"?Z0(t,r):r===null?il.TRANSPARENT:4294967295;return e===n.documentElement?rA(i)?rA(s)?l:s:i:l};const RM=({currentUser:t,onLogout:e,onNavigateToProducts:r,onNavigateToCreateInvoice:n,onNavigateToSettings:i,onNavigateToCustomers:s,onNavigateToNotifications:l,onNavigateToSuppliers:c,onNavigateToClientRequests:g,onNavigateToCheckbook:d,onNavigateToSpecialOrders:m,onNavigateToQuotes:C,onNavigateToTranslation:b,invoices:N,products:R,onEditInvoice:k,onDeleteInvoice:U,onNewInvoiceForCustomer:j,settings:K,unreadNotificationsCount:Q})=>{const[J,re]=Ce.useState("unpaid"),[G,M]=Ce.useState(!1),[P,O]=Ce.useState(""),[ee,te]=Ce.useState(!1),[W,q]=Ce.useState(null),[Ie,xe]=Ce.useState(!1);Ce.useRef(null);const ge=Ce.useRef(null);Ce.useEffect(()=>{if(W&&K.showBarcode)try{setTimeout(()=>{["hidden-barcode","share-barcode"].forEach(X=>{const ue=document.getElementById(X);ue&&typeof JsBarcode<"u"&&JsBarcode(ue,W.id,{format:"CODE128",width:1.5,height:40,displayValue:!0,fontSize:12,lineColor:"#000000"})})},100)}catch(ne){console.error(ne)}},[W,K.showBarcode]);const ye=ne=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(ne),We=async()=>{if(!(!W||!ge.current)){te(!0);try{(await AA(ge.current,{scale:3,backgroundColor:"#ffffff",useCORS:!0,logging:!1,width:550})).toBlob(async X=>{if(!X){te(!1),alert("  ");return}try{const ue=new ClipboardItem({"image/png":X});await navigator.clipboard.write([ue]);let oe=W.phone?W.phone.replace(/\D/g,""):"";(oe.startsWith("06")||oe.startsWith("07")||oe.startsWith("05"))&&(oe="212"+oe.substring(1)),window.open(oe?`https://wa.me/${oe}`:"https://wa.me/","_blank")}catch{alert("   ."),window.open("https://wa.me/","_blank")}finally{te(!1)}},"image/png",1)}catch{te(!1)}}},Ee=()=>{W&&G4(W,K)},et=Ce.useMemo(()=>N.filter(ne=>{const X=J==="all"?!0:ne.type===J,ue=ne.name.includes(P)||ne.id.includes(P);return X&&ue}).sort((ne,X)=>X.createdAt-ne.createdAt),[N,J,P]);return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:border-b md:border-gray-800 md:bg-black/90 md:backdrop-blur-md",children:[f.jsxs("h1",{className:"text-xl font-bold text-gray-100",children:["  ",t.name]}),f.jsxs("div",{className:"flex items-center gap-3",children:[t.permissions.viewNotifications&&f.jsxs("button",{onClick:l,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors relative active:scale-95",title:"",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),f.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),Q>0&&f.jsx("span",{className:"absolute top-2 right-2.5 w-4 h-4 bg-red-500 rounded-full border border-black text-[8px] flex items-center justify-center text-white font-black animate-bounce",children:Q})]}),f.jsx("button",{onClick:i,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-[#57b385] transition-colors active:scale-95",title:"",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto scroll-smooth custom-scrollbar pb-32 md:px-6",children:[f.jsxs("div",{className:"md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 md:gap-4 md:mb-6",children:[t.permissions.manageSuppliers&&f.jsx("div",{className:"px-6 md:px-0 pt-4 pb-0 md:py-0",children:f.jsx("button",{onClick:c,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-red-500/10 rounded-2xl flex items-center justify-center text-red-500 border border-red-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14c-.6.6-1 1.5-1 2.3v3.7c0 1.1.9 2 2 2h3.7c.9 0 1.7-.4 2.3-1L15.4 15"}),f.jsx("path",{d:"m11 16 2 2"}),f.jsx("path",{d:"m14 13 4 4"}),f.jsx("path",{d:"M22 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})}),t.permissions.manageRequests&&f.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:f.jsx("button",{onClick:g,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-blue-500/10 rounded-2xl flex items-center justify-center text-blue-500 border border-blue-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),f.jsx("path",{d:"M12 11h4"}),f.jsx("path",{d:"M12 16h4"}),f.jsx("path",{d:"M8 11h.01"}),f.jsx("path",{d:"M8 16h.01"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})}),t.permissions.manageCheckbook&&f.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:f.jsx("button",{onClick:d,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-purple-500/10 rounded-2xl flex items-center justify-center text-purple-500 border border-purple-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),f.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})}),t.permissions.manageSpecialOrders&&f.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:f.jsx("button",{onClick:m,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-rose-500/10 rounded-2xl flex items-center justify-center text-rose-500 border border-rose-500/20",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})}),f.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:f.jsx("button",{onClick:C,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-amber-500/10 rounded-2xl flex items-center justify-center text-amber-500 border border-amber-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6"}),f.jsx("path",{d:"M16 13H8"}),f.jsx("path",{d:"M16 17H8"}),f.jsx("path",{d:"M10 9H8"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})}),f.jsx("div",{className:"px-6 md:px-0 pt-3 pb-4 md:py-0",children:f.jsx("button",{onClick:b,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-indigo-500 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-indigo-500/10 rounded-2xl flex items-center justify-center text-indigo-500 border border-indigo-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m5 8 6 6"}),f.jsx("path",{d:"m4 14 6-6 2-3"}),f.jsx("path",{d:"M2 5h12"}),f.jsx("path",{d:"M7 2h1"}),f.jsx("path",{d:"m22 22-5-10-5 10"}),f.jsx("path",{d:"M14 18h6"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})})]}),f.jsx("div",{className:"px-6 md:px-0 pt-2 pb-2",children:f.jsx("h2",{className:"text-xl font-extrabold text-gray-200 border-r-[6px] border-[#57b385] pr-4 py-1 flex items-center gap-3",children:" "})}),f.jsxs("div",{className:"sticky top-0 bg-[#0c0c0c] z-10 md:static md:bg-transparent",children:[f.jsxs("div",{className:"px-6 md:px-0 flex border-b border-gray-800",children:[f.jsxs("button",{onClick:()=>re("unpaid"),className:`flex-1 py-3 font-bold transition-all relative ${J==="unpaid"?"text-white":"text-gray-500"}`,children:[" ",J==="unpaid"&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),f.jsxs("button",{onClick:()=>re("paid"),className:`flex-1 py-3 font-bold transition-all relative ${J==="paid"?"text-white":"text-gray-500"}`,children:["",J==="paid"&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),f.jsxs("button",{onClick:()=>re("all"),className:`flex-1 py-3 font-bold transition-all relative ${J==="all"?"text-white":"text-gray-500"}`,children:["",J==="all"&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]})]}),f.jsx("div",{className:"px-6 md:px-0 py-4 flex items-center justify-between min-h-[72px]",children:G?f.jsxs("div",{className:"flex items-center justify-between w-full gap-3 animate-in slide-in-from-right duration-300",children:[f.jsx("button",{onClick:()=>{M(!1),O("")},className:"w-10 h-10 min-w-[40px] bg-[#57b385] rounded-xl flex items-center justify-center text-white shadow-lg active:scale-90 transition-transform",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("div",{className:"flex-1 max-w-[180px] relative",children:f.jsx("input",{autoFocus:!0,type:"text",placeholder:"   ...",className:"w-full bg-black/40 border border-gray-800 rounded-full py-2.5 px-4 text-xs text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600",value:P,onChange:ne=>O(ne.target.value)})}),f.jsxs("div",{className:"text-sm font-bold text-gray-100 whitespace-nowrap",children:[f.jsx("span",{className:"text-[#57b385] font-black",children:et.length})," "]})]}):f.jsxs("div",{className:"flex items-center justify-between w-full animate-in fade-in duration-300",children:[f.jsx("button",{onClick:()=>M(!0),className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400 hover:text-[#57b385] transition-all active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})}),f.jsxs("div",{className:"text-sm font-bold text-gray-100 flex items-center gap-1.5",children:[f.jsx("span",{className:"text-[#57b385] font-black",children:et.length}),"  "]})]})})]}),f.jsx("div",{className:"px-4 md:px-0 space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4",children:et.length>0?et.map(ne=>f.jsxs("div",{onClick:()=>q(ne),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex md:flex-col items-center gap-4 group hover:border-gray-700 transition-all active:scale-[0.98] cursor-pointer relative overflow-hidden h-full",children:[f.jsxs("div",{className:"flex items-center gap-4 w-full",children:[f.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 items-center justify-center text-[#7c8b9a] group-hover:scale-105 transition-all shadow-inner group-hover:border-[#57b385]/30 flex",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("h4",{className:"text-xl md:text-2xl font-black text-white mb-2 tracking-tight",children:ne.name}),f.jsx("span",{className:"text-xs text-gray-500 font-bold whitespace-nowrap",children:new Date(ne.createdAt).toLocaleDateString("ar-MA",{day:"numeric",month:"short"})})]})]}),f.jsx("div",{className:"flex flex-col gap-1.5 items-end w-full md:mt-2",children:f.jsxs("div",{className:"bg-[#1a1a1a]/80 px-4 py-2 rounded-full border border-gray-800/50 flex items-center justify-between w-full shadow-lg",children:[f.jsxs("span",{className:`text-sm font-black ${ne.remainingAmount>0?"text-red-400":"text-[#57b385]"} whitespace-nowrap`,children:[ye(ne.remainingAmount>0?ne.remainingAmount:ne.amount)," ."]}),f.jsx("div",{className:"bg-[#1a1a1a] px-2 py-0.5 rounded-lg border border-gray-800 text-[#7c8b9a] font-mono text-[9px] font-bold shadow-inner",children:ne.id})]})})]},ne.id)):f.jsx("div",{className:"text-center py-10 text-gray-600 flex flex-col items-center gap-4 col-span-full font-bold",children:"  "})})]}),W&&f.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/90 md:backdrop-blur-sm flex flex-col md:items-center md:justify-center animate-in slide-in-from-bottom md:slide-in-from-bottom-10 md:fade-in duration-400 overflow-hidden",children:f.jsxs("div",{className:"w-full h-full md:h-auto md:max-h-[90vh] md:max-w-2xl bg-[#0c0c0c] md:bg-[#111111] md:border md:border-gray-800 md:rounded-[3rem] md:shadow-2xl flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"px-6 pt-10 md:pt-6 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#111111]",children:[f.jsx("button",{onClick:()=>q(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h2",{className:"text-xl font-bold",children:" "}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>xe(!0),className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white active:scale-90 transition-all",title:" ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsx("button",{onClick:()=>j(W.name,W.phone||""),disabled:!t.permissions.createInvoices,className:`p-3 bg-blue-500/10 rounded-2xl border border-blue-500/20 text-blue-500 hover:bg-blue-500 hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,title:"   ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),f.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),f.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),f.jsx("button",{onClick:()=>k(W),disabled:!t.permissions.createInvoices,className:`p-3 bg-[#57b385]/10 rounded-2xl border border-[#57b385]/20 text-[#57b385] hover:bg-[#57b385] hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 20h9"}),f.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:W.name.charAt(0)}),f.jsx("h3",{className:"text-2xl font-black text-white",children:W.name}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"flex justify-center gap-2",children:[f.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:W.id}),f.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:W.date})]}),W.creatorName&&f.jsxs("span",{className:"text-[10px] bg-black/40 px-4 py-1 rounded-full border border-gray-800 text-[#57b385] font-black",children:[": ",W.creatorName]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h4",{className:"text-xs font-bold text-gray-500 border-b border-gray-800 pb-2",children:["  (",W.items.length,")"]}),f.jsx("div",{className:"md:grid md:grid-cols-2 gap-3",children:W.items.map((ne,X)=>f.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/40 p-4 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-white text-sm mb-1",children:ne.productName}),f.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:[f.jsx("span",{className:"text-[#57b385] font-bold",children:ne.count}),"  ",ye(ne.price)]})]}),f.jsx("div",{className:"font-black text-[#57b385]",children:ye(ne.total)})]},X))})]}),f.jsxs("div",{className:"bg-[#1a1a1a] rounded-[2rem] border border-gray-800 p-5 space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-xs text-gray-400 font-bold",children:" "}),f.jsxs("span",{className:"text-lg font-black text-white",children:[ye(W.amount)," ."]})]}),f.jsx("div",{className:"w-full h-px bg-gray-700/50"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),f.jsxs("span",{className:"text-sm font-black text-[#57b385]",children:[ye(W.paidAmount)," ."]})]}),W.remainingAmount>0&&f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),f.jsxs("span",{className:"text-sm font-black text-red-500",children:[ye(W.remainingAmount)," ."]})]})]})]}),f.jsxs("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#111111] border-t border-gray-800 pb-10 md:pb-6 flex gap-4",children:[f.jsx("button",{onClick:We,disabled:ee,className:`flex-1 bg-[#25D366] text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-[0.98] flex items-center justify-center gap-3 ${ee?"opacity-50 cursor-not-allowed":""}`,children:ee?f.jsx("span",{className:"text-sm",children:" ..."}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),f.jsx("polyline",{points:"16 6 12 2 8 6"}),f.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),""]})}),f.jsx("button",{onClick:Ee,className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-200 py-4 rounded-2xl font-bold active:scale-95 transition-all flex items-center justify-center",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),f.jsx("button",{onClick:()=>q(null),className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[f.jsx(Ih,{onClick:()=>{},icon:f.jsx(kM,{}),label:"",active:!0}),f.jsx(Ih,{onClick:r,icon:f.jsx(DM,{}),label:""}),f.jsx("div",{className:"relative -top-6",children:f.jsx("button",{onClick:n,disabled:!t.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:f.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),f.jsx(Ih,{onClick:s,icon:f.jsx(UM,{}),label:""}),f.jsx(Ih,{onClick:i,icon:f.jsx(MM,{}),label:""})]})]})},Ih=({icon:t,label:e,active:r=!1,onClick:n})=>f.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[f.jsx("div",{className:r?"scale-110":"",children:t}),f.jsx("span",{className:"text-[10px] font-bold",children:e})]}),kM=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),DM=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),UM=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),MM=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var XS=1252,OM=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],aw={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},ow=function(t){OM.indexOf(t)!=-1&&(XS=aw[0]=t)};function LM(){ow(1252)}var to=function(t){ow(t)};function qS(){to(1200),LM()}function jb(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function QM(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function YS(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var H0=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?QM(t.slice(2)):e==254&&r==255?YS(t.slice(2)):e==65279?t.slice(1):t},Nh=function(e){return String.fromCharCode(e)},Gb=function(e){return String.fromCharCode(e)},vf,Zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Kb(t){for(var e="",r=0,n=0,i=0,s=0,l=0,c=0,g=0,d=0;d<t.length;)r=t.charCodeAt(d++),s=r>>2,n=t.charCodeAt(d++),l=(r&3)<<4|n>>4,i=t.charCodeAt(d++),c=(n&15)<<2|i>>6,g=i&63,isNaN(n)?c=g=64:isNaN(i)&&(g=64),e+=Zl.charAt(s)+Zl.charAt(l)+Zl.charAt(c)+Zl.charAt(g);return e}function ma(t){var e="",r=0,n=0,i=0,s=0,l=0,c=0,g=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)s=Zl.indexOf(t.charAt(d++)),l=Zl.indexOf(t.charAt(d++)),r=s<<2|l>>4,e+=String.fromCharCode(r),c=Zl.indexOf(t.charAt(d++)),n=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),g=Zl.indexOf(t.charAt(d++)),i=(c&3)<<6|g,g!==64&&(e+=String.fromCharCode(i));return e}var Mr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),cc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function cA(t){return Mr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function zb(t){return Mr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var eo=function(e){return Mr?cc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function uc(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function lw(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return lw(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Xl=Mr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:cc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function PM(t){for(var e=[],r=0,n=t.length+250,i=cA(t.length+255),s=0;s<t.length;++s){var l=t.charCodeAt(s);if(l<128)i[r++]=l;else if(l<2048)i[r++]=192|l>>6&31,i[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++s)&1023;i[r++]=240|l>>8&7,i[r++]=128|l>>2&63,i[r++]=128|c>>6&15|(l&3)<<4,i[r++]=128|c&63}else i[r++]=224|l>>12&15,i[r++]=128|l>>6&63,i[r++]=128|l&63;r>n&&(e.push(i.slice(0,r)),r=0,i=cA(65535),n=65530)}return e.push(i.slice(0,r)),Xl(e)}var _s=/\u0000/g,V0=/[\u0001-\u0006]/g;function xu(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function ro(t,e){var r=""+t;return r.length>=e?r:qn("0",e-r.length)+r}function Aw(t,e){var r=""+t;return r.length>=e?r:qn(" ",e-r.length)+r}function B1(t,e){var r=""+t;return r.length>=e?r:r+qn(" ",e-r.length)}function HM(t,e){var r=""+Math.round(t);return r.length>=e?r:qn("0",e-r.length)+r}function VM(t,e){var r=""+t;return r.length>=e?r:qn("0",e-r.length)+r}var Wb=Math.pow(2,32);function nu(t,e){if(t>Wb||t<-Wb)return HM(t,e);var r=Math.round(t);return VM(r,e)}function _1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Xb=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],sx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function jM(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Cr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},qb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},GM={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function T1(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,l=1,c=0,g=1,d=0,m=0,C=Math.floor(i);d<e&&(C=Math.floor(i),c=C*l+s,m=C*d+g,!(i-C<5e-8));)i=1/(i-C),s=l,l=c,g=d,d=m;if(m>e&&(d>e?(m=g,c=s):(m=d,c=l)),!r)return[0,n*c,m];var b=Math.floor(n*c/m);return[b,n*c-b*m,m]}function XA(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,l=[],c={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++n,++c.D)),n===60)l=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var g=new Date(1900,0,1);g.setDate(g.getDate()+n-1),l=[g.getFullYear(),g.getMonth()+1,g.getDate()],s=g.getDay(),n<60&&(s=(s+6)%7),r&&(s=YM(g,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var JS=new Date(1899,11,31,0,0,0),KM=JS.getTime(),zM=new Date(1900,2,1,0,0,0);function ZS(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=zM&&(r+=1440*60*1e3),(r-(KM+(t.getTimezoneOffset()-JS.getTimezoneOffset())*6e4))/(1440*60*1e3)}function cw(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function WM(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function XM(t){var e=t<0?12:11,r=cw(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function qM(t){var e=cw(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function yf(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=XM(t):e===10?r=t.toFixed(10).substr(0,12):r=qM(t),cw(WM(r.toUpperCase()))}function rc(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):yf(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Qa(14,ZS(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function YM(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function JM(t,e,r,n){var i="",s=0,l=0,c=r.y,g,d=0;switch(t){case 98:c=r.y+543;case 121:switch(e.length){case 1:case 2:g=c%100,d=2;break;default:g=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:g=r.m,d=e.length;break;case 3:return sx[r.m-1][1];case 5:return sx[r.m-1][0];default:return sx[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:g=r.d,d=e.length;break;case 3:return Xb[r.q][0];default:return Xb[r.q][1]}break;case 104:switch(e.length){case 1:case 2:g=1+(r.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:g=r.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:g=r.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?ro(r.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,s=Math.round(l*(r.S+r.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(i=ro(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":g=r.D*24+r.H;break;case"[m]":case"[mm]":g=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":g=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:g=c,d=1;break}var m=d>0?ro(g,d):"";return m}function $l(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var $S=/%/g;function ZM(t,e,r){var n=e.replace($S,""),i=e.length-n.length;return sl(t,n,r*Math.pow(10,2*i))+qn("%",i)}function $M(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return sl(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function eI(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+eI(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,g,d,m){return g+d+m.substr(0,(i+s)%i)+"."+m.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var tI=/# (\?+)( ?)\/( ?)(\d+)/;function eO(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),l=i-s*n,c=n;return r+(s===0?"":""+s)+" "+(l===0?qn(" ",t[1].length+1+t[4].length):Aw(l,t[1].length)+t[2]+"/"+t[3]+ro(c,t[4].length))}function tO(t,e,r){return r+(e===0?"":""+e)+qn(" ",t[1].length+2+t[4].length)}var rI=/^#*0*\.([0#]+)/,nI=/\).*[0#]/,iI=/\(###\) ###\\?-####/;function Es(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function Yb(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function Jb(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function rO(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function nO(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Fa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(nI)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fa("n",n,r):"("+Fa("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return $M(t,e,r);if(e.indexOf("%")!==-1)return ZM(t,e,r);if(e.indexOf("E")!==-1)return eI(e,r);if(e.charCodeAt(0)===36)return"$"+Fa(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,l,c,g=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+nu(g,e.length);if(e.match(/^[#?]+$/))return i=nu(r,0),i==="0"&&(i=""),i.length>e.length?i:Es(e.substr(0,e.length-i.length))+i;if(s=e.match(tI))return eO(s,g,d);if(e.match(/^#+0+$/))return d+nu(g,e.length-e.indexOf("0"));if(s=e.match(rI))return i=Yb(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Es(s[1])).replace(/\.$/,"."+Es(s[1])).replace(/\.(\d*)$/,function(R,k){return"."+k+qn("0",Es(s[1]).length-k.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+Yb(g,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+$l(nu(g,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fa(t,e,-r):$l(""+(Math.floor(r)+rO(r,s[1].length)))+"."+ro(Jb(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Fa(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xu(Fa(t,e.replace(/[\\-]/g,""),r)),l=0,xu(xu(e.replace(/\\/g,"")).replace(/[0#]/g,function(R){return l<i.length?i.charAt(l++):R==="0"?"0":""}));if(e.match(iI))return i=Fa(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=T1(g,Math.pow(10,l)-1,!1),i=""+d,m=sl("n",s[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+s[2]+"/"+s[3],m=B1(c[2],l),m.length<s[4].length&&(m=Es(s[4].substr(s[4].length-m.length))+m),i+=m,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=T1(g,Math.pow(10,l)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Aw(c[1],l)+s[2]+"/"+s[3]+B1(c[2],l):qn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=nu(r,0),e.length<=i.length?i:Es(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var C=e.indexOf(".")-l,b=e.length-i.length-C;return Es(e.substr(0,C)+i+e.substr(e.length-b))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=Jb(r,s[1].length),r<0?"-"+Fa(t,e,-r):$l(nO(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(R){return"00,"+(R.length<3?ro(0,3-R.length):"")+R})+"."+ro(l,s[1].length);switch(e){case"###,##0.00":return Fa(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var N=$l(nu(g,0));return N!=="0"?d+N:"";case"###,###.00":return Fa(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Fa(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function iO(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return sl(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function sO(t,e,r){var n=e.replace($S,""),i=e.length-n.length;return sl(t,n,r*Math.pow(10,2*i))+qn("%",i)}function sI(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+sI(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,g,d,m){return g+d+m.substr(0,(i+s)%i)+"."+m.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function vo(t,e,r){if(t.charCodeAt(0)===40&&!e.match(nI)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vo("n",n,r):"("+vo("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return iO(t,e,r);if(e.indexOf("%")!==-1)return sO(t,e,r);if(e.indexOf("E")!==-1)return sI(e,r);if(e.charCodeAt(0)===36)return"$"+vo(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,l,c,g=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+ro(g,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Es(e.substr(0,e.length-i.length))+i;if(s=e.match(tI))return tO(s,g,d);if(e.match(/^#+0+$/))return d+ro(g,e.length-e.indexOf("0"));if(s=e.match(rI))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Es(s[1])).replace(/\.$/,"."+Es(s[1])),i=i.replace(/\.(\d*)$/,function(R,k){return"."+k+qn("0",Es(s[1]).length-k.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+g).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+$l(""+g);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vo(t,e,-r):$l(""+r)+"."+qn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return vo(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xu(vo(t,e.replace(/[\\-]/g,""),r)),l=0,xu(xu(e.replace(/\\/g,"")).replace(/[0#]/g,function(R){return l<i.length?i.charAt(l++):R==="0"?"0":""}));if(e.match(iI))return i=vo(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=T1(g,Math.pow(10,l)-1,!1),i=""+d,m=sl("n",s[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+s[2]+"/"+s[3],m=B1(c[2],l),m.length<s[4].length&&(m=Es(s[4].substr(s[4].length-m.length))+m),i+=m,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=T1(g,Math.pow(10,l)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Aw(c[1],l)+s[2]+"/"+s[3]+B1(c[2],l):qn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Es(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var C=e.indexOf(".")-l,b=e.length-i.length-C;return Es(e.substr(0,C)+i+e.substr(e.length-b))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+vo(t,e,-r):$l(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(R){return"00,"+(R.length<3?ro(0,3-R.length):"")+R})+"."+ro(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var N=$l(""+g);return N!=="0"?d+N:"";default:if(e.match(/\.[0#?]*$/))return vo(t,e.slice(0,e.lastIndexOf(".")),r)+Es(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function sl(t,e,r){return(r|0)===r?vo(t,e,r):Fa(t,e,r)}function aO(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var aI=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Uu(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":_1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(aI))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function oO(t,e,r,n){for(var i=[],s="",l=0,c="",g="t",d,m,C,b="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!_1(t,l))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(C=t.charCodeAt(++l))!==34&&l<t.length;)s+=String.fromCharCode(C);i[i.length]={t:"t",v:s},++l;break;case"\\":var N=t.charAt(++l),R=N==="("||N===")"?N:"t";i[i.length]={t:R,v:N},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(d==null&&(d=XA(e,r,t.charAt(l+1)==="2"),d==null))return"";i[i.length]={t:"X",v:t.substr(l,2)},g=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=XA(e,r),d==null))return"";for(s=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)s+=c;c==="m"&&g.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=b),i[i.length]={t:c,v:s},g=c;break;case"A":case"a":case"":var k={t:c,v:c};if(d==null&&(d=XA(e,r)),t.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(k.v=d.H>=12?"P":"A"),k.t="T",b="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(k.v=d.H>=12?"PM":"AM"),k.t="T",l+=5,b="h"):t.substr(l,5).toUpperCase()==="/"?(d!=null&&(k.v=d.H>=12?"":""),k.t="T",l+=5,b="h"):(k.t="t",++l),d==null&&k.t==="T")return"";i[i.length]=k,g=c;break;case"[":for(s=c;t.charAt(l++)!=="]"&&l<t.length;)s+=t.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(aI)){if(d==null&&(d=XA(e,r),d==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},g=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Uu(t)||(i[i.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=c;++l<t.length&&(c=t.charAt(l))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;t.charAt(++l)===c;)s+=c;i[i.length]={t:c,v:s},g=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)s+=t.charAt(l);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++l;break}var U=0,j=0,K;for(l=i.length-1,g="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=b,g="h",U<1&&(U=1);break;case"s":(K=i[l].v.match(/\.0+$/))&&(j=Math.max(j,K[0].length-1)),U<3&&(U=3);case"d":case"y":case"M":case"e":g=i[l].t;break;case"m":g==="s"&&(i[l].t="M",U<2&&(U=2));break;case"X":break;case"Z":U<1&&i[l].v.match(/[Hh]/)&&(U=1),U<2&&i[l].v.match(/[Mm]/)&&(U=2),U<3&&i[l].v.match(/[Ss]/)&&(U=3)}switch(U){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var Q="",J;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=JM(i[l].t.charCodeAt(0),i[l].v,d,j),i[l].t="t";break;case"n":case"?":for(J=l+1;i[J]!=null&&((c=i[J].t)==="?"||c==="D"||(c===" "||c==="t")&&i[J+1]!=null&&(i[J+1].t==="?"||i[J+1].t==="t"&&i[J+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[J].v==="/"||i[J].v===" "&&i[J+1]!=null&&i[J+1].t=="?"));)i[l].v+=i[J].v,i[J]={v:"",t:";"},++J;Q+=i[l].v,l=J-1;break;case"G":i[l].t="t",i[l].v=rc(e,r);break}var re="",G,M;if(Q.length>0){Q.charCodeAt(0)==40?(G=e<0&&Q.charCodeAt(0)===45?-e:e,M=sl("n",Q,G)):(G=e<0&&n>1?-e:e,M=sl("n",Q,G),G<0&&i[0]&&i[0].t=="t"&&(M=M.substr(1),i[0].v="-"+i[0].v)),J=M.length-1;var P=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){P=l;break}var O=i.length;if(P===i.length&&M.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(J>=i[l].v.length-1?(J-=i[l].v.length,i[l].v=M.substr(J+1,i[l].v.length)):J<0?i[l].v="":(i[l].v=M.substr(0,J+1),J=-1),i[l].t="t",O=l);J>=0&&O<i.length&&(i[O].v=M.substr(0,J+1)+i[O].v)}else if(P!==i.length&&M.indexOf("E")===-1){for(J=M.indexOf(".")-1,l=P;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(m=i[l].v.indexOf(".")>-1&&l===P?i[l].v.indexOf(".")-1:i[l].v.length-1,re=i[l].v.substr(m+1);m>=0;--m)J>=0&&(i[l].v.charAt(m)==="0"||i[l].v.charAt(m)==="#")&&(re=M.charAt(J--)+re);i[l].v=re,i[l].t="t",O=l}for(J>=0&&O<i.length&&(i[O].v=M.substr(0,J+1)+i[O].v),J=M.indexOf(".")+1,l=P;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==P)){for(m=i[l].v.indexOf(".")>-1&&l===P?i[l].v.indexOf(".")+1:0,re=i[l].v.substr(0,m);m<i[l].v.length;++m)J<M.length&&(re+=M.charAt(J++));i[l].v=re,i[l].t="t",O=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(G=n>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=sl(i[l].t,i[l].v,G),i[l].t="t");var ee="";for(l=0;l!==i.length;++l)i[l]!=null&&(ee+=i[l].v);return ee}var Zb=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $b(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function lO(t,e){var r=aO(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(Zb),c=r[1].match(Zb);return $b(e,l)?[n,r[0]]:$b(e,c)?[n,r[1]]:[n,r[l!=null&&c!=null?2:1]]}return[n,s]}function Qa(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Cr)[t],n==null&&(n=r.table&&r.table[qb[t]]||Cr[qb[t]]),n==null&&(n=GM[t]||"General");break}if(_1(n,0))return rc(e,r);e instanceof Date&&(e=ZS(e,r.date1904));var i=lO(n,e);if(_1(i[1]))return rc(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return oO(i[1],e,r,i[0])}function $A(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Cr[r]==null){e<0&&(e=r);continue}if(Cr[r]==t){e=r;break}}e<0&&(e=391)}return Cr[e]=t,e}function oI(){Cr=jM()}var AO={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},lI=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function cO(t){var e=typeof t=="number"?Cr[t]:t;return e=e.replace(lI,"(\\d+)"),new RegExp("^"+e+"$")}function uO(t,e,r){var n=-1,i=-1,s=-1,l=-1,c=-1,g=-1;(e.match(lI)||[]).forEach(function(C,b){var N=parseInt(r[b+1],10);switch(C.toLowerCase().charAt(0)){case"y":n=N;break;case"d":s=N;break;case"h":l=N;break;case"s":g=N;break;case"m":l>=0?c=N:i=N;break}}),g>=0&&c==-1&&i>=0&&(c=i,i=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2);return l==-1&&c==-1&&g==-1?d:n==-1&&i==-1&&s==-1?m:d+"T"+m}var fO=(function(){var t={};t.version="1.2.0";function e(){for(var M=0,P=new Array(256),O=0;O!=256;++O)M=O,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,P[O]=M;return typeof Int32Array<"u"?new Int32Array(P):P}var r=e();function n(M){var P=0,O=0,ee=0,te=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ee=0;ee!=256;++ee)te[ee]=M[ee];for(ee=0;ee!=256;++ee)for(O=M[ee],P=256+ee;P<4096;P+=256)O=te[P]=O>>>8^M[O&255];var W=[];for(ee=1;ee!=16;++ee)W[ee-1]=typeof Int32Array<"u"?te.subarray(ee*256,ee*256+256):te.slice(ee*256,ee*256+256);return W}var i=n(r),s=i[0],l=i[1],c=i[2],g=i[3],d=i[4],m=i[5],C=i[6],b=i[7],N=i[8],R=i[9],k=i[10],U=i[11],j=i[12],K=i[13],Q=i[14];function J(M,P){for(var O=P^-1,ee=0,te=M.length;ee<te;)O=O>>>8^r[(O^M.charCodeAt(ee++))&255];return~O}function re(M,P){for(var O=P^-1,ee=M.length-15,te=0;te<ee;)O=Q[M[te++]^O&255]^K[M[te++]^O>>8&255]^j[M[te++]^O>>16&255]^U[M[te++]^O>>>24]^k[M[te++]]^R[M[te++]]^N[M[te++]]^b[M[te++]]^C[M[te++]]^m[M[te++]]^d[M[te++]]^g[M[te++]]^c[M[te++]]^l[M[te++]]^s[M[te++]]^r[M[te++]];for(ee+=15;te<ee;)O=O>>>8^r[(O^M[te++])&255];return~O}function G(M,P){for(var O=P^-1,ee=0,te=M.length,W=0,q=0;ee<te;)W=M.charCodeAt(ee++),W<128?O=O>>>8^r[(O^W)&255]:W<2048?(O=O>>>8^r[(O^(192|W>>6&31))&255],O=O>>>8^r[(O^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,q=M.charCodeAt(ee++)&1023,O=O>>>8^r[(O^(240|W>>8&7))&255],O=O>>>8^r[(O^(128|W>>2&63))&255],O=O>>>8^r[(O^(128|q>>6&15|(W&3)<<4))&255],O=O>>>8^r[(O^(128|q&63))&255]):(O=O>>>8^r[(O^(224|W>>12&15))&255],O=O>>>8^r[(O^(128|W>>6&63))&255],O=O>>>8^r[(O^(128|W&63))&255]);return~O}return t.table=r,t.bstr=J,t.buf=re,t.str=G,t})(),Qr=(function(){var e={};e.version="1.2.1";function r(ie,Ae){for(var de=ie.split("/"),he=Ae.split("/"),pe=0,ve=0,Ve=Math.min(de.length,he.length);pe<Ve;++pe){if(ve=de[pe].length-he[pe].length)return ve;if(de[pe]!=he[pe])return de[pe]<he[pe]?-1:1}return de.length-he.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var Ae=ie.lastIndexOf("/");return Ae===-1?ie:ie.slice(0,Ae+1)}function i(ie){if(ie.charAt(ie.length-1)=="/")return i(ie.slice(0,-1));var Ae=ie.lastIndexOf("/");return Ae===-1?ie:ie.slice(Ae+1)}function s(ie,Ae){typeof Ae=="string"&&(Ae=new Date(Ae));var de=Ae.getHours();de=de<<6|Ae.getMinutes(),de=de<<5|Ae.getSeconds()>>>1,ie.write_shift(2,de);var he=Ae.getFullYear()-1980;he=he<<4|Ae.getMonth()+1,he=he<<5|Ae.getDate(),ie.write_shift(2,he)}function l(ie){var Ae=ie.read_shift(2)&65535,de=ie.read_shift(2)&65535,he=new Date,pe=de&31;de>>>=5;var ve=de&15;de>>>=4,he.setMilliseconds(0),he.setFullYear(de+1980),he.setMonth(ve-1),he.setDate(pe);var Ve=Ae&31;Ae>>>=5;var rt=Ae&63;return Ae>>>=6,he.setHours(Ae),he.setMinutes(rt),he.setSeconds(Ve<<1),he}function c(ie){Gi(ie,0);for(var Ae={},de=0;ie.l<=ie.length-4;){var he=ie.read_shift(2),pe=ie.read_shift(2),ve=ie.l+pe,Ve={};switch(he){case 21589:de=ie.read_shift(1),de&1&&(Ve.mtime=ie.read_shift(4)),pe>5&&(de&2&&(Ve.atime=ie.read_shift(4)),de&4&&(Ve.ctime=ie.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}ie.l=ve,Ae[he]=Ve}return Ae}var g;function d(){return g||(g={})}function m(ie,Ae){if(ie[0]==80&&ie[1]==75)return ft(ie,Ae);if((ie[0]|32)==109&&(ie[1]|32)==105)return gs(ie,Ae);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var de=3,he=512,pe=0,ve=0,Ve=0,rt=0,Me=0,Ke=[],ze=ie.slice(0,512);Gi(ze,0);var dt=C(ze);switch(de=dt[0],de){case 3:he=512;break;case 4:he=4096;break;case 0:if(dt[1]==0)return ft(ie,Ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+de)}he!==512&&(ze=ie.slice(0,he),Gi(ze,28));var xt=ie.slice(0,he);b(ze,de);var wt=ze.read_shift(4,"i");if(de===3&&wt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+wt);ze.l+=4,Ve=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),rt=ze.read_shift(4,"i"),pe=ze.read_shift(4,"i"),Me=ze.read_shift(4,"i"),ve=ze.read_shift(4,"i");for(var Ct=-1,_t=0;_t<109&&(Ct=ze.read_shift(4,"i"),!(Ct<0));++_t)Ke[_t]=Ct;var Ot=N(ie,he);U(Me,ve,Ot,he,Ke);var nt=K(Ot,Ve,Ke,he);nt[Ve].name="!Directory",pe>0&&rt!==q&&(nt[rt].name="!MiniFAT"),nt[Ke[0]].name="!FAT",nt.fat_addrs=Ke,nt.ssz=he;var Or={},Jt=[],Un=[],Va=[];Q(Ve,nt,Ot,Jt,pe,Or,Un,rt),R(Un,Va,Jt),Jt.shift();var vr={FileIndex:Un,FullPaths:Va};return Ae&&Ae.raw&&(vr.raw={header:xt,sectors:Ot}),vr}function C(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(Ie,"Header Signature: "),ie.l+=16;var Ae=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),Ae]}function b(ie,Ae){var de=9;switch(ie.l+=2,de=ie.read_shift(2)){case 9:if(Ae!=3)throw new Error("Sector Shift: Expected 9 saw "+de);break;case 12:if(Ae!=4)throw new Error("Sector Shift: Expected 12 saw "+de);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+de)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function N(ie,Ae){for(var de=Math.ceil(ie.length/Ae)-1,he=[],pe=1;pe<de;++pe)he[pe-1]=ie.slice(pe*Ae,(pe+1)*Ae);return he[de-1]=ie.slice(de*Ae),he}function R(ie,Ae,de){for(var he=0,pe=0,ve=0,Ve=0,rt=0,Me=de.length,Ke=[],ze=[];he<Me;++he)Ke[he]=ze[he]=he,Ae[he]=de[he];for(;rt<ze.length;++rt)he=ze[rt],pe=ie[he].L,ve=ie[he].R,Ve=ie[he].C,Ke[he]===he&&(pe!==-1&&Ke[pe]!==pe&&(Ke[he]=Ke[pe]),ve!==-1&&Ke[ve]!==ve&&(Ke[he]=Ke[ve])),Ve!==-1&&(Ke[Ve]=he),pe!==-1&&he!=Ke[he]&&(Ke[pe]=Ke[he],ze.lastIndexOf(pe)<rt&&ze.push(pe)),ve!==-1&&he!=Ke[he]&&(Ke[ve]=Ke[he],ze.lastIndexOf(ve)<rt&&ze.push(ve));for(he=1;he<Me;++he)Ke[he]===he&&(ve!==-1&&Ke[ve]!==ve?Ke[he]=Ke[ve]:pe!==-1&&Ke[pe]!==pe&&(Ke[he]=Ke[pe]));for(he=1;he<Me;++he)if(ie[he].type!==0){if(rt=he,rt!=Ke[rt])do rt=Ke[rt],Ae[he]=Ae[rt]+"/"+Ae[he];while(rt!==0&&Ke[rt]!==-1&&rt!=Ke[rt]);Ke[he]=-1}for(Ae[0]+="/",he=1;he<Me;++he)ie[he].type!==2&&(Ae[he]+="/")}function k(ie,Ae,de){for(var he=ie.start,pe=ie.size,ve=[],Ve=he;de&&pe>0&&Ve>=0;)ve.push(Ae.slice(Ve*W,Ve*W+W)),pe-=W,Ve=zA(de,Ve*4);return ve.length===0?vi(0):Xl(ve).slice(0,ie.size)}function U(ie,Ae,de,he,pe){var ve=q;if(ie===q){if(Ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Ve=de[ie],rt=(he>>>2)-1;if(!Ve)return;for(var Me=0;Me<rt&&(ve=zA(Ve,Me*4))!==q;++Me)pe.push(ve);U(zA(Ve,he-4),Ae-1,de,he,pe)}}function j(ie,Ae,de,he,pe){var ve=[],Ve=[];pe||(pe=[]);var rt=he-1,Me=0,Ke=0;for(Me=Ae;Me>=0;){pe[Me]=!0,ve[ve.length]=Me,Ve.push(ie[Me]);var ze=de[Math.floor(Me*4/he)];if(Ke=Me*4&rt,he<4+Ke)throw new Error("FAT boundary crossed: "+Me+" 4 "+he);if(!ie[ze])break;Me=zA(ie[ze],Ke)}return{nodes:ve,data:AB([Ve])}}function K(ie,Ae,de,he){var pe=ie.length,ve=[],Ve=[],rt=[],Me=[],Ke=he-1,ze=0,dt=0,xt=0,wt=0;for(ze=0;ze<pe;++ze)if(rt=[],xt=ze+Ae,xt>=pe&&(xt-=pe),!Ve[xt]){Me=[];var Ct=[];for(dt=xt;dt>=0;){Ct[dt]=!0,Ve[dt]=!0,rt[rt.length]=dt,Me.push(ie[dt]);var _t=de[Math.floor(dt*4/he)];if(wt=dt*4&Ke,he<4+wt)throw new Error("FAT boundary crossed: "+dt+" 4 "+he);if(!ie[_t]||(dt=zA(ie[_t],wt),Ct[dt]))break}ve[xt]={nodes:rt,data:AB([Me])}}return ve}function Q(ie,Ae,de,he,pe,ve,Ve,rt){for(var Me=0,Ke=he.length?2:0,ze=Ae[ie].data,dt=0,xt=0,wt;dt<ze.length;dt+=128){var Ct=ze.slice(dt,dt+128);Gi(Ct,64),xt=Ct.read_shift(2),wt=gw(Ct,0,xt-Ke),he.push(wt);var _t={name:wt,type:Ct.read_shift(1),color:Ct.read_shift(1),L:Ct.read_shift(4,"i"),R:Ct.read_shift(4,"i"),C:Ct.read_shift(4,"i"),clsid:Ct.read_shift(16),state:Ct.read_shift(4,"i"),start:0,size:0},Ot=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);Ot!==0&&(_t.ct=J(Ct,Ct.l-8));var nt=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);nt!==0&&(_t.mt=J(Ct,Ct.l-8)),_t.start=Ct.read_shift(4,"i"),_t.size=Ct.read_shift(4,"i"),_t.size<0&&_t.start<0&&(_t.size=_t.type=0,_t.start=q,_t.name=""),_t.type===5?(Me=_t.start,pe>0&&Me!==q&&(Ae[Me].name="!StreamData")):_t.size>=4096?(_t.storage="fat",Ae[_t.start]===void 0&&(Ae[_t.start]=j(de,_t.start,Ae.fat_addrs,Ae.ssz)),Ae[_t.start].name=_t.name,_t.content=Ae[_t.start].data.slice(0,_t.size)):(_t.storage="minifat",_t.size<0?_t.size=0:Me!==q&&_t.start!==q&&Ae[Me]&&(_t.content=k(_t,Ae[Me].data,(Ae[rt]||{}).data))),_t.content&&Gi(_t.content,0),ve[wt]=_t,Ve.push(_t)}}function J(ie,Ae){return new Date((da(ie,Ae+4)/1e7*Math.pow(2,32)+da(ie,Ae)/1e7-11644473600)*1e3)}function re(ie,Ae){return d(),m(g.readFileSync(ie),Ae)}function G(ie,Ae){var de=Ae&&Ae.type;switch(de||Mr&&Buffer.isBuffer(ie)&&(de="buffer"),de||"base64"){case"file":return re(ie,Ae);case"base64":return m(eo(ma(ie)),Ae);case"binary":return m(eo(ie),Ae)}return m(ie,Ae)}function M(ie,Ae){var de=Ae||{},he=de.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=he+"/",ie.FileIndex[0]={name:he,type:5}),de.CLSID&&(ie.FileIndex[0].clsid=de.CLSID),P(ie)}function P(ie){var Ae="Sh33tJ5";if(!Qr.find(ie,"/"+Ae)){var de=vi(4);de[0]=55,de[1]=de[3]=50,de[2]=54,ie.FileIndex.push({name:Ae,type:2,content:de,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+Ae),O(ie)}}function O(ie,Ae){M(ie);for(var de=!1,he=!1,pe=ie.FullPaths.length-1;pe>=0;--pe){var ve=ie.FileIndex[pe];switch(ve.type){case 0:he?de=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(ve.R*ve.L*ve.C)&&(de=!0),ve.R>-1&&ve.L>-1&&ve.R==ve.L&&(de=!0);break;default:de=!0;break}}if(!(!de&&!Ae)){var Ve=new Date(1987,1,19),rt=0,Me=Object.create?Object.create(null):{},Ke=[];for(pe=0;pe<ie.FullPaths.length;++pe)Me[ie.FullPaths[pe]]=!0,ie.FileIndex[pe].type!==0&&Ke.push([ie.FullPaths[pe],ie.FileIndex[pe]]);for(pe=0;pe<Ke.length;++pe){var ze=n(Ke[pe][0]);he=Me[ze],he||(Ke.push([ze,{name:i(ze).replace("/",""),type:1,clsid:ge,ct:Ve,mt:Ve,content:null}]),Me[ze]=!0)}for(Ke.sort(function(wt,Ct){return r(wt[0],Ct[0])}),ie.FullPaths=[],ie.FileIndex=[],pe=0;pe<Ke.length;++pe)ie.FullPaths[pe]=Ke[pe][0],ie.FileIndex[pe]=Ke[pe][1];for(pe=0;pe<Ke.length;++pe){var dt=ie.FileIndex[pe],xt=ie.FullPaths[pe];if(dt.name=i(xt).replace("/",""),dt.L=dt.R=dt.C=-(dt.color=1),dt.size=dt.content?dt.content.length:0,dt.start=0,dt.clsid=dt.clsid||ge,pe===0)dt.C=Ke.length>1?1:-1,dt.size=0,dt.type=5;else if(xt.slice(-1)=="/"){for(rt=pe+1;rt<Ke.length&&n(ie.FullPaths[rt])!=xt;++rt);for(dt.C=rt>=Ke.length?-1:rt,rt=pe+1;rt<Ke.length&&n(ie.FullPaths[rt])!=n(xt);++rt);dt.R=rt>=Ke.length?-1:rt,dt.type=1}else n(ie.FullPaths[pe+1]||"")==n(xt)&&(dt.R=pe+1),dt.type=2}}}function ee(ie,Ae){var de=Ae||{};if(de.fileType=="mad")return $r(ie,de);switch(O(ie),de.fileType){case"zip":return Xt(ie,de)}var he=(function(wt){for(var Ct=0,_t=0,Ot=0;Ot<wt.FileIndex.length;++Ot){var nt=wt.FileIndex[Ot];if(nt.content){var Or=nt.content.length;Or>0&&(Or<4096?Ct+=Or+63>>6:_t+=Or+511>>9)}}for(var Jt=wt.FullPaths.length+3>>2,Un=Ct+7>>3,Va=Ct+127>>7,vr=Un+_t+Jt+Va,cr=vr+127>>7,dr=cr<=109?0:Math.ceil((cr-109)/127);vr+cr+dr+127>>7>cr;)dr=++cr<=109?0:Math.ceil((cr-109)/127);var Hn=[1,dr,cr,Va,Jt,_t,Ct,0];return wt.FileIndex[0].size=Ct<<6,Hn[7]=(wt.FileIndex[0].start=Hn[0]+Hn[1]+Hn[2]+Hn[3]+Hn[4]+Hn[5])+(Hn[6]+7>>3),Hn})(ie),pe=vi(he[7]<<9),ve=0,Ve=0;{for(ve=0;ve<8;++ve)pe.write_shift(1,xe[ve]);for(ve=0;ve<8;++ve)pe.write_shift(2,0);for(pe.write_shift(2,62),pe.write_shift(2,3),pe.write_shift(2,65534),pe.write_shift(2,9),pe.write_shift(2,6),ve=0;ve<3;++ve)pe.write_shift(2,0);for(pe.write_shift(4,0),pe.write_shift(4,he[2]),pe.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),pe.write_shift(4,0),pe.write_shift(4,4096),pe.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:q),pe.write_shift(4,he[3]),pe.write_shift(-4,he[1]?he[0]-1:q),pe.write_shift(4,he[1]),ve=0;ve<109;++ve)pe.write_shift(-4,ve<he[2]?he[1]+ve:-1)}if(he[1])for(Ve=0;Ve<he[1];++Ve){for(;ve<236+Ve*127;++ve)pe.write_shift(-4,ve<he[2]?he[1]+ve:-1);pe.write_shift(-4,Ve===he[1]-1?q:Ve+1)}var rt=function(wt){for(Ve+=wt;ve<Ve-1;++ve)pe.write_shift(-4,ve+1);wt&&(++ve,pe.write_shift(-4,q))};for(Ve=ve=0,Ve+=he[1];ve<Ve;++ve)pe.write_shift(-4,ye.DIFSECT);for(Ve+=he[2];ve<Ve;++ve)pe.write_shift(-4,ye.FATSECT);rt(he[3]),rt(he[4]);for(var Me=0,Ke=0,ze=ie.FileIndex[0];Me<ie.FileIndex.length;++Me)ze=ie.FileIndex[Me],ze.content&&(Ke=ze.content.length,!(Ke<4096)&&(ze.start=Ve,rt(Ke+511>>9)));for(rt(he[6]+7>>3);pe.l&511;)pe.write_shift(-4,ye.ENDOFCHAIN);for(Ve=ve=0,Me=0;Me<ie.FileIndex.length;++Me)ze=ie.FileIndex[Me],ze.content&&(Ke=ze.content.length,!(!Ke||Ke>=4096)&&(ze.start=Ve,rt(Ke+63>>6)));for(;pe.l&511;)pe.write_shift(-4,ye.ENDOFCHAIN);for(ve=0;ve<he[4]<<2;++ve){var dt=ie.FullPaths[ve];if(!dt||dt.length===0){for(Me=0;Me<17;++Me)pe.write_shift(4,0);for(Me=0;Me<3;++Me)pe.write_shift(4,-1);for(Me=0;Me<12;++Me)pe.write_shift(4,0);continue}ze=ie.FileIndex[ve],ve===0&&(ze.start=ze.size?ze.start-1:q);var xt=ve===0&&de.root||ze.name;if(Ke=2*(xt.length+1),pe.write_shift(64,xt,"utf16le"),pe.write_shift(2,Ke),pe.write_shift(1,ze.type),pe.write_shift(1,ze.color),pe.write_shift(-4,ze.L),pe.write_shift(-4,ze.R),pe.write_shift(-4,ze.C),ze.clsid)pe.write_shift(16,ze.clsid,"hex");else for(Me=0;Me<4;++Me)pe.write_shift(4,0);pe.write_shift(4,ze.state||0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,ze.start),pe.write_shift(4,ze.size),pe.write_shift(4,0)}for(ve=1;ve<ie.FileIndex.length;++ve)if(ze=ie.FileIndex[ve],ze.size>=4096)if(pe.l=ze.start+1<<9,Mr&&Buffer.isBuffer(ze.content))ze.content.copy(pe,pe.l,0,ze.size),pe.l+=ze.size+511&-512;else{for(Me=0;Me<ze.size;++Me)pe.write_shift(1,ze.content[Me]);for(;Me&511;++Me)pe.write_shift(1,0)}for(ve=1;ve<ie.FileIndex.length;++ve)if(ze=ie.FileIndex[ve],ze.size>0&&ze.size<4096)if(Mr&&Buffer.isBuffer(ze.content))ze.content.copy(pe,pe.l,0,ze.size),pe.l+=ze.size+63&-64;else{for(Me=0;Me<ze.size;++Me)pe.write_shift(1,ze.content[Me]);for(;Me&63;++Me)pe.write_shift(1,0)}if(Mr)pe.l=pe.length;else for(;pe.l<pe.length;)pe.write_shift(1,0);return pe}function te(ie,Ae){var de=ie.FullPaths.map(function(Me){return Me.toUpperCase()}),he=de.map(function(Me){var Ke=Me.split("/");return Ke[Ke.length-(Me.slice(-1)=="/"?2:1)]}),pe=!1;Ae.charCodeAt(0)===47?(pe=!0,Ae=de[0].slice(0,-1)+Ae):pe=Ae.indexOf("/")!==-1;var ve=Ae.toUpperCase(),Ve=pe===!0?de.indexOf(ve):he.indexOf(ve);if(Ve!==-1)return ie.FileIndex[Ve];var rt=!ve.match(V0);for(ve=ve.replace(_s,""),rt&&(ve=ve.replace(V0,"!")),Ve=0;Ve<de.length;++Ve)if((rt?de[Ve].replace(V0,"!"):de[Ve]).replace(_s,"")==ve||(rt?he[Ve].replace(V0,"!"):he[Ve]).replace(_s,"")==ve)return ie.FileIndex[Ve];return null}var W=64,q=-2,Ie="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],ge="00000000000000000000000000000000",ye={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:q,FREESECT:-1,HEADER_SIGNATURE:Ie,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ge,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function We(ie,Ae,de){d();var he=ee(ie,de);g.writeFileSync(Ae,he)}function Ee(ie){for(var Ae=new Array(ie.length),de=0;de<ie.length;++de)Ae[de]=String.fromCharCode(ie[de]);return Ae.join("")}function et(ie,Ae){var de=ee(ie,Ae);switch(Ae&&Ae.type||"buffer"){case"file":return d(),g.writeFileSync(Ae.filename,de),de;case"binary":return typeof de=="string"?de:Ee(de);case"base64":return Kb(typeof de=="string"?de:Ee(de));case"buffer":if(Mr)return Buffer.isBuffer(de)?de:cc(de);case"array":return typeof de=="string"?eo(de):de}return de}var ne;function X(ie){try{var Ae=ie.InflateRaw,de=new Ae;if(de._processChunk(new Uint8Array([3,0]),de._finishFlushFlag),de.bytesRead)ne=ie;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function ue(ie,Ae){if(!ne)return Re(ie,Ae);var de=ne.InflateRaw,he=new de,pe=he._processChunk(ie.slice(ie.l),he._finishFlushFlag);return ie.l+=he.bytesRead,pe}function oe(ie){return ne?ne.deflateRawSync(ie):bt(ie)}var ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],be=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Je=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(ie){var Ae=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(Ae>>16|Ae>>8|Ae)&255}for(var He=typeof Uint8Array<"u",Te=He?new Uint8Array(256):[],pt=0;pt<256;++pt)Te[pt]=ke(pt);function se(ie,Ae){var de=Te[ie&255];return Ae<=8?de>>>8-Ae:(de=de<<8|Te[ie>>8&255],Ae<=16?de>>>16-Ae:(de=de<<8|Te[ie>>16&255],de>>>24-Ae))}function Xe(ie,Ae){var de=Ae&7,he=Ae>>>3;return(ie[he]|(de<=6?0:ie[he+1]<<8))>>>de&3}function vt(ie,Ae){var de=Ae&7,he=Ae>>>3;return(ie[he]|(de<=5?0:ie[he+1]<<8))>>>de&7}function Ft(ie,Ae){var de=Ae&7,he=Ae>>>3;return(ie[he]|(de<=4?0:ie[he+1]<<8))>>>de&15}function At(ie,Ae){var de=Ae&7,he=Ae>>>3;return(ie[he]|(de<=3?0:ie[he+1]<<8))>>>de&31}function ot(ie,Ae){var de=Ae&7,he=Ae>>>3;return(ie[he]|(de<=1?0:ie[he+1]<<8))>>>de&127}function Dt(ie,Ae,de){var he=Ae&7,pe=Ae>>>3,ve=(1<<de)-1,Ve=ie[pe]>>>he;return de<8-he||(Ve|=ie[pe+1]<<8-he,de<16-he)||(Ve|=ie[pe+2]<<16-he,de<24-he)||(Ve|=ie[pe+3]<<24-he),Ve&ve}function Nt(ie,Ae,de){var he=Ae&7,pe=Ae>>>3;return he<=5?ie[pe]|=(de&7)<<he:(ie[pe]|=de<<he&255,ie[pe+1]=(de&7)>>8-he),Ae+3}function wr(ie,Ae,de){var he=Ae&7,pe=Ae>>>3;return de=(de&1)<<he,ie[pe]|=de,Ae+1}function Tt(ie,Ae,de){var he=Ae&7,pe=Ae>>>3;return de<<=he,ie[pe]|=de&255,de>>>=8,ie[pe+1]=de,Ae+8}function un(ie,Ae,de){var he=Ae&7,pe=Ae>>>3;return de<<=he,ie[pe]|=de&255,de>>>=8,ie[pe+1]=de&255,ie[pe+2]=de>>>8,Ae+16}function nn(ie,Ae){var de=ie.length,he=2*de>Ae?2*de:Ae+5,pe=0;if(de>=Ae)return ie;if(Mr){var ve=zb(he);if(ie.copy)ie.copy(ve);else for(;pe<ie.length;++pe)ve[pe]=ie[pe];return ve}else if(He){var Ve=new Uint8Array(he);if(Ve.set)Ve.set(ie);else for(;pe<de;++pe)Ve[pe]=ie[pe];return Ve}return ie.length=he,ie}function Pe(ie){for(var Ae=new Array(ie),de=0;de<ie;++de)Ae[de]=0;return Ae}function Le(ie,Ae,de){var he=1,pe=0,ve=0,Ve=0,rt=0,Me=ie.length,Ke=He?new Uint16Array(32):Pe(32);for(ve=0;ve<32;++ve)Ke[ve]=0;for(ve=Me;ve<de;++ve)ie[ve]=0;Me=ie.length;var ze=He?new Uint16Array(Me):Pe(Me);for(ve=0;ve<Me;++ve)Ke[pe=ie[ve]]++,he<pe&&(he=pe),ze[ve]=0;for(Ke[0]=0,ve=1;ve<=he;++ve)Ke[ve+16]=rt=rt+Ke[ve-1]<<1;for(ve=0;ve<Me;++ve)rt=ie[ve],rt!=0&&(ze[ve]=Ke[rt+16]++);var dt=0;for(ve=0;ve<Me;++ve)if(dt=ie[ve],dt!=0)for(rt=se(ze[ve],he)>>he-dt,Ve=(1<<he+4-dt)-1;Ve>=0;--Ve)Ae[rt|Ve<<dt]=dt&15|ve<<4;return he}var lt=He?new Uint16Array(512):Pe(512),kt=He?new Uint16Array(32):Pe(32);if(!He){for(var tr=0;tr<512;++tr)lt[tr]=0;for(tr=0;tr<32;++tr)kt[tr]=0}(function(){for(var ie=[],Ae=0;Ae<32;Ae++)ie.push(5);Le(ie,kt,32);var de=[];for(Ae=0;Ae<=143;Ae++)de.push(8);for(;Ae<=255;Ae++)de.push(9);for(;Ae<=279;Ae++)de.push(7);for(;Ae<=287;Ae++)de.push(8);Le(de,lt,288)})();var st=(function(){for(var Ae=He?new Uint8Array(32768):[],de=0,he=0;de<Je.length-1;++de)for(;he<Je[de+1];++he)Ae[he]=de;for(;he<32768;++he)Ae[he]=29;var pe=He?new Uint8Array(259):[];for(de=0,he=0;de<be.length-1;++de)for(;he<be[de+1];++he)pe[he]=de;function ve(rt,Me){for(var Ke=0;Ke<rt.length;){var ze=Math.min(65535,rt.length-Ke),dt=Ke+ze==rt.length;for(Me.write_shift(1,+dt),Me.write_shift(2,ze),Me.write_shift(2,~ze&65535);ze-- >0;)Me[Me.l++]=rt[Ke++]}return Me.l}function Ve(rt,Me){for(var Ke=0,ze=0,dt=He?new Uint16Array(32768):[];ze<rt.length;){var xt=Math.min(65535,rt.length-ze);if(xt<10){for(Ke=Nt(Me,Ke,+(ze+xt==rt.length)),Ke&7&&(Ke+=8-(Ke&7)),Me.l=Ke/8|0,Me.write_shift(2,xt),Me.write_shift(2,~xt&65535);xt-- >0;)Me[Me.l++]=rt[ze++];Ke=Me.l*8;continue}Ke=Nt(Me,Ke,+(ze+xt==rt.length)+2);for(var wt=0;xt-- >0;){var Ct=rt[ze];wt=(wt<<5^Ct)&32767;var _t=-1,Ot=0;if((_t=dt[wt])&&(_t|=ze&-32768,_t>ze&&(_t-=32768),_t<ze))for(;rt[_t+Ot]==rt[ze+Ot]&&Ot<250;)++Ot;if(Ot>2){Ct=pe[Ot],Ct<=22?Ke=Tt(Me,Ke,Te[Ct+1]>>1)-1:(Tt(Me,Ke,3),Ke+=5,Tt(Me,Ke,Te[Ct-23]>>5),Ke+=3);var nt=Ct<8?0:Ct-4>>2;nt>0&&(un(Me,Ke,Ot-be[Ct]),Ke+=nt),Ct=Ae[ze-_t],Ke=Tt(Me,Ke,Te[Ct]>>3),Ke-=3;var Or=Ct<4?0:Ct-2>>1;Or>0&&(un(Me,Ke,ze-_t-Je[Ct]),Ke+=Or);for(var Jt=0;Jt<Ot;++Jt)dt[wt]=ze&32767,wt=(wt<<5^rt[ze])&32767,++ze;xt-=Ot-1}else Ct<=143?Ct=Ct+48:Ke=wr(Me,Ke,1),Ke=Tt(Me,Ke,Te[Ct]),dt[wt]=ze&32767,++ze}Ke=Tt(Me,Ke,0)-1}return Me.l=(Ke+7)/8|0,Me.l}return function(Me,Ke){return Me.length<8?ve(Me,Ke):Ve(Me,Ke)}})();function bt(ie){var Ae=vi(50+Math.floor(ie.length*1.1)),de=st(ie,Ae);return Ae.slice(0,de)}var Wt=He?new Uint16Array(32768):Pe(32768),Er=He?new Uint16Array(32768):Pe(32768),Gt=He?new Uint16Array(128):Pe(128),Ne=1,Rt=1;function jt(ie,Ae){var de=At(ie,Ae)+257;Ae+=5;var he=At(ie,Ae)+1;Ae+=5;var pe=Ft(ie,Ae)+4;Ae+=4;for(var ve=0,Ve=He?new Uint8Array(19):Pe(19),rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Me=1,Ke=He?new Uint8Array(8):Pe(8),ze=He?new Uint8Array(8):Pe(8),dt=Ve.length,xt=0;xt<pe;++xt)Ve[ce[xt]]=ve=vt(ie,Ae),Me<ve&&(Me=ve),Ke[ve]++,Ae+=3;var wt=0;for(Ke[0]=0,xt=1;xt<=Me;++xt)ze[xt]=wt=wt+Ke[xt-1]<<1;for(xt=0;xt<dt;++xt)(wt=Ve[xt])!=0&&(rt[xt]=ze[wt]++);var Ct=0;for(xt=0;xt<dt;++xt)if(Ct=Ve[xt],Ct!=0){wt=Te[rt[xt]]>>8-Ct;for(var _t=(1<<7-Ct)-1;_t>=0;--_t)Gt[wt|_t<<Ct]=Ct&7|xt<<3}var Ot=[];for(Me=1;Ot.length<de+he;)switch(wt=Gt[ot(ie,Ae)],Ae+=wt&7,wt>>>=3){case 16:for(ve=3+Xe(ie,Ae),Ae+=2,wt=Ot[Ot.length-1];ve-- >0;)Ot.push(wt);break;case 17:for(ve=3+vt(ie,Ae),Ae+=3;ve-- >0;)Ot.push(0);break;case 18:for(ve=11+ot(ie,Ae),Ae+=7;ve-- >0;)Ot.push(0);break;default:Ot.push(wt),Me<wt&&(Me=wt);break}var nt=Ot.slice(0,de),Or=Ot.slice(de);for(xt=de;xt<286;++xt)nt[xt]=0;for(xt=he;xt<30;++xt)Or[xt]=0;return Ne=Le(nt,Wt,286),Rt=Le(Or,Er,30),Ae}function Ar(ie,Ae){if(ie[0]==3&&!(ie[1]&3))return[cA(Ae),2];for(var de=0,he=0,pe=zb(Ae||1<<18),ve=0,Ve=pe.length>>>0,rt=0,Me=0;(he&1)==0;){if(he=vt(ie,de),de+=3,he>>>1)he>>1==1?(rt=9,Me=5):(de=jt(ie,de),rt=Ne,Me=Rt);else{de&7&&(de+=8-(de&7));var Ke=ie[de>>>3]|ie[(de>>>3)+1]<<8;if(de+=32,Ke>0)for(!Ae&&Ve<ve+Ke&&(pe=nn(pe,ve+Ke),Ve=pe.length);Ke-- >0;)pe[ve++]=ie[de>>>3],de+=8;continue}for(;;){!Ae&&Ve<ve+32767&&(pe=nn(pe,ve+32767),Ve=pe.length);var ze=Dt(ie,de,rt),dt=he>>>1==1?lt[ze]:Wt[ze];if(de+=dt&15,dt>>>=4,(dt>>>8&255)===0)pe[ve++]=dt;else{if(dt==256)break;dt-=257;var xt=dt<8?0:dt-4>>2;xt>5&&(xt=0);var wt=ve+be[dt];xt>0&&(wt+=Dt(ie,de,xt),de+=xt),ze=Dt(ie,de,Me),dt=he>>>1==1?kt[ze]:Er[ze],de+=dt&15,dt>>>=4;var Ct=dt<4?0:dt-2>>1,_t=Je[dt];for(Ct>0&&(_t+=Dt(ie,de,Ct),de+=Ct),!Ae&&Ve<wt&&(pe=nn(pe,wt+100),Ve=pe.length);ve<wt;)pe[ve]=pe[ve-_t],++ve}}}return Ae?[pe,de+7>>>3]:[pe.slice(0,ve),de+7>>>3]}function Re(ie,Ae){var de=ie.slice(ie.l||0),he=Ar(de,Ae);return ie.l+=he[1],he[0]}function ht(ie,Ae){if(ie)typeof console<"u"&&console.error(Ae);else throw new Error(Ae)}function ft(ie,Ae){var de=ie;Gi(de,0);var he=[],pe=[],ve={FileIndex:he,FullPaths:pe};M(ve,{root:Ae.root});for(var Ve=de.length-4;(de[Ve]!=80||de[Ve+1]!=75||de[Ve+2]!=5||de[Ve+3]!=6)&&Ve>=0;)--Ve;de.l=Ve+4,de.l+=4;var rt=de.read_shift(2);de.l+=6;var Me=de.read_shift(4);for(de.l=Me,Ve=0;Ve<rt;++Ve){de.l+=20;var Ke=de.read_shift(4),ze=de.read_shift(4),dt=de.read_shift(2),xt=de.read_shift(2),wt=de.read_shift(2);de.l+=8;var Ct=de.read_shift(4),_t=c(de.slice(de.l+dt,de.l+dt+xt));de.l+=dt+xt+wt;var Ot=de.l;de.l=Ct+4,it(de,Ke,ze,ve,_t),de.l=Ot}return ve}function it(ie,Ae,de,he,pe){ie.l+=2;var ve=ie.read_shift(2),Ve=ie.read_shift(2),rt=l(ie);if(ve&8257)throw new Error("Unsupported ZIP encryption");for(var Me=ie.read_shift(4),Ke=ie.read_shift(4),ze=ie.read_shift(4),dt=ie.read_shift(2),xt=ie.read_shift(2),wt="",Ct=0;Ct<dt;++Ct)wt+=String.fromCharCode(ie[ie.l++]);if(xt){var _t=c(ie.slice(ie.l,ie.l+xt));(_t[21589]||{}).mt&&(rt=_t[21589].mt),((pe||{})[21589]||{}).mt&&(rt=pe[21589].mt)}ie.l+=xt;var Ot=ie.slice(ie.l,ie.l+Ke);switch(Ve){case 8:Ot=ue(ie,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var nt=!1;ve&8&&(Me=ie.read_shift(4),Me==134695760&&(Me=ie.read_shift(4),nt=!0),Ke=ie.read_shift(4),ze=ie.read_shift(4)),Ke!=Ae&&ht(nt,"Bad compressed size: "+Ae+" != "+Ke),ze!=de&&ht(nt,"Bad uncompressed size: "+de+" != "+ze),ai(he,wt,Ot,{unsafe:!0,mt:rt})}function Xt(ie,Ae){var de=Ae||{},he=[],pe=[],ve=vi(1),Ve=de.compression?8:0,rt=0,Me=0,Ke=0,ze=0,dt=0,xt=ie.FullPaths[0],wt=xt,Ct=ie.FileIndex[0],_t=[],Ot=0;for(Me=1;Me<ie.FullPaths.length;++Me)if(wt=ie.FullPaths[Me].slice(xt.length),Ct=ie.FileIndex[Me],!(!Ct.size||!Ct.content||wt=="Sh33tJ5")){var nt=ze,Or=vi(wt.length);for(Ke=0;Ke<wt.length;++Ke)Or.write_shift(1,wt.charCodeAt(Ke)&127);Or=Or.slice(0,Or.l),_t[dt]=fO.buf(Ct.content,0);var Jt=Ct.content;Ve==8&&(Jt=oe(Jt)),ve=vi(30),ve.write_shift(4,67324752),ve.write_shift(2,20),ve.write_shift(2,rt),ve.write_shift(2,Ve),Ct.mt?s(ve,Ct.mt):ve.write_shift(4,0),ve.write_shift(-4,_t[dt]),ve.write_shift(4,Jt.length),ve.write_shift(4,Ct.content.length),ve.write_shift(2,Or.length),ve.write_shift(2,0),ze+=ve.length,he.push(ve),ze+=Or.length,he.push(Or),ze+=Jt.length,he.push(Jt),ve=vi(46),ve.write_shift(4,33639248),ve.write_shift(2,0),ve.write_shift(2,20),ve.write_shift(2,rt),ve.write_shift(2,Ve),ve.write_shift(4,0),ve.write_shift(-4,_t[dt]),ve.write_shift(4,Jt.length),ve.write_shift(4,Ct.content.length),ve.write_shift(2,Or.length),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(4,0),ve.write_shift(4,nt),Ot+=ve.l,pe.push(ve),Ot+=Or.length,pe.push(Or),++dt}return ve=vi(22),ve.write_shift(4,101010256),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,dt),ve.write_shift(2,dt),ve.write_shift(4,Ot),ve.write_shift(4,ze),ve.write_shift(2,0),Xl([Xl(he),Xl(pe),ve])}var xr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Jr(ie,Ae){if(ie.ctype)return ie.ctype;var de=ie.name||"",he=de.match(/\.([^\.]+)$/);return he&&xr[he[1]]||Ae&&(he=(de=Ae).match(/[\.\\]([^\.\\])+$/),he&&xr[he[1]])?xr[he[1]]:"application/octet-stream"}function sn(ie){for(var Ae=Kb(ie),de=[],he=0;he<Ae.length;he+=76)de.push(Ae.slice(he,he+76));return de.join(`\r
`)+`\r
`}function Ns(ie){var Ae=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ke){var ze=Ke.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});Ae=Ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ae.charAt(0)==`
`&&(Ae="=0D"+Ae.slice(1)),Ae=Ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var de=[],he=Ae.split(`\r
`),pe=0;pe<he.length;++pe){var ve=he[pe];if(ve.length==0){de.push("");continue}for(var Ve=0;Ve<ve.length;){var rt=76,Me=ve.slice(Ve,Ve+rt);Me.charAt(rt-1)=="="?rt--:Me.charAt(rt-2)=="="?rt-=2:Me.charAt(rt-3)=="="&&(rt-=3),Me=ve.slice(Ve,Ve+rt),Ve+=rt,Ve<ve.length&&(Me+="="),de.push(Me)}}return de.join(`\r
`)}function Nn(ie){for(var Ae=[],de=0;de<ie.length;++de){for(var he=ie[de];de<=ie.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+ie[++de];Ae.push(he)}for(var pe=0;pe<Ae.length;++pe)Ae[pe]=Ae[pe].replace(/[=][0-9A-Fa-f]{2}/g,function(ve){return String.fromCharCode(parseInt(ve.slice(1),16))});return eo(Ae.join(`\r
`))}function Bi(ie,Ae,de){for(var he="",pe="",ve="",Ve,rt=0;rt<10;++rt){var Me=Ae[rt];if(!Me||Me.match(/^\s*$/))break;var Ke=Me.match(/^(.*?):\s*([^\s].*)$/);if(Ke)switch(Ke[1].toLowerCase()){case"content-location":he=Ke[2].trim();break;case"content-type":ve=Ke[2].trim();break;case"content-transfer-encoding":pe=Ke[2].trim();break}}switch(++rt,pe.toLowerCase()){case"base64":Ve=eo(ma(Ae.slice(rt).join("")));break;case"quoted-printable":Ve=Nn(Ae.slice(rt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+pe)}var ze=ai(ie,he.slice(de.length),Ve,{unsafe:!0});ve&&(ze.ctype=ve)}function gs(ie,Ae){if(Ee(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var de=Ae&&Ae.root||"",he=(Mr&&Buffer.isBuffer(ie)?ie.toString("binary"):Ee(ie)).split(`\r
`),pe=0,ve="";for(pe=0;pe<he.length;++pe)if(ve=he[pe],!!/^Content-Location:/i.test(ve)&&(ve=ve.slice(ve.indexOf("file")),de||(de=ve.slice(0,ve.lastIndexOf("/")+1)),ve.slice(0,de.length)!=de))for(;de.length>0&&(de=de.slice(0,de.length-1),de=de.slice(0,de.lastIndexOf("/")+1),ve.slice(0,de.length)!=de););var Ve=(he[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var rt="--"+(Ve[1]||""),Me=[],Ke=[],ze={FileIndex:Me,FullPaths:Ke};M(ze);var dt,xt=0;for(pe=0;pe<he.length;++pe){var wt=he[pe];wt!==rt&&wt!==rt+"--"||(xt++&&Bi(ze,he.slice(dt,pe),de),dt=pe)}return ze}function $r(ie,Ae){var de=Ae||{},he=de.boundary||"SheetJS";he="------="+he;for(var pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],ve=ie.FullPaths[0],Ve=ve,rt=ie.FileIndex[0],Me=1;Me<ie.FullPaths.length;++Me)if(Ve=ie.FullPaths[Me].slice(ve.length),rt=ie.FileIndex[Me],!(!rt.size||!rt.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ot){return"_x"+Ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ot){return"_u"+Ot.charCodeAt(0).toString(16)+"_"});for(var Ke=rt.content,ze=Mr&&Buffer.isBuffer(Ke)?Ke.toString("binary"):Ee(Ke),dt=0,xt=Math.min(1024,ze.length),wt=0,Ct=0;Ct<=xt;++Ct)(wt=ze.charCodeAt(Ct))>=32&&wt<128&&++dt;var _t=dt>=xt*4/5;pe.push(he),pe.push("Content-Location: "+(de.root||"file:///C:/SheetJS/")+Ve),pe.push("Content-Transfer-Encoding: "+(_t?"quoted-printable":"base64")),pe.push("Content-Type: "+Jr(rt,Ve)),pe.push(""),pe.push(_t?Ns(ze):sn(ze))}return pe.push(he+`--\r
`),pe.join(`\r
`)}function No(ie){var Ae={};return M(Ae,ie),Ae}function ai(ie,Ae,de,he){var pe=he&&he.unsafe;pe||M(ie);var ve=!pe&&Qr.find(ie,Ae);if(!ve){var Ve=ie.FullPaths[0];Ae.slice(0,Ve.length)==Ve?Ve=Ae:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+Ae).replace("//","/")),ve={name:i(Ae),type:2},ie.FileIndex.push(ve),ie.FullPaths.push(Ve),pe||Qr.utils.cfb_gc(ie)}return ve.content=de,ve.size=de?de.length:0,he&&(he.CLSID&&(ve.clsid=he.CLSID),he.mt&&(ve.mt=he.mt),he.ct&&(ve.ct=he.ct)),ve}function Fs(ie,Ae){M(ie);var de=Qr.find(ie,Ae);if(de){for(var he=0;he<ie.FileIndex.length;++he)if(ie.FileIndex[he]==de)return ie.FileIndex.splice(he,1),ie.FullPaths.splice(he,1),!0}return!1}function Pn(ie,Ae,de){M(ie);var he=Qr.find(ie,Ae);if(he){for(var pe=0;pe<ie.FileIndex.length;++pe)if(ie.FileIndex[pe]==he)return ie.FileIndex[pe].name=i(de),ie.FullPaths[pe]=de,!0}return!1}function ps(ie){O(ie,!0)}return e.find=te,e.read=G,e.parse=m,e.write=et,e.writeFile=We,e.utils={cfb_new:No,cfb_add:ai,cfb_del:Fs,cfb_mov:Pn,cfb_gc:ps,ReadShift:rf,CheckField:NI,prep_blob:Gi,bconcat:Xl,use_zlib:X,_deflateRaw:bt,_inflateRaw:Re,consts:ye},e})();function dO(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function bo(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function uw(t){for(var e=[],r=bo(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var S1=new Date(1899,11,30,0,0,0);function Ss(t,e){var r=t.getTime(),n=S1.getTime()+(t.getTimezoneOffset()-S1.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var AI=new Date,hO=S1.getTime()+(AI.getTimezoneOffset()-S1.getTimezoneOffset())*6e4,eB=AI.getTimezoneOffset();function gg(t){var e=new Date;return e.setTime(t*24*60*60*1e3+hO),e.getTimezoneOffset()!==eB&&e.setTime(e.getTime()+(e.getTimezoneOffset()-eB)*6e4),e}function gO(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(r=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[s],10)}return e}var tB=new Date("2017-02-19T19:06:09.000Z"),cI=isNaN(tB.getFullYear())?new Date("2/19/17"):tB,pO=cI.getFullYear()==2017;function Ri(t,e){var r=new Date(t);if(pO)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(cI.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function nc(t,e){if(Mr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return G0(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return G0(YS(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return G0(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return G0(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Wi(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Wi(t[r]));return e}function qn(t,e){for(var r="";r.length<e;)r+=t;return r}function no(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var mO=["january","february","march","april","may","june","july","august","september","october","november","december"];function Bu(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&mO.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var xO=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),l=[s[0]],c=1;c<s.length;++c)l.push(i),l.push(s[c]);return l}})();function uI(t){return t?t.content&&t.type?nc(t.content,!0):t.data?H0(t.data):t.asNodeBuffer&&Mr?H0(t.asNodeBuffer().toString("binary")):t.asBinary?H0(t.asBinary()):t._data&&t._data.getContent?H0(nc(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function fI(t){if(!t)return null;if(t.data)return jb(t.data);if(t.asNodeBuffer&&Mr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?jb(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function wO(t){return t&&t.name.slice(-4)===".bin"?fI(t):uI(t)}function ka(t,e){for(var r=t.FullPaths||bo(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var l=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||i==l)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function fw(t,e){var r=ka(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function di(t,e,r){if(!r)return wO(fw(t,e));if(!e)return null;try{return di(t,e)}catch{return null}}function ha(t,e,r){if(!r)return uI(fw(t,e));if(!e)return null;try{return ha(t,e)}catch{return null}}function vO(t,e,r){return fI(fw(t,e))}function rB(t){for(var e=t.FullPaths||bo(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function yO(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Mr?n=cc(r):n=PM(r),Qr.utils.cfb_add(t,e,n)}Qr.utils.cfb_add(t,e,r)}else t.file(e,r)}function dI(t,e){switch(e.type){case"base64":return Qr.read(t,{type:"base64"});case"binary":return Qr.read(t,{type:"binary"});case"buffer":case"array":return Qr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function j0(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var hI=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,CO=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,nB=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,EO=/<[^>]*>/g,hs=hI.match(nB)?nB:EO,bO=/<\w*:/,BO=/<(\/?)\w+:/;function ar(t,e,r){for(var n={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var l=t.match(CO),c=0,g="",d=0,m="",C="",b=1;if(l)for(d=0;d!=l.length;++d){for(C=l[d],s=0;s!=C.length&&C.charCodeAt(s)!==61;++s);for(m=C.slice(0,s).trim();C.charCodeAt(s+1)==32;)++s;for(b=(i=C.charCodeAt(s+1))==34||i==39?1:0,g=C.slice(s+1+b,C.length-b),c=0;c!=m.length&&m.charCodeAt(c)!==58;++c);if(c===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),n[m]=g,n[m.toLowerCase()]=g;else{var N=(c===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(c+1);if(n[N]&&m.slice(c-3,c)=="ext")continue;n[N]=g,n[N.toLowerCase()]=g}}return n}function So(t){return t.replace(BO,"<$1")}var gI={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},_O=uw(gI),Kr=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(c,g){return gI[c]||String.fromCharCode(parseInt(g,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,g){return String.fromCharCode(parseInt(g,16))});var l=i.indexOf("]]>");return r(i.slice(0,s))+i.slice(s+9,l)+r(i.slice(l+3))}})(),TO=/[&<>'"]/g,SO=/[\u0000-\u001f]/g;function dw(t){var e=t+"";return e.replace(TO,function(r){return _O[r]}).replace(/\n/g,"<br/>").replace(SO,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var iB=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function Dn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ax(t){for(var e="",r=0,n=0,i=0,s=0,l=0,c=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}l=t.charCodeAt(r++),c=((n&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function sB(t){var e=cA(2*t.length),r,n,i=1,s=0,l=0,c;for(n=0;n<t.length;n+=i)i=1,(c=t.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(t.charCodeAt(n+1)&63),i=2):c<240?(r=(c&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(c&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function aB(t){return cc(t,"binary").toString("utf8")}var Fh="foo bar baz",Bn=Mr&&(aB(Fh)==ax(Fh)&&aB||sB(Fh)==ax(Fh)&&sB)||ax,G0=Mr?function(t){return cc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Cf=(function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),pI=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),IO=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),NO=/<\/?(?:vt:)?variant>/g,FO=/<(?:vt:)([^>]*)>([\s\S]*)</;function oB(t,e){var r=ar(t),n=t.match(IO(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(s){var l=s.replace(NO,"").match(FO);l&&i.push({v:Bn(l[2]),t:l[1]})}),i}var RO=/(^\s|\s$|\n)/;function kO(t){return bo(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function DO(t,e,r){return"<"+t+(r!=null?kO(r):"")+(e!=null?(e.match(RO)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function hw(t){if(Mr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Bn(uc(lw(t)));throw new Error("Bad input format: expected Buffer or string")}var Ef=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,UO={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},MO=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function OO(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function LO(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,l=n?-e:e;isFinite(l)?l==0?i=s=0:(i=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)t[r+c]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var lB=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},AB=Mr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:cc(e)})):lB(t)}:lB,cB=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(nl(t,i)));return n.join("").replace(_s,"")},gw=Mr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(_s,""):cB(t,e,r)}:cB,uB=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},mI=Mr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):uB(t,e,r)}:uB,fB=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(ou(t,i)));return n.join("")},Qf=Mr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):fB(e,r,n)}:fB,xI=function(t,e){var r=da(t,e);return r>0?Qf(t,e+4,e+4+r-1):""},wI=xI,vI=function(t,e){var r=da(t,e);return r>0?Qf(t,e+4,e+4+r-1):""},yI=vI,CI=function(t,e){var r=2*da(t,e);return r>0?Qf(t,e+4,e+4+r-1):""},EI=CI,bI=function(e,r){var n=da(e,r);return n>0?gw(e,r+4,r+4+n):""},BI=bI,_I=function(t,e){var r=da(t,e);return r>0?Qf(t,e+4,e+4+r):""},TI=_I,SI=function(t,e){return OO(t,e)},I1=SI,II=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Mr&&(wI=function(e,r){if(!Buffer.isBuffer(e))return xI(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},yI=function(e,r){if(!Buffer.isBuffer(e))return vI(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},EI=function(e,r){if(!Buffer.isBuffer(e))return CI(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},BI=function(e,r){if(!Buffer.isBuffer(e))return bI(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},TI=function(e,r){if(!Buffer.isBuffer(e))return _I(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},I1=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):SI(e,r)},II=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var ou=function(t,e){return t[e]},nl=function(t,e){return t[e+1]*256+t[e]},QO=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},da=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},zA=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},PO=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function rf(t,e){var r="",n,i,s=[],l,c,g,d;switch(e){case"dbcs":if(d=this.l,Mr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(g=0;g<t;++g)r+=String.fromCharCode(nl(this,d)),d+=2;t*=2;break;case"utf8":r=Qf(this,this.l,this.l+t);break;case"utf16le":t*=2,r=gw(this,this.l,this.l+t);break;case"wstr":return rf.call(this,t,"dbcs");case"lpstr-ansi":r=wI(this,this.l),t=4+da(this,this.l);break;case"lpstr-cp":r=yI(this,this.l),t=4+da(this,this.l);break;case"lpwstr":r=EI(this,this.l),t=4+2*da(this,this.l);break;case"lpp4":t=4+da(this,this.l),r=BI(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+da(this,this.l),r=TI(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(l=ou(this,this.l+t++))!==0;)s.push(Nh(l));r=s.join("");break;case"_wstr":for(t=0,r="";(l=nl(this,this.l+t))!==0;)s.push(Nh(l)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",d=this.l,g=0;g<t;++g){if(this.lens&&this.lens.indexOf(d)!==-1)return l=ou(this,d),this.l=d+1,c=rf.call(this,t-g,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Nh(nl(this,d))),d+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,g=0;g!=t;++g){if(this.lens&&this.lens.indexOf(d)!==-1)return l=ou(this,d),this.l=d+1,c=rf.call(this,t-g,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Nh(ou(this,d))),d+=1}r=s.join("");break;default:switch(t){case 1:return n=ou(this,this.l),this.l++,n;case 2:return n=(e==="i"?QO:nl)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?zA:PO)(this,this.l),this.l+=4,n):(i=da(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=I1(this,this.l):i=I1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=mI(this,this.l,t);break}}return this.l+=t,r}var HO=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},VO=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},jO=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function GO(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)jO(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,HO(this,e,this.l);break;case 8:if(n=8,r==="f"){LO(this,e,this.l);break}case 16:break;case-4:n=4,VO(this,e,this.l);break}return this.l+=n,this}function NI(t,e){var r=mI(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Gi(t,e){t.l=e,t.read_shift=rf,t.chk=NI,t.write_shift=GO}function ds(t,e){t.l+=e}function vi(t){var e=cA(t);return Gi(e,0),e}function hl(t,e,r){if(t){var n,i,s;Gi(t,t.l||0);for(var l=t.length,c=0,g=0;t.l<l;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var d=U1[c]||U1[65535];for(n=t.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=t.read_shift(1))&127)<<7*i;g=t.l+s;var m=d.f&&d.f(t,s,r);if(t.l=g,e(m,d,c))return}}}function r2(){var t=[],e=Mr?256:2048,r=function(d){var m=vi(d);return Gi(m,0),m},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(d){return n&&d<n.length-n.l?n:(i(),n=r(Math.max(d+1,e)))},l=function(){return i(),Xl(t)},c=function(d){i(),n=d,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:c,end:l,_bufs:t}}function nf(t,e,r){var n=Wi(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function dB(t,e,r){var n=Wi(t);return n.s=nf(n.s,e.s,r),n.e=nf(n.e,e.s,r),n}function sf(t,e){if(t.cRel&&t.c<0)for(t=Wi(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Wi(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=gr(t);return!t.cRel&&t.cRel!=null&&(r=WO(r)),!t.rRel&&t.rRel!=null&&(r=KO(r)),r}function ox(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ci(t.s.c)+":"+(t.e.cRel?"":"$")+Ci(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Xi(t.s.r)+":"+(t.e.rRel?"":"$")+Xi(t.e.r):sf(t.s,e.biff)+":"+sf(t.e,e.biff)}function pw(t){return parseInt(zO(t),10)-1}function Xi(t){return""+(t+1)}function KO(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function zO(t){return t.replace(/\$(\d+)$/,"$1")}function mw(t){for(var e=XO(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Ci(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function WO(t){return t.replace(/^([A-Z])/,"$$$1")}function XO(t){return t.replace(/^\$([A-Z])/,"$1")}function qO(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Bs(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function gr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Mu(t){var e=t.indexOf(":");return e==-1?{s:Bs(t),e:Bs(t)}:{s:Bs(t.slice(0,e)),e:Bs(t.slice(e+1))}}function Pr(t,e){return typeof e>"u"||typeof e=="number"?Pr(t.s,t.e):(typeof t!="string"&&(t=gr(t)),typeof e!="string"&&(e=gr(e)),t==e?t:t+":"+e)}function Yn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function hB(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Qa(t.z,r?Ss(e):e)}catch{}try{return t.w=Qa((t.XF||{}).numFmtId||(r?14:0),r?Ss(e):e)}catch{return""+e}}function ll(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?hc[t.v]||t.v:e==null?hB(t,t.v):hB(t,e))}function mA(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function FI(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),l=0,c=0;if(s&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?Bs(n.origin):n.origin;l=g.r,c=g.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=Yn(s["!ref"]);d.s.c=m.s.c,d.s.r=m.s.r,d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),l==-1&&(d.e.r=l=m.e.r+1)}for(var C=0;C!=e.length;++C)if(e[C]){if(!Array.isArray(e[C]))throw new Error("aoa_to_sheet expects an array of arrays");for(var b=0;b!=e[C].length;++b)if(!(typeof e[C][b]>"u")){var N={v:e[C][b]},R=l+C,k=c+b;if(d.s.r>R&&(d.s.r=R),d.s.c>k&&(d.s.c=k),d.e.r<R&&(d.e.r=R),d.e.c<k&&(d.e.c=k),e[C][b]&&typeof e[C][b]=="object"&&!Array.isArray(e[C][b])&&!(e[C][b]instanceof Date))N=e[C][b];else if(Array.isArray(N.v)&&(N.f=e[C][b][1],N.v=N.v[0]),N.v===null)if(N.f)N.t="n";else if(n.nullError)N.t="e",N.v=0;else if(n.sheetStubs)N.t="z";else continue;else typeof N.v=="number"?N.t="n":typeof N.v=="boolean"?N.t="b":N.v instanceof Date?(N.z=n.dateNF||Cr[14],n.cellDates?(N.t="d",N.w=Qa(N.z,Ss(N.v))):(N.t="n",N.v=Ss(N.v),N.w=Qa(N.z,N.v))):N.t="s";if(i)s[R]||(s[R]=[]),s[R][k]&&s[R][k].z&&(N.z=s[R][k].z),s[R][k]=N;else{var U=gr({c:k,r:R});s[U]&&s[U].z&&(N.z=s[U].z),s[U]=N}}}return d.s.c<1e7&&(s["!ref"]=Pr(d)),s}function Ou(t,e){return FI(null,t,e)}function YO(t){return t.read_shift(4,"i")}function fs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function JO(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function xw(t,e){var r=t.l,n=t.read_shift(1),i=fs(t),s=[],l={t:i,h:i};if((n&1)!==0){for(var c=t.read_shift(4),g=0;g!=c;++g)s.push(JO(t));l.r=s}else l.r=[{ich:0,ifnt:0}];return t.l=r+e,l}var ZO=xw;function Ha(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function fc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var $O=fs;function ww(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var eL=fs,n2=ww;function vw(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?I1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):zA(e,0)>>2;return r?i/100:i}function RI(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var dc=RI;function ls(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function tL(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),g=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var d=ec[i];d&&(e.rgb=Bf(d));break;case 2:e.rgb=Bf([l,c,g]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function rL(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function kI(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function nL(t){return kI(t,1)}function iL(t){return kI(t,2)}var yw=2,Xs=3,Rh=11,gB=12,N1=19,kh=64,sL=65,aL=71,oL=4108,lL=4126,Ni=80,DI=81,AL=[Ni,DI],cL={1:{n:"CodePage",t:yw},2:{n:"Category",t:Ni},3:{n:"PresentationFormat",t:Ni},4:{n:"ByteCount",t:Xs},5:{n:"LineCount",t:Xs},6:{n:"ParagraphCount",t:Xs},7:{n:"SlideCount",t:Xs},8:{n:"NoteCount",t:Xs},9:{n:"HiddenCount",t:Xs},10:{n:"MultimediaClipCount",t:Xs},11:{n:"ScaleCrop",t:Rh},12:{n:"HeadingPairs",t:oL},13:{n:"TitlesOfParts",t:lL},14:{n:"Manager",t:Ni},15:{n:"Company",t:Ni},16:{n:"LinksUpToDate",t:Rh},17:{n:"CharacterCount",t:Xs},19:{n:"SharedDoc",t:Rh},22:{n:"HyperlinksChanged",t:Rh},23:{n:"AppVersion",t:Xs,p:"version"},24:{n:"DigSig",t:sL},26:{n:"ContentType",t:Ni},27:{n:"ContentStatus",t:Ni},28:{n:"Language",t:Ni},29:{n:"Version",t:Ni},255:{},2147483648:{n:"Locale",t:N1},2147483651:{n:"Behavior",t:N1},1919054434:{}},uL={1:{n:"CodePage",t:yw},2:{n:"Title",t:Ni},3:{n:"Subject",t:Ni},4:{n:"Author",t:Ni},5:{n:"Keywords",t:Ni},6:{n:"Comments",t:Ni},7:{n:"Template",t:Ni},8:{n:"LastAuthor",t:Ni},9:{n:"RevNumber",t:Ni},10:{n:"EditTime",t:kh},11:{n:"LastPrinted",t:kh},12:{n:"CreatedDate",t:kh},13:{n:"ModifiedDate",t:kh},14:{n:"PageCount",t:Xs},15:{n:"WordCount",t:Xs},16:{n:"CharCount",t:Xs},17:{n:"Thumbnail",t:aL},18:{n:"Application",t:Ni},19:{n:"DocSecurity",t:Xs},255:{},2147483648:{n:"Locale",t:N1},2147483651:{n:"Behavior",t:N1},1919054434:{}},pB={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},fL=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function dL(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var hL=dL([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ec=Wi(hL),hc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},UI={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},mB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function gL(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function pL(t){var e=gL();if(!t||!t.match)return e;var r={};if((t.match(hs)||[]).forEach(function(n){var i=ar(n);switch(i[0].replace(bO,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[mB[i.ContentType]]!==void 0&&e[mB[i.ContentType]].push(i.PartName);break}}),e.xmlns!==UO.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var du={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function i2(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function af(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(hs)||[]).forEach(function(i){var s=ar(i);if(s[0]==="<Relationship"){var l={};l.Type=s.Type,l.Target=s.Target,l.Id=s.Id,s.TargetMode&&(l.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:j0(s.Target,e);r[c]=l,n[s.Id]=l}}),r["!id"]=n,r}var mL="application/vnd.oasis.opendocument.spreadsheet";function xL(t,e){for(var r=hw(t),n,i;n=Ef.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=ar(n[0],!1),i.path=="/"&&i.type!==mL)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var of=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],wL=(function(){for(var t=new Array(of.length),e=0;e<of.length;++e){var r=of[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function MI(t){var e={};t=Bn(t);for(var r=0;r<of.length;++r){var n=of[r],i=t.match(wL[r]);i!=null&&i.length>0&&(e[n[1]]=Kr(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Ri(e[n[1]]))}return e}var vL=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function OI(t,e,r,n){var i=[];if(typeof t=="string")i=oB(t,n);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(m){return{v:m}}));var l=typeof e=="string"?oB(e,n).map(function(m){return m.v}):e,c=0,g=0;if(l.length>0)for(var d=0;d!==i.length;d+=2){switch(g=+i[d+1].v,i[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=g,r.SheetNames=l.slice(c,c+g);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=g,r.DefinedNames=l.slice(c,c+g);break;case"Charts":case"Diagramme":r.Chartsheets=g,r.ChartNames=l.slice(c,c+g);break}c+=g}}function yL(t,e,r){var n={};return e||(e={}),t=Bn(t),vL.forEach(function(i){var s=(t.match(Cf(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Kr(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var l=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));l&&l.length>0&&(n[i[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&OI(n.HeadingPairs,n.TitlesOfParts,e,r),e}var CL=/<[^>]+>[^<]*/g;function EL(t,e){var r={},n="",i=t.match(CL);if(i)for(var s=0;s!=i.length;++s){var l=i[s],c=ar(l);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Kr(c.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var g=l.split(">"),d=g[0].slice(4),m=g[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[n]=Kr(m);break;case"bool":r[n]=Dn(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(m,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(m);break;case"filetime":case"date":r[n]=Ri(m);break;case"cy":case"error":r[n]=Kr(m);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",l,d,g)}}else if(l.slice(0,2)!=="</"){if(e.WTF)throw new Error(l)}}}return r}var bL={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},lx;function BL(t,e,r){lx||(lx=uw(bL)),e=lx[e]||e,t[e]=r}function Cw(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function LI(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function QI(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function PI(t,e,r){return e===31?QI(t):LI(t,e,r)}function s2(t,e,r){return PI(t,e,r===!1?0:4)}function _L(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return PI(t,e,0)}function TL(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(_s,""),t.l-i&2&&(t.l+=2)}return r}function SL(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(_s,"");return r}function IL(t){var e=t.l,r=F1(t,DI);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=F1(t,Xs);return[r,n]}function NL(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(IL(t));return r}function xB(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var s=t.read_shift(4),l=t.read_shift(4);n[s]=t.read_shift(l,e===1200?"utf16le":"utf8").replace(_s,"").replace(V0,"!"),e===1200&&l%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function HI(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function FL(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function F1(t,e,r){var n=t.read_shift(2),i,s=r||{};if(t.l+=2,e!==gB&&n!==e&&AL.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===gB?n:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return LI(t,n,4).replace(_s,"");case 31:return QI(t);case 64:return Cw(t);case 65:return HI(t);case 71:return FL(t);case 80:return s2(t,n,!s.raw).replace(_s,"");case 81:return _L(t,n).replace(_s,"");case 4108:return NL(t);case 4126:case 4127:return n==4127?TL(t):SL(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function wB(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),s=[],l=0,c=0,g=-1,d={};for(l=0;l!=i;++l){var m=t.read_shift(4),C=t.read_shift(4);s[l]=[m,C+r]}s.sort(function(K,Q){return K[1]-Q[1]});var b={};for(l=0;l!=i;++l){if(t.l!==s[l][1]){var N=!0;if(l>0&&e)switch(e[s[l-1][0]].t){case 2:t.l+2===s[l][1]&&(t.l+=2,N=!1);break;case 80:t.l<=s[l][1]&&(t.l=s[l][1],N=!1);break;case 4108:t.l<=s[l][1]&&(t.l=s[l][1],N=!1);break}if((!e||l==0)&&t.l<=s[l][1]&&(N=!1,t.l=s[l][1]),N)throw new Error("Read Error: Expected address "+s[l][1]+" at "+t.l+" :"+l)}if(e){var R=e[s[l][0]];if(b[R.n]=F1(t,R.t,{raw:!0}),R.p==="version"&&(b[R.n]=String(b[R.n]>>16)+"."+("0000"+String(b[R.n]&65535)).slice(-4)),R.n=="CodePage")switch(b[R.n]){case 0:b[R.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:to(c=b[R.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+b[R.n])}}else if(s[l][0]===1){if(c=b.CodePage=F1(t,yw),to(c),g!==-1){var k=t.l;t.l=s[g][1],d=xB(t,c),t.l=k}}else if(s[l][0]===0){if(c===0){g=l,t.l=s[l+1][1];continue}d=xB(t,c)}else{var U=d[s[l][0]],j;switch(t[t.l]){case 65:t.l+=4,j=HI(t);break;case 30:t.l+=4,j=s2(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,j=s2(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,j=t.read_shift(4,"i");break;case 19:t.l+=4,j=t.read_shift(4);break;case 5:t.l+=4,j=t.read_shift(8,"f");break;case 11:t.l+=4,j=ni(t,4);break;case 64:t.l+=4,j=Ri(Cw(t));break;default:throw new Error("unparsed value: "+t[t.l])}b[U]=j}}return t.l=r+n,b}function vB(t,e,r){var n=t.content;if(!n)return{};Gi(n,0);var i,s,l,c,g=0;n.chk("feff","Byte Order: "),n.read_shift(2);var d=n.read_shift(4),m=n.read_shift(16);if(m!==Qr.utils.consts.HEADER_CLSID&&m!==r)throw new Error("Bad PropertySet CLSID "+m);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),c=n.read_shift(4),i===1&&c!==n.l)throw new Error("Length mismatch: "+c+" !== "+n.l);i===2&&(l=n.read_shift(16),g=n.read_shift(4));var C=wB(n,e),b={SystemIdentifier:d};for(var N in C)b[N]=C[N];if(b.FMTID=s,i===1)return b;if(g-n.l==2&&(n.l+=2),n.l!==g)throw new Error("Length mismatch 2: "+n.l+" !== "+g);var R;try{R=wB(n,null)}catch{}for(N in R)b[N]=R[N];return b.FMTID=[s,l],b}function jl(t,e){return t.read_shift(e),null}function RL(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function ni(t,e){return t.read_shift(e)===1}function hi(t){return t.read_shift(2,"u")}function VI(t,e){return RL(t,e,hi)}function kL(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function Pf(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var l=n?t.read_shift(n,i):"";return l}function DL(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,s=1+(r&1),l=0,c,g={};i&&(l=t.read_shift(2)),n&&(c=t.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",m=e===0?"":t.read_shift(e,d);return i&&(t.l+=4*l),n&&(t.l+=c),g.t=m,i||(g.raw="<t>"+g.t+"</t>",g.r=g.t),g}function ic(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Hf(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):ic(t,n,r)}function gc(t,e,r){if(r.biff>5)return Hf(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function UL(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function ML(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(_s,"");return n&&(t.l+=24),i}function OL(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=t.read_shift(s>>1,"utf16le").replace(_s,"");return r+l}function LL(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return ML(t);case"0303000000000000c000000000000046":return OL(t);default:throw new Error("Unsupported Moniker "+r)}}function Dh(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(_s,""):"";return r}function QL(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var s,l,c,g,d="",m,C;i&16&&(s=Dh(t,r-t.l)),i&128&&(l=Dh(t,r-t.l)),(i&257)===257&&(c=Dh(t,r-t.l)),(i&257)===1&&(g=LL(t,r-t.l)),i&8&&(d=Dh(t,r-t.l)),i&32&&(m=t.read_shift(16)),i&64&&(C=Cw(t)),t.l=r;var b=l||c||g||"";b&&d&&(b+="#"+d),b||(b="#"+d),i&2&&b.charAt(0)=="/"&&b.charAt(1)!="/"&&(b="file://"+b);var N={Target:b};return m&&(N.guid=m),C&&(N.time=C),s&&(N.Tooltip=s),N}function jI(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function GI(t,e){var r=jI(t);return r[3]=0,r}function Io(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function PL(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function HL(t,e,r){return e===0?"":gc(t,e,r)}function VL(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),l=t.read_shift(n,"i");return[i,s,l]}function KI(t){var e=t.read_shift(2),r=vw(t);return[e,r]}function jL(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=Pf(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,i}function pg(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function zI(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var GL=zI;function WI(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function KL(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function zL(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function ts(t){t.l+=2,t.l+=t.read_shift(2)}var WL={0:ts,4:ts,5:ts,6:ts,7:zL,8:ts,9:ts,10:ts,11:ts,12:ts,13:KL,14:ts,15:ts,16:ts,17:ts,18:ts,19:ts,20:ts,21:WI};function XL(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(WL[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function Uh(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function qL(t,e){return e===0||t.read_shift(2),1200}function YL(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=gc(t,0,r);return t.read_shift(e+n-t.l),i}function JL(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function ZL(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var l=Pf(t,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:i,dt:s,name:l}}function $L(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),s=[],l=0;l!=i&&t.l<r;++l)s.push(DL(t));return s.Count=n,s.Unique=i,s}function e9(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function t9(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function r9(t){var e=PL(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function n9(t){return t.read_shift(2),t.read_shift(4)}function yB(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function i9(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2),g=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:s,CurTab:l,FirstTab:c,Selected:g,TabRatio:d}}function s9(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function a9(){}function o9(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Pf(t,0,r),n}function l9(t){var e=Io(t);return e.isst=t.read_shift(4),e}function A9(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=Io(t);r.biff==2&&t.l++;var s=Hf(t,n-t.l,r);return i.val=s,i}function c9(t,e,r){var n=t.read_shift(2),i=gc(t,0,r);return[n,i]}var u9=gc;function CB(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,s=t.read_shift(i),l=t.read_shift(i),c=t.read_shift(2),g=t.read_shift(2);return t.l=n,{s:{r:s,c},e:{r:l,c:g}}}function f9(t){var e=t.read_shift(2),r=t.read_shift(2),n=KI(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function d9(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(KI(t));if(t.l!==r)throw new Error("MulRK read error");var l=t.read_shift(2);if(s.length!=l-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:l,rkrec:s}}function h9(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var l=t.read_shift(2);if(s.length!=l-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:l,ixfe:s}}function g9(t,e,r,n){var i={},s=t.read_shift(4),l=t.read_shift(4),c=t.read_shift(4),g=t.read_shift(2);return i.patternType=fL[c>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=l&15,i.dgRight=l>>4&15,i.dgTop=l>>8&15,i.dgBottom=l>>12&15,i.icvLeft=l>>16&127,i.icvRight=l>>23&127,i.grbitDiag=l>>30&3,i.icvTop=c&127,i.icvBottom=c>>7&127,i.icvDiag=c>>14&127,i.dgDiag=c>>21&15,i.icvFore=g&127,i.icvBack=g>>7&127,i.fsxButton=g>>14&1),i}function p9(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=g9(t,e,n.fStyle,r),n}function m9(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function EB(t,e,r){var n=Io(t);(r.biff==2||e==9)&&++t.l;var i=kL(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function x9(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Io(t),i=ls(t);return n.val=i,n}var bB=HL;function w9(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var l=ic(t,s),c=[];n>t.l;)c.push(Hf(t));return[s,i,l,c]}function BB(t,e,r){var n=t.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=jL(t,e-2,r)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var v9=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function _B(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(r&&r.biff==2?1:2),g=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),g=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var d=ic(t,l,r);i&32&&(d=v9[d.charCodeAt(0)]);var m=n-t.l;r&&r.biff==2&&--m;var C=n==t.l||c===0||!(m>0)?[]:tH(t,m,r,c);return{chKey:s,Name:d,itab:g,rgce:C}}function XI(t,e,r){if(r.biff<8)return y9(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(VL(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function y9(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Pf(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function C9(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),s=ic(t,n,r),l=ic(t,i,r);return[s,l]}function E9(t,e,r){var n=zI(t);t.l++;var i=t.read_shift(1);return e-=8,[rH(t,e,r),i,n]}function TB(t,e,r){var n=GL(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,$P(t,e,r)]}function b9(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function B9(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),l=t.read_shift(2),c=gc(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},c,l,s]}}function _9(t,e,r){return B9(t,e,r)}function T9(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(pg(t));return r}function S9(t,e,r){if(r&&r.biff<8)return N9(t,e,r);var n=WI(t),i=XL(t,e-22,n[1]);return{cmo:n,ft:i}}var I9={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function N9(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var l=[];return l.push((I9[n]||ds)(t,e,r)),{cmo:[i,n,s],ft:l}}function F9(t,e,r){var n=t.l,i="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:l=UL(t,6,r);var c=t.read_shift(2);t.read_shift(2),hi(t,2);var g=t.read_shift(2);t.l+=g;for(var d=1;d<t.lens.length-1;++d){if(t.l-n!=t.lens[d])throw new Error("TxO: bad continue record");var m=t[t.l],C=ic(t,t.lens[d+1]-t.lens[d]-1);if(i+=C,i.length>=(m?c:2*c))break}if(i.length!==c&&i.length!==c*2)throw new Error("cchText: "+c+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function R9(t,e){var r=pg(t);t.l+=16;var n=QL(t,e-24);return[r,n]}function k9(t,e){t.read_shift(2);var r=pg(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(_s,""),[r,n]}function D9(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=pB[r]||r,r=t.read_shift(2),e[1]=pB[r]||r,e}function U9(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(GI(t));return r}function M9(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(GI(t));return r}function O9(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function qI(t,e,r){if(!r.cellStyles)return ds(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),l=t.read_shift(n),c=t.read_shift(n),g=t.read_shift(2);n==2&&(t.l+=2);var d={s:i,e:s,w:l,ixfe:c,flags:g};return(r.biff>=5||!r.biff)&&(d.level=g>>8&7),d}function L9(t,e){var r={};return e<32||(t.l+=16,r.header=ls(t),r.footer=ls(t),t.l+=2),r}function Q9(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}var P9=Io,H9=VI,V9=Hf;function j9(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function G9(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Io(t);++t.l;var i=gc(t,e-7,r);return n.t="str",n.val=i,n}function K9(t){var e=Io(t);++t.l;var r=ls(t);return e.t="n",e.val=r,e}function z9(t){var e=Io(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function W9(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function X9(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function q9(t,e,r){var n=t.l+e,i=Io(t),s=t.read_shift(2),l=ic(t,s,r);return t.l=n,i.t="str",i.val=l,i}var Y9=[2,3,48,49,131,139,140,245],SB=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=uw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,g){var d=[],m=cA(1);switch(g.type){case"base64":m=eo(ma(c));break;case"binary":m=eo(c);break;case"buffer":case"array":m=c;break}Gi(m,0);var C=m.read_shift(1),b=!!(C&136),N=!1,R=!1;switch(C){case 2:break;case 3:break;case 48:N=!0,b=!0;break;case 49:N=!0,b=!0;break;case 131:break;case 139:break;case 140:R=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+C.toString(16))}var k=0,U=521;C==2&&(k=m.read_shift(2)),m.l+=3,C!=2&&(k=m.read_shift(4)),k>1048576&&(k=1e6),C!=2&&(U=m.read_shift(2));var j=m.read_shift(2),K=g.codepage||1252;C!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(K=t[m[m.l]]),m.l+=1,m.l+=2),R&&(m.l+=36);for(var Q=[],J={},re=Math.min(m.length,C==2?521:U-10-(N?264:0)),G=R?32:11;m.l<re&&m[m.l]!=13;)switch(J={},J.name=vf.utils.decode(K,m.slice(m.l,m.l+G)).replace(/[\u0000\r\n].*$/g,""),m.l+=G,J.type=String.fromCharCode(m.read_shift(1)),C!=2&&!R&&(J.offset=m.read_shift(4)),J.len=m.read_shift(1),C==2&&(J.offset=m.read_shift(2)),J.dec=m.read_shift(1),J.name.length&&Q.push(J),C!=2&&(m.l+=R?13:14),J.type){case"B":(!N||J.len!=8)&&g.WTF&&console.log("Skipping "+J.name+":"+J.type);break;case"G":case"P":g.WTF&&console.log("Skipping "+J.name+":"+J.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+J.type)}if(m[m.l]!==13&&(m.l=U-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=U;var M=0,P=0;for(d[0]=[],P=0;P!=Q.length;++P)d[0][P]=Q[P].name;for(;k-- >0;){if(m[m.l]===42){m.l+=j;continue}for(++m.l,d[++M]=[],P=0,P=0;P!=Q.length;++P){var O=m.slice(m.l,m.l+Q[P].len);m.l+=Q[P].len,Gi(O,0);var ee=vf.utils.decode(K,O);switch(Q[P].type){case"C":ee.trim().length&&(d[M][P]=ee.replace(/\s+$/,""));break;case"D":ee.length===8?d[M][P]=new Date(+ee.slice(0,4),+ee.slice(4,6)-1,+ee.slice(6,8)):d[M][P]=ee;break;case"F":d[M][P]=parseFloat(ee.trim());break;case"+":case"I":d[M][P]=R?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(ee.trim().toUpperCase()){case"Y":case"T":d[M][P]=!0;break;case"N":case"F":d[M][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ee+"|")}break;case"M":if(!b)throw new Error("DBF Unexpected MEMO for type "+C.toString(16));d[M][P]="##MEMO##"+(R?parseInt(ee.trim(),10):O.read_shift(4));break;case"N":ee=ee.replace(/\u0000/g,"").trim(),ee&&ee!="."&&(d[M][P]=+ee||0);break;case"@":d[M][P]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":d[M][P]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":d[M][P]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[M][P]=-O.read_shift(-8,"f");break;case"B":if(N&&Q[P].len==8){d[M][P]=O.read_shift(8,"f");break}case"G":case"P":O.l+=Q[P].len;break;case"0":if(Q[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+Q[P].type)}}}if(C!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return g&&g.sheetRows&&(d=d.slice(0,g.sheetRows)),g.DBF=Q,d}function n(c,g){var d=g||{};d.dateNF||(d.dateNF="yyyymmdd");var m=Ou(r(c,d),d);return m["!cols"]=d.DBF.map(function(C){return{wch:C.len,DBF:C}}),delete d.DBF,m}function i(c,g){try{return mA(n(c,g),g)}catch(d){if(g&&g.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,g){var d=g||{};if(+d.codepage>=0&&to(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var m=r2(),C=f2(c,{header:1,raw:!0,cellDates:!0}),b=C[0],N=C.slice(1),R=c["!cols"]||[],k=0,U=0,j=0,K=1;for(k=0;k<b.length;++k){if(((R[k]||{}).DBF||{}).name){b[k]=R[k].DBF.name,++j;continue}if(b[k]!=null){if(++j,typeof b[k]=="number"&&(b[k]=b[k].toString(10)),typeof b[k]!="string")throw new Error("DBF Invalid column name "+b[k]+" |"+typeof b[k]+"|");if(b.indexOf(b[k])!==k){for(U=0;U<1024;++U)if(b.indexOf(b[k]+"_"+U)==-1){b[k]+="_"+U;break}}}}var Q=Yn(c["!ref"]),J=[],re=[],G=[];for(k=0;k<=Q.e.c-Q.s.c;++k){var M="",P="",O=0,ee=[];for(U=0;U<N.length;++U)N[U][k]!=null&&ee.push(N[U][k]);if(ee.length==0||b[k]==null){J[k]="?";continue}for(U=0;U<ee.length;++U){switch(typeof ee[U]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=ee[U]instanceof Date?"D":"C";break;default:P="C"}O=Math.max(O,String(ee[U]).length),M=M&&M!=P?"C":P}O>250&&(O=250),P=((R[k]||{}).DBF||{}).type,P=="C"&&R[k].DBF.len>O&&(O=R[k].DBF.len),M=="B"&&P=="N"&&(M="N",G[k]=R[k].DBF.dec,O=R[k].DBF.len),re[k]=M=="C"||P=="N"?O:s[M]||0,K+=re[k],J[k]=M}var te=m.next(32);for(te.write_shift(4,318902576),te.write_shift(4,N.length),te.write_shift(2,296+32*j),te.write_shift(2,K),k=0;k<4;++k)te.write_shift(4,0);for(te.write_shift(4,0|(+e[XS]||3)<<8),k=0,U=0;k<b.length;++k)if(b[k]!=null){var W=m.next(32),q=(b[k].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,q,"sbcs"),W.write_shift(1,J[k]=="?"?"C":J[k],"sbcs"),W.write_shift(4,U),W.write_shift(1,re[k]||s[J[k]]||0),W.write_shift(1,G[k]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),U+=re[k]||s[J[k]]||0}var Ie=m.next(264);for(Ie.write_shift(4,13),k=0;k<65;++k)Ie.write_shift(4,0);for(k=0;k<N.length;++k){var xe=m.next(K);for(xe.write_shift(1,0),U=0;U<b.length;++U)if(b[U]!=null)switch(J[U]){case"L":xe.write_shift(1,N[k][U]==null?63:N[k][U]?84:70);break;case"B":xe.write_shift(8,N[k][U]||0,"f");break;case"N":var ge="0";for(typeof N[k][U]=="number"&&(ge=N[k][U].toFixed(G[U]||0)),j=0;j<re[U]-ge.length;++j)xe.write_shift(1,32);xe.write_shift(1,ge,"sbcs");break;case"D":N[k][U]?(xe.write_shift(4,("0000"+N[k][U].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(N[k][U].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+N[k][U].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var ye=String(N[k][U]!=null?N[k][U]:"").slice(0,re[U]);for(xe.write_shift(1,ye,"sbcs"),j=0;j<re[U]-ye.length;++j)xe.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}})(),J9=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+bo(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(b,N){var R=t[N];return typeof R=="number"?Gb(R):R},n=function(b,N,R){var k=N.charCodeAt(0)-32<<4|R.charCodeAt(0)-48;return k==59?b:Gb(k)};t["|"]=254;function i(b,N){switch(N.type){case"base64":return s(ma(b),N);case"binary":return s(b,N);case"buffer":return s(Mr&&Buffer.isBuffer(b)?b.toString("binary"):uc(b),N);case"array":return s(nc(b),N)}throw new Error("Unrecognized type "+N.type)}function s(b,N){var R=b.split(/[\n\r]+/),k=-1,U=-1,j=0,K=0,Q=[],J=[],re=null,G={},M=[],P=[],O=[],ee=0,te;for(+N.codepage>=0&&to(+N.codepage);j!==R.length;++j){ee=0;var W=R[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),q=W.replace(/;;/g,"\0").split(";").map(function(ce){return ce.replace(/\u0000/g,";")}),Ie=q[0],xe;if(W.length>0)switch(Ie){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":q[1].charAt(0)=="P"&&J.push(W.slice(3).replace(/;;/g,";"));break;case"C":var ge=!1,ye=!1,We=!1,Ee=!1,et=-1,ne=-1;for(K=1;K<q.length;++K)switch(q[K].charAt(0)){case"A":break;case"X":U=parseInt(q[K].slice(1))-1,ye=!0;break;case"Y":for(k=parseInt(q[K].slice(1))-1,ye||(U=0),te=Q.length;te<=k;++te)Q[te]=[];break;case"K":xe=q[K].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(no(xe))?isNaN(Bu(xe).getDate())||(xe=Ri(xe)):(xe=no(xe),re!==null&&Uu(re)&&(xe=gg(xe))),ge=!0;break;case"E":Ee=!0;var X=wu(q[K].slice(1),{r:k,c:U});Q[k][U]=[Q[k][U],X];break;case"S":We=!0,Q[k][U]=[Q[k][U],"S5S"];break;case"G":break;case"R":et=parseInt(q[K].slice(1))-1;break;case"C":ne=parseInt(q[K].slice(1))-1;break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+W)}if(ge&&(Q[k][U]&&Q[k][U].length==2?Q[k][U][0]=xe:Q[k][U]=xe,re=null),We){if(Ee)throw new Error("SYLK shared formula cannot have own formula");var ue=et>-1&&Q[et][ne];if(!ue||!ue[1])throw new Error("SYLK shared formula cannot find base");Q[k][U][1]=s3(ue[1],{r:k-et,c:U-ne})}break;case"F":var oe=0;for(K=1;K<q.length;++K)switch(q[K].charAt(0)){case"X":U=parseInt(q[K].slice(1))-1,++oe;break;case"Y":for(k=parseInt(q[K].slice(1))-1,te=Q.length;te<=k;++te)Q[te]=[];break;case"M":ee=parseInt(q[K].slice(1))/20;break;case"F":break;case"G":break;case"P":re=J[parseInt(q[K].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=q[K].slice(1).split(" "),te=parseInt(O[0],10);te<=parseInt(O[1],10);++te)ee=parseInt(O[2],10),P[te-1]=ee===0?{hidden:!0}:{wch:ee},_u(P[te-1]);break;case"C":U=parseInt(q[K].slice(1))-1,P[U]||(P[U]={});break;case"R":k=parseInt(q[K].slice(1))-1,M[k]||(M[k]={}),ee>0?(M[k].hpt=ee,M[k].hpx=_f(ee)):ee===0&&(M[k].hidden=!0);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+W)}oe<1&&(re=null);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+W)}}return M.length>0&&(G["!rows"]=M),P.length>0&&(G["!cols"]=P),N&&N.sheetRows&&(Q=Q.slice(0,N.sheetRows)),[Q,G]}function l(b,N){var R=i(b,N),k=R[0],U=R[1],j=Ou(k,N);return bo(U).forEach(function(K){j[K]=U[K]}),j}function c(b,N){return mA(l(b,N),N)}function g(b,N,R,k){var U="C;Y"+(R+1)+";X"+(k+1)+";K";switch(b.t){case"n":U+=b.v||0,b.f&&!b.F&&(U+=";E"+OQ(b.f,{r:R,c:k}));break;case"b":U+=b.v?"TRUE":"FALSE";break;case"e":U+=b.w||b.v;break;case"d":U+='"'+(b.w||b.v)+'"';break;case"s":U+='"'+b.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return U}function d(b,N){N.forEach(function(R,k){var U="F;W"+(k+1)+" "+(k+1)+" ";R.hidden?U+="0":(typeof R.width=="number"&&!R.wpx&&(R.wpx=k1(R.width)),typeof R.wpx=="number"&&!R.wch&&(R.wch=D1(R.wpx)),typeof R.wch=="number"&&(U+=Math.round(R.wch))),U.charAt(U.length-1)!=" "&&b.push(U)})}function m(b,N){N.forEach(function(R,k){var U="F;";R.hidden?U+="M0;":R.hpt?U+="M"+20*R.hpt+";":R.hpx&&(U+="M"+20*r3(R.hpx)+";"),U.length>2&&b.push(U+"R"+(k+1))})}function C(b,N){var R=["ID;PWXL;N;E"],k=[],U=Yn(b["!ref"]),j,K=Array.isArray(b),Q=`\r
`;R.push("P;PGeneral"),R.push("F;P0;DG0G8;M255"),b["!cols"]&&d(R,b["!cols"]),b["!rows"]&&m(R,b["!rows"]),R.push("B;Y"+(U.e.r-U.s.r+1)+";X"+(U.e.c-U.s.c+1)+";D"+[U.s.c,U.s.r,U.e.c,U.e.r].join(" "));for(var J=U.s.r;J<=U.e.r;++J)for(var re=U.s.c;re<=U.e.c;++re){var G=gr({r:J,c:re});j=K?(b[J]||[])[re]:b[G],!(!j||j.v==null&&(!j.f||j.F))&&k.push(g(j,b,J,re))}return R.join(Q)+Q+k.join(Q)+Q+"E"+Q}return{to_workbook:c,to_sheet:l,from_sheet:C}})(),Z9=(function(){function t(s,l){switch(l.type){case"base64":return e(ma(s),l);case"binary":return e(s,l);case"buffer":return e(Mr&&Buffer.isBuffer(s)?s.toString("binary"):uc(s),l);case"array":return e(nc(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var c=s.split(`
`),g=-1,d=-1,m=0,C=[];m!==c.length;++m){if(c[m].trim()==="BOT"){C[++g]=[],d=0;continue}if(!(g<0)){var b=c[m].trim().split(","),N=b[0],R=b[1];++m;for(var k=c[m]||"";(k.match(/["]/g)||[]).length&1&&m<c.length-1;)k+=`
`+c[++m];switch(k=k.trim(),+N){case-1:if(k==="BOT"){C[++g]=[],d=0;continue}else if(k!=="EOD")throw new Error("Unrecognized DIF special command "+k);break;case 0:k==="TRUE"?C[g][d]=!0:k==="FALSE"?C[g][d]=!1:isNaN(no(R))?isNaN(Bu(R).getDate())?C[g][d]=R:C[g][d]=Ri(R):C[g][d]=no(R),++d;break;case 1:k=k.slice(1,k.length-1),k=k.replace(/""/g,'"'),k&&k.match(/^=".*"$/)&&(k=k.slice(2,-1)),C[g][d++]=k!==""?k:null;break}if(k==="EOD")break}}return l&&l.sheetRows&&(C=C.slice(0,l.sheetRows)),C}function r(s,l){return Ou(t(s,l),l)}function n(s,l){return mA(r(s,l),l)}var i=(function(){var s=function(g,d,m,C,b){g.push(d),g.push(m+","+C),g.push('"'+b.replace(/"/g,'""')+'"')},l=function(g,d,m,C){g.push(d+","+m),g.push(d==1?'"'+C.replace(/"/g,'""')+'"':C)};return function(g){var d=[],m=Yn(g["!ref"]),C,b=Array.isArray(g);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,m.e.r-m.s.r+1,""),s(d,"TUPLES",0,m.e.c-m.s.c+1,""),s(d,"DATA",0,0,"");for(var N=m.s.r;N<=m.e.r;++N){l(d,-1,0,"BOT");for(var R=m.s.c;R<=m.e.c;++R){var k=gr({r:N,c:R});if(C=b?(g[N]||[])[R]:g[k],!C){l(d,1,0,"");continue}switch(C.t){case"n":var U=C.w;!U&&C.v!=null&&(U=C.v),U==null?C.f&&!C.F?l(d,1,0,"="+C.f):l(d,1,0,""):l(d,0,U,"V");break;case"b":l(d,0,C.v?1:0,C.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(C.v)?C.v:'="'+C.v+'"');break;case"d":C.w||(C.w=Qa(C.z||Cr[14],Ss(Ri(C.v)))),l(d,0,C.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var j=`\r
`,K=d.join(j);return K}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),$9=(function(){function t(C){return C.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(C){return C.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(C,b){for(var N=C.split(`
`),R=-1,k=-1,U=0,j=[];U!==N.length;++U){var K=N[U].trim().split(":");if(K[0]==="cell"){var Q=Bs(K[1]);if(j.length<=Q.r)for(R=j.length;R<=Q.r;++R)j[R]||(j[R]=[]);switch(R=Q.r,k=Q.c,K[2]){case"t":j[R][k]=t(K[3]);break;case"v":j[R][k]=+K[3];break;case"vtf":var J=K[K.length-1];case"vtc":switch(K[3]){case"nl":j[R][k]=!!+K[4];break;default:j[R][k]=+K[4];break}K[2]=="vtf"&&(j[R][k]=[j[R][k],J])}}}return b&&b.sheetRows&&(j=j.slice(0,b.sheetRows)),j}function n(C,b){return Ou(r(C,b),b)}function i(C,b){return mA(n(C,b),b)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),g="--SocialCalcSpreadsheetControlSave--";function d(C){if(!C||!C["!ref"])return"";for(var b=[],N=[],R,k="",U=Mu(C["!ref"]),j=Array.isArray(C),K=U.s.r;K<=U.e.r;++K)for(var Q=U.s.c;Q<=U.e.c;++Q)if(k=gr({r:K,c:Q}),R=j?(C[K]||[])[Q]:C[k],!(!R||R.v==null||R.t==="z")){switch(N=["cell",k,"t"],R.t){case"s":case"str":N.push(e(R.v));break;case"n":R.f?(N[2]="vtf",N[3]="n",N[4]=R.v,N[5]=e(R.f)):(N[2]="v",N[3]=R.v);break;case"b":N[2]="vt"+(R.f?"f":"c"),N[3]="nl",N[4]=R.v?"1":"0",N[5]=e(R.f||(R.v?"TRUE":"FALSE"));break;case"d":var J=Ss(Ri(R.v));N[2]="vtc",N[3]="nd",N[4]=""+J,N[5]=R.w||Qa(R.z||Cr[14],J);break;case"e":continue}b.push(N.join(":"))}return b.push("sheet:c:"+(U.e.c-U.s.c+1)+":r:"+(U.e.r-U.s.r+1)+":tvf:1"),b.push("valueformat:1:text-wiki"),b.join(`
`)}function m(C){return[s,l,c,l,d(C),g].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:m}})(),bf=(function(){function t(m,C,b,N,R){R.raw?C[b][N]=m:m===""||(m==="TRUE"?C[b][N]=!0:m==="FALSE"?C[b][N]=!1:isNaN(no(m))?isNaN(Bu(m).getDate())?C[b][N]=m:C[b][N]=Ri(m):C[b][N]=no(m))}function e(m,C){var b=C||{},N=[];if(!m||m.length===0)return N;for(var R=m.split(/[\r\n]/),k=R.length-1;k>=0&&R[k].length===0;)--k;for(var U=10,j=0,K=0;K<=k;++K)j=R[K].indexOf(" "),j==-1?j=R[K].length:j++,U=Math.max(U,j);for(K=0;K<=k;++K){N[K]=[];var Q=0;for(t(R[K].slice(0,U).trim(),N,K,Q,b),Q=1;Q<=(R[K].length-U)/10+1;++Q)t(R[K].slice(U+(Q-1)*10,U+Q*10).trim(),N,K,Q,b)}return b.sheetRows&&(N=N.slice(0,b.sheetRows)),N}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(m){for(var C={},b=!1,N=0,R=0;N<m.length;++N)(R=m.charCodeAt(N))==34?b=!b:!b&&R in r&&(C[R]=(C[R]||0)+1);R=[];for(N in C)Object.prototype.hasOwnProperty.call(C,N)&&R.push([C[N],N]);if(!R.length){C=n;for(N in C)Object.prototype.hasOwnProperty.call(C,N)&&R.push([C[N],N])}return R.sort(function(k,U){return k[0]-U[0]||n[k[1]]-n[U[1]]}),r[R.pop()[1]]||44}function s(m,C){var b=C||{},N="",R=b.dense?[]:{},k={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(N=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(N=m.charAt(4),m=m.slice(6)):N=i(m.slice(0,1024)):b&&b.FS?N=b.FS:N=i(m.slice(0,1024));var U=0,j=0,K=0,Q=0,J=0,re=N.charCodeAt(0),G=!1,M=0,P=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var O=b.dateNF!=null?cO(b.dateNF):null;function ee(){var te=m.slice(Q,J),W={};if(te.charAt(0)=='"'&&te.charAt(te.length-1)=='"'&&(te=te.slice(1,-1).replace(/""/g,'"')),te.length===0)W.t="z";else if(b.raw)W.t="s",W.v=te;else if(te.trim().length===0)W.t="s",W.v=te;else if(te.charCodeAt(0)==61)te.charCodeAt(1)==34&&te.charCodeAt(te.length-1)==34?(W.t="s",W.v=te.slice(2,-1).replace(/""/g,'"')):QQ(te)?(W.t="n",W.f=te.slice(1)):(W.t="s",W.v=te);else if(te=="TRUE")W.t="b",W.v=!0;else if(te=="FALSE")W.t="b",W.v=!1;else if(!isNaN(K=no(te)))W.t="n",b.cellText!==!1&&(W.w=te),W.v=K;else if(!isNaN(Bu(te).getDate())||O&&te.match(O)){W.z=b.dateNF||Cr[14];var q=0;O&&te.match(O)&&(te=uO(te,b.dateNF,te.match(O)||[]),q=1),b.cellDates?(W.t="d",W.v=Ri(te,q)):(W.t="n",W.v=Ss(Ri(te,q))),b.cellText!==!1&&(W.w=Qa(W.z,W.v instanceof Date?Ss(W.v):W.v)),b.cellNF||delete W.z}else W.t="s",W.v=te;if(W.t=="z"||(b.dense?(R[U]||(R[U]=[]),R[U][j]=W):R[gr({c:j,r:U})]=W),Q=J+1,P=m.charCodeAt(Q),k.e.c<j&&(k.e.c=j),k.e.r<U&&(k.e.r=U),M==re)++j;else if(j=0,++U,b.sheetRows&&b.sheetRows<=U)return!0}e:for(;J<m.length;++J)switch(M=m.charCodeAt(J)){case 34:P===34&&(G=!G);break;case re:case 10:case 13:if(!G&&ee())break e;break}return J-Q>0&&ee(),R["!ref"]=Pr(k),R}function l(m,C){return!(C&&C.PRN)||C.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,C):Ou(e(m,C),C)}function c(m,C){var b="",N=C.type=="string"?[0,0,0,0]:Nw(m,C);switch(C.type){case"base64":b=ma(m);break;case"binary":b=m;break;case"buffer":C.codepage==65001?b=m.toString("utf8"):C.codepage&&typeof vf<"u"||(b=Mr&&Buffer.isBuffer(m)?m.toString("binary"):uc(m));break;case"array":b=nc(m);break;case"string":b=m;break;default:throw new Error("Unrecognized type "+C.type)}return N[0]==239&&N[1]==187&&N[2]==191?b=Bn(b.slice(3)):C.type!="string"&&C.type!="buffer"&&C.codepage==65001?b=Bn(b):C.type=="binary"&&typeof vf<"u",b.slice(0,19)=="socialcalc:version:"?$9.to_sheet(C.type=="string"?b:Bn(b),C):l(b,C)}function g(m,C){return mA(c(m,C),C)}function d(m){for(var C=[],b=Yn(m["!ref"]),N,R=Array.isArray(m),k=b.s.r;k<=b.e.r;++k){for(var U=[],j=b.s.c;j<=b.e.c;++j){var K=gr({r:k,c:j});if(N=R?(m[k]||[])[j]:m[K],!N||N.v==null){U.push("          ");continue}for(var Q=(N.w||(ll(N),N.w)||"").slice(0,10);Q.length<10;)Q+=" ";U.push(Q+(j===0?" ":""))}C.push(U.join(""))}return C.join(`
`)}return{to_workbook:g,to_sheet:c,from_sheet:d}})();function e7(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=J9.to_workbook(t,r);return r.WTF=n,i}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return bf.to_workbook(t,e)}}var lf=(function(){function t(X,ue,oe){if(X){Gi(X,X.l||0);for(var ce=oe.Enum||et;X.l<X.length;){var be=X.read_shift(2),Je=ce[be]||ce[65535],ke=X.read_shift(2),He=X.l+ke,Te=Je.f&&Je.f(X,ke,oe);if(X.l=He,ue(Te,Je,be))return}}}function e(X,ue){switch(ue.type){case"base64":return r(eo(ma(X)),ue);case"binary":return r(eo(X),ue);case"buffer":case"array":return r(X,ue)}throw"Unsupported type "+ue.type}function r(X,ue){if(!X)return X;var oe=ue||{},ce=oe.dense?[]:{},be="Sheet1",Je="",ke=0,He={},Te=[],pt=[],se={s:{r:0,c:0},e:{r:0,c:0}},Xe=oe.sheetRows||0;if(X[2]==0&&(X[3]==8||X[3]==9)&&X.length>=16&&X[14]==5&&X[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(X[2]==2)oe.Enum=et,t(X,function(ot,Dt,Nt){switch(Nt){case 0:oe.vers=ot,ot>=4096&&(oe.qpro=!0);break;case 6:se=ot;break;case 204:ot&&(Je=ot);break;case 222:Je=ot;break;case 15:case 51:oe.qpro||(ot[1].v=ot[1].v.slice(1));case 13:case 14:case 16:Nt==14&&(ot[2]&112)==112&&(ot[2]&15)>1&&(ot[2]&15)<15&&(ot[1].z=oe.dateNF||Cr[14],oe.cellDates&&(ot[1].t="d",ot[1].v=gg(ot[1].v))),oe.qpro&&ot[3]>ke&&(ce["!ref"]=Pr(se),He[be]=ce,Te.push(be),ce=oe.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},ke=ot[3],be=Je||"Sheet"+(ke+1),Je="");var wr=oe.dense?(ce[ot[0].r]||[])[ot[0].c]:ce[gr(ot[0])];if(wr){wr.t=ot[1].t,wr.v=ot[1].v,ot[1].z!=null&&(wr.z=ot[1].z),ot[1].f!=null&&(wr.f=ot[1].f);break}oe.dense?(ce[ot[0].r]||(ce[ot[0].r]=[]),ce[ot[0].r][ot[0].c]=ot[1]):ce[gr(ot[0])]=ot[1];break}},oe);else if(X[2]==26||X[2]==14)oe.Enum=ne,X[2]==14&&(oe.qpro=!0,X.l=0),t(X,function(ot,Dt,Nt){switch(Nt){case 204:be=ot;break;case 22:ot[1].v=ot[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ot[3]>ke&&(ce["!ref"]=Pr(se),He[be]=ce,Te.push(be),ce=oe.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},ke=ot[3],be="Sheet"+(ke+1)),Xe>0&&ot[0].r>=Xe)break;oe.dense?(ce[ot[0].r]||(ce[ot[0].r]=[]),ce[ot[0].r][ot[0].c]=ot[1]):ce[gr(ot[0])]=ot[1],se.e.c<ot[0].c&&(se.e.c=ot[0].c),se.e.r<ot[0].r&&(se.e.r=ot[0].r);break;case 27:ot[14e3]&&(pt[ot[14e3][0]]=ot[14e3][1]);break;case 1537:pt[ot[0]]=ot[1],ot[0]==ke&&(be=ot[1]);break}},oe);else throw new Error("Unrecognized LOTUS BOF "+X[2]);if(ce["!ref"]=Pr(se),He[Je||be]=ce,Te.push(Je||be),!pt.length)return{SheetNames:Te,Sheets:He};for(var vt={},Ft=[],At=0;At<pt.length;++At)He[Te[At]]?(Ft.push(pt[At]||Te[At]),vt[pt[At]]=He[pt[At]]||He[Te[At]]):(Ft.push(pt[At]),vt[pt[At]]={"!ref":"A1"});return{SheetNames:Ft,Sheets:vt}}function n(X,ue){var oe=ue||{};if(+oe.codepage>=0&&to(+oe.codepage),oe.type=="string")throw new Error("Cannot write WK1 to JS string");var ce=r2(),be=Yn(X["!ref"]),Je=Array.isArray(X),ke=[];Ya(ce,0,s(1030)),Ya(ce,6,g(be));for(var He=Math.min(be.e.r,8191),Te=be.s.r;Te<=He;++Te)for(var pt=Xi(Te),se=be.s.c;se<=be.e.c;++se){Te===be.s.r&&(ke[se]=Ci(se));var Xe=ke[se]+pt,vt=Je?(X[Te]||[])[se]:X[Xe];if(!(!vt||vt.t=="z"))if(vt.t=="n")(vt.v|0)==vt.v&&vt.v>=-32768&&vt.v<=32767?Ya(ce,13,N(Te,se,vt.v)):Ya(ce,14,k(Te,se,vt.v));else{var Ft=ll(vt);Ya(ce,15,C(Te,se,Ft.slice(0,239)))}}return Ya(ce,1),ce.end()}function i(X,ue){var oe=ue||{};if(+oe.codepage>=0&&to(+oe.codepage),oe.type=="string")throw new Error("Cannot write WK3 to JS string");var ce=r2();Ya(ce,0,l(X));for(var be=0,Je=0;be<X.SheetNames.length;++be)(X.Sheets[X.SheetNames[be]]||{})["!ref"]&&Ya(ce,27,Ee(X.SheetNames[be],Je++));var ke=0;for(be=0;be<X.SheetNames.length;++be){var He=X.Sheets[X.SheetNames[be]];if(!(!He||!He["!ref"])){for(var Te=Yn(He["!ref"]),pt=Array.isArray(He),se=[],Xe=Math.min(Te.e.r,8191),vt=Te.s.r;vt<=Xe;++vt)for(var Ft=Xi(vt),At=Te.s.c;At<=Te.e.c;++At){vt===Te.s.r&&(se[At]=Ci(At));var ot=se[At]+Ft,Dt=pt?(He[vt]||[])[At]:He[ot];if(!(!Dt||Dt.t=="z"))if(Dt.t=="n")Ya(ce,23,ee(vt,At,ke,Dt.v));else{var Nt=ll(Dt);Ya(ce,22,M(vt,At,ke,Nt.slice(0,239)))}}++ke}}return Ya(ce,1),ce.end()}function s(X){var ue=vi(2);return ue.write_shift(2,X),ue}function l(X){var ue=vi(26);ue.write_shift(2,4096),ue.write_shift(2,4),ue.write_shift(4,0);for(var oe=0,ce=0,be=0,Je=0;Je<X.SheetNames.length;++Je){var ke=X.SheetNames[Je],He=X.Sheets[ke];if(!(!He||!He["!ref"])){++be;var Te=Mu(He["!ref"]);oe<Te.e.r&&(oe=Te.e.r),ce<Te.e.c&&(ce=Te.e.c)}}return oe>8191&&(oe=8191),ue.write_shift(2,oe),ue.write_shift(1,be),ue.write_shift(1,ce),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(1,1),ue.write_shift(1,2),ue.write_shift(4,0),ue.write_shift(4,0),ue}function c(X,ue,oe){var ce={s:{c:0,r:0},e:{c:0,r:0}};return ue==8&&oe.qpro?(ce.s.c=X.read_shift(1),X.l++,ce.s.r=X.read_shift(2),ce.e.c=X.read_shift(1),X.l++,ce.e.r=X.read_shift(2),ce):(ce.s.c=X.read_shift(2),ce.s.r=X.read_shift(2),ue==12&&oe.qpro&&(X.l+=2),ce.e.c=X.read_shift(2),ce.e.r=X.read_shift(2),ue==12&&oe.qpro&&(X.l+=2),ce.s.c==65535&&(ce.s.c=ce.e.c=ce.s.r=ce.e.r=0),ce)}function g(X){var ue=vi(8);return ue.write_shift(2,X.s.c),ue.write_shift(2,X.s.r),ue.write_shift(2,X.e.c),ue.write_shift(2,X.e.r),ue}function d(X,ue,oe){var ce=[{c:0,r:0},{t:"n",v:0},0,0];return oe.qpro&&oe.vers!=20768?(ce[0].c=X.read_shift(1),ce[3]=X.read_shift(1),ce[0].r=X.read_shift(2),X.l+=2):(ce[2]=X.read_shift(1),ce[0].c=X.read_shift(2),ce[0].r=X.read_shift(2)),ce}function m(X,ue,oe){var ce=X.l+ue,be=d(X,ue,oe);if(be[1].t="s",oe.vers==20768){X.l++;var Je=X.read_shift(1);return be[1].v=X.read_shift(Je,"utf8"),be}return oe.qpro&&X.l++,be[1].v=X.read_shift(ce-X.l,"cstr"),be}function C(X,ue,oe){var ce=vi(7+oe.length);ce.write_shift(1,255),ce.write_shift(2,ue),ce.write_shift(2,X),ce.write_shift(1,39);for(var be=0;be<ce.length;++be){var Je=oe.charCodeAt(be);ce.write_shift(1,Je>=128?95:Je)}return ce.write_shift(1,0),ce}function b(X,ue,oe){var ce=d(X,ue,oe);return ce[1].v=X.read_shift(2,"i"),ce}function N(X,ue,oe){var ce=vi(7);return ce.write_shift(1,255),ce.write_shift(2,ue),ce.write_shift(2,X),ce.write_shift(2,oe,"i"),ce}function R(X,ue,oe){var ce=d(X,ue,oe);return ce[1].v=X.read_shift(8,"f"),ce}function k(X,ue,oe){var ce=vi(13);return ce.write_shift(1,255),ce.write_shift(2,ue),ce.write_shift(2,X),ce.write_shift(8,oe,"f"),ce}function U(X,ue,oe){var ce=X.l+ue,be=d(X,ue,oe);if(be[1].v=X.read_shift(8,"f"),oe.qpro)X.l=ce;else{var Je=X.read_shift(2);J(X.slice(X.l,X.l+Je),be),X.l+=Je}return be}function j(X,ue,oe){var ce=ue&32768;return ue&=-32769,ue=(ce?X:0)+(ue>=8192?ue-16384:ue),(ce?"":"$")+(oe?Ci(ue):Xi(ue))}var K={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Q=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function J(X,ue){Gi(X,0);for(var oe=[],ce=0,be="",Je="",ke="",He="";X.l<X.length;){var Te=X[X.l++];switch(Te){case 0:oe.push(X.read_shift(8,"f"));break;case 1:Je=j(ue[0].c,X.read_shift(2),!0),be=j(ue[0].r,X.read_shift(2),!1),oe.push(Je+be);break;case 2:{var pt=j(ue[0].c,X.read_shift(2),!0),se=j(ue[0].r,X.read_shift(2),!1);Je=j(ue[0].c,X.read_shift(2),!0),be=j(ue[0].r,X.read_shift(2),!1),oe.push(pt+se+":"+Je+be)}break;case 3:if(X.l<X.length){console.error("WK1 premature formula end");return}break;case 4:oe.push("("+oe.pop()+")");break;case 5:oe.push(X.read_shift(2));break;case 6:{for(var Xe="";Te=X[X.l++];)Xe+=String.fromCharCode(Te);oe.push('"'+Xe.replace(/"/g,'""')+'"')}break;case 8:oe.push("-"+oe.pop());break;case 23:oe.push("+"+oe.pop());break;case 22:oe.push("NOT("+oe.pop()+")");break;case 20:case 21:He=oe.pop(),ke=oe.pop(),oe.push(["AND","OR"][Te-20]+"("+ke+","+He+")");break;default:if(Te<32&&Q[Te])He=oe.pop(),ke=oe.pop(),oe.push(ke+Q[Te]+He);else if(K[Te]){if(ce=K[Te][1],ce==69&&(ce=X[X.l++]),ce>oe.length){console.error("WK1 bad formula parse 0x"+Te.toString(16)+":|"+oe.join("|")+"|");return}var vt=oe.slice(-ce);oe.length-=ce,oe.push(K[Te][0]+"("+vt.join(",")+")")}else return Te<=7?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=24?console.error("WK1 unsupported op "+Te.toString(16)):Te<=30?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=115?console.error("WK1 unsupported function opcode "+Te.toString(16)):console.error("WK1 unrecognized opcode "+Te.toString(16))}}oe.length==1?ue[1].f=""+oe[0]:console.error("WK1 bad formula parse |"+oe.join("|")+"|")}function re(X){var ue=[{c:0,r:0},{t:"n",v:0},0];return ue[0].r=X.read_shift(2),ue[3]=X[X.l++],ue[0].c=X[X.l++],ue}function G(X,ue){var oe=re(X);return oe[1].t="s",oe[1].v=X.read_shift(ue-4,"cstr"),oe}function M(X,ue,oe,ce){var be=vi(6+ce.length);be.write_shift(2,X),be.write_shift(1,oe),be.write_shift(1,ue),be.write_shift(1,39);for(var Je=0;Je<ce.length;++Je){var ke=ce.charCodeAt(Je);be.write_shift(1,ke>=128?95:ke)}return be.write_shift(1,0),be}function P(X,ue){var oe=re(X);oe[1].v=X.read_shift(2);var ce=oe[1].v>>1;if(oe[1].v&1)switch(ce&7){case 0:ce=(ce>>3)*5e3;break;case 1:ce=(ce>>3)*500;break;case 2:ce=(ce>>3)/20;break;case 3:ce=(ce>>3)/200;break;case 4:ce=(ce>>3)/2e3;break;case 5:ce=(ce>>3)/2e4;break;case 6:ce=(ce>>3)/16;break;case 7:ce=(ce>>3)/64;break}return oe[1].v=ce,oe}function O(X,ue){var oe=re(X),ce=X.read_shift(4),be=X.read_shift(4),Je=X.read_shift(2);if(Je==65535)return ce===0&&be===3221225472?(oe[1].t="e",oe[1].v=15):ce===0&&be===3489660928?(oe[1].t="e",oe[1].v=42):oe[1].v=0,oe;var ke=Je&32768;return Je=(Je&32767)-16446,oe[1].v=(1-ke*2)*(be*Math.pow(2,Je+32)+ce*Math.pow(2,Je)),oe}function ee(X,ue,oe,ce){var be=vi(14);if(be.write_shift(2,X),be.write_shift(1,oe),be.write_shift(1,ue),ce==0)return be.write_shift(4,0),be.write_shift(4,0),be.write_shift(2,65535),be;var Je=0,ke=0,He=0,Te=0;return ce<0&&(Je=1,ce=-ce),ke=Math.log2(ce)|0,ce/=Math.pow(2,ke-31),Te=ce>>>0,(Te&2147483648)==0&&(ce/=2,++ke,Te=ce>>>0),ce-=Te,Te|=2147483648,Te>>>=0,ce*=Math.pow(2,32),He=ce>>>0,be.write_shift(4,He),be.write_shift(4,Te),ke+=16383+(Je?32768:0),be.write_shift(2,ke),be}function te(X,ue){var oe=O(X);return X.l+=ue-14,oe}function W(X,ue){var oe=re(X),ce=X.read_shift(4);return oe[1].v=ce>>6,oe}function q(X,ue){var oe=re(X),ce=X.read_shift(8,"f");return oe[1].v=ce,oe}function Ie(X,ue){var oe=q(X);return X.l+=ue-10,oe}function xe(X,ue){return X[X.l+ue-1]==0?X.read_shift(ue,"cstr"):""}function ge(X,ue){var oe=X[X.l++];oe>ue-1&&(oe=ue-1);for(var ce="";ce.length<oe;)ce+=String.fromCharCode(X[X.l++]);return ce}function ye(X,ue,oe){if(!(!oe.qpro||ue<21)){var ce=X.read_shift(1);X.l+=17,X.l+=1,X.l+=2;var be=X.read_shift(ue-21,"cstr");return[ce,be]}}function We(X,ue){for(var oe={},ce=X.l+ue;X.l<ce;){var be=X.read_shift(2);if(be==14e3){for(oe[be]=[0,""],oe[be][0]=X.read_shift(2);X[X.l];)oe[be][1]+=String.fromCharCode(X[X.l]),X.l++;X.l++}}return oe}function Ee(X,ue){var oe=vi(5+X.length);oe.write_shift(2,14e3),oe.write_shift(2,ue);for(var ce=0;ce<X.length;++ce){var be=X.charCodeAt(ce);oe[oe.l++]=be>127?95:be}return oe[oe.l++]=0,oe}var et={0:{n:"BOF",f:hi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:b},14:{n:"NUMBER",f:R},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:U},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:ge},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:G},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:te},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:We},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:q},40:{n:"FORMULA28",f:Ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ye},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function t7(t){var e={},r=t.match(hs),n=0,i=!1;if(r)for(;n!=r.length;++n){var s=ar(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=aw[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var r7=(function(){var t=Cf("t"),e=Cf("rPr");function r(s){var l=s.match(t);if(!l)return{t:"s",v:""};var c={t:"s",v:Kr(l[1])},g=s.match(e);return g&&(c.s=t7(g[1])),c}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(i).map(r).filter(function(c){return c.v})}})(),n7=(function(){var e=/(\r\n|\n)/g;function r(i,s,l){var c=[];i.u&&c.push("text-decoration: underline;"),i.uval&&c.push("text-underline-style:"+i.uval+";"),i.sz&&c.push("font-size:"+i.sz+"pt;"),i.outline&&c.push("text-effect: outline;"),i.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),i.b&&(s.push("<b>"),l.push("</b>")),i.i&&(s.push("<i>"),l.push("</i>")),i.strike&&(s.push("<s>"),l.push("</s>"));var g=i.valign||"";return g=="superscript"||g=="super"?g="sup":g=="subscript"&&(g="sub"),g!=""&&(s.push("<"+g+">"),l.push("</"+g+">")),l.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&r(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),i7=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,s7=/<(?:\w+:)?r>/,a7=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Ew(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Kr(Bn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Bn(t),r&&(n.h=dw(n.t))):t.match(s7)&&(n.r=Bn(t),n.t=Kr(Bn((t.replace(a7,"").match(i7)||[]).join("").replace(hs,""))),r&&(n.h=n7(r7(n.r)))),n):{t:""}}var o7=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,l7=/<(?:\w+:)?(?:si|sstItem)>/g,A7=/<\/(?:\w+:)?(?:si|sstItem)>/;function c7(t,e){var r=[],n="";if(!t)return r;var i=t.match(o7);if(i){n=i[2].replace(l7,"").split(A7);for(var s=0;s!=n.length;++s){var l=Ew(n[s].trim(),e);l!=null&&(r[r.length]=l)}i=ar(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function u7(t){return[t.read_shift(4),t.read_shift(4)]}function f7(t,e){var r=[],n=!1;return hl(t,function(s,l,c){switch(c){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function YI(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function al(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function d7(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=al(t,4),e.U=al(t,4),e.W=al(t,4),e}function h7(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function g7(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(h7(t));return e}function p7(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function m7(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=al(t,4),e.U=al(t,4),e.W=al(t,4),e}function x7(t){var e=m7(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function JI(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function ZI(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function w7(t){var e=al(t);switch(e.Minor){case 2:return[e.Minor,v7(t)];case 3:return[e.Minor,y7()];case 4:return[e.Minor,C7(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function v7(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=JI(t,r),i=ZI(t,t.length-t.l);return{t:"Std",h:n,v:i}}function y7(){throw new Error("File is password-protected: ECMA-376 Extensible")}function C7(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(hs,function(s){var l=ar(s);switch(So(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){n[c]=l[c]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function E7(t,e){var r={},n=r.EncryptionVersionInfo=al(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=JI(t,i),e-=i,r.EncryptionVerifier=ZI(t,e),r}function b7(t){var e={},r=e.EncryptionVersionInfo=al(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function B7(t){var e=0,r,n=YI(t),i=n.length+1,s,l,c,g,d;for(r=cA(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)l=r[s],c=(e&16384)===0?0:1,g=e<<1&32767,d=c|g,e=d^l;return e^52811}var $I=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},i=function(l,c){return n(l^c)},s=function(l){for(var c=e[l.length-1],g=104,d=l.length-1;d>=0;--d)for(var m=l[d],C=0;C!=7;++C)m&64&&(c^=r[g]),m*=2,--g;return c};return function(l){for(var c=YI(l),g=s(c),d=c.length,m=cA(16),C=0;C!=16;++C)m[C]=0;var b,N,R;for((d&1)===1&&(b=g>>8,m[d]=i(t[0],b),--d,b=g&255,N=c[c.length-1],m[d]=i(N,b));d>0;)--d,b=g>>8,m[d]=i(c[d],b),--d,b=g&255,m[d]=i(c[d],b);for(d=15,R=15-c.length;R>0;)b=g>>8,m[d]=i(t[R],b),--d,--R,b=g&255,m[d]=i(c[d],b),--d,--R;return m}})(),_7=function(t,e,r,n,i){i||(i=e),n||(n=$I(t));var s,l;for(s=0;s!=e.length;++s)l=e[s],l^=n[r],l=(l>>5|l<<3)&255,i[s]=l,++r;return[i,r,n]},T7=function(t){var e=0,r=$I(t);return function(n){var i=_7("",n,e,r);return e=i[1],i[0]}};function S7(t,e,r,n){var i={key:hi(t),verificationBytes:hi(t)};return r.password&&(i.verifier=B7(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=T7(r.password)),i}function I7(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=b7(t):n.Data=E7(t,e),n}function N7(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?I7(t,e-2,n):S7(t,r.biff>=8?e:e-2,r,n),n}var F7=(function(){function t(i,s){switch(s.type){case"base64":return e(ma(i),s);case"binary":return e(i,s);case"buffer":return e(Mr&&Buffer.isBuffer(i)?i.toString("binary"):uc(i),s);case"array":return e(nc(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var l=s||{},c=l.dense?[]:{},g=i.match(/\\trowd.*?\\row\b/g);if(!g.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:g.length-1}};return g.forEach(function(m,C){Array.isArray(c)&&(c[C]=[]);for(var b=/\\\w+\b/g,N=0,R,k=-1;R=b.exec(m);){switch(R[0]){case"\\cell":var U=m.slice(N,b.lastIndex-R[0].length);if(U[0]==" "&&(U=U.slice(1)),++k,U.length){var j={v:U,t:"s"};Array.isArray(c)?c[C][k]=j:c[gr({r:C,c:k})]=j}break}N=b.lastIndex}k>d.e.c&&(d.e.c=k)}),c["!ref"]=Pr(d),c}function r(i,s){return mA(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],l=Yn(i["!ref"]),c,g=Array.isArray(i),d=l.s.r;d<=l.e.r;++d){s.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var C=gr({r:d,c:m});c=g?(i[d]||[])[m]:i[C],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(ll(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function R7(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Bf(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function k7(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),s=Math.min(e,r,n),l=i-s;if(l===0)return[0,0,e];var c=0,g=0,d=i+s;switch(g=l/(d>1?2-d:d),i){case e:c=((r-n)/l+6)%6;break;case r:c=(n-e)/l+2;break;case n:c=(e-r)/l+4;break}return[c/6,g,d/2]}function D7(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),s=n-i/2,l=[s,s,s],c=6*e,g;if(r!==0)switch(c|0){case 0:case 6:g=i*c,l[0]+=i,l[1]+=g;break;case 1:g=i*(2-c),l[0]+=g,l[1]+=i;break;case 2:g=i*(c-2),l[1]+=i,l[2]+=g;break;case 3:g=i*(4-c),l[1]+=g,l[2]+=i;break;case 4:g=i*(c-4),l[2]+=i,l[0]+=g;break;case 5:g=i*(6-c),l[2]+=g,l[0]+=i;break}for(var d=0;d!=3;++d)l[d]=Math.round(l[d]*255);return l}function R1(t,e){if(e===0)return t;var r=k7(R7(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Bf(D7(r))}var e3=6,U7=15,M7=1,bs=e3;function k1(t){return Math.floor((t+Math.round(128/bs)/256)*bs)}function D1(t){return Math.floor((t-5)/bs*100+.5)/100}function a2(t){return Math.round((t*bs+5)/bs*256)/256}function Ax(t){return a2(D1(k1(t)))}function bw(t){var e=Math.abs(t-Ax(t)),r=bs;if(e>.005)for(bs=M7;bs<U7;++bs)Math.abs(t-Ax(t))<=e&&(e=Math.abs(t-Ax(t)),r=bs);bs=r}function _u(t){t.width?(t.wpx=k1(t.width),t.wch=D1(t.wpx),t.MDW=bs):t.wpx?(t.wch=D1(t.wpx),t.width=a2(t.wch),t.MDW=bs):typeof t.wch=="number"&&(t.width=a2(t.wch),t.wpx=k1(t.width),t.MDW=bs),t.customWidth&&delete t.customWidth}var O7=96,t3=O7;function r3(t){return t*96/t3}function _f(t){return t*t3/96}var L7={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Q7(t,e,r,n){e.Borders=[];var i={},s=!1;(t[0].match(hs)||[]).forEach(function(l){var c=ar(l);switch(So(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},c.diagonalUp&&(i.diagonalUp=Dn(c.diagonalUp)),c.diagonalDown&&(i.diagonalDown=Dn(c.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function P7(t,e,r,n){e.Fills=[];var i={},s=!1;(t[0].match(hs)||[]).forEach(function(l){var c=ar(l);switch(So(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":c.patternType&&(i.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),c.indexed&&(i.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(i.bgColor.theme=parseInt(c.theme,10)),c.tint&&(i.bgColor.tint=parseFloat(c.tint)),c.rgb&&(i.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),c.theme&&(i.fgColor.theme=parseInt(c.theme,10)),c.tint&&(i.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(i.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function H7(t,e,r,n){e.Fonts=[];var i={},s=!1;(t[0].match(hs)||[]).forEach(function(l){var c=ar(l);switch(So(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":c.val&&(i.name=Bn(c.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=c.val?Dn(c.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=c.val?Dn(c.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(c.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=c.val?Dn(c.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=c.val?Dn(c.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=c.val?Dn(c.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=c.val?Dn(c.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=c.val?Dn(c.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":c.val&&(i.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(i.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(i.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(i.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=aw[parseInt(c.val,10)];break;case"<color":if(i.color||(i.color={}),c.auto&&(i.color.auto=Dn(c.auto)),c.rgb)i.color.rgb=c.rgb.slice(-6);else if(c.indexed){i.color.index=parseInt(c.indexed,10);var g=ec[i.color.index];i.color.index==81&&(g=ec[1]),g||(g=ec[1]),i.color.rgb=g[0].toString(16)+g[1].toString(16)+g[2].toString(16)}else c.theme&&(i.color.theme=parseInt(c.theme,10),c.tint&&(i.color.tint=parseFloat(c.tint)),c.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=R1(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function V7(t,e,r){e.NumberFmt=[];for(var n=bo(Cr),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Cr[n[i]];var s=t[0].match(hs);if(s)for(i=0;i<s.length;++i){var l=ar(s[i]);switch(So(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Kr(Bn(l.formatCode)),g=parseInt(l.numFmtId,10);if(e.NumberFmt[g]=c,g>0){if(g>392){for(g=392;g>60&&e.NumberFmt[g]!=null;--g);e.NumberFmt[g]=c}$A(c,g)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}var Mh=["numFmtId","fillId","fontId","borderId","xfId"],Oh=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function j7(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(hs)||[]).forEach(function(s){var l=ar(s),c=0;switch(So(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],c=0;c<Mh.length;++c)n[Mh[c]]&&(n[Mh[c]]=parseInt(n[Mh[c]],10));for(c=0;c<Oh.length;++c)n[Oh[c]]&&(n[Oh[c]]=Dn(n[Oh[c]]));if(e.NumberFmt&&n.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[c]){n.numFmtId=c;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var g={};l.vertical&&(g.vertical=l.vertical),l.horizontal&&(g.horizontal=l.horizontal),l.textRotation!=null&&(g.textRotation=l.textRotation),l.indent&&(g.indent=l.indent),l.wrapText&&(g.wrapText=Dn(l.wrapText)),n.alignment=g;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}var G7=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,g,d){var m={};if(!c)return m;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var C;return(C=c.match(e))&&V7(C,m,d),(C=c.match(i))&&H7(C,m,g,d),(C=c.match(n))&&P7(C,m,g,d),(C=c.match(s))&&Q7(C,m,g,d),(C=c.match(r))&&j7(C,m,d),m}})();function K7(t,e){var r=t.read_shift(2),n=fs(t);return[r,n]}function z7(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=rL(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(n.underline=l);var c=t.read_shift(1);c>0&&(n.family=c);var g=t.read_shift(1);switch(g>0&&(n.charset=g),t.l++,n.color=tL(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=fs(t),n}var W7=ds;function X7(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}var q7=ds;function Y7(t,e,r){var n={};n.NumberFmt=[];for(var i in Cr)n.NumberFmt[i]=Cr[i];n.CellXf=[],n.Fonts=[];var s=[],l=!1;return hl(t,function(g,d,m){switch(m){case 44:n.NumberFmt[g[0]]=g[1],$A(g[1],g[0]);break;case 43:n.Fonts.push(g),g.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(g.color.rgb=R1(e.themeElements.clrScheme[g.color.theme].rgb,g.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(g);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:s.push(m),l=!0;break;case 38:s.pop(),l=!1;break;default:if(d.T>0)s.push(m);else if(d.T<0)s.pop();else if(!l||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),n}var J7=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Z7(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(hs)||[]).forEach(function(i){var s=ar(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[J7.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function $7(){}function eQ(){}var tQ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,rQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,nQ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function iQ(t,e,r){e.themeElements={};var n;[["clrScheme",tQ,Z7],["fontScheme",rQ,$7],["fmtScheme",nQ,eQ]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var sQ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function n3(t,e){(!t||t.length===0)&&(t=aQ());var r,n={};if(!(r=t.match(sQ)))throw new Error("themeElements not found in theme");return iQ(r[0],n,e),n.raw=t,n}function aQ(t,e){var r=[hI];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function oQ(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var l;try{l=dI(s,{type:"array"})}catch{return}var c=ha(l,"theme/theme/theme1.xml",!0);if(c)return n3(c,r)}}function lQ(t){return t.read_shift(4)}function AQ(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=cQ(t,4);break;case 2:e.xclrValue=jI(t);break;case 3:e.xclrValue=lQ(t);break;case 4:t.l+=4;break}return t.l+=8,e}function cQ(t,e){return ds(t,e)}function uQ(t,e){return ds(t,e)}function fQ(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=AQ(t);break;case 6:n[1]=uQ(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function dQ(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(fQ(t,r-t.l));return{ixfe:n,ext:s}}function hQ(t,e){e.forEach(function(r){r[0]})}function gQ(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:fs(t)}}function pQ(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function mQ(t){return t.l+=4,t.read_shift(4)!=0}function xQ(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},s=[],l=!1,c=2;return hl(t,function(g,d,m){switch(m){case 335:n.Types.push({name:g.name});break;case 51:g.forEach(function(C){c==1?n.Cell.push({type:n.Types[C[0]-1].name,index:C[1]}):c==0&&n.Value.push({type:n.Types[C[0]-1].name,index:C[1]})});break;case 337:c=g?1:0;break;case 338:c=2;break;case 35:s.push(m),l=!0;break;case 36:s.pop(),l=!1;break;default:if(!d.T){if(!l||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),n}function wQ(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,s=2,l;return t.replace(hs,function(c){var g=ar(c);switch(So(g[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:g.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<n.Types.length;++d)n.Types[d].name==g.name&&(l=n.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[g.t-1].name,index:+g.v}):s==0&&n.Value.push({type:n.Types[g.t-1].name,index:+g.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+g.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+g[0]+" in metadata")}return c}),n}function vQ(t){var e=[];if(!t)return e;var r=1;return(t.match(hs)||[]).forEach(function(n){var i=ar(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function yQ(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=gr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function CQ(t,e,r){var n=[];return hl(t,function(s,l,c){switch(c){case 63:n.push(s);break;default:if(!l.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function EQ(t,e,r,n){if(!t)return t;var i=n||{},s=!1;hl(t,function(c,g,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!g.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},i)}function bQ(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function IB(t,e,r,n){var i=Array.isArray(t),s;e.forEach(function(l){var c=Bs(l.ref);if(i?(t[c.r]||(t[c.r]=[]),s=t[c.r][c.c]):s=t[l.ref],!s){s={t:"z"},i?t[c.r][c.c]=s:t[l.ref]=s;var g=Yn(t["!ref"]||"BDWGO1000001:A1");g.s.r>c.r&&(g.s.r=c.r),g.e.r<c.r&&(g.e.r=c.r),g.s.c>c.c&&(g.s.c=c.c),g.e.c<c.c&&(g.e.c=c.c);var d=Pr(g);d!==t["!ref"]&&(t["!ref"]=d)}s.c||(s.c=[]);var m={a:l.author,t:l.t,r:l.r,T:r};l.h&&(m.h=l.h);for(var C=s.c.length-1;C>=0;--C){if(!r&&s.c[C].T)return;r&&!s.c[C].T&&s.c.splice(C,1)}if(r&&n){for(C=0;C<n.length;++C)if(m.a==n[C].id){m.a=n[C].name||m.a;break}}s.c.push(m)})}function BQ(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var c=l.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&r.push(c[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var c=l.match(/<(?:\w+:)?comment[^>]*>/);if(c){var g=ar(c[0]),d={author:g.authorId&&r[g.authorId]||"sheetjsghost",ref:g.ref,guid:g.guid},m=Bs(g.ref);if(!(e.sheetRows&&e.sheetRows<=m.r)){var C=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),b=!!C&&!!C[1]&&Ew(C[1])||{r:"",t:"",h:""};d.r=b.r,b.r=="<t></t>"&&(b.t=b.h=""),d.t=(b.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=b.h),n.push(d)}}}}),n}function _Q(t,e){var r=[],n=!1,i={},s=0;return t.replace(hs,function(c,g){var d=ar(c);switch(So(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":s=g+c.length;break;case"</text>":i.t=t.slice(s,g).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),r}function TQ(t,e){var r=[],n=!1;return t.replace(hs,function(s){var l=ar(s);switch(So(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return s}),r}function SQ(t){var e={};e.iauthor=t.read_shift(4);var r=dc(t);return e.rfx=r.s,e.ref=gr(r.s),t.l+=16,e}var IQ=fs;function NQ(t,e){var r=[],n=[],i={},s=!1;return hl(t,function(c,g,d){switch(d){case 632:n.push(c);break;case 635:i=c;break;case 637:i.t=c.t,i.h=c.h,i.r=c.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!g.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}var FQ="application/vnd.ms-office.vbaProject";function RQ(t){var e=Qr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Qr.utils.cfb_add(e,i,t.FileIndex[n].content)}}),Qr.write(e)}function kQ(){return{"!type":"dialog"}}function DQ(){return{"!type":"dialog"}}function UQ(){return{"!type":"macro"}}function MQ(){return{"!type":"macro"}}var wu=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,l){var c=!1,g=!1;s.length==0?g=!0:s.charAt(0)=="["&&(g=!0,s=s.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return c?m+=e.c:--m,g?d+=e.r:--d,i+(c?"":"$")+Ci(m)+(g?"":"$")+Xi(d)}return function(i,s){return e=s,i.replace(t,r)}})(),i3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,OQ=(function(){return function(e,r){return e.replace(i3,function(n,i,s,l,c,g){var d=mw(l)-(s?0:r.c),m=pw(g)-(c?0:r.r),C=m==0?"":c?m+1:"["+m+"]",b=d==0?"":s?d+1:"["+d+"]";return i+"R"+C+"C"+b})}})();function s3(t,e){return t.replace(i3,function(r,n,i,s,l,c){return n+(i=="$"?i+s:Ci(mw(s)+e.c))+(l=="$"?l+c:Xi(pw(c)+e.r))})}function LQ(t,e,r){var n=Mu(e),i=n.s,s=Bs(r),l={r:s.r-i.r,c:s.c-i.c};return s3(t,l)}function QQ(t){return t.length!=1}function NB(t){return t.replace(/_xlfn\./g,"")}function ui(t){t.l+=1}function uA(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function a3(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return o3(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),l=uA(t),c=uA(t);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function o3(t){var e=uA(t),r=uA(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function PQ(t,e,r){if(r.biff<8)return o3(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=uA(t),l=uA(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function l3(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return HQ(t);var n=t.read_shift(r&&r.biff==12?4:2),i=uA(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function HQ(t){var e=uA(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function VQ(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function jQ(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return GQ(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),l=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:l,rRel:c}}function GQ(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function KQ(t,e,r){var n=(t[t.l++]&96)>>5,i=a3(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function zQ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var l=a3(t,s,r);return[n,i,l]}function WQ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function XQ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function qQ(t,e,r){var n=(t[t.l++]&96)>>5,i=PQ(t,e-1,r);return[n,i]}function YQ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function FB(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function JQ(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function ZQ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function $Q(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function eP(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function tP(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function A3(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function rP(t){return t.read_shift(2),A3(t)}function nP(t){return t.read_shift(2),A3(t)}function iP(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=l3(t,0,r);return[n,i]}function sP(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=jQ(t,0,r);return[n,i]}function aP(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=l3(t,0,r);return[n,i,s]}function oP(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[lH[i],f3[i],n]}function lP(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:AP(t);return[i,(s[0]===0?f3:oH)[s[1]]]}function AP(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function cP(t,e,r){t.l+=r&&r.biff==2?3:4}function uP(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function fP(t){return t.l++,hc[t.read_shift(1)]}function dP(t){return t.l++,t.read_shift(2)}function hP(t){return t.l++,t.read_shift(1)!==0}function gP(t){return t.l++,ls(t)}function pP(t,e,r){return t.l++,Pf(t,e-1,r)}function mP(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ni(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=hc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=ls(t);break;case 2:r[1]=gc(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function xP(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?dc:pg)(t));return i}function wP(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,l=[];s!=n&&(l[s]=[]);++s)for(var c=0;c!=i;++c)l[s][c]=mP(t,r.biff);return l}function vP(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function yP(t,e,r){if(r.biff==5)return CP(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function CP(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function EP(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function bP(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function BP(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function _P(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var TP=ds,SP=ds,IP=ds;function Vf(t,e,r){return t.l+=2,[VQ(t)]}function Bw(t){return t.l+=6,[]}var NP=Vf,FP=Bw,RP=Bw,kP=Vf;function c3(t){return t.l+=2,[hi(t),t.read_shift(2)&1]}var DP=Vf,UP=c3,MP=Bw,OP=Vf,LP=Vf,QP=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function PP(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),l=QP[r>>2&31];return{ixti:e,coltype:r&3,rt:l,idx:n,c:i,C:s}}function HP(t){return t.l+=2,[t.read_shift(4)]}function VP(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function jP(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function GP(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function KP(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function zP(t){return t.l+=4,[0,0]}var RB={1:{n:"PtgExp",f:uP},2:{n:"PtgTbl",f:IP},3:{n:"PtgAdd",f:ui},4:{n:"PtgSub",f:ui},5:{n:"PtgMul",f:ui},6:{n:"PtgDiv",f:ui},7:{n:"PtgPower",f:ui},8:{n:"PtgConcat",f:ui},9:{n:"PtgLt",f:ui},10:{n:"PtgLe",f:ui},11:{n:"PtgEq",f:ui},12:{n:"PtgGe",f:ui},13:{n:"PtgGt",f:ui},14:{n:"PtgNe",f:ui},15:{n:"PtgIsect",f:ui},16:{n:"PtgUnion",f:ui},17:{n:"PtgRange",f:ui},18:{n:"PtgUplus",f:ui},19:{n:"PtgUminus",f:ui},20:{n:"PtgPercent",f:ui},21:{n:"PtgParen",f:ui},22:{n:"PtgMissArg",f:ui},23:{n:"PtgStr",f:pP},26:{n:"PtgSheet",f:VP},27:{n:"PtgEndSheet",f:jP},28:{n:"PtgErr",f:fP},29:{n:"PtgBool",f:hP},30:{n:"PtgInt",f:dP},31:{n:"PtgNum",f:gP},32:{n:"PtgArray",f:YQ},33:{n:"PtgFunc",f:oP},34:{n:"PtgFuncVar",f:lP},35:{n:"PtgName",f:vP},36:{n:"PtgRef",f:iP},37:{n:"PtgArea",f:KQ},38:{n:"PtgMemArea",f:EP},39:{n:"PtgMemErr",f:TP},40:{n:"PtgMemNoMem",f:SP},41:{n:"PtgMemFunc",f:bP},42:{n:"PtgRefErr",f:BP},43:{n:"PtgAreaErr",f:WQ},44:{n:"PtgRefN",f:sP},45:{n:"PtgAreaN",f:qQ},46:{n:"PtgMemAreaN",f:GP},47:{n:"PtgMemNoMemN",f:KP},57:{n:"PtgNameX",f:yP},58:{n:"PtgRef3d",f:aP},59:{n:"PtgArea3d",f:zQ},60:{n:"PtgRefErr3d",f:_P},61:{n:"PtgAreaErr3d",f:XQ},255:{}},WP={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},XP={1:{n:"PtgElfLel",f:c3},2:{n:"PtgElfRw",f:OP},3:{n:"PtgElfCol",f:NP},6:{n:"PtgElfRwV",f:LP},7:{n:"PtgElfColV",f:kP},10:{n:"PtgElfRadical",f:DP},11:{n:"PtgElfRadicalS",f:MP},13:{n:"PtgElfColS",f:FP},15:{n:"PtgElfColSV",f:RP},16:{n:"PtgElfRadicalLel",f:UP},25:{n:"PtgList",f:PP},29:{n:"PtgSxName",f:HP},255:{}},qP={0:{n:"PtgAttrNoop",f:zP},1:{n:"PtgAttrSemi",f:tP},2:{n:"PtgAttrIf",f:$Q},4:{n:"PtgAttrChoose",f:JQ},8:{n:"PtgAttrGoto",f:ZQ},16:{n:"PtgAttrSum",f:cP},32:{n:"PtgAttrBaxcel",f:FB},33:{n:"PtgAttrBaxcel",f:FB},64:{n:"PtgAttrSpace",f:rP},65:{n:"PtgAttrSpaceSemi",f:nP},128:{n:"PtgAttrIfError",f:eP},255:{}};function jf(t,e,r,n){if(n.biff<8)return ds(t,e);for(var i=t.l+e,s=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=wP(t,0,n),s.push(r[l][1]);break;case"PtgMemArea":r[l][2]=xP(t,r[l][1],n),s.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=t.read_shift(4),s.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return e=i-t.l,e!==0&&s.push(ds(t,e)),s}function Gf(t,e,r){for(var n=t.l+e,i,s,l=[];n!=t.l;)e=n-t.l,s=t[t.l],i=RB[s]||RB[WP[s]],(s===24||s===25)&&(i=(s===24?XP:qP)[t[t.l+1]]),!i||!i.f?ds(t,e):l.push([i.n,i.f(t,e,r)]);return l}function YP(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var l=n[s];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var JP={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ZP(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function u3(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function kB(t,e,r){var n=u3(t,e,r);return n=="#REF"?n:ZP(n,r)}function as(t,e,r,n,i){var s=i&&i.biff||8,l={s:{c:0,r:0}},c=[],g,d,m,C=0,b=0,N,R="";if(!t[0]||!t[0][0])return"";for(var k=-1,U="",j=0,K=t[0].length;j<K;++j){var Q=t[0][j];switch(Q[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(g=c.pop(),d=c.pop(),k>=0){switch(t[0][k][1][0]){case 0:U=qn(" ",t[0][k][1][1]);break;case 1:U=qn("\r",t[0][k][1][1]);break;default:if(U="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][k][1][0])}d=d+U,k=-1}c.push(d+JP[Q[0]]+g);break;case"PtgIsect":g=c.pop(),d=c.pop(),c.push(d+" "+g);break;case"PtgUnion":g=c.pop(),d=c.pop(),c.push(d+","+g);break;case"PtgRange":g=c.pop(),d=c.pop(),c.push(d+":"+g);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=nf(Q[1][1],l,i),c.push(sf(m,s));break;case"PtgRefN":m=r?nf(Q[1][1],r,i):Q[1][1],c.push(sf(m,s));break;case"PtgRef3d":C=Q[1][1],m=nf(Q[1][2],l,i),R=kB(n,C,i),c.push(R+"!"+sf(m,s));break;case"PtgFunc":case"PtgFuncVar":var J=Q[1][0],re=Q[1][1];J||(J=0),J&=127;var G=J==0?[]:c.slice(-J);c.length-=J,re==="User"&&(re=G.shift()),c.push(re+"("+G.join(",")+")");break;case"PtgBool":c.push(Q[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(Q[1]);break;case"PtgNum":c.push(String(Q[1]));break;case"PtgStr":c.push('"'+Q[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(Q[1]);break;case"PtgAreaN":N=dB(Q[1][1],r?{s:r}:l,i),c.push(ox(N,i));break;case"PtgArea":N=dB(Q[1][1],l,i),c.push(ox(N,i));break;case"PtgArea3d":C=Q[1][1],N=Q[1][2],R=kB(n,C,i),c.push(R+"!"+ox(N,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":b=Q[1][2];var M=(n.names||[])[b-1]||(n[0]||[])[b],P=M?M.Name:"SH33TJSNAME"+String(b);P&&P.slice(0,6)=="_xlfn."&&!i.xlfn&&(P=P.slice(6)),c.push(P);break;case"PtgNameX":var O=Q[1][1];b=Q[1][2];var ee;if(i.biff<=5)O<0&&(O=-O),n[O]&&(ee=n[O][b]);else{var te="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][b]&&n[O][b].itab>0&&(te=n.SheetNames[n[O][b].itab-1]+"!"):te=n.SheetNames[b-1]+"!"),n[O]&&n[O][b])te+=n[O][b].Name;else if(n[0]&&n[0][b])te+=n[0][b].Name;else{var W=(u3(n,O,i)||"").split(";;");W[b-1]?te=W[b-1]:te+="SH33TJSERRX"}c.push(te);break}ee||(ee={Name:"SH33TJSERRY"}),c.push(ee.Name);break;case"PtgParen":var q="(",Ie=")";if(k>=0){switch(U="",t[0][k][1][0]){case 2:q=qn(" ",t[0][k][1][1])+q;break;case 3:q=qn("\r",t[0][k][1][1])+q;break;case 4:Ie=qn(" ",t[0][k][1][1])+Ie;break;case 5:Ie=qn("\r",t[0][k][1][1])+Ie;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][k][1][0])}k=-1}c.push(q+c.pop()+Ie);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":m={c:Q[1][1],r:Q[1][0]};var xe={c:r.c,r:r.r};if(n.sharedf[gr(m)]){var ge=n.sharedf[gr(m)];c.push(as(ge,l,xe,n,i))}else{var ye=!1;for(g=0;g!=n.arrayf.length;++g)if(d=n.arrayf[g],!(m.c<d[0].s.c||m.c>d[0].e.c)&&!(m.r<d[0].s.r||m.r>d[0].e.r)){c.push(as(d[1],l,xe,n,i)),ye=!0;break}ye||c.push(Q[1])}break;case"PtgArray":c.push("{"+YP(Q[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":k=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+Q[1].idx+"[#"+Q[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(Q));default:throw new Error("Unrecognized Formula Token: "+String(Q))}var We=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&k>=0&&We.indexOf(t[0][j][0])==-1){Q=t[0][k];var Ee=!0;switch(Q[1][0]){case 4:Ee=!1;case 0:U=qn(" ",Q[1][1]);break;case 5:Ee=!1;case 1:U=qn("\r",Q[1][1]);break;default:if(U="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Q[1][0])}c.push((Ee?U:"")+c.pop()+(Ee?"":U)),k=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function $P(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,l=t.read_shift(i);if(l==65535)return[[],ds(t,e-2)];var c=Gf(t,l,r);return e!==l+i&&(s=jf(t,e-l-i,c,r)),t.l=n,[c,s]}function eH(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,l=t.read_shift(i);if(l==65535)return[[],ds(t,e-2)];var c=Gf(t,l,r);return e!==l+i&&(s=jf(t,e-l-i,c,r)),t.l=n,[c,s]}function tH(t,e,r,n){var i=t.l+e,s=Gf(t,n,r),l;return i!==t.l&&(l=jf(t,i-t.l,s,r)),[s,l]}function rH(t,e,r){var n=t.l+e,i,s=t.read_shift(2),l=Gf(t,s,r);return s==65535?[[],ds(t,e-2)]:(e!==s+2&&(i=jf(t,n-s-2,l,r)),[l,i])}function nH(t){var e;if(nl(t,t.l+6)!==65535)return[ls(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function cx(t,e,r){var n=t.l+e,i=Io(t);r.biff==2&&++t.l;var s=nH(t),l=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var c=eH(t,n-t.l,r);return{cell:i,val:s[0],formula:c,shared:l>>3&1,tt:s[1]}}function mg(t,e,r){var n=t.read_shift(4),i=Gf(t,n,r),s=t.read_shift(4),l=s>0?jf(t,s,i,r):null;return[i,l]}var iH=mg,xg=mg,sH=mg,aH=mg,oH={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},f3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},lH={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function DB(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function ux(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Af={},vu={};function cf(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function d3(t,e,r,n,i,s){try{n.cellNF&&(t.z=Cr[e])}catch(c){if(n.WTF)throw c}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Ri(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Cr[e]==null&&$A(AO[e]||"General",e),t.t==="e")t.w=t.w||hc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yf(t.v);else if(t.t==="d"){var l=Ss(t.v);(l|0)===l?t.w=l.toString(10):t.w=yf(l)}else{if(t.v===void 0)return"";t.w=rc(t.v,vu)}else t.t==="d"?t.w=Qa(e,Ss(t.v),vu):t.w=Qa(e,t.v,vu)}catch(c){if(n.WTF)throw c}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=R1(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=R1(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(n.WTF&&s.Fills)throw c}}}function AH(t,e){var r=Yn(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Pr(r))}var cH=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,uH=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,fH=/<(?:\w:)?hyperlink [^>]*>/mg,dH=/"(\w*:\w*)"/,hH=/<(?:\w:)?col\b[^>]*[\/]?>/g,gH=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,pH=/<(?:\w:)?pageMargins[^>]*\/>/g,h3=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,mH=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,xH=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function wH(t,e,r,n,i,s,l){if(!t)return t;n||(n={"!id":{}});var c=e.dense?[]:{},g={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",m="",C=t.match(uH);C?(d=t.slice(0,C.index),m=t.slice(C.index+C[0].length)):d=m=t;var b=d.match(h3);b?_w(b[0],c,i,r):(b=d.match(mH))&&vH(b[0],b[1]||"",c,i,r);var N=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(N>0){var R=d.slice(N,N+50).match(dH);R&&AH(c,R[1])}var k=d.match(xH);k&&k[1]&&_H(k[1],i);var U=[];if(e.cellStyles){var j=d.match(hH);j&&EH(U,j)}C&&TH(C[1],c,e,g,s,l);var K=m.match(gH);K&&(c["!autofilter"]=bH(K[0]));var Q=[],J=m.match(cH);if(J)for(N=0;N!=J.length;++N)Q[N]=Yn(J[N].slice(J[N].indexOf('"')+1));var re=m.match(fH);re&&yH(c,re,n);var G=m.match(pH);if(G&&(c["!margins"]=CH(ar(G[0]))),!c["!ref"]&&g.e.c>=g.s.c&&g.e.r>=g.s.r&&(c["!ref"]=Pr(g)),e.sheetRows>0&&c["!ref"]){var M=Yn(c["!ref"]);e.sheetRows<=+M.e.r&&(M.e.r=e.sheetRows-1,M.e.r>g.e.r&&(M.e.r=g.e.r),M.e.r<M.s.r&&(M.s.r=M.e.r),M.e.c>g.e.c&&(M.e.c=g.e.c),M.e.c<M.s.c&&(M.s.c=M.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Pr(M))}return U.length>0&&(c["!cols"]=U),Q.length>0&&(c["!merges"]=Q),c}function _w(t,e,r,n){var i=ar(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Kr(Bn(i.codeName)))}function vH(t,e,r,n,i){_w(t.slice(0,t.indexOf(">")),r,n,i)}function yH(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var s=ar(Bn(e[i]),!0);if(!s.ref)return;var l=((r||{})["!id"]||[])[s.id];l?(s.Target=l.Target,s.location&&(s.Target+="#"+Kr(s.location))):(s.Target="#"+Kr(s.location),l={Target:s.Target,TargetMode:"Internal"}),s.Rel=l,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=Yn(s.ref),g=c.s.r;g<=c.e.r;++g)for(var d=c.s.c;d<=c.e.c;++d){var m=gr({c:d,r:g});n?(t[g]||(t[g]=[]),t[g][d]||(t[g][d]={t:"z",v:void 0}),t[g][d].l=s):(t[m]||(t[m]={t:"z",v:void 0}),t[m].l=s)}}}function CH(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function EH(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=ar(e[n],!0);i.hidden&&(i.hidden=Dn(i.hidden));var s=parseInt(i.min,10)-1,l=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,bw(i.width)),_u(i);s<=l;)t[s++]=Wi(i)}}function bH(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var BH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function _H(t,e){e.Views||(e.Views=[{}]),(t.match(BH)||[]).forEach(function(r,n){var i=ar(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),Dn(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var TH=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Cf("v"),l=Cf("f");return function(g,d,m,C,b,N){for(var R=0,k="",U=[],j=[],K=0,Q=0,J=0,re="",G,M,P=0,O=0,ee,te,W=0,q=0,Ie=Array.isArray(N.CellXf),xe,ge=[],ye=[],We=Array.isArray(d),Ee=[],et={},ne=!1,X=!!m.sheetStubs,ue=g.split(e),oe=0,ce=ue.length;oe!=ce;++oe){k=ue[oe].trim();var be=k.length;if(be!==0){var Je=0;e:for(R=0;R<be;++R)switch(k[R]){case">":if(k[R-1]!="/"){++R;break e}if(m&&m.cellStyles){if(M=ar(k.slice(Je,R),!0),P=M.r!=null?parseInt(M.r,10):P+1,O=-1,m.sheetRows&&m.sheetRows<P)continue;et={},ne=!1,M.ht&&(ne=!0,et.hpt=parseFloat(M.ht),et.hpx=_f(et.hpt)),M.hidden=="1"&&(ne=!0,et.hidden=!0),M.outlineLevel!=null&&(ne=!0,et.level=+M.outlineLevel),ne&&(Ee[P-1]=et)}break;case"<":Je=R;break}if(Je>=R)break;if(M=ar(k.slice(Je,R),!0),P=M.r!=null?parseInt(M.r,10):P+1,O=-1,!(m.sheetRows&&m.sheetRows<P)){C.s.r>P-1&&(C.s.r=P-1),C.e.r<P-1&&(C.e.r=P-1),m&&m.cellStyles&&(et={},ne=!1,M.ht&&(ne=!0,et.hpt=parseFloat(M.ht),et.hpx=_f(et.hpt)),M.hidden=="1"&&(ne=!0,et.hidden=!0),M.outlineLevel!=null&&(ne=!0,et.level=+M.outlineLevel),ne&&(Ee[P-1]=et)),U=k.slice(R).split(t);for(var ke=0;ke!=U.length&&U[ke].trim().charAt(0)=="<";++ke);for(U=U.slice(ke),R=0;R!=U.length;++R)if(k=U[R].trim(),k.length!==0){if(j=k.match(r),K=R,Q=0,J=0,k="<c "+(k.slice(0,1)=="<"?">":"")+k,j!=null&&j.length===2){for(K=0,re=j[1],Q=0;Q!=re.length&&!((J=re.charCodeAt(Q)-64)<1||J>26);++Q)K=26*K+J;--K,O=K}else++O;for(Q=0;Q!=k.length&&k.charCodeAt(Q)!==62;++Q);if(++Q,M=ar(k.slice(0,Q),!0),M.r||(M.r=gr({r:P-1,c:O})),re=k.slice(Q),G={t:""},(j=re.match(s))!=null&&j[1]!==""&&(G.v=Kr(j[1])),m.cellFormula){if((j=re.match(l))!=null&&j[1]!==""){if(G.f=Kr(Bn(j[1])).replace(/\r\n/g,`
`),m.xlfn||(G.f=NB(G.f)),j[0].indexOf('t="array"')>-1)G.F=(re.match(i)||[])[1],G.F.indexOf(":")>-1&&ge.push([Yn(G.F),G.F]);else if(j[0].indexOf('t="shared"')>-1){te=ar(j[0]);var He=Kr(Bn(j[1]));m.xlfn||(He=NB(He)),ye[parseInt(te.si,10)]=[te,He,M.r]}}else(j=re.match(/<f[^>]*\/>/))&&(te=ar(j[0]),ye[te.si]&&(G.f=LQ(ye[te.si][1],ye[te.si][2],M.r)));var Te=Bs(M.r);for(Q=0;Q<ge.length;++Q)Te.r>=ge[Q][0].s.r&&Te.r<=ge[Q][0].e.r&&Te.c>=ge[Q][0].s.c&&Te.c<=ge[Q][0].e.c&&(G.F=ge[Q][1])}if(M.t==null&&G.v===void 0)if(G.f||G.F)G.v=0,G.t="n";else if(X)G.t="z";else continue;else G.t=M.t||"n";switch(C.s.c>O&&(C.s.c=O),C.e.c<O&&(C.e.c=O),G.t){case"n":if(G.v==""||G.v==null){if(!X)continue;G.t="z"}else G.v=parseFloat(G.v);break;case"s":if(typeof G.v>"u"){if(!X)continue;G.t="z"}else ee=Af[parseInt(G.v,10)],G.v=ee.t,G.r=ee.r,m.cellHTML&&(G.h=ee.h);break;case"str":G.t="s",G.v=G.v!=null?Bn(G.v):"",m.cellHTML&&(G.h=dw(G.v));break;case"inlineStr":j=re.match(n),G.t="s",j!=null&&(ee=Ew(j[1]))?(G.v=ee.t,m.cellHTML&&(G.h=ee.h)):G.v="";break;case"b":G.v=Dn(G.v);break;case"d":m.cellDates?G.v=Ri(G.v,1):(G.v=Ss(Ri(G.v,1)),G.t="n");break;case"e":(!m||m.cellText!==!1)&&(G.w=G.v),G.v=UI[G.v];break}if(W=q=0,xe=null,Ie&&M.s!==void 0&&(xe=N.CellXf[M.s],xe!=null&&(xe.numFmtId!=null&&(W=xe.numFmtId),m.cellStyles&&xe.fillId!=null&&(q=xe.fillId))),d3(G,W,q,m,b,N),m.cellDates&&Ie&&G.t=="n"&&Uu(Cr[W])&&(G.t="d",G.v=gg(G.v)),M.cm&&m.xlmeta){var pt=(m.xlmeta.Cell||[])[+M.cm-1];pt&&pt.type=="XLDAPR"&&(G.D=!0)}if(We){var se=Bs(M.r);d[se.r]||(d[se.r]=[]),d[se.r][se.c]=G}else d[M.r]=G}}}}Ee.length>0&&(d["!rows"]=Ee)}})();function SH(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}var IH=dc;function NH(){}function FH(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=$O(t),r}function RH(t){var e=Ha(t);return[e]}function kH(t){var e=fc(t);return[e]}function DH(t){var e=Ha(t),r=t.read_shift(1);return[e,r,"b"]}function UH(t){var e=fc(t),r=t.read_shift(1);return[e,r,"b"]}function MH(t){var e=Ha(t),r=t.read_shift(1);return[e,r,"e"]}function OH(t){var e=fc(t),r=t.read_shift(1);return[e,r,"e"]}function LH(t){var e=Ha(t),r=t.read_shift(4);return[e,r,"s"]}function QH(t){var e=fc(t),r=t.read_shift(4);return[e,r,"s"]}function PH(t){var e=Ha(t),r=ls(t);return[e,r,"n"]}function g3(t){var e=fc(t),r=ls(t);return[e,r,"n"]}function HH(t){var e=Ha(t),r=vw(t);return[e,r,"n"]}function VH(t){var e=fc(t),r=vw(t);return[e,r,"n"]}function jH(t){var e=Ha(t),r=xw(t);return[e,r,"is"]}function GH(t){var e=Ha(t),r=fs(t);return[e,r,"str"]}function KH(t){var e=fc(t),r=fs(t);return[e,r,"str"]}function zH(t,e,r){var n=t.l+e,i=Ha(t);i.r=r["!row"];var s=t.read_shift(1),l=[i,s,"b"];if(r.cellFormula){t.l+=2;var c=xg(t,n-t.l,r);l[3]=as(c,null,i,r.supbooks,r)}else t.l=n;return l}function WH(t,e,r){var n=t.l+e,i=Ha(t);i.r=r["!row"];var s=t.read_shift(1),l=[i,s,"e"];if(r.cellFormula){t.l+=2;var c=xg(t,n-t.l,r);l[3]=as(c,null,i,r.supbooks,r)}else t.l=n;return l}function XH(t,e,r){var n=t.l+e,i=Ha(t);i.r=r["!row"];var s=ls(t),l=[i,s,"n"];if(r.cellFormula){t.l+=2;var c=xg(t,n-t.l,r);l[3]=as(c,null,i,r.supbooks,r)}else t.l=n;return l}function qH(t,e,r){var n=t.l+e,i=Ha(t);i.r=r["!row"];var s=fs(t),l=[i,s,"str"];if(r.cellFormula){t.l+=2;var c=xg(t,n-t.l,r);l[3]=as(c,null,i,r.supbooks,r)}else t.l=n;return l}var YH=dc;function JH(t,e){var r=t.l+e,n=dc(t),i=ww(t),s=fs(t),l=fs(t),c=fs(t);t.l=r;var g={rfx:n,relId:i,loc:s,display:c};return l&&(g.Tooltip=l),g}function ZH(){}function $H(t,e,r){var n=t.l+e,i=RI(t),s=t.read_shift(1),l=[i];if(l[2]=s,r.cellFormula){var c=iH(t,n-t.l,r);l[1]=c}else t.l=n;return l}function eV(t,e,r){var n=t.l+e,i=dc(t),s=[i];if(r.cellFormula){var l=aH(t,n-t.l,r);s[1]=l,t.l=n}else t.l=n;return s}var tV=["left","right","top","bottom","header","footer"];function rV(t){var e={};return tV.forEach(function(r){e[r]=ls(t)}),e}function nV(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function iV(){}function sV(){}function aV(t,e,r,n,i,s,l){if(!t)return t;var c=e||{};n||(n={"!id":{}});var g=c.dense?[]:{},d,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},C=!1,b=!1,N,R,k,U,j,K,Q,J,re,G=[];c.biff=12,c["!row"]=0;var M=0,P=!1,O=[],ee={},te=c.supbooks||i.supbooks||[[]];if(te.sharedf=ee,te.arrayf=O,te.SheetNames=i.SheetNames||i.Sheets.map(function(We){return We.name}),!c.supbooks&&(c.supbooks=te,i.Names))for(var W=0;W<i.Names.length;++W)te[0][W+1]=i.Names[W];var q=[],Ie=[],xe=!1;U1[16]={n:"BrtShortReal",f:g3};var ge;if(hl(t,function(Ee,et,ne){if(!b)switch(ne){case 148:d=Ee;break;case 0:N=Ee,c.sheetRows&&c.sheetRows<=N.r&&(b=!0),J=Xi(U=N.r),c["!row"]=N.r,(Ee.hidden||Ee.hpt||Ee.level!=null)&&(Ee.hpt&&(Ee.hpx=_f(Ee.hpt)),Ie[Ee.r]=Ee);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(R={t:Ee[2]},Ee[2]){case"n":R.v=Ee[1];break;case"s":Q=Af[Ee[1]],R.v=Q.t,R.r=Q.r;break;case"b":R.v=!!Ee[1];break;case"e":R.v=Ee[1],c.cellText!==!1&&(R.w=hc[R.v]);break;case"str":R.t="s",R.v=Ee[1];break;case"is":R.t="s",R.v=Ee[1].t;break}if((k=l.CellXf[Ee[0].iStyleRef])&&d3(R,k.numFmtId,null,c,s,l),j=Ee[0].c==-1?j+1:Ee[0].c,c.dense?(g[U]||(g[U]=[]),g[U][j]=R):g[Ci(j)+J]=R,c.cellFormula){for(P=!1,M=0;M<O.length;++M){var X=O[M];N.r>=X[0].s.r&&N.r<=X[0].e.r&&j>=X[0].s.c&&j<=X[0].e.c&&(R.F=Pr(X[0]),P=!0)}!P&&Ee.length>3&&(R.f=Ee[3])}if(m.s.r>N.r&&(m.s.r=N.r),m.s.c>j&&(m.s.c=j),m.e.r<N.r&&(m.e.r=N.r),m.e.c<j&&(m.e.c=j),c.cellDates&&k&&R.t=="n"&&Uu(Cr[k.numFmtId])){var ue=XA(R.v);ue&&(R.t="d",R.v=new Date(ue.y,ue.m-1,ue.d,ue.H,ue.M,ue.S,ue.u))}ge&&(ge.type=="XLDAPR"&&(R.D=!0),ge=void 0);break;case 1:case 12:if(!c.sheetStubs||C)break;R={t:"z",v:void 0},j=Ee[0].c==-1?j+1:Ee[0].c,c.dense?(g[U]||(g[U]=[]),g[U][j]=R):g[Ci(j)+J]=R,m.s.r>N.r&&(m.s.r=N.r),m.s.c>j&&(m.s.c=j),m.e.r<N.r&&(m.e.r=N.r),m.e.c<j&&(m.e.c=j),ge&&(ge.type=="XLDAPR"&&(R.D=!0),ge=void 0);break;case 176:G.push(Ee);break;case 49:ge=((c.xlmeta||{}).Cell||[])[Ee-1];break;case 494:var oe=n["!id"][Ee.relId];for(oe?(Ee.Target=oe.Target,Ee.loc&&(Ee.Target+="#"+Ee.loc),Ee.Rel=oe):Ee.relId==""&&(Ee.Target="#"+Ee.loc),U=Ee.rfx.s.r;U<=Ee.rfx.e.r;++U)for(j=Ee.rfx.s.c;j<=Ee.rfx.e.c;++j)c.dense?(g[U]||(g[U]=[]),g[U][j]||(g[U][j]={t:"z",v:void 0}),g[U][j].l=Ee):(K=gr({c:j,r:U}),g[K]||(g[K]={t:"z",v:void 0}),g[K].l=Ee);break;case 426:if(!c.cellFormula)break;O.push(Ee),re=c.dense?g[U][j]:g[Ci(j)+J],re.f=as(Ee[1],m,{r:N.r,c:j},te,c),re.F=Pr(Ee[0]);break;case 427:if(!c.cellFormula)break;ee[gr(Ee[0].s)]=Ee[1],re=c.dense?g[U][j]:g[Ci(j)+J],re.f=as(Ee[1],m,{r:N.r,c:j},te,c);break;case 60:if(!c.cellStyles)break;for(;Ee.e>=Ee.s;)q[Ee.e--]={width:Ee.w/256,hidden:!!(Ee.flags&1),level:Ee.level},xe||(xe=!0,bw(Ee.w/256)),_u(q[Ee.e+1]);break;case 161:g["!autofilter"]={ref:Pr(Ee)};break;case 476:g["!margins"]=Ee;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),Ee.name&&(i.Sheets[r].CodeName=Ee.name),(Ee.above||Ee.left)&&(g["!outline"]={above:Ee.above,left:Ee.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Ee.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:C=!0;break;case 36:C=!1;break;case 37:C=!0;break;case 38:C=!1;break;default:if(!et.T){if(!C||c.WTF)throw new Error("Unexpected record 0x"+ne.toString(16))}}},c),delete c.supbooks,delete c["!row"],!g["!ref"]&&(m.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(g["!ref"]=Pr(d||m)),c.sheetRows&&g["!ref"]){var ye=Yn(g["!ref"]);c.sheetRows<=+ye.e.r&&(ye.e.r=c.sheetRows-1,ye.e.r>m.e.r&&(ye.e.r=m.e.r),ye.e.r<ye.s.r&&(ye.s.r=ye.e.r),ye.e.c>m.e.c&&(ye.e.c=m.e.c),ye.e.c<ye.s.c&&(ye.s.c=ye.e.c),g["!fullref"]=g["!ref"],g["!ref"]=Pr(ye))}return G.length>0&&(g["!merges"]=G),q.length>0&&(g["!cols"]=q),Ie.length>0&&(g["!rows"]=Ie),g}function oV(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var l=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(e[+l[1]]=r?+l[2]:l[2])});var i=Kr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function lV(t,e,r,n,i,s){var l=s||{"!type":"chart"};if(!t)return s;var c=0,g=0,d="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(C){var b=oV(C);m.s.r=m.s.c=0,m.e.c=c,d=Ci(c),b[0].forEach(function(N,R){l[d+Xi(R)]={t:"n",v:N,z:b[1]},g=R}),m.e.r<g&&(m.e.r=g),++c}),c>0&&(l["!ref"]=Pr(m)),l}function AV(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},l,c=t.match(h3);return c&&_w(c[0],s,i,r),(l=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=l[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function cV(t,e){t.l+=10;var r=fs(t);return{name:r}}function uV(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},l=!1;return hl(t,function(g,d,m){switch(m){case 550:s["!rel"]=g;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),g.name&&(i.Sheets[r].CodeName=g.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!l||e.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var p3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],fV=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],dV=[],hV=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function UB(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Dn(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function MB(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Dn(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function m3(t){MB(t.WBProps,p3),MB(t.CalcPr,hV),UB(t.WBView,fV),UB(t.Sheets,dV),vu.date1904=Dn(t.WBProps.date1904)}var gV="][*?/\\".split("");function pV(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return gV.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var mV=/<\w+:workbook/;function xV(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},l=0;if(t.replace(hs,function(g,d){var m=ar(g);switch(So(m[0])){case"<?xml":break;case"<workbook":g.match(mV)&&(i="xmlns"+g.match(/<(\w+):/)[1]),r.xmlns=m[i];break;case"</workbook>":break;case"<fileVersion":delete m[0],r.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":p3.forEach(function(C){if(m[C[0]]!=null)switch(C[2]){case"bool":r.WBProps[C[0]]=Dn(m[C[0]]);break;case"int":r.WBProps[C[0]]=parseInt(m[C[0]],10);break;default:r.WBProps[C[0]]=m[C[0]]}}),m.codeName&&(r.WBProps.CodeName=Bn(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],r.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=Kr(Bn(m.name)),delete m[0],r.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Bn(m.name),m.comment&&(s.Comment=m.comment),m.localSheetId&&(s.Sheet=+m.localSheetId),Dn(m.hidden||"0")&&(s.Hidden=!0),l=d+g.length;break;case"</definedName>":s.Ref=Kr(Bn(t.slice(l,d))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete m[0],r.CalcPr=m;break;case"<calcPr/>":delete m[0],r.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return g}),MO.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return m3(r),r}function wV(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=n2(t),r.name=fs(t),r}function vV(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?fs(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function yV(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function CV(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=eL(t),l=sH(t,0,r),c=ww(t);t.l=n;var g={Name:s,Ptg:l};return i<268435455&&(g.Sheet=i),c&&(g.Comment=c),g}function EV(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],l=[[]];return l.SheetNames=[],l.XTI=[],U1[16]={n:"BrtFRTArchID$",f:yV},hl(t,function(g,d,m){switch(m){case 156:l.SheetNames.push(g.name),r.Sheets.push(g);break;case 153:r.WBProps=g;break;case 39:g.Sheet!=null&&(e.SID=g.Sheet),g.Ref=as(g.Ptg,null,null,l,e),delete e.SID,delete g.Ptg,s.push(g);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([m,g]):l[0]=[m,g],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(g),l.XTI=l.XTI.concat(g);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(m),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(m),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!d.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},e),m3(r),r.Names=s,r.supbooks=l,r}function bV(t,e,r){return e.slice(-4)===".bin"?EV(t,r):xV(t,r)}function BV(t,e,r,n,i,s,l,c){return e.slice(-4)===".bin"?aV(t,n,r,i,s,l,c):wH(t,n,r,i,s,l,c)}function _V(t,e,r,n,i,s,l,c){return e.slice(-4)===".bin"?uV(t,n,r,i,s):AV(t,n,r,i,s)}function TV(t,e,r,n,i,s,l,c){return e.slice(-4)===".bin"?UQ():MQ()}function SV(t,e,r,n,i,s,l,c){return e.slice(-4)===".bin"?kQ():DQ()}function IV(t,e,r,n){return e.slice(-4)===".bin"?Y7(t,r,n):G7(t,r,n)}function NV(t,e,r){return n3(t,r)}function FV(t,e,r){return e.slice(-4)===".bin"?f7(t,r):c7(t,r)}function RV(t,e,r){return e.slice(-4)===".bin"?NQ(t,r):BQ(t,r)}function kV(t,e,r){return e.slice(-4)===".bin"?CQ(t):vQ(t)}function DV(t,e,r,n){return r.slice(-4)===".bin"?EQ(t,e,r,n):void 0}function UV(t,e,r){return e.slice(-4)===".bin"?xQ(t,e,r):wQ(t,e,r)}var x3=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,w3=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function qa(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(x3),s,l,c,g;if(i)for(g=0;g!=i.length;++g)s=i[g].match(w3),(l=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(l+1),n[c]=s[2].slice(1,s[2].length-1));return n}function MV(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(x3),i,s,l,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(w3),(s=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(s+1),r[l]=i[2].slice(1,i[2].length-1));return r}var uf;function OV(t,e){var r=uf[t]||Kr(t);return r==="General"?rc(e):Qa(r,e)}function LV(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Dn(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Ri(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Kr(e)]=i}function QV(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||hc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yf(t.v):t.w=rc(t.v):t.w=OV(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=uf[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Uu(n)){var i=XA(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(r.WTF)throw s}}}function PV(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=L7[n.Pattern]||n.Pattern)}t[e.ID]=e}function HV(t,e,r,n,i,s,l,c,g,d){var m="General",C=n.StyleID,b={};d=d||{};var N=[],R=0;for(C===void 0&&c&&(C=c.StyleID),C===void 0&&l&&(C=l.StyleID);s[C]!==void 0&&(s[C].nf&&(m=s[C].nf),s[C].Interior&&N.push(s[C].Interior),!!s[C].Parent);)C=s[C].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Dn(t);break;case"String":n.t="s",n.r=iB(Kr(t)),n.v=t.indexOf("<")>-1?Kr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Ri(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Kr(t):n.v<60&&(n.v=n.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=UI[t],d.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=iB(e||t));break}if(QV(n,m,d),d.cellFormula!==!1)if(n.Formula){var k=Kr(n.Formula);k.charCodeAt(0)==61&&(k=k.slice(1)),n.f=wu(k,i),delete n.Formula,n.ArrayRange=="RC"?n.F=wu("RC:RC",i):n.ArrayRange&&(n.F=wu(n.ArrayRange,i),g.push([Yn(n.F),n.F]))}else for(R=0;R<g.length;++R)i.r>=g[R][0].s.r&&i.r<=g[R][0].e.r&&i.c>=g[R][0].s.c&&i.c<=g[R][0].e.c&&(n.F=g[R][1]);d.cellStyles&&(N.forEach(function(U){!b.patternType&&U.patternType&&(b.patternType=U.patternType)}),n.s=b),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function VV(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function fx(t,e){var r=e||{};oI();var n=H0(hw(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Bn(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var l=Wi(r);return l.type="string",bf.to_workbook(n,l)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Dt){i.indexOf("<"+Dt)>=0&&(s=!0)}),s)return JV(n,r);uf={"General Number":"General","General Date":Cr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Cr[15],"Short Date":Cr[14],"Long Time":Cr[19],"Medium Time":Cr[18],"Short Time":Cr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Cr[2],Standard:Cr[4],Percent:Cr[10],Scientific:Cr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,g=[],d,m={},C=[],b=r.dense?[]:{},N="",R={},k={},U=qa('<Data ss:Type="String">'),j=0,K=0,Q=0,J={s:{r:2e6,c:2e6},e:{r:0,c:0}},re={},G={},M="",P=0,O=[],ee={},te={},W=0,q=[],Ie=[],xe={},ge=[],ye,We=!1,Ee=[],et=[],ne={},X=0,ue=0,oe={Sheets:[],WBProps:{date1904:!1}},ce={};Ef.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var be="";c=Ef.exec(n);)switch(c[3]=(be=c[3]).toLowerCase()){case"data":if(be=="data"){if(c[1]==="/"){if((d=g.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&g.push([c[3],!0]);break}if(g[g.length-1][1])break;c[1]==="/"?HV(n.slice(j,c.index),M,U,g[g.length-1][0]=="comment"?xe:R,{c:K,r:Q},re,ge[K],k,Ee,r):(M="",U=qa(c[0]),j=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(Ie.length>0&&(R.c=Ie),(!r.sheetRows||r.sheetRows>Q)&&R.v!==void 0&&(r.dense?(b[Q]||(b[Q]=[]),b[Q][K]=R):b[Ci(K)+Xi(Q)]=R),R.HRef&&(R.l={Target:Kr(R.HRef)},R.HRefScreenTip&&(R.l.Tooltip=R.HRefScreenTip),delete R.HRef,delete R.HRefScreenTip),(R.MergeAcross||R.MergeDown)&&(X=K+(parseInt(R.MergeAcross,10)|0),ue=Q+(parseInt(R.MergeDown,10)|0),O.push({s:{c:K,r:Q},e:{c:X,r:ue}})),!r.sheetStubs)R.MergeAcross?K=X+1:++K;else if(R.MergeAcross||R.MergeDown){for(var Je=K;Je<=X;++Je)for(var ke=Q;ke<=ue;++ke)(Je>K||ke>Q)&&(r.dense?(b[ke]||(b[ke]=[]),b[ke][Je]={t:"z"}):b[Ci(Je)+Xi(ke)]={t:"z"});K=X+1}else++K;else R=MV(c[0]),R.Index&&(K=+R.Index-1),K<J.s.c&&(J.s.c=K),K>J.e.c&&(J.e.c=K),c[0].slice(-2)==="/>"&&++K,Ie=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(Q<J.s.r&&(J.s.r=Q),Q>J.e.r&&(J.e.r=Q),c[0].slice(-2)==="/>"&&(k=qa(c[0]),k.Index&&(Q=+k.Index-1)),K=0,++Q):(k=qa(c[0]),k.Index&&(Q=+k.Index-1),ne={},(k.AutoFitHeight=="0"||k.Height)&&(ne.hpx=parseInt(k.Height,10),ne.hpt=r3(ne.hpx),et[Q]=ne),k.Hidden=="1"&&(ne.hidden=!0,et[Q]=ne));break;case"worksheet":if(c[1]==="/"){if((d=g.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));C.push(N),J.s.r<=J.e.r&&J.s.c<=J.e.c&&(b["!ref"]=Pr(J),r.sheetRows&&r.sheetRows<=J.e.r&&(b["!fullref"]=b["!ref"],J.e.r=r.sheetRows-1,b["!ref"]=Pr(J))),O.length&&(b["!merges"]=O),ge.length>0&&(b["!cols"]=ge),et.length>0&&(b["!rows"]=et),m[N]=b}else J={s:{r:2e6,c:2e6},e:{r:0,c:0}},Q=K=0,g.push([c[3],!1]),d=qa(c[0]),N=Kr(d.Name),b=r.dense?[]:{},O=[],Ee=[],et=[],ce={name:N,Hidden:0},oe.Sheets.push(ce);break;case"table":if(c[1]==="/"){if((d=g.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;g.push([c[3],!1]),ge=[],We=!1}break;case"style":c[1]==="/"?PV(re,G,r):G=qa(c[0]);break;case"numberformat":G.nf=Kr(qa(c[0]).Format||"General"),uf[G.nf]&&(G.nf=uf[G.nf]);for(var He=0;He!=392&&Cr[He]!=G.nf;++He);if(He==392){for(He=57;He!=392;++He)if(Cr[He]==null){$A(G.nf,He);break}}break;case"column":if(g[g.length-1][0]!=="table")break;if(ye=qa(c[0]),ye.Hidden&&(ye.hidden=!0,delete ye.Hidden),ye.Width&&(ye.wpx=parseInt(ye.Width,10)),!We&&ye.wpx>10){We=!0,bs=e3;for(var Te=0;Te<ge.length;++Te)ge[Te]&&_u(ge[Te])}We&&_u(ye),ge[ye.Index-1||ge.length]=ye;for(var pt=0;pt<+ye.Span;++pt)ge[ge.length]=Wi(ye);break;case"namedrange":if(c[1]==="/")break;oe.Names||(oe.Names=[]);var se=ar(c[0]),Xe={Name:se.Name,Ref:wu(se.RefersTo.slice(1),{r:0,c:0})};oe.Sheets.length>0&&(Xe.Sheet=oe.Sheets.length-1),oe.Names.push(Xe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?M+=n.slice(P,c.index):P=c.index+c[0].length;break;case"interior":if(!r.cellStyles)break;G.Interior=qa(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?BL(ee,be,n.slice(W,c.index)):W=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=g.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else g.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=g.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));VV(xe),Ie.push(xe)}else g.push([c[3],!1]),d=qa(c[0]),xe={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=g.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var vt=qa(c[0]);b["!autofilter"]={ref:wu(vt.Range).replace(/\$/g,"")},g.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=g.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&g.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=g.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&g.push([c[3],!0]);break;case"null":break;default:if(g.length==0&&c[3]=="document"||g.length==0&&c[3]=="uof")return VB(n,r);var Ft=!0;switch(g[g.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ft=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ft=!1}break;case"excelworkbook":switch(c[3]){case"date1904":oe.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ft=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Ft=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(n.slice(W,c.index)){case"SheetHidden":ce.Hidden=1;break;case"SheetVeryHidden":ce.Hidden=2;break}else W=c.index+c[0].length;break;case"header":b["!margins"]||cf(b["!margins"]={},"xlml"),isNaN(+ar(c[0]).Margin)||(b["!margins"].header=+ar(c[0]).Margin);break;case"footer":b["!margins"]||cf(b["!margins"]={},"xlml"),isNaN(+ar(c[0]).Margin)||(b["!margins"].footer=+ar(c[0]).Margin);break;case"pagemargins":var At=ar(c[0]);b["!margins"]||cf(b["!margins"]={},"xlml"),isNaN(+At.Top)||(b["!margins"].top=+At.Top),isNaN(+At.Left)||(b["!margins"].left=+At.Left),isNaN(+At.Right)||(b["!margins"].right=+At.Right),isNaN(+At.Bottom)||(b["!margins"].bottom=+At.Bottom);break;case"displayrighttoleft":oe.Views||(oe.Views=[]),oe.Views[0]||(oe.Views[0]={}),oe.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":b["!outline"]||(b["!outline"]={}),b["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":b["!outline"]||(b["!outline"]={}),b["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ft=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ft=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ft=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ft=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ft=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ft=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ft=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ft=!1}break;case"smarttags":break;default:Ft=!1;break}if(Ft||c[3].match(/!\[CDATA/))break;if(!g[g.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+g.join("|");if(g[g.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?LV(te,be,q,n.slice(W,c.index)):(q=c,W=c.index+c[0].length);break}if(r.WTF)throw"Unrecognized tag: "+c[3]+"|"+g.join("|")}var ot={};return!r.bookSheets&&!r.bookProps&&(ot.Sheets=m),ot.SheetNames=C,ot.Workbook=oe,ot.SSF=Wi(Cr),ot.Props=ee,ot.Custprops=te,ot}function o2(t,e){switch(Iw(e=e||{}),e.type||"base64"){case"base64":return fx(ma(t),e);case"binary":case"buffer":case"file":return fx(t,e);case"array":return fx(uc(t),e)}}function jV(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=nL(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=iL(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var GV=[60,1084,2066,2165,2175];function KV(t,e,r,n,i){var s=n,l=[],c=r.slice(r.l,r.l+s);if(i&&i.enc&&i.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(c)}l.push(c),r.l+=s;for(var g=nl(r,r.l),d=l2[g],m=0;d!=null&&GV.indexOf(g)>-1;)s=nl(r,r.l+2),m=r.l+4,g==2066?m+=4:(g==2165||g==2175)&&(m+=12),c=r.slice(m,r.l+4+s),l.push(c),r.l+=4+s,d=l2[g=nl(r,r.l)];var C=Xl(l);Gi(C,0);var b=0;C.lens=[];for(var N=0;N<l.length;++N)C.lens.push(b),b+=l[N].length;if(C.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+C.length+" < "+n;return e.f(C,C.length,i)}function wo(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Cr[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||hc[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yf(t.v):t.w=rc(t.v):t.w=Qa(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&Uu(Cr[n]||String(n))){var i=XA(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Lh(t,e,r){return{v:t,ixfe:e,t:r}}function zV(t,e){var r={opts:{}},n={},i=e.dense?[]:{},s={},l={},c=null,g=[],d="",m={},C,b="",N,R,k,U,j={},K=[],Q,J,re=[],G=[],M={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},O=function(bt){return bt<8?ec[bt]:bt<64&&G[bt-8]||ec[bt]},ee=function(bt,Wt,Er){var Gt=Wt.XF.data;if(!(!Gt||!Gt.patternType||!Er||!Er.cellStyles)){Wt.s={},Wt.s.patternType=Gt.patternType;var Ne;(Ne=Bf(O(Gt.icvFore)))&&(Wt.s.fgColor={rgb:Ne}),(Ne=Bf(O(Gt.icvBack)))&&(Wt.s.bgColor={rgb:Ne})}},te=function(bt,Wt,Er){if(!(ne>1)&&!(Er.sheetRows&&bt.r>=Er.sheetRows)){if(Er.cellStyles&&Wt.XF&&Wt.XF.data&&ee(bt,Wt,Er),delete Wt.ixfe,delete Wt.XF,C=bt,b=gr(bt),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),bt.r<l.s.r&&(l.s.r=bt.r),bt.c<l.s.c&&(l.s.c=bt.c),bt.r+1>l.e.r&&(l.e.r=bt.r+1),bt.c+1>l.e.c&&(l.e.c=bt.c+1),Er.cellFormula&&Wt.f){for(var Gt=0;Gt<K.length;++Gt)if(!(K[Gt][0].s.c>bt.c||K[Gt][0].s.r>bt.r)&&!(K[Gt][0].e.c<bt.c||K[Gt][0].e.r<bt.r)){Wt.F=Pr(K[Gt][0]),(K[Gt][0].s.c!=bt.c||K[Gt][0].s.r!=bt.r)&&delete Wt.f,Wt.f&&(Wt.f=""+as(K[Gt][1],l,bt,Ee,W));break}}Er.dense?(i[bt.r]||(i[bt.r]=[]),i[bt.r][bt.c]=Wt):i[b]=Wt}},W={enc:!1,sbcch:0,snames:[],sharedf:j,arrayf:K,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(W.password=e.password);var q,Ie=[],xe=[],ge=[],ye=[],We=!1,Ee=[];Ee.SheetNames=W.snames,Ee.sharedf=W.sharedf,Ee.arrayf=W.arrayf,Ee.names=[],Ee.XTI=[];var et=0,ne=0,X=0,ue=[],oe=[],ce;W.codepage=1200,to(1200);for(var be=!1;t.l<t.length-1;){var Je=t.l,ke=t.read_shift(2);if(ke===0&&et===10)break;var He=t.l===t.length?0:t.read_shift(2),Te=l2[ke];if(Te&&Te.f){if(e.bookSheets&&et===133&&ke!==133)break;if(et=ke,Te.r===2||Te.r==12){var pt=t.read_shift(2);if(He-=2,!W.enc&&pt!==ke&&((pt&255)<<8|pt>>8)!==ke)throw new Error("rt mismatch: "+pt+"!="+ke);Te.r==12&&(t.l+=10,He-=10)}var se={};if(ke===10?se=Te.f(t,He,W):se=KV(ke,Te,t,He,W),ne==0&&[9,521,1033,2057].indexOf(et)===-1)continue;switch(ke){case 34:r.opts.Date1904=M.WBProps.date1904=se;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(W.enc||(t.l=0),W.enc=se,!e.password)throw new Error("File is password-protected");if(se.valid==null)throw new Error("Encryption scheme unsupported");if(!se.valid)throw new Error("Password is incorrect");break;case 92:W.lastuser=se;break;case 66:var Xe=Number(se);switch(Xe){case 21010:Xe=1200;break;case 32768:Xe=1e4;break;case 32769:Xe=1252;break}to(W.codepage=Xe),be=!0;break;case 317:W.rrtabid=se;break;case 25:W.winlocked=se;break;case 439:r.opts.RefreshAll=se;break;case 12:r.opts.CalcCount=se;break;case 16:r.opts.CalcDelta=se;break;case 17:r.opts.CalcIter=se;break;case 13:r.opts.CalcMode=se;break;case 14:r.opts.CalcPrecision=se;break;case 95:r.opts.CalcSaveRecalc=se;break;case 15:W.CalcRefMode=se;break;case 2211:r.opts.FullCalc=se;break;case 129:se.fDialog&&(i["!type"]="dialog"),se.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),se.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:re.push(se);break;case 430:Ee.push([se]),Ee[Ee.length-1].XTI=[];break;case 35:case 547:Ee[Ee.length-1].push(se);break;case 24:case 536:ce={Name:se.Name,Ref:as(se.rgce,l,null,Ee,W)},se.itab>0&&(ce.Sheet=se.itab-1),Ee.names.push(ce),Ee[0]||(Ee[0]=[],Ee[0].XTI=[]),Ee[Ee.length-1].push(se),se.Name=="_xlnm._FilterDatabase"&&se.itab>0&&se.rgce&&se.rgce[0]&&se.rgce[0][0]&&se.rgce[0][0][0]=="PtgArea3d"&&(oe[se.itab-1]={ref:Pr(se.rgce[0][0][1][2])});break;case 22:W.ExternCount=se;break;case 23:Ee.length==0&&(Ee[0]=[],Ee[0].XTI=[]),Ee[Ee.length-1].XTI=Ee[Ee.length-1].XTI.concat(se),Ee.XTI=Ee.XTI.concat(se);break;case 2196:if(W.biff<8)break;ce!=null&&(ce.Comment=se[1]);break;case 18:i["!protect"]=se;break;case 19:se!==0&&W.WTF&&console.error("Password verifier: "+se);break;case 133:s[se.pos]=se,W.snames.push(se.name);break;case 10:{if(--ne)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,i["!ref"]=Pr(l),e.sheetRows&&e.sheetRows<=l.e.r){var vt=l.e.r;l.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Pr(l),l.e.r=vt}l.e.r++,l.e.c++}Ie.length>0&&(i["!merges"]=Ie),xe.length>0&&(i["!objects"]=xe),ge.length>0&&(i["!cols"]=ge),ye.length>0&&(i["!rows"]=ye),M.Sheets.push(P)}d===""?m=i:n[d]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(W.biff===8&&(W.biff={9:2,521:3,1033:4}[ke]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[se.BIFFVer]||8),W.biffguess=se.BIFFVer==0,se.BIFFVer==0&&se.dt==4096&&(W.biff=5,be=!0,to(W.codepage=28591)),W.biff==8&&se.BIFFVer==0&&se.dt==16&&(W.biff=2),ne++)break;if(i=e.dense?[]:{},W.biff<8&&!be&&(be=!0,to(W.codepage=e.codepage||1252)),W.biff<5||se.BIFFVer==0&&se.dt==4096){d===""&&(d="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var Ft={pos:t.l-He,name:d};s[Ft.pos]=Ft,W.snames.push(d)}else d=(s[Je]||{name:""}).name;se.dt==32&&(i["!type"]="chart"),se.dt==64&&(i["!type"]="macro"),Ie=[],xe=[],W.arrayf=K=[],ge=[],ye=[],We=!1,P={Hidden:(s[Je]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[se.r]||[])[se.c]:i[gr({c:se.c,r:se.r})])&&++se.c,Q={ixfe:se.ixfe,XF:re[se.ixfe]||{},v:se.val,t:"n"},X>0&&(Q.z=ue[Q.ixfe>>8&63]),wo(Q,e,r.opts.Date1904),te({c:se.c,r:se.r},Q,e);break;case 5:case 517:Q={ixfe:se.ixfe,XF:re[se.ixfe],v:se.val,t:se.t},X>0&&(Q.z=ue[Q.ixfe>>8&63]),wo(Q,e,r.opts.Date1904),te({c:se.c,r:se.r},Q,e);break;case 638:Q={ixfe:se.ixfe,XF:re[se.ixfe],v:se.rknum,t:"n"},X>0&&(Q.z=ue[Q.ixfe>>8&63]),wo(Q,e,r.opts.Date1904),te({c:se.c,r:se.r},Q,e);break;case 189:for(var At=se.c;At<=se.C;++At){var ot=se.rkrec[At-se.c][0];Q={ixfe:ot,XF:re[ot],v:se.rkrec[At-se.c][1],t:"n"},X>0&&(Q.z=ue[Q.ixfe>>8&63]),wo(Q,e,r.opts.Date1904),te({c:At,r:se.r},Q,e)}break;case 6:case 518:case 1030:{if(se.val=="String"){c=se;break}if(Q=Lh(se.val,se.cell.ixfe,se.tt),Q.XF=re[Q.ixfe],e.cellFormula){var Dt=se.formula;if(Dt&&Dt[0]&&Dt[0][0]&&Dt[0][0][0]=="PtgExp"){var Nt=Dt[0][0][1][0],wr=Dt[0][0][1][1],Tt=gr({r:Nt,c:wr});j[Tt]?Q.f=""+as(se.formula,l,se.cell,Ee,W):Q.F=((e.dense?(i[Nt]||[])[wr]:i[Tt])||{}).F}else Q.f=""+as(se.formula,l,se.cell,Ee,W)}X>0&&(Q.z=ue[Q.ixfe>>8&63]),wo(Q,e,r.opts.Date1904),te(se.cell,Q,e),c=se}break;case 7:case 519:if(c)c.val=se,Q=Lh(se,c.cell.ixfe,"s"),Q.XF=re[Q.ixfe],e.cellFormula&&(Q.f=""+as(c.formula,l,c.cell,Ee,W)),X>0&&(Q.z=ue[Q.ixfe>>8&63]),wo(Q,e,r.opts.Date1904),te(c.cell,Q,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{K.push(se);var un=gr(se[0].s);if(N=e.dense?(i[se[0].s.r]||[])[se[0].s.c]:i[un],e.cellFormula&&N){if(!c||!un||!N)break;N.f=""+as(se[1],l,se[0],Ee,W),N.F=Pr(se[0])}}break;case 1212:{if(!e.cellFormula)break;if(b){if(!c)break;j[gr(c.cell)]=se[0],N=e.dense?(i[c.cell.r]||[])[c.cell.c]:i[gr(c.cell)],(N||{}).f=""+as(se[0],l,C,Ee,W)}}break;case 253:Q=Lh(g[se.isst].t,se.ixfe,"s"),g[se.isst].h&&(Q.h=g[se.isst].h),Q.XF=re[Q.ixfe],X>0&&(Q.z=ue[Q.ixfe>>8&63]),wo(Q,e,r.opts.Date1904),te({c:se.c,r:se.r},Q,e);break;case 513:e.sheetStubs&&(Q={ixfe:se.ixfe,XF:re[se.ixfe],t:"z"},X>0&&(Q.z=ue[Q.ixfe>>8&63]),wo(Q,e,r.opts.Date1904),te({c:se.c,r:se.r},Q,e));break;case 190:if(e.sheetStubs)for(var nn=se.c;nn<=se.C;++nn){var Pe=se.ixfe[nn-se.c];Q={ixfe:Pe,XF:re[Pe],t:"z"},X>0&&(Q.z=ue[Q.ixfe>>8&63]),wo(Q,e,r.opts.Date1904),te({c:nn,r:se.r},Q,e)}break;case 214:case 516:case 4:Q=Lh(se.val,se.ixfe,"s"),Q.XF=re[Q.ixfe],X>0&&(Q.z=ue[Q.ixfe>>8&63]),wo(Q,e,r.opts.Date1904),te({c:se.c,r:se.r},Q,e);break;case 0:case 512:ne===1&&(l=se);break;case 252:g=se;break;case 1054:if(W.biff==4){ue[X++]=se[1];for(var Le=0;Le<X+163&&Cr[Le]!=se[1];++Le);Le>=163&&$A(se[1],X+163)}else $A(se[1],se[0]);break;case 30:{ue[X++]=se;for(var lt=0;lt<X+163&&Cr[lt]!=se;++lt);lt>=163&&$A(se,X+163)}break;case 229:Ie=Ie.concat(se);break;case 93:xe[se.cmo[0]]=W.lastobj=se;break;case 438:W.lastobj.TxO=se;break;case 127:W.lastobj.ImData=se;break;case 440:for(U=se[0].s.r;U<=se[0].e.r;++U)for(k=se[0].s.c;k<=se[0].e.c;++k)N=e.dense?(i[U]||[])[k]:i[gr({c:k,r:U})],N&&(N.l=se[1]);break;case 2048:for(U=se[0].s.r;U<=se[0].e.r;++U)for(k=se[0].s.c;k<=se[0].e.c;++k)N=e.dense?(i[U]||[])[k]:i[gr({c:k,r:U})],N&&N.l&&(N.l.Tooltip=se[1]);break;case 28:{if(W.biff<=5&&W.biff>=2)break;N=e.dense?(i[se[0].r]||[])[se[0].c]:i[gr(se[0])];var kt=xe[se[2]];N||(e.dense?(i[se[0].r]||(i[se[0].r]=[]),N=i[se[0].r][se[0].c]={t:"z"}):N=i[gr(se[0])]={t:"z"},l.e.r=Math.max(l.e.r,se[0].r),l.s.r=Math.min(l.s.r,se[0].r),l.e.c=Math.max(l.e.c,se[0].c),l.s.c=Math.min(l.s.c,se[0].c)),N.c||(N.c=[]),R={a:se[1],t:kt.TxO.t},N.c.push(R)}break;case 2173:hQ(re[se.ixfe],se.ext);break;case 125:{if(!W.cellStyles)break;for(;se.e>=se.s;)ge[se.e--]={width:se.w/256,level:se.level||0,hidden:!!(se.flags&1)},We||(We=!0,bw(se.w/256)),_u(ge[se.e+1])}break;case 520:{var tr={};se.level!=null&&(ye[se.r]=tr,tr.level=se.level),se.hidden&&(ye[se.r]=tr,tr.hidden=!0),se.hpt&&(ye[se.r]=tr,tr.hpt=se.hpt,tr.hpx=_f(se.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||cf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ke]]=se;break;case 161:i["!margins"]||cf(i["!margins"]={}),i["!margins"].header=se.header,i["!margins"].footer=se.footer;break;case 574:se.RTL&&(M.Views[0].RTL=!0);break;case 146:G=se;break;case 2198:q=se;break;case 140:J=se;break;case 442:d?P.CodeName=se||P.name:M.WBProps.CodeName=se||"ThisWorkbook";break}}else Te||console.error("Missing Info for XLS Record 0x"+ke.toString(16)),t.l+=He}return r.SheetNames=bo(s).sort(function(st,bt){return Number(st)-Number(bt)}).map(function(st){return s[st].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&m["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=m)):r.Preamble=m,r.Sheets&&oe.forEach(function(st,bt){r.Sheets[r.SheetNames[bt]]["!autofilter"]=st}),r.Strings=g,r.SSF=Wi(Cr),W.enc&&(r.Encryption=W.enc),q&&(r.Themes=q),r.Metadata={},J!==void 0&&(r.Metadata.Country=J),Ee.names.length>0&&(M.Names=Ee.names),r.Workbook=M,r}var OB={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function WV(t,e,r){var n=Qr.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=vB(n,cL,OB.DSI);for(var s in i)e[s]=i[s]}catch(d){if(r.WTF)throw d}var l=Qr.find(t,"/!SummaryInformation");if(l&&l.size>0)try{var c=vB(l,uL,OB.SI);for(var g in c)e[g]==null&&(e[g]=c[g])}catch(d){if(r.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(OI(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function v3(t,e){e||(e={}),Iw(e),qS(),e.codepage&&ow(e.codepage);var r,n;if(t.FullPaths){if(Qr.find(t,"/encryption"))throw new Error("File is password-protected");r=Qr.find(t,"!CompObj"),n=Qr.find(t,"/Workbook")||Qr.find(t,"/Book")}else{switch(e.type){case"base64":t=eo(ma(t));break;case"binary":t=eo(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Gi(t,0),n={content:t}}var i,s;if(r&&jV(r),e.bookProps&&!e.bookSheets)i={};else{var l=Mr?"buffer":"array";if(n&&n.content)i=zV(n.content,e);else if((s=Qr.find(t,"PerfectOffice_MAIN"))&&s.content)i=lf.to_workbook(s.content,(e.type=l,e));else if((s=Qr.find(t,"NativeContent_MAIN"))&&s.content)i=lf.to_workbook(s.content,(e.type=l,e));else throw(s=Qr.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Qr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=RQ(t))}var c={};return t.FullPaths&&WV(t,c,e),i.Props=i.Custprops=c,e.bookFiles&&(i.cfb=t),i}var U1={0:{f:SH},1:{f:RH},2:{f:HH},3:{f:MH},4:{f:DH},5:{f:PH},6:{f:GH},7:{f:LH},8:{f:qH},9:{f:XH},10:{f:zH},11:{f:WH},12:{f:kH},13:{f:VH},14:{f:OH},15:{f:UH},16:{f:g3},17:{f:KH},18:{f:QH},19:{f:xw},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:CV},40:{},42:{},43:{f:z7},44:{f:K7},45:{f:W7},46:{f:q7},47:{f:X7},48:{},49:{f:YO},50:{},51:{f:pQ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:qI},62:{f:jH},63:{f:yQ},64:{f:iV},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ds,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:nV},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:FH},148:{f:IH,p:16},151:{f:ZH},152:{},153:{f:vV},154:{},155:{},156:{f:wV},157:{},158:{},159:{T:1,f:u7},160:{T:-1},161:{T:1,f:dc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:YH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:gQ},336:{T:-1},337:{f:mQ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:n2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:XI},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$H},427:{f:eV},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:rV},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:NH},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:JH},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:n2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:IQ},633:{T:1},634:{T:-1},635:{T:1,f:SQ},636:{T:-1},637:{f:ZO},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:cV},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:sV},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},l2={6:{f:cx},10:{f:jl},12:{f:hi},13:{f:hi},14:{f:ni},15:{f:ni},16:{f:ls},17:{f:ni},18:{f:ni},19:{f:hi},20:{f:bB},21:{f:bB},23:{f:XI},24:{f:_B},25:{f:ni},26:{},27:{},28:{f:_9},29:{},34:{f:ni},35:{f:BB},38:{f:ls},39:{f:ls},40:{f:ls},41:{f:ls},42:{f:ni},43:{f:ni},47:{f:N7},49:{f:o9},51:{f:hi},60:{},61:{f:i9},64:{f:ni},65:{f:a9},66:{f:hi},77:{},80:{},81:{},82:{},85:{f:hi},89:{},90:{},91:{},92:{f:YL},93:{f:S9},94:{},95:{f:ni},96:{},97:{},99:{f:ni},125:{f:qI},128:{f:m9},129:{f:JL},130:{f:hi},131:{f:ni},132:{f:ni},133:{f:ZL},134:{},140:{f:D9},141:{f:hi},144:{},146:{f:M9},151:{},152:{},153:{},154:{},155:{},156:{f:hi},157:{},158:{},160:{f:H9},161:{f:L9},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:d9},190:{f:h9},193:{f:jl},197:{},198:{},199:{},200:{},201:{},202:{f:ni},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:hi},220:{},221:{f:ni},222:{},224:{f:p9},225:{f:qL},226:{f:jl},227:{},229:{f:T9},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:$L},253:{f:l9},255:{f:e9},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:VI},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ni},353:{f:jl},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:w9},431:{f:ni},432:{},433:{},434:{},437:{},438:{f:F9},439:{f:ni},440:{f:R9},441:{},442:{f:Hf},443:{},444:{f:hi},445:{},446:{},448:{f:jl},449:{f:n9,r:2},450:{f:jl},512:{f:CB},513:{f:P9},515:{f:x9},516:{f:A9},517:{f:EB},519:{f:V9},520:{f:t9},523:{},545:{f:TB},549:{f:yB},566:{},574:{f:s9},638:{f:f9},659:{},1048:{},1054:{f:c9},1084:{},1212:{f:E9},2048:{f:k9},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Uh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:jl},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:O9,r:12},2173:{f:dQ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ni,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:C9,r:12},2197:{},2198:{f:oQ,r:12},2199:{},2200:{},2201:{},2202:{f:b9,r:12},2203:{f:jl},2204:{},2205:{},2206:{},2207:{},2211:{f:r9},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:hi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Q9},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:U9},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:CB},1:{},2:{f:z9},3:{f:K9},4:{f:G9},5:{f:EB},7:{f:W9},8:{},9:{f:Uh},11:{},22:{f:hi},30:{f:u9},31:{},32:{},33:{f:TB},36:{},37:{f:yB},50:{f:X9},62:{},52:{},67:{},68:{f:hi},69:{},86:{},126:{},127:{f:j9},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:q9},223:{},234:{},354:{},421:{},518:{f:cx},521:{f:Uh},536:{f:_B},547:{f:BB},561:{},579:{},1030:{f:cx},1033:{f:Uh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ya(t,e,r,n){var i=e;if(!isNaN(i)){var s=(r||[]).length||0,l=t.next(4);l.write_shift(2,i),l.write_shift(2,s),s>0&&II(r)&&t.push(r)}}function LB(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),l=i.index,c=s&&s.index||t.length,g=xO(t.slice(l,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,m=0,C=0,b=0,N={s:{r:1e7,c:1e7},e:{r:0,c:0}},R=[];for(l=0;l<g.length;++l){var k=g[l].trim(),U=k.slice(0,3).toLowerCase();if(U=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}m=0;continue}if(!(U!="<td"&&U!="<th")){var j=k.split(/<\/t[dh]>/i);for(c=0;c<j.length;++c){var K=j[c].trim();if(K.match(/<t[dh]/i)){for(var Q=K,J=0;Q.charAt(0)=="<"&&(J=Q.indexOf(">"))>-1;)Q=Q.slice(J+1);for(var re=0;re<R.length;++re){var G=R[re];G.s.c==m&&G.s.r<d&&d<=G.e.r&&(m=G.e.c+1,re=-1)}var M=ar(K.slice(0,K.indexOf(">")));b=M.colspan?+M.colspan:1,((C=+M.rowspan)>1||b>1)&&R.push({s:{r:d,c:m},e:{r:d+(C||1)-1,c:m+b-1}});var P=M.t||M["data-t"]||"";if(!Q.length){m+=b;continue}if(Q=pI(Q),N.s.r>d&&(N.s.r=d),N.e.r<d&&(N.e.r=d),N.s.c>m&&(N.s.c=m),N.e.c<m&&(N.e.c=m),!Q.length){m+=b;continue}var O={t:"s",v:Q};r.raw||!Q.trim().length||P=="s"||(Q==="TRUE"?O={t:"b",v:!0}:Q==="FALSE"?O={t:"b",v:!1}:isNaN(no(Q))?isNaN(Bu(Q).getDate())||(O={t:"d",v:Ri(Q)},r.cellDates||(O={t:"n",v:Ss(O.v)}),O.z=r.dateNF||Cr[14]):O={t:"n",v:no(Q)}),r.dense?(n[d]||(n[d]=[]),n[d][m]=O):n[gr({r:d,c:m})]=O,m+=b}}}}return n["!ref"]=Pr(N),R.length&&(n["!merges"]=R),n}function XV(t,e,r,n){for(var i=t["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,g=0,d=0;d<i.length;++d)if(!(i[d].s.r>r||i[d].s.c>l)&&!(i[d].e.r<r||i[d].e.c<l)){if(i[d].s.r<r||i[d].s.c<l){c=-1;break}c=i[d].e.r-i[d].s.r+1,g=i[d].e.c-i[d].s.c+1;break}if(!(c<0)){var m=gr({r,c:l}),C=n.dense?(t[r]||[])[l]:t[m],b=C&&C.v!=null&&(C.h||dw(C.w||(ll(C),C.w)||""))||"",N={};c>1&&(N.rowspan=c),g>1&&(N.colspan=g),n.editable?b='<span contenteditable="true">'+b+"</span>":C&&(N["data-t"]=C&&C.t||"z",C.v!=null&&(N["data-v"]=C.v),C.z!=null&&(N["data-z"]=C.z),C.l&&(C.l.Target||"#").charAt(0)!="#"&&(b='<a href="'+C.l.Target+'">'+b+"</a>")),N.id=(n.id||"sjs")+"-"+m,s.push(DO("td",b,N))}}var R="<tr>";return R+s.join("")+"</tr>"}var qV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',YV="</body></html>";function JV(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return mA(LB(r[0],e),e);var n=Fw();return r.forEach(function(i,s){Rw(n,LB(i,e),"Sheet"+(s+1))}),n}function ZV(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function $V(t,e){var r=e||{},n=r.header!=null?r.header:qV,i=r.footer!=null?r.footer:YV,s=[n],l=Mu(t["!ref"]);r.dense=Array.isArray(t),s.push(ZV(t,l,r));for(var c=l.s.r;c<=l.e.r;++c)s.push(XV(t,l,c,r));return s.push("</table>"+i),s.join("")}function y3(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Bs(n.origin):n.origin;i=l.r,s=l.c}var c=e.getElementsByTagName("tr"),g=Math.min(n.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var m=Mu(t["!ref"]);d.s.r=Math.min(d.s.r,m.s.r),d.s.c=Math.min(d.s.c,m.s.c),d.e.r=Math.max(d.e.r,m.e.r),d.e.c=Math.max(d.e.c,m.e.c),i==-1&&(d.e.r=i=m.e.r+1)}var C=[],b=0,N=t["!rows"]||(t["!rows"]=[]),R=0,k=0,U=0,j=0,K=0,Q=0;for(t["!cols"]||(t["!cols"]=[]);R<c.length&&k<g;++R){var J=c[R];if(QB(J)){if(n.display)continue;N[k]={hidden:!0}}var re=J.children;for(U=j=0;U<re.length;++U){var G=re[U];if(!(n.display&&QB(G))){var M=G.hasAttribute("data-v")?G.getAttribute("data-v"):G.hasAttribute("v")?G.getAttribute("v"):pI(G.innerHTML),P=G.getAttribute("data-z")||G.getAttribute("z");for(b=0;b<C.length;++b){var O=C[b];O.s.c==j+s&&O.s.r<k+i&&k+i<=O.e.r&&(j=O.e.c+1-s,b=-1)}Q=+G.getAttribute("colspan")||1,((K=+G.getAttribute("rowspan")||1)>1||Q>1)&&C.push({s:{r:k+i,c:j+s},e:{r:k+i+(K||1)-1,c:j+s+(Q||1)-1}});var ee={t:"s",v:M},te=G.getAttribute("data-t")||G.getAttribute("t")||"";M!=null&&(M.length==0?ee.t=te||"z":n.raw||M.trim().length==0||te=="s"||(M==="TRUE"?ee={t:"b",v:!0}:M==="FALSE"?ee={t:"b",v:!1}:isNaN(no(M))?isNaN(Bu(M).getDate())||(ee={t:"d",v:Ri(M)},n.cellDates||(ee={t:"n",v:Ss(ee.v)}),ee.z=n.dateNF||Cr[14]):ee={t:"n",v:no(M)})),ee.z===void 0&&P!=null&&(ee.z=P);var W="",q=G.getElementsByTagName("A");if(q&&q.length)for(var Ie=0;Ie<q.length&&!(q[Ie].hasAttribute("href")&&(W=q[Ie].getAttribute("href"),W.charAt(0)!="#"));++Ie);W&&W.charAt(0)!="#"&&(ee.l={Target:W}),n.dense?(t[k+i]||(t[k+i]=[]),t[k+i][j+s]=ee):t[gr({c:j+s,r:k+i})]=ee,d.e.c<j+s&&(d.e.c=j+s),j+=Q}}++k}return C.length&&(t["!merges"]=(t["!merges"]||[]).concat(C)),d.e.r=Math.max(d.e.r,k-1+i),t["!ref"]=Pr(d),k>=g&&(t["!fullref"]=Pr((d.e.r=c.length-R+k-1+i,d))),t}function C3(t,e){var r=e||{},n=r.dense?[]:{};return y3(n,t,e)}function ej(t,e){return mA(C3(t,e),e)}function QB(t){var e="",r=tj(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function tj(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function rj(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Kr(e.replace(/<[^>]*>/g,""));return[r]}var PB={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function E3(t,e){var r=e||{},n=hw(t),i=[],s,l,c={name:""},g="",d=0,m,C,b={},N=[],R=r.dense?[]:{},k,U,j={value:""},K="",Q=0,J=[],re=-1,G=-1,M={s:{r:1e6,c:1e7},e:{r:0,c:0}},P=0,O={},ee=[],te={},W=0,q=0,Ie=[],xe=1,ge=1,ye=[],We={Names:[]},Ee={},et=["",""],ne=[],X={},ue="",oe=0,ce=!1,be=!1,Je=0;for(Ef.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");k=Ef.exec(n);)switch(k[3]=k[3].replace(/_.*$/,"")){case"table":case"":k[1]==="/"?(M.e.c>=M.s.c&&M.e.r>=M.s.r?R["!ref"]=Pr(M):R["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=M.e.r&&(R["!fullref"]=R["!ref"],M.e.r=r.sheetRows-1,R["!ref"]=Pr(M)),ee.length&&(R["!merges"]=ee),Ie.length&&(R["!rows"]=Ie),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),N.push(m.name),b[m.name]=R,be=!1):k[0].charAt(k[0].length-2)!=="/"&&(m=ar(k[0],!1),re=G=-1,M.s.r=M.s.c=1e7,M.e.r=M.e.c=0,R=r.dense?[]:{},ee=[],Ie=[],be=!0);break;case"table-row-group":k[1]==="/"?--P:++P;break;case"table-row":case"":if(k[1]==="/"){re+=xe,xe=1;break}if(C=ar(k[0],!1),C.?re=C.-1:re==-1&&(re=0),xe=+C["number-rows-repeated"]||1,xe<10)for(Je=0;Je<xe;++Je)P>0&&(Ie[re+Je]={level:P});G=-1;break;case"covered-table-cell":k[1]!=="/"&&++G,r.sheetStubs&&(r.dense?(R[re]||(R[re]=[]),R[re][G]={t:"z"}):R[gr({r:re,c:G})]={t:"z"}),K="",J=[];break;case"table-cell":case"":if(k[0].charAt(k[0].length-2)==="/")++G,j=ar(k[0],!1),ge=parseInt(j["number-columns-repeated"]||"1",10),U={t:"z",v:null},j.formula&&r.cellFormula!=!1&&(U.f=DB(Kr(j.formula))),(j.||j["value-type"])=="string"&&(U.t="s",U.v=Kr(j["string-value"]||""),r.dense?(R[re]||(R[re]=[]),R[re][G]=U):R[gr({r:re,c:G})]=U),G+=ge-1;else if(k[1]!=="/"){++G,K="",Q=0,J=[],ge=1;var ke=xe?re+xe-1:re;if(G>M.e.c&&(M.e.c=G),G<M.s.c&&(M.s.c=G),re<M.s.r&&(M.s.r=re),ke>M.e.r&&(M.e.r=ke),j=ar(k[0],!1),ne=[],X={},U={t:j.||j["value-type"],v:null},r.cellFormula)if(j.formula&&(j.formula=Kr(j.formula)),j["number-matrix-columns-spanned"]&&j["number-matrix-rows-spanned"]&&(W=parseInt(j["number-matrix-rows-spanned"],10)||0,q=parseInt(j["number-matrix-columns-spanned"],10)||0,te={s:{r:re,c:G},e:{r:re+W-1,c:G+q-1}},U.F=Pr(te),ye.push([te,U.F])),j.formula)U.f=DB(j.formula);else for(Je=0;Je<ye.length;++Je)re>=ye[Je][0].s.r&&re<=ye[Je][0].e.r&&G>=ye[Je][0].s.c&&G<=ye[Je][0].e.c&&(U.F=ye[Je][1]);switch((j["number-columns-spanned"]||j["number-rows-spanned"])&&(W=parseInt(j["number-rows-spanned"],10)||0,q=parseInt(j["number-columns-spanned"],10)||0,te={s:{r:re,c:G},e:{r:re+W-1,c:G+q-1}},ee.push(te)),j["number-columns-repeated"]&&(ge=parseInt(j["number-columns-repeated"],10)),U.t){case"boolean":U.t="b",U.v=Dn(j["boolean-value"]);break;case"float":U.t="n",U.v=parseFloat(j.value);break;case"percentage":U.t="n",U.v=parseFloat(j.value);break;case"currency":U.t="n",U.v=parseFloat(j.value);break;case"date":U.t="d",U.v=Ri(j["date-value"]),r.cellDates||(U.t="n",U.v=Ss(U.v)),U.z="m/d/yy";break;case"time":U.t="n",U.v=gO(j["time-value"])/86400,r.cellDates&&(U.t="d",U.v=gg(U.v)),U.z="HH:MM:SS";break;case"number":U.t="n",U.v=parseFloat(j.);break;default:if(U.t==="string"||U.t==="text"||!U.t)U.t="s",j["string-value"]!=null&&(K=Kr(j["string-value"]),J=[]);else throw new Error("Unsupported value type "+U.t)}}else{if(ce=!1,U.t==="s"&&(U.v=K||"",J.length&&(U.R=J),ce=Q==0),Ee.Target&&(U.l=Ee),ne.length>0&&(U.c=ne,ne=[]),K&&r.cellText!==!1&&(U.w=K),ce&&(U.t="z",delete U.v),(!ce||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=re))for(var He=0;He<xe;++He){if(ge=parseInt(j["number-columns-repeated"]||"1",10),r.dense)for(R[re+He]||(R[re+He]=[]),R[re+He][G]=He==0?U:Wi(U);--ge>0;)R[re+He][G+ge]=Wi(U);else for(R[gr({r:re+He,c:G})]=U;--ge>0;)R[gr({r:re+He,c:G+ge})]=Wi(U);M.e.c<=G&&(M.e.c=G)}ge=parseInt(j["number-columns-repeated"]||"1",10),G+=ge-1,ge=0,U={},K="",J=[]}Ee={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(k[1]==="/"){if((s=i.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&i.push([k[3],!0]);break;case"annotation":if(k[1]==="/"){if((s=i.pop())[0]!==k[3])throw"Bad state: "+s;X.t=K,J.length&&(X.R=J),X.a=ue,ne.push(X)}else k[0].charAt(k[0].length-2)!=="/"&&i.push([k[3],!1]);ue="",oe=0,K="",Q=0,J=[];break;case"creator":k[1]==="/"?ue=n.slice(oe,k.index):oe=k.index+k[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(k[1]==="/"){if((s=i.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&i.push([k[3],!1]);K="",Q=0,J=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(k[1]==="/"){if(O[c.name]=g,(s=i.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&(g="",c=ar(k[0],!1),i.push([k[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":l=ar(k[0],!1),g+=PB[k[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":l=ar(k[0],!1),g+=PB[k[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(k[0].slice(-2)==="/>")break;if(k[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":g+=n.slice(d,k.index);break}else d=k.index+k[0].length;break;case"named-range":l=ar(k[0],!1),et=ux(l["cell-range-address"]);var Te={Name:l.name,Ref:et[0]+"!"+et[1]};be&&(Te.Sheet=N.length),We.Names.push(Te);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(k[1]==="/"&&(!j||!j["string-value"])){var pt=rj(n.slice(Q,k.index));K=(K.length>0?K+`
`:"")+pt[0]}else ar(k[0],!1),Q=k.index+k[0].length;break;case"s":break;case"database-range":if(k[1]==="/")break;try{et=ux(ar(k[0])["target-range-address"]),b[et[0]]["!autofilter"]={ref:et[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(k[1]!=="/"){if(Ee=ar(k[0],!1),!Ee.href)break;Ee.Target=Kr(Ee.href),delete Ee.href,Ee.Target.charAt(0)=="#"&&Ee.Target.indexOf(".")>-1?(et=ux(Ee.Target.slice(1)),Ee.Target="#"+et[0]+"!"+et[1]):Ee.Target.match(/^\.\.[\\\/]/)&&(Ee.Target=Ee.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(k[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(k)}}var se={Sheets:b,SheetNames:N,Workbook:We};return r.bookSheets&&delete se.Sheets,se}function HB(t,e){e=e||{},ka(t,"META-INF/manifest.xml")&&xL(di(t,"META-INF/manifest.xml"),e);var r=ha(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=E3(Bn(r),e);return ka(t,"meta.xml")&&(n.Props=MI(di(t,"meta.xml"))),n}function VB(t,e){return E3(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Tw(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function A2(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Bn(uc(t))}function c2(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function jB(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function nj(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Tf(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Ei(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function cs(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Tf(t,r),s=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(s){case 0:{for(var g=r[0];t[r[0]++]>=128;);c=t.slice(g,r[0])}break;case 5:l=4,c=t.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,c=t.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=Tf(t,r),c=t.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var d={data:c,type:s};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function Sw(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function ij(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Tf(t,n),s=cs(t.slice(n[0],n[0]+i));n[0]+=i;var l={id:Ei(s[1][0].data),messages:[]};s[2].forEach(function(c){var g=cs(c.data),d=Ei(g[3][0].data);l.messages.push({meta:g,data:t.slice(n[0],n[0]+d)}),n[0]+=d}),(e=s[3])!=null&&e[0]&&(l.merge=Ei(s[3][0].data)>>>0>0),r.push(l)}return r}function sj(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Tf(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var l=e[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[r[0]],c>1&&(l|=e[r[0]+1]<<8),c>2&&(l|=e[r[0]+2]<<16),c>3&&(l|=e[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}i.push(e.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var g=0,d=0;if(s==1?(d=(e[r[0]]>>2&7)+4,g=(e[r[0]++]&224)<<3,g|=e[r[0]++]):(d=(e[r[0]++]>>2)+1,s==2?(g=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(g=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[c2(i)],g==0)throw new Error("Invalid offset 0");if(g>i[0].length)throw new Error("Invalid offset beyond length");if(d>=g)for(i.push(i[0].slice(-g)),d-=g;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-g,-g+d))}}var m=c2(i);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function aj(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(sj(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return c2(e)}function oj(t,e,r,n){var i=Tw(t),s=i.getUint32(4,!0),l=(n>1?12:8)+jB(s&(n>1?3470:398))*4,c=-1,g=-1,d=NaN,m=new Date(2001,0,1);s&512&&(c=i.getUint32(l,!0),l+=4),l+=jB(s&(n>1?12288:4096))*4,s&16&&(g=i.getUint32(l,!0),l+=4),s&32&&(d=i.getFloat64(l,!0),l+=8),s&64&&(m.setTime(m.getTime()+i.getFloat64(l,!0)*1e3),l+=8);var C;switch(t[2]){case 0:break;case 2:C={t:"n",v:d};break;case 3:C={t:"s",v:e[g]};break;case 5:C={t:"d",v:m};break;case 6:C={t:"b",v:d>0};break;case 7:C={t:"n",v:d/86400};break;case 8:C={t:"e",v:0};break;case 9:if(c>-1)C={t:"s",v:r[c]};else if(g>-1)C={t:"s",v:e[g]};else if(!isNaN(d))C={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return C}function lj(t,e,r){var n=Tw(t),i=n.getUint32(8,!0),s=12,l=-1,c=-1,g=NaN,d=NaN,m=new Date(2001,0,1);i&1&&(g=nj(t,s),s+=16),i&2&&(d=n.getFloat64(s,!0),s+=8),i&4&&(m.setTime(m.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(c=n.getUint32(s,!0),s+=4),i&16&&(l=n.getUint32(s,!0),s+=4);var C;switch(t[1]){case 0:break;case 2:C={t:"n",v:g};break;case 3:C={t:"s",v:e[c]};break;case 5:C={t:"d",v:m};break;case 6:C={t:"b",v:d>0};break;case 7:C={t:"n",v:d/86400};break;case 8:C={t:"e",v:0};break;case 9:if(l>-1)C={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:C={t:"n",v:g};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return C}function Aj(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return oj(t,e,r,t[0]);case 5:return lj(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function nA(t){var e=cs(t);return Tf(e[1][0].data)}function GB(t,e){var r=cs(e.data),n=Ei(r[1][0].data),i=r[3],s=[];return(i||[]).forEach(function(l){var c=cs(l.data),g=Ei(c[1][0].data)>>>0;switch(n){case 1:s[g]=A2(c[3][0].data);break;case 8:{var d=t[nA(c[9][0].data)][0],m=cs(d.data),C=t[nA(m[1][0].data)][0],b=Ei(C.meta[1][0].data);if(b!=2001)throw new Error("2000 unexpected reference to ".concat(b));var N=cs(C.data);s[g]=N[3].map(function(R){return A2(R.data)}).join("")}break}}),s}function cj(t,e){var r,n,i,s,l,c,g,d,m,C,b,N,R,k,U=cs(t),j=Ei(U[1][0].data)>>>0,K=Ei(U[2][0].data)>>>0,Q=((n=(r=U[8])==null?void 0:r[0])==null?void 0:n.data)&&Ei(U[8][0].data)>0||!1,J,re;if((s=(i=U[7])==null?void 0:i[0])!=null&&s.data&&e!=0)J=(c=(l=U[7])==null?void 0:l[0])==null?void 0:c.data,re=(d=(g=U[6])==null?void 0:g[0])==null?void 0:d.data;else if((C=(m=U[4])==null?void 0:m[0])!=null&&C.data&&e!=1)J=(N=(b=U[4])==null?void 0:b[0])==null?void 0:N.data,re=(k=(R=U[3])==null?void 0:R[0])==null?void 0:k.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var G=Q?4:1,M=Tw(J),P=[],O=0;O<J.length/2;++O){var ee=M.getUint16(O*2,!0);ee<65535&&P.push([O,ee])}if(P.length!=K)throw"Expected ".concat(K," cells, found ").concat(P.length);var te=[];for(O=0;O<P.length-1;++O)te[P[O][0]]=re.subarray(P[O][1]*G,P[O+1][1]*G);return P.length>=1&&(te[P[P.length-1][0]]=re.subarray(P[P.length-1][1]*G)),{R:j,cells:te}}function uj(t,e){var r,n=cs(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?Ei(n[7][0].data)>>>0>0?1:0:-1,s=Sw(n[5],function(l){return cj(l,i)});return{nrows:Ei(n[4][0].data)>>>0,data:s.reduce(function(l,c){return l[c.R]||(l[c.R]=[]),c.cells.forEach(function(g,d){if(l[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));l[c.R][d]=g}),l},[])}}function fj(t,e,r){var n,i=cs(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Ei(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Ei(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=Pr(s);var l=cs(i[4][0].data),c=GB(t,t[nA(l[4][0].data)][0]),g=(n=l[17])!=null&&n[0]?GB(t,t[nA(l[17][0].data)][0]):[],d=cs(l[3][0].data),m=0;d[1].forEach(function(C){var b=cs(C.data),N=t[nA(b[2][0].data)][0],R=Ei(N.meta[1][0].data);if(R!=6002)throw new Error("6001 unexpected reference to ".concat(R));var k=uj(t,N);k.data.forEach(function(U,j){U.forEach(function(K,Q){var J=gr({r:m+j,c:Q}),re=Aj(K,c,g);re&&(r[J]=re)})}),m+=k.nrows})}function dj(t,e){var r=cs(e.data),n={"!ref":"A1"},i=t[nA(r[2][0].data)],s=Ei(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return fj(t,i[0],n),n}function hj(t,e){var r,n=cs(e.data),i={name:(r=n[1])!=null&&r[0]?A2(n[1][0].data):"",sheets:[]},s=Sw(n[2],nA);return s.forEach(function(l){t[l].forEach(function(c){var g=Ei(c.meta[1][0].data);g==6e3&&i.sheets.push(dj(t,c))})}),i}function gj(t,e){var r=Fw(),n=cs(e.data),i=Sw(n[1],nA);if(i.forEach(function(s){t[s].forEach(function(l){var c=Ei(l.meta[1][0].data);if(c==2){var g=hj(t,l);g.sheets.forEach(function(d,m){Rw(r,d,m==0?g.name:g.name+"_"+m,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function dx(t){var e,r,n,i,s={},l=[];if(t.FullPaths.forEach(function(g){if(g.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(g){if(g.name.match(/\.iwa$/)){var d;try{d=aj(g.content)}catch(C){return console.log("?? "+g.content.length+" "+(C.message||C))}var m;try{m=ij(d)}catch(C){return console.log("## "+(C.message||C))}m.forEach(function(C){s[C.id]=C.messages,l.push(C.id)})}}),!l.length)throw new Error("File has no messages");var c=((i=(n=(r=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Ei(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||l.forEach(function(g){s[g].forEach(function(d){var m=Ei(d.meta[1][0].data)>>>0;if(m==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return gj(s,c)}function pj(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Iw(t){pj([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function mj(t){return du.WS.indexOf(t)>-1?"sheet":t==du.CS?"chart":t==du.DS?"dialog":t==du.MS?"macro":t&&t.length?t:"sheet"}function xj(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,mj(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function wj(t,e,r,n,i,s,l,c,g,d,m,C){try{s[n]=af(ha(t,r,!0),e);var b=di(t,e),N;switch(c){case"sheet":N=BV(b,e,i,g,s[n],d,m,C);break;case"chart":if(N=_V(b,e,i,g,s[n],d,m,C),!N||!N["!drawel"])break;var R=j0(N["!drawel"].Target,e),k=i2(R),U=bQ(ha(t,R,!0),af(ha(t,k,!0),R)),j=j0(U,R),K=i2(j);N=lV(ha(t,j,!0),j,g,af(ha(t,K,!0),j),d,N);break;case"macro":N=TV(b,e,i,g,s[n],d,m,C);break;case"dialog":N=SV(b,e,i,g,s[n],d,m,C);break;default:throw new Error("Unrecognized sheet type "+c)}l[n]=N;var Q=[];s&&s[n]&&bo(s[n]).forEach(function(J){var re="";if(s[n][J].Type==du.CMNT){re=j0(s[n][J].Target,e);var G=RV(di(t,re,!0),re,g);if(!G||!G.length)return;IB(N,G,!1)}s[n][J].Type==du.TCMNT&&(re=j0(s[n][J].Target,e),Q=Q.concat(_Q(di(t,re,!0),g)))}),Q&&Q.length&&IB(N,Q,!0,g.people||[])}catch(J){if(g.WTF)throw J}}function Na(t){return t.charAt(0)=="/"?t.slice(1):t}function vj(t,e){if(oI(),e=e||{},Iw(e),ka(t,"META-INF/manifest.xml")||ka(t,"objectdata.xml"))return HB(t,e);if(ka(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof dx<"u"){if(t.FileIndex)return dx(t);var r=Qr.utils.cfb_new();return rB(t).forEach(function(Ie){yO(r,Ie,vO(t,Ie))}),dx(r)}throw new Error("Unsupported NUMBERS file")}if(!ka(t,"[Content_Types].xml"))throw ka(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ka(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=rB(t),i=pL(ha(t,"[Content_Types].xml")),s=!1,l,c;if(i.workbooks.length===0&&(c="xl/workbook.xml",di(t,c,!0)&&i.workbooks.push(c)),i.workbooks.length===0){if(c="xl/workbook.bin",!di(t,c,!0))throw new Error("Could not find workbook");i.workbooks.push(c),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var g={},d={};if(!e.bookSheets&&!e.bookProps){if(Af=[],i.sst)try{Af=FV(di(t,Na(i.sst)),i.sst,e)}catch(Ie){if(e.WTF)throw Ie}e.cellStyles&&i.themes.length&&(g=NV(ha(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(d=IV(di(t,Na(i.style)),i.style,g,e))}i.links.map(function(Ie){try{var xe=af(ha(t,i2(Na(Ie))),Ie);return DV(di(t,Na(Ie)),xe,Ie,e)}catch{}});var m=bV(di(t,Na(i.workbooks[0])),i.workbooks[0],e),C={},b="";i.coreprops.length&&(b=di(t,Na(i.coreprops[0]),!0),b&&(C=MI(b)),i.extprops.length!==0&&(b=di(t,Na(i.extprops[0]),!0),b&&yL(b,C,e)));var N={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(b=ha(t,Na(i.custprops[0]),!0),b&&(N=EL(b,e)));var R={};if((e.bookSheets||e.bookProps)&&(m.Sheets?l=m.Sheets.map(function(xe){return xe.name}):C.Worksheets&&C.SheetNames.length>0&&(l=C.SheetNames),e.bookProps&&(R.Props=C,R.Custprops=N),e.bookSheets&&typeof l<"u"&&(R.SheetNames=l),e.bookSheets?R.SheetNames:e.bookProps))return R;l={};var k={};e.bookDeps&&i.calcchain&&(k=kV(di(t,Na(i.calcchain)),i.calcchain));var U=0,j={},K,Q;{var J=m.Sheets;C.Worksheets=J.length,C.SheetNames=[];for(var re=0;re!=J.length;++re)C.SheetNames[re]=J[re].name}var G=s?"bin":"xml",M=i.workbooks[0].lastIndexOf("/"),P=(i.workbooks[0].slice(0,M+1)+"_rels/"+i.workbooks[0].slice(M+1)+".rels").replace(/^\//,"");ka(t,P)||(P="xl/_rels/workbook."+G+".rels");var O=af(ha(t,P,!0),P.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=UV(di(t,Na(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=TQ(di(t,Na(i.people[0])),e)),O&&(O=xj(O,m.Sheets));var ee=di(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(U=0;U!=C.Worksheets;++U){var te="sheet";if(O&&O[U]?(K="xl/"+O[U][1].replace(/[\/]?xl\//,""),ka(t,K)||(K=O[U][1]),ka(t,K)||(K=P.replace(/_rels\/.*$/,"")+O[U][1]),te=O[U][2]):(K="xl/worksheets/sheet"+(U+1-ee)+"."+G,K=K.replace(/sheet0\./,"sheet.")),Q=K.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(U!=e.sheets)continue e;break;case"string":if(C.SheetNames[U].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var W=!1,q=0;q!=e.sheets.length;++q)typeof e.sheets[q]=="number"&&e.sheets[q]==U&&(W=1),typeof e.sheets[q]=="string"&&e.sheets[q].toLowerCase()==C.SheetNames[U].toLowerCase()&&(W=1);if(!W)continue e}}wj(t,K,Q,C.SheetNames[U],U,j,l,te,e,m,g,d)}return R={Directory:i,Workbook:m,Props:C,Custprops:N,Deps:k,Sheets:l,SheetNames:C.SheetNames,Strings:Af,Styles:d,Themes:g,SSF:Wi(Cr)},e&&e.bookFiles&&(t.files?(R.keys=n,R.files=t.files):(R.keys=[],R.files={},t.FullPaths.forEach(function(Ie,xe){Ie=Ie.replace(/^Root Entry[\/]/,""),R.keys.push(Ie),R.files[Ie]=t.FileIndex[xe]}))),e&&e.bookVBA&&(i.vba.length>0?R.vbaraw=di(t,Na(i.vba[0]),!0):i.defaults&&i.defaults.bin===FQ&&(R.vbaraw=di(t,"xl/vbaProject.bin",!0))),R}function yj(t,e){var r=e||{},n="Workbook",i=Qr.find(t,n);try{if(n="/!DataSpaces/Version",i=Qr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(d7(i.content),n="/!DataSpaces/DataSpaceMap",i=Qr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=g7(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Qr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=p7(i.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Qr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);x7(i.content)}catch{}if(n="/EncryptionInfo",i=Qr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var c=w7(i.content);if(n="/EncryptedPackage",i=Qr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],i.content,r.password||"",r);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function Nw(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=ma(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Cj(t,e){return Qr.find(t,"EncryptedPackage")?yj(t,e):v3(t,e)}function Ej(t,e){var r,n=t,i=e||{};return i.type||(i.type=Mr&&Buffer.isBuffer(t)?"buffer":"base64"),r=dI(n,i),vj(r,i)}function b3(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return o2(t.slice(r),e);default:break e}return bf.to_workbook(t,e)}function bj(t,e){var r="",n=Nw(t,e);switch(e.type){case"base64":r=ma(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=nc(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Bn(r)),e.type="binary",b3(r,e)}function Bj(t,e){var r=t;return e.type=="base64"&&(r=ma(r)),r=vf.utils.decode(1200,r.slice(2),"str"),e.type="binary",b3(r,e)}function _j(t){return t.match(/[^\x00-\x7F]/)?G0(t):t}function hx(t,e,r,n){return n?(r.type="string",bf.to_workbook(t,r)):bf.to_workbook(e,r)}function u2(t,e){qS();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return u2(new Uint8Array(t),(r=Wi(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),vu={},r.dateNF&&(vu.dateNF=r.dateNF),r.type||(r.type=Mr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=Mr?"buffer":"binary",n=dO(t),typeof Uint8Array<"u"&&!Mr&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=_j(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),c=new Uint8Array(l);if(c.foo="bar",!c.foo)return r=Wi(r),r.type="array",u2(lw(n),r)}switch((i=Nw(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Cj(Qr.read(n,r),r);break;case 9:if(i[1]<=8)return v3(n,r);break;case 60:return o2(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return e7(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return Z9.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Ej(n,r):hx(t,n,r,s);case 239:return i[3]===60?o2(n,r):hx(t,n,r,s);case 255:if(i[1]===254)return Bj(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return lf.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return lf.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return SB.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return F7.to_workbook(n,r);break;case 10:case 13:case 32:return bj(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Y9.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?SB.to_workbook(n,r):hx(t,n,r,s)}function Tj(t,e,r,n,i,s,l,c){var g=Xi(r),d=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),C=!0,b=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(b,"__rowNum__",{value:r,enumerable:!1})}catch{b.__rowNum__=r}else b.__rowNum__=r;if(!l||t[r])for(var N=e.s.c;N<=e.e.c;++N){var R=l?t[r][N]:t[n[N]+g];if(R===void 0||R.t===void 0){if(d===void 0)continue;s[N]!=null&&(b[s[N]]=d);continue}var k=R.v;switch(R.t){case"z":if(k==null)break;continue;case"e":k=k==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+R.t)}if(s[N]!=null){if(k==null)if(R.t=="e"&&k===null)b[s[N]]=null;else if(d!==void 0)b[s[N]]=d;else if(m&&k===null)b[s[N]]=null;else continue;else b[s[N]]=m&&(R.t!=="n"||R.t==="n"&&c.rawNumbers!==!1)?k:ll(R,k,c);k!=null&&(C=!1)}}return{row:b,isempty:C}}function f2(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],l=0,c="",g={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},m=d.range!=null?d.range:t["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof m){case"string":g=Yn(m);break;case"number":g=Yn(t["!ref"]),g.s.r=m;break;default:g=m}n>0&&(i=0);var C=Xi(g.s.r),b=[],N=[],R=0,k=0,U=Array.isArray(t),j=g.s.r,K=0,Q={};U&&!t[j]&&(t[j]=[]);var J=d.skipHidden&&t["!cols"]||[],re=d.skipHidden&&t["!rows"]||[];for(K=g.s.c;K<=g.e.c;++K)if(!(J[K]||{}).hidden)switch(b[K]=Ci(K),r=U?t[j][K]:t[b[K]+C],n){case 1:s[K]=K-g.s.c;break;case 2:s[K]=b[K];break;case 3:s[K]=d.header[K-g.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=l=ll(r,null,d),k=Q[l]||0,!k)Q[l]=1;else{do c=l+"_"+k++;while(Q[c]);Q[l]=k,Q[c]=1}s[K]=c}for(j=g.s.r+i;j<=g.e.r;++j)if(!(re[j]||{}).hidden){var G=Tj(t,g,j,b,n,s,U,d);(G.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(N[R++]=G.row)}return N.length=R,N}var KB=/"/g;function Sj(t,e,r,n,i,s,l,c){for(var g=!0,d=[],m="",C=Xi(r),b=e.s.c;b<=e.e.c;++b)if(n[b]){var N=c.dense?(t[r]||[])[b]:t[n[b]+C];if(N==null)m="";else if(N.v!=null){g=!1,m=""+(c.rawNumbers&&N.t=="n"?N.v:ll(N,null,c));for(var R=0,k=0;R!==m.length;++R)if((k=m.charCodeAt(R))===i||k===s||k===34||c.forceQuotes){m='"'+m.replace(KB,'""')+'"';break}m=="ID"&&(m='"ID"')}else N.f!=null&&!N.F?(g=!1,m="="+N.f,m.indexOf(",")>=0&&(m='"'+m.replace(KB,'""')+'"')):m="";d.push(m)}return c.blankrows===!1&&g?null:d.join(l)}function B3(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Yn(t["!ref"]),s=n.FS!==void 0?n.FS:",",l=s.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,g=c.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),m="",C=[];n.dense=Array.isArray(t);for(var b=n.skipHidden&&t["!cols"]||[],N=n.skipHidden&&t["!rows"]||[],R=i.s.c;R<=i.e.c;++R)(b[R]||{}).hidden||(C[R]=Ci(R));for(var k=0,U=i.s.r;U<=i.e.r;++U)(N[U]||{}).hidden||(m=Sj(t,i,U,C,l,g,s,n),m!=null&&(n.strip&&(m=m.replace(d,"")),(m||n.blankrows!==!1)&&r.push((k++?c:"")+m)));return delete n.dense,r.join("")}function Ij(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=B3(t,e);return r}function Nj(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Yn(t["!ref"]),s="",l=[],c,g=[],d=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)l[c]=Ci(c);for(var m=i.s.r;m<=i.e.r;++m)for(s=Xi(m),c=i.s.c;c<=i.e.c;++c)if(e=l[c]+s,r=d?(t[m]||[])[c]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}g[g.length]=e+"="+n}return g}function _3(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},l=0,c=0;if(s&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?Bs(n.origin):n.origin;l=g.r,c=g.c}var d,m={s:{c:0,r:0},e:{c,r:l+e.length-1+i}};if(s["!ref"]){var C=Yn(s["!ref"]);m.e.c=Math.max(m.e.c,C.e.c),m.e.r=Math.max(m.e.r,C.e.r),l==-1&&(l=C.e.r+1,m.e.r=l+e.length-1+i)}else l==-1&&(l=0,m.e.r=e.length-1+i);var b=n.header||[],N=0;e.forEach(function(k,U){bo(k).forEach(function(j){(N=b.indexOf(j))==-1&&(b[N=b.length]=j);var K=k[j],Q="z",J="",re=gr({c:c+N,r:l+U+i});d=Sf(s,re),K&&typeof K=="object"&&!(K instanceof Date)?s[re]=K:(typeof K=="number"?Q="n":typeof K=="boolean"?Q="b":typeof K=="string"?Q="s":K instanceof Date?(Q="d",n.cellDates||(Q="n",K=Ss(K)),J=n.dateNF||Cr[14]):K===null&&n.nullError&&(Q="e",K=0),d?(d.t=Q,d.v=K,delete d.w,delete d.R,J&&(d.z=J)):s[re]=d={t:Q,v:K},J&&(d.z=J))})}),m.e.c=Math.max(m.e.c,c+b.length-1);var R=Xi(l);if(i)for(N=0;N<b.length;++N)s[Ci(N+c)+R]={t:"s",v:b[N]};return s["!ref"]=Pr(m),s}function Fj(t,e){return _3(null,t,e)}function Sf(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Bs(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Sf(t,gr(e)):Sf(t,gr({r:e,c:r||0}))}function Rj(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Fw(){return{SheetNames:[],Sheets:{}}}function Rw(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var l=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=l+i)!=-1;++i);}if(pV(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function kj(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=Rj(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function Dj(t,e){return t.z=e,t}function T3(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function Uj(t,e,r){return T3(t,"#"+e,r)}function Mj(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function Oj(t,e,r,n){for(var i=typeof e!="string"?e:Yn(e),s=typeof e=="string"?e:Pr(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var g=Sf(t,l,c);g.t="n",g.F=s,delete g.v,l==i.s.r&&c==i.s.c&&(g.f=r,n&&(g.D=!0))}return t}var Lj={encode_col:Ci,encode_row:Xi,encode_cell:gr,encode_range:Pr,decode_col:mw,decode_row:pw,split_cell:qO,decode_cell:Bs,decode_range:Mu,format_cell:ll,sheet_add_aoa:FI,sheet_add_json:_3,sheet_add_dom:y3,aoa_to_sheet:Ou,json_to_sheet:Fj,table_to_sheet:C3,table_to_book:ej,sheet_to_csv:B3,sheet_to_txt:Ij,sheet_to_json:f2,sheet_to_html:$V,sheet_to_formulae:Nj,sheet_to_row_object_array:f2,sheet_get_cell:Sf,book_new:Fw,book_append_sheet:Rw,book_set_sheet_visibility:kj,cell_set_number_format:Dj,cell_set_hyperlink:T3,cell_set_internal_link:Uj,cell_add_comment:Mj,sheet_set_array_formula:Oj,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Pt;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pt||(Pt={}));var zB=new Map([[Pt.QR_CODE,"QR_CODE"],[Pt.AZTEC,"AZTEC"],[Pt.CODABAR,"CODABAR"],[Pt.CODE_39,"CODE_39"],[Pt.CODE_93,"CODE_93"],[Pt.CODE_128,"CODE_128"],[Pt.DATA_MATRIX,"DATA_MATRIX"],[Pt.MAXICODE,"MAXICODE"],[Pt.ITF,"ITF"],[Pt.EAN_13,"EAN_13"],[Pt.EAN_8,"EAN_8"],[Pt.PDF_417,"PDF_417"],[Pt.RSS_14,"RSS_14"],[Pt.RSS_EXPANDED,"RSS_EXPANDED"],[Pt.UPC_A,"UPC_A"],[Pt.UPC_E,"UPC_E"],[Pt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),WB;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(WB||(WB={}));function Qj(t){return Object.values(Pt).includes(t)}var M1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(M1||(M1={}));var Pj=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[M1.SCAN_TYPE_CAMERA,M1.SCAN_TYPE_FILE],t})(),S3=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!zB.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,zB.get(e))},t})(),XB=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),d2;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(d2||(d2={}));var Hj=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:d2.UNKWOWN_ERROR}},t})(),Vj=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function rl(t){return typeof t>"u"||t===null}var hu=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),I3=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),l=Object.keys(e),c=0,g=l;c<g.length;c++){var d=g[c];if(s.has(d))return r.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},t})(),K0={exports:{}},jj=K0.exports,qB;function Gj(){return qB||(qB=1,(function(t,e){(function(r,n){n(e)})(jj,(function(r){function n(Y){return Y==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,o){Y.__proto__=o}||function(Y,o){for(var u in o)o.hasOwnProperty(u)&&(Y[u]=o[u])};function s(Y,o){i(Y,o);function u(){this.constructor=Y}Y.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}function l(Y,o){var u=Object.setPrototypeOf;u?u(Y,o):Y.__proto__=o}function c(Y,o){o===void 0&&(o=Y.constructor);var u=Error.captureStackTrace;u&&u(Y,o)}var g=(function(Y){s(o,Y);function o(u){var h=this.constructor,x=Y.call(this,u)||this;return Object.defineProperty(x,"name",{value:h.name,enumerable:!1}),l(x,h.prototype),c(x),x}return o})(Error);class d extends g{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}d.kind="Exception";class m extends d{}m.kind="ArgumentException";class C extends d{}C.kind="IllegalArgumentException";class b{constructor(o){if(this.binarizer=o,o===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,u){return this.binarizer.getBlackRow(o,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,u,h,x){const w=this.binarizer.getLuminanceSource().crop(o,u,h,x);return new b(this.binarizer.createBinarizer(w))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends d{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class R{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(o,u,h,x,w){for(;w--;)h[x++]=o[u++]}static currentTimeMillis(){return Date.now()}}class U extends d{}U.kind="IndexOutOfBoundsException";class j extends U{constructor(o=void 0,u=void 0){super(u),this.index=o,this.message=u}}j.kind="ArrayIndexOutOfBoundsException";class K{static fill(o,u){for(let h=0,x=o.length;h<x;h++)o[h]=u}static fillWithin(o,u,h,x){K.rangeCheck(o.length,u,h);for(let w=u;w<h;w++)o[w]=x}static rangeCheck(o,u,h){if(u>h)throw new C("fromIndex("+u+") > toIndex("+h+")");if(u<0)throw new j(u);if(h>o)throw new j(h)}static asList(...o){return o}static create(o,u,h){return Array.from({length:o}).map(w=>Array.from({length:u}).fill(h))}static createInt32Array(o,u,h){return Array.from({length:o}).map(w=>Int32Array.from({length:u}).fill(h))}static equals(o,u){if(!o||!u||!o.length||!u.length||o.length!==u.length)return!1;for(let h=0,x=o.length;h<x;h++)if(o[h]!==u[h])return!1;return!0}static hashCode(o){if(o===null)return 0;let u=1;for(const h of o)u=31*u+h;return u}static fillUint8Array(o,u){for(let h=0;h!==o.length;h++)o[h]=u}static copyOf(o,u){return o.slice(0,u)}static copyOfUint8Array(o,u){if(o.length<=u){const h=new Uint8Array(u);return h.set(o),h}return o.slice(0,u)}static copyOfRange(o,u,h){const x=h-u,w=new Int32Array(x);return k.arraycopy(o,u,w,0,x),w}static binarySearch(o,u,h){h===void 0&&(h=K.numberComparator);let x=0,w=o.length-1;for(;x<=w;){const y=w+x>>1,B=h(u,o[y]);if(B>0)x=y+1;else if(B<0)w=y-1;else return y}return-x-1}static numberComparator(o,u){return o-u}}class Q{static numberOfTrailingZeros(o){let u;if(o===0)return 32;let h=31;return u=o<<16,u!==0&&(h-=16,o=u),u=o<<8,u!==0&&(h-=8,o=u),u=o<<4,u!==0&&(h-=4,o=u),u=o<<2,u!==0&&(h-=2,o=u),h-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let u=1;return o>>>16||(u+=16,o<<=16),o>>>24||(u+=8,o<<=8),o>>>28||(u+=4,o<<=4),o>>>30||(u+=2,o<<=2),u-=o>>>31,u}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,u){return Math.trunc(o/u)}static parseInt(o,u=void 0){return parseInt(o,u)}}Q.MIN_VALUE_32_BITS=-2147483648,Q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class J{constructor(o,u){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,u==null?this.bits=J.makeArray(o):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const u=J.makeArray(o);k.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const u=this.size;if(o>=u)return u;const h=this.bits;let x=Math.floor(o/32),w=h[x];w&=~((1<<(o&31))-1);const y=h.length;for(;w===0;){if(++x===y)return u;w=h[x]}const B=x*32+Q.numberOfTrailingZeros(w);return B>u?u:B}getNextUnset(o){const u=this.size;if(o>=u)return u;const h=this.bits;let x=Math.floor(o/32),w=~h[x];w&=~((1<<(o&31))-1);const y=h.length;for(;w===0;){if(++x===y)return u;w=~h[x]}const B=x*32+Q.numberOfTrailingZeros(w);return B>u?u:B}setBulk(o,u){this.bits[Math.floor(o/32)]=u}setRange(o,u){if(u<o||o<0||u>this.size)throw new C;if(u===o)return;u--;const h=Math.floor(o/32),x=Math.floor(u/32),w=this.bits;for(let y=h;y<=x;y++){const B=y>h?0:o&31,D=(2<<(y<x?31:u&31))-(1<<B);w[y]|=D}}clear(){const o=this.bits.length,u=this.bits;for(let h=0;h<o;h++)u[h]=0}isRange(o,u,h){if(u<o||o<0||u>this.size)throw new C;if(u===o)return!0;u--;const x=Math.floor(o/32),w=Math.floor(u/32),y=this.bits;for(let B=x;B<=w;B++){const I=B>x?0:o&31,H=(2<<(B<w?31:u&31))-(1<<I)&4294967295;if((y[B]&H)!==(h?H:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,u){if(u<0||u>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let h=u;h>0;h--)this.appendBit((o>>h-1&1)===1)}appendBitArray(o){const u=o.size;this.ensureCapacity(this.size+u);for(let h=0;h<u;h++)this.appendBit(o.get(h))}xor(o){if(this.size!==o.size)throw new C("Sizes don't match");const u=this.bits;for(let h=0,x=u.length;h<x;h++)u[h]^=o.bits[h]}toBytes(o,u,h,x){for(let w=0;w<x;w++){let y=0;for(let B=0;B<8;B++)this.get(o)&&(y|=1<<7-B),o++;u[h+w]=y}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),h=u+1,x=this.bits;for(let w=0;w<h;w++){let y=x[w];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,o[u-w]=y}if(this.size!==h*32){const w=h*32-this.size;let y=o[0]>>>w;for(let B=1;B<h;B++){const I=o[B];y|=I<<32-w,o[B-1]=y,y=I>>>w}o[h-1]=y}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof J))return!1;const u=o;return this.size===u.size&&K.equals(this.bits,u.bits)}hashCode(){return 31*this.size+K.hashCode(this.bits)}toString(){let o="";for(let u=0,h=this.size;u<h;u++)(u&7)===0&&(o+=" "),o+=this.get(u)?"X":".";return o}clone(){return new J(this.size,this.bits.slice())}}var re;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.PURE_BARCODE=1]="PURE_BARCODE",Y[Y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Y[Y.TRY_HARDER=3]="TRY_HARDER",Y[Y.CHARACTER_SET=4]="CHARACTER_SET",Y[Y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Y[Y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Y[Y.ASSUME_GS1=7]="ASSUME_GS1",Y[Y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Y[Y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Y[Y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(re||(re={}));var G=re;class M extends d{static getFormatInstance(){return new M}}M.kind="FormatException";var P;(function(Y){Y[Y.Cp437=0]="Cp437",Y[Y.ISO8859_1=1]="ISO8859_1",Y[Y.ISO8859_2=2]="ISO8859_2",Y[Y.ISO8859_3=3]="ISO8859_3",Y[Y.ISO8859_4=4]="ISO8859_4",Y[Y.ISO8859_5=5]="ISO8859_5",Y[Y.ISO8859_6=6]="ISO8859_6",Y[Y.ISO8859_7=7]="ISO8859_7",Y[Y.ISO8859_8=8]="ISO8859_8",Y[Y.ISO8859_9=9]="ISO8859_9",Y[Y.ISO8859_10=10]="ISO8859_10",Y[Y.ISO8859_11=11]="ISO8859_11",Y[Y.ISO8859_13=12]="ISO8859_13",Y[Y.ISO8859_14=13]="ISO8859_14",Y[Y.ISO8859_15=14]="ISO8859_15",Y[Y.ISO8859_16=15]="ISO8859_16",Y[Y.SJIS=16]="SJIS",Y[Y.Cp1250=17]="Cp1250",Y[Y.Cp1251=18]="Cp1251",Y[Y.Cp1252=19]="Cp1252",Y[Y.Cp1256=20]="Cp1256",Y[Y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Y[Y.UTF8=22]="UTF8",Y[Y.ASCII=23]="ASCII",Y[Y.Big5=24]="Big5",Y[Y.GB18030=25]="GB18030",Y[Y.EUC_KR=26]="EUC_KR"})(P||(P={}));class O{constructor(o,u,h,...x){this.valueIdentifier=o,this.name=h,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=x,O.VALUE_IDENTIFIER_TO_ECI.set(o,this),O.NAME_TO_ECI.set(h,this);const w=this.values;for(let y=0,B=w.length;y!==B;y++){const I=w[y];O.VALUES_TO_ECI.set(I,this)}for(const y of x)O.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new M("incorect value");const u=O.VALUES_TO_ECI.get(o);if(u===void 0)throw new M("incorect value");return u}static getCharacterSetECIByName(o){const u=O.NAME_TO_ECI.get(o);if(u===void 0)throw new M("incorect value");return u}equals(o){if(!(o instanceof O))return!1;const u=o;return this.getName()===u.getName()}}O.VALUE_IDENTIFIER_TO_ECI=new Map,O.VALUES_TO_ECI=new Map,O.NAME_TO_ECI=new Map,O.Cp437=new O(P.Cp437,Int32Array.from([0,2]),"Cp437"),O.ISO8859_1=new O(P.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),O.ISO8859_2=new O(P.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),O.ISO8859_3=new O(P.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),O.ISO8859_4=new O(P.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),O.ISO8859_5=new O(P.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),O.ISO8859_6=new O(P.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),O.ISO8859_7=new O(P.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),O.ISO8859_8=new O(P.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),O.ISO8859_9=new O(P.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),O.ISO8859_10=new O(P.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),O.ISO8859_11=new O(P.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),O.ISO8859_13=new O(P.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),O.ISO8859_14=new O(P.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),O.ISO8859_15=new O(P.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),O.ISO8859_16=new O(P.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),O.SJIS=new O(P.SJIS,20,"SJIS","Shift_JIS"),O.Cp1250=new O(P.Cp1250,21,"Cp1250","windows-1250"),O.Cp1251=new O(P.Cp1251,22,"Cp1251","windows-1251"),O.Cp1252=new O(P.Cp1252,23,"Cp1252","windows-1252"),O.Cp1256=new O(P.Cp1256,24,"Cp1256","windows-1256"),O.UnicodeBigUnmarked=new O(P.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),O.UTF8=new O(P.UTF8,26,"UTF8","UTF-8"),O.ASCII=new O(P.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),O.Big5=new O(P.Big5,28,"Big5"),O.GB18030=new O(P.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),O.EUC_KR=new O(P.EUC_KR,30,"EUC_KR","EUC-KR");class ee extends d{}ee.kind="UnsupportedOperationException";class te{static decode(o,u){const h=this.encodingName(u);return this.customDecoder?this.customDecoder(o,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(o,h):new TextDecoder(h).decode(o)}static shouldDecodeOnFallback(o){return!te.isBrowser()&&o==="ISO-8859-1"}static encode(o,u){const h=this.encodingName(u);return this.customEncoder?this.customEncoder(o,h):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof O?o:O.getCharacterSetECIByName(o)}static decodeFallback(o,u){const h=this.encodingCharacterSet(u);if(te.isDecodeFallbackSupported(h)){let x="";for(let w=0,y=o.length;w<y;w++){let B=o[w].toString(16);B.length<2&&(B="0"+B),x+="%"+B}return decodeURIComponent(x)}if(h.equals(O.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new ee(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(O.UTF8)||o.equals(O.ISO8859_1)||o.equals(O.ASCII)}static encodeFallback(o){const h=btoa(unescape(encodeURIComponent(o))).split(""),x=[];for(let w=0;w<h.length;w++)x.push(h[w].charCodeAt(0));return new Uint8Array(x)}}class W{static castAsNonUtf8Char(o,u=null){const h=u?u.getName():this.ISO88591;return te.decode(new Uint8Array([o]),h)}static guessEncoding(o,u){if(u!=null&&u.get(G.CHARACTER_SET)!==void 0)return u.get(G.CHARACTER_SET).toString();const h=o.length;let x=!0,w=!0,y=!0,B=0,I=0,D=0,H=0,Z=0,ae=0,we=0,_e=0,Se=0,Ue=0,Ze=0;const Bt=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let Et=0;Et<h&&(x||w||y);Et++){const mt=o[Et]&255;y&&(B>0?(mt&128)===0?y=!1:B--:(mt&128)!==0&&((mt&64)===0?y=!1:(B++,(mt&32)===0?I++:(B++,(mt&16)===0?D++:(B++,(mt&8)===0?H++:y=!1))))),x&&(mt>127&&mt<160?x=!1:mt>159&&(mt<192||mt===215||mt===247)&&Ze++),w&&(Z>0?mt<64||mt===127||mt>252?w=!1:Z--:mt===128||mt===160||mt>239?w=!1:mt>160&&mt<224?(ae++,_e=0,we++,we>Se&&(Se=we)):mt>127?(Z++,we=0,_e++,_e>Ue&&(Ue=_e)):(we=0,_e=0))}return y&&B>0&&(y=!1),w&&Z>0&&(w=!1),y&&(Bt||I+D+H>0)?W.UTF8:w&&(W.ASSUME_SHIFT_JIS||Se>=3||Ue>=3)?W.SHIFT_JIS:x&&w?Se===2&&ae===2||Ze*10>=h?W.SHIFT_JIS:W.ISO88591:x?W.ISO88591:w?W.SHIFT_JIS:y?W.UTF8:W.PLATFORM_DEFAULT_ENCODING}static format(o,...u){let h=-1;function x(y,B,I,D,H,Z){if(y==="%%")return"%";if(u[++h]===void 0)return;y=D?parseInt(D.substr(1)):void 0;let ae=H?parseInt(H.substr(1)):void 0,we;switch(Z){case"s":we=u[h];break;case"c":we=u[h][0];break;case"f":we=parseFloat(u[h]).toFixed(y);break;case"p":we=parseFloat(u[h]).toPrecision(y);break;case"e":we=parseFloat(u[h]).toExponential(y);break;case"x":we=parseInt(u[h]).toString(ae||16);break;case"d":we=parseFloat(parseInt(u[h],ae||10).toPrecision(y)).toFixed(0);break}we=typeof we=="object"?JSON.stringify(we):(+we).toString(ae);let _e=parseInt(I),Se=I&&I[0]+""=="0"?"0":" ";for(;we.length<_e;)we=B!==void 0?we+Se:Se+we;return we}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(w,x)}static getBytes(o,u){return te.encode(o,u)}static getCharCode(o,u=0){return o.charCodeAt(u)}static getCharAt(o){return String.fromCharCode(o)}}W.SHIFT_JIS=O.SJIS.getName(),W.GB2312="GB2312",W.ISO88591=O.ISO8859_1.getName(),W.EUC_JP="EUC_JP",W.UTF8=O.UTF8.getName(),W.PLATFORM_DEFAULT_ENCODING=W.UTF8,W.ASSUME_SHIFT_JIS=!1;class q{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=W.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,u,h){for(let x=u;u<u+h;x++)this.append(o[x]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+1)}substring(o,u){return this.value.substring(o,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+u.length)}}class Ie{constructor(o,u,h,x){if(this.width=o,this.height=u,this.rowSize=h,this.bits=x,u==null&&(u=o),this.height=u,o<1||u<1)throw new C("Both dimensions must be greater than 0");h==null&&(h=Math.floor((o+31)/32)),this.rowSize=h,x==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const u=o.length,h=o[0].length,x=new Ie(h,u);for(let w=0;w<u;w++){const y=o[w];for(let B=0;B<h;B++)y[B]&&x.set(B,w)}return x}static parseFromString(o,u,h){if(o===null)throw new C("stringRepresentation cannot be null");const x=new Array(o.length);let w=0,y=0,B=-1,I=0,D=0;for(;D<o.length;)if(o.charAt(D)===`
`||o.charAt(D)==="\r"){if(w>y){if(B===-1)B=w-y;else if(w-y!==B)throw new C("row lengths do not match");y=w,I++}D++}else if(o.substring(D,D+u.length)===u)D+=u.length,x[w]=!0,w++;else if(o.substring(D,D+h.length)===h)D+=h.length,x[w]=!1,w++;else throw new C("illegal character encountered: "+o.substring(D));if(w>y){if(B===-1)B=w-y;else if(w-y!==B)throw new C("row lengths do not match");I++}const H=new Ie(B,I);for(let Z=0;Z<w;Z++)x[Z]&&H.set(Math.floor(Z%B),Math.floor(Z/B));return H}get(o,u){const h=u*this.rowSize+Math.floor(o/32);return(this.bits[h]>>>(o&31)&1)!==0}set(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]|=1<<(o&31)&4294967295}unset(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]&=~(1<<(o&31)&4294967295)}flip(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new C("input matrix dimensions do not match");const u=new J(Math.floor(this.width/32)+1),h=this.rowSize,x=this.bits;for(let w=0,y=this.height;w<y;w++){const B=w*h,I=o.getRow(w,u).getBitArray();for(let D=0;D<h;D++)x[B+D]^=I[D]}}clear(){const o=this.bits,u=o.length;for(let h=0;h<u;h++)o[h]=0}setRegion(o,u,h,x){if(u<0||o<0)throw new C("Left and top must be nonnegative");if(x<1||h<1)throw new C("Height and width must be at least 1");const w=o+h,y=u+x;if(y>this.height||w>this.width)throw new C("The region must fit inside the matrix");const B=this.rowSize,I=this.bits;for(let D=u;D<y;D++){const H=D*B;for(let Z=o;Z<w;Z++)I[H+Math.floor(Z/32)]|=1<<(Z&31)&4294967295}}getRow(o,u){u==null||u.getSize()<this.width?u=new J(this.width):u.clear();const h=this.rowSize,x=this.bits,w=o*h;for(let y=0;y<h;y++)u.setBulk(y*32,x[w+y]);return u}setRow(o,u){k.arraycopy(u.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),u=this.getHeight();let h=new J(o),x=new J(o);for(let w=0,y=Math.floor((u+1)/2);w<y;w++)h=this.getRow(w,h),x=this.getRow(u-1-w,x),h.reverse(),x.reverse(),this.setRow(w,x),this.setRow(u-1-w,h)}getEnclosingRectangle(){const o=this.width,u=this.height,h=this.rowSize,x=this.bits;let w=o,y=u,B=-1,I=-1;for(let D=0;D<u;D++)for(let H=0;H<h;H++){const Z=x[D*h+H];if(Z!==0){if(D<y&&(y=D),D>I&&(I=D),H*32<w){let ae=0;for(;(Z<<31-ae&4294967295)===0;)ae++;H*32+ae<w&&(w=H*32+ae)}if(H*32+31>B){let ae=31;for(;!(Z>>>ae);)ae--;H*32+ae>B&&(B=H*32+ae)}}}return B<w||I<y?null:Int32Array.from([w,y,B-w+1,I-y+1])}getTopLeftOnBit(){const o=this.rowSize,u=this.bits;let h=0;for(;h<u.length&&u[h]===0;)h++;if(h===u.length)return null;const x=h/o;let w=h%o*32;const y=u[h];let B=0;for(;(y<<31-B&4294967295)===0;)B++;return w+=B,Int32Array.from([w,x])}getBottomRightOnBit(){const o=this.rowSize,u=this.bits;let h=u.length-1;for(;h>=0&&u[h]===0;)h--;if(h<0)return null;const x=Math.floor(h/o);let w=Math.floor(h%o)*32;const y=u[h];let B=31;for(;!(y>>>B);)B--;return w+=B,Int32Array.from([w,x])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof Ie))return!1;const u=o;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&K.equals(this.bits,u.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+K.hashCode(this.bits),o}toString(o="X ",u="  ",h=`
`){return this.buildToString(o,u,h)}buildToString(o,u,h){let x=new q;for(let w=0,y=this.height;w<y;w++){for(let B=0,I=this.width;B<I;B++)x.append(this.get(B,w)?o:u);x.append(h)}return x.toString()}clone(){return new Ie(this.width,this.height,this.rowSize,this.bits.slice())}}class xe extends d{static getNotFoundInstance(){return new xe}}xe.kind="NotFoundException";class ge extends R{constructor(o){super(o),this.luminances=ge.EMPTY,this.buckets=new Int32Array(ge.LUMINANCE_BUCKETS)}getBlackRow(o,u){const h=this.getLuminanceSource(),x=h.getWidth();u==null||u.getSize()<x?u=new J(x):u.clear(),this.initArrays(x);const w=h.getRow(o,this.luminances),y=this.buckets;for(let I=0;I<x;I++)y[(w[I]&255)>>ge.LUMINANCE_SHIFT]++;const B=ge.estimateBlackPoint(y);if(x<3)for(let I=0;I<x;I++)(w[I]&255)<B&&u.set(I);else{let I=w[0]&255,D=w[1]&255;for(let H=1;H<x-1;H++){const Z=w[H+1]&255;(D*4-I-Z)/2<B&&u.set(H),I=D,D=Z}}return u}getBlackMatrix(){const o=this.getLuminanceSource(),u=o.getWidth(),h=o.getHeight(),x=new Ie(u,h);this.initArrays(u);const w=this.buckets;for(let I=1;I<5;I++){const D=Math.floor(h*I/5),H=o.getRow(D,this.luminances),Z=Math.floor(u*4/5);for(let ae=Math.floor(u/5);ae<Z;ae++){const we=H[ae]&255;w[we>>ge.LUMINANCE_SHIFT]++}}const y=ge.estimateBlackPoint(w),B=o.getMatrix();for(let I=0;I<h;I++){const D=I*u;for(let H=0;H<u;H++)(B[D+H]&255)<y&&x.set(H,I)}return x}createBinarizer(o){return new ge(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const u=this.buckets;for(let h=0;h<ge.LUMINANCE_BUCKETS;h++)u[h]=0}static estimateBlackPoint(o){const u=o.length;let h=0,x=0,w=0;for(let H=0;H<u;H++)o[H]>w&&(x=H,w=o[H]),o[H]>h&&(h=o[H]);let y=0,B=0;for(let H=0;H<u;H++){const Z=H-x,ae=o[H]*Z*Z;ae>B&&(y=H,B=ae)}if(x>y){const H=x;x=y,y=H}if(y-x<=u/16)throw new xe;let I=y-1,D=-1;for(let H=y-1;H>x;H--){const Z=H-x,ae=Z*Z*(y-H)*(h-o[H]);ae>D&&(I=H,D=ae)}return I<<ge.LUMINANCE_SHIFT}}ge.LUMINANCE_BITS=5,ge.LUMINANCE_SHIFT=8-ge.LUMINANCE_BITS,ge.LUMINANCE_BUCKETS=1<<ge.LUMINANCE_BITS,ge.EMPTY=Uint8ClampedArray.from([0]);class ye extends ge{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),u=o.getWidth(),h=o.getHeight();if(u>=ye.MINIMUM_DIMENSION&&h>=ye.MINIMUM_DIMENSION){const x=o.getMatrix();let w=u>>ye.BLOCK_SIZE_POWER;(u&ye.BLOCK_SIZE_MASK)!==0&&w++;let y=h>>ye.BLOCK_SIZE_POWER;(h&ye.BLOCK_SIZE_MASK)!==0&&y++;const B=ye.calculateBlackPoints(x,w,y,u,h),I=new Ie(u,h);ye.calculateThresholdForBlock(x,w,y,u,h,B,I),this.matrix=I}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ye(o)}static calculateThresholdForBlock(o,u,h,x,w,y,B){const I=w-ye.BLOCK_SIZE,D=x-ye.BLOCK_SIZE;for(let H=0;H<h;H++){let Z=H<<ye.BLOCK_SIZE_POWER;Z>I&&(Z=I);const ae=ye.cap(H,2,h-3);for(let we=0;we<u;we++){let _e=we<<ye.BLOCK_SIZE_POWER;_e>D&&(_e=D);const Se=ye.cap(we,2,u-3);let Ue=0;for(let Bt=-2;Bt<=2;Bt++){const Et=y[ae+Bt];Ue+=Et[Se-2]+Et[Se-1]+Et[Se]+Et[Se+1]+Et[Se+2]}const Ze=Ue/25;ye.thresholdBlock(o,_e,Z,Ze,x,B)}}}static cap(o,u,h){return o<u?u:o>h?h:o}static thresholdBlock(o,u,h,x,w,y){for(let B=0,I=h*w+u;B<ye.BLOCK_SIZE;B++,I+=w)for(let D=0;D<ye.BLOCK_SIZE;D++)(o[I+D]&255)<=x&&y.set(u+D,h+B)}static calculateBlackPoints(o,u,h,x,w){const y=w-ye.BLOCK_SIZE,B=x-ye.BLOCK_SIZE,I=new Array(h);for(let D=0;D<h;D++){I[D]=new Int32Array(u);let H=D<<ye.BLOCK_SIZE_POWER;H>y&&(H=y);for(let Z=0;Z<u;Z++){let ae=Z<<ye.BLOCK_SIZE_POWER;ae>B&&(ae=B);let we=0,_e=255,Se=0;for(let Ze=0,Bt=H*x+ae;Ze<ye.BLOCK_SIZE;Ze++,Bt+=x){for(let Et=0;Et<ye.BLOCK_SIZE;Et++){const mt=o[Bt+Et]&255;we+=mt,mt<_e&&(_e=mt),mt>Se&&(Se=mt)}if(Se-_e>ye.MIN_DYNAMIC_RANGE)for(Ze++,Bt+=x;Ze<ye.BLOCK_SIZE;Ze++,Bt+=x)for(let Et=0;Et<ye.BLOCK_SIZE;Et++)we+=o[Bt+Et]&255}let Ue=we>>ye.BLOCK_SIZE_POWER*2;if(Se-_e<=ye.MIN_DYNAMIC_RANGE&&(Ue=_e/2,D>0&&Z>0)){const Ze=(I[D-1][Z]+2*I[D][Z-1]+I[D-1][Z-1])/4;_e<Ze&&(Ue=Ze)}I[D][Z]=Ue}}return I}}ye.BLOCK_SIZE_POWER=3,ye.BLOCK_SIZE=1<<ye.BLOCK_SIZE_POWER,ye.BLOCK_SIZE_MASK=ye.BLOCK_SIZE-1,ye.MINIMUM_DIMENSION=ye.BLOCK_SIZE*5,ye.MIN_DYNAMIC_RANGE=24;class We{constructor(o,u){this.width=o,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,u,h,x){throw new ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ee("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let u=new q;for(let h=0;h<this.height;h++){const x=this.getRow(h,o);for(let w=0;w<this.width;w++){const y=x[w]&255;let B;y<64?B="#":y<128?B="+":y<192?B=".":B=" ",u.append(B)}u.append(`
`)}return u.toString()}}class Ee extends We{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,u){const h=this.delegate.getRow(o,u),x=this.getWidth();for(let w=0;w<x;w++)h[w]=255-(h[w]&255);return h}getMatrix(){const o=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(u);for(let x=0;x<u;x++)h[x]=255-(o[x]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(o,u,h,x){return new Ee(this.delegate.crop(o,u,h,x))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ee(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ee(this.delegate.rotateCounterClockwise45())}}class et extends We{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=et.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const u=o.getContext("2d").getImageData(0,0,o.width,o.height);return et.toGrayscaleBuffer(u.data,o.width,o.height)}static toGrayscaleBuffer(o,u,h){const x=new Uint8ClampedArray(u*h);for(let w=0,y=0,B=o.length;w<B;w+=4,y++){let I;if(o[w+3]===0)I=255;else{const H=o[w],Z=o[w+1],ae=o[w+2];I=306*H+601*Z+117*ae+512>>10}x[y]=I}return x}getRow(o,u){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const h=this.getWidth(),x=o*h;return u===null?u=this.buffer.slice(x,x+h):(u.length<h&&(u=new Uint8ClampedArray(h)),u.set(this.buffer.slice(x,x+h))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,u,h,x){return super.crop(o,u,h,x),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const u=this.getTempCanvasElement(),h=u.getContext("2d"),x=o*et.DEGREE_TO_RADIANS,w=this.canvas.width,y=this.canvas.height,B=Math.ceil(Math.abs(Math.cos(x))*w+Math.abs(Math.sin(x))*y),I=Math.ceil(Math.abs(Math.sin(x))*w+Math.abs(Math.cos(x))*y);return u.width=B,u.height=I,h.translate(B/2,I/2),h.rotate(x),h.drawImage(this.canvas,w/-2,y/-2),this.buffer=et.makeBufferFromCanvasImageData(u),this}invert(){return new Ee(this)}}et.DEGREE_TO_RADIANS=Math.PI/180;class ne{constructor(o,u,h){this.deviceId=o,this.label=u,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var X=(globalThis||sh||self||window||void 0)&&(globalThis||sh||self||window||void 0).__awaiter||function(Y,o,u,h){function x(w){return w instanceof u?w:new u(function(y){y(w)})}return new(u||(u=Promise))(function(w,y){function B(H){try{D(h.next(H))}catch(Z){y(Z)}}function I(H){try{D(h.throw(H))}catch(Z){y(Z)}}function D(H){H.done?w(H.value):x(H.value).then(B,I)}D((h=h.apply(Y,o||[])).next())})};class ue{constructor(o,u=500,h){this.reader=o,this.timeBetweenScansMillis=u,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return X(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const h of o){const x=h.kind==="video"?"videoinput":h.kind;if(x!=="videoinput")continue;const w=h.deviceId||h.id,y=h.label||`Video device ${u.length+1}`,B=h.groupId,I={deviceId:w,label:y,kind:x,groupId:B};u.push(I)}return u})}getVideoInputDevices(){return X(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new ne(u.deviceId,u.label))})}findDeviceById(o){return X(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(h=>h.deviceId===o):null})}decodeFromInputVideoDevice(o,u){return X(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,u)})}decodeOnceFromVideoDevice(o,u){return X(this,void 0,void 0,function*(){this.reset();let h;o?h={deviceId:{exact:o}}:h={facingMode:"environment"};const x={video:h};return yield this.decodeOnceFromConstraints(x,u)})}decodeOnceFromConstraints(o,u){return X(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(h,u)})}decodeOnceFromStream(o,u){return X(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(o,u);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(o,u,h){return X(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,u,h)})}decodeFromVideoDevice(o,u,h){return X(this,void 0,void 0,function*(){let x;o?x={deviceId:{exact:o}}:x={facingMode:"environment"};const w={video:x};return yield this.decodeFromConstraints(w,u,h)})}decodeFromConstraints(o,u,h){return X(this,void 0,void 0,function*(){const x=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(x,u,h)})}decodeFromStream(o,u,h){return X(this,void 0,void 0,function*(){this.reset();const x=yield this.attachStreamToVideo(o,u);return yield this.decodeContinuously(x,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,u){return X(this,void 0,void 0,function*(){const h=this.prepareVideoElement(u);return this.addVideoSource(h,o),this.videoElement=h,this.stream=o,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(o){return new Promise((u,h)=>this.playVideoOnLoad(o,()=>u()))}playVideoOnLoad(o,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",u),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return X(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,u){const h=document.getElementById(o);if(!h)throw new m(`element with id '${o}' not found`);if(h.nodeName.toLowerCase()!==u.toLowerCase())throw new m(`element with id '${o}' must be an ${u} element`);return h}decodeFromImage(o,u){if(!o&&!u)throw new m("either imageElement with a src set or an url must be provided");return u&&!o?this.decodeFromImageUrl(u):this.decodeFromImageElement(o)}decodeFromVideo(o,u){if(!o&&!u)throw new m("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,u,h){if(o===void 0&&u===void 0)throw new m("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrlContinuously(u,h):this.decodeFromVideoElementContinuously(o,h)}decodeFromImageElement(o){if(!o)throw new m("An image element must be provided.");this.reset();const u=this.prepareImageElement(o);this.imageElement=u;let h;return this.isImageLoaded(u)?h=this.decodeOnce(u,!1,!0):h=this._decodeOnLoadImage(u),h}decodeFromVideoElement(o){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(o,u){const h=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(h,u)}_decodeFromVideoElementSetup(o){if(!o)throw new m("A video element must be provided.");this.reset();const u=this.prepareVideoElement(o);return this.videoElement=u,u}decodeFromImageUrl(o){if(!o)throw new m("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const h=this._decodeOnLoadImage(u);return u.src=o,h}decodeFromVideoUrl(o){if(!o)throw new m("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElement(u);return u.src=o,h}decodeFromVideoUrlContinuously(o,u){if(!o)throw new m("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),x=this.decodeFromVideoElementContinuously(h,u);return h.src=o,x}_decodeOnLoadImage(o){return new Promise((u,h)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(u,h),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return X(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,u){return X(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,u)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let u;return typeof o>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(u=o),u}prepareVideoElement(o){let u;return!o&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(u=o),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(o,u=!0,h=!0){this._stopAsyncDecode=!1;const x=(w,y)=>{if(this._stopAsyncDecode){y(new xe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const B=this.decode(o);w(B)}catch(B){const I=u&&B instanceof xe,H=(B instanceof N||B instanceof M)&&h;if(I||H)return setTimeout(x,this._timeBetweenDecodingAttempts,w,y);y(B)}};return new Promise((w,y)=>x(w,y))}decodeContinuously(o,u){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const x=this.decode(o);u(x,null),setTimeout(h,this.timeBetweenScansMillis)}catch(x){u(null,x);const w=x instanceof N||x instanceof M,y=x instanceof xe;(w||y)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(o){const u=this.createBinaryBitmap(o);return this.decodeBitmap(u)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,u,h){u||(u={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(o,u,h=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const u=this.getCaptureCanvas(o),h=new et(u),x=new ye(h);return new b(x)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const u=this.createCaptureCanvas(o);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let h,x;return typeof o<"u"&&(o instanceof HTMLVideoElement?(h=o.videoWidth,x=o.videoHeight):o instanceof HTMLImageElement&&(h=o.naturalWidth||o.width,x=o.naturalHeight||o.height)),u.style.width=h+"px",u.style.height=x+"px",u.width=h,u.height=x,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,u){try{o.srcObject=u}catch{o.src=URL.createObjectURL(u)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class oe{constructor(o,u,h=u==null?0:8*u.length,x,w,y=k.currentTimeMillis()){this.text=o,this.rawBytes=u,this.numBits=h,this.resultPoints=x,this.format=w,this.timestamp=y,this.text=o,this.rawBytes=u,h==null?this.numBits=u==null?0:8*u.length:this.numBits=h,this.resultPoints=x,this.format=w,this.resultMetadata=null,y==null?this.timestamp=k.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,u)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const u=this.resultPoints;if(u===null)this.resultPoints=o;else if(o!==null&&o.length>0){const h=new Array(u.length+o.length);k.arraycopy(u,0,h,0,u.length),k.arraycopy(o,0,h,u.length,o.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ce;(function(Y){Y[Y.AZTEC=0]="AZTEC",Y[Y.CODABAR=1]="CODABAR",Y[Y.CODE_39=2]="CODE_39",Y[Y.CODE_93=3]="CODE_93",Y[Y.CODE_128=4]="CODE_128",Y[Y.DATA_MATRIX=5]="DATA_MATRIX",Y[Y.EAN_8=6]="EAN_8",Y[Y.EAN_13=7]="EAN_13",Y[Y.ITF=8]="ITF",Y[Y.MAXICODE=9]="MAXICODE",Y[Y.PDF_417=10]="PDF_417",Y[Y.QR_CODE=11]="QR_CODE",Y[Y.RSS_14=12]="RSS_14",Y[Y.RSS_EXPANDED=13]="RSS_EXPANDED",Y[Y.UPC_A=14]="UPC_A",Y[Y.UPC_E=15]="UPC_E",Y[Y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ce||(ce={}));var be=ce,Je;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.ORIENTATION=1]="ORIENTATION",Y[Y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Y[Y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Y[Y.ISSUE_NUMBER=4]="ISSUE_NUMBER",Y[Y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Y[Y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Y[Y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Y[Y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Y[Y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Y[Y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Je||(Je={}));var ke=Je;class He{constructor(o,u,h,x,w=-1,y=-1){this.rawBytes=o,this.text=u,this.byteSegments=h,this.ecLevel=x,this.structuredAppendSequenceNumber=w,this.structuredAppendParity=y,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Te{exp(o){return this.expTable[o]}log(o){if(o===0)throw new C;return this.logTable[o]}static addOrSubtract(o,u){return o^u}}class pt{constructor(o,u){if(u.length===0)throw new C;this.field=o;const h=u.length;if(h>1&&u[0]===0){let x=1;for(;x<h&&u[x]===0;)x++;x===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-x),k.arraycopy(u,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const u=this.coefficients;let h;if(o===1){h=0;for(let y=0,B=u.length;y!==B;y++){const I=u[y];h=Te.addOrSubtract(h,I)}return h}h=u[0];const x=u.length,w=this.field;for(let y=1;y<x;y++)h=Te.addOrSubtract(w.multiply(o,h),u[y]);return h}addOrSubtract(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,h=o.coefficients;if(u.length>h.length){const y=u;u=h,h=y}let x=new Int32Array(h.length);const w=h.length-u.length;k.arraycopy(h,0,x,0,w);for(let y=w;y<h.length;y++)x[y]=Te.addOrSubtract(u[y-w],h[y]);return new pt(this.field,x)}multiply(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const u=this.coefficients,h=u.length,x=o.coefficients,w=x.length,y=new Int32Array(h+w-1),B=this.field;for(let I=0;I<h;I++){const D=u[I];for(let H=0;H<w;H++)y[I+H]=Te.addOrSubtract(y[I+H],B.multiply(D,x[H]))}return new pt(B,y)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const u=this.coefficients.length,h=this.field,x=new Int32Array(u),w=this.coefficients;for(let y=0;y<u;y++)x[y]=h.multiply(w[y],o);return new pt(h,x)}multiplyByMonomial(o,u){if(o<0)throw new C;if(u===0)return this.field.getZero();const h=this.coefficients,x=h.length,w=new Int32Array(x+o),y=this.field;for(let B=0;B<x;B++)w[B]=y.multiply(h[B],u);return new pt(y,w)}divide(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new C("Divide by 0");const u=this.field;let h=u.getZero(),x=this;const w=o.getCoefficient(o.getDegree()),y=u.inverse(w);for(;x.getDegree()>=o.getDegree()&&!x.isZero();){const B=x.getDegree()-o.getDegree(),I=u.multiply(x.getCoefficient(x.getDegree()),y),D=o.multiplyByMonomial(B,I),H=u.buildMonomial(B,I);h=h.addOrSubtract(H),x=x.addOrSubtract(D)}return[h,x]}toString(){let o="";for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);if(h!==0){if(h<0?(o+=" - ",h=-h):o.length>0&&(o+=" + "),u===0||h!==1){const x=this.field.log(h);x===0?o+="1":x===1?o+="a":(o+="a^",o+=x)}u!==0&&(u===1?o+="x":(o+="x^",o+=u))}}return o}}class se extends d{}se.kind="ArithmeticException";class Xe extends Te{constructor(o,u,h){super(),this.primitive=o,this.size=u,this.generatorBase=h;const x=new Int32Array(u);let w=1;for(let B=0;B<u;B++)x[B]=w,w*=2,w>=u&&(w^=o,w&=u-1);this.expTable=x;const y=new Int32Array(u);for(let B=0;B<u-1;B++)y[x[B]]=B;this.logTable=y,this.zero=new pt(this,Int32Array.from([0])),this.one=new pt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new C;if(u===0)return this.zero;const h=new Int32Array(o+1);return h[0]=u,new pt(this,h)}inverse(o){if(o===0)throw new se;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Q.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Xe.AZTEC_DATA_12=new Xe(4201,4096,1),Xe.AZTEC_DATA_10=new Xe(1033,1024,1),Xe.AZTEC_DATA_6=new Xe(67,64,1),Xe.AZTEC_PARAM=new Xe(19,16,1),Xe.QR_CODE_FIELD_256=new Xe(285,256,0),Xe.DATA_MATRIX_FIELD_256=new Xe(301,256,1),Xe.AZTEC_DATA_8=Xe.DATA_MATRIX_FIELD_256,Xe.MAXICODE_FIELD_64=Xe.AZTEC_DATA_6;class vt extends d{}vt.kind="ReedSolomonException";class Ft extends d{}Ft.kind="IllegalStateException";class At{constructor(o){this.field=o}decode(o,u){const h=this.field,x=new pt(h,o),w=new Int32Array(u);let y=!0;for(let we=0;we<u;we++){const _e=x.evaluateAt(h.exp(we+h.getGeneratorBase()));w[w.length-1-we]=_e,_e!==0&&(y=!1)}if(y)return;const B=new pt(h,w),I=this.runEuclideanAlgorithm(h.buildMonomial(u,1),B,u),D=I[0],H=I[1],Z=this.findErrorLocations(D),ae=this.findErrorMagnitudes(H,Z);for(let we=0;we<Z.length;we++){const _e=o.length-1-h.log(Z[we]);if(_e<0)throw new vt("Bad error location");o[_e]=Xe.addOrSubtract(o[_e],ae[we])}}runEuclideanAlgorithm(o,u,h){if(o.getDegree()<u.getDegree()){const we=o;o=u,u=we}const x=this.field;let w=o,y=u,B=x.getZero(),I=x.getOne();for(;y.getDegree()>=(h/2|0);){let we=w,_e=B;if(w=y,B=I,w.isZero())throw new vt("r_{i-1} was zero");y=we;let Se=x.getZero();const Ue=w.getCoefficient(w.getDegree()),Ze=x.inverse(Ue);for(;y.getDegree()>=w.getDegree()&&!y.isZero();){const Bt=y.getDegree()-w.getDegree(),Et=x.multiply(y.getCoefficient(y.getDegree()),Ze);Se=Se.addOrSubtract(x.buildMonomial(Bt,Et)),y=y.addOrSubtract(w.multiplyByMonomial(Bt,Et))}if(I=Se.multiply(B).addOrSubtract(_e),y.getDegree()>=w.getDegree())throw new Ft("Division algorithm failed to reduce polynomial?")}const D=I.getCoefficient(0);if(D===0)throw new vt("sigmaTilde(0) was zero");const H=x.inverse(D),Z=I.multiplyScalar(H),ae=y.multiplyScalar(H);return[Z,ae]}findErrorLocations(o){const u=o.getDegree();if(u===1)return Int32Array.from([o.getCoefficient(1)]);const h=new Int32Array(u);let x=0;const w=this.field;for(let y=1;y<w.getSize()&&x<u;y++)o.evaluateAt(y)===0&&(h[x]=w.inverse(y),x++);if(x!==u)throw new vt("Error locator degree does not match number of roots");return h}findErrorMagnitudes(o,u){const h=u.length,x=new Int32Array(h),w=this.field;for(let y=0;y<h;y++){const B=w.inverse(u[y]);let I=1;for(let D=0;D<h;D++)if(y!==D){const H=w.multiply(u[D],B),Z=(H&1)===0?H|1:H&-2;I=w.multiply(I,Z)}x[y]=w.multiply(o.evaluateAt(B),w.inverse(I)),w.getGeneratorBase()!==0&&(x[y]=w.multiply(x[y],B))}return x}}var ot;(function(Y){Y[Y.UPPER=0]="UPPER",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.DIGIT=3]="DIGIT",Y[Y.PUNCT=4]="PUNCT",Y[Y.BINARY=5]="BINARY"})(ot||(ot={}));class Dt{decode(o){this.ddata=o;let u=o.getBits(),h=this.extractBits(u),x=this.correctBits(h),w=Dt.convertBoolArrayToByteArray(x),y=Dt.getEncodedData(x),B=new He(w,y,null,null);return B.setNumBits(x.length),B}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let u=o.length,h=ot.UPPER,x=ot.UPPER,w="",y=0;for(;y<u;)if(x===ot.BINARY){if(u-y<5)break;let B=Dt.readCode(o,y,5);if(y+=5,B===0){if(u-y<11)break;B=Dt.readCode(o,y,11)+31,y+=11}for(let I=0;I<B;I++){if(u-y<8){y=u;break}const D=Dt.readCode(o,y,8);w+=W.castAsNonUtf8Char(D),y+=8}x=h}else{let B=x===ot.DIGIT?4:5;if(u-y<B)break;let I=Dt.readCode(o,y,B);y+=B;let D=Dt.getCharacter(x,I);D.startsWith("CTRL_")?(h=x,x=Dt.getTable(D.charAt(5)),D.charAt(6)==="L"&&(h=x)):(w+=D,x=h)}return w}static getTable(o){switch(o){case"L":return ot.LOWER;case"P":return ot.PUNCT;case"M":return ot.MIXED;case"D":return ot.DIGIT;case"B":return ot.BINARY;case"U":default:return ot.UPPER}}static getCharacter(o,u){switch(o){case ot.UPPER:return Dt.UPPER_TABLE[u];case ot.LOWER:return Dt.LOWER_TABLE[u];case ot.MIXED:return Dt.MIXED_TABLE[u];case ot.PUNCT:return Dt.PUNCT_TABLE[u];case ot.DIGIT:return Dt.DIGIT_TABLE[u];default:throw new Ft("Bad table")}}correctBits(o){let u,h;this.ddata.getNbLayers()<=2?(h=6,u=Xe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,u=Xe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,u=Xe.AZTEC_DATA_10):(h=12,u=Xe.AZTEC_DATA_12);let x=this.ddata.getNbDatablocks(),w=o.length/h;if(w<x)throw new M;let y=o.length%h,B=new Int32Array(w);for(let ae=0;ae<w;ae++,y+=h)B[ae]=Dt.readCode(o,y,h);try{new At(u).decode(B,w-x)}catch(ae){throw new M(ae)}let I=(1<<h)-1,D=0;for(let ae=0;ae<x;ae++){let we=B[ae];if(we===0||we===I)throw new M;(we===1||we===I-1)&&D++}let H=new Array(x*h-D),Z=0;for(let ae=0;ae<x;ae++){let we=B[ae];if(we===1||we===I-1)H.fill(we>1,Z,Z+h-1),Z+=h-1;else for(let _e=h-1;_e>=0;--_e)H[Z++]=(we&1<<_e)!==0}return H}extractBits(o){let u=this.ddata.isCompact(),h=this.ddata.getNbLayers(),x=(u?11:14)+h*4,w=new Int32Array(x),y=new Array(this.totalBitsInLayer(h,u));if(u)for(let B=0;B<w.length;B++)w[B]=B;else{let B=x+1+2*Q.truncDivision(Q.truncDivision(x,2)-1,15),I=x/2,D=Q.truncDivision(B,2);for(let H=0;H<I;H++){let Z=H+Q.truncDivision(H,15);w[I-H-1]=D-Z-1,w[I+H]=D+Z+1}}for(let B=0,I=0;B<h;B++){let D=(h-B)*4+(u?9:12),H=B*2,Z=x-1-H;for(let ae=0;ae<D;ae++){let we=ae*2;for(let _e=0;_e<2;_e++)y[I+we+_e]=o.get(w[H+_e],w[H+ae]),y[I+2*D+we+_e]=o.get(w[H+ae],w[Z-_e]),y[I+4*D+we+_e]=o.get(w[Z-_e],w[Z-ae]),y[I+6*D+we+_e]=o.get(w[Z-ae],w[H+_e])}I+=D*8}return y}static readCode(o,u,h){let x=0;for(let w=u;w<u+h;w++)x<<=1,o[w]&&(x|=1);return x}static readByte(o,u){let h=o.length-u;return h>=8?Dt.readCode(o,u,8):Dt.readCode(o,u,h)<<8-h}static convertBoolArrayToByteArray(o){let u=new Uint8Array((o.length+7)/8);for(let h=0;h<u.length;h++)u[h]=Dt.readByte(o,8*h);return u}totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Dt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Dt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Dt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Dt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Dt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Nt{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,u,h,x){const w=o-h,y=u-x;return Math.sqrt(w*w+y*y)}static sum(o){let u=0;for(let h=0,x=o.length;h!==x;h++){const w=o[h];u+=w}return u}}class wr{static floatToIntBits(o){return o}}wr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Tt{constructor(o,u){this.x=o,this.y=u}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof Tt){const u=o;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*wr.floatToIntBits(this.x)+wr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const u=this.distance(o[0],o[1]),h=this.distance(o[1],o[2]),x=this.distance(o[0],o[2]);let w,y,B;if(h>=u&&h>=x?(y=o[0],w=o[1],B=o[2]):x>=h&&x>=u?(y=o[1],w=o[0],B=o[2]):(y=o[2],w=o[0],B=o[1]),this.crossProductZ(w,y,B)<0){const I=w;w=B,B=I}o[0]=w,o[1]=y,o[2]=B}static distance(o,u){return Nt.distance(o.x,o.y,u.x,u.y)}static crossProductZ(o,u,h){const x=u.x,w=u.y;return(h.x-x)*(o.y-w)-(h.y-w)*(o.x-x)}}class un{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class nn extends un{constructor(o,u,h,x,w){super(o,u),this.compact=h,this.nbDatablocks=x,this.nbLayers=w}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Pe{constructor(o,u,h,x){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),u==null&&(u=Pe.INIT_SIZE),h==null&&(h=o.getWidth()/2|0),x==null&&(x=o.getHeight()/2|0);const w=u/2|0;if(this.leftInit=h-w,this.rightInit=h+w,this.upInit=x-w,this.downInit=x+w,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new xe}detect(){let o=this.leftInit,u=this.rightInit,h=this.upInit,x=this.downInit,w=!1,y=!0,B=!1,I=!1,D=!1,H=!1,Z=!1;const ae=this.width,we=this.height;for(;y;){y=!1;let _e=!0;for(;(_e||!I)&&u<ae;)_e=this.containsBlackPoint(h,x,u,!1),_e?(u++,y=!0,I=!0):I||u++;if(u>=ae){w=!0;break}let Se=!0;for(;(Se||!D)&&x<we;)Se=this.containsBlackPoint(o,u,x,!0),Se?(x++,y=!0,D=!0):D||x++;if(x>=we){w=!0;break}let Ue=!0;for(;(Ue||!H)&&o>=0;)Ue=this.containsBlackPoint(h,x,o,!1),Ue?(o--,y=!0,H=!0):H||o--;if(o<0){w=!0;break}let Ze=!0;for(;(Ze||!Z)&&h>=0;)Ze=this.containsBlackPoint(o,u,h,!0),Ze?(h--,y=!0,Z=!0):Z||h--;if(h<0){w=!0;break}y&&(B=!0)}if(!w&&B){const _e=u-o;let Se=null;for(let Et=1;Se===null&&Et<_e;Et++)Se=this.getBlackPointOnSegment(o,x-Et,o+Et,x);if(Se==null)throw new xe;let Ue=null;for(let Et=1;Ue===null&&Et<_e;Et++)Ue=this.getBlackPointOnSegment(o,h+Et,o+Et,h);if(Ue==null)throw new xe;let Ze=null;for(let Et=1;Ze===null&&Et<_e;Et++)Ze=this.getBlackPointOnSegment(u,h+Et,u-Et,h);if(Ze==null)throw new xe;let Bt=null;for(let Et=1;Bt===null&&Et<_e;Et++)Bt=this.getBlackPointOnSegment(u,x-Et,u-Et,x);if(Bt==null)throw new xe;return this.centerEdges(Bt,Se,Ze,Ue)}else throw new xe}getBlackPointOnSegment(o,u,h,x){const w=Nt.round(Nt.distance(o,u,h,x)),y=(h-o)/w,B=(x-u)/w,I=this.image;for(let D=0;D<w;D++){const H=Nt.round(o+D*y),Z=Nt.round(u+D*B);if(I.get(H,Z))return new Tt(H,Z)}return null}centerEdges(o,u,h,x){const w=o.getX(),y=o.getY(),B=u.getX(),I=u.getY(),D=h.getX(),H=h.getY(),Z=x.getX(),ae=x.getY(),we=Pe.CORR;return w<this.width/2?[new Tt(Z-we,ae+we),new Tt(B+we,I+we),new Tt(D-we,H-we),new Tt(w+we,y-we)]:[new Tt(Z+we,ae+we),new Tt(B+we,I-we),new Tt(D-we,H+we),new Tt(w-we,y-we)]}containsBlackPoint(o,u,h,x){const w=this.image;if(x){for(let y=o;y<=u;y++)if(w.get(y,h))return!0}else for(let y=o;y<=u;y++)if(w.get(h,y))return!0;return!1}}Pe.INIT_SIZE=10,Pe.CORR=1;class Le{static checkAndNudgePoints(o,u){const h=o.getWidth(),x=o.getHeight();let w=!0;for(let y=0;y<u.length&&w;y+=2){const B=Math.floor(u[y]),I=Math.floor(u[y+1]);if(B<-1||B>h||I<-1||I>x)throw new xe;w=!1,B===-1?(u[y]=0,w=!0):B===h&&(u[y]=h-1,w=!0),I===-1?(u[y+1]=0,w=!0):I===x&&(u[y+1]=x-1,w=!0)}w=!0;for(let y=u.length-2;y>=0&&w;y-=2){const B=Math.floor(u[y]),I=Math.floor(u[y+1]);if(B<-1||B>h||I<-1||I>x)throw new xe;w=!1,B===-1?(u[y]=0,w=!0):B===h&&(u[y]=h-1,w=!0),I===-1?(u[y+1]=0,w=!0):I===x&&(u[y+1]=x-1,w=!0)}}}class lt{constructor(o,u,h,x,w,y,B,I,D){this.a11=o,this.a21=u,this.a31=h,this.a12=x,this.a22=w,this.a32=y,this.a13=B,this.a23=I,this.a33=D}static quadrilateralToQuadrilateral(o,u,h,x,w,y,B,I,D,H,Z,ae,we,_e,Se,Ue){const Ze=lt.quadrilateralToSquare(o,u,h,x,w,y,B,I);return lt.squareToQuadrilateral(D,H,Z,ae,we,_e,Se,Ue).times(Ze)}transformPoints(o){const u=o.length,h=this.a11,x=this.a12,w=this.a13,y=this.a21,B=this.a22,I=this.a23,D=this.a31,H=this.a32,Z=this.a33;for(let ae=0;ae<u;ae+=2){const we=o[ae],_e=o[ae+1],Se=w*we+I*_e+Z;o[ae]=(h*we+y*_e+D)/Se,o[ae+1]=(x*we+B*_e+H)/Se}}transformPointsWithValues(o,u){const h=this.a11,x=this.a12,w=this.a13,y=this.a21,B=this.a22,I=this.a23,D=this.a31,H=this.a32,Z=this.a33,ae=o.length;for(let we=0;we<ae;we++){const _e=o[we],Se=u[we],Ue=w*_e+I*Se+Z;o[we]=(h*_e+y*Se+D)/Ue,u[we]=(x*_e+B*Se+H)/Ue}}static squareToQuadrilateral(o,u,h,x,w,y,B,I){const D=o-h+w-B,H=u-x+y-I;if(D===0&&H===0)return new lt(h-o,w-h,o,x-u,y-x,u,0,0,1);{const Z=h-w,ae=B-w,we=x-y,_e=I-y,Se=Z*_e-ae*we,Ue=(D*_e-ae*H)/Se,Ze=(Z*H-D*we)/Se;return new lt(h-o+Ue*h,B-o+Ze*B,o,x-u+Ue*x,I-u+Ze*I,u,Ue,Ze,1)}}static quadrilateralToSquare(o,u,h,x,w,y,B,I){return lt.squareToQuadrilateral(o,u,h,x,w,y,B,I).buildAdjoint()}buildAdjoint(){return new lt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new lt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class kt extends Le{sampleGrid(o,u,h,x,w,y,B,I,D,H,Z,ae,we,_e,Se,Ue,Ze,Bt,Et){const mt=lt.quadrilateralToQuadrilateral(x,w,y,B,I,D,H,Z,ae,we,_e,Se,Ue,Ze,Bt,Et);return this.sampleGridWithTransform(o,u,h,mt)}sampleGridWithTransform(o,u,h,x){if(u<=0||h<=0)throw new xe;const w=new Ie(u,h),y=new Float32Array(2*u);for(let B=0;B<h;B++){const I=y.length,D=B+.5;for(let H=0;H<I;H+=2)y[H]=H/2+.5,y[H+1]=D;x.transformPoints(y),Le.checkAndNudgePoints(o,y);try{for(let H=0;H<I;H+=2)o.get(Math.floor(y[H]),Math.floor(y[H+1]))&&w.set(H/2,B)}catch{throw new xe}}return w}}class tr{static setGridSampler(o){tr.gridSampler=o}static getInstance(){return tr.gridSampler}}tr.gridSampler=new kt;class st{constructor(o,u){this.x=o,this.y=u}toResultPoint(){return new Tt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class bt{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let u=this.getMatrixCenter(),h=this.getBullsEyeCorners(u);if(o){let y=h[0];h[0]=h[2],h[2]=y}this.extractParameters(h);let x=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),w=this.getMatrixCornerPoints(h);return new nn(x,w,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new xe;let u=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(o[0],o[1],u),this.sampleLine(o[1],o[2],u),this.sampleLine(o[2],o[3],u),this.sampleLine(o[3],o[0],u)]);this.shift=this.getRotation(h,u);let x=0;for(let y=0;y<4;y++){let B=h[(this.shift+y)%4];this.compact?(x<<=7,x+=B>>1&127):(x<<=10,x+=(B>>2&992)+(B>>1&31))}let w=this.getCorrectedParameterData(x,this.compact);this.compact?(this.nbLayers=(w>>6)+1,this.nbDataBlocks=(w&63)+1):(this.nbLayers=(w>>11)+1,this.nbDataBlocks=(w&2047)+1)}getRotation(o,u){let h=0;o.forEach((x,w,y)=>{let B=(x>>u-2<<1)+(x&1);h=(h<<3)+B}),h=((h&1)<<11)+(h>>1);for(let x=0;x<4;x++)if(Q.bitCount(h^this.EXPECTED_CORNER_BITS[x])<=2)return x;throw new xe}getCorrectedParameterData(o,u){let h,x;u?(h=7,x=2):(h=10,x=4);let w=h-x,y=new Int32Array(h);for(let I=h-1;I>=0;--I)y[I]=o&15,o>>=4;try{new At(Xe.AZTEC_PARAM).decode(y,w)}catch{throw new xe}let B=0;for(let I=0;I<x;I++)B=(B<<4)+y[I];return B}getBullsEyeCorners(o){let u=o,h=o,x=o,w=o,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Z=this.getFirstDifferent(u,y,1,-1),ae=this.getFirstDifferent(h,y,1,1),we=this.getFirstDifferent(x,y,-1,1),_e=this.getFirstDifferent(w,y,-1,-1);if(this.nbCenterLayers>2){let Se=this.distancePoint(_e,Z)*this.nbCenterLayers/(this.distancePoint(w,u)*(this.nbCenterLayers+2));if(Se<.75||Se>1.25||!this.isWhiteOrBlackRectangle(Z,ae,we,_e))break}u=Z,h=ae,x=we,w=_e,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new xe;this.compact=this.nbCenterLayers===5;let B=new Tt(u.getX()+.5,u.getY()-.5),I=new Tt(h.getX()+.5,h.getY()+.5),D=new Tt(x.getX()-.5,x.getY()+.5),H=new Tt(w.getX()-.5,w.getY()-.5);return this.expandSquare([B,I,D,H],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,u,h,x;try{let B=new Pe(this.image).detect();o=B[0],u=B[1],h=B[2],x=B[3]}catch{let I=this.image.getWidth()/2,D=this.image.getHeight()/2;o=this.getFirstDifferent(new st(I+7,D-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new st(I+7,D+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new st(I-7,D+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new st(I-7,D-7),!1,-1,-1).toResultPoint()}let w=Nt.round((o.getX()+x.getX()+u.getX()+h.getX())/4),y=Nt.round((o.getY()+x.getY()+u.getY()+h.getY())/4);try{let B=new Pe(this.image,15,w,y).detect();o=B[0],u=B[1],h=B[2],x=B[3]}catch{o=this.getFirstDifferent(new st(w+7,y-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new st(w+7,y+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new st(w-7,y+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new st(w-7,y-7),!1,-1,-1).toResultPoint()}return w=Nt.round((o.getX()+x.getX()+u.getX()+h.getX())/4),y=Nt.round((o.getY()+x.getY()+u.getY()+h.getY())/4),new st(w,y)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,u,h,x,w){let y=tr.getInstance(),B=this.getDimension(),I=B/2-this.nbCenterLayers,D=B/2+this.nbCenterLayers;return y.sampleGrid(o,B,B,I,I,D,I,D,D,I,D,u.getX(),u.getY(),h.getX(),h.getY(),x.getX(),x.getY(),w.getX(),w.getY())}sampleLine(o,u,h){let x=0,w=this.distanceResultPoint(o,u),y=w/h,B=o.getX(),I=o.getY(),D=y*(u.getX()-o.getX())/w,H=y*(u.getY()-o.getY())/w;for(let Z=0;Z<h;Z++)this.image.get(Nt.round(B+Z*D),Nt.round(I+Z*H))&&(x|=1<<h-Z-1);return x}isWhiteOrBlackRectangle(o,u,h,x){let w=3;o=new st(o.getX()-w,o.getY()+w),u=new st(u.getX()-w,u.getY()-w),h=new st(h.getX()+w,h.getY()-w),x=new st(x.getX()+w,x.getY()+w);let y=this.getColor(x,o);if(y===0)return!1;let B=this.getColor(o,u);return B!==y||(B=this.getColor(u,h),B!==y)?!1:(B=this.getColor(h,x),B===y)}getColor(o,u){let h=this.distancePoint(o,u),x=(u.getX()-o.getX())/h,w=(u.getY()-o.getY())/h,y=0,B=o.getX(),I=o.getY(),D=this.image.get(o.getX(),o.getY()),H=Math.ceil(h);for(let ae=0;ae<H;ae++)B+=x,I+=w,this.image.get(Nt.round(B),Nt.round(I))!==D&&y++;let Z=y/h;return Z>.1&&Z<.9?0:Z<=.1===D?1:-1}getFirstDifferent(o,u,h,x){let w=o.getX()+h,y=o.getY()+x;for(;this.isValid(w,y)&&this.image.get(w,y)===u;)w+=h,y+=x;for(w-=h,y-=x;this.isValid(w,y)&&this.image.get(w,y)===u;)w+=h;for(w-=h;this.isValid(w,y)&&this.image.get(w,y)===u;)y+=x;return y-=x,new st(w,y)}expandSquare(o,u,h){let x=h/(2*u),w=o[0].getX()-o[2].getX(),y=o[0].getY()-o[2].getY(),B=(o[0].getX()+o[2].getX())/2,I=(o[0].getY()+o[2].getY())/2,D=new Tt(B+x*w,I+x*y),H=new Tt(B-x*w,I-x*y);w=o[1].getX()-o[3].getX(),y=o[1].getY()-o[3].getY(),B=(o[1].getX()+o[3].getX())/2,I=(o[1].getY()+o[3].getY())/2;let Z=new Tt(B+x*w,I+x*y),ae=new Tt(B-x*w,I-x*y);return[D,Z,H,ae]}isValid(o,u){return o>=0&&o<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(o){let u=Nt.round(o.getX()),h=Nt.round(o.getY());return this.isValid(u,h)}distancePoint(o,u){return Nt.distance(o.getX(),o.getY(),u.getX(),u.getY())}distanceResultPoint(o,u){return Nt.distance(o.getX(),o.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Q.truncDivision(this.nbLayers-4,8)+1)+15}}class Wt{decode(o,u=null){let h=null,x=new bt(o.getBlackMatrix()),w=null,y=null;try{let H=x.detectMirror(!1);w=H.getPoints(),this.reportFoundResultPoints(u,w),y=new Dt().decode(H)}catch(H){h=H}if(y==null)try{let H=x.detectMirror(!0);w=H.getPoints(),this.reportFoundResultPoints(u,w),y=new Dt().decode(H)}catch(H){throw h??H}let B=new oe(y.getText(),y.getRawBytes(),y.getNumBits(),w,be.AZTEC,k.currentTimeMillis()),I=y.getByteSegments();I!=null&&B.putMetadata(ke.BYTE_SEGMENTS,I);let D=y.getECLevel();return D!=null&&B.putMetadata(ke.ERROR_CORRECTION_LEVEL,D),B}reportFoundResultPoints(o,u){if(o!=null){let h=o.get(G.NEED_RESULT_POINT_CALLBACK);h!=null&&u.forEach((x,w,y)=>{h.foundPossibleResultPoint(x)})}}reset(){}}class Er extends ue{constructor(o=500){super(new Wt,o)}}class Gt{decode(o,u){try{return this.doDecode(o,u)}catch{if(u&&u.get(G.TRY_HARDER)===!0&&o.isRotateSupported()){const w=o.rotateCounterClockwise(),y=this.doDecode(w,u),B=y.getResultMetadata();let I=270;B!==null&&B.get(ke.ORIENTATION)===!0&&(I=I+B.get(ke.ORIENTATION)%360),y.putMetadata(ke.ORIENTATION,I);const D=y.getResultPoints();if(D!==null){const H=w.getHeight();for(let Z=0;Z<D.length;Z++)D[Z]=new Tt(H-D[Z].getY()-1,D[Z].getX())}return y}else throw new xe}}reset(){}doDecode(o,u){const h=o.getWidth(),x=o.getHeight();let w=new J(h);const y=u&&u.get(G.TRY_HARDER)===!0,B=Math.max(1,x>>(y?8:5));let I;y?I=x:I=15;const D=Math.trunc(x/2);for(let H=0;H<I;H++){const Z=Math.trunc((H+1)/2),ae=(H&1)===0,we=D+B*(ae?Z:-Z);if(we<0||we>=x)break;try{w=o.getBlackRow(we,w)}catch{continue}for(let _e=0;_e<2;_e++){if(_e===1&&(w.reverse(),u&&u.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const Se=new Map;u.forEach((Ue,Ze)=>Se.set(Ze,Ue)),Se.delete(G.NEED_RESULT_POINT_CALLBACK),u=Se}try{const Se=this.decodeRow(we,w,u);if(_e===1){Se.putMetadata(ke.ORIENTATION,180);const Ue=Se.getResultPoints();Ue!==null&&(Ue[0]=new Tt(h-Ue[0].getX()-1,Ue[0].getY()),Ue[1]=new Tt(h-Ue[1].getX()-1,Ue[1].getY()))}return Se}catch{}}}throw new xe}static recordPattern(o,u,h){const x=h.length;for(let D=0;D<x;D++)h[D]=0;const w=o.getSize();if(u>=w)throw new xe;let y=!o.get(u),B=0,I=u;for(;I<w;){if(o.get(I)!==y)h[B]++;else{if(++B===x)break;h[B]=1,y=!y}I++}if(!(B===x||B===x-1&&I===w))throw new xe}static recordPatternInReverse(o,u,h){let x=h.length,w=o.get(u);for(;u>0&&x>=0;)o.get(--u)!==w&&(x--,w=!w);if(x>=0)throw new xe;Gt.recordPattern(o,u+1,h)}static patternMatchVariance(o,u,h){const x=o.length;let w=0,y=0;for(let D=0;D<x;D++)w+=o[D],y+=u[D];if(w<y)return Number.POSITIVE_INFINITY;const B=w/y;h*=B;let I=0;for(let D=0;D<x;D++){const H=o[D],Z=u[D]*B,ae=H>Z?H-Z:Z-H;if(ae>h)return Number.POSITIVE_INFINITY;I+=ae}return I/w}}class Ne extends Gt{static findStartPattern(o){const u=o.getSize(),h=o.getNextSet(0);let x=0,w=Int32Array.from([0,0,0,0,0,0]),y=h,B=!1;const I=6;for(let D=h;D<u;D++)if(o.get(D)!==B)w[x]++;else{if(x===I-1){let H=Ne.MAX_AVG_VARIANCE,Z=-1;for(let ae=Ne.CODE_START_A;ae<=Ne.CODE_START_C;ae++){const we=Gt.patternMatchVariance(w,Ne.CODE_PATTERNS[ae],Ne.MAX_INDIVIDUAL_VARIANCE);we<H&&(H=we,Z=ae)}if(Z>=0&&o.isRange(Math.max(0,y-(D-y)/2),y,!1))return Int32Array.from([y,D,Z]);y+=w[0]+w[1],w=w.slice(2,w.length-1),w[x-1]=0,w[x]=0,x--}else x++;w[x]=1,B=!B}throw new xe}static decodeCode(o,u,h){Gt.recordPattern(o,h,u);let x=Ne.MAX_AVG_VARIANCE,w=-1;for(let y=0;y<Ne.CODE_PATTERNS.length;y++){const B=Ne.CODE_PATTERNS[y],I=this.patternMatchVariance(u,B,Ne.MAX_INDIVIDUAL_VARIANCE);I<x&&(x=I,w=y)}if(w>=0)return w;throw new xe}decodeRow(o,u,h){const x=h&&h.get(G.ASSUME_GS1)===!0,w=Ne.findStartPattern(u),y=w[2];let B=0;const I=new Uint8Array(20);I[B++]=y;let D;switch(y){case Ne.CODE_START_A:D=Ne.CODE_CODE_A;break;case Ne.CODE_START_B:D=Ne.CODE_CODE_B;break;case Ne.CODE_START_C:D=Ne.CODE_CODE_C;break;default:throw new M}let H=!1,Z=!1,ae="",we=w[0],_e=w[1];const Se=Int32Array.from([0,0,0,0,0,0]);let Ue=0,Ze=0,Bt=y,Et=0,mt=!0,_r=!1,ur=!1;for(;!H;){const Lo=Z;switch(Z=!1,Ue=Ze,Ze=Ne.decodeCode(u,Se,_e),I[B++]=Ze,Ze!==Ne.CODE_STOP&&(mt=!0),Ze!==Ne.CODE_STOP&&(Et++,Bt+=Et*Ze),we=_e,_e+=Se.reduce((rd,zu)=>rd+zu,0),Ze){case Ne.CODE_START_A:case Ne.CODE_START_B:case Ne.CODE_START_C:throw new M}switch(D){case Ne.CODE_CODE_A:if(Ze<64)ur===_r?ae+=String.fromCharCode(32+Ze):ae+=String.fromCharCode(32+Ze+128),ur=!1;else if(Ze<96)ur===_r?ae+=String.fromCharCode(Ze-64):ae+=String.fromCharCode(Ze+64),ur=!1;else switch(Ze!==Ne.CODE_STOP&&(mt=!1),Ze){case Ne.CODE_FNC_1:x&&(ae.length===0?ae+="]C1":ae+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_A:!_r&&ur?(_r=!0,ur=!1):_r&&ur?(_r=!1,ur=!1):ur=!0;break;case Ne.CODE_SHIFT:Z=!0,D=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_B:D=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_C:D=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:H=!0;break}break;case Ne.CODE_CODE_B:if(Ze<96)ur===_r?ae+=String.fromCharCode(32+Ze):ae+=String.fromCharCode(32+Ze+128),ur=!1;else switch(Ze!==Ne.CODE_STOP&&(mt=!1),Ze){case Ne.CODE_FNC_1:x&&(ae.length===0?ae+="]C1":ae+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_B:!_r&&ur?(_r=!0,ur=!1):_r&&ur?(_r=!1,ur=!1):ur=!0;break;case Ne.CODE_SHIFT:Z=!0,D=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_A:D=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_C:D=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:H=!0;break}break;case Ne.CODE_CODE_C:if(Ze<100)Ze<10&&(ae+="0"),ae+=Ze;else switch(Ze!==Ne.CODE_STOP&&(mt=!1),Ze){case Ne.CODE_FNC_1:x&&(ae.length===0?ae+="]C1":ae+="");break;case Ne.CODE_CODE_A:D=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_B:D=Ne.CODE_CODE_B;break;case Ne.CODE_STOP:H=!0;break}break}Lo&&(D=D===Ne.CODE_CODE_A?Ne.CODE_CODE_B:Ne.CODE_CODE_A)}const Kn=_e-we;if(_e=u.getNextUnset(_e),!u.isRange(_e,Math.min(u.getSize(),_e+(_e-we)/2),!1))throw new xe;if(Bt-=Et*Ue,Bt%103!==Ue)throw new N;const Hs=ae.length;if(Hs===0)throw new xe;Hs>0&&mt&&(D===Ne.CODE_CODE_C?ae=ae.substring(0,Hs-2):ae=ae.substring(0,Hs-1));const Oi=(w[1]+w[0])/2,tn=we+Kn/2,xi=I.length,ws=new Uint8Array(xi);for(let Lo=0;Lo<xi;Lo++)ws[Lo]=I[Lo];const vl=[new Tt(Oi,o),new Tt(tn,o)];return new oe(ae,ws,0,vl,be.CODE_128,new Date().getTime())}}Ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ne.MAX_AVG_VARIANCE=.25,Ne.MAX_INDIVIDUAL_VARIANCE=.7,Ne.CODE_SHIFT=98,Ne.CODE_CODE_C=99,Ne.CODE_CODE_B=100,Ne.CODE_CODE_A=101,Ne.CODE_FNC_1=102,Ne.CODE_FNC_2=97,Ne.CODE_FNC_3=96,Ne.CODE_FNC_4_A=101,Ne.CODE_FNC_4_B=100,Ne.CODE_START_A=103,Ne.CODE_START_B=104,Ne.CODE_START_C=105,Ne.CODE_STOP=106;class Rt extends Gt{constructor(o=!1,u=!1){super(),this.usingCheckDigit=o,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,u,h){let x=this.counters;x.fill(0),this.decodeRowResult="";let w=Rt.findAsteriskPattern(u,x),y=u.getNextSet(w[1]),B=u.getSize(),I,D;do{Rt.recordPattern(u,y,x);let Se=Rt.toNarrowWidePattern(x);if(Se<0)throw new xe;I=Rt.patternToChar(Se),this.decodeRowResult+=I,D=y;for(let Ue of x)y+=Ue;y=u.getNextSet(y)}while(I!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let H=0;for(let Se of x)H+=Se;let Z=y-D-H;if(y!==B&&Z*2<H)throw new xe;if(this.usingCheckDigit){let Se=this.decodeRowResult.length-1,Ue=0;for(let Ze=0;Ze<Se;Ze++)Ue+=Rt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ze));if(this.decodeRowResult.charAt(Se)!==Rt.ALPHABET_STRING.charAt(Ue%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,Se)}if(this.decodeRowResult.length===0)throw new xe;let ae;this.extendedMode?ae=Rt.decodeExtended(this.decodeRowResult):ae=this.decodeRowResult;let we=(w[1]+w[0])/2,_e=D+H/2;return new oe(ae,null,0,[new Tt(we,o),new Tt(_e,o)],be.CODE_39,new Date().getTime())}static findAsteriskPattern(o,u){let h=o.getSize(),x=o.getNextSet(0),w=0,y=x,B=!1,I=u.length;for(let D=x;D<h;D++)if(o.get(D)!==B)u[w]++;else{if(w===I-1){if(this.toNarrowWidePattern(u)===Rt.ASTERISK_ENCODING&&o.isRange(Math.max(0,y-Math.floor((D-y)/2)),y,!1))return[y,D];y+=u[0]+u[1],u.copyWithin(0,2,2+w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,B=!B}throw new xe}static toNarrowWidePattern(o){let u=o.length,h=0,x;do{let w=2147483647;for(let I of o)I<w&&I>h&&(w=I);h=w,x=0;let y=0,B=0;for(let I=0;I<u;I++){let D=o[I];D>h&&(B|=1<<u-1-I,x++,y+=D)}if(x===3){for(let I=0;I<u&&x>0;I++){let D=o[I];if(D>h&&(x--,D*2>=y))return-1}return B}}while(x>3);return-1}static patternToChar(o){for(let u=0;u<Rt.CHARACTER_ENCODINGS.length;u++)if(Rt.CHARACTER_ENCODINGS[u]===o)return Rt.ALPHABET_STRING.charAt(u);if(o===Rt.ASTERISK_ENCODING)return"*";throw new xe}static decodeExtended(o){let u=o.length,h="";for(let x=0;x<u;x++){let w=o.charAt(x);if(w==="+"||w==="$"||w==="%"||w==="/"){let y=o.charAt(x+1),B="\0";switch(w){case"+":if(y>="A"&&y<="Z")B=String.fromCharCode(y.charCodeAt(0)+32);else throw new M;break;case"$":if(y>="A"&&y<="Z")B=String.fromCharCode(y.charCodeAt(0)-64);else throw new M;break;case"%":if(y>="A"&&y<="E")B=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")B=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")B=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")B=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")B="\0";else if(y==="V")B="@";else if(y==="W")B="`";else if(y==="X"||y==="Y"||y==="Z")B="";else throw new M;break;case"/":if(y>="A"&&y<="O")B=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")B=":";else throw new M;break}h+=B,x++}else h+=w}return h}}Rt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Rt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Rt.ASTERISK_ENCODING=148;class jt extends Gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,u,h){let x=this.decodeStart(u),w=this.decodeEnd(u),y=new q;jt.decodeMiddle(u,x[1],w[0],y);let B=y.toString(),I=null;h!=null&&(I=h.get(G.ALLOWED_LENGTHS)),I==null&&(I=jt.DEFAULT_ALLOWED_LENGTHS);let D=B.length,H=!1,Z=0;for(let _e of I){if(D===_e){H=!0;break}_e>Z&&(Z=_e)}if(!H&&D>Z&&(H=!0),!H)throw new M;const ae=[new Tt(x[1],o),new Tt(w[0],o)];return new oe(B,null,0,ae,be.ITF,new Date().getTime())}static decodeMiddle(o,u,h,x){let w=new Int32Array(10),y=new Int32Array(5),B=new Int32Array(5);for(w.fill(0),y.fill(0),B.fill(0);u<h;){Gt.recordPattern(o,u,w);for(let D=0;D<5;D++){let H=2*D;y[D]=w[H],B[D]=w[H+1]}let I=jt.decodeDigit(y);x.append(I.toString()),I=this.decodeDigit(B),x.append(I.toString()),w.forEach(function(D){u+=D})}}decodeStart(o){let u=jt.skipWhiteSpace(o),h=jt.findGuardPattern(o,u,jt.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(o,h[0]),h}validateQuietZone(o,u){let h=this.narrowLineWidth*10;h=h<u?h:u;for(let x=u-1;h>0&&x>=0&&!o.get(x);x--)h--;if(h!==0)throw new xe}static skipWhiteSpace(o){const u=o.getSize(),h=o.getNextSet(0);if(h===u)throw new xe;return h}decodeEnd(o){o.reverse();try{let u=jt.skipWhiteSpace(o),h;try{h=jt.findGuardPattern(o,u,jt.END_PATTERN_REVERSED[0])}catch(w){w instanceof xe&&(h=jt.findGuardPattern(o,u,jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,h[0]);let x=h[0];return h[0]=o.getSize()-h[1],h[1]=o.getSize()-x,h}finally{o.reverse()}}static findGuardPattern(o,u,h){let x=h.length,w=new Int32Array(x),y=o.getSize(),B=!1,I=0,D=u;w.fill(0);for(let H=u;H<y;H++)if(o.get(H)!==B)w[I]++;else{if(I===x-1){if(Gt.patternMatchVariance(w,h,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return[D,H];D+=w[0]+w[1],k.arraycopy(w,2,w,0,I-1),w[I-1]=0,w[I]=0,I--}else I++;w[I]=1,B=!B}throw new xe}static decodeDigit(o){let u=jt.MAX_AVG_VARIANCE,h=-1,x=jt.PATTERNS.length;for(let w=0;w<x;w++){let y=jt.PATTERNS[w],B=Gt.patternMatchVariance(o,y,jt.MAX_INDIVIDUAL_VARIANCE);B<u?(u=B,h=w):B===u&&(h=-1)}if(h>=0)return h%10;throw new xe}}jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],jt.MAX_AVG_VARIANCE=.38,jt.MAX_INDIVIDUAL_VARIANCE=.5,jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],jt.START_PATTERN=Int32Array.from([1,1,1,1]),jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ar extends Gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let u=!1,h,x=0,w=Int32Array.from([0,0,0]);for(;!u;){w=Int32Array.from([0,0,0]),h=Ar.findGuardPattern(o,x,!1,this.START_END_PATTERN,w);let y=h[0];x=h[1];let B=y-(x-y);B>=0&&(u=o.isRange(B,y,!1))}return h}static checkChecksum(o){return Ar.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let h=parseInt(o.charAt(u-1),10);return Ar.getStandardUPCEANChecksum(o.substring(0,u-1))===h}static getStandardUPCEANChecksum(o){let u=o.length,h=0;for(let x=u-1;x>=0;x-=2){let w=o.charAt(x).charCodeAt(0)-48;if(w<0||w>9)throw new M;h+=w}h*=3;for(let x=u-2;x>=0;x-=2){let w=o.charAt(x).charCodeAt(0)-48;if(w<0||w>9)throw new M;h+=w}return(1e3-h)%10}static decodeEnd(o,u){return Ar.findGuardPattern(o,u,!1,Ar.START_END_PATTERN,new Int32Array(Ar.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,u,h,x){return this.findGuardPattern(o,u,h,x,new Int32Array(x.length))}static findGuardPattern(o,u,h,x,w){let y=o.getSize();u=h?o.getNextUnset(u):o.getNextSet(u);let B=0,I=u,D=x.length,H=h;for(let Z=u;Z<y;Z++)if(o.get(Z)!==H)w[B]++;else{if(B===D-1){if(Gt.patternMatchVariance(w,x,Ar.MAX_INDIVIDUAL_VARIANCE)<Ar.MAX_AVG_VARIANCE)return Int32Array.from([I,Z]);I+=w[0]+w[1];let ae=w.slice(2,w.length-1);for(let we=0;we<B-1;we++)w[we]=ae[we];w[B-1]=0,w[B]=0,B--}else B++;w[B]=1,H=!H}throw new xe}static decodeDigit(o,u,h,x){this.recordPattern(o,h,u);let w=this.MAX_AVG_VARIANCE,y=-1,B=x.length;for(let I=0;I<B;I++){let D=x[I],H=Gt.patternMatchVariance(u,D,Ar.MAX_INDIVIDUAL_VARIANCE);H<w&&(w=H,y=I)}if(y>=0)return y;throw new xe}}Ar.MAX_AVG_VARIANCE=.48,Ar.MAX_INDIVIDUAL_VARIANCE=.7,Ar.START_END_PATTERN=Int32Array.from([1,1,1]),Ar.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ar.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ar.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Re{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,h){let x=this.decodeRowStringBuffer,w=this.decodeMiddle(u,h,x),y=x.toString(),B=Re.parseExtensionString(y),I=[new Tt((h[0]+h[1])/2,o),new Tt(w,o)],D=new oe(y,null,0,I,be.UPC_EAN_EXTENSION,new Date().getTime());return B!=null&&D.putAllMetadata(B),D}decodeMiddle(o,u,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let w=o.getSize(),y=u[1],B=0;for(let D=0;D<5&&y<w;D++){let H=Ar.decodeDigit(o,x,y,Ar.L_AND_G_PATTERNS);h+=String.fromCharCode(48+H%10);for(let Z of x)y+=Z;H>=10&&(B|=1<<4-D),D!==4&&(y=o.getNextSet(y),y=o.getNextUnset(y))}if(h.length!==5)throw new xe;let I=this.determineCheckDigit(B);if(Re.extensionChecksum(h.toString())!==I)throw new xe;return y}static extensionChecksum(o){let u=o.length,h=0;for(let x=u-2;x>=0;x-=2)h+=o.charAt(x).charCodeAt(0)-48;h*=3;for(let x=u-1;x>=0;x-=2)h+=o.charAt(x).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(o){for(let u=0;u<10;u++)if(o===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new xe}static parseExtensionString(o){if(o.length!==5)return null;let u=Re.parseExtension5String(o);return u==null?null:new Map([[ke.SUGGESTED_PRICE,u]])}static parseExtension5String(o){let u;switch(o.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let h=parseInt(o.substring(1)),x=(h/100).toString(),w=h%100,y=w<10?"0"+w:w.toString();return u+x+"."+y}}class ht{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,h){let x=this.decodeRowStringBuffer,w=this.decodeMiddle(u,h,x),y=x.toString(),B=ht.parseExtensionString(y),I=[new Tt((h[0]+h[1])/2,o),new Tt(w,o)],D=new oe(y,null,0,I,be.UPC_EAN_EXTENSION,new Date().getTime());return B!=null&&D.putAllMetadata(B),D}decodeMiddle(o,u,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let w=o.getSize(),y=u[1],B=0;for(let I=0;I<2&&y<w;I++){let D=Ar.decodeDigit(o,x,y,Ar.L_AND_G_PATTERNS);h+=String.fromCharCode(48+D%10);for(let H of x)y+=H;D>=10&&(B|=1<<1-I),I!==1&&(y=o.getNextSet(y),y=o.getNextUnset(y))}if(h.length!==2)throw new xe;if(parseInt(h.toString())%4!==B)throw new xe;return y}static parseExtensionString(o){return o.length!==2?null:new Map([[ke.ISSUE_NUMBER,parseInt(o)]])}}class ft{static decodeRow(o,u,h){let x=Ar.findGuardPattern(u,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Re().decodeRow(o,u,x)}catch{return new ht().decodeRow(o,u,x)}}}ft.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class it extends Ar{constructor(){super(),this.decodeRowStringBuffer="",it.L_AND_G_PATTERNS=it.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let u=it.L_PATTERNS[o-10],h=new Int32Array(u.length);for(let x=0;x<u.length;x++)h[x]=u[u.length-x-1];it.L_AND_G_PATTERNS[o]=h}}decodeRow(o,u,h){let x=it.findStartGuardPattern(u),w=h==null?null:h.get(G.NEED_RESULT_POINT_CALLBACK);if(w!=null){const mt=new Tt((x[0]+x[1])/2,o);w.foundPossibleResultPoint(mt)}let y=this.decodeMiddle(u,x,this.decodeRowStringBuffer),B=y.rowOffset,I=y.resultString;if(w!=null){const mt=new Tt(B,o);w.foundPossibleResultPoint(mt)}let D=this.decodeEnd(u,B);if(w!=null){const mt=new Tt((D[0]+D[1])/2,o);w.foundPossibleResultPoint(mt)}let H=D[1],Z=H+(H-D[0]);if(Z>=u.getSize()||!u.isRange(H,Z,!1))throw new xe;let ae=I.toString();if(ae.length<8)throw new M;if(!it.checkChecksum(ae))throw new N;let we=(x[1]+x[0])/2,_e=(D[1]+D[0])/2,Se=this.getBarcodeFormat(),Ue=[new Tt(we,o),new Tt(_e,o)],Ze=new oe(ae,null,0,Ue,Se,new Date().getTime()),Bt=0;try{let mt=ft.decodeRow(o,u,D[1]);Ze.putMetadata(ke.UPC_EAN_EXTENSION,mt.getText()),Ze.putAllMetadata(mt.getResultMetadata()),Ze.addResultPoints(mt.getResultPoints()),Bt=mt.getText().length}catch{}let Et=h==null?null:h.get(G.ALLOWED_EAN_EXTENSIONS);if(Et!=null){let mt=!1;for(let _r in Et)if(Bt.toString()===_r){mt=!0;break}if(!mt)throw new xe}return Ze}decodeEnd(o,u){return it.findGuardPattern(o,u,!1,it.START_END_PATTERN,new Int32Array(it.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return it.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let h=parseInt(o.charAt(u-1),10);return it.getStandardUPCEANChecksum(o.substring(0,u-1))===h}static getStandardUPCEANChecksum(o){let u=o.length,h=0;for(let x=u-1;x>=0;x-=2){let w=o.charAt(x).charCodeAt(0)-48;if(w<0||w>9)throw new M;h+=w}h*=3;for(let x=u-2;x>=0;x-=2){let w=o.charAt(x).charCodeAt(0)-48;if(w<0||w>9)throw new M;h+=w}return(1e3-h)%10}}class Xt extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let w=o.getSize(),y=u[1],B=0;for(let D=0;D<6&&y<w;D++){let H=it.decodeDigit(o,x,y,it.L_AND_G_PATTERNS);h+=String.fromCharCode(48+H%10);for(let Z of x)y+=Z;H>=10&&(B|=1<<5-D)}h=Xt.determineFirstDigit(h,B),y=it.findGuardPattern(o,y,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let D=0;D<6&&y<w;D++){let H=it.decodeDigit(o,x,y,it.L_PATTERNS);h+=String.fromCharCode(48+H);for(let Z of x)y+=Z}return{rowOffset:y,resultString:h}}getBarcodeFormat(){return be.EAN_13}static determineFirstDigit(o,u){for(let h=0;h<10;h++)if(u===this.FIRST_DIGIT_ENCODINGS[h])return o=String.fromCharCode(48+h)+o,o;throw new xe}}Xt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class xr extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,h){const x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let w=o.getSize(),y=u[1];for(let I=0;I<4&&y<w;I++){let D=it.decodeDigit(o,x,y,it.L_PATTERNS);h+=String.fromCharCode(48+D);for(let H of x)y+=H}y=it.findGuardPattern(o,y,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<4&&y<w;I++){let D=it.decodeDigit(o,x,y,it.L_PATTERNS);h+=String.fromCharCode(48+D);for(let H of x)y+=H}return{rowOffset:y,resultString:h}}getBarcodeFormat(){return be.EAN_8}}class Jr extends it{constructor(){super(...arguments),this.ean13Reader=new Xt}getBarcodeFormat(){return be.UPC_A}decode(o,u){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,u,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,u,h))}decodeMiddle(o,u,h){return this.ean13Reader.decodeMiddle(o,u,h)}maybeReturnResult(o){let u=o.getText();if(u.charAt(0)==="0"){let h=new oe(u.substring(1),null,null,o.getResultPoints(),be.UPC_A);return o.getResultMetadata()!=null&&h.putAllMetadata(o.getResultMetadata()),h}else throw new xe}reset(){this.ean13Reader.reset()}}class sn extends it{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,u,h){const x=this.decodeMiddleCounters.map(D=>D);x[0]=0,x[1]=0,x[2]=0,x[3]=0;const w=o.getSize();let y=u[1],B=0;for(let D=0;D<6&&y<w;D++){const H=sn.decodeDigit(o,x,y,sn.L_AND_G_PATTERNS);h+=String.fromCharCode(48+H%10);for(let Z of x)y+=Z;H>=10&&(B|=1<<5-D)}let I=sn.determineNumSysAndCheckDigit(h,B);return{rowOffset:y,resultString:I}}decodeEnd(o,u){return sn.findGuardPatternWithoutCounters(o,u,!0,sn.MIDDLE_END_PATTERN)}checkChecksum(o){return it.checkChecksum(sn.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,u){for(let h=0;h<=1;h++)for(let x=0;x<10;x++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][x]){let w=String.fromCharCode(48+h),y=String.fromCharCode(48+x);return w+o+y}throw xe.getNotFoundInstance()}getBarcodeFormat(){return be.UPC_E}static convertUPCEtoUPCA(o){const u=o.slice(1,7).split("").map(w=>w.charCodeAt(0)),h=new q;h.append(o.charAt(0));let x=u[5];switch(x){case 0:case 1:case 2:h.appendChars(u,0,2),h.append(x),h.append("0000"),h.appendChars(u,2,3);break;case 3:h.appendChars(u,0,3),h.append("00000"),h.appendChars(u,3,2);break;case 4:h.appendChars(u,0,4),h.append("00000"),h.append(u[4]);break;default:h.appendChars(u,0,5),h.append("0000"),h.append(x);break}return o.length>=8&&h.append(o.charAt(7)),h.toString()}}sn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),sn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ns extends Gt{constructor(o){super();let u=o==null?null:o.get(G.POSSIBLE_FORMATS),h=[];n(u)?(h.push(new Xt),h.push(new Jr),h.push(new xr),h.push(new sn)):(u.indexOf(be.EAN_13)>-1&&h.push(new Xt),u.indexOf(be.UPC_A)>-1&&h.push(new Jr),u.indexOf(be.EAN_8)>-1&&h.push(new xr),u.indexOf(be.UPC_E)>-1&&h.push(new sn)),this.readers=h}decodeRow(o,u,h){for(let x of this.readers)try{const w=x.decodeRow(o,u,h),y=w.getBarcodeFormat()===be.EAN_13&&w.getText().charAt(0)==="0",B=h==null?null:h.get(G.POSSIBLE_FORMATS),I=B==null||B.includes(be.UPC_A);if(y&&I){const D=w.getRawBytes(),H=new oe(w.getText().substring(1),D,D?D.length:null,w.getResultPoints(),be.UPC_A);return H.putAllMetadata(w.getResultMetadata()),H}return w}catch{}throw new xe}reset(){for(let o of this.readers)o.reset()}}class Nn extends Gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,u){for(let h=0;h<u.length;h++)if(Gt.patternMatchVariance(o,u[h],Nn.MAX_INDIVIDUAL_VARIANCE)<Nn.MAX_AVG_VARIANCE)return h;throw new xe}static count(o){return Nt.sum(new Int32Array(o))}static increment(o,u){let h=0,x=u[0];for(let w=1;w<o.length;w++)u[w]>x&&(x=u[w],h=w);o[h]++}static decrement(o,u){let h=0,x=u[0];for(let w=1;w<o.length;w++)u[w]<x&&(x=u[w],h=w);o[h]--}static isFinderPattern(o){let u=o[0]+o[1],h=u+o[2]+o[3],x=u/h;if(x>=Nn.MIN_FINDER_PATTERN_RATIO&&x<=Nn.MAX_FINDER_PATTERN_RATIO){let w=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let B of o)B>y&&(y=B),B<w&&(w=B);return y<10*w}return!1}}Nn.MAX_AVG_VARIANCE=.2,Nn.MAX_INDIVIDUAL_VARIANCE=.45,Nn.MIN_FINDER_PATTERN_RATIO=9.5/12,Nn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Bi{constructor(o,u){this.value=o,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Bi))return!1;const u=o;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class gs{constructor(o,u,h,x,w){this.value=o,this.startEnd=u,this.value=o,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new Tt(h,w)),this.resultPoints.push(new Tt(x,w))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof gs))return!1;const u=o;return this.value===u.value}hashCode(){return this.value}}class $r{constructor(){}static getRSSvalue(o,u,h){let x=0;for(let I of o)x+=I;let w=0,y=0,B=o.length;for(let I=0;I<B-1;I++){let D;for(D=1,y|=1<<I;D<o[I];D++,y&=~(1<<I)){let H=$r.combins(x-D-1,B-I-2);if(h&&y===0&&x-D-(B-I-1)>=B-I-1&&(H-=$r.combins(x-D-(B-I),B-I-2)),B-I-1>1){let Z=0;for(let ae=x-D-(B-I-2);ae>u;ae--)Z+=$r.combins(x-D-ae-1,B-I-3);H-=Z*(B-1-I)}else x-D>u&&H--;w+=H}x-=D}return w}static combins(o,u){let h,x;o-u>u?(x=u,h=o-u):(x=o-u,h=u);let w=1,y=1;for(let B=o;B>h;B--)w*=B,y<=x&&(w/=y,y++);for(;y<=x;)w/=y,y++;return w}}class No{static buildBitArray(o){let u=o.length*2-1;o[o.length-1].getRightChar()==null&&(u-=1);let h=12*u,x=new J(h),w=0,B=o[0].getRightChar().getValue();for(let I=11;I>=0;--I)(B&1<<I)!=0&&x.set(w),w++;for(let I=1;I<o.length;++I){let D=o[I],H=D.getLeftChar().getValue();for(let Z=11;Z>=0;--Z)(H&1<<Z)!=0&&x.set(w),w++;if(D.getRightChar()!=null){let Z=D.getRightChar().getValue();for(let ae=11;ae>=0;--ae)(Z&1<<ae)!=0&&x.set(w),w++}}return x}}class ai{constructor(o,u){u?this.decodedInformation=null:(this.finished=o,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fs{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Pn extends Fs{constructor(o,u){super(o),this.value=u}getValue(){return this.value}isFNC1(){return this.value===Pn.FNC1}}Pn.FNC1="$";class ps extends Fs{constructor(o,u,h){super(o),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ie extends Fs{constructor(o,u,h){if(super(o),u<0||u>10||h<0||h>10)throw new M;this.firstDigit=u,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ie.FNC1}isSecondDigitFNC1(){return this.secondDigit===ie.FNC1}isAnyFNC1(){return this.firstDigit===ie.FNC1||this.secondDigit===ie.FNC1}}ie.FNC1=10;class Ae{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new xe;let u=o.substring(0,2);for(let w of Ae.TWO_DIGIT_DATA_LENGTH)if(w[0]===u)return w[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(2,w[2],o):Ae.processFixedAI(2,w[1],o);if(o.length<3)throw new xe;let h=o.substring(0,3);for(let w of Ae.THREE_DIGIT_DATA_LENGTH)if(w[0]===h)return w[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(3,w[2],o):Ae.processFixedAI(3,w[1],o);for(let w of Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(w[0]===h)return w[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,w[2],o):Ae.processFixedAI(4,w[1],o);if(o.length<4)throw new xe;let x=o.substring(0,4);for(let w of Ae.FOUR_DIGIT_DATA_LENGTH)if(w[0]===x)return w[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,w[2],o):Ae.processFixedAI(4,w[1],o);throw new xe}static processFixedAI(o,u,h){if(h.length<o)throw new xe;let x=h.substring(0,o);if(h.length<o+u)throw new xe;let w=h.substring(o,o+u),y=h.substring(o+u),B="("+x+")"+w,I=Ae.parseFieldsInGeneralPurpose(y);return I==null?B:B+I}static processVariableAI(o,u,h){let x=h.substring(0,o),w;h.length<o+u?w=h.length:w=o+u;let y=h.substring(o,w),B=h.substring(w),I="("+x+")"+y,D=Ae.parseFieldsInGeneralPurpose(B);return D==null?I:I+D}}Ae.VARIABLE_LENGTH=[],Ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ae.VARIABLE_LENGTH,20],["22",Ae.VARIABLE_LENGTH,29],["30",Ae.VARIABLE_LENGTH,8],["37",Ae.VARIABLE_LENGTH,8],["90",Ae.VARIABLE_LENGTH,30],["91",Ae.VARIABLE_LENGTH,30],["92",Ae.VARIABLE_LENGTH,30],["93",Ae.VARIABLE_LENGTH,30],["94",Ae.VARIABLE_LENGTH,30],["95",Ae.VARIABLE_LENGTH,30],["96",Ae.VARIABLE_LENGTH,30],["97",Ae.VARIABLE_LENGTH,3],["98",Ae.VARIABLE_LENGTH,30],["99",Ae.VARIABLE_LENGTH,30]],Ae.THREE_DIGIT_DATA_LENGTH=[["240",Ae.VARIABLE_LENGTH,30],["241",Ae.VARIABLE_LENGTH,30],["242",Ae.VARIABLE_LENGTH,6],["250",Ae.VARIABLE_LENGTH,30],["251",Ae.VARIABLE_LENGTH,30],["253",Ae.VARIABLE_LENGTH,17],["254",Ae.VARIABLE_LENGTH,20],["400",Ae.VARIABLE_LENGTH,30],["401",Ae.VARIABLE_LENGTH,30],["402",17],["403",Ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ae.VARIABLE_LENGTH,20],["421",Ae.VARIABLE_LENGTH,15],["422",3],["423",Ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ae.VARIABLE_LENGTH,15],["391",Ae.VARIABLE_LENGTH,18],["392",Ae.VARIABLE_LENGTH,15],["393",Ae.VARIABLE_LENGTH,18],["703",Ae.VARIABLE_LENGTH,30]],Ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ae.VARIABLE_LENGTH,20],["8003",Ae.VARIABLE_LENGTH,30],["8004",Ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ae.VARIABLE_LENGTH,30],["8008",Ae.VARIABLE_LENGTH,12],["8018",18],["8020",Ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ae.VARIABLE_LENGTH,70],["8200",Ae.VARIABLE_LENGTH,70]];class de{constructor(o){this.buffer=new q,this.information=o}decodeAllCodes(o,u){let h=u,x=null;do{let w=this.decodeGeneralPurposeField(h,x),y=Ae.parseFieldsInGeneralPurpose(w.getNewString());if(y!=null&&o.append(y),w.isRemaining()?x=""+w.getRemainingValue():x=null,h===w.getNewPosition())break;h=w.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let u=o;u<o+3;++u)if(this.information.get(u))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let w=this.extractNumericValueFromBitArray(o,4);return w===0?new ie(this.information.getSize(),ie.FNC1,ie.FNC1):new ie(this.information.getSize(),w-1,ie.FNC1)}let u=this.extractNumericValueFromBitArray(o,7),h=(u-8)/11,x=(u-8)%11;return new ie(o+7,h,x)}extractNumericValueFromBitArray(o,u){return de.extractNumericValueFromBitArray(this.information,o,u)}static extractNumericValueFromBitArray(o,u,h){let x=0;for(let w=0;w<h;++w)o.get(u+w)&&(x|=1<<h-w-1);return x}decodeGeneralPurposeField(o,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(o);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new ps(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new ps(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,u;do{let h=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),o=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),o=u.isFinished()):(u=this.parseNumericBlock(),o=u.isFinished()),!(h!==this.current.getPosition())&&!o)break}while(!o);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let u;return o.isSecondDigitFNC1()?u=new ps(this.current.getPosition(),this.buffer.toString()):u=new ps(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new ai(!0,u)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let u=new ps(this.current.getPosition(),this.buffer.toString());return new ai(!0,u)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ai(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new ps(this.current.getPosition(),this.buffer.toString());return new ai(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ai(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new ps(this.current.getPosition(),this.buffer.toString());return new ai(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ai(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<116)return!0;if(o+8>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(o,8);return x>=232&&x<253}decodeIsoIec646(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Pn(o+5,Pn.FNC1);if(u>=5&&u<15)return new Pn(o+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<90)return new Pn(o+7,""+(h+1));if(h>=90&&h<116)return new Pn(o+7,""+(h+7));let x=this.extractNumericValueFromBitArray(o,8),w;switch(x){case 232:w="!";break;case 233:w='"';break;case 234:w="%";break;case 235:w="&";break;case 236:w="'";break;case 237:w="(";break;case 238:w=")";break;case 239:w="*";break;case 240:w="+";break;case 241:w=",";break;case 242:w="-";break;case 243:w=".";break;case 244:w="/";break;case 245:w=":";break;case 246:w=";";break;case 247:w="<";break;case 248:w="=";break;case 249:w=">";break;case 250:w="?";break;case 251:w="_";break;case 252:w=" ";break;default:throw new M}return new Pn(o+8,w)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,6);return h>=16&&h<63}decodeAlphanumeric(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Pn(o+5,Pn.FNC1);if(u>=5&&u<15)return new Pn(o+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(o,6);if(h>=32&&h<58)return new Pn(o+6,""+(h+33));let x;switch(h){case 58:x="*";break;case 59:x=",";break;case 60:x="-";break;case 61:x=".";break;case 62:x="/";break;default:throw new Ft("Decoding invalid alphanumeric value: "+h)}return new Pn(o+6,x)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<5&&u+o<this.information.getSize();++u)if(u===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+u))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let u=o;u<o+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<4&&u+o<this.information.getSize();++u)if(this.information.get(o+u))return!1;return!0}}class he{constructor(o){this.information=o,this.generalDecoder=new de(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class pe extends he{constructor(o){super(o)}encodeCompressedGtin(o,u){o.append("(01)");let h=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,u,h)}encodeCompressedGtinWithoutAI(o,u,h){for(let x=0;x<4;++x){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*x,10);w/100===0&&o.append("0"),w/10===0&&o.append("0"),o.append(w)}pe.appendCheckDigit(o,h)}static appendCheckDigit(o,u){let h=0;for(let x=0;x<13;x++){let w=o.charAt(x+u).charCodeAt(0)-48;h+=(x&1)===0?3*w:w}h=10-h%10,h===10&&(h=0),o.append(h)}}pe.GTIN_SIZE=40;class ve extends pe{constructor(o){super(o)}parseInformation(){let o=new q;o.append("(01)");let u=o.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(ve.HEADER_SIZE,4);return o.append(h),this.encodeCompressedGtinWithoutAI(o,ve.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(o,ve.HEADER_SIZE+44)}}ve.HEADER_SIZE=4;class Ve extends he{constructor(o){super(o)}parseInformation(){let o=new q;return this.getGeneralDecoder().decodeAllCodes(o,Ve.HEADER_SIZE)}}Ve.HEADER_SIZE=5;class rt extends pe{constructor(o){super(o)}encodeCompressedWeight(o,u,h){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(u,h);this.addWeightCode(o,x);let w=this.checkWeight(x),y=1e5;for(let B=0;B<5;++B)w/y===0&&o.append("0"),y/=10;o.append(w)}}class Me extends rt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Me.HEADER_SIZE+rt.GTIN_SIZE+Me.WEIGHT_SIZE)throw new xe;let o=new q;return this.encodeCompressedGtin(o,Me.HEADER_SIZE),this.encodeCompressedWeight(o,Me.HEADER_SIZE+rt.GTIN_SIZE,Me.WEIGHT_SIZE),o.toString()}}Me.HEADER_SIZE=5,Me.WEIGHT_SIZE=15;class Ke extends Me{constructor(o){super(o)}addWeightCode(o,u){o.append("(3103)")}checkWeight(o){return o}}class ze extends Me{constructor(o){super(o)}addWeightCode(o,u){u<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class dt extends pe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<dt.HEADER_SIZE+pe.GTIN_SIZE)throw new xe;let o=new q;this.encodeCompressedGtin(o,dt.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(dt.HEADER_SIZE+pe.GTIN_SIZE,dt.LAST_DIGIT_SIZE);o.append("(392"),o.append(u),o.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(dt.HEADER_SIZE+pe.GTIN_SIZE+dt.LAST_DIGIT_SIZE,null);return o.append(h.getNewString()),o.toString()}}dt.HEADER_SIZE=8,dt.LAST_DIGIT_SIZE=2;class xt extends pe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<xt.HEADER_SIZE+pe.GTIN_SIZE)throw new xe;let o=new q;this.encodeCompressedGtin(o,xt.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(xt.HEADER_SIZE+pe.GTIN_SIZE,xt.LAST_DIGIT_SIZE);o.append("(393"),o.append(u),o.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(xt.HEADER_SIZE+pe.GTIN_SIZE+xt.LAST_DIGIT_SIZE,xt.FIRST_THREE_DIGITS_SIZE);h/100==0&&o.append("0"),h/10==0&&o.append("0"),o.append(h);let x=this.getGeneralDecoder().decodeGeneralPurposeField(xt.HEADER_SIZE+pe.GTIN_SIZE+xt.LAST_DIGIT_SIZE+xt.FIRST_THREE_DIGITS_SIZE,null);return o.append(x.getNewString()),o.toString()}}xt.HEADER_SIZE=8,xt.LAST_DIGIT_SIZE=2,xt.FIRST_THREE_DIGITS_SIZE=10;class wt extends rt{constructor(o,u,h){super(o),this.dateCode=h,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE+wt.DATE_SIZE)throw new xe;let o=new q;return this.encodeCompressedGtin(o,wt.HEADER_SIZE),this.encodeCompressedWeight(o,wt.HEADER_SIZE+wt.GTIN_SIZE,wt.WEIGHT_SIZE),this.encodeCompressedDate(o,wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(u,wt.DATE_SIZE);if(h==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let x=h%32;h/=32;let w=h%12+1;h/=12;let y=h;y/10==0&&o.append("0"),o.append(y),w/10==0&&o.append("0"),o.append(w),x/10==0&&o.append("0"),o.append(x)}addWeightCode(o,u){o.append("("),o.append(this.firstAIdigits),o.append(u/1e5),o.append(")")}checkWeight(o){return o%1e5}}wt.HEADER_SIZE=8,wt.WEIGHT_SIZE=20,wt.DATE_SIZE=16;function Ct(Y){try{if(Y.get(1))return new ve(Y);if(!Y.get(2))return new Ve(Y);switch(de.extractNumericValueFromBitArray(Y,1,4)){case 4:return new Ke(Y);case 5:return new ze(Y)}switch(de.extractNumericValueFromBitArray(Y,1,5)){case 12:return new dt(Y);case 13:return new xt(Y)}switch(de.extractNumericValueFromBitArray(Y,1,7)){case 56:return new wt(Y,"310","11");case 57:return new wt(Y,"320","11");case 58:return new wt(Y,"310","13");case 59:return new wt(Y,"320","13");case 60:return new wt(Y,"310","15");case 61:return new wt(Y,"320","15");case 62:return new wt(Y,"310","17");case 63:return new wt(Y,"320","17")}}catch(o){throw console.log(o),new Ft("unknown decoder: "+Y)}}class _t{constructor(o,u,h,x){this.leftchar=o,this.rightchar=u,this.finderpattern=h,this.maybeLast=x}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,u){return o instanceof _t?_t.equalsOrNull(o.leftchar,u.leftchar)&&_t.equalsOrNull(o.rightchar,u.rightchar)&&_t.equalsOrNull(o.finderpattern,u.finderpattern):!1}static equalsOrNull(o,u){return o===null?u===null:_t.equals(o,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ot{constructor(o,u,h){this.pairs=o,this.rowNumber=u,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,u){return o instanceof Ot?this.checkEqualitity(o,u)&&o.wasReversed===u.wasReversed:!1}checkEqualitity(o,u){if(!o||!u)return;let h;return o.forEach((x,w)=>{u.forEach(y=>{x.getLeftChar().getValue()===y.getLeftChar().getValue()&&x.getRightChar().getValue()===y.getRightChar().getValue()&&x.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(h=!0)})}),h}}class nt extends Nn{constructor(o){super(...arguments),this.pairs=new Array(nt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,u,h){this.pairs.length=0,this.startFromEven=!1;try{return nt.constructResult(this.decodeRow2pairs(o,u))}catch(x){this.verbose&&console.log(x)}return this.pairs.length=0,this.startFromEven=!0,nt.constructResult(this.decodeRow2pairs(o,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,u){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,o))}catch(w){if(w instanceof xe){if(!this.pairs.length)throw new xe;h=!0}}if(this.checkChecksum())return this.pairs;let x;if(this.rows.length?x=!0:x=!1,this.storeRow(o,!1),x){let w=this.checkRowsBoolean(!1);if(w!=null||(w=this.checkRowsBoolean(!0),w!=null))return w}throw new xe}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return o&&(this.rows=this.rows.reverse()),u}checkRows(o,u){for(let h=u;h<this.rows.length;h++){let x=this.rows[h];this.pairs.length=0;for(let y of o)this.pairs.push(y.getPairs());if(this.pairs.push(x.getPairs()),!nt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let w=new Array(o);w.push(x);try{return this.checkRows(w,h+1)}catch(y){this.verbose&&console.log(y)}}throw new xe}static isValidSequence(o){for(let u of nt.FINDER_PATTERN_SEQUENCES){if(o.length>u.length)continue;let h=!0;for(let x=0;x<o.length;x++)if(o[x].getFinderPattern().getValue()!=u[x]){h=!1;break}if(h)return!0}return!1}storeRow(o,u){let h=0,x=!1,w=!1;for(;h<this.rows.length;){let y=this.rows[h];if(y.getRowNumber()>o){w=y.isEquivalent(this.pairs);break}x=y.isEquivalent(this.pairs),h++}w||x||nt.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new Ot(this.pairs,o,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,u){for(let h of u)if(h.getPairs().length!==o.length){for(let x of h.getPairs())for(let w of o)if(_t.equals(x,w))break}}static isPartialRow(o,u){for(let h of u){let x=!0;for(let w of o){let y=!1;for(let B of h.getPairs())if(w.equals(B)){y=!0;break}if(!y){x=!1;break}}if(x)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=No.buildBitArray(o),x=Ct(u).parseInformation(),w=o[0].getFinderPattern().getResultPoints(),y=o[o.length-1].getFinderPattern().getResultPoints(),B=[w[0],w[1],y[0],y[1]];return new oe(x,null,null,B,be.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),u=o.getLeftChar(),h=o.getRightChar();if(h==null)return!1;let x=h.getChecksumPortion(),w=2;for(let B=1;B<this.pairs.size();++B){let I=this.pairs.get(B);x+=I.getLeftChar().getChecksumPortion(),w++;let D=I.getRightChar();D!=null&&(x+=D.getChecksumPortion(),w++)}return x%=211,211*(w-4)+x==u.getValue()}static getNextSecondBar(o,u){let h;return o.get(u)?(h=o.getNextUnset(u),h=o.getNextSet(h)):(h=o.getNextSet(u),h=o.getNextUnset(h)),h}retrieveNextPair(o,u,h){let x=u.length%2==0;this.startFromEven&&(x=!x);let w,y=!0,B=-1;do this.findNextPair(o,u,B),w=this.parseFoundFinderPattern(o,h,x),w==null?B=nt.getNextSecondBar(o,this.startEnd[0]):y=!1;while(y);let I=this.decodeDataCharacter(o,w,x,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new xe;let D;try{D=this.decodeDataCharacter(o,w,x,!1)}catch(H){D=null,this.verbose&&console.log(H)}return new _t(I,D,w,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,u,h){let x=this.getDecodeFinderCounters();x[0]=0,x[1]=0,x[2]=0,x[3]=0;let w=o.getSize(),y;h>=0?y=h:this.isEmptyPair(u)?y=0:y=u[u.length-1].getFinderPattern().getStartEnd()[1];let B=u.length%2!=0;this.startFromEven&&(B=!B);let I=!1;for(;y<w&&(I=!o.get(y),!!I);)y++;let D=0,H=y;for(let Z=y;Z<w;Z++)if(o.get(Z)!=I)x[D]++;else{if(D==3){if(B&&nt.reverseCounters(x),nt.isFinderPattern(x)){this.startEnd[0]=H,this.startEnd[1]=Z;return}B&&nt.reverseCounters(x),H+=x[0]+x[1],x[0]=x[2],x[1]=x[3],x[2]=0,x[3]=0,D--}else D++;x[D]=1,I=!I}throw new xe}static reverseCounters(o){let u=o.length;for(let h=0;h<u/2;++h){let x=o[h];o[h]=o[u-h-1],o[u-h-1]=x}}parseFoundFinderPattern(o,u,h){let x,w,y;if(h){let D=this.startEnd[0]-1;for(;D>=0&&!o.get(D);)D--;D++,x=this.startEnd[0]-D,w=D,y=this.startEnd[1]}else w=this.startEnd[0],y=o.getNextUnset(this.startEnd[1]+1),x=y-this.startEnd[1];let B=this.getDecodeFinderCounters();k.arraycopy(B,0,B,1,B.length-1),B[0]=x;let I;try{I=this.parseFinderValue(B,nt.FINDER_PATTERNS)}catch{return null}return new gs(I,[w,y],w,y,u)}decodeDataCharacter(o,u,h,x){let w=this.getDataCharacterCounters();for(let tn=0;tn<w.length;tn++)w[tn]=0;if(x)nt.recordPatternInReverse(o,u.getStartEnd()[0],w);else{nt.recordPattern(o,u.getStartEnd()[1],w);for(let tn=0,xi=w.length-1;tn<xi;tn++,xi--){let ws=w[tn];w[tn]=w[xi],w[xi]=ws}}let y=17,B=Nt.sum(new Int32Array(w))/y,I=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(B-I)/I>.3)throw new xe;let D=this.getOddCounts(),H=this.getEvenCounts(),Z=this.getOddRoundingErrors(),ae=this.getEvenRoundingErrors();for(let tn=0;tn<w.length;tn++){let xi=1*w[tn]/B,ws=xi+.5;if(ws<1){if(xi<.3)throw new xe;ws=1}else if(ws>8){if(xi>8.7)throw new xe;ws=8}let vl=tn/2;(tn&1)==0?(D[vl]=ws,Z[vl]=xi-ws):(H[vl]=ws,ae[vl]=xi-ws)}this.adjustOddEvenCounts(y);let we=4*u.getValue()+(h?0:2)+(x?0:1)-1,_e=0,Se=0;for(let tn=D.length-1;tn>=0;tn--){if(nt.isNotA1left(u,h,x)){let xi=nt.WEIGHTS[we][2*tn];Se+=D[tn]*xi}_e+=D[tn]}let Ue=0;for(let tn=H.length-1;tn>=0;tn--)if(nt.isNotA1left(u,h,x)){let xi=nt.WEIGHTS[we][2*tn+1];Ue+=H[tn]*xi}let Ze=Se+Ue;if((_e&1)!=0||_e>13||_e<4)throw new xe;let Bt=(13-_e)/2,Et=nt.SYMBOL_WIDEST[Bt],mt=9-Et,_r=$r.getRSSvalue(D,Et,!0),ur=$r.getRSSvalue(H,mt,!1),Kn=nt.EVEN_TOTAL_SUBSET[Bt],Hs=nt.GSUM[Bt],Oi=_r*Kn+ur+Hs;return new Bi(Oi,Ze)}static isNotA1left(o,u,h){return!(o.getValue()==0&&u&&h)}adjustOddEvenCounts(o){let u=Nt.sum(new Int32Array(this.getOddCounts())),h=Nt.sum(new Int32Array(this.getEvenCounts())),x=!1,w=!1;u>13?w=!0:u<4&&(x=!0);let y=!1,B=!1;h>13?B=!0:h<4&&(y=!0);let I=u+h-o,D=(u&1)==1,H=(h&1)==0;if(I==1)if(D){if(H)throw new xe;w=!0}else{if(!H)throw new xe;B=!0}else if(I==-1)if(D){if(H)throw new xe;x=!0}else{if(!H)throw new xe;y=!0}else if(I==0){if(D){if(!H)throw new xe;u<h?(x=!0,B=!0):(w=!0,y=!0)}else if(H)throw new xe}else throw new xe;if(x){if(w)throw new xe;nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(B)throw new xe;nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}B&&nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}nt.SYMBOL_WIDEST=[7,5,4,3,1],nt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],nt.GSUM=[0,348,1388,2948,3988],nt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],nt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],nt.FINDER_PAT_A=0,nt.FINDER_PAT_B=1,nt.FINDER_PAT_C=2,nt.FINDER_PAT_D=3,nt.FINDER_PAT_E=4,nt.FINDER_PAT_F=5,nt.FINDER_PATTERN_SEQUENCES=[[nt.FINDER_PAT_A,nt.FINDER_PAT_A],[nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B],[nt.FINDER_PAT_A,nt.FINDER_PAT_C,nt.FINDER_PAT_B,nt.FINDER_PAT_D],[nt.FINDER_PAT_A,nt.FINDER_PAT_E,nt.FINDER_PAT_B,nt.FINDER_PAT_D,nt.FINDER_PAT_C],[nt.FINDER_PAT_A,nt.FINDER_PAT_E,nt.FINDER_PAT_B,nt.FINDER_PAT_D,nt.FINDER_PAT_D,nt.FINDER_PAT_F],[nt.FINDER_PAT_A,nt.FINDER_PAT_E,nt.FINDER_PAT_B,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_F,nt.FINDER_PAT_F],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_D],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_E],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_F,nt.FINDER_PAT_F],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_E,nt.FINDER_PAT_F,nt.FINDER_PAT_F]],nt.MAX_PAIRS=11;class Or extends Bi{constructor(o,u,h){super(o,u),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Jt extends Nn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,u,h){const x=this.decodePair(u,!1,o,h);Jt.addOrTally(this.possibleLeftPairs,x),u.reverse();let w=this.decodePair(u,!0,o,h);Jt.addOrTally(this.possibleRightPairs,w),u.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let B of this.possibleRightPairs)if(B.getCount()>1&&Jt.checkChecksum(y,B))return Jt.constructResult(y,B)}throw new xe}static addOrTally(o,u){if(u==null)return;let h=!1;for(let x of o)if(x.getValue()===u.getValue()){x.incrementCount(),h=!0;break}h||o.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,u){let h=4537077*o.getValue()+u.getValue(),x=new String(h).toString(),w=new q;for(let D=13-x.length;D>0;D--)w.append("0");w.append(x);let y=0;for(let D=0;D<13;D++){let H=w.charAt(D).charCodeAt(0)-48;y+=(D&1)===0?3*H:H}y=10-y%10,y===10&&(y=0),w.append(y.toString());let B=o.getFinderPattern().getResultPoints(),I=u.getFinderPattern().getResultPoints();return new oe(w.toString(),null,0,[B[0],B[1],I[0],I[1]],be.RSS_14,new Date().getTime())}static checkChecksum(o,u){let h=(o.getChecksumPortion()+16*u.getChecksumPortion())%79,x=9*o.getFinderPattern().getValue()+u.getFinderPattern().getValue();return x>72&&x--,x>8&&x--,h===x}decodePair(o,u,h,x){try{let w=this.findFinderPattern(o,u),y=this.parseFoundFinderPattern(o,h,u,w),B=x==null?null:x.get(G.NEED_RESULT_POINT_CALLBACK);if(B!=null){let H=(w[0]+w[1])/2;u&&(H=o.getSize()-1-H),B.foundPossibleResultPoint(new Tt(H,h))}let I=this.decodeDataCharacter(o,y,!0),D=this.decodeDataCharacter(o,y,!1);return new Or(1597*I.getValue()+D.getValue(),I.getChecksumPortion()+4*D.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(o,u,h){let x=this.getDataCharacterCounters();for(let Ue=0;Ue<x.length;Ue++)x[Ue]=0;if(h)Gt.recordPatternInReverse(o,u.getStartEnd()[0],x);else{Gt.recordPattern(o,u.getStartEnd()[1]+1,x);for(let Ue=0,Ze=x.length-1;Ue<Ze;Ue++,Ze--){let Bt=x[Ue];x[Ue]=x[Ze],x[Ze]=Bt}}let w=h?16:15,y=Nt.sum(new Int32Array(x))/w,B=this.getOddCounts(),I=this.getEvenCounts(),D=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let Ue=0;Ue<x.length;Ue++){let Ze=x[Ue]/y,Bt=Math.floor(Ze+.5);Bt<1?Bt=1:Bt>8&&(Bt=8);let Et=Math.floor(Ue/2);(Ue&1)===0?(B[Et]=Bt,D[Et]=Ze-Bt):(I[Et]=Bt,H[Et]=Ze-Bt)}this.adjustOddEvenCounts(h,w);let Z=0,ae=0;for(let Ue=B.length-1;Ue>=0;Ue--)ae*=9,ae+=B[Ue],Z+=B[Ue];let we=0,_e=0;for(let Ue=I.length-1;Ue>=0;Ue--)we*=9,we+=I[Ue],_e+=I[Ue];let Se=ae+3*we;if(h){if((Z&1)!==0||Z>12||Z<4)throw new xe;let Ue=(12-Z)/2,Ze=Jt.OUTSIDE_ODD_WIDEST[Ue],Bt=9-Ze,Et=$r.getRSSvalue(B,Ze,!1),mt=$r.getRSSvalue(I,Bt,!0),_r=Jt.OUTSIDE_EVEN_TOTAL_SUBSET[Ue],ur=Jt.OUTSIDE_GSUM[Ue];return new Bi(Et*_r+mt+ur,Se)}else{if((_e&1)!==0||_e>10||_e<4)throw new xe;let Ue=(10-_e)/2,Ze=Jt.INSIDE_ODD_WIDEST[Ue],Bt=9-Ze,Et=$r.getRSSvalue(B,Ze,!0),mt=$r.getRSSvalue(I,Bt,!1),_r=Jt.INSIDE_ODD_TOTAL_SUBSET[Ue],ur=Jt.INSIDE_GSUM[Ue];return new Bi(mt*_r+Et+ur,Se)}}findFinderPattern(o,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let x=o.getSize(),w=!1,y=0;for(;y<x&&(w=!o.get(y),u!==w);)y++;let B=0,I=y;for(let D=y;D<x;D++)if(o.get(D)!==w)h[B]++;else{if(B===3){if(Nn.isFinderPattern(h))return[I,D];I+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,B--}else B++;h[B]=1,w=!w}throw new xe}parseFoundFinderPattern(o,u,h,x){let w=o.get(x[0]),y=x[0]-1;for(;y>=0&&w!==o.get(y);)y--;y++;const B=x[0]-y,I=this.getDecodeFinderCounters(),D=new Int32Array(I.length);k.arraycopy(I,0,D,1,I.length-1),D[0]=B;const H=this.parseFinderValue(D,Jt.FINDER_PATTERNS);let Z=y,ae=x[1];return h&&(Z=o.getSize()-1-Z,ae=o.getSize()-1-ae),new gs(H,[y,x[1]],Z,ae,u)}adjustOddEvenCounts(o,u){let h=Nt.sum(new Int32Array(this.getOddCounts())),x=Nt.sum(new Int32Array(this.getEvenCounts())),w=!1,y=!1,B=!1,I=!1;o?(h>12?y=!0:h<4&&(w=!0),x>12?I=!0:x<4&&(B=!0)):(h>11?y=!0:h<5&&(w=!0),x>10?I=!0:x<4&&(B=!0));let D=h+x-u,H=(h&1)===(o?1:0),Z=(x&1)===1;if(D===1)if(H){if(Z)throw new xe;y=!0}else{if(!Z)throw new xe;I=!0}else if(D===-1)if(H){if(Z)throw new xe;w=!0}else{if(!Z)throw new xe;B=!0}else if(D===0){if(H){if(!Z)throw new xe;h<x?(w=!0,I=!0):(y=!0,B=!0)}else if(Z)throw new xe}else throw new xe;if(w){if(y)throw new xe;Nn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Nn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),B){if(I)throw new xe;Nn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}I&&Nn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Jt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Jt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Jt.OUTSIDE_GSUM=[0,161,961,2015,2715],Jt.INSIDE_GSUM=[0,336,1036,1516],Jt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Jt.INSIDE_ODD_WIDEST=[2,4,6,8],Jt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Un extends Gt{constructor(o,u){super(),this.readers=[],this.verbose=u===!0;const h=o?o.get(G.POSSIBLE_FORMATS):null,x=o&&o.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(be.EAN_13)||h.includes(be.UPC_A)||h.includes(be.EAN_8)||h.includes(be.UPC_E))&&this.readers.push(new Ns(o)),h.includes(be.CODE_39)&&this.readers.push(new Rt(x)),h.includes(be.CODE_128)&&this.readers.push(new Ne),h.includes(be.ITF)&&this.readers.push(new jt),h.includes(be.RSS_14)&&this.readers.push(new Jt),h.includes(be.RSS_EXPANDED)&&this.readers.push(new nt(this.verbose))):(this.readers.push(new Ns(o)),this.readers.push(new Rt),this.readers.push(new Ns(o)),this.readers.push(new Ne),this.readers.push(new jt),this.readers.push(new Jt),this.readers.push(new nt(this.verbose)))}decodeRow(o,u,h){for(let x=0;x<this.readers.length;x++)try{return this.readers[x].decodeRow(o,u,h)}catch{}throw new xe}reset(){this.readers.forEach(o=>o.reset())}}class Va extends ue{constructor(o=500,u){super(new Un(u),o,u)}}class vr{constructor(o,u,h){this.ecCodewords=o,this.ecBlocks=[u],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class cr{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class dr{constructor(o,u,h,x,w,y){this.versionNumber=o,this.symbolSizeRows=u,this.symbolSizeColumns=h,this.dataRegionSizeRows=x,this.dataRegionSizeColumns=w,this.ecBlocks=y;let B=0;const I=y.getECCodewords(),D=y.getECBlocks();for(let H of D)B+=H.getCount()*(H.getDataCodewords()+I);this.totalCodewords=B}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,u){if((o&1)!==0||(u&1)!==0)throw new M;for(let h of dr.VERSIONS)if(h.symbolSizeRows===o&&h.symbolSizeColumns===u)return h;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new dr(1,10,10,8,8,new vr(5,new cr(1,3))),new dr(2,12,12,10,10,new vr(7,new cr(1,5))),new dr(3,14,14,12,12,new vr(10,new cr(1,8))),new dr(4,16,16,14,14,new vr(12,new cr(1,12))),new dr(5,18,18,16,16,new vr(14,new cr(1,18))),new dr(6,20,20,18,18,new vr(18,new cr(1,22))),new dr(7,22,22,20,20,new vr(20,new cr(1,30))),new dr(8,24,24,22,22,new vr(24,new cr(1,36))),new dr(9,26,26,24,24,new vr(28,new cr(1,44))),new dr(10,32,32,14,14,new vr(36,new cr(1,62))),new dr(11,36,36,16,16,new vr(42,new cr(1,86))),new dr(12,40,40,18,18,new vr(48,new cr(1,114))),new dr(13,44,44,20,20,new vr(56,new cr(1,144))),new dr(14,48,48,22,22,new vr(68,new cr(1,174))),new dr(15,52,52,24,24,new vr(42,new cr(2,102))),new dr(16,64,64,14,14,new vr(56,new cr(2,140))),new dr(17,72,72,16,16,new vr(36,new cr(4,92))),new dr(18,80,80,18,18,new vr(48,new cr(4,114))),new dr(19,88,88,20,20,new vr(56,new cr(4,144))),new dr(20,96,96,22,22,new vr(68,new cr(4,174))),new dr(21,104,104,24,24,new vr(56,new cr(6,136))),new dr(22,120,120,18,18,new vr(68,new cr(6,175))),new dr(23,132,132,20,20,new vr(62,new cr(8,163))),new dr(24,144,144,22,22,new vr(62,new cr(8,156),new cr(2,155))),new dr(25,8,18,6,16,new vr(7,new cr(1,5))),new dr(26,8,32,6,14,new vr(11,new cr(1,10))),new dr(27,12,26,10,24,new vr(14,new cr(1,16))),new dr(28,12,36,10,16,new vr(18,new cr(1,22))),new dr(29,16,36,14,16,new vr(24,new cr(1,32))),new dr(30,16,48,14,22,new vr(28,new cr(1,49)))]}}dr.VERSIONS=dr.buildVersions();class Hn{constructor(o){const u=o.getHeight();if(u<8||u>144||(u&1)!==0)throw new M;this.version=Hn.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Ie(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const u=o.getHeight(),h=o.getWidth();return dr.getVersionForDimensions(u,h)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let u=0,h=4,x=0;const w=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let B=!1,I=!1,D=!1,H=!1;do if(h===w&&x===0&&!B)o[u++]=this.readCorner1(w,y)&255,h-=2,x+=2,B=!0;else if(h===w-2&&x===0&&(y&3)!==0&&!I)o[u++]=this.readCorner2(w,y)&255,h-=2,x+=2,I=!0;else if(h===w+4&&x===2&&(y&7)===0&&!D)o[u++]=this.readCorner3(w,y)&255,h-=2,x+=2,D=!0;else if(h===w-2&&x===0&&(y&7)===4&&!H)o[u++]=this.readCorner4(w,y)&255,h-=2,x+=2,H=!0;else{do h<w&&x>=0&&!this.readMappingMatrix.get(x,h)&&(o[u++]=this.readUtah(h,x,w,y)&255),h-=2,x+=2;while(h>=0&&x<y);h+=1,x+=3;do h>=0&&x<y&&!this.readMappingMatrix.get(x,h)&&(o[u++]=this.readUtah(h,x,w,y)&255),h+=2,x-=2;while(h<w&&x>=0);h+=3,x+=1}while(h<w||x<y);if(u!==this.version.getTotalCodewords())throw new M;return o}readModule(o,u,h,x){return o<0&&(o+=h,u+=4-(h+4&7)),u<0&&(u+=x,o+=4-(x+4&7)),this.readMappingMatrix.set(u,o),this.mappingBitMatrix.get(u,o)}readUtah(o,u,h,x){let w=0;return this.readModule(o-2,u-2,h,x)&&(w|=1),w<<=1,this.readModule(o-2,u-1,h,x)&&(w|=1),w<<=1,this.readModule(o-1,u-2,h,x)&&(w|=1),w<<=1,this.readModule(o-1,u-1,h,x)&&(w|=1),w<<=1,this.readModule(o-1,u,h,x)&&(w|=1),w<<=1,this.readModule(o,u-2,h,x)&&(w|=1),w<<=1,this.readModule(o,u-1,h,x)&&(w|=1),w<<=1,this.readModule(o,u,h,x)&&(w|=1),w}readCorner1(o,u){let h=0;return this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,1,o,u)&&(h|=1),h<<=1,this.readModule(o-1,2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(2,u-1,o,u)&&(h|=1),h<<=1,this.readModule(3,u-1,o,u)&&(h|=1),h}readCorner2(o,u){let h=0;return this.readModule(o-3,0,o,u)&&(h|=1),h<<=1,this.readModule(o-2,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(0,u-4,o,u)&&(h|=1),h<<=1,this.readModule(0,u-3,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h}readCorner3(o,u){let h=0;return this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(0,u-3,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-3,o,u)&&(h|=1),h<<=1,this.readModule(1,u-2,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h}readCorner4(o,u){let h=0;return this.readModule(o-3,0,o,u)&&(h|=1),h<<=1,this.readModule(o-2,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(2,u-1,o,u)&&(h|=1),h<<=1,this.readModule(3,u-1,o,u)&&(h|=1),h}extractDataRegion(o){const u=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(o.getHeight()!==u)throw new C("Dimension of bitMatrix must match the version size");const x=this.version.getDataRegionSizeRows(),w=this.version.getDataRegionSizeColumns(),y=u/x|0,B=h/w|0,I=y*x,D=B*w,H=new Ie(D,I);for(let Z=0;Z<y;++Z){const ae=Z*x;for(let we=0;we<B;++we){const _e=we*w;for(let Se=0;Se<x;++Se){const Ue=Z*(x+2)+1+Se,Ze=ae+Se;for(let Bt=0;Bt<w;++Bt){const Et=we*(w+2)+1+Bt;if(o.get(Et,Ue)){const mt=_e+Bt;H.set(mt,Ze)}}}}}return H}}class xa{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u){const h=u.getECBlocks();let x=0;const w=h.getECBlocks();for(let Se of w)x+=Se.getCount();const y=new Array(x);let B=0;for(let Se of w)for(let Ue=0;Ue<Se.getCount();Ue++){const Ze=Se.getDataCodewords(),Bt=h.getECCodewords()+Ze;y[B++]=new xa(Ze,new Uint8Array(Bt))}const D=y[0].codewords.length-h.getECCodewords(),H=D-1;let Z=0;for(let Se=0;Se<H;Se++)for(let Ue=0;Ue<B;Ue++)y[Ue].codewords[Se]=o[Z++];const ae=u.getVersionNumber()===24,we=ae?8:B;for(let Se=0;Se<we;Se++)y[Se].codewords[D-1]=o[Z++];const _e=y[0].codewords.length;for(let Se=D;Se<_e;Se++)for(let Ue=0;Ue<B;Ue++){const Ze=ae?(Ue+8)%B:Ue,Bt=ae&&Ze>7?Se-1:Se;y[Ze].codewords[Bt]=o[Z++]}if(Z!==o.length)throw new C;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ji{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new C(""+o);let u=0,h=this.bitOffset,x=this.byteOffset;const w=this.bytes;if(h>0){const y=8-h,B=o<y?o:y,I=y-B,D=255>>8-B<<I;u=(w[x]&D)>>I,o-=B,h+=B,h===8&&(h=0,x++)}if(o>0){for(;o>=8;)u=u<<8|w[x]&255,x++,o-=8;if(o>0){const y=8-o,B=255>>y<<y;u=u<<o|(w[x]&B)>>y,h+=o}}return this.bitOffset=h,this.byteOffset=x,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Dr;(function(Y){Y[Y.PAD_ENCODE=0]="PAD_ENCODE",Y[Y.ASCII_ENCODE=1]="ASCII_ENCODE",Y[Y.C40_ENCODE=2]="C40_ENCODE",Y[Y.TEXT_ENCODE=3]="TEXT_ENCODE",Y[Y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Y[Y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Y[Y.BASE256_ENCODE=6]="BASE256_ENCODE"})(Dr||(Dr={}));class ea{static decode(o){const u=new Ji(o),h=new q,x=new q,w=new Array;let y=Dr.ASCII_ENCODE;do if(y===Dr.ASCII_ENCODE)y=this.decodeAsciiSegment(u,h,x);else{switch(y){case Dr.C40_ENCODE:this.decodeC40Segment(u,h);break;case Dr.TEXT_ENCODE:this.decodeTextSegment(u,h);break;case Dr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,h);break;case Dr.EDIFACT_ENCODE:this.decodeEdifactSegment(u,h);break;case Dr.BASE256_ENCODE:this.decodeBase256Segment(u,h,w);break;default:throw new M}y=Dr.ASCII_ENCODE}while(y!==Dr.PAD_ENCODE&&u.available()>0);return x.length()>0&&h.append(x.toString()),new He(o,h.toString(),w.length===0?null:w,null)}static decodeAsciiSegment(o,u,h){let x=!1;do{let w=o.readBits(8);if(w===0)throw new M;if(w<=128)return x&&(w+=128),u.append(String.fromCharCode(w-1)),Dr.ASCII_ENCODE;if(w===129)return Dr.PAD_ENCODE;if(w<=229){const y=w-130;y<10&&u.append("0"),u.append(""+y)}else switch(w){case 230:return Dr.C40_ENCODE;case 231:return Dr.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:x=!0;break;case 236:u.append("[)>05"),h.insert(0,"");break;case 237:u.append("[)>06"),h.insert(0,"");break;case 238:return Dr.ANSIX12_ENCODE;case 239:return Dr.TEXT_ENCODE;case 240:return Dr.EDIFACT_ENCODE;case 241:break;default:if(w!==254||o.available()!==0)throw new M;break}}while(o.available()>0);return Dr.ASCII_ENCODE}static decodeC40Segment(o,u){let h=!1;const x=[];let w=0;do{if(o.available()===8)return;const y=o.readBits(8);if(y===254)return;this.parseTwoBytes(y,o.readBits(8),x);for(let B=0;B<3;B++){const I=x[B];switch(w){case 0:if(I<3)w=I+1;else if(I<this.C40_BASIC_SET_CHARS.length){const D=this.C40_BASIC_SET_CHARS[I];h?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),h=!1):u.append(D)}else throw new M;break;case 1:h?(u.append(String.fromCharCode(I+128)),h=!1):u.append(String.fromCharCode(I)),w=0;break;case 2:if(I<this.C40_SHIFT2_SET_CHARS.length){const D=this.C40_SHIFT2_SET_CHARS[I];h?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),h=!1):u.append(D)}else switch(I){case 27:u.append("");break;case 30:h=!0;break;default:throw new M}w=0;break;case 3:h?(u.append(String.fromCharCode(I+224)),h=!1):u.append(String.fromCharCode(I+96)),w=0;break;default:throw new M}}}while(o.available()>0)}static decodeTextSegment(o,u){let h=!1,x=[],w=0;do{if(o.available()===8)return;const y=o.readBits(8);if(y===254)return;this.parseTwoBytes(y,o.readBits(8),x);for(let B=0;B<3;B++){const I=x[B];switch(w){case 0:if(I<3)w=I+1;else if(I<this.TEXT_BASIC_SET_CHARS.length){const D=this.TEXT_BASIC_SET_CHARS[I];h?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),h=!1):u.append(D)}else throw new M;break;case 1:h?(u.append(String.fromCharCode(I+128)),h=!1):u.append(String.fromCharCode(I)),w=0;break;case 2:if(I<this.TEXT_SHIFT2_SET_CHARS.length){const D=this.TEXT_SHIFT2_SET_CHARS[I];h?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),h=!1):u.append(D)}else switch(I){case 27:u.append("");break;case 30:h=!0;break;default:throw new M}w=0;break;case 3:if(I<this.TEXT_SHIFT3_SET_CHARS.length){const D=this.TEXT_SHIFT3_SET_CHARS[I];h?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),h=!1):u.append(D),w=0}else throw new M;break;default:throw new M}}}while(o.available()>0)}static decodeAnsiX12Segment(o,u){const h=[];do{if(o.available()===8)return;const x=o.readBits(8);if(x===254)return;this.parseTwoBytes(x,o.readBits(8),h);for(let w=0;w<3;w++){const y=h[w];switch(y){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(y<14)u.append(String.fromCharCode(y+44));else if(y<40)u.append(String.fromCharCode(y+51));else throw new M;break}}}while(o.available()>0)}static parseTwoBytes(o,u,h){let x=(o<<8)+u-1,w=Math.floor(x/1600);h[0]=w,x-=w*1600,w=Math.floor(x/40),h[1]=w,h[2]=x-w*40}static decodeEdifactSegment(o,u){do{if(o.available()<=16)return;for(let h=0;h<4;h++){let x=o.readBits(6);if(x===31){const w=8-o.getBitOffset();w!==8&&o.readBits(w);return}(x&32)===0&&(x|=64),u.append(String.fromCharCode(x))}}while(o.available()>0)}static decodeBase256Segment(o,u,h){let x=1+o.getByteOffset();const w=this.unrandomize255State(o.readBits(8),x++);let y;if(w===0?y=o.available()/8|0:w<250?y=w:y=250*(w-249)+this.unrandomize255State(o.readBits(8),x++),y<0)throw new M;const B=new Uint8Array(y);for(let I=0;I<y;I++){if(o.available()<8)throw new M;B[I]=this.unrandomize255State(o.readBits(8),x++)}h.push(B);try{u.append(te.decode(B,W.ISO88591))}catch(I){throw new Ft("Platform does not support required encoding: "+I.message)}}static unrandomize255State(o,u){const h=149*u%255+1,x=o-h;return x>=0?x:x+256}}ea.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ea.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ea.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ea.TEXT_SHIFT2_SET_CHARS=ea.C40_SHIFT2_SET_CHARS,ea.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Gu{constructor(){this.rsDecoder=new At(Xe.DATA_MATRIX_FIELD_256)}decode(o){const u=new Hn(o),h=u.getVersion(),x=u.readCodewords(),w=xa.getDataBlocks(x,h);let y=0;for(let D of w)y+=D.getNumDataCodewords();const B=new Uint8Array(y),I=w.length;for(let D=0;D<I;D++){const H=w[D],Z=H.getCodewords(),ae=H.getNumDataCodewords();this.correctErrors(Z,ae);for(let we=0;we<ae;we++)B[we*I+D]=Z[we]}return ea.decode(B)}correctErrors(o,u){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-u)}catch{throw new N}for(let x=0;x<u;x++)o[x]=h[x]}}class fn{constructor(o){this.image=o,this.rectangleDetector=new Pe(this.image)}detect(){const o=this.rectangleDetector.detect();let u=this.detectSolid1(o);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new xe;u=this.shiftToModuleCenter(u);const h=u[0],x=u[1],w=u[2],y=u[3];let B=this.transitionsBetween(h,y)+1,I=this.transitionsBetween(w,y)+1;(B&1)===1&&(B+=1),(I&1)===1&&(I+=1),4*B<7*I&&4*I<7*B&&(B=I=Math.max(B,I));let D=fn.sampleGrid(this.image,h,x,w,y,B,I);return new un(D,[h,x,w,y])}static shiftPoint(o,u,h){let x=(u.getX()-o.getX())/(h+1),w=(u.getY()-o.getY())/(h+1);return new Tt(o.getX()+x,o.getY()+w)}static moveAway(o,u,h){let x=o.getX(),w=o.getY();return x<u?x-=1:x+=1,w<h?w-=1:w+=1,new Tt(x,w)}detectSolid1(o){let u=o[0],h=o[1],x=o[3],w=o[2],y=this.transitionsBetween(u,h),B=this.transitionsBetween(h,x),I=this.transitionsBetween(x,w),D=this.transitionsBetween(w,u),H=y,Z=[w,u,h,x];return H>B&&(H=B,Z[0]=u,Z[1]=h,Z[2]=x,Z[3]=w),H>I&&(H=I,Z[0]=h,Z[1]=x,Z[2]=w,Z[3]=u),H>D&&(Z[0]=x,Z[1]=w,Z[2]=u,Z[3]=h),Z}detectSolid2(o){let u=o[0],h=o[1],x=o[2],w=o[3],y=this.transitionsBetween(u,w),B=fn.shiftPoint(h,x,(y+1)*4),I=fn.shiftPoint(x,h,(y+1)*4),D=this.transitionsBetween(B,u),H=this.transitionsBetween(I,w);return D<H?(o[0]=u,o[1]=h,o[2]=x,o[3]=w):(o[0]=h,o[1]=x,o[2]=w,o[3]=u),o}correctTopRight(o){let u=o[0],h=o[1],x=o[2],w=o[3],y=this.transitionsBetween(u,w),B=this.transitionsBetween(h,w),I=fn.shiftPoint(u,h,(B+1)*4),D=fn.shiftPoint(x,h,(y+1)*4);y=this.transitionsBetween(I,w),B=this.transitionsBetween(D,w);let H=new Tt(w.getX()+(x.getX()-h.getX())/(y+1),w.getY()+(x.getY()-h.getY())/(y+1)),Z=new Tt(w.getX()+(u.getX()-h.getX())/(B+1),w.getY()+(u.getY()-h.getY())/(B+1));if(!this.isValid(H))return this.isValid(Z)?Z:null;if(!this.isValid(Z))return H;let ae=this.transitionsBetween(I,H)+this.transitionsBetween(D,H),we=this.transitionsBetween(I,Z)+this.transitionsBetween(D,Z);return ae>we?H:Z}shiftToModuleCenter(o){let u=o[0],h=o[1],x=o[2],w=o[3],y=this.transitionsBetween(u,w)+1,B=this.transitionsBetween(x,w)+1,I=fn.shiftPoint(u,h,B*4),D=fn.shiftPoint(x,h,y*4);y=this.transitionsBetween(I,w)+1,B=this.transitionsBetween(D,w)+1,(y&1)===1&&(y+=1),(B&1)===1&&(B+=1);let H=(u.getX()+h.getX()+x.getX()+w.getX())/4,Z=(u.getY()+h.getY()+x.getY()+w.getY())/4;u=fn.moveAway(u,H,Z),h=fn.moveAway(h,H,Z),x=fn.moveAway(x,H,Z),w=fn.moveAway(w,H,Z);let ae,we;return I=fn.shiftPoint(u,h,B*4),I=fn.shiftPoint(I,w,y*4),ae=fn.shiftPoint(h,u,B*4),ae=fn.shiftPoint(ae,x,y*4),D=fn.shiftPoint(x,w,B*4),D=fn.shiftPoint(D,h,y*4),we=fn.shiftPoint(w,x,B*4),we=fn.shiftPoint(we,u,y*4),[I,ae,D,we]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,u,h,x,w,y,B){return tr.getInstance().sampleGrid(o,y,B,.5,.5,y-.5,.5,y-.5,B-.5,.5,B-.5,u.getX(),u.getY(),w.getX(),w.getY(),x.getX(),x.getY(),h.getX(),h.getY())}transitionsBetween(o,u){let h=Math.trunc(o.getX()),x=Math.trunc(o.getY()),w=Math.trunc(u.getX()),y=Math.trunc(u.getY()),B=Math.abs(y-x)>Math.abs(w-h);if(B){let Se=h;h=x,x=Se,Se=w,w=y,y=Se}let I=Math.abs(w-h),D=Math.abs(y-x),H=-I/2,Z=x<y?1:-1,ae=h<w?1:-1,we=0,_e=this.image.get(B?x:h,B?h:x);for(let Se=h,Ue=x;Se!==w;Se+=ae){let Ze=this.image.get(B?Ue:Se,B?Se:Ue);if(Ze!==_e&&(we++,_e=Ze),H+=D,H>0){if(Ue===y)break;Ue+=Z,H-=I}}return we}}class Rs{constructor(){this.decoder=new Gu}decode(o,u=null){let h,x;if(u!=null&&u.has(G.PURE_BARCODE)){const D=Rs.extractPureBits(o.getBlackMatrix());h=this.decoder.decode(D),x=Rs.NO_POINTS}else{const D=new fn(o.getBlackMatrix()).detect();h=this.decoder.decode(D.getBits()),x=D.getPoints()}const w=h.getRawBytes(),y=new oe(h.getText(),w,8*w.length,x,be.DATA_MATRIX,k.currentTimeMillis()),B=h.getByteSegments();B!=null&&y.putMetadata(ke.BYTE_SEGMENTS,B);const I=h.getECLevel();return I!=null&&y.putMetadata(ke.ERROR_CORRECTION_LEVEL,I),y}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(u==null||h==null)throw new xe;const x=this.moduleSize(u,o);let w=u[1];const y=h[1];let B=u[0];const D=(h[0]-B+1)/x,H=(y-w+1)/x;if(D<=0||H<=0)throw new xe;const Z=x/2;w+=Z,B+=Z;const ae=new Ie(D,H);for(let we=0;we<H;we++){const _e=w+we*x;for(let Se=0;Se<D;Se++)o.get(B+Se*x,_e)&&ae.set(Se,we)}return ae}static moduleSize(o,u){const h=u.getWidth();let x=o[0];const w=o[1];for(;x<h&&u.get(x,w);)x++;if(x===h)throw new xe;const y=x-o[0];if(y===0)throw new xe;return y}}Rs.NO_POINTS=[];class ml extends ue{constructor(o=500){super(new Rs,o)}}var Zi;(function(Y){Y[Y.L=0]="L",Y[Y.M=1]="M",Y[Y.Q=2]="Q",Y[Y.H=3]="H"})(Zi||(Zi={}));class sr{constructor(o,u,h){this.value=o,this.stringValue=u,this.bits=h,sr.FOR_BITS.set(h,this),sr.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return sr.L;case"M":return sr.M;case"Q":return sr.Q;case"H":return sr.H;default:throw new m(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof sr))return!1;const u=o;return this.value===u.value}static forBits(o){if(o<0||o>=sr.FOR_BITS.size)throw new C;return sr.FOR_BITS.get(o)}}sr.FOR_BITS=new Map,sr.FOR_VALUE=new Map,sr.L=new sr(Zi.L,"L",1),sr.M=new sr(Zi.M,"M",0),sr.Q=new sr(Zi.Q,"Q",3),sr.H=new sr(Zi.H,"H",2);class _n{constructor(o){this.errorCorrectionLevel=sr.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,u){return Q.bitCount(o^u)}static decodeFormatInformation(o,u){const h=_n.doDecodeFormatInformation(o,u);return h!==null?h:_n.doDecodeFormatInformation(o^_n.FORMAT_INFO_MASK_QR,u^_n.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,u){let h=Number.MAX_SAFE_INTEGER,x=0;for(const w of _n.FORMAT_INFO_DECODE_LOOKUP){const y=w[0];if(y===o||y===u)return new _n(w[1]);let B=_n.numBitsDiffering(o,y);B<h&&(x=w[1],h=B),o!==u&&(B=_n.numBitsDiffering(u,y),B<h&&(x=w[1],h=B))}return h<=3?new _n(x):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof _n))return!1;const u=o;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}_n.FORMAT_INFO_MASK_QR=21522,_n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Qe{constructor(o,...u){this.ecCodewordsPerBlock=o,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const u=this.ecBlocks;for(const h of u)o+=h.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class me{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class St{constructor(o,u,...h){this.versionNumber=o,this.alignmentPatternCenters=u,this.ecBlocks=h;let x=0;const w=h[0].getECCodewordsPerBlock(),y=h[0].getECBlocks();for(const B of y)x+=B.getCount()*(B.getDataCodewords()+w);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new M;try{return this.getVersionForNumber((o-17)/4)}catch{throw new M}}static getVersionForNumber(o){if(o<1||o>40)throw new C;return St.VERSIONS[o-1]}static decodeVersionInformation(o){let u=Number.MAX_SAFE_INTEGER,h=0;for(let x=0;x<St.VERSION_DECODE_INFO.length;x++){const w=St.VERSION_DECODE_INFO[x];if(w===o)return St.getVersionForNumber(x+7);const y=_n.numBitsDiffering(o,w);y<u&&(h=x+7,u=y)}return u<=3?St.getVersionForNumber(h):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),u=new Ie(o);u.setRegion(0,0,9,9),u.setRegion(o-8,0,8,9),u.setRegion(0,o-8,9,8);const h=this.alignmentPatternCenters.length;for(let x=0;x<h;x++){const w=this.alignmentPatternCenters[x]-2;for(let y=0;y<h;y++)x===0&&(y===0||y===h-1)||x===h-1&&y===0||u.setRegion(this.alignmentPatternCenters[y]-2,w,5,5)}return u.setRegion(6,9,1,o-17),u.setRegion(9,6,o-17,1),this.versionNumber>6&&(u.setRegion(o-11,0,3,6),u.setRegion(0,o-11,6,3)),u}toString(){return""+this.versionNumber}}St.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),St.VERSIONS=[new St(1,new Int32Array(0),new Qe(7,new me(1,19)),new Qe(10,new me(1,16)),new Qe(13,new me(1,13)),new Qe(17,new me(1,9))),new St(2,Int32Array.from([6,18]),new Qe(10,new me(1,34)),new Qe(16,new me(1,28)),new Qe(22,new me(1,22)),new Qe(28,new me(1,16))),new St(3,Int32Array.from([6,22]),new Qe(15,new me(1,55)),new Qe(26,new me(1,44)),new Qe(18,new me(2,17)),new Qe(22,new me(2,13))),new St(4,Int32Array.from([6,26]),new Qe(20,new me(1,80)),new Qe(18,new me(2,32)),new Qe(26,new me(2,24)),new Qe(16,new me(4,9))),new St(5,Int32Array.from([6,30]),new Qe(26,new me(1,108)),new Qe(24,new me(2,43)),new Qe(18,new me(2,15),new me(2,16)),new Qe(22,new me(2,11),new me(2,12))),new St(6,Int32Array.from([6,34]),new Qe(18,new me(2,68)),new Qe(16,new me(4,27)),new Qe(24,new me(4,19)),new Qe(28,new me(4,15))),new St(7,Int32Array.from([6,22,38]),new Qe(20,new me(2,78)),new Qe(18,new me(4,31)),new Qe(18,new me(2,14),new me(4,15)),new Qe(26,new me(4,13),new me(1,14))),new St(8,Int32Array.from([6,24,42]),new Qe(24,new me(2,97)),new Qe(22,new me(2,38),new me(2,39)),new Qe(22,new me(4,18),new me(2,19)),new Qe(26,new me(4,14),new me(2,15))),new St(9,Int32Array.from([6,26,46]),new Qe(30,new me(2,116)),new Qe(22,new me(3,36),new me(2,37)),new Qe(20,new me(4,16),new me(4,17)),new Qe(24,new me(4,12),new me(4,13))),new St(10,Int32Array.from([6,28,50]),new Qe(18,new me(2,68),new me(2,69)),new Qe(26,new me(4,43),new me(1,44)),new Qe(24,new me(6,19),new me(2,20)),new Qe(28,new me(6,15),new me(2,16))),new St(11,Int32Array.from([6,30,54]),new Qe(20,new me(4,81)),new Qe(30,new me(1,50),new me(4,51)),new Qe(28,new me(4,22),new me(4,23)),new Qe(24,new me(3,12),new me(8,13))),new St(12,Int32Array.from([6,32,58]),new Qe(24,new me(2,92),new me(2,93)),new Qe(22,new me(6,36),new me(2,37)),new Qe(26,new me(4,20),new me(6,21)),new Qe(28,new me(7,14),new me(4,15))),new St(13,Int32Array.from([6,34,62]),new Qe(26,new me(4,107)),new Qe(22,new me(8,37),new me(1,38)),new Qe(24,new me(8,20),new me(4,21)),new Qe(22,new me(12,11),new me(4,12))),new St(14,Int32Array.from([6,26,46,66]),new Qe(30,new me(3,115),new me(1,116)),new Qe(24,new me(4,40),new me(5,41)),new Qe(20,new me(11,16),new me(5,17)),new Qe(24,new me(11,12),new me(5,13))),new St(15,Int32Array.from([6,26,48,70]),new Qe(22,new me(5,87),new me(1,88)),new Qe(24,new me(5,41),new me(5,42)),new Qe(30,new me(5,24),new me(7,25)),new Qe(24,new me(11,12),new me(7,13))),new St(16,Int32Array.from([6,26,50,74]),new Qe(24,new me(5,98),new me(1,99)),new Qe(28,new me(7,45),new me(3,46)),new Qe(24,new me(15,19),new me(2,20)),new Qe(30,new me(3,15),new me(13,16))),new St(17,Int32Array.from([6,30,54,78]),new Qe(28,new me(1,107),new me(5,108)),new Qe(28,new me(10,46),new me(1,47)),new Qe(28,new me(1,22),new me(15,23)),new Qe(28,new me(2,14),new me(17,15))),new St(18,Int32Array.from([6,30,56,82]),new Qe(30,new me(5,120),new me(1,121)),new Qe(26,new me(9,43),new me(4,44)),new Qe(28,new me(17,22),new me(1,23)),new Qe(28,new me(2,14),new me(19,15))),new St(19,Int32Array.from([6,30,58,86]),new Qe(28,new me(3,113),new me(4,114)),new Qe(26,new me(3,44),new me(11,45)),new Qe(26,new me(17,21),new me(4,22)),new Qe(26,new me(9,13),new me(16,14))),new St(20,Int32Array.from([6,34,62,90]),new Qe(28,new me(3,107),new me(5,108)),new Qe(26,new me(3,41),new me(13,42)),new Qe(30,new me(15,24),new me(5,25)),new Qe(28,new me(15,15),new me(10,16))),new St(21,Int32Array.from([6,28,50,72,94]),new Qe(28,new me(4,116),new me(4,117)),new Qe(26,new me(17,42)),new Qe(28,new me(17,22),new me(6,23)),new Qe(30,new me(19,16),new me(6,17))),new St(22,Int32Array.from([6,26,50,74,98]),new Qe(28,new me(2,111),new me(7,112)),new Qe(28,new me(17,46)),new Qe(30,new me(7,24),new me(16,25)),new Qe(24,new me(34,13))),new St(23,Int32Array.from([6,30,54,78,102]),new Qe(30,new me(4,121),new me(5,122)),new Qe(28,new me(4,47),new me(14,48)),new Qe(30,new me(11,24),new me(14,25)),new Qe(30,new me(16,15),new me(14,16))),new St(24,Int32Array.from([6,28,54,80,106]),new Qe(30,new me(6,117),new me(4,118)),new Qe(28,new me(6,45),new me(14,46)),new Qe(30,new me(11,24),new me(16,25)),new Qe(30,new me(30,16),new me(2,17))),new St(25,Int32Array.from([6,32,58,84,110]),new Qe(26,new me(8,106),new me(4,107)),new Qe(28,new me(8,47),new me(13,48)),new Qe(30,new me(7,24),new me(22,25)),new Qe(30,new me(22,15),new me(13,16))),new St(26,Int32Array.from([6,30,58,86,114]),new Qe(28,new me(10,114),new me(2,115)),new Qe(28,new me(19,46),new me(4,47)),new Qe(28,new me(28,22),new me(6,23)),new Qe(30,new me(33,16),new me(4,17))),new St(27,Int32Array.from([6,34,62,90,118]),new Qe(30,new me(8,122),new me(4,123)),new Qe(28,new me(22,45),new me(3,46)),new Qe(30,new me(8,23),new me(26,24)),new Qe(30,new me(12,15),new me(28,16))),new St(28,Int32Array.from([6,26,50,74,98,122]),new Qe(30,new me(3,117),new me(10,118)),new Qe(28,new me(3,45),new me(23,46)),new Qe(30,new me(4,24),new me(31,25)),new Qe(30,new me(11,15),new me(31,16))),new St(29,Int32Array.from([6,30,54,78,102,126]),new Qe(30,new me(7,116),new me(7,117)),new Qe(28,new me(21,45),new me(7,46)),new Qe(30,new me(1,23),new me(37,24)),new Qe(30,new me(19,15),new me(26,16))),new St(30,Int32Array.from([6,26,52,78,104,130]),new Qe(30,new me(5,115),new me(10,116)),new Qe(28,new me(19,47),new me(10,48)),new Qe(30,new me(15,24),new me(25,25)),new Qe(30,new me(23,15),new me(25,16))),new St(31,Int32Array.from([6,30,56,82,108,134]),new Qe(30,new me(13,115),new me(3,116)),new Qe(28,new me(2,46),new me(29,47)),new Qe(30,new me(42,24),new me(1,25)),new Qe(30,new me(23,15),new me(28,16))),new St(32,Int32Array.from([6,34,60,86,112,138]),new Qe(30,new me(17,115)),new Qe(28,new me(10,46),new me(23,47)),new Qe(30,new me(10,24),new me(35,25)),new Qe(30,new me(19,15),new me(35,16))),new St(33,Int32Array.from([6,30,58,86,114,142]),new Qe(30,new me(17,115),new me(1,116)),new Qe(28,new me(14,46),new me(21,47)),new Qe(30,new me(29,24),new me(19,25)),new Qe(30,new me(11,15),new me(46,16))),new St(34,Int32Array.from([6,34,62,90,118,146]),new Qe(30,new me(13,115),new me(6,116)),new Qe(28,new me(14,46),new me(23,47)),new Qe(30,new me(44,24),new me(7,25)),new Qe(30,new me(59,16),new me(1,17))),new St(35,Int32Array.from([6,30,54,78,102,126,150]),new Qe(30,new me(12,121),new me(7,122)),new Qe(28,new me(12,47),new me(26,48)),new Qe(30,new me(39,24),new me(14,25)),new Qe(30,new me(22,15),new me(41,16))),new St(36,Int32Array.from([6,24,50,76,102,128,154]),new Qe(30,new me(6,121),new me(14,122)),new Qe(28,new me(6,47),new me(34,48)),new Qe(30,new me(46,24),new me(10,25)),new Qe(30,new me(2,15),new me(64,16))),new St(37,Int32Array.from([6,28,54,80,106,132,158]),new Qe(30,new me(17,122),new me(4,123)),new Qe(28,new me(29,46),new me(14,47)),new Qe(30,new me(49,24),new me(10,25)),new Qe(30,new me(24,15),new me(46,16))),new St(38,Int32Array.from([6,32,58,84,110,136,162]),new Qe(30,new me(4,122),new me(18,123)),new Qe(28,new me(13,46),new me(32,47)),new Qe(30,new me(48,24),new me(14,25)),new Qe(30,new me(42,15),new me(32,16))),new St(39,Int32Array.from([6,26,54,82,110,138,166]),new Qe(30,new me(20,117),new me(4,118)),new Qe(28,new me(40,47),new me(7,48)),new Qe(30,new me(43,24),new me(22,25)),new Qe(30,new me(10,15),new me(67,16))),new St(40,Int32Array.from([6,30,58,86,114,142,170]),new Qe(30,new me(19,118),new me(6,119)),new Qe(28,new me(18,47),new me(31,48)),new Qe(30,new me(34,24),new me(34,25)),new Qe(30,new me(20,15),new me(61,16)))];var Cn;(function(Y){Y[Y.DATA_MASK_000=0]="DATA_MASK_000",Y[Y.DATA_MASK_001=1]="DATA_MASK_001",Y[Y.DATA_MASK_010=2]="DATA_MASK_010",Y[Y.DATA_MASK_011=3]="DATA_MASK_011",Y[Y.DATA_MASK_100=4]="DATA_MASK_100",Y[Y.DATA_MASK_101=5]="DATA_MASK_101",Y[Y.DATA_MASK_110=6]="DATA_MASK_110",Y[Y.DATA_MASK_111=7]="DATA_MASK_111"})(Cn||(Cn={}));class Jn{constructor(o,u){this.value=o,this.isMasked=u}unmaskBitMatrix(o,u){for(let h=0;h<u;h++)for(let x=0;x<u;x++)this.isMasked(h,x)&&o.flip(x,h)}}Jn.values=new Map([[Cn.DATA_MASK_000,new Jn(Cn.DATA_MASK_000,(Y,o)=>(Y+o&1)===0)],[Cn.DATA_MASK_001,new Jn(Cn.DATA_MASK_001,(Y,o)=>(Y&1)===0)],[Cn.DATA_MASK_010,new Jn(Cn.DATA_MASK_010,(Y,o)=>o%3===0)],[Cn.DATA_MASK_011,new Jn(Cn.DATA_MASK_011,(Y,o)=>(Y+o)%3===0)],[Cn.DATA_MASK_100,new Jn(Cn.DATA_MASK_100,(Y,o)=>(Math.floor(Y/2)+Math.floor(o/3)&1)===0)],[Cn.DATA_MASK_101,new Jn(Cn.DATA_MASK_101,(Y,o)=>Y*o%6===0)],[Cn.DATA_MASK_110,new Jn(Cn.DATA_MASK_110,(Y,o)=>Y*o%6<3)],[Cn.DATA_MASK_111,new Jn(Cn.DATA_MASK_111,(Y,o)=>(Y+o+Y*o%3&1)===0)]]);class ks{constructor(o){const u=o.getHeight();if(u<21||(u&3)!==1)throw new M;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let w=0;w<6;w++)o=this.copyBit(w,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let w=5;w>=0;w--)o=this.copyBit(8,w,o);const u=this.bitMatrix.getHeight();let h=0;const x=u-7;for(let w=u-1;w>=x;w--)h=this.copyBit(8,w,h);for(let w=u-8;w<u;w++)h=this.copyBit(w,8,h);if(this.parsedFormatInfo=_n.decodeFormatInformation(o,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),u=Math.floor((o-17)/4);if(u<=6)return St.getVersionForNumber(u);let h=0;const x=o-11;for(let y=5;y>=0;y--)for(let B=o-9;B>=x;B--)h=this.copyBit(B,y,h);let w=St.decodeVersionInformation(h);if(w!==null&&w.getDimensionForVersion()===o)return this.parsedVersion=w,w;h=0;for(let y=5;y>=0;y--)for(let B=o-9;B>=x;B--)h=this.copyBit(y,B,h);if(w=St.decodeVersionInformation(h),w!==null&&w.getDimensionForVersion()===o)return this.parsedVersion=w,w;throw new M}copyBit(o,u,h){return(this.isMirror?this.bitMatrix.get(u,o):this.bitMatrix.get(o,u))?h<<1|1:h<<1}readCodewords(){const o=this.readFormatInformation(),u=this.readVersion(),h=Jn.values.get(o.getDataMask()),x=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,x);const w=u.buildFunctionPattern();let y=!0;const B=new Uint8Array(u.getTotalCodewords());let I=0,D=0,H=0;for(let Z=x-1;Z>0;Z-=2){Z===6&&Z--;for(let ae=0;ae<x;ae++){const we=y?x-1-ae:ae;for(let _e=0;_e<2;_e++)w.get(Z-_e,we)||(H++,D<<=1,this.bitMatrix.get(Z-_e,we)&&(D|=1),H===8&&(B[I++]=D,H=0,D=0))}y=!y}if(I!==u.getTotalCodewords())throw new M;return B}remask(){if(this.parsedFormatInfo===null)return;const o=Jn.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let u=0,h=o.getWidth();u<h;u++)for(let x=u+1,w=o.getHeight();x<w;x++)o.get(u,x)!==o.get(x,u)&&(o.flip(x,u),o.flip(u,x))}}class yA{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u,h){if(o.length!==u.getTotalCodewords())throw new C;const x=u.getECBlocksForLevel(h);let w=0;const y=x.getECBlocks();for(const _e of y)w+=_e.getCount();const B=new Array(w);let I=0;for(const _e of y)for(let Se=0;Se<_e.getCount();Se++){const Ue=_e.getDataCodewords(),Ze=x.getECCodewordsPerBlock()+Ue;B[I++]=new yA(Ue,new Uint8Array(Ze))}const D=B[0].codewords.length;let H=B.length-1;for(;H>=0&&B[H].codewords.length!==D;)H--;H++;const Z=D-x.getECCodewordsPerBlock();let ae=0;for(let _e=0;_e<Z;_e++)for(let Se=0;Se<I;Se++)B[Se].codewords[_e]=o[ae++];for(let _e=H;_e<I;_e++)B[_e].codewords[Z]=o[ae++];const we=B[0].codewords.length;for(let _e=Z;_e<we;_e++)for(let Se=0;Se<I;Se++){const Ue=Se<H?_e:_e+1;B[Se].codewords[Ue]=o[ae++]}return B}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var _i;(function(Y){Y[Y.TERMINATOR=0]="TERMINATOR",Y[Y.NUMERIC=1]="NUMERIC",Y[Y.ALPHANUMERIC=2]="ALPHANUMERIC",Y[Y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Y[Y.BYTE=4]="BYTE",Y[Y.ECI=5]="ECI",Y[Y.KANJI=6]="KANJI",Y[Y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Y[Y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Y[Y.HANZI=9]="HANZI"})(_i||(_i={}));class qt{constructor(o,u,h,x){this.value=o,this.stringValue=u,this.characterCountBitsForVersions=h,this.bits=x,qt.FOR_BITS.set(x,this),qt.FOR_VALUE.set(o,this)}static forBits(o){const u=qt.FOR_BITS.get(o);if(u===void 0)throw new C;return u}getCharacterCountBits(o){const u=o.getVersionNumber();let h;return u<=9?h=0:u<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof qt))return!1;const u=o;return this.value===u.value}toString(){return this.stringValue}}qt.FOR_BITS=new Map,qt.FOR_VALUE=new Map,qt.TERMINATOR=new qt(_i.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),qt.NUMERIC=new qt(_i.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),qt.ALPHANUMERIC=new qt(_i.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),qt.STRUCTURED_APPEND=new qt(_i.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),qt.BYTE=new qt(_i.BYTE,"BYTE",Int32Array.from([8,16,16]),4),qt.ECI=new qt(_i.ECI,"ECI",Int32Array.from([0,0,0]),7),qt.KANJI=new qt(_i.KANJI,"KANJI",Int32Array.from([8,10,12]),8),qt.FNC1_FIRST_POSITION=new qt(_i.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),qt.FNC1_SECOND_POSITION=new qt(_i.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),qt.HANZI=new qt(_i.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class an{static decode(o,u,h,x){const w=new Ji(o);let y=new q;const B=new Array;let I=-1,D=-1;try{let H=null,Z=!1,ae;do{if(w.available()<4)ae=qt.TERMINATOR;else{const we=w.readBits(4);ae=qt.forBits(we)}switch(ae){case qt.TERMINATOR:break;case qt.FNC1_FIRST_POSITION:case qt.FNC1_SECOND_POSITION:Z=!0;break;case qt.STRUCTURED_APPEND:if(w.available()<16)throw new M;I=w.readBits(8),D=w.readBits(8);break;case qt.ECI:const we=an.parseECIValue(w);if(H=O.getCharacterSetECIByValue(we),H===null)throw new M;break;case qt.HANZI:const _e=w.readBits(4),Se=w.readBits(ae.getCharacterCountBits(u));_e===an.GB2312_SUBSET&&an.decodeHanziSegment(w,y,Se);break;default:const Ue=w.readBits(ae.getCharacterCountBits(u));switch(ae){case qt.NUMERIC:an.decodeNumericSegment(w,y,Ue);break;case qt.ALPHANUMERIC:an.decodeAlphanumericSegment(w,y,Ue,Z);break;case qt.BYTE:an.decodeByteSegment(w,y,Ue,H,B,x);break;case qt.KANJI:an.decodeKanjiSegment(w,y,Ue);break;default:throw new M}break}}while(ae!==qt.TERMINATOR)}catch{throw new M}return new He(o,y.toString(),B.length===0?null:B,h===null?null:h.toString(),I,D)}static decodeHanziSegment(o,u,h){if(h*13>o.available())throw new M;const x=new Uint8Array(2*h);let w=0;for(;h>0;){const y=o.readBits(13);let B=y/96<<8&4294967295|y%96;B<959?B+=41377:B+=42657,x[w]=B>>8&255,x[w+1]=B&255,w+=2,h--}try{u.append(te.decode(x,W.GB2312))}catch(y){throw new M(y)}}static decodeKanjiSegment(o,u,h){if(h*13>o.available())throw new M;const x=new Uint8Array(2*h);let w=0;for(;h>0;){const y=o.readBits(13);let B=y/192<<8&4294967295|y%192;B<7936?B+=33088:B+=49472,x[w]=B>>8,x[w+1]=B,w+=2,h--}try{u.append(te.decode(x,W.SHIFT_JIS))}catch(y){throw new M(y)}}static decodeByteSegment(o,u,h,x,w,y){if(8*h>o.available())throw new M;const B=new Uint8Array(h);for(let D=0;D<h;D++)B[D]=o.readBits(8);let I;x===null?I=W.guessEncoding(B,y):I=x.getName();try{u.append(te.decode(B,I))}catch(D){throw new M(D)}w.push(B)}static toAlphaNumericChar(o){if(o>=an.ALPHANUMERIC_CHARS.length)throw new M;return an.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,u,h,x){const w=u.length();for(;h>1;){if(o.available()<11)throw new M;const y=o.readBits(11);u.append(an.toAlphaNumericChar(Math.floor(y/45))),u.append(an.toAlphaNumericChar(y%45)),h-=2}if(h===1){if(o.available()<6)throw new M;u.append(an.toAlphaNumericChar(o.readBits(6)))}if(x)for(let y=w;y<u.length();y++)u.charAt(y)==="%"&&(y<u.length()-1&&u.charAt(y+1)==="%"?u.deleteCharAt(y+1):u.setCharAt(y,""))}static decodeNumericSegment(o,u,h){for(;h>=3;){if(o.available()<10)throw new M;const x=o.readBits(10);if(x>=1e3)throw new M;u.append(an.toAlphaNumericChar(Math.floor(x/100))),u.append(an.toAlphaNumericChar(Math.floor(x/10)%10)),u.append(an.toAlphaNumericChar(x%10)),h-=3}if(h===2){if(o.available()<7)throw new M;const x=o.readBits(7);if(x>=100)throw new M;u.append(an.toAlphaNumericChar(Math.floor(x/10))),u.append(an.toAlphaNumericChar(x%10))}else if(h===1){if(o.available()<4)throw new M;const x=o.readBits(4);if(x>=10)throw new M;u.append(an.toAlphaNumericChar(x))}}static parseECIValue(o){const u=o.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const h=o.readBits(8);return(u&63)<<8&4294967295|h}if((u&224)===192){const h=o.readBits(16);return(u&31)<<16&4294967295|h}throw new M}}an.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",an.GB2312_SUBSET=1;class vc{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const u=o[0];o[0]=o[2],o[2]=u}}class Ku{constructor(){this.rsDecoder=new At(Xe.QR_CODE_FIELD_256)}decodeBooleanArray(o,u){return this.decodeBitMatrix(Ie.parseFromBooleanArray(o),u)}decodeBitMatrix(o,u){const h=new ks(o);let x=null;try{return this.decodeBitMatrixParser(h,u)}catch(w){x=w}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const w=this.decodeBitMatrixParser(h,u);return w.setOther(new vc(!0)),w}catch(w){throw x!==null?x:w}}decodeBitMatrixParser(o,u){const h=o.readVersion(),x=o.readFormatInformation().getErrorCorrectionLevel(),w=o.readCodewords(),y=yA.getDataBlocks(w,h,x);let B=0;for(const H of y)B+=H.getNumDataCodewords();const I=new Uint8Array(B);let D=0;for(const H of y){const Z=H.getCodewords(),ae=H.getNumDataCodewords();this.correctErrors(Z,ae);for(let we=0;we<ae;we++)I[D++]=Z[we]}return an.decode(I,h,x,u)}correctErrors(o,u){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-u)}catch{throw new N}for(let x=0;x<u;x++)o[x]=h[x]}}class Ds extends Tt{constructor(o,u,h){super(o,u),this.estimatedModuleSize=h}aboutEquals(o,u,h){if(Math.abs(u-this.getY())<=o&&Math.abs(h-this.getX())<=o){const x=Math.abs(o-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(o,u,h){const x=(this.getX()+u)/2,w=(this.getY()+o)/2,y=(this.estimatedModuleSize+h)/2;return new Ds(x,w,y)}}class Mn{constructor(o,u,h,x,w,y,B){this.image=o,this.startX=u,this.startY=h,this.width=x,this.height=w,this.moduleSize=y,this.resultPointCallback=B,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,u=this.height,h=this.width,x=o+h,w=this.startY+u/2,y=new Int32Array(3),B=this.image;for(let I=0;I<u;I++){const D=w+((I&1)===0?Math.floor((I+1)/2):-Math.floor((I+1)/2));y[0]=0,y[1]=0,y[2]=0;let H=o;for(;H<x&&!B.get(H,D);)H++;let Z=0;for(;H<x;){if(B.get(H,D))if(Z===1)y[1]++;else if(Z===2){if(this.foundPatternCross(y)){const ae=this.handlePossibleCenter(y,D,H);if(ae!==null)return ae}y[0]=y[2],y[1]=1,y[2]=0,Z=1}else y[++Z]++;else Z===1&&Z++,y[Z]++;H++}if(this.foundPatternCross(y)){const ae=this.handlePossibleCenter(y,D,x);if(ae!==null)return ae}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new xe}static centerFromEnd(o,u){return u-o[2]-o[1]/2}foundPatternCross(o){const u=this.moduleSize,h=u/2;for(let x=0;x<3;x++)if(Math.abs(u-o[x])>=h)return!1;return!0}crossCheckVertical(o,u,h,x){const w=this.image,y=w.getHeight(),B=this.crossCheckStateCount;B[0]=0,B[1]=0,B[2]=0;let I=o;for(;I>=0&&w.get(u,I)&&B[1]<=h;)B[1]++,I--;if(I<0||B[1]>h)return NaN;for(;I>=0&&!w.get(u,I)&&B[0]<=h;)B[0]++,I--;if(B[0]>h)return NaN;for(I=o+1;I<y&&w.get(u,I)&&B[1]<=h;)B[1]++,I++;if(I===y||B[1]>h)return NaN;for(;I<y&&!w.get(u,I)&&B[2]<=h;)B[2]++,I++;if(B[2]>h)return NaN;const D=B[0]+B[1]+B[2];return 5*Math.abs(D-x)>=2*x?NaN:this.foundPatternCross(B)?Mn.centerFromEnd(B,I):NaN}handlePossibleCenter(o,u,h){const x=o[0]+o[1]+o[2],w=Mn.centerFromEnd(o,h),y=this.crossCheckVertical(u,w,2*o[1],x);if(!isNaN(y)){const B=(o[0]+o[1]+o[2])/3;for(const D of this.possibleCenters)if(D.aboutEquals(B,y,w))return D.combineEstimate(y,w,B);const I=new Ds(w,y,B);this.possibleCenters.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return null}}class Ao extends Tt{constructor(o,u,h,x){super(o,u),this.estimatedModuleSize=h,this.count=x,x===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,u,h){if(Math.abs(u-this.getY())<=o&&Math.abs(h-this.getX())<=o){const x=Math.abs(o-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(o,u,h){const x=this.count+1,w=(this.count*this.getX()+u)/x,y=(this.count*this.getY()+o)/x,B=(this.count*this.estimatedModuleSize+h)/x;return new Ao(w,y,B,x)}}class xl{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class dn{constructor(o,u){this.image=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const u=o!=null&&o.get(G.TRY_HARDER)!==void 0,h=o!=null&&o.get(G.PURE_BARCODE)!==void 0,x=this.image,w=x.getHeight(),y=x.getWidth();let B=Math.floor(3*w/(4*dn.MAX_MODULES));(B<dn.MIN_SKIP||u)&&(B=dn.MIN_SKIP);let I=!1;const D=new Int32Array(5);for(let Z=B-1;Z<w&&!I;Z+=B){D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0;let ae=0;for(let we=0;we<y;we++)if(x.get(we,Z))(ae&1)===1&&ae++,D[ae]++;else if((ae&1)===0)if(ae===4)if(dn.foundPatternCross(D)){if(this.handlePossibleCenter(D,Z,we,h)===!0)if(B=2,this.hasSkipped===!0)I=this.haveMultiplyConfirmedCenters();else{const Se=this.findRowSkip();Se>D[2]&&(Z+=Se-D[2]-B,we=y-1)}else{D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,ae=3;continue}ae=0,D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0}else D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,ae=3;else D[++ae]++;else D[ae]++;dn.foundPatternCross(D)&&this.handlePossibleCenter(D,Z,y,h)===!0&&(B=D[0],this.hasSkipped&&(I=this.haveMultiplyConfirmedCenters()))}const H=this.selectBestPatterns();return Tt.orderBestPatterns(H),new xl(H)}static centerFromEnd(o,u){return u-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let u=0;for(let w=0;w<5;w++){const y=o[w];if(y===0)return!1;u+=y}if(u<7)return!1;const h=u/7,x=h/2;return Math.abs(h-o[0])<x&&Math.abs(h-o[1])<x&&Math.abs(3*h-o[2])<3*x&&Math.abs(h-o[3])<x&&Math.abs(h-o[4])<x}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,u,h,x){const w=this.getCrossCheckStateCount();let y=0;const B=this.image;for(;o>=y&&u>=y&&B.get(u-y,o-y);)w[2]++,y++;if(o<y||u<y)return!1;for(;o>=y&&u>=y&&!B.get(u-y,o-y)&&w[1]<=h;)w[1]++,y++;if(o<y||u<y||w[1]>h)return!1;for(;o>=y&&u>=y&&B.get(u-y,o-y)&&w[0]<=h;)w[0]++,y++;if(w[0]>h)return!1;const I=B.getHeight(),D=B.getWidth();for(y=1;o+y<I&&u+y<D&&B.get(u+y,o+y);)w[2]++,y++;if(o+y>=I||u+y>=D)return!1;for(;o+y<I&&u+y<D&&!B.get(u+y,o+y)&&w[3]<h;)w[3]++,y++;if(o+y>=I||u+y>=D||w[3]>=h)return!1;for(;o+y<I&&u+y<D&&B.get(u+y,o+y)&&w[4]<h;)w[4]++,y++;if(w[4]>=h)return!1;const H=w[0]+w[1]+w[2]+w[3]+w[4];return Math.abs(H-x)<2*x&&dn.foundPatternCross(w)}crossCheckVertical(o,u,h,x){const w=this.image,y=w.getHeight(),B=this.getCrossCheckStateCount();let I=o;for(;I>=0&&w.get(u,I);)B[2]++,I--;if(I<0)return NaN;for(;I>=0&&!w.get(u,I)&&B[1]<=h;)B[1]++,I--;if(I<0||B[1]>h)return NaN;for(;I>=0&&w.get(u,I)&&B[0]<=h;)B[0]++,I--;if(B[0]>h)return NaN;for(I=o+1;I<y&&w.get(u,I);)B[2]++,I++;if(I===y)return NaN;for(;I<y&&!w.get(u,I)&&B[3]<h;)B[3]++,I++;if(I===y||B[3]>=h)return NaN;for(;I<y&&w.get(u,I)&&B[4]<h;)B[4]++,I++;if(B[4]>=h)return NaN;const D=B[0]+B[1]+B[2]+B[3]+B[4];return 5*Math.abs(D-x)>=2*x?NaN:dn.foundPatternCross(B)?dn.centerFromEnd(B,I):NaN}crossCheckHorizontal(o,u,h,x){const w=this.image,y=w.getWidth(),B=this.getCrossCheckStateCount();let I=o;for(;I>=0&&w.get(I,u);)B[2]++,I--;if(I<0)return NaN;for(;I>=0&&!w.get(I,u)&&B[1]<=h;)B[1]++,I--;if(I<0||B[1]>h)return NaN;for(;I>=0&&w.get(I,u)&&B[0]<=h;)B[0]++,I--;if(B[0]>h)return NaN;for(I=o+1;I<y&&w.get(I,u);)B[2]++,I++;if(I===y)return NaN;for(;I<y&&!w.get(I,u)&&B[3]<h;)B[3]++,I++;if(I===y||B[3]>=h)return NaN;for(;I<y&&w.get(I,u)&&B[4]<h;)B[4]++,I++;if(B[4]>=h)return NaN;const D=B[0]+B[1]+B[2]+B[3]+B[4];return 5*Math.abs(D-x)>=x?NaN:dn.foundPatternCross(B)?dn.centerFromEnd(B,I):NaN}handlePossibleCenter(o,u,h,x){const w=o[0]+o[1]+o[2]+o[3]+o[4];let y=dn.centerFromEnd(o,h),B=this.crossCheckVertical(u,Math.floor(y),o[2],w);if(!isNaN(B)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(B),o[2],w),!isNaN(y)&&(!x||this.crossCheckDiagonal(Math.floor(B),Math.floor(y),o[2],w)))){const I=w/7;let D=!1;const H=this.possibleCenters;for(let Z=0,ae=H.length;Z<ae;Z++){const we=H[Z];if(we.aboutEquals(I,B,y)){H[Z]=we.combineEstimate(B,y,I),D=!0;break}}if(!D){const Z=new Ao(y,B,I);H.push(Z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const h of this.possibleCenters)if(h.getCount()>=dn.CENTER_QUORUM)if(u==null)u=h;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-h.getX())-Math.abs(u.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,u=0;const h=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=dn.CENTER_QUORUM&&(o++,u+=y.getEstimatedModuleSize());if(o<3)return!1;const x=u/h;let w=0;for(const y of this.possibleCenters)w+=Math.abs(y.getEstimatedModuleSize()-x);return w<=.05*u}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new xe;const u=this.possibleCenters;let h;if(o>3){let x=0,w=0;for(const I of this.possibleCenters){const D=I.getEstimatedModuleSize();x+=D,w+=D*D}h=x/o;let y=Math.sqrt(w/o-h*h);u.sort((I,D)=>{const H=Math.abs(D.getEstimatedModuleSize()-h),Z=Math.abs(I.getEstimatedModuleSize()-h);return H<Z?-1:H>Z?1:0});const B=Math.max(.2*h,y);for(let I=0;I<u.length&&u.length>3;I++){const D=u[I];Math.abs(D.getEstimatedModuleSize()-h)>B&&(u.splice(I,1),I--)}}if(u.length>3){let x=0;for(const w of u)x+=w.getEstimatedModuleSize();h=x/u.length,u.sort((w,y)=>{if(y.getCount()===w.getCount()){const B=Math.abs(y.getEstimatedModuleSize()-h),I=Math.abs(w.getEstimatedModuleSize()-h);return B<I?1:B>I?-1:0}else return y.getCount()-w.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}dn.CENTER_QUORUM=2,dn.MIN_SKIP=3,dn.MAX_MODULES=57;class mi{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(G.NEED_RESULT_POINT_CALLBACK);const h=new dn(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(h)}processFinderPatternInfo(o){const u=o.getTopLeft(),h=o.getTopRight(),x=o.getBottomLeft(),w=this.calculateModuleSize(u,h,x);if(w<1)throw new xe("No pattern found in proccess finder.");const y=mi.computeDimension(u,h,x,w),B=St.getProvisionalVersionForDimension(y),I=B.getDimensionForVersion()-7;let D=null;if(B.getAlignmentPatternCenters().length>0){const we=h.getX()-u.getX()+x.getX(),_e=h.getY()-u.getY()+x.getY(),Se=1-3/I,Ue=Math.floor(u.getX()+Se*(we-u.getX())),Ze=Math.floor(u.getY()+Se*(_e-u.getY()));for(let Bt=4;Bt<=16;Bt<<=1)try{D=this.findAlignmentInRegion(w,Ue,Ze,Bt);break}catch(Et){if(!(Et instanceof xe))throw Et}}const H=mi.createTransform(u,h,x,D,y),Z=mi.sampleGrid(this.image,H,y);let ae;return D===null?ae=[x,u,h]:ae=[x,u,h,D],new un(Z,ae)}static createTransform(o,u,h,x,w){const y=w-3.5;let B,I,D,H;return x!==null?(B=x.getX(),I=x.getY(),D=y-3,H=D):(B=u.getX()-o.getX()+h.getX(),I=u.getY()-o.getY()+h.getY(),D=y,H=y),lt.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,D,H,3.5,y,o.getX(),o.getY(),u.getX(),u.getY(),B,I,h.getX(),h.getY())}static sampleGrid(o,u,h){return tr.getInstance().sampleGridWithTransform(o,h,h,u)}static computeDimension(o,u,h,x){const w=Nt.round(Tt.distance(o,u)/x),y=Nt.round(Tt.distance(o,h)/x);let B=Math.floor((w+y)/2)+7;switch(B&3){case 0:B++;break;case 2:B--;break;case 3:throw new xe("Dimensions could be not found.")}return B}calculateModuleSize(o,u,h){return(this.calculateModuleSizeOneWay(o,u)+this.calculateModuleSizeOneWay(o,h))/2}calculateModuleSizeOneWay(o,u){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(u.getX()),Math.floor(u.getY())),x=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(h)?x/7:isNaN(x)?h/7:(h+x)/14}sizeOfBlackWhiteBlackRunBothWays(o,u,h,x){let w=this.sizeOfBlackWhiteBlackRun(o,u,h,x),y=1,B=o-(h-o);B<0?(y=o/(o-B),B=0):B>=this.image.getWidth()&&(y=(this.image.getWidth()-1-o)/(B-o),B=this.image.getWidth()-1);let I=Math.floor(u-(x-u)*y);return y=1,I<0?(y=u/(u-I),I=0):I>=this.image.getHeight()&&(y=(this.image.getHeight()-1-u)/(I-u),I=this.image.getHeight()-1),B=Math.floor(o+(B-o)*y),w+=this.sizeOfBlackWhiteBlackRun(o,u,B,I),w-1}sizeOfBlackWhiteBlackRun(o,u,h,x){const w=Math.abs(x-u)>Math.abs(h-o);if(w){let we=o;o=u,u=we,we=h,h=x,x=we}const y=Math.abs(h-o),B=Math.abs(x-u);let I=-y/2;const D=o<h?1:-1,H=u<x?1:-1;let Z=0;const ae=h+D;for(let we=o,_e=u;we!==ae;we+=D){const Se=w?_e:we,Ue=w?we:_e;if(Z===1===this.image.get(Se,Ue)){if(Z===2)return Nt.distance(we,_e,o,u);Z++}if(I+=B,I>0){if(_e===x)break;_e+=H,I-=y}}return Z===2?Nt.distance(h+D,x,o,u):NaN}findAlignmentInRegion(o,u,h,x){const w=Math.floor(x*o),y=Math.max(0,u-w),B=Math.min(this.image.getWidth()-1,u+w);if(B-y<o*3)throw new xe("Alignment top exceeds estimated module size.");const I=Math.max(0,h-w),D=Math.min(this.image.getHeight()-1,h+w);if(D-I<o*3)throw new xe("Alignment bottom exceeds estimated module size.");return new Mn(this.image,y,I,B-y,D-I,o,this.resultPointCallback).find()}}class ta{constructor(){this.decoder=new Ku}getDecoder(){return this.decoder}decode(o,u){let h,x;if(u!=null&&u.get(G.PURE_BARCODE)!==void 0){const I=ta.extractPureBits(o.getBlackMatrix());h=this.decoder.decodeBitMatrix(I,u),x=ta.NO_POINTS}else{const I=new mi(o.getBlackMatrix()).detect(u);h=this.decoder.decodeBitMatrix(I.getBits(),u),x=I.getPoints()}h.getOther()instanceof vc&&h.getOther().applyMirroredCorrection(x);const w=new oe(h.getText(),h.getRawBytes(),void 0,x,be.QR_CODE,void 0),y=h.getByteSegments();y!==null&&w.putMetadata(ke.BYTE_SEGMENTS,y);const B=h.getECLevel();return B!==null&&w.putMetadata(ke.ERROR_CORRECTION_LEVEL,B),h.hasStructuredAppend()&&(w.putMetadata(ke.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),w.putMetadata(ke.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),w}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(u===null||h===null)throw new xe;const x=this.moduleSize(u,o);let w=u[1],y=h[1],B=u[0],I=h[0];if(B>=I||w>=y)throw new xe;if(y-w!==I-B&&(I=B+(y-w),I>=o.getWidth()))throw new xe;const D=Math.round((I-B+1)/x),H=Math.round((y-w+1)/x);if(D<=0||H<=0)throw new xe;if(H!==D)throw new xe;const Z=Math.floor(x/2);w+=Z,B+=Z;const ae=B+Math.floor((D-1)*x)-I;if(ae>0){if(ae>Z)throw new xe;B-=ae}const we=w+Math.floor((H-1)*x)-y;if(we>0){if(we>Z)throw new xe;w-=we}const _e=new Ie(D,H);for(let Se=0;Se<H;Se++){const Ue=w+Math.floor(Se*x);for(let Ze=0;Ze<D;Ze++)o.get(B+Math.floor(Ze*x),Ue)&&_e.set(Ze,Se)}return _e}static moduleSize(o,u){const h=u.getHeight(),x=u.getWidth();let w=o[0],y=o[1],B=!0,I=0;for(;w<x&&y<h;){if(B!==u.get(w,y)){if(++I===5)break;B=!B}w++,y++}if(w===x||y===h)throw new xe;return(w-o[0])/7}}ta.NO_POINTS=new Array;class Zt{PDF417Common(){}static getBitCountSum(o){return Nt.sum(o)}static toIntArray(o){if(o==null||!o.length)return Zt.EMPTY_INT_ARRAY;const u=new Int32Array(o.length);let h=0;for(const x of o)u[h++]=x;return u}static getCodeword(o){const u=K.binarySearch(Zt.SYMBOL_TABLE,o&262143);return u<0?-1:(Zt.CODEWORD_TABLE[u]-1)%Zt.NUMBER_OF_CODEWORDS}}Zt.NUMBER_OF_CODEWORDS=929,Zt.MAX_CODEWORDS_IN_BARCODE=Zt.NUMBER_OF_CODEWORDS-1,Zt.MIN_ROWS_IN_BARCODE=3,Zt.MAX_ROWS_IN_BARCODE=90,Zt.MODULES_IN_CODEWORD=17,Zt.MODULES_IN_STOP_PATTERN=18,Zt.BARS_IN_MODULE=8,Zt.EMPTY_INT_ARRAY=new Int32Array([]),Zt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Zt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class yc{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class $t{static detectMultiple(o,u,h){let x=o.getBlackMatrix(),w=$t.detect(h,x);return w.length||(x=x.clone(),x.rotate180(),w=$t.detect(h,x)),new yc(x,w)}static detect(o,u){const h=new Array;let x=0,w=0,y=!1;for(;x<u.getHeight();){const B=$t.findVertices(u,x,w);if(B[0]==null&&B[3]==null){if(!y)break;y=!1,w=0;for(const I of h)I[1]!=null&&(x=Math.trunc(Math.max(x,I[1].getY()))),I[3]!=null&&(x=Math.max(x,Math.trunc(I[3].getY())));x+=$t.ROW_STEP;continue}if(y=!0,h.push(B),!o)break;B[2]!=null?(w=Math.trunc(B[2].getX()),x=Math.trunc(B[2].getY())):(w=Math.trunc(B[4].getX()),x=Math.trunc(B[4].getY()))}return h}static findVertices(o,u,h){const x=o.getHeight(),w=o.getWidth(),y=new Array(8);return $t.copyToResult(y,$t.findRowsWithPattern(o,x,w,u,h,$t.START_PATTERN),$t.INDEXES_START_PATTERN),y[4]!=null&&(h=Math.trunc(y[4].getX()),u=Math.trunc(y[4].getY())),$t.copyToResult(y,$t.findRowsWithPattern(o,x,w,u,h,$t.STOP_PATTERN),$t.INDEXES_STOP_PATTERN),y}static copyToResult(o,u,h){for(let x=0;x<h.length;x++)o[h[x]]=u[x]}static findRowsWithPattern(o,u,h,x,w,y){const B=new Array(4);let I=!1;const D=new Int32Array(y.length);for(;x<u;x+=$t.ROW_STEP){let Z=$t.findGuardPattern(o,w,x,h,!1,y,D);if(Z!=null){for(;x>0;){const ae=$t.findGuardPattern(o,w,--x,h,!1,y,D);if(ae!=null)Z=ae;else{x++;break}}B[0]=new Tt(Z[0],x),B[1]=new Tt(Z[1],x),I=!0;break}}let H=x+1;if(I){let Z=0,ae=Int32Array.from([Math.trunc(B[0].getX()),Math.trunc(B[1].getX())]);for(;H<u;H++){const we=$t.findGuardPattern(o,ae[0],H,h,!1,y,D);if(we!=null&&Math.abs(ae[0]-we[0])<$t.MAX_PATTERN_DRIFT&&Math.abs(ae[1]-we[1])<$t.MAX_PATTERN_DRIFT)ae=we,Z=0;else{if(Z>$t.SKIPPED_ROW_COUNT_MAX)break;Z++}}H-=Z+1,B[2]=new Tt(ae[0],H),B[3]=new Tt(ae[1],H)}return H-x<$t.BARCODE_MIN_HEIGHT&&K.fill(B,null),B}static findGuardPattern(o,u,h,x,w,y,B){K.fillWithin(B,0,B.length,0);let I=u,D=0;for(;o.get(I,h)&&I>0&&D++<$t.MAX_PIXEL_DRIFT;)I--;let H=I,Z=0,ae=y.length;for(let we=w;H<x;H++)if(o.get(H,h)!==we)B[Z]++;else{if(Z===ae-1){if($t.patternMatchVariance(B,y,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return new Int32Array([I,H]);I+=B[0]+B[1],k.arraycopy(B,2,B,0,Z-1),B[Z-1]=0,B[Z]=0,Z--}else Z++;B[Z]=1,we=!we}return Z===ae-1&&$t.patternMatchVariance(B,y,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE?new Int32Array([I,H-1]):null}static patternMatchVariance(o,u,h){let x=o.length,w=0,y=0;for(let D=0;D<x;D++)w+=o[D],y+=u[D];if(w<y)return 1/0;let B=w/y;h*=B;let I=0;for(let D=0;D<x;D++){let H=o[D],Z=u[D]*B,ae=H>Z?H-Z:Z-H;if(ae>h)return 1/0;I+=ae}return I/w}}$t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$t.MAX_AVG_VARIANCE=.42,$t.MAX_INDIVIDUAL_VARIANCE=.8,$t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$t.MAX_PIXEL_DRIFT=3,$t.MAX_PATTERN_DRIFT=5,$t.SKIPPED_ROW_COUNT_MAX=25,$t.ROW_STEP=5,$t.BARCODE_MIN_HEIGHT=10;class on{constructor(o,u){if(u.length===0)throw new C;this.field=o;let h=u.length;if(h>1&&u[0]===0){let x=1;for(;x<h&&u[x]===0;)x++;x===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-x),k.arraycopy(u,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let x=0;for(let w of this.coefficients)x=this.field.add(x,w);return x}let u=this.coefficients[0],h=this.coefficients.length;for(let x=1;x<h;x++)u=this.field.add(this.field.multiply(o,u),this.coefficients[x]);return u}add(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,h=o.coefficients;if(u.length>h.length){let y=u;u=h,h=y}let x=new Int32Array(h.length),w=h.length-u.length;k.arraycopy(h,0,x,0,w);for(let y=w;y<h.length;y++)x[y]=this.field.add(u[y-w],h[y]);return new on(this.field,x)}subtract(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof on?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new on(this.field,new Int32Array([0]));let u=this.coefficients,h=u.length,x=o.coefficients,w=x.length,y=new Int32Array(h+w-1);for(let B=0;B<h;B++){let I=u[B];for(let D=0;D<w;D++)y[B+D]=this.field.add(y[B+D],this.field.multiply(I,x[D]))}return new on(this.field,y)}negative(){let o=this.coefficients.length,u=new Int32Array(o);for(let h=0;h<o;h++)u[h]=this.field.subtract(0,this.coefficients[h]);return new on(this.field,u)}multiplyScalar(o){if(o===0)return new on(this.field,new Int32Array([0]));if(o===1)return this;let u=this.coefficients.length,h=new Int32Array(u);for(let x=0;x<u;x++)h[x]=this.field.multiply(this.coefficients[x],o);return new on(this.field,h)}multiplyByMonomial(o,u){if(o<0)throw new C;if(u===0)return new on(this.field,new Int32Array([0]));let h=this.coefficients.length,x=new Int32Array(h+o);for(let w=0;w<h;w++)x[w]=this.field.multiply(this.coefficients[w],u);return new on(this.field,x)}toString(){let o=new q;for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);h!==0&&(h<0?(o.append(" - "),h=-h):o.length()>0&&o.append(" + "),(u===0||h!==1)&&o.append(h),u!==0&&(u===1?o.append("x"):(o.append("x^"),o.append(u))))}return o.toString()}}class CA{add(o,u){return(o+u)%this.modulus}subtract(o,u){return(this.modulus+o-u)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new C;return this.logTable[o]}inverse(o){if(o===0)throw new se;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Us extends CA{constructor(o,u){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let h=1;for(let x=0;x<o;x++)this.expTable[x]=h,h=h*u%o;for(let x=0;x<o-1;x++)this.logTable[this.expTable[x]]=x;this.zero=new on(this,new Int32Array([0])),this.one=new on(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new C;if(u===0)return this.zero;let h=new Int32Array(o+1);return h[0]=u,new on(this,h)}}Us.PDF417_GF=new Us(Zt.NUMBER_OF_CODEWORDS,3);class $i{constructor(){this.field=Us.PDF417_GF}decode(o,u,h){let x=new on(this.field,o),w=new Int32Array(u),y=!1;for(let _e=u;_e>0;_e--){let Se=x.evaluateAt(this.field.exp(_e));w[u-_e]=Se,Se!==0&&(y=!0)}if(!y)return 0;let B=this.field.getOne();if(h!=null)for(const _e of h){let Se=this.field.exp(o.length-1-_e),Ue=new on(this.field,new Int32Array([this.field.subtract(0,Se),1]));B=B.multiply(Ue)}let I=new on(this.field,w),D=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),I,u),H=D[0],Z=D[1],ae=this.findErrorLocations(H),we=this.findErrorMagnitudes(Z,H,ae);for(let _e=0;_e<ae.length;_e++){let Se=o.length-1-this.field.log(ae[_e]);if(Se<0)throw N.getChecksumInstance();o[Se]=this.field.subtract(o[Se],we[_e])}return ae.length}runEuclideanAlgorithm(o,u,h){if(o.getDegree()<u.getDegree()){let ae=o;o=u,u=ae}let x=o,w=u,y=this.field.getZero(),B=this.field.getOne();for(;w.getDegree()>=Math.round(h/2);){let ae=x,we=y;if(x=w,y=B,x.isZero())throw N.getChecksumInstance();w=ae;let _e=this.field.getZero(),Se=x.getCoefficient(x.getDegree()),Ue=this.field.inverse(Se);for(;w.getDegree()>=x.getDegree()&&!w.isZero();){let Ze=w.getDegree()-x.getDegree(),Bt=this.field.multiply(w.getCoefficient(w.getDegree()),Ue);_e=_e.add(this.field.buildMonomial(Ze,Bt)),w=w.subtract(x.multiplyByMonomial(Ze,Bt))}B=_e.multiply(y).subtract(we).negative()}let I=B.getCoefficient(0);if(I===0)throw N.getChecksumInstance();let D=this.field.inverse(I),H=B.multiply(D),Z=w.multiply(D);return[H,Z]}findErrorLocations(o){let u=o.getDegree(),h=new Int32Array(u),x=0;for(let w=1;w<this.field.getSize()&&x<u;w++)o.evaluateAt(w)===0&&(h[x]=this.field.inverse(w),x++);if(x!==u)throw N.getChecksumInstance();return h}findErrorMagnitudes(o,u,h){let x=u.getDegree(),w=new Int32Array(x);for(let D=1;D<=x;D++)w[x-D]=this.field.multiply(D,u.getCoefficient(D));let y=new on(this.field,w),B=h.length,I=new Int32Array(B);for(let D=0;D<B;D++){let H=this.field.inverse(h[D]),Z=this.field.subtract(0,o.evaluateAt(H)),ae=this.field.inverse(y.evaluateAt(H));I[D]=this.field.multiply(Z,ae)}return I}}class Ms{constructor(o,u,h,x,w){o instanceof Ms?this.constructor_2(o):this.constructor_1(o,u,h,x,w)}constructor_1(o,u,h,x,w){const y=u==null||h==null,B=x==null||w==null;if(y&&B)throw new xe;y?(u=new Tt(0,x.getY()),h=new Tt(0,w.getY())):B&&(x=new Tt(o.getWidth()-1,u.getY()),w=new Tt(o.getWidth()-1,h.getY())),this.image=o,this.topLeft=u,this.bottomLeft=h,this.topRight=x,this.bottomRight=w,this.minX=Math.trunc(Math.min(u.getX(),h.getX())),this.maxX=Math.trunc(Math.max(x.getX(),w.getX())),this.minY=Math.trunc(Math.min(u.getY(),x.getY())),this.maxY=Math.trunc(Math.max(h.getY(),w.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,u){return o==null?u:u==null?o:new Ms(o.image,o.topLeft,o.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(o,u,h){let x=this.topLeft,w=this.bottomLeft,y=this.topRight,B=this.bottomRight;if(o>0){let I=h?this.topLeft:this.topRight,D=Math.trunc(I.getY()-o);D<0&&(D=0);let H=new Tt(I.getX(),D);h?x=H:y=H}if(u>0){let I=h?this.bottomLeft:this.bottomRight,D=Math.trunc(I.getY()+u);D>=this.image.getHeight()&&(D=this.image.getHeight()-1);let H=new Tt(I.getX(),D);h?w=H:B=H}return new Ms(this.image,x,w,y,B)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class wa{constructor(o,u,h,x){this.columnCount=o,this.errorCorrectionLevel=x,this.rowCountUpperPart=u,this.rowCountLowerPart=h,this.rowCount=u+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Os{constructor(){this.buffer=""}static form(o,u){let h=-1;function x(y,B,I,D,H,Z){if(y==="%%")return"%";if(u[++h]===void 0)return;y=D?parseInt(D.substr(1)):void 0;let ae=H?parseInt(H.substr(1)):void 0,we;switch(Z){case"s":we=u[h];break;case"c":we=u[h][0];break;case"f":we=parseFloat(u[h]).toFixed(y);break;case"p":we=parseFloat(u[h]).toPrecision(y);break;case"e":we=parseFloat(u[h]).toExponential(y);break;case"x":we=parseInt(u[h]).toString(ae||16);break;case"d":we=parseFloat(parseInt(u[h],ae||10).toPrecision(y)).toFixed(0);break}we=typeof we=="object"?JSON.stringify(we):(+we).toString(ae);let _e=parseInt(I),Se=I&&I[0]+""=="0"?"0":" ";for(;we.length<_e;)we=B!==void 0?we+Se:Se+we;return we}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(w,x)}format(o,...u){this.buffer+=Os.form(o,u)}toString(){return this.buffer}}class ra{constructor(o){this.boundingBox=new Ms(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let u=this.getCodeword(o);if(u!=null)return u;for(let h=1;h<ra.MAX_NEARBY_DISTANCE;h++){let x=this.imageRowToCodewordIndex(o)-h;if(x>=0&&(u=this.codewords[x],u!=null)||(x=this.imageRowToCodewordIndex(o)+h,x<this.codewords.length&&(u=this.codewords[x],u!=null)))return u}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,u){this.codewords[this.imageRowToCodewordIndex(o)]=u}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Os;let u=0;for(const h of this.codewords){if(h==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,h.getRowNumber(),h.getValue())}return o.toString()}}ra.MAX_NEARBY_DISTANCE=5;class Ls{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let u=this.values.get(o);u==null&&(u=0),u++,this.values.set(o,u)}getValue(){let o=-1,u=new Array;for(const[h,x]of this.values.entries()){const w={getKey:()=>h,getValue:()=>x};w.getValue()>o?(o=w.getValue(),u=[],u.push(w.getKey())):w.getValue()===o&&u.push(w.getKey())}return Zt.toIntArray(u)}getConfidence(o){return this.values.get(o)}}class hn extends ra{constructor(o,u){super(o),this._isLeft=u}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,o);let h=this.getBoundingBox(),x=this._isLeft?h.getTopLeft():h.getTopRight(),w=this._isLeft?h.getBottomLeft():h.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(x.getY())),B=this.imageRowToCodewordIndex(Math.trunc(w.getY())),I=-1,D=1,H=0;for(let Z=y;Z<B;Z++){if(u[Z]==null)continue;let ae=u[Z],we=ae.getRowNumber()-I;if(we===0)H++;else if(we===1)D=Math.max(D,H),H=1,I=ae.getRowNumber();else if(we<0||ae.getRowNumber()>=o.getRowCount()||we>Z)u[Z]=null;else{let _e;D>2?_e=(D-2)*we:_e=we;let Se=_e>=Z;for(let Ue=1;Ue<=_e&&!Se;Ue++)Se=u[Z-Ue]!=null;Se?u[Z]=null:(I=ae.getRowNumber(),H=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let u=new Int32Array(o.getRowCount());for(let h of this.getCodewords())if(h!=null){let x=h.getRowNumber();if(x>=u.length)continue;u[x]++}return u}adjustIncompleteIndicatorColumnRowNumbers(o){let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),x=this._isLeft?u.getBottomLeft():u.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(h.getY())),y=this.imageRowToCodewordIndex(Math.trunc(x.getY())),B=this.getCodewords(),I=-1;for(let D=w;D<y;D++){if(B[D]==null)continue;let H=B[D];H.setRowNumberAsRowIndicatorColumn();let Z=H.getRowNumber()-I;Z===0||(Z===1?I=H.getRowNumber():H.getRowNumber()>=o.getRowCount()?B[D]=null:I=H.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),u=new Ls,h=new Ls,x=new Ls,w=new Ls;for(let B of o){if(B==null)continue;B.setRowNumberAsRowIndicatorColumn();let I=B.getValue()%30,D=B.getRowNumber();switch(this._isLeft||(D+=2),D%3){case 0:h.setValue(I*3+1);break;case 1:w.setValue(I/3),x.setValue(I%3);break;case 2:u.setValue(I+1);break}}if(u.getValue().length===0||h.getValue().length===0||x.getValue().length===0||w.getValue().length===0||u.getValue()[0]<1||h.getValue()[0]+x.getValue()[0]<Zt.MIN_ROWS_IN_BARCODE||h.getValue()[0]+x.getValue()[0]>Zt.MAX_ROWS_IN_BARCODE)return null;let y=new wa(u.getValue()[0],h.getValue()[0],x.getValue()[0],w.getValue()[0]);return this.removeIncorrectCodewords(o,y),y}removeIncorrectCodewords(o,u){for(let h=0;h<o.length;h++){let x=o[h];if(o[h]==null)continue;let w=x.getValue()%30,y=x.getRowNumber();if(y>u.getRowCount()){o[h]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:w*3+1!==u.getRowCountUpperPart()&&(o[h]=null);break;case 1:(Math.trunc(w/3)!==u.getErrorCorrectionLevel()||w%3!==u.getRowCountLowerPart())&&(o[h]=null);break;case 2:w+1!==u.getColumnCount()&&(o[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Vn{constructor(o,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Zt.MAX_CODEWORDS_IN_BARCODE,u;do u=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let h=this.detectionResultColumns[u].getCodewords();for(let x=0;x<h.length;x++)h[x]!=null&&(h[x].hasValidRowNumber()||this.adjustRowNumbers(u,x,h))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<o.length;h++)if(o[h]!=null&&u[h]!=null&&o[h].getRowNumber()===u[h].getRowNumber())for(let x=1;x<=this.barcodeColumnCount;x++){let w=this.detectionResultColumns[x].getCodewords()[h];w!=null&&(w.setRowNumber(o[h].getRowNumber()),w.hasValidRowNumber()||(this.detectionResultColumns[x].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let x=u[h].getRowNumber(),w=0;for(let y=this.barcodeColumnCount+1;y>0&&w<this.ADJUST_ROW_NUMBER_SKIP;y--){let B=this.detectionResultColumns[y].getCodewords()[h];B!=null&&(w=Vn.adjustRowNumberIfValid(x,w,B),B.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,u=this.detectionResultColumns[0].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let x=u[h].getRowNumber(),w=0;for(let y=1;y<this.barcodeColumnCount+1&&w<this.ADJUST_ROW_NUMBER_SKIP;y++){let B=this.detectionResultColumns[y].getCodewords()[h];B!=null&&(w=Vn.adjustRowNumberIfValid(x,w,B),B.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,u,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(o)?(h.setRowNumber(o),u=0):++u),u}adjustRowNumbers(o,u,h){if(!this.detectionResultColumns[o-1])return;let x=h[u],w=this.detectionResultColumns[o-1].getCodewords(),y=w;this.detectionResultColumns[o+1]!=null&&(y=this.detectionResultColumns[o+1].getCodewords());let B=new Array(14);B[2]=w[u],B[3]=y[u],u>0&&(B[0]=h[u-1],B[4]=w[u-1],B[5]=y[u-1]),u>1&&(B[8]=h[u-2],B[10]=w[u-2],B[11]=y[u-2]),u<h.length-1&&(B[1]=h[u+1],B[6]=w[u+1],B[7]=y[u+1]),u<h.length-2&&(B[9]=h[u+2],B[12]=w[u+2],B[13]=y[u+2]);for(let I of B)if(Vn.adjustRowNumber(x,I))return}static adjustRowNumber(o,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===o.getBucket()?(o.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,u){this.detectionResultColumns[o]=u}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new Os;for(let h=0;h<o.getCodewords().length;h++){u.format("CW %3d:",h);for(let x=0;x<this.barcodeColumnCount+2;x++){if(this.detectionResultColumns[x]==null){u.format("    |   ");continue}let w=this.detectionResultColumns[x].getCodewords()[h];if(w==null){u.format("    |   ");continue}u.format(" %3d|%3d",w.getRowNumber(),w.getValue())}u.format("%n")}return u.toString()}}class ms{constructor(o,u,h,x){this.rowNumber=ms.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(u),this.bucket=Math.trunc(h),this.value=Math.trunc(x)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==ms.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}ms.BARCODE_ROW_UNKNOWN=-1;class jn{static initialize(){for(let o=0;o<Zt.SYMBOL_TABLE.length;o++){let u=Zt.SYMBOL_TABLE[o],h=u&1;for(let x=0;x<Zt.BARS_IN_MODULE;x++){let w=0;for(;(u&1)===h;)w+=1,u>>=1;h=u&1,jn.RATIOS_TABLE[o]||(jn.RATIOS_TABLE[o]=new Array(Zt.BARS_IN_MODULE)),jn.RATIOS_TABLE[o][Zt.BARS_IN_MODULE-x-1]=Math.fround(w/Zt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let u=jn.getDecodedCodewordValue(jn.sampleBitCounts(o));return u!==-1?u:jn.getClosestDecodedValue(o)}static sampleBitCounts(o){let u=Nt.sum(o),h=new Int32Array(Zt.BARS_IN_MODULE),x=0,w=0;for(let y=0;y<Zt.MODULES_IN_CODEWORD;y++){let B=u/(2*Zt.MODULES_IN_CODEWORD)+y*u/Zt.MODULES_IN_CODEWORD;w+o[x]<=B&&(w+=o[x],x++),h[x]++}return h}static getDecodedCodewordValue(o){let u=jn.getBitValue(o);return Zt.getCodeword(u)===-1?-1:u}static getBitValue(o){let u=0;for(let h=0;h<o.length;h++)for(let x=0;x<o[h];x++)u=u<<1|(h%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(o){let u=Nt.sum(o),h=new Array(Zt.BARS_IN_MODULE);if(u>1)for(let y=0;y<h.length;y++)h[y]=Math.fround(o[y]/u);let x=wr.MAX_VALUE,w=-1;this.bSymbolTableReady||jn.initialize();for(let y=0;y<jn.RATIOS_TABLE.length;y++){let B=0,I=jn.RATIOS_TABLE[y];for(let D=0;D<Zt.BARS_IN_MODULE;D++){let H=Math.fround(I[D]-h[D]);if(B+=Math.fround(H*H),B>=x)break}B<x&&(x=B,w=Zt.SYMBOL_TABLE[y])}return w}}jn.bSymbolTableReady=!1,jn.RATIOS_TABLE=new Array(Zt.SYMBOL_TABLE.length).map(Y=>new Array(Zt.BARS_IN_MODULE));class ja{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class EA{static parseLong(o,u=void 0){return parseInt(o,u)}}class Ga extends d{}Ga.kind="NullPointerException";class wl{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,u,h){if(o==null)throw new Ga;if(u<0||u>o.length||h<0||u+h>o.length||u+h<0)throw new U;if(h===0)return;for(let x=0;x<h;x++)this.write(o[u+x])}flush(){}close(){}}class Di extends d{}class Fo extends wl{constructor(o=32){if(super(),this.count=0,o<0)throw new C("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let h=this.buf.length<<1;if(h-o<0&&(h=o),h<0){if(o<0)throw new Di;h=Q.MAX_VALUE}this.buf=K.copyOfUint8Array(this.buf,h)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,u,h){if(u<0||u>o.length||h<0||u+h-o.length>0)throw new U;this.ensureCapacity(this.count+h),k.arraycopy(o,u,this.buf,this.count,h),this.count+=h}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return K.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var Hr;(function(Y){Y[Y.ALPHA=0]="ALPHA",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.PUNCT=3]="PUNCT",Y[Y.ALPHA_SHIFT=4]="ALPHA_SHIFT",Y[Y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Hr||(Hr={}));function co(){if(typeof window<"u")return window.BigInt||null;if(typeof sh<"u")return sh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ro;function Qs(Y){if(typeof Ro>"u"&&(Ro=co()),Ro===null)throw new Error("BigInt is not supported!");return Ro(Y)}function uo(){let Y=[];Y[0]=Qs(1);let o=Qs(900);Y[1]=o;for(let u=2;u<16;u++)Y[u]=Y[u-1]*o;return Y}class Ye{static decode(o,u){let h=new q(""),x=O.ISO8859_1;h.enableDecoding(x);let w=1,y=o[w++],B=new ja;for(;w<o[0];){switch(y){case Ye.TEXT_COMPACTION_MODE_LATCH:w=Ye.textCompaction(o,w,h);break;case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:w=Ye.byteCompaction(y,o,x,w,h);break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[w++]);break;case Ye.NUMERIC_COMPACTION_MODE_LATCH:w=Ye.numericCompaction(o,w,h);break;case Ye.ECI_CHARSET:O.getCharacterSetECIByValue(o[w++]);break;case Ye.ECI_GENERAL_PURPOSE:w+=2;break;case Ye.ECI_USER_DEFINED:w++;break;case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:w=Ye.decodeMacroBlock(o,w,B);break;case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:throw new M;default:w--,w=Ye.textCompaction(o,w,h);break}if(w<o.length)y=o[w++];else throw M.getFormatInstance()}if(h.length()===0)throw M.getFormatInstance();let I=new He(null,h.toString(),null,u);return I.setOther(B),I}static decodeMacroBlock(o,u,h){if(u+Ye.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw M.getFormatInstance();let x=new Int32Array(Ye.NUMBER_OF_SEQUENCE_CODEWORDS);for(let B=0;B<Ye.NUMBER_OF_SEQUENCE_CODEWORDS;B++,u++)x[B]=o[u];h.setSegmentIndex(Q.parseInt(Ye.decodeBase900toBase10(x,Ye.NUMBER_OF_SEQUENCE_CODEWORDS)));let w=new q;u=Ye.textCompaction(o,u,w),h.setFileId(w.toString());let y=-1;for(o[u]===Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=u+1);u<o[0];)switch(o[u]){case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,o[u]){case Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let B=new q;u=Ye.textCompaction(o,u+1,B),h.setFileName(B.toString());break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let I=new q;u=Ye.textCompaction(o,u+1,I),h.setSender(I.toString());break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let D=new q;u=Ye.textCompaction(o,u+1,D),h.setAddressee(D.toString());break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let H=new q;u=Ye.numericCompaction(o,u+1,H),h.setSegmentCount(Q.parseInt(H.toString()));break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Z=new q;u=Ye.numericCompaction(o,u+1,Z),h.setTimestamp(EA.parseLong(Z.toString()));break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ae=new q;u=Ye.numericCompaction(o,u+1,ae),h.setChecksum(Q.parseInt(ae.toString()));break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let we=new q;u=Ye.numericCompaction(o,u+1,we),h.setFileSize(EA.parseLong(we.toString()));break;default:throw M.getFormatInstance()}break;case Ye.MACRO_PDF417_TERMINATOR:u++,h.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(y!==-1){let B=u-y;h.isLastSegment()&&B--,h.setOptionalData(K.copyOfRange(o,y,y+B))}return u}static textCompaction(o,u,h){let x=new Int32Array((o[0]-u)*2),w=new Int32Array((o[0]-u)*2),y=0,B=!1;for(;u<o[0]&&!B;){let I=o[u++];if(I<Ye.TEXT_COMPACTION_MODE_LATCH)x[y]=I/30,x[y+1]=I%30,y+=2;else switch(I){case Ye.TEXT_COMPACTION_MODE_LATCH:x[y++]=Ye.TEXT_COMPACTION_MODE_LATCH;break;case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.NUMERIC_COMPACTION_MODE_LATCH:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:u--,B=!0;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x[y]=Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,I=o[u++],w[y]=I,y++;break}}return Ye.decodeTextCompaction(x,w,y,h),u}static decodeTextCompaction(o,u,h,x){let w=Hr.ALPHA,y=Hr.ALPHA,B=0;for(;B<h;){let I=o[B],D="";switch(w){case Hr.ALPHA:if(I<26)D=String.fromCharCode(65+I);else switch(I){case 26:D=" ";break;case Ye.LL:w=Hr.LOWER;break;case Ye.ML:w=Hr.MIXED;break;case Ye.PS:y=w,w=Hr.PUNCT_SHIFT;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(u[B]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:w=Hr.ALPHA;break}break;case Hr.LOWER:if(I<26)D=String.fromCharCode(97+I);else switch(I){case 26:D=" ";break;case Ye.AS:y=w,w=Hr.ALPHA_SHIFT;break;case Ye.ML:w=Hr.MIXED;break;case Ye.PS:y=w,w=Hr.PUNCT_SHIFT;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(u[B]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:w=Hr.ALPHA;break}break;case Hr.MIXED:if(I<Ye.PL)D=Ye.MIXED_CHARS[I];else switch(I){case Ye.PL:w=Hr.PUNCT;break;case 26:D=" ";break;case Ye.LL:w=Hr.LOWER;break;case Ye.AL:w=Hr.ALPHA;break;case Ye.PS:y=w,w=Hr.PUNCT_SHIFT;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(u[B]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:w=Hr.ALPHA;break}break;case Hr.PUNCT:if(I<Ye.PAL)D=Ye.PUNCT_CHARS[I];else switch(I){case Ye.PAL:w=Hr.ALPHA;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(u[B]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:w=Hr.ALPHA;break}break;case Hr.ALPHA_SHIFT:if(w=y,I<26)D=String.fromCharCode(65+I);else switch(I){case 26:D=" ";break;case Ye.TEXT_COMPACTION_MODE_LATCH:w=Hr.ALPHA;break}break;case Hr.PUNCT_SHIFT:if(w=y,I<Ye.PAL)D=Ye.PUNCT_CHARS[I];else switch(I){case Ye.PAL:w=Hr.ALPHA;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(u[B]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:w=Hr.ALPHA;break}break}D!==""&&x.append(D),B++}}static byteCompaction(o,u,h,x,w){let y=new Fo,B=0,I=0,D=!1;switch(o){case Ye.BYTE_COMPACTION_MODE_LATCH:let H=new Int32Array(6),Z=u[x++];for(;x<u[0]&&!D;)switch(H[B++]=Z,I=900*I+Z,Z=u[x++],Z){case Ye.TEXT_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.NUMERIC_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:x--,D=!0;break;default:if(B%5===0&&B>0){for(let ae=0;ae<6;++ae)y.write(Number(Qs(I)>>Qs(8*(5-ae))));I=0,B=0}break}x===u[0]&&Z<Ye.TEXT_COMPACTION_MODE_LATCH&&(H[B++]=Z);for(let ae=0;ae<B;ae++)y.write(H[ae]);break;case Ye.BYTE_COMPACTION_MODE_LATCH_6:for(;x<u[0]&&!D;){let ae=u[x++];if(ae<Ye.TEXT_COMPACTION_MODE_LATCH)B++,I=900*I+ae;else switch(ae){case Ye.TEXT_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.NUMERIC_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:x--,D=!0;break}if(B%5===0&&B>0){for(let we=0;we<6;++we)y.write(Number(Qs(I)>>Qs(8*(5-we))));I=0,B=0}}break}return w.append(te.decode(y.toByteArray(),h)),x}static numericCompaction(o,u,h){let x=0,w=!1,y=new Int32Array(Ye.MAX_NUMERIC_CODEWORDS);for(;u<o[0]&&!w;){let B=o[u++];if(u===o[0]&&(w=!0),B<Ye.TEXT_COMPACTION_MODE_LATCH)y[x]=B,x++;else switch(B){case Ye.TEXT_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:u--,w=!0;break}(x%Ye.MAX_NUMERIC_CODEWORDS===0||B===Ye.NUMERIC_COMPACTION_MODE_LATCH||w)&&x>0&&(h.append(Ye.decodeBase900toBase10(y,x)),x=0)}return u}static decodeBase900toBase10(o,u){let h=Qs(0);for(let w=0;w<u;w++)h+=Ye.EXP900[u-w-1]*Qs(o[w]);let x=h.toString();if(x.charAt(0)!=="1")throw new M;return x.substring(1)}}Ye.TEXT_COMPACTION_MODE_LATCH=900,Ye.BYTE_COMPACTION_MODE_LATCH=901,Ye.NUMERIC_COMPACTION_MODE_LATCH=902,Ye.BYTE_COMPACTION_MODE_LATCH_6=924,Ye.ECI_USER_DEFINED=925,Ye.ECI_GENERAL_PURPOSE=926,Ye.ECI_CHARSET=927,Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ye.MACRO_PDF417_TERMINATOR=922,Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ye.MAX_NUMERIC_CODEWORDS=15,Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ye.PL=25,Ye.LL=27,Ye.AS=27,Ye.ML=28,Ye.AL=28,Ye.PS=29,Ye.PAL=29,Ye.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ye.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ye.EXP900=co()?uo():[],Ye.NUMBER_OF_SEQUENCE_CODEWORDS=2;class or{constructor(){}static decode(o,u,h,x,w,y,B){let I=new Ms(o,u,h,x,w),D=null,H=null,Z;for(let _e=!0;;_e=!1){if(u!=null&&(D=or.getRowIndicatorColumn(o,I,u,!0,y,B)),x!=null&&(H=or.getRowIndicatorColumn(o,I,x,!1,y,B)),Z=or.merge(D,H),Z==null)throw xe.getNotFoundInstance();let Se=Z.getBoundingBox();if(_e&&Se!=null&&(Se.getMinY()<I.getMinY()||Se.getMaxY()>I.getMaxY()))I=Se;else break}Z.setBoundingBox(I);let ae=Z.getBarcodeColumnCount()+1;Z.setDetectionResultColumn(0,D),Z.setDetectionResultColumn(ae,H);let we=D!=null;for(let _e=1;_e<=ae;_e++){let Se=we?_e:ae-_e;if(Z.getDetectionResultColumn(Se)!==void 0)continue;let Ue;Se===0||Se===ae?Ue=new hn(I,Se===0):Ue=new ra(I),Z.setDetectionResultColumn(Se,Ue);let Ze=-1,Bt=Ze;for(let Et=I.getMinY();Et<=I.getMaxY();Et++){if(Ze=or.getStartColumn(Z,Se,Et,we),Ze<0||Ze>I.getMaxX()){if(Bt===-1)continue;Ze=Bt}let mt=or.detectCodeword(o,I.getMinX(),I.getMaxX(),we,Ze,Et,y,B);mt!=null&&(Ue.setCodeword(Et,mt),Bt=Ze,y=Math.min(y,mt.getWidth()),B=Math.max(B,mt.getWidth()))}}return or.createDecoderResult(Z)}static merge(o,u){if(o==null&&u==null)return null;let h=or.getBarcodeMetadata(o,u);if(h==null)return null;let x=Ms.merge(or.adjustBoundingBox(o),or.adjustBoundingBox(u));return new Vn(h,x)}static adjustBoundingBox(o){if(o==null)return null;let u=o.getRowHeights();if(u==null)return null;let h=or.getMax(u),x=0;for(let B of u)if(x+=h-B,B>0)break;let w=o.getCodewords();for(let B=0;x>0&&w[B]==null;B++)x--;let y=0;for(let B=u.length-1;B>=0&&(y+=h-u[B],!(u[B]>0));B--);for(let B=w.length-1;y>0&&w[B]==null;B--)y--;return o.getBoundingBox().addMissingRows(x,y,o.isLeft())}static getMax(o){let u=-1;for(let h of o)u=Math.max(u,h);return u}static getBarcodeMetadata(o,u){let h;if(o==null||(h=o.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let x;return u==null||(x=u.getBarcodeMetadata())==null?h:h.getColumnCount()!==x.getColumnCount()&&h.getErrorCorrectionLevel()!==x.getErrorCorrectionLevel()&&h.getRowCount()!==x.getRowCount()?null:h}static getRowIndicatorColumn(o,u,h,x,w,y){let B=new hn(u,x);for(let I=0;I<2;I++){let D=I===0?1:-1,H=Math.trunc(Math.trunc(h.getX()));for(let Z=Math.trunc(Math.trunc(h.getY()));Z<=u.getMaxY()&&Z>=u.getMinY();Z+=D){let ae=or.detectCodeword(o,0,o.getWidth(),x,H,Z,w,y);ae!=null&&(B.setCodeword(Z,ae),x?H=ae.getStartX():H=ae.getEndX())}}return B}static adjustCodewordCount(o,u){let h=u[0][1],x=h.getValue(),w=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-or.getNumberOfECCodeWords(o.getBarcodeECLevel());if(x.length===0){if(w<1||w>Zt.MAX_CODEWORDS_IN_BARCODE)throw xe.getNotFoundInstance();h.setValue(w)}else x[0]!==w&&h.setValue(w)}static createDecoderResult(o){let u=or.createBarcodeMatrix(o);or.adjustCodewordCount(o,u);let h=new Array,x=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),w=[],y=new Array;for(let I=0;I<o.getBarcodeRowCount();I++)for(let D=0;D<o.getBarcodeColumnCount();D++){let H=u[I][D+1].getValue(),Z=I*o.getBarcodeColumnCount()+D;H.length===0?h.push(Z):H.length===1?x[Z]=H[0]:(y.push(Z),w.push(H))}let B=new Array(w.length);for(let I=0;I<B.length;I++)B[I]=w[I];return or.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),x,Zt.toIntArray(h),Zt.toIntArray(y),B)}static createDecoderResultFromAmbiguousValues(o,u,h,x,w){let y=new Int32Array(x.length),B=100;for(;B-- >0;){for(let I=0;I<y.length;I++)u[x[I]]=w[I][y[I]];try{return or.decodeCodewords(u,o,h)}catch(I){if(!(I instanceof N))throw I}if(y.length===0)throw N.getChecksumInstance();for(let I=0;I<y.length;I++)if(y[I]<w[I].length-1){y[I]++;break}else if(y[I]=0,I===y.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(o){let u=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let x=0;x<u.length;x++)for(let w=0;w<u[x].length;w++)u[x][w]=new Ls;let h=0;for(let x of o.getDetectionResultColumns()){if(x!=null){for(let w of x.getCodewords())if(w!=null){let y=w.getRowNumber();if(y>=0){if(y>=u.length)continue;u[y][h].setValue(w.getValue())}}}h++}return u}static isValidBarcodeColumn(o,u){return u>=0&&u<=o.getBarcodeColumnCount()+1}static getStartColumn(o,u,h,x){let w=x?1:-1,y=null;if(or.isValidBarcodeColumn(o,u-w)&&(y=o.getDetectionResultColumn(u-w).getCodeword(h)),y!=null)return x?y.getEndX():y.getStartX();if(y=o.getDetectionResultColumn(u).getCodewordNearby(h),y!=null)return x?y.getStartX():y.getEndX();if(or.isValidBarcodeColumn(o,u-w)&&(y=o.getDetectionResultColumn(u-w).getCodewordNearby(h)),y!=null)return x?y.getEndX():y.getStartX();let B=0;for(;or.isValidBarcodeColumn(o,u-w);){u-=w;for(let I of o.getDetectionResultColumn(u).getCodewords())if(I!=null)return(x?I.getEndX():I.getStartX())+w*B*(I.getEndX()-I.getStartX());B++}return x?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,u,h,x,w,y,B,I){w=or.adjustCodewordStartColumn(o,u,h,x,w,y);let D=or.getModuleBitCount(o,u,h,x,w,y);if(D==null)return null;let H,Z=Nt.sum(D);if(x)H=w+Z;else{for(let _e=0;_e<D.length/2;_e++){let Se=D[_e];D[_e]=D[D.length-1-_e],D[D.length-1-_e]=Se}H=w,w=H-Z}if(!or.checkCodewordSkew(Z,B,I))return null;let ae=jn.getDecodedValue(D),we=Zt.getCodeword(ae);return we===-1?null:new ms(w,H,or.getCodewordBucketNumber(ae),we)}static getModuleBitCount(o,u,h,x,w,y){let B=w,I=new Int32Array(8),D=0,H=x?1:-1,Z=x;for(;(x?B<h:B>=u)&&D<I.length;)o.get(B,y)===Z?(I[D]++,B+=H):(D++,Z=!Z);return D===I.length||B===(x?h:u)&&D===I.length-1?I:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,u,h,x,w,y){let B=w,I=x?-1:1;for(let D=0;D<2;D++){for(;(x?B>=u:B<h)&&x===o.get(B,y);){if(Math.abs(w-B)>or.CODEWORD_SKEW_SIZE)return w;B+=I}I=-I,x=!x}return B}static checkCodewordSkew(o,u,h){return u-or.CODEWORD_SKEW_SIZE<=o&&o<=h+or.CODEWORD_SKEW_SIZE}static decodeCodewords(o,u,h){if(o.length===0)throw M.getFormatInstance();let x=1<<u+1,w=or.correctErrors(o,h,x);or.verifyCodewordCount(o,x);let y=Ye.decode(o,""+u);return y.setErrorsCorrected(w),y.setErasures(h.length),y}static correctErrors(o,u,h){if(u!=null&&u.length>h/2+or.MAX_ERRORS||h<0||h>or.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return or.errorCorrection.decode(o,h,u)}static verifyCodewordCount(o,u){if(o.length<4)throw M.getFormatInstance();let h=o[0];if(h>o.length)throw M.getFormatInstance();if(h===0)if(u<o.length)o[0]=o.length-u;else throw M.getFormatInstance()}static getBitCountForCodeword(o){let u=new Int32Array(8),h=0,x=u.length-1;for(;!((o&1)!==h&&(h=o&1,x--,x<0));)u[x]++,o>>=1;return u}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return or.getCodewordBucketNumber(or.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let u=new Os;for(let h=0;h<o.length;h++){u.format("Row %2d: ",h);for(let x=0;x<o[h].length;x++){let w=o[h][x];w.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",w.getValue()[0],w.getConfidence(w.getValue()[0]))}u.format("%n")}return u.toString()}}or.CODEWORD_SKEW_SIZE=2,or.MAX_ERRORS=3,or.MAX_EC_CODEWORDS=512,or.errorCorrection=new $i;class Zn{decode(o,u=null){let h=Zn.decode(o,u,!1);if(h==null||h.length===0||h[0]==null)throw xe.getNotFoundInstance();return h[0]}decodeMultiple(o,u=null){try{return Zn.decode(o,u,!0)}catch(h){throw h instanceof M||h instanceof N?xe.getNotFoundInstance():h}}static decode(o,u,h){const x=new Array,w=$t.detectMultiple(o,u,h);for(const y of w.getPoints()){const B=or.decode(w.getBits(),y[4],y[5],y[6],y[7],Zn.getMinCodewordWidth(y),Zn.getMaxCodewordWidth(y)),I=new oe(B.getText(),B.getRawBytes(),void 0,y,be.PDF_417);I.putMetadata(ke.ERROR_CORRECTION_LEVEL,B.getECLevel());const D=B.getOther();D!=null&&I.putMetadata(ke.PDF417_EXTRA_METADATA,D),x.push(I)}return x.map(y=>y)}static getMaxWidth(o,u){return o==null||u==null?0:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMinWidth(o,u){return o==null||u==null?Q.MAX_VALUE:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Zn.getMaxWidth(o[0],o[4]),Zn.getMaxWidth(o[6],o[2])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN),Math.max(Zn.getMaxWidth(o[1],o[5]),Zn.getMaxWidth(o[7],o[3])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Zn.getMinWidth(o[0],o[4]),Zn.getMinWidth(o[6],o[2])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN),Math.min(Zn.getMinWidth(o[1],o[5]),Zn.getMinWidth(o[7],o[3])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN)))}reset(){}}class ko extends d{}ko.kind="ReaderException";class fo{constructor(o,u){this.verbose=o===!0,u&&this.setHints(u)}decode(o,u){return u&&this.setHints(u),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const u=!n(o)&&o.get(G.TRY_HARDER)===!0,h=n(o)?null:o.get(G.POSSIBLE_FORMATS),x=new Array;if(!n(h)){const w=h.some(y=>y===be.UPC_A||y===be.UPC_E||y===be.EAN_13||y===be.EAN_8||y===be.CODABAR||y===be.CODE_39||y===be.CODE_93||y===be.CODE_128||y===be.ITF||y===be.RSS_14||y===be.RSS_EXPANDED);w&&!u&&x.push(new Un(o,this.verbose)),h.includes(be.QR_CODE)&&x.push(new ta),h.includes(be.DATA_MATRIX)&&x.push(new Rs),h.includes(be.AZTEC)&&x.push(new Wt),h.includes(be.PDF_417)&&x.push(new Zn),w&&u&&x.push(new Un(o,this.verbose))}x.length===0&&(u||x.push(new Un(o,this.verbose)),x.push(new ta),x.push(new Rs),x.push(new Wt),x.push(new Zn),u&&x.push(new Un(o,this.verbose))),this.readers=x}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new ko("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(o,this.hints)}catch(h){if(h instanceof ko)continue}throw new xe("No MultiFormat Readers were able to detect the code.")}}class bA extends ue{constructor(o=null,u=500){const h=new fo;h.setHints(o),super(h,u)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Cc extends ue{constructor(o=500){super(new Zn,o)}}class BA extends ue{constructor(o=500){super(new ta,o)}}var Do;(function(Y){Y[Y.ERROR_CORRECTION=0]="ERROR_CORRECTION",Y[Y.CHARACTER_SET=1]="CHARACTER_SET",Y[Y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Y[Y.MIN_SIZE=3]="MIN_SIZE",Y[Y.MAX_SIZE=4]="MAX_SIZE",Y[Y.MARGIN=5]="MARGIN",Y[Y.PDF417_COMPACT=6]="PDF417_COMPACT",Y[Y.PDF417_COMPACTION=7]="PDF417_COMPACTION",Y[Y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Y[Y.AZTEC_LAYERS=9]="AZTEC_LAYERS",Y[Y.QR_VERSION=10]="QR_VERSION"})(Do||(Do={}));var Fn=Do;class va{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new pt(o,Int32Array.from([1])))}buildGenerator(o){const u=this.cachedGenerators;if(o>=u.length){let h=u[u.length-1];const x=this.field;for(let w=u.length;w<=o;w++){const y=h.multiply(new pt(x,Int32Array.from([1,x.exp(w-1+x.getGeneratorBase())])));u.push(y),h=y}}return u[o]}encode(o,u){if(u===0)throw new C("No error correction bytes");const h=o.length-u;if(h<=0)throw new C("No data bytes provided");const x=this.buildGenerator(u),w=new Int32Array(h);k.arraycopy(o,0,w,0,h);let y=new pt(this.field,w);y=y.multiplyByMonomial(u,1);const I=y.divide(x)[1].getCoefficients(),D=u-I.length;for(let H=0;H<D;H++)o[h+H]=0;k.arraycopy(I,0,o,h+D,I.length)}}class wn{constructor(){}static applyMaskPenaltyRule1(o){return wn.applyMaskPenaltyRule1Internal(o,!0)+wn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let u=0;const h=o.getArray(),x=o.getWidth(),w=o.getHeight();for(let y=0;y<w-1;y++){const B=h[y];for(let I=0;I<x-1;I++){const D=B[I];D===B[I+1]&&D===h[y+1][I]&&D===h[y+1][I+1]&&u++}}return wn.N2*u}static applyMaskPenaltyRule3(o){let u=0;const h=o.getArray(),x=o.getWidth(),w=o.getHeight();for(let y=0;y<w;y++)for(let B=0;B<x;B++){const I=h[y];B+6<x&&I[B]===1&&I[B+1]===0&&I[B+2]===1&&I[B+3]===1&&I[B+4]===1&&I[B+5]===0&&I[B+6]===1&&(wn.isWhiteHorizontal(I,B-4,B)||wn.isWhiteHorizontal(I,B+7,B+11))&&u++,y+6<w&&h[y][B]===1&&h[y+1][B]===0&&h[y+2][B]===1&&h[y+3][B]===1&&h[y+4][B]===1&&h[y+5][B]===0&&h[y+6][B]===1&&(wn.isWhiteVertical(h,B,y-4,y)||wn.isWhiteVertical(h,B,y+7,y+11))&&u++}return u*wn.N3}static isWhiteHorizontal(o,u,h){u=Math.max(u,0),h=Math.min(h,o.length);for(let x=u;x<h;x++)if(o[x]===1)return!1;return!0}static isWhiteVertical(o,u,h,x){h=Math.max(h,0),x=Math.min(x,o.length);for(let w=h;w<x;w++)if(o[w][u]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let u=0;const h=o.getArray(),x=o.getWidth(),w=o.getHeight();for(let I=0;I<w;I++){const D=h[I];for(let H=0;H<x;H++)D[H]===1&&u++}const y=o.getHeight()*o.getWidth();return Math.floor(Math.abs(u*2-y)*10/y)*wn.N4}static getDataMaskBit(o,u,h){let x,w;switch(o){case 0:x=h+u&1;break;case 1:x=h&1;break;case 2:x=u%3;break;case 3:x=(h+u)%3;break;case 4:x=Math.floor(h/2)+Math.floor(u/3)&1;break;case 5:w=h*u,x=(w&1)+w%3;break;case 6:w=h*u,x=(w&1)+w%3&1;break;case 7:w=h*u,x=w%3+(h+u&1)&1;break;default:throw new C("Invalid mask pattern: "+o)}return x===0}static applyMaskPenaltyRule1Internal(o,u){let h=0;const x=u?o.getHeight():o.getWidth(),w=u?o.getWidth():o.getHeight(),y=o.getArray();for(let B=0;B<x;B++){let I=0,D=-1;for(let H=0;H<w;H++){const Z=u?y[B][H]:y[H][B];Z===D?I++:(I>=5&&(h+=wn.N1+(I-5)),I=1,D=Z)}I>=5&&(h+=wn.N1+(I-5))}return h}}wn.N1=3,wn.N2=3,wn.N3=40,wn.N4=10;class Uo{constructor(o,u){this.width=o,this.height=u;const h=new Array(u);for(let x=0;x!==u;x++)h[x]=new Uint8Array(o);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(o,u){return this.bytes[u][o]}getArray(){return this.bytes}setNumber(o,u,h){this.bytes[u][o]=h}setBoolean(o,u,h){this.bytes[u][o]=h?1:0}clear(o){for(const u of this.bytes)K.fill(u,o)}equals(o){if(!(o instanceof Uo))return!1;const u=o;if(this.width!==u.width||this.height!==u.height)return!1;for(let h=0,x=this.height;h<x;++h){const w=this.bytes[h],y=u.bytes[h];for(let B=0,I=this.width;B<I;++B)if(w[B]!==y[B])return!1}return!0}toString(){const o=new q;for(let u=0,h=this.height;u<h;++u){const x=this.bytes[u];for(let w=0,y=this.width;w<y;++w)switch(x[w]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Ui{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new q;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Ui.NUM_MASK_PATTERNS}}Ui.NUM_MASK_PATTERNS=8;class Vr extends d{}Vr.kind="WriterException";class Yt{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,u,h,x,w){Yt.clearMatrix(w),Yt.embedBasicPatterns(h,w),Yt.embedTypeInfo(u,x,w),Yt.maybeEmbedVersionInfo(h,w),Yt.embedDataBits(o,x,w)}static embedBasicPatterns(o,u){Yt.embedPositionDetectionPatternsAndSeparators(u),Yt.embedDarkDotAtLeftBottomCorner(u),Yt.maybeEmbedPositionAdjustmentPatterns(o,u),Yt.embedTimingPatterns(u)}static embedTypeInfo(o,u,h){const x=new J;Yt.makeTypeInfoBits(o,u,x);for(let w=0,y=x.getSize();w<y;++w){const B=x.get(x.getSize()-1-w),I=Yt.TYPE_INFO_COORDINATES[w],D=I[0],H=I[1];if(h.setBoolean(D,H,B),w<8){const Z=h.getWidth()-w-1;h.setBoolean(Z,8,B)}else{const ae=h.getHeight()-7+(w-8);h.setBoolean(8,ae,B)}}}static maybeEmbedVersionInfo(o,u){if(o.getVersionNumber()<7)return;const h=new J;Yt.makeVersionInfoBits(o,h);let x=17;for(let w=0;w<6;++w)for(let y=0;y<3;++y){const B=h.get(x);x--,u.setBoolean(w,u.getHeight()-11+y,B),u.setBoolean(u.getHeight()-11+y,w,B)}}static embedDataBits(o,u,h){let x=0,w=-1,y=h.getWidth()-1,B=h.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);B>=0&&B<h.getHeight();){for(let I=0;I<2;++I){const D=y-I;if(!Yt.isEmpty(h.get(D,B)))continue;let H;x<o.getSize()?(H=o.get(x),++x):H=!1,u!==255&&wn.getDataMaskBit(u,D,B)&&(H=!H),h.setBoolean(D,B,H)}B+=w}w=-w,B+=w,y-=2}if(x!==o.getSize())throw new Vr("Not all bits consumed: "+x+"/"+o.getSize())}static findMSBSet(o){return 32-Q.numberOfLeadingZeros(o)}static calculateBCHCode(o,u){if(u===0)throw new C("0 polynomial");const h=Yt.findMSBSet(u);for(o<<=h-1;Yt.findMSBSet(o)>=h;)o^=u<<Yt.findMSBSet(o)-h;return o}static makeTypeInfoBits(o,u,h){if(!Ui.isValidMaskPattern(u))throw new Vr("Invalid mask pattern");const x=o.getBits()<<3|u;h.appendBits(x,5);const w=Yt.calculateBCHCode(x,Yt.TYPE_INFO_POLY);h.appendBits(w,10);const y=new J;if(y.appendBits(Yt.TYPE_INFO_MASK_PATTERN,15),h.xor(y),h.getSize()!==15)throw new Vr("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(o,u){u.appendBits(o.getVersionNumber(),6);const h=Yt.calculateBCHCode(o.getVersionNumber(),Yt.VERSION_INFO_POLY);if(u.appendBits(h,12),u.getSize()!==18)throw new Vr("should not happen but we got: "+u.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let u=8;u<o.getWidth()-8;++u){const h=(u+1)%2;Yt.isEmpty(o.get(u,6))&&o.setNumber(u,6,h),Yt.isEmpty(o.get(6,u))&&o.setNumber(6,u,h)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new Vr;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,u,h){for(let x=0;x<8;++x){if(!Yt.isEmpty(h.get(o+x,u)))throw new Vr;h.setNumber(o+x,u,0)}}static embedVerticalSeparationPattern(o,u,h){for(let x=0;x<7;++x){if(!Yt.isEmpty(h.get(o,u+x)))throw new Vr;h.setNumber(o,u+x,0)}}static embedPositionAdjustmentPattern(o,u,h){for(let x=0;x<5;++x){const w=Yt.POSITION_ADJUSTMENT_PATTERN[x];for(let y=0;y<5;++y)h.setNumber(o+y,u+x,w[y])}}static embedPositionDetectionPattern(o,u,h){for(let x=0;x<7;++x){const w=Yt.POSITION_DETECTION_PATTERN[x];for(let y=0;y<7;++y)h.setNumber(o+y,u+x,w[y])}}static embedPositionDetectionPatternsAndSeparators(o){const u=Yt.POSITION_DETECTION_PATTERN[0].length;Yt.embedPositionDetectionPattern(0,0,o),Yt.embedPositionDetectionPattern(o.getWidth()-u,0,o),Yt.embedPositionDetectionPattern(0,o.getWidth()-u,o);const h=8;Yt.embedHorizontalSeparationPattern(0,h-1,o),Yt.embedHorizontalSeparationPattern(o.getWidth()-h,h-1,o),Yt.embedHorizontalSeparationPattern(0,o.getWidth()-h,o);const x=7;Yt.embedVerticalSeparationPattern(x,0,o),Yt.embedVerticalSeparationPattern(o.getHeight()-x-1,0,o),Yt.embedVerticalSeparationPattern(x,o.getHeight()-x,o)}static maybeEmbedPositionAdjustmentPatterns(o,u){if(o.getVersionNumber()<2)return;const h=o.getVersionNumber()-1,x=Yt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let w=0,y=x.length;w!==y;w++){const B=x[w];if(B>=0)for(let I=0;I!==y;I++){const D=x[I];D>=0&&Yt.isEmpty(u.get(D,B))&&Yt.embedPositionAdjustmentPattern(D-2,B-2,u)}}}}Yt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Yt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Yt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Yt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Yt.VERSION_INFO_POLY=7973,Yt.TYPE_INFO_POLY=1335,Yt.TYPE_INFO_MASK_PATTERN=21522;class Ec{constructor(o,u){this.dataBytes=o,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class en{constructor(){}static calculateMaskPenalty(o){return wn.applyMaskPenaltyRule1(o)+wn.applyMaskPenaltyRule2(o)+wn.applyMaskPenaltyRule3(o)+wn.applyMaskPenaltyRule4(o)}static encode(o,u,h=null){let x=en.DEFAULT_BYTE_MODE_ENCODING;const w=h!==null&&h.get(Fn.CHARACTER_SET)!==void 0;w&&(x=h.get(Fn.CHARACTER_SET).toString());const y=this.chooseMode(o,x),B=new J;if(y===qt.BYTE&&(w||en.DEFAULT_BYTE_MODE_ENCODING!==x)){const Et=O.getCharacterSetECIByName(x);Et!==void 0&&this.appendECI(Et,B)}this.appendModeInfo(y,B);const I=new J;this.appendBytes(o,y,I,x);let D;if(h!==null&&h.get(Fn.QR_VERSION)!==void 0){const Et=Number.parseInt(h.get(Fn.QR_VERSION).toString(),10);D=St.getVersionForNumber(Et);const mt=this.calculateBitsNeeded(y,B,I,D);if(!this.willFit(mt,D,u))throw new Vr("Data too big for requested version")}else D=this.recommendVersion(u,y,B,I);const H=new J;H.appendBitArray(B);const Z=y===qt.BYTE?I.getSizeInBytes():o.length;this.appendLengthInfo(Z,D,y,H),H.appendBitArray(I);const ae=D.getECBlocksForLevel(u),we=D.getTotalCodewords()-ae.getTotalECCodewords();this.terminateBits(we,H);const _e=this.interleaveWithECBytes(H,D.getTotalCodewords(),we,ae.getNumBlocks()),Se=new Ui;Se.setECLevel(u),Se.setMode(y),Se.setVersion(D);const Ue=D.getDimensionForVersion(),Ze=new Uo(Ue,Ue),Bt=this.chooseMaskPattern(_e,u,D,Ze);return Se.setMaskPattern(Bt),Yt.buildMatrix(_e,u,D,Bt,Ze),Se.setMatrix(Ze),Se}static recommendVersion(o,u,h,x){const w=this.calculateBitsNeeded(u,h,x,St.getVersionForNumber(1)),y=this.chooseVersion(w,o),B=this.calculateBitsNeeded(u,h,x,y);return this.chooseVersion(B,o)}static calculateBitsNeeded(o,u,h,x){return u.getSize()+o.getCharacterCountBits(x)+h.getSize()}static getAlphanumericCode(o){return o<en.ALPHANUMERIC_TABLE.length?en.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,u=null){if(O.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(o))return qt.KANJI;let h=!1,x=!1;for(let w=0,y=o.length;w<y;++w){const B=o.charAt(w);if(en.isDigit(B))h=!0;else if(this.getAlphanumericCode(B.charCodeAt(0))!==-1)x=!0;else return qt.BYTE}return x?qt.ALPHANUMERIC:h?qt.NUMERIC:qt.BYTE}static isOnlyDoubleByteKanji(o){let u;try{u=te.encode(o,O.SJIS)}catch{return!1}const h=u.length;if(h%2!==0)return!1;for(let x=0;x<h;x+=2){const w=u[x]&255;if((w<129||w>159)&&(w<224||w>235))return!1}return!0}static chooseMaskPattern(o,u,h,x){let w=Number.MAX_SAFE_INTEGER,y=-1;for(let B=0;B<Ui.NUM_MASK_PATTERNS;B++){Yt.buildMatrix(o,u,h,B,x);let I=this.calculateMaskPenalty(x);I<w&&(w=I,y=B)}return y}static chooseVersion(o,u){for(let h=1;h<=40;h++){const x=St.getVersionForNumber(h);if(en.willFit(o,x,u))return x}throw new Vr("Data too big")}static willFit(o,u,h){const x=u.getTotalCodewords(),y=u.getECBlocksForLevel(h).getTotalECCodewords(),B=x-y,I=(o+7)/8;return B>=I}static terminateBits(o,u){const h=o*8;if(u.getSize()>h)throw new Vr("data bits cannot fit in the QR Code"+u.getSize()+" > "+h);for(let y=0;y<4&&u.getSize()<h;++y)u.appendBit(!1);const x=u.getSize()&7;if(x>0)for(let y=x;y<8;y++)u.appendBit(!1);const w=o-u.getSizeInBytes();for(let y=0;y<w;++y)u.appendBits((y&1)===0?236:17,8);if(u.getSize()!==h)throw new Vr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,u,h,x,w,y){if(x>=h)throw new Vr("Block ID too large");const B=o%h,I=h-B,D=Math.floor(o/h),H=D+1,Z=Math.floor(u/h),ae=Z+1,we=D-Z,_e=H-ae;if(we!==_e)throw new Vr("EC bytes mismatch");if(h!==I+B)throw new Vr("RS blocks mismatch");if(o!==(Z+we)*I+(ae+_e)*B)throw new Vr("Total bytes mismatch");x<I?(w[0]=Z,y[0]=we):(w[0]=ae,y[0]=_e)}static interleaveWithECBytes(o,u,h,x){if(o.getSizeInBytes()!==h)throw new Vr("Number of bits and data bytes does not match");let w=0,y=0,B=0;const I=new Array;for(let H=0;H<x;++H){const Z=new Int32Array(1),ae=new Int32Array(1);en.getNumDataBytesAndNumECBytesForBlockID(u,h,x,H,Z,ae);const we=Z[0],_e=new Uint8Array(we);o.toBytes(8*w,_e,0,we);const Se=en.generateECBytes(_e,ae[0]);I.push(new Ec(_e,Se)),y=Math.max(y,we),B=Math.max(B,Se.length),w+=Z[0]}if(h!==w)throw new Vr("Data bytes does not match offset");const D=new J;for(let H=0;H<y;++H)for(const Z of I){const ae=Z.getDataBytes();H<ae.length&&D.appendBits(ae[H],8)}for(let H=0;H<B;++H)for(const Z of I){const ae=Z.getErrorCorrectionBytes();H<ae.length&&D.appendBits(ae[H],8)}if(u!==D.getSizeInBytes())throw new Vr("Interleaving error: "+u+" and "+D.getSizeInBytes()+" differ.");return D}static generateECBytes(o,u){const h=o.length,x=new Int32Array(h+u);for(let y=0;y<h;y++)x[y]=o[y]&255;new va(Xe.QR_CODE_FIELD_256).encode(x,u);const w=new Uint8Array(u);for(let y=0;y<u;y++)w[y]=x[h+y];return w}static appendModeInfo(o,u){u.appendBits(o.getBits(),4)}static appendLengthInfo(o,u,h,x){const w=h.getCharacterCountBits(u);if(o>=1<<w)throw new Vr(o+" is bigger than "+((1<<w)-1));x.appendBits(o,w)}static appendBytes(o,u,h,x){switch(u){case qt.NUMERIC:en.appendNumericBytes(o,h);break;case qt.ALPHANUMERIC:en.appendAlphanumericBytes(o,h);break;case qt.BYTE:en.append8BitBytes(o,h,x);break;case qt.KANJI:en.appendKanjiBytes(o,h);break;default:throw new Vr("Invalid mode: "+u)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const u=en.getDigit(o);return u>=0&&u<=9}static appendNumericBytes(o,u){const h=o.length;let x=0;for(;x<h;){const w=en.getDigit(o.charAt(x));if(x+2<h){const y=en.getDigit(o.charAt(x+1)),B=en.getDigit(o.charAt(x+2));u.appendBits(w*100+y*10+B,10),x+=3}else if(x+1<h){const y=en.getDigit(o.charAt(x+1));u.appendBits(w*10+y,7),x+=2}else u.appendBits(w,4),x++}}static appendAlphanumericBytes(o,u){const h=o.length;let x=0;for(;x<h;){const w=en.getAlphanumericCode(o.charCodeAt(x));if(w===-1)throw new Vr;if(x+1<h){const y=en.getAlphanumericCode(o.charCodeAt(x+1));if(y===-1)throw new Vr;u.appendBits(w*45+y,11),x+=2}else u.appendBits(w,6),x++}}static append8BitBytes(o,u,h){let x;try{x=te.encode(o,h)}catch(w){throw new Vr(w)}for(let w=0,y=x.length;w!==y;w++){const B=x[w];u.appendBits(B,8)}}static appendKanjiBytes(o,u){let h;try{h=te.encode(o,O.SJIS)}catch(w){throw new Vr(w)}const x=h.length;for(let w=0;w<x;w+=2){const y=h[w]&255,B=h[w+1]&255,I=y<<8&4294967295|B;let D=-1;if(I>=33088&&I<=40956?D=I-33088:I>=57408&&I<=60351&&(D=I-49472),D===-1)throw new Vr("Invalid byte sequence");const H=(D>>8)*192+(D&255);u.appendBits(H,13)}}static appendECI(o,u){u.appendBits(qt.ECI.getBits(),4),u.appendBits(o.getValue(),8)}}en.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),en.DEFAULT_BYTE_MODE_ENCODING=O.UTF8.getName();class Ps{write(o,u,h,x=null){if(o.length===0)throw new C("Found empty contents");if(u<0||h<0)throw new C("Requested dimensions are too small: "+u+"x"+h);let w=sr.L,y=Ps.QUIET_ZONE_SIZE;x!==null&&(x.get(Fn.ERROR_CORRECTION)!==void 0&&(w=sr.fromString(x.get(Fn.ERROR_CORRECTION).toString())),x.get(Fn.MARGIN)!==void 0&&(y=Number.parseInt(x.get(Fn.MARGIN).toString(),10)));const B=en.encode(o,w,x);return this.renderResult(B,u,h,y)}writeToDom(o,u,h,x,w=null){typeof o=="string"&&(o=document.querySelector(o));const y=this.write(u,h,x,w);o&&o.appendChild(y)}renderResult(o,u,h,x){const w=o.getMatrix();if(w===null)throw new Ft;const y=w.getWidth(),B=w.getHeight(),I=y+x*2,D=B+x*2,H=Math.max(u,I),Z=Math.max(h,D),ae=Math.min(Math.floor(H/I),Math.floor(Z/D)),we=Math.floor((H-y*ae)/2),_e=Math.floor((Z-B*ae)/2),Se=this.createSVGElement(H,Z);for(let Ue=0,Ze=_e;Ue<B;Ue++,Ze+=ae)for(let Bt=0,Et=we;Bt<y;Bt++,Et+=ae)if(w.get(Bt,Ue)===1){const mt=this.createSvgRectElement(Et,Ze,ae,ae);Se.appendChild(mt)}return Se}createSVGElement(o,u){const h=document.createElementNS(Ps.SVG_NS,"svg");return h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",u.toString()),h}createSvgRectElement(o,u,h,x){const w=document.createElementNS(Ps.SVG_NS,"rect");return w.setAttributeNS(null,"x",o.toString()),w.setAttributeNS(null,"y",u.toString()),w.setAttributeNS(null,"height",h.toString()),w.setAttributeNS(null,"width",x.toString()),w.setAttributeNS(null,"fill","#000000"),w}}Ps.QUIET_ZONE_SIZE=4,Ps.SVG_NS="http://www.w3.org/2000/svg";class Gn{encode(o,u,h,x,w){if(o.length===0)throw new C("Found empty contents");if(u!==be.QR_CODE)throw new C("Can only encode QR_CODE, but got "+u);if(h<0||x<0)throw new C(`Requested dimensions are too small: ${h}x${x}`);let y=sr.L,B=Gn.QUIET_ZONE_SIZE;w!==null&&(w.get(Fn.ERROR_CORRECTION)!==void 0&&(y=sr.fromString(w.get(Fn.ERROR_CORRECTION).toString())),w.get(Fn.MARGIN)!==void 0&&(B=Number.parseInt(w.get(Fn.MARGIN).toString(),10)));const I=en.encode(o,y,w);return Gn.renderResult(I,h,x,B)}static renderResult(o,u,h,x){const w=o.getMatrix();if(w===null)throw new Ft;const y=w.getWidth(),B=w.getHeight(),I=y+x*2,D=B+x*2,H=Math.max(u,I),Z=Math.max(h,D),ae=Math.min(Math.floor(H/I),Math.floor(Z/D)),we=Math.floor((H-y*ae)/2),_e=Math.floor((Z-B*ae)/2),Se=new Ie(H,Z);for(let Ue=0,Ze=_e;Ue<B;Ue++,Ze+=ae)for(let Bt=0,Et=we;Bt<y;Bt++,Et+=ae)w.get(Bt,Ue)===1&&Se.setRegion(Et,Ze,ae,ae);return Se}}Gn.QUIET_ZONE_SIZE=4;class bc{encode(o,u,h,x,w){let y;switch(u){case be.QR_CODE:y=new Gn;break;default:throw new C("No encoder available for format "+u)}return y.encode(o,u,h,x,w)}}class xs extends We{constructor(o,u,h,x,w,y,B,I){if(super(y,B),this.yuvData=o,this.dataWidth=u,this.dataHeight=h,this.left=x,this.top=w,x+y>u||w+B>h)throw new C("Crop rectangle does not fit within image data.");I&&this.reverseHorizontal(y,B)}getRow(o,u){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const x=(o+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,x,u,0,h),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.yuvData;const h=o*u,x=new Uint8ClampedArray(h);let w=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return k.arraycopy(this.yuvData,w,x,0,h),x;for(let y=0;y<u;y++){const B=y*o;k.arraycopy(this.yuvData,w,x,B,o),w+=this.dataWidth}return x}isCropSupported(){return!0}crop(o,u,h,x){return new xs(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+u,h,x,!1)}renderThumbnail(){const o=this.getWidth()/xs.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/xs.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(o*u),x=this.yuvData;let w=this.top*this.dataWidth+this.left;for(let y=0;y<u;y++){const B=y*o;for(let I=0;I<o;I++){const D=x[w+I*xs.THUMBNAIL_SCALE_FACTOR]&255;h[B+I]=4278190080|D*65793}w+=this.dataWidth*xs.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/xs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,u){const h=this.yuvData;for(let x=0,w=this.top*this.dataWidth+this.left;x<u;x++,w+=this.dataWidth){const y=w+o/2;for(let B=w,I=w+o-1;B<y;B++,I--){const D=h[B];h[B]=h[I],h[I]=D}}}invert(){return new Ee(this)}}xs.THUMBNAIL_SCALE_FACTOR=2;class ya extends We{constructor(o,u,h,x,w,y,B){if(super(u,h),this.dataWidth=x,this.dataHeight=w,this.left=y,this.top=B,o.BYTES_PER_ELEMENT===4){const I=u*h,D=new Uint8ClampedArray(I);for(let H=0;H<I;H++){const Z=o[H],ae=Z>>16&255,we=Z>>7&510,_e=Z&255;D[H]=(ae+we+_e)/4&255}this.luminances=D}else this.luminances=o;if(x===void 0&&(this.dataWidth=u),w===void 0&&(this.dataHeight=h),y===void 0&&(this.left=0),B===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+h>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(o,u){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const x=(o+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,x,u,0,h),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.luminances;const h=o*u,x=new Uint8ClampedArray(h);let w=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return k.arraycopy(this.luminances,w,x,0,h),x;for(let y=0;y<u;y++){const B=y*o;k.arraycopy(this.luminances,w,x,B,o),w+=this.dataWidth}return x}isCropSupported(){return!0}crop(o,u,h,x){return new ya(this.luminances,h,x,this.dataWidth,this.dataHeight,this.left+o,this.top+u)}invert(){return new Ee(this)}}class T extends O{static forName(o){return this.getCharacterSetECIByName(o)}}class L{}L.ISO_8859_1=O.ISO8859_1;class z{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class fe{static singletonList(o){return[o]}static min(o,u){return o.sort(u)[0]}}class Oe{constructor(o){this.previous=o}getPrevious(){return this.previous}}class $e extends Oe{constructor(o,u,h){super(o),this.value=u,this.bitCount=h}appendTo(o,u){o.appendBits(this.value,this.bitCount)}add(o,u){return new $e(this,o,u)}addBinaryShift(o,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new $e(this,o,u)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+Q.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class It extends $e{constructor(o,u,h){super(o,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=h}appendTo(o,u){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):h===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(u[this.binaryShiftStart+h],8)}addBinaryShift(o,u){return new It(this,o,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function zr(Y,o,u){return new It(Y,o,u)}function En(Y,o,u){return new $e(Y,o,u)}const br=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],vn=0,On=1,$n=2,Mi=3,Ti=4,Ka=new $e(null,0,0),Mo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Kg(Y){for(let o of Y)K.fill(o,-1);return Y[vn][Ti]=0,Y[On][Ti]=0,Y[On][vn]=28,Y[Mi][Ti]=0,Y[$n][Ti]=0,Y[$n][vn]=15,Y}const _A=Kg(K.createInt32Array(6,6));class na{constructor(o,u,h,x){this.token=o,this.mode=u,this.binaryShiftByteCount=h,this.bitCount=x}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,u){let h=this.bitCount,x=this.token;if(o!==this.mode){let y=Mo[this.mode][o];x=En(x,y&65535,y>>16),h+=y>>16}let w=o===$n?4:5;return x=En(x,u,w),new na(x,o,0,h+w)}shiftAndAppend(o,u){let h=this.token,x=this.mode===$n?4:5;return h=En(h,_A[this.mode][o],x),h=En(h,u,5),new na(h,this.mode,0,this.bitCount+x+5)}addBinaryShiftChar(o){let u=this.token,h=this.mode,x=this.bitCount;if(this.mode===Ti||this.mode===$n){let B=Mo[h][vn];u=En(u,B&65535,B>>16),x+=B>>16,h=vn}let w=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new na(u,h,this.binaryShiftByteCount+1,x+w);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(o+1)),y}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=zr(u,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new na(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let u=this.bitCount+(Mo[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?u+=na.calculateBinaryShiftCost(o)-na.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(u+=10),u<=o.bitCount}toBitArray(o){let u=[];for(let x=this.endBinaryShift(o.length).token;x!==null;x=x.getPrevious())u.unshift(x);let h=new J;for(const x of u)x.appendTo(h,o);return h}toString(){return W.format("%s bits=%d bytes=%d",br[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}na.INITIAL_STATE=new na(Ka,vn,0,0);function td(Y){const o=W.getCharCode(" "),u=W.getCharCode("."),h=W.getCharCode(",");Y[vn][o]=1;const x=W.getCharCode("Z"),w=W.getCharCode("A");for(let ae=w;ae<=x;ae++)Y[vn][ae]=ae-w+2;Y[On][o]=1;const y=W.getCharCode("z"),B=W.getCharCode("a");for(let ae=B;ae<=y;ae++)Y[On][ae]=ae-B+2;Y[$n][o]=1;const I=W.getCharCode("9"),D=W.getCharCode("0");for(let ae=D;ae<=I;ae++)Y[$n][ae]=ae-D+2;Y[$n][h]=12,Y[$n][u]=13;const H=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ae=0;ae<H.length;ae++)Y[Mi][W.getCharCode(H[ae])]=ae;const Z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ae=0;ae<Z.length;ae++)W.getCharCode(Z[ae])>0&&(Y[Ti][W.getCharCode(Z[ae])]=ae);return Y}const TA=td(K.createInt32Array(5,256));class Oo{constructor(o){this.text=o}encode(){const o=W.getCharCode(" "),u=W.getCharCode(`
`);let h=fe.singletonList(na.INITIAL_STATE);for(let w=0;w<this.text.length;w++){let y,B=w+1<this.text.length?this.text[w+1]:0;switch(this.text[w]){case W.getCharCode("\r"):y=B===u?2:0;break;case W.getCharCode("."):y=B===o?3:0;break;case W.getCharCode(","):y=B===o?4:0;break;case W.getCharCode(":"):y=B===o?5:0;break;default:y=0}y>0?(h=Oo.updateStateListForPair(h,w,y),w++):h=this.updateStateListForChar(h,w)}return fe.min(h,(w,y)=>w.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,u){const h=[];for(let x of o)this.updateStateForChar(x,u,h);return Oo.simplifyStates(h)}updateStateForChar(o,u,h){let x=this.text[u]&255,w=TA[o.getMode()][x]>0,y=null;for(let B=0;B<=Ti;B++){let I=TA[B][x];if(I>0){if(y==null&&(y=o.endBinaryShift(u)),!w||B===o.getMode()||B===$n){const D=y.latchAndAppend(B,I);h.push(D)}if(!w&&_A[o.getMode()][B]>=0){const D=y.shiftAndAppend(B,I);h.push(D)}}}if(o.getBinaryShiftByteCount()>0||TA[o.getMode()][x]===0){let B=o.addBinaryShiftChar(u);h.push(B)}}static updateStateListForPair(o,u,h){const x=[];for(let w of o)this.updateStateForPair(w,u,h,x);return this.simplifyStates(x)}static updateStateForPair(o,u,h,x){let w=o.endBinaryShift(u);if(x.push(w.latchAndAppend(Ti,h)),o.getMode()!==Ti&&x.push(w.shiftAndAppend(Ti,h)),h===3||h===4){let y=w.latchAndAppend($n,16-h).latchAndAppend($n,1);x.push(y)}if(o.getBinaryShiftByteCount()>0){let y=o.addBinaryShiftChar(u).addBinaryShiftChar(u+1);x.push(y)}}static simplifyStates(o){let u=[];for(const h of o){let x=!0;for(const w of u){if(w.isBetterThanOrEqualTo(h)){x=!1;break}h.isBetterThanOrEqualTo(w)&&(u=u.filter(y=>y!==w))}x&&u.push(h)}return u}}class Ir{constructor(){}static encodeBytes(o){return Ir.encode(o,Ir.DEFAULT_EC_PERCENT,Ir.DEFAULT_AZTEC_LAYERS)}static encode(o,u,h){let x=new Oo(o).encode(),w=Q.truncDivision(x.getSize()*u,100)+11,y=x.getSize()+w,B,I,D,H,Z;if(h!==Ir.DEFAULT_AZTEC_LAYERS){if(B=h<0,I=Math.abs(h),I>(B?Ir.MAX_NB_BITS_COMPACT:Ir.MAX_NB_BITS))throw new C(W.format("Illegal value %s for layers",h));D=Ir.totalBitsInLayer(I,B),H=Ir.WORD_SIZE[I];let mt=D-D%H;if(Z=Ir.stuffBits(x,H),Z.getSize()+w>mt)throw new C("Data to large for user specified layer");if(B&&Z.getSize()>H*64)throw new C("Data to large for user specified layer")}else{H=0,Z=null;for(let mt=0;;mt++){if(mt>Ir.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(B=mt<=3,I=B?mt+1:mt,D=Ir.totalBitsInLayer(I,B),y>D)continue;(Z==null||H!==Ir.WORD_SIZE[I])&&(H=Ir.WORD_SIZE[I],Z=Ir.stuffBits(x,H));let _r=D-D%H;if(!(B&&Z.getSize()>H*64)&&Z.getSize()+w<=_r)break}}let ae=Ir.generateCheckWords(Z,D,H),we=Z.getSize()/H,_e=Ir.generateModeMessage(B,I,we),Se=(B?11:14)+I*4,Ue=new Int32Array(Se),Ze;if(B){Ze=Se;for(let mt=0;mt<Ue.length;mt++)Ue[mt]=mt}else{Ze=Se+1+2*Q.truncDivision(Q.truncDivision(Se,2)-1,15);let mt=Q.truncDivision(Se,2),_r=Q.truncDivision(Ze,2);for(let ur=0;ur<mt;ur++){let Kn=ur+Q.truncDivision(ur,15);Ue[mt-ur-1]=_r-Kn-1,Ue[mt+ur]=_r+Kn+1}}let Bt=new Ie(Ze);for(let mt=0,_r=0;mt<I;mt++){let ur=(I-mt)*4+(B?9:12);for(let Kn=0;Kn<ur;Kn++){let Hs=Kn*2;for(let Oi=0;Oi<2;Oi++)ae.get(_r+Hs+Oi)&&Bt.set(Ue[mt*2+Oi],Ue[mt*2+Kn]),ae.get(_r+ur*2+Hs+Oi)&&Bt.set(Ue[mt*2+Kn],Ue[Se-1-mt*2-Oi]),ae.get(_r+ur*4+Hs+Oi)&&Bt.set(Ue[Se-1-mt*2-Oi],Ue[Se-1-mt*2-Kn]),ae.get(_r+ur*6+Hs+Oi)&&Bt.set(Ue[Se-1-mt*2-Kn],Ue[mt*2+Oi])}_r+=ur*8}if(Ir.drawModeMessage(Bt,B,Ze,_e),B)Ir.drawBullsEye(Bt,Q.truncDivision(Ze,2),5);else{Ir.drawBullsEye(Bt,Q.truncDivision(Ze,2),7);for(let mt=0,_r=0;mt<Q.truncDivision(Se,2)-1;mt+=15,_r+=16)for(let ur=Q.truncDivision(Ze,2)&1;ur<Ze;ur+=2)Bt.set(Q.truncDivision(Ze,2)-_r,ur),Bt.set(Q.truncDivision(Ze,2)+_r,ur),Bt.set(ur,Q.truncDivision(Ze,2)-_r),Bt.set(ur,Q.truncDivision(Ze,2)+_r)}let Et=new z;return Et.setCompact(B),Et.setSize(Ze),Et.setLayers(I),Et.setCodeWords(we),Et.setMatrix(Bt),Et}static drawBullsEye(o,u,h){for(let x=0;x<h;x+=2)for(let w=u-x;w<=u+x;w++)o.set(w,u-x),o.set(w,u+x),o.set(u-x,w),o.set(u+x,w);o.set(u-h,u-h),o.set(u-h+1,u-h),o.set(u-h,u-h+1),o.set(u+h,u-h),o.set(u+h,u-h+1),o.set(u+h,u+h-1)}static generateModeMessage(o,u,h){let x=new J;return o?(x.appendBits(u-1,2),x.appendBits(h-1,6),x=Ir.generateCheckWords(x,28,4)):(x.appendBits(u-1,5),x.appendBits(h-1,11),x=Ir.generateCheckWords(x,40,4)),x}static drawModeMessage(o,u,h,x){let w=Q.truncDivision(h,2);if(u)for(let y=0;y<7;y++){let B=w-3+y;x.get(y)&&o.set(B,w-5),x.get(y+7)&&o.set(w+5,B),x.get(20-y)&&o.set(B,w+5),x.get(27-y)&&o.set(w-5,B)}else for(let y=0;y<10;y++){let B=w-5+y+Q.truncDivision(y,5);x.get(y)&&o.set(B,w-7),x.get(y+10)&&o.set(w+7,B),x.get(29-y)&&o.set(B,w+7),x.get(39-y)&&o.set(w-7,B)}}static generateCheckWords(o,u,h){let x=o.getSize()/h,w=new va(Ir.getGF(h)),y=Q.truncDivision(u,h),B=Ir.bitsToWords(o,h,y);w.encode(B,y-x);let I=u%h,D=new J;D.appendBits(0,I);for(const H of Array.from(B))D.appendBits(H,h);return D}static bitsToWords(o,u,h){let x=new Int32Array(h),w,y;for(w=0,y=o.getSize()/u;w<y;w++){let B=0;for(let I=0;I<u;I++)B|=o.get(w*u+I)?1<<u-I-1:0;x[w]=B}return x}static getGF(o){switch(o){case 4:return Xe.AZTEC_PARAM;case 6:return Xe.AZTEC_DATA_6;case 8:return Xe.AZTEC_DATA_8;case 10:return Xe.AZTEC_DATA_10;case 12:return Xe.AZTEC_DATA_12;default:throw new C("Unsupported word size "+o)}}static stuffBits(o,u){let h=new J,x=o.getSize(),w=(1<<u)-2;for(let y=0;y<x;y+=u){let B=0;for(let I=0;I<u;I++)(y+I>=x||o.get(y+I))&&(B|=1<<u-1-I);(B&w)===w?(h.appendBits(B&w,u),y--):(B&w)===0?(h.appendBits(B|1,u),y--):h.appendBits(B,u)}return h}static totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Ir.DEFAULT_EC_PERCENT=33,Ir.DEFAULT_AZTEC_LAYERS=0,Ir.MAX_NB_BITS=32,Ir.MAX_NB_BITS_COMPACT=4,Ir.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class SA{encode(o,u,h,x){return this.encodeWithHints(o,u,h,x,null)}encodeWithHints(o,u,h,x,w){let y=L.ISO_8859_1,B=Ir.DEFAULT_EC_PERCENT,I=Ir.DEFAULT_AZTEC_LAYERS;return w!=null&&(w.has(Fn.CHARACTER_SET)&&(y=T.forName(w.get(Fn.CHARACTER_SET).toString())),w.has(Fn.ERROR_CORRECTION)&&(B=Q.parseInt(w.get(Fn.ERROR_CORRECTION).toString())),w.has(Fn.AZTEC_LAYERS)&&(I=Q.parseInt(w.get(Fn.AZTEC_LAYERS).toString()))),SA.encodeLayers(o,u,h,x,y,B,I)}static encodeLayers(o,u,h,x,w,y,B){if(u!==be.AZTEC)throw new C("Can only encode AZTEC, but got "+u);let I=Ir.encode(W.getBytes(o,w),y,B);return SA.renderResult(I,h,x)}static renderResult(o,u,h){let x=o.getMatrix();if(x==null)throw new Ft;let w=x.getWidth(),y=x.getHeight(),B=Math.max(u,w),I=Math.max(h,y),D=Math.min(B/w,I/y),H=(B-w*D)/2,Z=(I-y*D)/2,ae=new Ie(B,I);for(let we=0,_e=Z;we<y;we++,_e+=D)for(let Se=0,Ue=H;Se<w;Se++,Ue+=D)x.get(Se,we)&&ae.setRegion(Ue,_e,D,D);return ae}}r.AbstractExpandedDecoder=he,r.ArgumentException=m,r.ArithmeticException=se,r.AztecCode=z,r.AztecCodeReader=Wt,r.AztecCodeWriter=SA,r.AztecDecoder=Dt,r.AztecDetector=bt,r.AztecDetectorResult=nn,r.AztecEncoder=Ir,r.AztecHighLevelEncoder=Oo,r.AztecPoint=st,r.BarcodeFormat=be,r.Binarizer=R,r.BinaryBitmap=b,r.BitArray=J,r.BitMatrix=Ie,r.BitSource=Ji,r.BrowserAztecCodeReader=Er,r.BrowserBarcodeReader=Va,r.BrowserCodeReader=ue,r.BrowserDatamatrixCodeReader=ml,r.BrowserMultiFormatReader=bA,r.BrowserPDF417Reader=Cc,r.BrowserQRCodeReader=BA,r.BrowserQRCodeSvgWriter=Ps,r.CharacterSetECI=O,r.ChecksumException=N,r.Code128Reader=Ne,r.Code39Reader=Rt,r.DataMatrixDecodedBitStreamParser=ea,r.DataMatrixReader=Rs,r.DecodeHintType=G,r.DecoderResult=He,r.DefaultGridSampler=kt,r.DetectorResult=un,r.EAN13Reader=Xt,r.EncodeHintType=Fn,r.Exception=d,r.FormatException=M,r.GenericGF=Xe,r.GenericGFPoly=pt,r.GlobalHistogramBinarizer=ge,r.GridSampler=Le,r.GridSamplerInstance=tr,r.HTMLCanvasElementLuminanceSource=et,r.HybridBinarizer=ye,r.ITFReader=jt,r.IllegalArgumentException=C,r.IllegalStateException=Ft,r.InvertedLuminanceSource=Ee,r.LuminanceSource=We,r.MathUtils=Nt,r.MultiFormatOneDReader=Un,r.MultiFormatReader=fo,r.MultiFormatWriter=bc,r.NotFoundException=xe,r.OneDReader=Gt,r.PDF417DecodedBitStreamParser=Ye,r.PDF417DecoderErrorCorrection=$i,r.PDF417Reader=Zn,r.PDF417ResultMetadata=ja,r.PerspectiveTransform=lt,r.PlanarYUVLuminanceSource=xs,r.QRCodeByteMatrix=Uo,r.QRCodeDataMask=Jn,r.QRCodeDecodedBitStreamParser=an,r.QRCodeDecoderErrorCorrectionLevel=sr,r.QRCodeDecoderFormatInformation=_n,r.QRCodeEncoder=en,r.QRCodeEncoderQRCode=Ui,r.QRCodeMaskUtil=wn,r.QRCodeMatrixUtil=Yt,r.QRCodeMode=qt,r.QRCodeReader=ta,r.QRCodeVersion=St,r.QRCodeWriter=Gn,r.RGBLuminanceSource=ya,r.RSS14Reader=Jt,r.RSSExpandedReader=nt,r.ReaderException=ko,r.ReedSolomonDecoder=At,r.ReedSolomonEncoder=va,r.ReedSolomonException=vt,r.Result=oe,r.ResultMetadataType=ke,r.ResultPoint=Tt,r.StringUtils=W,r.UnsupportedOperationException=ee,r.VideoInputDevice=ne,r.WhiteRectangleDetector=Pe,r.WriterException=Vr,r.ZXingArrays=K,r.ZXingCharset=T,r.ZXingInteger=Q,r.ZXingStandardCharsets=L,r.ZXingStringBuilder=q,r.ZXingStringEncoding=te,r.ZXingSystem=k,r.createAbstractExpandedDecoder=Ct,Object.defineProperty(r,"__esModule",{value:!0})}))})(K0,K0.exports)),K0.exports}var Ln=Gj();const Kj=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var YB=(function(){function t(e,r,n){if(this.formatMap=new Map([[Pt.QR_CODE,Ln.BarcodeFormat.QR_CODE],[Pt.AZTEC,Ln.BarcodeFormat.AZTEC],[Pt.CODABAR,Ln.BarcodeFormat.CODABAR],[Pt.CODE_39,Ln.BarcodeFormat.CODE_39],[Pt.CODE_93,Ln.BarcodeFormat.CODE_93],[Pt.CODE_128,Ln.BarcodeFormat.CODE_128],[Pt.DATA_MATRIX,Ln.BarcodeFormat.DATA_MATRIX],[Pt.MAXICODE,Ln.BarcodeFormat.MAXICODE],[Pt.ITF,Ln.BarcodeFormat.ITF],[Pt.EAN_13,Ln.BarcodeFormat.EAN_13],[Pt.EAN_8,Ln.BarcodeFormat.EAN_8],[Pt.PDF_417,Ln.BarcodeFormat.PDF_417],[Pt.RSS_14,Ln.BarcodeFormat.RSS_14],[Pt.RSS_EXPANDED,Ln.BarcodeFormat.RSS_EXPANDED],[Pt.UPC_A,Ln.BarcodeFormat.UPC_A],[Pt.UPC_E,Ln.BarcodeFormat.UPC_E],[Pt.UPC_EAN_EXTENSION,Ln.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Kj)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),s=new Map;s.set(Ln.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Ln.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var r=new Ln.MultiFormatReader(this.verbose,this.hints),n=new Ln.HTMLCanvasElementLuminanceSource(e),i=new Ln.BinaryBitmap(new Ln.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:S3.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),zj=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function c(m){try{d(n.next(m))}catch(C){l(C)}}function g(m){try{d(n.throw(m))}catch(C){l(C)}}function d(m){m.done?s(m.value):i(m.value).then(c,g)}d((n=n.apply(t,e||[])).next())})},Wj=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(m){return g([d,m])}}function g(d){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(m){d=[6,m],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},JB=(function(){function t(e,r,n){if(this.formatMap=new Map([[Pt.QR_CODE,"qr_code"],[Pt.AZTEC,"aztec"],[Pt.CODABAR,"codabar"],[Pt.CODE_39,"code_39"],[Pt.CODE_93,"code_93"],[Pt.CODE_128,"code_128"],[Pt.DATA_MATRIX,"data_matrix"],[Pt.ITF,"itf"],[Pt.EAN_13,"ean_13"],[Pt.EAN_8,"ean_8"],[Pt.PDF_417,"pdf417"],[Pt.UPC_A,"upc_a"],[Pt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return zj(this,void 0,void 0,function(){var r,n;return Wj(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:S3.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,s=e;i<s.length;i++){var l=s[i],c=l.boundingBox.width*l.boundingBox.height;c>n&&(n=c,r=l)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),ZB=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function c(m){try{d(n.next(m))}catch(C){l(C)}}function g(m){try{d(n.throw(m))}catch(C){l(C)}}function d(m){m.done?s(m.value):i(m.value).then(c,g)}d((n=n.apply(t,e||[])).next())})},$B=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(m){return g([d,m])}}function g(d){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(m){d=[6,m],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Xj=(function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&JB.isSupported()?(this.primaryDecoder=new JB(e,n,i),this.secondaryDecoder=new YB(e,n,i)):this.primaryDecoder=new YB(e,n,i)}return t.prototype.decodeAsync=function(e){return ZB(this,void 0,void 0,function(){var r;return $B(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return ZB(this,void 0,void 0,function(){var r,n;return $B(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),kw=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),O1=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function c(m){try{d(n.next(m))}catch(C){l(C)}}function g(m){try{d(n.throw(m))}catch(C){l(C)}}function d(m){m.done?s(m.value):i(m.value).then(c,g)}d((n=n.apply(t,e||[])).next())})},L1=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(m){return g([d,m])}}function g(d){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(m){d=[6,m],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},N3=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),qj=(function(t){kw(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(N3),Yj=(function(t){kw(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(qj),Jj=(function(t){kw(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(N3),Zj=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new Yj(this.track)},t.prototype.torchFeature=function(){return new Jj(this.track)},t})(),$j=(function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return O1(this,void 0,void 0,function(){var s,l;return L1(this,function(c){switch(c.label){case 0:return s=new t(e,r,i),n.aspectRatio?(l={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:c.sent(),c.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return O1(this,void 0,void 0,function(){return L1(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),s=i.length,l=0;e.mediaStream.getVideoTracks().forEach(function(c){e.mediaStream.removeTrack(c),c.stop(),++l,l>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new Zj(this.getFirstTrackOrFail())},t})(),eG=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return O1(this,void 0,void 0,function(){return L1(this,function(i){return[2,$j.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return O1(this,void 0,void 0,function(){var r,n;return L1(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t})(),e_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function c(m){try{d(n.next(m))}catch(C){l(C)}}function g(m){try{d(n.throw(m))}catch(C){l(C)}}function d(m){m.done?s(m.value):i(m.value).then(c,g)}d((n=n.apply(t,e||[])).next())})},t_=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(m){return g([d,m])}}function g(d){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(m){d=[6,m],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},tG=(function(){function t(){}return t.failIfNotSupported=function(){return e_(this,void 0,void 0,function(){return t_(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return e_(this,void 0,void 0,function(){return t_(this,function(r){return[2,eG.create(e)]})})},t})(),rG=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function c(m){try{d(n.next(m))}catch(C){l(C)}}function g(m){try{d(n.throw(m))}catch(C){l(C)}}function d(m){m.done?s(m.value):i(m.value).then(c,g)}d((n=n.apply(t,e||[])).next())})},nG=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(m){return g([d,m])}}function g(d){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(m){d=[6,m],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},iG=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=hu.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=hu.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return rG(this,void 0,void 0,function(){var e,r,n,i,s,l,c;return nG(this,function(g){switch(g.label){case 0:return e=function(d){for(var m=d.getVideoTracks(),C=0,b=m;C<b.length;C++){var N=b[C];N.enabled=!1,N.stop(),d.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=g.sent(),i=[],s=0,l=n;s<l.length;s++)c=l[s],c.kind==="videoinput"&&i.push({id:c.deviceId,label:c.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(s){for(var l=[],c=0,g=s;c<g.length;c++){var d=g[c];d.kind==="video"&&l.push({id:d.id,label:d.label})}e(l)},i=MediaStreamTrack;i.getSources(n)})},t})(),Xn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Xn||(Xn={}));var sG=(function(){function t(){this.state=Xn.NOT_STARTED,this.onGoingTransactionNewState=Xn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Xn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Xn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Xn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Xn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Xn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Xn.UNKNOWN:throw"Transition from unknown is not allowed";case Xn.NOT_STARTED:this.failIfNewStateIs(e,[Xn.PAUSED]);break;case Xn.SCANNING:break;case Xn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),aG=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Xn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Xn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Xn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Xn.PAUSED},t})(),oG=(function(){function t(){}return t.create=function(){return new aG(new sG)},t})(),lG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fa=(function(t){lG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(Pj),AG=(function(){function t(e,r){this.logger=r,this.fps=fa.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=fa.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?I3.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!rl(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),F3=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new Vj(this.verbose),this.qrcode=new Xj(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=oG.create()}return t.prototype.start=function(e,r,n,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;i?l=i:l=this.verbose?this.logger.log:function(){};var c=AG.create(r,this.logger);this.clearElement();var g=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=g,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:fa.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var C=this,b=this.stateManagerProxy.startTransition(Xn.SCANNING);return new Promise(function(N,R){var k=d?c.videoConstraints:C.createVideoConstraints(e);if(!k){b.cancel(),R("videoConstraints should be defined");return}var U={};(!d||c.aspectRatio)&&(U.aspectRatio=c.aspectRatio);var j={onRenderSurfaceReady:function(K,Q){C.setupUi(K,Q,c),C.isScanning=!0,C.foreverScan(c,n,l)}};tG.failIfNotSupported().then(function(K){K.create(k).then(function(Q){return Q.render(s.element,U,j).then(function(J){C.renderedCamera=J,b.execute(),N(null)}).catch(function(J){b.cancel(),R(J)})}).catch(function(Q){b.cancel(),R(hu.errorGettingUserMedia(Q))})}).catch(function(K){b.cancel(),R(hu.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Xn.PAUSED),this.showPausedState(),(rl(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(Xn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Xn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var s=document.getElementById(fa.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(rl(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var l=new Image;l.onload=function(){var c=l.width,g=l.height,d=document.getElementById(n.elementId),m=d.clientWidth?d.clientWidth:fa.DEFAULT_WIDTH,C=Math.max(d.clientHeight?d.clientHeight:g,fa.FILE_SCAN_MIN_HEIGHT),b=n.computeCanvasDrawConfig(c,g,m,C);if(r){var N=n.createCanvasElement(m,C,"qr-canvas-visible");N.style.display="inline-block",d.appendChild(N);var R=N.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=m,R.canvas.height=C,R.drawImage(l,0,0,c,g,b.x,b.y,b.width,b.height)}var k=fa.FILE_SCAN_HIDDEN_CANVAS_PADDING,U=Math.max(l.width,b.width),j=Math.max(l.height,b.height),K=U+2*k,Q=j+2*k,J=n.createCanvasElement(K,Q);d.appendChild(J);var re=J.getContext("2d");if(!re)throw"Unable to get 2d context from canvas";re.canvas.width=K,re.canvas.height=Q,re.drawImage(l,0,0,c,g,k,k,U,j);try{n.qrcode.decodeRobustlyAsync(J).then(function(G){i(XB.createFromQrcodeResult(G))}).catch(s)}catch(G){s("QR code parse error, error = ".concat(G))}},l.onerror=s,l.onabort=s,l.onstalled=s,l.onsuspend=s,l.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return iG.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!I3.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[Pt.QR_CODE,Pt.AZTEC,Pt.CODABAR,Pt.CODE_39,Pt.CODE_93,Pt.CODE_128,Pt.DATA_MATRIX,Pt.MAXICODE,Pt.ITF,Pt.EAN_13,Pt.EAN_8,Pt.PDF_417,Pt.RSS_14,Pt.RSS_EXPANDED,Pt.UPC_A,Pt.UPC_E,Pt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=e.formatsToSupport;i<s.length;i++){var l=s[i];Qj(l)?n.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(rl(e))return!0;if(!rl(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(rl(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return rl(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var l=this.toQrdimensions(e,r,s),c=function(d){if(d<fa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(fa.MIN_QR_BOX_SIZE,"px.")},g=function(d){return d>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=e),d};c(l.width),c(l.height),l.width=g(l.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=rl(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=n.isShadedBoxEnabled()&&s.height<=r,c={x:0,y:0,width:e,height:r},g=l?this.getShadedRegionBounds(e,r,s):c,d=this.createCanvasElement(g.width,g.height),m={willReadFrequently:!0},C=d.getContext("2d",m);C.canvas.width=g.width,C.canvas.height=g.height,this.element.append(d),l&&this.possiblyInsertShadingElement(this.element,e,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=C,this.canvasElement=d},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=hu.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,XB.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=hu.codeParseError(i);return r(s,Hj.createFrom(s)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),l=s.videoWidth/s.clientWidth,c=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*l,d=this.qrRegion.height*c,m=this.qrRegion.x*l,C=this.qrRegion.y*c;this.context.drawImage(s,m,C,g,d,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(N){!N&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){b()})):b()}).catch(function(N){i.logger.logError("Error happend while scanning context",N),b()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",l=function(R){if(R in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},c=Object.keys(e);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var g=Object.keys(e)[0];if(g!==r&&g!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(g===r){var d=e.facingMode;if(typeof d=="string"){if(l(d))return{facingMode:d}}else if(typeof d=="object")if(s in d){if(l(d["".concat(s)]))return{facingMode:{exact:d["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var m=typeof d;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var C=e.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(s in C)return{deviceId:{exact:C["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var b=typeof C;throw"Invalid type of 'deviceId' = ".concat(b)}}}var N=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var s=(n-e)/2,l=(i-r)/2;return{x:s,y:l,width:e,height:r}}else{var c=e,g=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(g)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?fa.BORDER_SHADER_MATCH_COLOR:fa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,s=r,l=document.createElement("canvas");return l.style.width="".concat(i,"px"),l.style.height="".concat(s,"px"),l.style.display="none",l.id=rl(n)?"qr-canvas":n,l},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var l=(r-i.width)/2,c=(n-i.height)/2;if(s.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(fa.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var g=5,d=40;this.insertShaderBorders(s,d,g,-g,null,0,!0),this.insertShaderBorders(s,d,g,-g,null,0,!1),this.insertShaderBorders(s,d,g,null,-g,0,!0),this.insertShaderBorders(s,d,g,null,-g,0,!1),this.insertShaderBorders(s,g,d+g,-g,null,-g,!0),this.insertShaderBorders(s,g,d+g,null,-g,-g,!0),this.insertShaderBorders(s,g,d+g,-g,null,-g,!1),this.insertShaderBorders(s,g,d+g,null,-g,-g,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,r,n,i,s,l,c){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=fa.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(r,"px"),g.style.height="".concat(n,"px"),i!==null&&(g.style.top="".concat(i,"px")),s!==null&&(g.style.bottom="".concat(s,"px")),c?g.style.left="".concat(l,"px"):g.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),e.appendChild(g)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),r_;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(r_||(r_={}));const cG=({currentUser:t,products:e,onAddProduct:r,onUpdateProduct:n,onDeleteProduct:i,onLogout:s,onNavigateToHome:l,onNavigateToCreateInvoice:c,onNavigateToCustomers:g,onNavigateToSettings:d,isSelectionMode:m=!1,onSelectProduct:C,onStartInvoiceWithProduct:b,selectedItems:N=[],settings:R,invoicePriceMode:k="retail",initialSearchTerm:U=""})=>{var Gt;const[j,K]=Ce.useState(U),[Q,J]=Ce.useState(!1),[re,G]=Ce.useState(!1),[M,P]=Ce.useState(!1),[O,ee]=Ce.useState(!1),[te,W]=Ce.useState(!1),[q,Ie]=Ce.useState([]),xe=Ce.useRef(null),ge=Ce.useRef(null),[ye,We]=Ce.useState(null),[Ee,et]=Ce.useState([]),ne=Ce.useRef(null),X=Ce.useRef(null),[ue,oe]=Ce.useState(null),[ce,be]=Ce.useState(null),[Je,ke]=Ce.useState(null),[He,Te]=Ce.useState(null),[pt,se]=Ce.useState(1),[Xe,vt]=Ce.useState(""),[Ft,At]=Ce.useState(null),ot=Ce.useRef(null),Dt=Ce.useRef(!1),Nt=Ce.useRef(null),wr=Ce.useRef(null),Tt=Ce.useRef(null),un=Ce.useRef(null);Ce.useEffect(()=>{U&&K(U)},[U]);const nn=Ce.useMemo(()=>t.role==="admin"||t.permissions.isManager||t.permissions.viewWholesalePrice,[t]),[Pe,Le]=Ce.useState({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]});Ce.useEffect(()=>()=>{ge.current&&ge.current.getTracks().forEach(Ne=>Ne.stop())},[]),Ce.useEffect(()=>{let Ne=null,Rt=!0;if(Q){const jt=setTimeout(()=>{if(Rt)try{Ne=new F3("reader"),Tt.current=Ne,Ne.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},Ar=>{Rt&&(K(Ar),J(!1))},()=>{}).catch(()=>{Rt&&J(!1)})}catch{Rt&&J(!1)}},300);return()=>{Rt=!1,clearTimeout(jt),Ne!=null&&Ne.isScanning&&Ne.stop().then(()=>Ne==null?void 0:Ne.clear()).catch(()=>{})}}},[Q]),Ce.useEffect(()=>(ye&&X.current&&(ne.current&&ne.current.destroy(),ne.current=new Cropper(X.current,{aspectRatio:1,viewMode:1,dragMode:"move",autoCropArea:.8})),()=>{ne.current&&ne.current.destroy()}),[ye]);const lt=async()=>{W(!0);try{const Ne=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});ge.current=Ne,xe.current&&(xe.current.srcObject=Ne)}catch{W(!1)}},kt=()=>{ge.current&&ge.current.getTracks().forEach(Ne=>Ne.stop()),W(!1)},tr=()=>{var Ne;if(xe.current){const Rt=document.createElement("canvas");Rt.width=xe.current.videoWidth,Rt.height=xe.current.videoHeight,(Ne=Rt.getContext("2d"))==null||Ne.drawImage(xe.current,0,0),Ie(jt=>[...jt,Rt.toDataURL("image/jpeg",.9)])}};Ce.useEffect(()=>{ce&&un.current&&setTimeout(()=>{try{JsBarcode(un.current,ce.code,{format:"CODE128",width:2,height:50,displayValue:!0})}catch{}},50)},[ce]);const st=Ne=>{var Ar;const Rt=(Ar=Ne.target.files)==null?void 0:Ar[0];if(!Rt)return;ee(!0);const jt=new FileReader;jt.onload=async Re=>{var ht,ft;try{const it=u2((ht=Re.target)==null?void 0:ht.result,{type:"array"}),Xt=Lj.sheet_to_json(it.Sheets[it.SheetNames[0]],{defval:""});for(const xr of Xt){const Jr=(ft=xr[" "]||xr.||xr.name)==null?void 0:ft.toString().trim(),sn=parseFloat(xr.||xr.||xr.price)||0;Jr&&sn>0&&r({id:`prd-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,name:Jr,code:xr.||`ID-${Math.floor(Math.random()*9e4)}`,price:sn,wholesalePrice:parseFloat(xr.)||0,purchasePrice:parseFloat(xr.)||0,stock:parseInt(xr.)||0,category:xr.||""})}}catch{}finally{ee(!1),Ne.target.value=""}},jt.readAsArrayBuffer(Rt)},bt=Ne=>{const Rt=Ne.target.files;if(Rt&&Rt.length>0){const jt=[];Array.from(Rt).forEach(Ar=>{jt.push(new Promise(Re=>{const ht=new FileReader;ht.onloadend=()=>Re(ht.result),ht.readAsDataURL(Ar)}))}),Promise.all(jt).then(Ar=>{We(Ar[0]),et(Ar.slice(1))})}Ne.target.value=""},Wt=Ce.useMemo(()=>e.filter(Ne=>Ne.name.toLowerCase().includes(j.toLowerCase())||Ne.code.toLowerCase().includes(j.toLowerCase())||Ne.id===j),[j,e]),Er=()=>{He&&(i(He),Te(null),be(null))};return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsx("input",{type:"file",ref:Nt,onChange:st,accept:".xlsx, .xls, .csv",className:"hidden"}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:m?" ":""}),m&&f.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${k==="wholesale"?"bg-orange-500 animate-pulse":"bg-[#57b385]"}`}),f.jsx("span",{className:"text-[10px] font-black uppercase text-[#57b385]",children:k==="wholesale"?" : ":" :  "})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[m&&f.jsxs("button",{onClick:c,className:"bg-[#57b385] px-4 py-2 rounded-xl text-xs font-black text-white shadow-lg flex items-center gap-2",children:[f.jsx("span",{children:" "}),f.jsx("div",{className:"bg-white/20 px-2 py-0.5 rounded-md",children:N.reduce((Ne,Rt)=>Ne+Rt.count,0)})]}),!m&&t.permissions.editProducts&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>{var Ne;return(Ne=Nt.current)==null?void 0:Ne.click()},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),f.jsx("polyline",{points:"14.5 2 14.5 8 20 8"}),f.jsx("path",{d:"M8 13h2"}),f.jsx("path",{d:"M8 17h2"}),f.jsx("path",{d:"M14 13h2"}),f.jsx("path",{d:"M14 17h2"})]})}),f.jsx("button",{onClick:()=>{Le({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]}),G(!0)},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]})]})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-14 text-white focus:border-[#57b385] outline-none text-right font-medium",value:j,onChange:Ne=>K(Ne.target.value)}),f.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})}),f.jsx("button",{onClick:()=>J(!0),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-[#57b385] transition-colors active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),f.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),f.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),f.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),f.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})})]})}),f.jsx("div",{className:"flex-1 px-4 md:px-6 overflow-y-auto space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 pb-32 custom-scrollbar",children:Wt.length>0?Wt.map(Ne=>{var jt,Ar;const Rt=((jt=N.find(Re=>Re.id===Ne.id))==null?void 0:jt.count)||0;return f.jsxs("div",{onClick:()=>{m&&C?C({id:Ne.id,name:Ne.name,price:k==="wholesale"?Ne.wholesalePrice:Ne.price},1):be(Ne)},onTouchStart:()=>{ot.current=setTimeout(()=>{Dt.current=!0,oe(Ne),se(1),vt((k==="wholesale"?Ne.wholesalePrice:Ne.price).toString()),navigator.vibrate&&navigator.vibrate(50)},500)},onTouchEnd:()=>{clearTimeout(ot.current),setTimeout(()=>Dt.current=!1,10)},className:`bg-[#111111] rounded-[2.5rem] border ${Rt>0?"border-[#57b385]":"border-gray-800/40"} p-5 flex flex-col gap-4 transition-all relative overflow-hidden active:scale-[0.97] cursor-pointer h-full`,children:[Rt>0&&f.jsxs("div",{className:"absolute top-0 right-0 bg-[#57b385] text-white text-[12px] font-black px-4 py-1.5 rounded-bl-3xl",children:[": ",Rt]}),f.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[f.jsx("div",{className:"w-16 h-16 bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-[#57b385] overflow-hidden",children:(Ar=Ne.images)!=null&&Ar[0]?f.jsx("img",{src:Ne.images[0],className:"w-full h-full object-cover"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]})}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("h4",{className:"text-xl font-bold text-white mb-1 line-clamp-1",children:Ne.name}),f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-mono",children:Ne.code}),f.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-2 py-0.5 rounded-md text-[#57b385] font-bold border border-[#57b385]/20",children:Ne.category})]})]})]}),f.jsxs("div",{className:"flex items-center justify-between bg-black/20 rounded-2xl p-3 border border-gray-800/50 mt-auto",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),f.jsxs("div",{className:"text-lg font-black",children:[(k==="wholesale"?Ne.wholesalePrice:Ne.price).toFixed(2)," ."]})]}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),f.jsxs("div",{className:`text-sm font-black ${Ne.stock>0?"text-gray-200":"text-red-500"}`,children:[Ne.stock," "]})]})]})]},Ne.id)}):f.jsx("div",{className:"text-center py-20 text-gray-600 opacity-30 col-span-full font-bold",children:"  "})}),te&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[f.jsx("video",{ref:xe,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),f.jsxs("div",{className:"absolute bottom-10 flex gap-10",children:[f.jsx("button",{onClick:kt,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),f.jsx("button",{onClick:tr,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:f.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),f.jsx("button",{onClick:()=>{q.length>0&&(We(q[0]),et(q.slice(1)),kt())},className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white shadow-xl",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})]}),ye&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col animate-in fade-in duration-300",children:[f.jsx("div",{className:"flex-1 bg-[#111111] flex items-center justify-center",children:f.jsx("img",{ref:X,src:ye,className:"max-w-full max-h-full object-contain"})}),f.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 justify-center",children:[f.jsx("button",{onClick:()=>{if(ne.current){const Ne=ne.current.getCroppedCanvas({width:800,height:800}).toDataURL("image/jpeg",.8);Le(Rt=>({...Rt,images:[...Rt.images,Ne]})),Ee.length>0?(We(Ee[0]),et(Rt=>Rt.slice(1))):We(null)}},className:"flex-1 max-w-xs bg-[#57b385] py-4 rounded-2xl font-black",children:" "}),f.jsx("button",{onClick:()=>We(null),className:"flex-1 max-w-xs bg-[#1a1a1a] py-4 rounded-2xl font-bold border border-gray-800",children:""})]})]}),(re||M)&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-2xl bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-4 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("button",{onClick:()=>{G(!1),P(!1)},className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-xl font-black",children:re?" ":" "})]}),f.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx("div",{className:"flex gap-2 overflow-x-auto w-full pb-3 no-scrollbar",children:Pe.images.map((Ne,Rt)=>f.jsxs("div",{className:"relative flex-shrink-0 w-24 h-24 bg-[#1a1a1a] rounded-2xl border border-gray-800 overflow-hidden",children:[f.jsx("img",{src:Ne,className:"w-full h-full object-cover"}),f.jsx("button",{onClick:()=>Le(jt=>({...jt,images:jt.images.filter((Ar,Re)=>Re!==Rt)})),className:"absolute top-1 right-1 w-6 h-6 bg-red-600 rounded-full flex items-center justify-center active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})})]},Rt))}),f.jsxs("div",{className:"flex gap-2 w-full",children:[f.jsxs("button",{onClick:lt,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center text-blue-500",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:""})]}),f.jsxs("div",{onClick:()=>{var Ne;return(Ne=wr.current)==null?void 0:Ne.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 cursor-pointer flex flex-col items-center justify-center text-gray-500",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:" "}),f.jsx("input",{ref:wr,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:bt})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold",value:Pe.name,onChange:Ne=>Le({...Pe,name:Ne.target.value})}),f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Pe.price,onChange:Ne=>Le({...Pe,price:Ne.target.value})}),f.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Pe.wholesalePrice,onChange:Ne=>Le({...Pe,wholesalePrice:Ne.target.value})}),f.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Pe.purchasePrice,onChange:Ne=>Le({...Pe,purchasePrice:Ne.target.value})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-mono",value:Pe.code,onChange:Ne=>Le({...Pe,code:Ne.target.value})}),f.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black",value:Pe.stock,onChange:Ne=>Le({...Pe,stock:Ne.target.value})})]}),f.jsxs("select",{className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold appearance-none",value:Pe.category,onChange:Ne=>Le({...Pe,category:Ne.target.value}),children:[f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""})]})]})]}),f.jsx("button",{onClick:()=>{if(re){if(!Pe.name||!Pe.price)return;r({id:Date.now().toString(),name:Pe.name,code:Pe.code||`PRD-${Math.floor(Math.random()*1e4)}`,price:parseFloat(Pe.price),wholesalePrice:parseFloat(Pe.wholesalePrice||"0"),purchasePrice:parseFloat(Pe.purchasePrice||"0"),stock:parseInt(Pe.stock||"0"),category:Pe.category,image:Pe.images[0],images:Pe.images}),G(!1)}else Je&&(n({id:Je,name:Pe.name,code:Pe.code,price:parseFloat(Pe.price),wholesalePrice:parseFloat(Pe.wholesalePrice||"0"),purchasePrice:parseFloat(Pe.purchasePrice||"0"),stock:parseInt(Pe.stock||"0"),category:Pe.category,image:Pe.images[0],images:Pe.images}),P(!1),ke(null))},className:"w-full bg-[#57b385] py-5 rounded-2xl text-white font-black text-lg shadow-xl mt-4",children:re?"":""})]})}),ce&&f.jsx("div",{className:"fixed inset-0 z-[400] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("div",{className:"flex gap-2",children:t.permissions.editProducts&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>{Le({name:ce.name,code:ce.code,price:ce.price.toString(),wholesalePrice:ce.wholesalePrice.toString(),purchasePrice:ce.purchasePrice.toString(),stock:ce.stock.toString(),category:ce.category,images:ce.images||[]}),ke(ce.id),be(null),P(!0)},className:"p-3 bg-orange-500/10 rounded-2xl border border-orange-500/20 text-orange-500 font-bold text-xs",children:""}),f.jsxs("button",{onClick:()=>Te(ce.id),className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 font-bold text-xs flex items-center gap-1.5",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),""]})]})}),f.jsx("div",{onClick:()=>{var Ne;return At(((Ne=ce.images)==null?void 0:Ne[0])||ce.image||null)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] border border-[#57b385]/30 flex items-center justify-center overflow-hidden",children:(Gt=ce.images)!=null&&Gt[0]?f.jsx("img",{src:ce.images[0],className:"w-full h-full object-cover"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]})})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest",children:" "}),f.jsx("p",{className:"text-2xl font-black text-white leading-tight",children:ce.name})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),f.jsx("div",{className:"text-sm font-black text-[#57b385]",children:ce.price.toFixed(2)})]}),nn&&f.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),f.jsx("div",{className:"text-sm font-black text-orange-400",children:ce.wholesalePrice.toFixed(2)})]}),t.permissions.viewPurchasePrice&&f.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),f.jsx("div",{className:"text-sm font-black text-red-400",children:ce.purchasePrice.toFixed(2)})]})]}),f.jsxs("div",{className:"bg-black/40 rounded-3xl p-5 border border-gray-800 space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 font-bold text-sm",children:ce.code}),f.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:`text-sm font-black ${ce.stock>0?"text-white":"text-red-500"}`,children:[ce.stock," "]}),f.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]})]}),f.jsx("div",{className:"bg-white rounded-3xl p-3 flex flex-col items-center justify-center",children:f.jsx("svg",{ref:un,className:"w-full h-auto max-h-20"})})]}),f.jsx("button",{onClick:()=>be(null),className:"w-full bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-black active:scale-95",children:""})]})}),He&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"               ."})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:Er,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>Te(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),ue&&f.jsx("div",{className:"fixed inset-0 z-[300] bg-black/80 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-gray-400 text-sm font-bold",children:m?" ":"  "}),f.jsx("p",{className:"text-xl font-black text-white",children:ue.name})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{type:"number",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black text-lg",value:Xe,onChange:Ne=>vt(Ne.target.value)}),f.jsxs("div",{className:"flex items-center justify-between w-full bg-black/40 rounded-3xl p-4 border border-gray-800",children:[f.jsx("button",{onClick:()=>se(Ne=>Ne+1),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("input",{type:"number",className:"w-20 bg-transparent text-center text-4xl font-black text-[#57b385]",value:pt,onChange:Ne=>se(parseInt(Ne.target.value)||1)}),f.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:""})]}),f.jsx("button",{onClick:()=>se(Ne=>Math.max(1,Ne-1)),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),f.jsxs("div",{className:"w-full text-center py-2 bg-[#57b385]/5 rounded-2xl border border-[#57b385]/10",children:[f.jsx("p",{className:"text-[10px] text-gray-500 font-bold",children:""}),f.jsxs("p",{className:"text-2xl font-black text-white",children:[((parseFloat(Xe)||0)*pt).toFixed(2)," ."]})]})]}),f.jsxs("div",{className:"flex gap-4 pt-2",children:[f.jsx("button",{onClick:()=>{m&&C?C({id:ue.id,name:ue.name,price:parseFloat(Xe)||0},pt):b&&b({id:ue.id,name:ue.name,price:parseFloat(Xe)||0},pt),oe(null)},className:"flex-1 bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:m?"":" "}),f.jsx("button",{onClick:()=>oe(null),className:"px-6 bg-[#222222] text-gray-400 py-4 rounded-2xl font-bold border border-gray-700",children:""})]})]})}),Q&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[f.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[f.jsx("button",{onClick:()=>J(!1),className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-lg font-bold",children:" "}),f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[f.jsx("div",{id:"reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),f.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:f.jsx("div",{className:"w-64 h-32 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),f.jsx("button",{onClick:()=>J(!1),className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),Ft&&f.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>At(null),children:[f.jsx("img",{src:Ft,className:"max-w-full max-h-full object-contain shadow-2xl"}),f.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]}),f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[f.jsx(Qh,{onClick:l,icon:f.jsx(uG,{}),label:""}),f.jsx(Qh,{icon:f.jsx(fG,{}),label:"",active:!m}),f.jsx("div",{className:"relative -top-6",children:f.jsx("button",{disabled:!t.permissions.createInvoices,onClick:c,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all group ${t.permissions.createInvoices?m?"bg-[#57b385]":"bg-[#1a1a1a]":"bg-gray-800 opacity-50"}`,children:f.jsx("svg",{className:"transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:m?f.jsx("path",{d:"M20 6L9 17l-5-5"}):f.jsxs(f.Fragment,{children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}),f.jsx(Qh,{onClick:g,icon:f.jsx(dG,{}),label:""}),f.jsx(Qh,{onClick:d,icon:f.jsx(hG,{}),label:""})]})]})},Qh=({icon:t,label:e,active:r=!1,onClick:n})=>f.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[f.jsx("div",{className:r?"scale-110":"",children:t}),f.jsx("span",{className:"text-[10px] font-bold",children:e})]}),uG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),fG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),dG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),hG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),gG=({currentUser:t,onNavigateToHome:e,onNavigateToProductSelection:r,items:n,setInvoiceItems:i,products:s,onUpdateQuantity:l,onClearInvoice:c,onAddManualItem:g,onSaveInvoice:d,initialInvoice:m,settings:C,onUpdateItem:b,customerName:N,setCustomerName:R,customerPhone:k,setCustomerPhone:U,priceMode:j,setPriceMode:K})=>{const[Q,J]=Ce.useState(new Date().toISOString().split("T")[0]),[re,G]=Ce.useState(!1),[M,P]=Ce.useState(""),[O,ee]=Ce.useState(""),[te,W]=Ce.useState(""),[q,Ie]=Ce.useState(""),[xe,ge]=Ce.useState(null),[ye,We]=Ce.useState({name:"",price:"",count:1}),[Ee,et]=Ce.useState(!1),[ne,X]=Ce.useState("direct"),[ue,oe]=Ce.useState(""),[ce,be]=Ce.useState(!1);Ce.useEffect(()=>{m?(J(m.date),P(m.id),et(m.type==="paid"),X(m.method),be(m.type==="partial"),oe(m.paidAmount>0?m.paidAmount.toString():""),m.priceMode&&K(m.priceMode)):P(`INV-${Math.floor(1e5+Math.random()*9e5)}`)},[m,K]);const Je=At=>{At!==j&&(K(At),i(ot=>ot.map(Dt=>{if(Dt.isManual)return Dt;const Nt=s.find(Tt=>Tt.id===Dt.id);if(!Nt)return Dt;const wr=At==="wholesale"?Nt.wholesalePrice:Nt.price;return{...Dt,price:wr,total:wr*Dt.count}})),navigator.vibrate&&navigator.vibrate(40))},ke=Ce.useMemo(()=>n.reduce((At,ot)=>At+ot.total,0),[n]),He=Ce.useMemo(()=>ce?parseFloat(ue)||0:Ee?ke:0,[Ee,ce,ue,ke]),Te=Ce.useMemo(()=>Math.max(0,ke-He),[ke,He]),pt=At=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(At),se=()=>{if(O&&te){const At=parseFloat(q)||0;g(O,parseFloat(te),At),ee(""),W(""),Ie(""),G(!1)}},Xe=At=>{ge(At),We({name:At.productName,price:At.price.toString(),count:At.count})},vt=()=>{xe&&ye.name&&ye.price&&(b(xe.id,{productName:ye.name,price:parseFloat(ye.price),count:ye.count}),ge(null))},Ft=(At=!1)=>{const ot=He,Dt=Te;let Nt="unpaid";Dt<=0?Nt="paid":ot>0&&(Nt="partial");const wr={id:M,creatorName:m&&m.creatorName||t.name,name:N||" ",phone:k,amount:ke,paidAmount:ot,remainingAmount:Dt,date:Q,type:Nt,method:ne,createdAt:m?m.createdAt:Date.now(),items:[...n],payments:m?m.payments:ot>0?[{id:`init-${Date.now()}`,amount:ot,timestamp:Date.now(),method:ne}]:[],priceMode:j};At&&G4(wr,C),d(wr)};return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none border-gray-800 font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h1",{className:"text-xl font-bold",children:m?" ":" "}),f.jsx("button",{onClick:c,className:"text-red-500 text-xs font-bold px-2 py-1 hover:bg-red-500/10 rounded-lg transition-all",children:""})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-48 md:pb-32 space-y-6 custom-scrollbar md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[f.jsxs("div",{className:"space-y-6 md:h-full md:flex md:flex-col",children:[f.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800/40 p-1.5 flex gap-1 animate-in fade-in slide-in-from-top-2 duration-400",children:[f.jsxs("button",{onClick:()=>Je("retail"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${j==="retail"?"bg-[#57b385] text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})," ()"]}),f.jsxs("button",{onClick:()=>Je("wholesale"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${j==="wholesale"?"bg-orange-500 text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})," ()"]})]}),f.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"w-8 h-8 bg-[#57b385]/10 rounded-lg flex items-center justify-center border border-[#57b385]/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#57b385",strokeWidth:"2.5",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),f.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right font-bold",value:N,onChange:At=>R(At.target.value)}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("input",{type:"tel",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:k,onChange:At=>U(At.target.value)}),f.jsx("input",{type:"date",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:Q,onChange:At=>J(At.target.value)})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:r,className:`flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-[#57b385]/30 transition-all active:scale-95 ${j==="wholesale"?"border-orange-500/20":""}`,children:[f.jsx("div",{className:`w-10 h-10 ${j==="wholesale"?"bg-orange-500/10 text-orange-500":"bg-[#57b385]/10 text-[#57b385]"} rounded-full flex items-center justify-center`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),f.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),f.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),f.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]})}),f.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]}),f.jsxs("button",{onClick:()=>G(!0),className:"flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-blue-500/30 transition-all active:scale-95",children:[f.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),f.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]})]}),n.length>0&&f.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4 animate-in slide-in-from-bottom duration-300",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("div",{className:"w-8 h-8 bg-blue-500/10 rounded-lg flex items-center justify-center border border-blue-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",children:[f.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),f.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),f.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[f.jsx("button",{onClick:()=>{et(!0),be(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${Ee&&!ce?"bg-[#57b385] text-white":"text-gray-500"}`,children:""}),f.jsx("button",{onClick:()=>be(!0),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ce?"bg-orange-500 text-white":"text-gray-500"}`,children:""}),f.jsx("button",{onClick:()=>{et(!1),be(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${!Ee&&!ce?"bg-red-500 text-white":"text-gray-500"}`,children:""})]})]}),ce&&f.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top duration-200",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:"   (.)"}),f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 md:py-2 px-4 text-white text-center font-black",value:ue,onChange:At=>oe(At.target.value),placeholder:"0.00"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[f.jsx("button",{onClick:()=>X("direct"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ne==="direct"?"bg-white text-black":"text-gray-500"}`,children:" (Cash)"}),f.jsx("button",{onClick:()=>X("cheque"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ne==="cheque"?"bg-blue-600 text-white":"text-gray-500"}`,children:" (Cheque)"})]})]})]})]}),f.jsxs("div",{className:"space-y-4 md:flex md:flex-col md:h-full",children:[f.jsx("div",{className:"flex items-center gap-2 px-1",children:f.jsxs("h2",{className:"text-sm font-bold text-gray-500",children:["  (",n.length,")"]})}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] md:bg-transparent rounded-2xl md:rounded-none md:border-none border border-gray-800/40 p-4 md:p-0",children:n.length>0?f.jsx("div",{className:"space-y-3",children:n.map(At=>f.jsxs("div",{onClick:()=>Xe(At),className:"bg-[#111111] md:bg-[#161616] rounded-2xl border border-gray-800/40 p-4 flex flex-col gap-3 group animate-in slide-in-from-left duration-300 active:scale-[0.98] transition-all cursor-pointer hover:border-gray-700",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsx("button",{onClick:ot=>{ot.stopPropagation(),l(At.id,-At.count)},className:"text-red-500/50 hover:text-red-500 p-1 transition-colors z-10 relative",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),f.jsxs("div",{className:"text-right flex-1 pr-3",children:[f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[At.isManual&&f.jsx("span",{className:"text-[8px] bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded border border-blue-500/30",children:""}),f.jsx("h3",{className:"font-bold text-white text-base",children:At.productName})]}),f.jsxs("p",{className:"text-xs text-gray-500 font-bold",children:[pt(At.price)," "]})]})]}),f.jsxs("div",{className:"flex items-center justify-between bg-black/30 rounded-xl p-2 border border-gray-800/30",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:ot=>{ot.stopPropagation(),l(At.id,1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),f.jsx("span",{className:"text-lg font-black min-w-[30px] text-center",children:At.count}),f.jsx("button",{onClick:ot=>{ot.stopPropagation(),l(At.id,-1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),f.jsxs("div",{className:"text-left",children:[f.jsx("span",{className:"text-xs text-gray-500 font-bold ml-1",children:":"}),f.jsxs("span",{className:"text-[#57b385] font-black",children:[pt(At.total)," ."]})]})]})]},At.id))}):f.jsxs("div",{onClick:r,className:"border-2 border-dashed border-gray-800 rounded-[2rem] py-12 flex flex-col items-center justify-center gap-4 text-gray-600 cursor-pointer hover:border-[#57b385]/30 hover:bg-[#57b385]/5 transition-all h-full",children:[f.jsx("div",{className:"w-12 h-12 bg-gray-800/30 rounded-full flex items-center justify-center",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),f.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})}),f.jsx("p",{className:"font-bold text-sm",children:"  "})]})})]})]}),f.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-[#0c0c0c]/80 backdrop-blur-xl border-t border-gray-800 p-6 z-30 md:static md:w-full md:max-w-4xl md:mx-auto md:bg-transparent md:border-none",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 bg-black/60 p-4 rounded-2xl border border-gray-800/50",children:[f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),f.jsxs("h3",{className:"text-2xl font-black text-[#57b385]",children:[pt(ke)," ",f.jsx("span",{className:"text-sm",children:"."})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-gray-500 font-bold",children:""}),f.jsxs("h3",{className:`text-xl font-black ${Te>0?"text-red-500":"text-gray-500"}`,children:[pt(Te)," ."]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{onClick:()=>Ft(!0),disabled:n.length===0,className:`flex-1 py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#1a1a1a] border border-gray-700 hover:bg-gray-800"}`,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})," "]}),f.jsxs("button",{onClick:()=>Ft(!1),disabled:n.length===0,className:`flex-[1.5] py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#57b385] hover:brightness-110"}`,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),f.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),f.jsx("polyline",{points:"7 3 7 8 15 8"})]})," "]})]})]}),re&&f.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500 mx-auto border border-blue-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),f.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),f.jsx("p",{className:"text-xs text-gray-500",children:"    "})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  / "}),f.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold",value:O,onChange:At=>ee(At.target.value),autoFocus:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-center font-black",value:te,onChange:At=>W(At.target.value)})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),f.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[f.jsx("button",{onClick:()=>Ie(At=>(parseFloat(At)||0)+1+""),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),f.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:q,onChange:At=>Ie(At.target.value),placeholder:"0"}),f.jsx("button",{onClick:()=>Ie(At=>Math.max(0,(parseFloat(At)||0)-1)+""),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:se,disabled:!O||!te,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!O||!te?"bg-gray-800 opacity-50":"bg-blue-600 hover:bg-blue-500"}`,children:" "}),f.jsx("button",{onClick:()=>G(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),xe&&f.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"w-16 h-16 bg-orange-500/10 rounded-full flex items-center justify-center text-orange-500 mx-auto border border-orange-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 20h9"}),f.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})}),f.jsx("h3",{className:"text-xl font-black text-white",children:" "}),f.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-right font-bold",value:ye.name,onChange:At=>We({...ye,name:At.target.value}),autoFocus:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-center font-black",value:ye.price,onChange:At=>We({...ye,price:At.target.value})})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),f.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[f.jsx("button",{onClick:()=>We(At=>({...At,count:Math.max(1,At.count+1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),f.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:ye.count,onChange:At=>We(ot=>({...ot,count:Math.max(1,parseInt(At.target.value)||1)}))}),f.jsx("button",{onClick:()=>We(At=>({...At,count:Math.max(1,At.count-1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:vt,disabled:!ye.name||!ye.price,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!ye.name||!ye.price?"bg-gray-800 opacity-50":"bg-orange-500 hover:bg-orange-400"}`,children:" "}),f.jsx("button",{onClick:()=>ge(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})})]})},pG=({currentUser:t,onNavigateToHome:e,settings:r,onUpdateSettings:n,onTriggerManualBackup:i,invoices:s,onEditInvoice:l,onNavigateToProducts:c,onNavigateToCustomers:g,onNavigateToCreateInvoice:d,onLogout:m,onNavigateToRecycleBin:C})=>{var ye,We,Ee,et,ne,X,ue,oe,ce,be,Je,ke,He;const[b,N]=Ce.useState(!1),[R,k]=Ce.useState(!1),[U,j]=Ce.useState(null),[K,Q]=Ce.useState(null),[J,re]=Ce.useState(null),[G,M]=Ce.useState({name:"",phone:"",password:""}),P=Ce.useRef(null);Ce.useEffect(()=>{let Te=null;if(b){const pt=setTimeout(()=>{if(document.getElementById("invoice-reader"))try{P.current&&P.current.clear(),Te=new F3("invoice-reader"),P.current=Te,Te.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},se=>{const Xe=s.find(vt=>vt.id===se);Xe&&(N(!1),Q(Xe))},se=>{}).catch(se=>{console.error("Scanner Error",se),alert("  .      ."),N(!1)})}catch(se){console.error("Scanner Init Error",se),N(!1)}},300);return()=>{clearTimeout(pt),Te&&Te.isScanning&&Te.stop().then(()=>Te==null?void 0:Te.clear()).catch(console.error)}}},[b,s]);const O=Te=>{var se;const pt=(se=Te.target.files)==null?void 0:se[0];if(pt){const Xe=new FileReader;Xe.onloadend=()=>{n(vt=>({...vt,businessLogo:Xe.result}))},Xe.readAsDataURL(pt)}},ee=(Te,pt)=>{n(se=>({...se,[Te]:pt}))},te=()=>{N(!0)},W=()=>{N(!1)},q=()=>{if(!G.name||!G.phone||!G.password)return;const Te={id:Date.now().toString(),name:G.name,phone:G.phone,password:G.password,permissions:{manageDebt:!1,editProducts:!1,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!1,viewPurchasePrice:!1,viewWholesalePrice:!1,manageSuppliers:!1,manageRequests:!1,manageCheckbook:!1,manageSpecialOrders:!1,viewAllWork:!1,isManager:!1}};n(pt=>({...pt,staffList:[Te,...pt.staffList]})),M({name:"",phone:"",password:""}),k(!1)},Ie=(Te,pt)=>{n(se=>({...se,staffList:se.staffList.map(Xe=>Xe.id===Te?pt==="isManager"?Xe.permissions.isManager?{...Xe,permissions:{...Xe.permissions,isManager:!1}}:{...Xe,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,viewWholesalePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}}:{...Xe,permissions:{...Xe.permissions,[pt]:!Xe.permissions[pt]}}:Xe)}))},xe=()=>{J&&(n(Te=>({...Te,staffList:Te.staffList.filter(pt=>pt.id!==J)})),re(null),j(null))},ge=t.role==="admin"||t.permissions.isManager;return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h1",{className:"text-xl font-bold",children:""}),f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-32 space-y-6 custom-scrollbar pt-2 md:grid md:grid-cols-2 md:gap-6 md:space-y-0 md:auto-rows-min",children:[ge&&f.jsxs(f.Fragment,{children:[f.jsx(Ph,{title:"  ",icon:f.jsx(mG,{}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2 uppercase tracking-wider",children:"     "}),f.jsx("div",{className:"space-y-3",children:(r.staffList||[]).map(Te=>f.jsxs("div",{onClick:()=>j(Te),className:"bg-black/40 p-4 rounded-2xl border border-gray-800 flex items-center justify-between group cursor-pointer active:scale-[0.98] transition-all",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black ${Te.permissions.isManager?"bg-orange-500/20 text-orange-500 border border-orange-500/30":"bg-[#57b385]/10 text-[#57b385]"}`,children:Te.name.charAt(0)}),f.jsxs("div",{className:"text-right",children:[f.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[Te.name,Te.permissions.isManager&&f.jsx("span",{className:"text-[8px] bg-orange-500 text-white px-1.5 py-0.5 rounded-md",children:""})]}),f.jsx("span",{className:"text-[9px] text-gray-500",children:Te.phone})]})]}),f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-700 group-hover:text-gray-400 transition-colors",children:f.jsx("path",{d:"m9 18 6-6-6-6"})})]},Te.id))}),f.jsxs("button",{onClick:()=>k(!0),className:"w-full bg-[#57b385]/10 border border-[#57b385]/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-2 text-[#57b385] font-black text-sm active:scale-95 transition-all",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"   "]})]})}),f.jsx(Ph,{title:"  ()",icon:f.jsx(xG,{}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(Gl,{label:"  ",value:r.loginPhone,onChange:Te=>ee("loginPhone",Te)}),f.jsx(Gl,{label:"  ",value:r.loginPassword,onChange:Te=>ee("loginPassword",Te)})]})})]}),f.jsx(Ph,{title:" ",icon:f.jsx(wG,{}),children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:te,className:"w-full bg-[#1a1a1a] border border-gray-800 hover:border-[#57b385]/50 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-4 transition-all active:scale-95 group",children:[f.jsx("div",{className:"w-10 h-10 bg-[#57b385]/10 rounded-xl flex items-center justify-center text-[#57b385] group-hover:scale-110 transition-transform",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),f.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),f.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),f.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),f.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})}),f.jsx("span",{className:"text-sm font-bold text-gray-200",children:"  "})]}),ge&&f.jsxs("button",{onClick:C,className:"w-full bg-[#1a1a1a] border border-gray-800 hover:border-red-500/50 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-4 transition-all active:scale-95 group",children:[f.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-xl flex items-center justify-center text-red-500 group-hover:scale-110 transition-transform",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),f.jsx("span",{className:"text-sm font-bold text-gray-200",children:" "})]})]})}),ge&&f.jsx(Ph,{title:" ",icon:f.jsx(vG,{}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex flex-col items-center gap-3 py-2",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"w-24 h-24 bg-[#1a1a1a] rounded-3xl border-2 border-dashed border-gray-700 flex items-center justify-center overflow-hidden",children:r.businessLogo?f.jsx("img",{src:r.businessLogo,alt:"Logo",className:"w-full h-full object-contain p-2"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#4b5563",strokeWidth:"2",children:[f.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),f.jsx("circle",{cx:"9",cy:"9",r:"2"}),f.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),f.jsxs("label",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-[#57b385] rounded-xl flex items-center justify-center cursor-pointer shadow-lg active:scale-90 transition-all",children:[f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:O}),f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 20h9"}),f.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})]})]}),f.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"  "})]}),f.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-4",children:[f.jsx(Gl,{label:"  ",value:r.userName,onChange:Te=>ee("userName",Te)}),f.jsx(Gl,{label:" ",value:r.businessName,onChange:Te=>ee("businessName",Te)}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(Gl,{label:"   ()",value:r.specialOrderLabel||" ",onChange:Te=>ee("specialOrderLabel",Te)})})]})]})}),f.jsx("div",{className:"pt-4 md:col-span-2",children:f.jsxs("button",{onClick:m,className:"w-full bg-red-500/10 border border-red-500/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-3 text-red-500 font-black text-sm active:scale-95 transition-all hover:bg-red-500 hover:text-white group",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:stroke-white transition-colors",children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("polyline",{points:"16 17 21 12 16 7"}),f.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"   "]})}),f.jsx("div",{className:"text-center pt-2 pb-12 opacity-30 md:col-span-2",children:f.jsx("p",{className:"text-[10px] font-bold",children:"MAMA System v2.2.0"})})]}),R&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("button",{onClick:()=>k(!1),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-xl font-black",children:" "})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Gl,{label:" ",value:G.name,onChange:Te=>M({...G,name:Te})}),f.jsx(Gl,{label:" ",value:G.phone,onChange:Te=>M({...G,phone:Te})}),f.jsx(Gl,{label:" ",value:G.password,onChange:Te=>M({...G,password:Te})})]}),f.jsx("button",{onClick:q,className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all",children:" "})]})}),U&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("button",{onClick:()=>j(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsxs("h2",{className:"text-xl font-black text-orange-500",children:[" ",U.name]})]}),f.jsxs("div",{className:"space-y-5 bg-black/40 p-6 rounded-[2rem] border border-gray-800",children:[f.jsx("div",{className:"bg-orange-500/10 border border-orange-500/30 p-3 rounded-2xl",children:f.jsx(ca,{label:"  (Full Admin)",description:"     ",enabled:((ye=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:ye.permissions.isManager)||!1,onToggle:()=>Ie(U.id,"isManager")})}),f.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),f.jsx(ca,{label:"  ",description:"      ",enabled:((We=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:We.permissions.viewAllWork)||!1,onToggle:()=>Ie(U.id,"viewAllWork")}),f.jsx(ca,{label:"  ()",description:"      ",enabled:((Ee=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:Ee.permissions.manageDebt)||!1,onToggle:()=>Ie(U.id,"manageDebt")}),f.jsx(ca,{label:"  ",description:"      ",enabled:((et=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:et.permissions.editProducts)||!1,onToggle:()=>Ie(U.id,"editProducts")}),f.jsx(ca,{label:" ",description:"    ",enabled:((ne=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:ne.permissions.createInvoices)||!1,onToggle:()=>Ie(U.id,"createInvoices")}),f.jsx(ca,{label:" ",description:"    ",enabled:((X=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:X.permissions.viewNotifications)||!1,onToggle:()=>Ie(U.id,"viewNotifications")}),f.jsx(ca,{label:"  ",description:"      ()",enabled:((ue=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:ue.permissions.viewAdminInvoices)||!1,onToggle:()=>Ie(U.id,"viewAdminInvoices")}),f.jsx(ca,{label:"  ",description:"     ",enabled:((oe=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:oe.permissions.viewPurchasePrice)||!1,onToggle:()=>Ie(U.id,"viewPurchasePrice")}),f.jsx(ca,{label:"  ",description:"      ",enabled:((ce=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:ce.permissions.viewWholesalePrice)||!1,onToggle:()=>Ie(U.id,"viewWholesalePrice")}),f.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),f.jsx(ca,{label:"  ",description:"   (Supplier Invoices)",enabled:((be=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:be.permissions.manageSuppliers)||!1,onToggle:()=>Ie(U.id,"manageSuppliers")}),f.jsx(ca,{label:"  (Demand)",description:"   (Client Requests)",enabled:((Je=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:Je.permissions.manageRequests)||!1,onToggle:()=>Ie(U.id,"manageRequests")}),f.jsx(ca,{label:"  ",description:"    ",enabled:((ke=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:ke.permissions.manageCheckbook)||!1,onToggle:()=>Ie(U.id,"manageCheckbook")}),f.jsx(ca,{label:"  ",description:"    (Special Orders)",enabled:((He=(r.staffList||[]).find(Te=>Te.id===U.id))==null?void 0:He.permissions.manageSpecialOrders)||!1,onToggle:()=>Ie(U.id,"manageSpecialOrders")})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("button",{onClick:()=>j(null),className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>re(U.id),className:"w-full bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all hover:bg-red-500 hover:text-white",children:" "})]})]})}),J&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),f.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:xe,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),f.jsx("button",{onClick:()=>re(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),b&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[f.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[f.jsx("button",{onClick:W,className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white active:scale-90 transition-all",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-lg font-bold",children:" "}),f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[f.jsx("div",{id:"invoice-reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),f.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:f.jsx("div",{className:"w-64 h-64 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),f.jsx("button",{onClick:W,className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),K&&f.jsx("div",{className:"fixed inset-0 z-[700] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-[#57b385]/10 rounded-full flex items-center justify-center mx-auto border border-[#57b385]/20 text-[#57b385]",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white",children:"   "}),f.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[K.name," - ",K.date]}),f.jsx("p",{className:"text-gray-500 text-xs font-mono mt-1",children:K.id})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{Q(null),l(K)},className:"flex-1 bg-[#57b385] text-white py-4 rounded-2xl font-black shadow-lg active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>Q(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[f.jsx(Hh,{onClick:e,icon:f.jsx(yG,{}),label:""}),f.jsx(Hh,{onClick:c,icon:f.jsx(CG,{}),label:""}),f.jsx("div",{className:"relative -top-6",children:f.jsx("button",{onClick:d,disabled:!t.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:f.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),f.jsx(Hh,{onClick:g,icon:f.jsx(EG,{}),label:""}),f.jsx(Hh,{onClick:()=>{},icon:f.jsx(bG,{}),label:"",active:!0})]})]})},Ph=({title:t,icon:e,children:r})=>f.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400",children:e}),f.jsx("h3",{className:"text-lg font-bold text-gray-200",children:t})]}),r]}),Gl=({label:t,value:e,onChange:r,type:n="text"})=>f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-wider",children:t}),f.jsx("input",{type:n,className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-3 px-4 text-white focus:border-[#57b385] outline-none transition-all text-right font-bold text-sm",value:e,onChange:i=>r(i.target.value)})]}),ca=({label:t,description:e,enabled:r,onToggle:n})=>f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"text-sm font-bold text-white mb-0.5",children:t}),f.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:e})]}),f.jsx("button",{onClick:n,className:`w-12 h-7 rounded-full p-1 transition-all duration-300 ${r?"bg-[#57b385]":"bg-gray-800"}`,children:f.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-md transition-all duration-300 ${r?"translate-x-0":"-translate-x-5"}`})})]}),Hh=({icon:t,label:e,active:r=!1,onClick:n})=>f.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[f.jsx("div",{className:r?"scale-110":"",children:t}),f.jsx("span",{className:"text-[10px] font-bold",children:e})]}),mG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),xG=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),wG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),vG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),yG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),CG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),EG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),bG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),BG=({currentUser:t,onNavigateToHome:e,onNavigateToProducts:r,onNavigateToSettings:n,onNavigateToCreateInvoice:i,invoices:s,generalPayments:l,onAddGeneralPayment:c,onDeleteGeneralPayment:g,onDeleteCustomer:d,onProcessPayment:m,onEditInvoice:C,settings:b})=>{const[N,R]=Ce.useState(""),[k,U]=Ce.useState(null),[j,K]=Ce.useState(null),[Q,J]=Ce.useState("full"),[re,G]=Ce.useState(""),[M,P]=Ce.useState("direct"),[O,ee]=Ce.useState(""),[te,W]=Ce.useState("direct"),[q,Ie]=Ce.useState(null),[xe,ge]=Ce.useState(!1),[ye,We]=Ce.useState(!1),Ee=Ce.useRef(null),[et,ne]=Ce.useState(!1),X=Ce.useRef(null),ue=Ce.useMemo(()=>{const se=new Map;return s.forEach(Xe=>{const vt=se.get(Xe.name)||{name:Xe.name,phone:Xe.phone,totalPurchased:0,totalPaid:0,totalDebt:0,lastInvoiceDate:Xe.date,lastInvoiceTimestamp:Xe.createdAt,invoiceCount:0,invoices:[],generalPayments:[]};vt.totalPurchased+=Xe.amount,vt.totalPaid+=Xe.paidAmount,vt.totalDebt+=Xe.remainingAmount,vt.invoiceCount+=1,vt.invoices.push(Xe),Xe.createdAt>=vt.lastInvoiceTimestamp&&(vt.lastInvoiceDate=Xe.date,vt.lastInvoiceTimestamp=Xe.createdAt,Xe.phone&&(vt.phone=Xe.phone)),se.set(Xe.name,vt)}),l.forEach(Xe=>{const vt=se.get(Xe.customerName);if(vt)vt.totalDebt-=Xe.amount,vt.totalPaid+=Xe.amount,vt.generalPayments||(vt.generalPayments=[]),vt.generalPayments.push(Xe);else{const Ft={name:Xe.customerName,totalPurchased:0,totalPaid:Xe.amount,totalDebt:-Xe.amount,lastInvoiceDate:Xe.date,lastInvoiceTimestamp:Xe.timestamp,invoiceCount:0,invoices:[],generalPayments:[Xe]};se.set(Xe.customerName,Ft)}}),Array.from(se.values()).filter(Xe=>Xe.name.includes(N)).sort((Xe,vt)=>vt.lastInvoiceTimestamp-Xe.lastInvoiceTimestamp)},[s,l,N]),oe=Ce.useMemo(()=>k&&ue.find(se=>se.name===k)||null,[ue,k]);Ce.useEffect(()=>{k&&window.scrollTo({top:0,behavior:"smooth"})},[k]);const ce=se=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(se),be=()=>{if(!j)return;const se=Q==="full"?j.remainingAmount:parseFloat(re)||0;se>0&&(m(j.id,se,M),K(null),G(""),J("full"))},Je=()=>{const se=parseFloat(O);if(!se||se<=0||!oe)return;const Xe={id:`gen-pay-${Date.now()}`,customerName:oe.name,amount:se,date:new Date().toISOString().split("T")[0],timestamp:Date.now(),method:te};c(Xe),ee(""),new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{})},ke=()=>{q&&(g(q),Ie(null))},He=()=>{k&&d&&(d(k),U(null),ge(!1))},Te=async()=>{if(!(!oe||!Ee.current)){We(!0);try{(await AA(Ee.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Xe=>{if(!Xe){We(!1),alert("  ");return}try{const vt=new ClipboardItem({"image/png":Xe});await navigator.clipboard.write([vt]);let Ft=oe.phone?oe.phone.replace(/\D/g,""):"";(Ft.startsWith("06")||Ft.startsWith("07")||Ft.startsWith("05"))&&(Ft="212"+Ft.substring(1)),window.open(Ft?`https://wa.me/${Ft}`:"https://wa.me/","_blank")}catch{alert("   ."),window.open("https://wa.me/","_blank")}finally{We(!1)}},"image/png",1)}catch{We(!1)}}},pt=async()=>{if(!(!oe||!X.current)){ne(!0);try{(await AA(X.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Xe=>{if(!Xe){ne(!1),alert("  ");return}try{const vt=new ClipboardItem({"image/png":Xe});await navigator.clipboard.write([vt]);let Ft=oe.phone?oe.phone.replace(/\D/g,""):"";(Ft.startsWith("06")||Ft.startsWith("07")||Ft.startsWith("05"))&&(Ft="212"+Ft.substring(1)),window.open(Ft?`https://wa.me/${Ft}`:"https://wa.me/","_blank")}catch{alert("   ."),window.open("https://wa.me/","_blank")}finally{ne(!1)}},"image/png",1)}catch{ne(!1)}}};return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:rounded-[3rem] border border-gray-800 font-['Tajawal']",children:[oe&&f.jsxs("div",{ref:Ee,style:{position:"fixed",top:0,left:-9999,width:"400px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,borderRadius:"12px",border:"1px solid #eee"},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[f.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 5px 0"},children:b.businessName}),f.jsx("h1",{style:{fontSize:"24px",fontWeight:"900",margin:"0 0 5px 0"},children:" "}),f.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),f.jsxs("div",{style:{marginBottom:"25px"},children:[f.jsx("p",{style:{fontSize:"16px",margin:"0 0 5px 0",color:"#666"},children:"():"}),f.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",margin:0},children:oe.name}),oe.phone&&f.jsx("p",{style:{fontSize:"14px",color:"#888",margin:"5px 0 0 0"},children:oe.phone})]}),f.jsxs("div",{style:{backgroundColor:"#fff0f0",border:"2px solid #ffcccc",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[f.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",margin:"0 0 10px 0",color:"#cc0000"},children:"  ( )"}),f.jsxs("div",{style:{fontSize:"32px",fontWeight:"900",color:"#cc0000",direction:"ltr"},children:[ce(oe.totalDebt)," DH"]})]}),f.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888",borderTop:"1px solid #eee",paddingTop:"10px"},children:f.jsxs("p",{children:["   - ",b.signatureName||"MAMA App"]})})]}),oe&&f.jsxs("div",{ref:X,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,border:"1px solid #eee"},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[f.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:b.businessName}),f.jsx("h1",{style:{fontSize:"26px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),f.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",oe.name]}),f.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[f.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),f.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:" "})]})}),f.jsx("tbody",{children:oe.invoices.sort((se,Xe)=>se.createdAt-Xe.createdAt).map((se,Xe)=>f.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[f.jsx("td",{style:{padding:"10px",fontSize:"16px",fontWeight:"bold"},children:se.date}),f.jsx("td",{style:{padding:"10px",fontSize:"18px",fontWeight:"900",textAlign:"left"},children:ce(se.amount)})]},Xe))})]}),f.jsxs("div",{style:{borderTop:"2px solid #000",paddingTop:"15px",marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" :"}),f.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[ce(oe.totalPurchased)," ."]})]}),oe.generalPayments&&oe.generalPayments.length>0&&f.jsxs("div",{style:{marginTop:"20px"},children:[f.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"2px solid #ddd",paddingBottom:"5px",marginBottom:"10px"},children:"  "}),f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{backgroundColor:"#e6fffa"},children:[f.jsx("th",{style:{padding:"8px",textAlign:"right",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""}),f.jsx("th",{style:{padding:"8px",textAlign:"center",fontSize:"14px",borderBottom:"1px solid #ddd"},children:" "}),f.jsx("th",{style:{padding:"8px",textAlign:"left",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""})]})}),f.jsx("tbody",{children:oe.generalPayments.sort((se,Xe)=>se.timestamp-Xe.timestamp).map((se,Xe)=>f.jsxs("tr",{style:{borderBottom:"1px dashed #eee"},children:[f.jsx("td",{style:{padding:"8px",fontSize:"14px"},children:new Date(se.date).toLocaleDateString("ar-MA")}),f.jsx("td",{style:{padding:"8px",fontSize:"14px",textAlign:"center"},children:se.method==="direct"?"":""}),f.jsx("td",{style:{padding:"8px",fontSize:"14px",fontWeight:"bold",textAlign:"left",color:"#059669"},children:ce(se.amount)})]},Xe))})]})]}),f.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"15px",borderRadius:"8px",marginTop:"20px",border:"1px solid #eee"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[f.jsx("span",{style:{fontWeight:"bold"},children:" :"}),f.jsxs("span",{style:{fontWeight:"bold",color:"#059669"},children:[ce(oe.totalPaid)," ."]})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"20px",marginTop:"10px",borderTop:"1px solid #ccc",paddingTop:"10px"},children:[f.jsx("span",{style:{fontWeight:"900",color:"#dc2626"},children:"  ( ):"}),f.jsxs("span",{style:{fontWeight:"900",color:"#dc2626",direction:"ltr"},children:[ce(oe.totalDebt)," DH"]})]})]}),f.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888"},children:f.jsx("p",{children:b.signatureName||"MAMA App"})})]}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsx("span",{className:"text-[10px] text-[#57b385] font-bold",children:"   "})]}),f.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-[#57b385]",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"   ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-4 text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:N,onChange:se=>R(se.target.value)}),f.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),f.jsx("div",{className:"flex-1 px-4 overflow-y-auto space-y-4 pb-32 custom-scrollbar",children:ue.length>0?ue.map(se=>{const Xe=se.totalPurchased>0?Math.max(0,se.totalDebt)/se.totalPurchased*100:0;return f.jsxs("div",{onClick:()=>U(se.name),className:"bg-[#111111] rounded-[2.5rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-gray-500 group-hover:text-[#57b385] transition-all",children:f.jsx("span",{className:"text-xl font-black",children:se.name.charAt(0)})}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1",children:se.name}),f.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",se.lastInvoiceDate]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),f.jsxs("div",{className:"text-sm font-black text-white",children:[ce(se.totalPurchased)," ."]})]}),f.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),f.jsxs("div",{className:`text-sm font-black ${se.totalDebt>0?"text-red-500":"text-[#57b385]"}`,children:[ce(se.totalDebt)," ."]})]})]}),se.totalPurchased>0&&f.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all duration-1000 ${se.totalDebt>0?"bg-red-500":"bg-[#57b385]"}`,style:{width:`${Math.max(2,Xe)}%`}})})]},se.name)}):f.jsx("div",{className:"text-center py-20 text-gray-600 font-bold",children:"    "})}),oe&&f.jsxs("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] flex flex-col animate-in slide-in-from-bottom duration-400",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c]",children:[f.jsx("button",{onClick:()=>{U(null),ee("")},className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h2",{className:"text-xl font-bold",children:"  "}),t.role==="admin"?f.jsx("button",{onClick:()=>ge(!0),className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white active:scale-90 transition-all",title:"   ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}):f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:oe.name.charAt(0)}),f.jsx("h3",{className:"text-2xl font-black",children:oe.name}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[oe.phone&&f.jsxs("div",{className:"flex items-center gap-2 bg-[#1a1a1a] px-4 py-1.5 rounded-full border border-gray-800 text-[#57b385] font-black text-xs",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),f.jsx("a",{href:`tel:${oe.phone}`,children:oe.phone})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[oe.invoiceCount," "]}),f.jsxs("div",{className:`flex items-center gap-2 px-1.5 py-1 rounded-full border ${oe.totalDebt>0?"bg-red-500/10 border-red-500/20":"bg-green-500/10 border-green-500/20"}`,children:[f.jsxs("span",{className:`text-[10px] font-bold px-2 ${oe.totalDebt>0?"text-red-500":"text-green-500"}`,children:[" : ",ce(oe.totalDebt)," ."]}),oe.totalDebt>0&&f.jsx("button",{onClick:Te,disabled:ye,className:`w-7 h-7 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-md active:scale-90 transition-all ${ye?"opacity-50 cursor-wait":""}`,children:ye?f.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]})]})]})]}),oe.totalDebt>0&&t.permissions.manageDebt&&f.jsxs("div",{className:"bg-[#1a1a1a] rounded-3xl border border-gray-800 p-5 space-y-4 shadow-xl",children:[f.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-700/50 pb-2",children:[f.jsx("div",{className:"w-8 h-8 bg-green-500/10 rounded-lg flex items-center justify-center text-green-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("path",{d:"M12 2v20"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),f.jsx("h3",{className:"font-bold text-white text-sm",children:"  "})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-700 rounded-xl py-3 pr-4 pl-12 text-white font-black text-center focus:border-green-500 outline-none transition-colors",placeholder:" (.)",value:O,onChange:se=>ee(se.target.value)}),f.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs font-bold",children:"DH"})]}),f.jsx("button",{onClick:()=>W(se=>se==="direct"?"cheque":"direct"),className:`w-12 rounded-xl flex items-center justify-center border font-bold text-xs transition-all ${te==="direct"?"bg-white text-black border-white":"bg-blue-600 text-white border-blue-600"}`,children:te==="direct"?"":""})]}),parseFloat(O)>0&&f.jsxs("div",{className:"text-center text-[10px] text-gray-400",children:["  : ",f.jsxs("span",{className:"text-white font-bold",children:[ce(Math.max(0,oe.totalDebt-parseFloat(O)))," ."]})]}),f.jsxs("button",{onClick:Je,disabled:!O||parseFloat(O)<=0,className:`w-full py-3 rounded-xl font-black text-sm shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 ${O?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})," "]})]}),oe.generalPayments&&oe.generalPayments.length>0&&f.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[f.jsxs("h4",{className:"text-sm font-bold text-green-500 border-b border-gray-800/30 pb-3 flex items-center gap-2",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"  "]}),f.jsx("div",{className:"space-y-3",children:oe.generalPayments.sort((se,Xe)=>Xe.timestamp-se.timestamp).map(se=>f.jsxs("div",{className:"bg-green-500/5 p-4 rounded-2xl border border-green-500/10 flex justify-between items-center group",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-white font-black text-sm",children:[ce(se.amount)," ."]}),f.jsxs("div",{className:"text-[10px] text-gray-500 flex gap-2",children:[f.jsx("span",{children:new Date(se.date).toLocaleDateString("ar-MA")}),f.jsxs("span",{className:"text-green-600/70 font-bold",children:["(",se.method==="direct"?"":"",")"]})]})]}),t.permissions.manageDebt&&f.jsx("button",{onClick:()=>Ie(se.id),className:"p-2 text-gray-600 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},se.id))})]}),f.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[f.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:"  "}),f.jsx("div",{className:"space-y-3",children:oe.invoices.sort((se,Xe)=>Xe.createdAt-se.createdAt).map(se=>f.jsxs("div",{className:"bg-black/40 p-4 rounded-2xl border border-gray-800",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs font-black text-white",children:se.id}),f.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded border font-bold ${se.type==="paid"?"bg-green-500/10 text-green-500 border-green-500/20":se.type==="partial"?"bg-orange-500/10 text-orange-500 border-orange-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:se.type==="paid"?"":se.type==="partial"?" ":""})]}),f.jsx("span",{className:"text-[10px] text-gray-500",children:se.date})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[se.type!=="paid"&&t.permissions.manageDebt&&f.jsx("button",{onClick:()=>K(se),className:"flex items-center gap-1.5 px-3 h-9 bg-gray-800 hover:bg-gray-700 rounded-xl text-gray-300 shadow-lg active:scale-90 transition-all border border-gray-700",children:f.jsx("span",{className:"text-[10px] font-bold",children:" "})}),f.jsx("button",{disabled:!t.permissions.createInvoices,onClick:()=>C(se),className:`w-9 h-9 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-500 hover:text-white border border-gray-800 transition-colors ${t.permissions.createInvoices?"":"opacity-20 cursor-not-allowed"}`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 20h9"}),f.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 border-t border-gray-800/50 pt-3",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),f.jsx("span",{className:"text-[10px] font-black text-white",children:ce(se.amount)})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),f.jsx("span",{className:"text-[10px] font-black text-[#57b385]",children:ce(se.paidAmount)})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),f.jsx("span",{className:"text-[10px] font-black text-red-500",children:ce(se.remainingAmount)})]})]}),se.payments&&se.payments.length>0&&f.jsxs("div",{className:"mt-3 bg-black/20 rounded-xl p-2 space-y-1",children:[f.jsx("span",{className:"text-[8px] text-gray-600 font-bold block mb-1",children:" :"}),se.payments.map((Xe,vt)=>f.jsxs("div",{className:"flex justify-between items-center text-[8px]",children:[f.jsx("span",{className:"text-gray-400",children:new Date(Xe.timestamp).toLocaleDateString("ar-MA")}),f.jsxs("span",{className:"text-[#57b385] font-bold",children:["+",ce(Xe.amount)," . (",Xe.method==="direct"?"":"",")"]})]},vt))]})]},se.id))})]})]}),f.jsxs("div",{className:"p-6 bg-[#0c0c0c] border-t border-gray-800 pb-10 relative",children:[f.jsx("button",{onClick:()=>{U(null),ee("")},className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "}),f.jsx("div",{className:"absolute bottom-24 right-6 z-50",children:f.jsx("button",{onClick:pt,disabled:et||oe.invoices.length===0,className:`w-14 h-14 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-2xl shadow-green-900/40 active:scale-90 transition-all border-4 border-[#0c0c0c] ${et?"opacity-50 cursor-wait":""}`,children:et?f.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})})]})]}),xe&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),f.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),f.jsxs("p",{className:"text-sm text-gray-400",children:['      "',k,'"        .']})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:He,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),f.jsx("button",{onClick:()=>ge(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),q&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"           ."})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:ke,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>Ie(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),j&&f.jsx("div",{className:"fixed inset-0 z-[250] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-16 h-16 bg-[#57b385]/10 rounded-full flex items-center justify-center text-[#57b385] mx-auto border border-[#57b385]/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"16 12 12 8 8 12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"8"})]})}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),f.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["  : ",f.jsxs("span",{className:"text-red-500 font-black",children:[ce(j.remainingAmount)," ."]})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1 rounded-2xl border border-gray-800",children:[f.jsx("button",{onClick:()=>J("full"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${Q==="full"?"bg-[#57b385] text-white shadow-lg":"text-gray-500"}`,children:"  "}),f.jsx("button",{onClick:()=>J("partial"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${Q==="partial"?"bg-orange-500 text-white shadow-lg":"text-gray-500"}`,children:" "})]}),Q==="partial"&&f.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-200",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),f.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-black border border-gray-800 rounded-xl py-4 px-4 text-white focus:border-[#57b385] outline-none text-center font-black text-lg",value:re,onChange:se=>G(se.target.value),autoFocus:!0})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("button",{onClick:()=>P("direct"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${M==="direct"?"bg-white text-black border-white":"bg-transparent text-gray-500 border-gray-800"}`,children:""}),f.jsx("button",{onClick:()=>P("cheque"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${M==="cheque"?"bg-blue-600 text-white border-blue-600":"bg-transparent text-gray-500 border-gray-800"}`,children:""})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:be,disabled:Q==="partial"&&(!re||parseFloat(re)<=0),className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${Q==="partial"&&(!re||parseFloat(re)<=0)?"bg-gray-800 opacity-50":"bg-[#57b385]"}`,children:"  "}),f.jsx("button",{onClick:()=>K(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[f.jsx(Vh,{onClick:e,icon:f.jsx(_G,{}),label:""}),f.jsx(Vh,{onClick:r,icon:f.jsx(TG,{}),label:""}),f.jsx("div",{className:"relative -top-6",children:f.jsx("button",{disabled:!t.permissions.createInvoices,onClick:i,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),f.jsx(Vh,{icon:f.jsx(SG,{}),label:"",active:!0}),f.jsx(Vh,{onClick:n,icon:f.jsx(IG,{}),label:""})]})]})},Vh=({icon:t,label:e,active:r=!1,onClick:n})=>f.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[f.jsx("div",{className:r?"scale-110":"",children:t}),f.jsx("span",{className:"text-[10px] font-bold",children:e})]}),_G=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),TG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),SG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),IG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),NG=({onNavigateToHome:t,notifications:e,onMarkAllAsRead:r,onClearAll:n,onMarkAsRead:i})=>{const[s,l]=Ce.useState("all"),c=Ce.useMemo(()=>s==="all"?e:e.filter(C=>C.type===s),[e,s]),g=Ce.useMemo(()=>({unread:e.filter(C=>!C.isRead).length,debt:e.filter(C=>C.type==="debt").length,stock:e.filter(C=>C.type==="stock").length,sale:e.filter(C=>C.type==="sale").length}),[e]),d=C=>{const b=Date.now()-C,N=Math.floor(b/6e4);if(N<1)return"";if(N<60)return` ${N} `;const R=Math.floor(N/60);return R<24?` ${R} `:new Date(C).toLocaleDateString("ar-MA")},m=C=>{switch(C){case"debt":return{bg:"bg-red-500/10",border:"border-red-500/20",iconColor:"text-red-500",iconBg:"bg-red-500/20",dot:"bg-red-500"};case"stock":return{bg:"bg-orange-500/10",border:"border-orange-500/20",iconColor:"text-orange-500",iconBg:"bg-orange-500/20",dot:"bg-orange-500"};case"sale":return{bg:"bg-[#57b385]/10",border:"border-[#57b385]/20",iconColor:"text-[#57b385]",iconBg:"bg-[#57b385]/20",dot:"bg-[#57b385]"}}};return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center bg-[#0c0c0c] border-b border-gray-800/50 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md z-20",children:[f.jsx("button",{onClick:t,className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white transition-all active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("h1",{className:"text-xl font-black",children:" "}),f.jsxs("span",{className:"text-[10px] text-[#57b385] font-bold",children:[" ",g.unread,"  "]})]}),f.jsx("button",{onClick:n,className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white transition-all active:scale-90",title:" ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]}),f.jsxs("div",{className:"px-6 py-4 flex gap-2 overflow-x-auto custom-scrollbar no-scrollbar md:justify-center",children:[f.jsx(jh,{active:s==="all",label:"",count:e.length,onClick:()=>l("all"),color:"gray"}),f.jsx(jh,{active:s==="debt",label:"",count:g.debt,onClick:()=>l("debt"),color:"red"}),f.jsx(jh,{active:s==="stock",label:"",count:g.stock,onClick:()=>l("stock"),color:"orange"}),f.jsx(jh,{active:s==="sale",label:"",count:g.sale,onClick:()=>l("sale"),color:"green"})]}),f.jsx("div",{className:"px-6 pb-4 md:max-w-lg md:mx-auto",children:f.jsxs("button",{onClick:r,className:"w-full py-3 bg-[#1a1a1a] border border-gray-800 rounded-2xl text-xs font-bold text-gray-400 hover:text-white transition-all flex items-center justify-center gap-2 active:scale-[0.98]",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M20 6L9 17l-5-5"})}),"  "]})}),f.jsx("div",{className:"flex-1 overflow-y-auto px-6 space-y-4 pb-32 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:c.length>0?c.map(C=>{const b=m(C.type);return f.jsxs("div",{onClick:()=>i(C.id),className:`relative group p-5 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer h-full ${C.isRead?"bg-[#111111] border-gray-800/40":`${b.bg} ${b.border} shadow-lg shadow-black/20`}`,children:[!C.isRead&&f.jsx("div",{className:`absolute top-5 left-5 w-2 h-2 rounded-full ${b.dot} animate-pulse shadow-lg`}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:`w-12 h-12 min-w-[48px] rounded-2xl flex items-center justify-center ${b.iconBg} ${b.iconColor} shadow-inner`,children:[C.type==="debt"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 2v20"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),C.type==="stock"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),C.type==="sale"&&f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M20 6L9 17l-5-5"})})]}),f.jsxs("div",{className:"flex-1 text-right space-y-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:d(C.timestamp)}),f.jsx("h4",{className:`text-base font-black ${C.isRead?"text-gray-200":"text-white"}`,children:C.title})]}),f.jsx("p",{className:`text-xs leading-relaxed ${C.isRead?"text-gray-500":"text-gray-300 font-medium"}`,children:C.message})]})]})]},C.id)}):f.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-600 space-y-4 col-span-full",children:[f.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full flex items-center justify-center opacity-20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),f.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]})}),f.jsx("p",{className:"font-bold text-sm",children:"   "})]})}),f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[f.jsx(Gh,{onClick:t,icon:f.jsx(FG,{}),label:""}),f.jsx(Gh,{onClick:()=>{},icon:f.jsx(RG,{}),label:""}),f.jsx("div",{className:"relative -top-6",children:f.jsx("button",{className:"bg-[#1a1a1a] p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),f.jsx(Gh,{onClick:()=>{},icon:f.jsx(kG,{}),label:""}),f.jsx(Gh,{onClick:()=>{},icon:f.jsx(DG,{}),label:""})]})]})},jh=({active:t,label:e,count:r,onClick:n,color:i})=>{const s={red:t?"bg-red-500 text-white shadow-red-900/20":"text-red-500 bg-red-500/10 border-red-500/20",orange:t?"bg-orange-500 text-white shadow-orange-900/20":"text-orange-500 bg-orange-500/10 border-orange-500/20",green:t?"bg-[#57b385] text-white shadow-green-900/20":"text-[#57b385] bg-[#57b385]/10 border-[#57b385]/20",gray:t?"bg-white text-black shadow-white/10":"text-gray-400 bg-white/5 border-white/10"};return f.jsxs("button",{onClick:n,className:`px-5 py-2.5 rounded-2xl border text-xs font-black transition-all flex items-center gap-2 whitespace-nowrap active:scale-95 ${s[i]}`,children:[e,f.jsx("span",{className:`px-1.5 py-0.5 rounded-lg text-[10px] ${t?"bg-black/20 text-white":"bg-black/40"}`,children:r})]})},Gh=({icon:t,label:e,onClick:r})=>f.jsxs("button",{onClick:r,className:"flex flex-col items-center gap-1 text-gray-500 hover:text-gray-300 transition-all",children:[f.jsx("div",{className:"",children:t}),f.jsx("span",{className:"text-[10px] font-bold",children:e})]}),FG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),RG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),kG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),DG=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),UG=({currentUser:t,onNavigateToHome:e,onAddInvoice:r,onUpdateInvoice:n,onDeleteInvoice:i,onDeleteSupplier:s,invoices:l})=>{const[c,g]=Ce.useState(!1),[d,m]=Ce.useState(null),[C,b]=Ce.useState(null),[N,R]=Ce.useState(""),[k,U]=Ce.useState(!1),[j,K]=Ce.useState(!1),Q=Ce.useRef(null),J=Ce.useRef(null),[re,G]=Ce.useState(null),[M,P]=Ce.useState([]),[O,ee]=Ce.useState(null),[te,W]=Ce.useState([]),q=Ce.useRef(null),Ie=Ce.useRef(null),xe=Ce.useRef(null),[ge,ye]=Ce.useState(null),[We,Ee]=Ce.useState(""),[et,ne]=Ce.useState(""),[X,ue]=Ce.useState(""),[oe,ce]=Ce.useState(""),[be,Je]=Ce.useState(new Date().toISOString().split("T")[0]),[ke,He]=Ce.useState(new Date().toISOString().split("T")[0]),Te=Ce.useMemo(()=>{const Le=new Map;return l.forEach(lt=>{const kt=Le.get(lt.supplierName)||{name:lt.supplierName,totalAmount:0,totalPaid:0,totalRemaining:0,lastInvoiceDate:lt.date,invoiceCount:0,invoices:[]},tr=lt.amount-(lt.paidAmount||0);kt.totalAmount+=lt.amount,kt.totalPaid+=lt.paidAmount||0,kt.totalRemaining+=tr,kt.invoiceCount+=1,kt.invoices.push(lt),new Date(lt.date)>new Date(kt.lastInvoiceDate)&&(kt.lastInvoiceDate=lt.date),Le.set(lt.supplierName,kt)}),Array.from(Le.values()).filter(lt=>lt.name.includes(N)).sort((lt,kt)=>new Date(kt.lastInvoiceDate).getTime()-new Date(lt.lastInvoiceDate).getTime())},[l,N]),pt=Ce.useMemo(()=>C&&Te.find(Le=>Le.name===C)||null,[Te,C]);Ce.useEffect(()=>()=>{J.current&&J.current.getTracks().forEach(Le=>Le.stop())},[]);const se=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}K(!0);try{const Le=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});J.current=Le,Q.current&&(Q.current.srcObject=Le,Q.current.onloadedmetadata=()=>{var lt;(lt=Q.current)==null||lt.play().catch(kt=>console.error("Play error",kt))})}catch{K(!1),alert("  .")}},Xe=()=>{J.current&&(J.current.getTracks().forEach(Le=>Le.stop()),J.current=null),Q.current&&(Q.current.srcObject=null),K(!1)},vt=()=>{if(Q.current){const Le=document.createElement("canvas");Le.width=Q.current.videoWidth,Le.height=Q.current.videoHeight;const lt=Le.getContext("2d");if(lt){lt.drawImage(Q.current,0,0);const kt=Le.toDataURL("image/jpeg",.9);G(kt),Xe()}}};Ce.useEffect(()=>(re&&Ie.current&&(q.current&&q.current.destroy(),q.current=new Cropper(Ie.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1})),()=>{q.current&&(q.current.destroy(),q.current=null)}),[re]);const Ft=Le=>{const lt=Le.target.files;if(lt&&lt.length>0){const kt=[];Array.from(lt).forEach(tr=>{kt.push(new Promise(st=>{const bt=new FileReader;bt.onloadend=()=>st(bt.result),bt.readAsDataURL(tr)}))}),Promise.all(kt).then(tr=>{G(tr[0]),W(tr.slice(1))})}Le.target.value=""},At=()=>{if(q.current){const lt=q.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);P(kt=>[...kt,lt]),te.length>0?(G(te[0]),W(kt=>kt.slice(1))):G(null)}},ot=()=>{te.length>0?(G(te[0]),W(Le=>Le.slice(1))):G(null)},Dt=Le=>{P(lt=>lt.filter((kt,tr)=>tr!==Le))},Nt=Le=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(Le),wr=()=>{Ee(C||""),ne(""),ue(""),ce(""),P([]),W([]),He(new Date().toISOString().split("T")[0]),Je(new Date().toISOString().split("T")[0]),ye(null)},Tt=Le=>{ye(Le.id),Ee(Le.supplierName),ne(Le.amount.toString()),ue(Le.paidAmount?Le.paidAmount.toString():""),ce(""),Je(new Date().toISOString().split("T")[0]),He(Le.date),Le.images&&Le.images.length>0?P(Le.images):Le.image?P([Le.image]):P([]),g(!0)},un=()=>{if(!We||!et)return;const Le=(parseFloat(X)||0)+(parseFloat(oe)||0),lt=l.find(st=>st.id===ge);let kt=(lt==null?void 0:lt.payments)||[];!ge&&Le>0?kt=[{id:`pay-${Date.now()}`,amount:Le,timestamp:new Date(ke).getTime(),method:"direct"}]:ge&&parseFloat(oe)>0&&(kt=[...kt,{id:`pay-${Date.now()}`,amount:parseFloat(oe),timestamp:new Date(be).getTime(),method:"direct"}]);const tr={id:ge||`sup-${Date.now()}`,supplierName:We,amount:parseFloat(et),paidAmount:Le,date:ke,image:M.length>0?M[0]:void 0,images:M,createdAt:ge&&(lt==null?void 0:lt.createdAt)||Date.now(),payments:kt};ge?n(tr):r(tr),g(!1),wr()},nn=()=>{C&&(s(C),b(null),U(!1))},Pe=Te.reduce((Le,lt)=>Le+lt.totalRemaining,0);return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsx("span",{className:"text-[10px] text-red-500 font-bold",children:"    "})]}),f.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),f.jsxs("div",{className:"px-6 py-4 space-y-4 md:grid md:grid-cols-2 md:gap-4 md:space-y-0",children:[f.jsxs("div",{className:"bg-red-500/5 rounded-2xl p-4 border border-red-500/20 flex justify-between items-center shadow-lg",children:[f.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"  "}),f.jsxs("span",{className:"text-xl font-black text-red-500",children:[Nt(Pe)," ."]})]}),f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-10 pl-4 text-white focus:border-red-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:N,onChange:Le=>R(Le.target.value)}),f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:Te.length>0?Te.map(Le=>f.jsxs("div",{onClick:()=>b(Le.name),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer h-full",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-red-500 group-hover:scale-105 transition-all shadow-inner",children:f.jsx("span",{className:"text-xl font-black",children:Le.name.charAt(0)})}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1 line-clamp-1",children:Le.name}),f.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",Le.invoiceCount]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[f.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),f.jsx("div",{className:"text-sm font-black text-white",children:Nt(Le.totalAmount)})]}),f.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),f.jsx("div",{className:`text-sm font-black ${Le.totalRemaining>0?"text-red-500":"text-[#57b385]"}`,children:Nt(Le.totalRemaining)})]})]}),f.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${Math.min(100,Le.totalRemaining/Math.max(1,Le.totalAmount)*100)}%`}})})]},Le.name)):f.jsx("div",{className:"text-center py-20 text-gray-600 font-bold col-span-full",children:"    "})}),f.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-30",children:f.jsxs("button",{onClick:()=>{wr(),g(!0)},className:"bg-red-600 hover:bg-red-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-red-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),f.jsx("span",{children:"  "})]})}),pt&&f.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/95 md:backdrop-blur-sm flex flex-col items-center justify-center animate-in slide-in-from-bottom duration-400",children:f.jsxs("div",{className:"w-full h-full md:max-w-2xl md:h-[90vh] md:bg-[#161616] md:rounded-[3rem] md:border md:border-gray-800 flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#161616]",children:[f.jsx("button",{onClick:()=>b(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h2",{className:"text-xl font-bold",children:"  "}),t.role==="admin"?f.jsx("button",{onClick:()=>U(!0),className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white active:scale-90 transition-all shadow-lg shadow-red-900/20",title:"   ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}):f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-red-500 shadow-xl",children:pt.name.charAt(0)}),f.jsx("h3",{className:"text-2xl font-black",children:pt.name}),f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsxs("span",{className:"text-[10px] bg-red-500/10 px-3 py-1 rounded-full border border-red-500/20 text-red-500 font-bold",children:[" : ",Nt(pt.totalRemaining)," ."]}),f.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[pt.invoiceCount," "]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:" "}),f.jsx("div",{className:"space-y-3 md:grid md:grid-cols-2 md:gap-3 md:space-y-0",children:pt.invoices.sort((Le,lt)=>new Date(lt.date).getTime()-new Date(Le.date).getTime()).map(Le=>{const lt=Le.amount-(Le.paidAmount||0);return f.jsxs("div",{onClick:()=>m(Le),className:"bg-[#111111] md:bg-black/40 p-4 rounded-2xl border border-gray-800 flex justify-between items-center active:scale-95 transition-all cursor-pointer group hover:border-gray-600",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-black/40 rounded-xl flex items-center justify-center text-gray-500 group-hover:text-red-500 transition-colors",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6"})]})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-white font-bold text-sm",children:Le.date}),f.jsxs("div",{className:"text-[10px] text-gray-500",children:[" : ",Nt(Le.paidAmount||0)]})]})]}),f.jsxs("div",{className:"text-left",children:[f.jsxs("div",{className:"text-white font-black text-sm",children:[Nt(Le.amount)," ."]}),f.jsx("div",{className:`text-[10px] font-bold ${lt>0?"text-red-500":"text-green-500"}`,children:lt>0?`: ${Nt(lt)}`:""})]})]},Le.id)})})]})]}),f.jsx("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#161616] border-t border-gray-800 pb-10 md:pb-6",children:f.jsx("button",{onClick:()=>b(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "})})]})}),k&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),f.jsxs("p",{className:"text-sm text-gray-400",children:['       "',C,'"         .']})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:nn,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),f.jsx("button",{onClick:()=>U(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),d&&f.jsx("div",{className:"fixed inset-0 z-[450] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[f.jsx("button",{onClick:()=>m(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),f.jsxs("div",{className:"text-center space-y-1",children:[f.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full mx-auto flex items-center justify-center text-red-500 border border-red-500/20 mb-2",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6"})]})}),f.jsx("h3",{className:"text-2xl font-black text-white",children:d.supplierName}),f.jsx("p",{className:"text-sm text-gray-500 font-bold",children:d.date})]}),f.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/50 p-4 space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs font-bold",children:" "}),f.jsx("span",{className:"text-lg font-black text-white",children:Nt(d.amount)})]}),f.jsx("div",{className:"w-full h-px bg-gray-800"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),f.jsx("span",{className:"text-sm font-black text-[#57b385]",children:Nt(d.paidAmount||0)})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),f.jsx("span",{className:`text-sm font-black ${d.amount-(d.paidAmount||0)>0?"text-red-500":"text-gray-500"}`,children:Nt(d.amount-(d.paidAmount||0))})]})]}),d.images&&d.images.length>0&&f.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.images.map((Le,lt)=>f.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800",onClick:()=>ee(Le),children:f.jsx("img",{src:Le,alt:"Bon",className:"w-full h-full object-cover"})},lt))}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>Tt(d),className:"flex-1 bg-orange-500 hover:bg-orange-400 text-white py-4 rounded-2xl font-bold shadow-lg active:scale-95 transition-all",children:""}),f.jsx("button",{onClick:()=>{i(d.id),m(null)},className:"flex-1 bg-[#1a1a1a] text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),j&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[f.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[f.jsx("video",{ref:Q,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:f.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),f.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[f.jsx("button",{onClick:Xe,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),f.jsx("button",{onClick:vt,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20",children:f.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),f.jsx("div",{className:"w-14"})]})]})}),c&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-xl font-black text-white mb-1",children:ge?" ":"  "}),f.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),M.length>0&&f.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:M.map((Le,lt)=>f.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[f.jsx("img",{src:Le,alt:`Img ${lt}`,className:"w-full h-full object-cover"}),f.jsx("button",{onClick:()=>Dt(lt),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},lt))}),f.jsxs("div",{className:"flex gap-2 w-full",children:[f.jsxs("button",{onClick:se,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-2",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:""})]}),f.jsxs("div",{onClick:()=>{var Le;return(Le=xe.current)==null?void 0:Le.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 flex items-center justify-center hover:border-red-500/50 transition-all cursor-pointer",children:[f.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:" "})]}),f.jsx("input",{ref:xe,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Ft})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none transition-all text-right font-bold md:text-sm",value:We,onChange:Le=>Ee(Le.target.value),autoFocus:!0})]}),f.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-center font-black text-lg md:text-sm",value:et,onChange:Le=>ne(Le.target.value)})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:ge?" ":" "}),f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] text-center font-black text-lg md:text-sm opacity-70",value:X,onChange:Le=>ue(Le.target.value),readOnly:!!ge})]})]}),ge&&f.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-300",children:[f.jsx("label",{className:"text-[10px] text-[#57b385] font-bold mr-2",children:"  ( )"}),f.jsx("input",{type:"number",className:"w-full bg-[#57b385]/10 border border-[#57b385]/50 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] outline-none text-center font-black text-lg md:text-sm placeholder:text-[#57b385]/30",value:oe,onChange:Le=>ce(Le.target.value),placeholder:"0.00"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"date",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-right md:text-sm",value:ke,onChange:Le=>He(Le.target.value)})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:un,disabled:!We||!et,className:"w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg bg-red-600 hover:bg-red-500 disabled:bg-gray-800 active:scale-95 transition-all",children:""}),f.jsx("button",{onClick:()=>{g(!1),wr()},className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),re&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[f.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:f.jsx("img",{ref:Ie,src:re,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),f.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4",children:[f.jsx("button",{onClick:At,className:"flex-1 bg-red-600 text-white py-4 rounded-2xl font-black text-lg active:scale-95",children:" "}),f.jsx("button",{onClick:ot,className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]})}),O&&f.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>ee(null),children:[f.jsx("img",{src:O,alt:"Full",className:"max-w-full max-h-full object-contain"}),f.jsx("button",{className:"absolute top-6 right-6 p-4 bg-white/10 rounded-full text-white",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},MG=({onNavigateToHome:t,requests:e,onAddRequest:r,onUpdateRequest:n,onDeleteRequest:i,settings:s})=>{var nn;const[l,c]=Ce.useState(!1),[g,d]=Ce.useState(null),[m,C]=Ce.useState(""),[b,N]=Ce.useState(null),[R,k]=Ce.useState(!1),[U,j]=Ce.useState([]),K=Ce.useRef(null),Q=Ce.useRef(null),[J,re]=Ce.useState(""),[G,M]=Ce.useState([]),[P,O]=Ce.useState(null),[ee,te]=Ce.useState([]),[W,q]=Ce.useState(null),[Ie,xe]=Ce.useState(null),[ge,ye]=Ce.useState(!1),[We,Ee]=Ce.useState(!1),et=Ce.useRef(null),ne=Ce.useRef(null),X=Ce.useRef(null),ue=Ce.useRef(null),oe=Ce.useRef(null);Ce.useEffect(()=>()=>{Q.current&&Q.current.getTracks().forEach(Pe=>Pe.stop())},[]);const ce=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}j([]),k(!0);try{const Pe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});Q.current=Pe,K.current&&(K.current.srcObject=Pe,K.current.onloadedmetadata=()=>{var Le;(Le=K.current)==null||Le.play().catch(lt=>console.error("Play error",lt))})}catch(Pe){console.error("Camera access error:",Pe),k(!1);let Le="  .";(Pe.name==="NotAllowedError"||Pe.name==="PermissionDeniedError")&&(Le="    .      ."),alert(Le)}},be=()=>{Q.current&&(Q.current.getTracks().forEach(Pe=>Pe.stop()),Q.current=null),K.current&&(K.current.srcObject=null),k(!1)},Je=()=>{if(K.current){const Pe=document.createElement("canvas");Pe.width=K.current.videoWidth,Pe.height=K.current.videoHeight;const Le=Pe.getContext("2d");if(Le){Le.drawImage(K.current,0,0);const lt=Pe.toDataURL("image/jpeg",.9);j(kt=>[...kt,lt]),navigator.vibrate&&navigator.vibrate(50)}}},ke=()=>{U.length>0&&(O(U[0]),te(U.slice(1))),be()};Ce.useEffect(()=>{if(P&&oe.current){ue.current&&ue.current.destroy();const Pe=new Cropper(oe.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});ue.current=Pe}return()=>{ue.current&&(ue.current.destroy(),ue.current=null)}},[P]);const He=Ce.useMemo(()=>e.filter(Pe=>Pe.status==="pending").filter(Pe=>Pe.productName.toLowerCase().includes(m.toLowerCase())),[e,m]),Te=()=>{re(""),M([]),te([]),N(null)},pt=()=>{Te(),c(!0)},se=Pe=>{N(Pe.id),re(Pe.productName),Pe.images&&Pe.images.length>0?M(Pe.images):Pe.image?M([Pe.image]):M([]),c(!0),d(null)},Xe=Pe=>{const Le=Pe.target.files;if(Le&&Le.length>0){const lt=[];Array.from(Le).forEach(kt=>{lt.push(new Promise(tr=>{const st=new FileReader;st.onloadend=()=>tr(st.result),st.readAsDataURL(kt)}))}),Promise.all(lt).then(kt=>{O(kt[0]),te(kt.slice(1))})}Pe.target.value=""},vt=()=>{if(ue.current){const Le=ue.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);M(lt=>[...lt,Le]),ee.length>0?(O(ee[0]),te(lt=>lt.slice(1))):O(null)}},Ft=()=>{ee.length>0?(O(ee[0]),te(Pe=>Pe.slice(1))):O(null)},At=Pe=>{M(Le=>Le.filter((lt,kt)=>kt!==Pe))},ot=()=>{var Le;if(!J)return;const Pe={id:b||`req-${Date.now()}`,productName:J,image:G.length>0?G[0]:void 0,images:G,status:"pending",createdAt:b&&((Le=e.find(lt=>lt.id===b))==null?void 0:Le.createdAt)||Date.now()};b?n(Pe):r(Pe),c(!1),Te()},Dt=()=>{Ie&&(i(Ie),xe(null),d(null))},Nt=async()=>{if(!(!g||!ne.current)){ye(!0);try{(await AA(ne.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Le=>{if(!Le){ye(!1),alert("  ");return}try{const lt=new ClipboardItem({"image/png":Le});await navigator.clipboard.write([lt]),window.open("https://wa.me/","_blank")}catch(lt){console.error("Clipboard failed",lt),alert("       ."),window.open("https://wa.me/","_blank")}finally{ye(!1)}},"image/png",1)}catch(Pe){console.error("Share error",Pe),ye(!1)}}},wr=async()=>{if(!(He.length===0||!et.current)){Ee(!0);try{(await AA(et.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Le=>{if(!Le){Ee(!1),alert("  ");return}try{const lt=new ClipboardItem({"image/png":Le});await navigator.clipboard.write([lt]),window.open("https://wa.me/","_blank")}catch(lt){console.error("Clipboard failed",lt),window.open("https://wa.me/","_blank")}finally{Ee(!1)}},"image/png",1)}catch(Pe){console.error("Share error",Pe),Ee(!1)}}},Tt=()=>{if(!g)return;const Pe=window.open("","_blank");if(!Pe){alert("   ");return}const Le=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>  - ${g.productName}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 40px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 20px; }
            .content { margin-top: 30px; font-size: 24px; text-align: center; }
            .images { display: grid; grid-template-cols: 1fr 1fr; gap: 20px; margin-top: 30px; }
            img { width: 100%; border-radius: 12px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h1> </h1>
            <p>: ${new Date(g.createdAt).toLocaleDateString("ar-MA")}</p>
          </div>
          <div class="content">
            <strong> :</strong>
            <p>${g.productName}</p>
          </div>
          <div class="images">
            ${(g.images||[]).map(lt=>`<img src="${lt}" />`).join("")}
          </div>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;Pe.document.write(Le),Pe.document.close()},un=()=>{if(He.length===0)return;const Pe=window.open("","_blank");if(!Pe){alert("   ");return}const Le=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title> </title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 30px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
            table { width: 100%; border-collapse: collapse; }
            th { background: #f4f4f4; padding: 12px; border: 1px solid #ddd; text-align: right; }
            td { padding: 12px; border: 1px solid #ddd; }
            .date { font-size: 12px; color: #666; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h1>  </h1>
            <p class="date"> : ${new Date().toLocaleDateString("ar-MA")}</p>
          </div>
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th> </th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              ${He.map((lt,kt)=>`
                <tr>
                  <td>${kt+1}</td>
                  <td><strong>${lt.productName}</strong></td>
                  <td>${new Date(lt.createdAt).toLocaleDateString("ar-MA")}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;Pe.document.write(Le),Pe.document.close()};return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{ref:ne,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[f.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),f.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),f.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",g?new Date(g.createdAt).toLocaleDateString("ar-MA"):""]})]}),f.jsxs("div",{style:{padding:"20px",backgroundColor:"#f9fafb",borderRadius:"12px",border:"1px solid #eee",textAlign:"center"},children:[f.jsx("p",{style:{fontSize:"16px",color:"#666",marginBottom:"5px"},children:"  :"}),f.jsx("h2",{style:{fontSize:"24px",fontWeight:"900",margin:0},children:g==null?void 0:g.productName})]})]}),f.jsxs("div",{ref:et,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[f.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),f.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:"  (Demand)"}),f.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[f.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),f.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"14px",width:"30%"},children:""})]})}),f.jsx("tbody",{children:He.map((Pe,Le)=>f.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[f.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:Pe.productName}),f.jsx("td",{style:{padding:"12px 10px",fontSize:"14px",textAlign:"center"},children:" "})]},Le))})]}),f.jsx("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:f.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:["  : ",He.length]})})]}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsx("span",{className:"text-[10px] text-blue-500 font-bold",children:"    "})]}),f.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group md:max-w-2xl md:mx-auto",children:[f.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3.5 pr-10 pl-4 text-white focus:border-blue-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:m,onChange:Pe=>C(Pe.target.value)}),f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:max-w-2xl md:mx-auto w-full",children:He.length>0?He.map(Pe=>{var Le;return f.jsxs("div",{onClick:()=>d(Pe),className:"bg-[#111111] rounded-[2rem] border border-gray-800/60 p-4 flex items-center gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer w-full hover:border-gray-600 shadow-lg shadow-black/20",children:[f.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-blue-500 overflow-hidden shadow-inner",children:Pe.image||Pe.images&&Pe.images.length>0?f.jsx("img",{src:((Le=Pe.images)==null?void 0:Le[0])||Pe.image,alt:"req",className:"w-full h-full object-cover"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),f.jsx("path",{d:"M12 11h4"}),f.jsx("path",{d:"M12 16h4"}),f.jsx("path",{d:"M8 11h.01"}),f.jsx("path",{d:"M8 16h.01"})]})}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white leading-tight line-clamp-1",children:Pe.productName}),f.jsxs("p",{className:"text-[10px] text-gray-500 font-bold mt-1",children:[" : ",new Date(Pe.createdAt).toLocaleDateString("ar-MA")]})]}),f.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-600 group-hover:text-blue-500 transition-colors",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]},Pe.id)}):f.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M16 4h2a2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"})]}),f.jsx("p",{children:"   "})]})}),f.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[f.jsx("button",{onClick:un,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:"  ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),f.jsx("button",{onClick:wr,disabled:We,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${We?"opacity-50 cursor-wait":""}`,title:"  ",children:We?f.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/80 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:f.jsxs("button",{onClick:pt,className:"pointer-events-auto bg-blue-600 hover:bg-blue-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-blue-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),f.jsx("span",{children:"  "})]})}),g&&f.jsx("div",{className:"fixed inset-0 z-[150] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[f.jsx("button",{onClick:()=>d(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),f.jsxs("div",{className:"text-center space-y-3",children:[f.jsx("div",{onClick:()=>{var Le;const Pe=((Le=g.images)==null?void 0:Le[0])||g.image;Pe&&q(Pe)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] mx-auto flex items-center justify-center text-blue-500 border border-blue-500/20 shadow-2xl overflow-hidden cursor-pointer active:scale-95 transition-transform",children:g.image||g.images&&g.images.length>0?f.jsx("img",{src:((nn=g.images)==null?void 0:nn[0])||g.image,alt:"req",className:"w-full h-full object-cover"}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})})}),f.jsx("h3",{className:"text-2xl font-black text-white",children:g.productName}),f.jsx("p",{className:"text-sm text-gray-500 font-bold bg-black/40 px-4 py-1.5 rounded-full inline-block",children:new Date(g.createdAt).toLocaleDateString("ar-MA")})]}),g.images&&g.images.length>1&&f.jsx("div",{className:"grid grid-cols-3 gap-2",children:g.images.slice(1).map((Pe,Le)=>f.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800 cursor-pointer active:scale-95 transition-transform",onClick:()=>q(Pe),children:f.jsx("img",{src:Pe,alt:"req",className:"w-full h-full object-cover"})},Le))}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:Nt,disabled:ge,className:`bg-[#25D366] text-white py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all ${ge?"opacity-50":""}`,children:[ge?f.jsx("svg",{className:"animate-spin",width:"20",height:"20",viewBox:"0 0 24 24",children:f.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),""]}),f.jsxs("button",{onClick:Tt,className:"bg-white text-black py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),""]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:()=>se(g),className:"bg-orange-500/10 text-orange-500 border border-orange-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-orange-500 hover:text-white transition-all",children:" "}),f.jsx("button",{onClick:()=>xe(g.id),className:"bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-red-500 hover:text-white transition-all",children:" "})]})]})]})}),l&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-xl font-black text-white mb-1",children:b?" ":" "}),f.jsx("p",{className:"text-xs text-gray-500",children:"      "})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  ()"}),G.length>0&&f.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:G.map((Pe,Le)=>f.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[f.jsx("img",{src:Pe,alt:`Img ${Le}`,className:"w-full h-full object-cover"}),f.jsx("button",{onClick:()=>At(Le),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},Le))}),f.jsxs("div",{className:"flex gap-2 w-full",children:[f.jsxs("button",{onClick:ce,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-1 active:scale-95",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:""})]}),f.jsx("div",{onClick:()=>{var Pe;return(Pe=X.current)==null?void 0:Pe.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 hover:border-blue-500 hover:bg-blue-500/5 transition-all cursor-pointer flex flex-col items-center justify-center relative overflow-hidden group active:scale-95",children:f.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500 group-hover:text-blue-500 transition-colors",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:" "})]})})]}),f.jsx("input",{ref:X,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Xe})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  "}),f.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-3 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold text-lg md:text-sm",value:J,onChange:Pe=>re(Pe.target.value),placeholder:"  ...",autoFocus:!0})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:ot,disabled:!J,className:`w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${J?"bg-blue-600 hover:bg-blue-500":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:b?" ":" "}),f.jsx("button",{onClick:()=>c(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),R&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[f.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[f.jsx("video",{ref:K,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),U.length>0&&f.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 bg-blue-600 px-4 py-1.5 rounded-full border-2 border-white shadow-lg animate-bounce",children:f.jsxs("span",{className:"text-sm font-black text-white",children:[U.length,"  "]})}),f.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:f.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),f.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[f.jsx("button",{onClick:be,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),f.jsx("button",{onClick:Je,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20 relative",children:f.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),U.length>0?f.jsx("button",{onClick:ke,className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white active:scale-90 transition-all shadow-xl shadow-green-900/40",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})}):f.jsx("div",{className:"w-14"})]})]})}),P&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[f.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:f.jsx("img",{ref:oe,src:P,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),f.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 items-center",children:[f.jsx("div",{className:"flex-1",children:f.jsx("button",{onClick:vt,className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all",children:ee.length>0?` (${ee.length+1} )`:" "})}),f.jsx("div",{className:"flex-1",children:f.jsx("button",{onClick:Ft,className:"w-full bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:ee.length>0?"":""})})]})]})}),Ie&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:Dt,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>xe(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),W&&f.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>q(null),children:[f.jsx("img",{src:W,alt:"Full",className:"max-w-full max-h-full object-contain shadow-2xl"}),f.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},OG=({onNavigateToHome:t,checks:e,onAddCheck:r,onUpdateCheck:n,onDeleteCheck:i,settings:s})=>{const[l,c]=Ce.useState("primary"),[g,d]=Ce.useState(!1),[m,C]=Ce.useState(""),[b,N]=Ce.useState(null),[R,k]=Ce.useState(null),[U,j]=Ce.useState(!1),K=Ce.useRef(null),[Q,J]=Ce.useState(null),[re,G]=Ce.useState(new Date().toISOString().split("T")[0]),[M,P]=Ce.useState(""),[O,ee]=Ce.useState(""),[te,W]=Ce.useState(new Date().toISOString().split("T")[0]),[q,Ie]=Ce.useState(""),xe=new Date().toISOString().split("T")[0],ge=Ce.useMemo(()=>l==="primary"?{name:"  1",accentColor:"text-purple-500",bgColor:"bg-purple-600",btnBg:"bg-purple-600 hover:bg-purple-500",borderColor:"focus:border-purple-500",shadow:"shadow-purple-900/30",lightBg:"bg-purple-500/10",lightText:"text-purple-400",borderLight:"border-purple-500/20"}:{name:"  2",accentColor:"text-blue-500",bgColor:"bg-blue-600",btnBg:"bg-blue-600 hover:bg-blue-500",borderColor:"focus:border-blue-500",shadow:"shadow-blue-900/30",lightBg:"bg-blue-500/10",lightText:"text-blue-400",borderLight:"border-blue-500/20"},[l]),ye=Ce.useMemo(()=>e.filter(ke=>{if((ke.checkbookType||"primary")!==l||!(ke.name.includes(m)||ke.amount.toString().includes(m)||ke.serialNumber&&ke.serialNumber.includes(m)))return!1;if(R!==null)try{if(parseInt(ke.paymentDate.split("-")[1],10)!==R)return!1}catch{return!1}return!0}),[e,m,R,l]),We=Ce.useMemo(()=>ye.reduce((ke,He)=>He.paymentDate<xe?ke:ke+He.amount,0),[ye,xe]),Ee=()=>{const ke=new Date;if(G(ke.toISOString().split("T")[0]),P(""),ee(""),R!==null){const He=ke.getFullYear(),Te=new Date(He,R,0).getDate(),pt=Math.min(ke.getDate(),Te),se=R.toString().padStart(2,"0"),Xe=pt.toString().padStart(2,"0");W(`${He}-${se}-${Xe}`)}else W(ke.toISOString().split("T")[0]);Ie(""),N(null)},et=()=>{Ee(),d(!0)},ne=ke=>{N(ke.id),G(ke.creationDate),P(ke.name),ee(ke.amount.toString()),W(ke.paymentDate),Ie(ke.serialNumber||""),d(!0)},X=()=>{var He;if(!M||!O)return;const ke={id:b||`chk-${Date.now()}`,creationDate:re,name:M,amount:parseFloat(O),paymentDate:te,serialNumber:q,checkbookType:l,createdAt:b&&((He=e.find(Te=>Te.id===b))==null?void 0:He.createdAt)||Date.now()};b?n(ke):r(ke),d(!1),Ee()},ue=()=>{Q&&(i(Q),J(null),d(!1),Ee())},oe=()=>{if(ye.length===0){alert("   ");return}const ke=window.open("","_blank");if(!ke){alert("   ");return}const He=R?` ${R}`:" ",Te=l==="primary"?"  1":"  2",pt=`
        <!DOCTYPE html>
        <html lang="ar" dir="rtl">
        <head>
            <title> </title>
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
                body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
                .header { text-align: center; margin-bottom: 20px; border-bottom: 2px dashed #000; padding-bottom: 10px; }
                h2 { margin: 0; font-size: 20px; }
                p { margin: 5px 0 0; color: #555; font-size: 14px; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th { border-bottom: 2px solid #000; padding: 8px; font-weight: 800; font-size: 14px; }
                td { padding: 8px; border-bottom: 1px solid #ddd; font-size: 14px; }
                .amount-col { text-align: left; font-weight: bold; }
                .status-paid { color: green; font-size: 12px; }
                .total { margin-top: 30px; border-top: 2px solid #000; padding-top: 15px; font-weight: 900; font-size: 18px; display: flex; justify-content: space-between; }
                @media print {
                   @page { margin: 0; size: A4; }
                   body { padding: 1cm; }
                }
            </style>
        </head>
        <body>
            <div class="header">
                <h3>${s.businessName}</h3>
                <h2>   - ${Te}</h2>
                <p>: ${He}</p>
                <p> : ${new Date().toLocaleDateString("ar-MA")}</p>
            </div>
            <table>
                <thead>
                    <tr>
                        <th style="text-align: right;"> </th>
                        <th style="text-align: center;"></th>
                        <th style="text-align: left;"> (.)</th>
                    </tr>
                </thead>
                <tbody>
                    ${ye.map(se=>{const Xe=se.paymentDate<xe;return`
                        <tr>
                            <td>${se.name} ${Xe?'<span class="status-paid">( )</span>':""}</td>
                            <td style="text-align: center;">${se.paymentDate}</td>
                            <td class="amount-col">${se.amount.toFixed(2)}</td>
                        </tr>
                    `}).join("")}
                </tbody>
            </table>
            <div class="total">
                <span> ( ):</span>
                <span>${We.toFixed(2)} .</span>
            </div>
            <script>
                window.onload = function() { window.print(); setTimeout(function(){ window.close() }, 500); }
            <\/script>
        </body>
        </html>
    `;ke.document.write(pt),ke.document.close()},ce=async()=>{if(ye.length!==0&&K.current){j(!0);try{(await AA(K.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async He=>{if(!He){alert("  "),j(!1);return}try{const Te=new ClipboardItem({"image/png":He});await navigator.clipboard.write([Te]),window.open("https://wa.me/","_blank")}catch(Te){console.error("Clipboard failed",Te),alert("  .      ."),window.open("https://wa.me/","_blank")}finally{j(!1)}},"image/png",1)}catch(ke){console.error("Error generating report image",ke),j(!1),alert("    ")}}},be=R?` ${R}`:" ",Je=l==="primary"?"  1":"  2";return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{ref:K,style:{position:"fixed",top:0,left:-9999,width:"600px",padding:"40px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"3px solid #000",paddingBottom:"20px",marginBottom:"20px"},children:[f.jsx("h3",{style:{fontSize:"22px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),f.jsxs("h1",{style:{fontSize:"28px",fontWeight:"900",margin:0,color:"#000"},children:["  (",Je,")"]}),f.jsxs("p",{style:{fontSize:"18px",color:"#555",marginTop:"10px"},children:[": ",be]}),f.jsxs("p",{style:{fontSize:"14px",color:"#777"},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"30px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[f.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),f.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"center",fontSize:"16px"},children:""}),f.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:""})]})}),f.jsx("tbody",{children:ye.map((ke,He)=>{const Te=ke.paymentDate<xe;return f.jsxs("tr",{style:{borderBottom:"1px solid #ddd",backgroundColor:Te?"#f0fff4":"transparent"},children:[f.jsxs("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"bold"},children:[ke.name,Te&&f.jsx("span",{style:{color:"green",fontSize:"12px",marginRight:"5px"},children:"( )"})]}),f.jsx("td",{style:{padding:"12px",fontSize:"14px",textAlign:"center",fontFamily:"monospace"},children:ke.paymentDate}),f.jsx("td",{style:{padding:"12px",fontSize:"16px",textAlign:"left",fontWeight:"900"},children:ke.amount.toFixed(2)})]},He)})})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#000",color:"white",padding:"15px 20px",borderRadius:"12px"},children:[f.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" ( ):"}),f.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[We.toFixed(2)," ."]})]})]}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsxs("span",{className:`text-[10px] ${ge.accentColor} font-bold transition-colors`,children:[ge.name," -  "]})]}),f.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),f.jsx("div",{className:"px-6 pb-4 md:pt-4",children:f.jsxs("div",{className:"flex bg-[#1a1a1a] p-1 rounded-2xl border border-gray-800 relative max-w-lg md:mx-auto",children:[f.jsx("button",{onClick:()=>c("primary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${l==="primary"?"bg-purple-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  1"}),f.jsx("button",{onClick:()=>c("secondary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${l==="secondary"?"bg-blue-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  2"})]})}),f.jsx("div",{className:"px-6 pb-4",children:f.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-4 border border-gray-800 flex justify-between items-center shadow-lg transition-all md:max-w-lg md:mx-auto",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-8 h-8 ${ge.lightBg} rounded-lg flex items-center justify-center ${ge.accentColor} transition-colors`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 2v20"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-gray-400 text-xs font-bold",children:[" ",ge.name]}),f.jsx("span",{className:"text-[9px] text-gray-600",children:"(   )"})]})]}),f.jsxs("span",{className:"text-xl font-black text-white tracking-tight",children:[We.toFixed(2)," ",f.jsx("span",{className:`text-xs ${ge.accentColor}`,children:"."})]})]})}),f.jsxs("div",{className:"px-6 pb-4 md:grid md:grid-cols-2 md:gap-4 md:items-start",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"    ...",className:`w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white ${ge.borderColor} outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm`,value:m,onChange:ke=>C(ke.target.value)}),f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]}),f.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2 overflow-x-auto custom-scrollbar pb-2 no-scrollbar",children:[f.jsx("button",{onClick:()=>k(null),className:`px-4 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap flex-shrink-0 ${R===null?`${ge.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:""}),Array.from({length:12},(ke,He)=>He+1).map(ke=>f.jsx("button",{onClick:()=>k(ke===R?null:ke),className:`w-10 h-10 min-w-[40px] rounded-xl text-xs font-bold flex items-center justify-center transition-all flex-shrink-0 ${R===ke?`${ge.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:ke},ke))]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:ye.length>0?ye.map(ke=>{const He=ke.paymentDate<xe;return f.jsxs("div",{onClick:()=>ne(ke),className:`bg-[#111111] rounded-2xl border p-4 flex flex-col gap-2 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full ${He?"border-green-500/30 bg-green-900/5":"border-gray-800/60"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-12 h-12 rounded-xl border flex items-center justify-center ${He?"bg-green-500/10 border-green-500/20 text-green-500":`bg-[#1a1a1a] border-gray-800 ${ge.accentColor}`}`,children:He?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M20 6 9 17l-5-5"})}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),f.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:`font-bold text-base leading-tight mb-0.5 line-clamp-1 ${He?"text-green-100":"text-white"}`,children:ke.name}),ke.serialNumber&&f.jsxs("span",{className:`text-[10px] ${ge.lightBg} ${ge.lightText} px-1.5 py-0.5 rounded border ${ge.borderLight} font-mono`,children:["#",ke.serialNumber]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-[10px] text-gray-500 block",children:[" : ",ke.paymentDate]}),He&&f.jsx("span",{className:"text-[8px] bg-green-500 text-white px-1.5 py-0.5 rounded-full font-bold",children:" "})]})]})]}),f.jsxs("div",{className:"text-left",children:[f.jsx("span",{className:`text-lg font-black ${He?"text-green-500":"text-white"}`,children:ke.amount.toFixed(2)}),f.jsx("span",{className:"text-[10px] text-gray-500 block font-bold",children:"."})]})]}),f.jsx("div",{className:"w-full h-px bg-gray-800/50 my-1 mt-auto"}),f.jsx("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:f.jsxs("span",{children:[" : ",ke.creationDate]})})]},ke.id)}):f.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),f.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),f.jsx("p",{children:"   "})]})}),f.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[f.jsx("button",{onClick:oe,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:" ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),f.jsx("button",{onClick:ce,disabled:U,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${U?"opacity-50 cursor-wait":""}`,title:"   ",children:U?f.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:f.jsxs("button",{onClick:et,className:`pointer-events-auto ${ge.btnBg} text-white px-8 py-4 rounded-full font-black ${ge.shadow} shadow-2xl active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]`,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),f.jsx("span",{children:" "})]})}),g&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-xl font-black text-white mb-1",children:b?" ":" "}),f.jsx("p",{className:`text-xs ${ge.accentColor} font-bold`,children:ge.name})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${ge.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:re,onChange:ke=>G(ke.target.value)})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${ge.borderColor} outline-none transition-all text-right font-bold font-mono md:text-sm`,value:q,onChange:ke=>Ie(ke.target.value),placeholder:"  "})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" ()"}),f.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${ge.borderColor} outline-none transition-all text-right font-bold text-lg md:text-sm`,value:M,onChange:ke=>P(ke.target.value),placeholder:"  ...",autoFocus:!0})]}),f.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),f.jsx("input",{type:"number",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${ge.borderColor} outline-none transition-all text-center font-black text-lg md:text-sm`,value:O,onChange:ke=>ee(ke.target.value),placeholder:"0.00"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${ge.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:te,onChange:ke=>W(ke.target.value)})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{onClick:X,disabled:!M||!O,className:`flex-1 py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!M||!O?"bg-gray-800 opacity-50":`${ge.btnBg}`}`,children:""})}),b&&f.jsx("button",{onClick:()=>J(b),className:"w-full bg-red-500/10 text-red-500 py-3 md:py-2.5 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),f.jsx("button",{onClick:()=>d(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),Q&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:ue,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>J(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},LG=({onNavigateToHome:t,orders:e,onAddOrder:r,onUpdateOrder:n,onDeleteOrder:i,settings:s})=>{const[l,c]=Ce.useState(!1),[g,d]=Ce.useState(""),[m,C]=Ce.useState(null),[b,N]=Ce.useState(null),[R,k]=Ce.useState("pending"),[U,j]=Ce.useState([]),[K,Q]=Ce.useState(""),[J,re]=Ce.useState(""),[G,M]=Ce.useState(!1),P=Ce.useRef(null),O=Ce.useMemo(()=>e.filter(ne=>{var oe;const X=(oe=ne.items)==null?void 0:oe.some(ce=>ce.name.toLowerCase().includes(g.toLowerCase())),ue=ne.productName&&ne.productName.toLowerCase().includes(g.toLowerCase());return X||ue}).sort((ne,X)=>X.createdAt-ne.createdAt),[e,g]),ee=()=>{j([]),Q(""),re(""),C(null),k("pending")},te=()=>{ee(),c(!0)},W=ne=>{C(ne.id),Q(""),re(""),k(ne.status||"pending"),ne.items&&ne.items.length>0?j([...ne.items]):ne.productName?j([{id:`legacy-${Date.now()}`,name:ne.productName,quantity:ne.quantity||1}]):j([]),c(!0)},q=()=>{if(!K||!J)return;const ne={id:`item-${Date.now()}-${Math.random()}`,name:K,quantity:parseFloat(J)};j(X=>[...X,ne]),Q(""),re("")},Ie=ne=>{j(X=>X.filter(ue=>ue.id!==ne))},xe=(ne,X,ue)=>{j(oe=>oe.map(ce=>ce.id===ne?{...ce,[X]:X==="quantity"?parseFloat(ue)||0:ue}:ce))},ge=()=>{var X;if(U.length===0)return;const ne={id:m||`ord-${Date.now()}`,items:U,status:R,createdAt:m&&((X=e.find(ue=>ue.id===m))==null?void 0:X.createdAt)||Date.now()};m?n(ne):r(ne),c(!1),ee()},ye=(ne,X)=>{ne.stopPropagation();const ue=X.status==="completed"?"pending":"completed";n({...X,status:ue}),navigator.vibrate&&navigator.vibrate(40)},We=()=>{b&&(i(b),N(null),c(!1),ee())},Ee=()=>{if(U.length===0)return;const ne=window.open("","_blank");if(!ne){alert("   ");return}const X=s.specialOrderLabel||" ",ue=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>${X}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
            .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
            h2 { margin: 0; }
            ul { list-style: none; padding: 0; }
            li { padding: 10px 0; border-bottom: 1px dashed #ccc; display: flex; justify-content: space-between; font-size: 18px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="header"><h3>${s.businessName}</h3><h2>${X}</h2><p>: ${new Date().toLocaleDateString("ar-MA")}</p></div>
          <ul>${U.map(oe=>`<li><span>${oe.name}</span><span>${oe.quantity}</span></li>`).join("")}</ul>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;ne.document.write(ue),ne.document.close()},et=async()=>{if(!(U.length===0||!P.current)){M(!0);try{(await AA(P.current,{scale:3,backgroundColor:"#ffffff",useCORS:!0,width:600})).toBlob(async X=>{if(!X){M(!1);return}try{const ue=new ClipboardItem({"image/png":X});await navigator.clipboard.write([ue]),window.open("https://wa.me/","_blank")}catch{window.open("https://wa.me/","_blank")}finally{M(!1)}},"image/png",1)}catch{M(!1)}}};return f.jsxs("div",{className:"w-full min-h-screen bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative font-['Tajawal']",children:[f.jsxs("div",{ref:P,style:{position:"fixed",top:0,left:-9999,width:"600px",padding:"50px",backgroundColor:"white",color:"black",direction:"rtl",zIndex:-1},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"5px solid #e11d48",paddingBottom:"20px",marginBottom:"30px"},children:[f.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#666",marginBottom:"5px"},children:s.businessName}),f.jsx("h1",{style:{fontSize:"36px",fontWeight:"900",margin:0,color:"#e11d48"},children:s.specialOrderLabel||" "}),f.jsxs("p",{style:{fontSize:"18px",color:"#444",marginTop:"10px"},children:[" : ",new Date().toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric"})]})]}),f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{backgroundColor:"#fff1f2",color:"#e11d48"},children:[f.jsx("th",{style:{textAlign:"right",padding:"20px",borderBottom:"3px solid #e11d48",fontSize:"22px"},children:" "}),f.jsx("th",{style:{textAlign:"center",padding:"20px",borderBottom:"3px solid #e11d48",fontSize:"22px",width:"30%"},children:""})]})}),f.jsx("tbody",{children:U.map((ne,X)=>f.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[f.jsx("td",{style:{padding:"20px 10px",fontSize:"22px",fontWeight:"bold"},children:ne.name}),f.jsx("td",{style:{padding:"20px 10px",fontSize:"26px",fontWeight:"900",textAlign:"center",color:"#e11d48"},children:ne.quantity})]},X))})]}),f.jsxs("div",{style:{marginTop:"50px",borderTop:"2px solid #eee",paddingTop:"20px",textAlign:"center"},children:[f.jsxs("p",{style:{fontSize:"18px",fontWeight:"bold"},children:["  : ",U.length]}),f.jsx("p",{style:{fontSize:"14px",color:"#999",marginTop:"10px"},children:"    MAMA "})]})]}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsx("span",{className:"text-[10px] text-rose-500 font-bold",children:"   "})]}),f.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-all active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white focus:border-rose-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:g,onChange:ne=>d(ne.target.value)}),f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:O.length>0?O.map(ne=>{var X,ue;return f.jsxs("div",{onClick:()=>W(ne),className:`bg-[#111111] rounded-2xl border ${ne.status==="completed"?"border-[#57b385]/40 bg-[#57b385]/5":"border-gray-800/60"} p-4 flex justify-between items-start gap-3 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full hover:border-gray-600`,children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:`w-12 h-12 min-w-[48px] rounded-xl border flex items-center justify-center transition-all ${ne.status==="completed"?"bg-[#57b385]/10 border-[#57b385]/20 text-[#57b385]":"bg-[#1a1a1a] border-gray-800 text-rose-500"}`,children:ne.status==="completed"?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h3",{className:"font-black text-xs text-gray-400",children:new Date(ne.createdAt).toLocaleDateString("ar-MA")}),f.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded-full font-black ${ne.status==="completed"?"bg-[#57b385] text-white":"bg-rose-500 text-white"}`,children:ne.status==="completed"?"":" "})]}),f.jsxs("div",{className:"space-y-1",children:[(X=ne.items)==null?void 0:X.slice(0,3).map((oe,ce)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-white font-bold text-sm line-clamp-1",children:oe.name}),f.jsxs("span",{className:`text-[9px] px-1.5 py-0.5 rounded font-mono font-black ${ne.status==="completed"?"bg-[#57b385]/20 text-[#57b385]":"bg-rose-500/10 text-rose-500"}`,children:["x",oe.quantity]})]},ce)),((ue=ne.items)==null?void 0:ue.length)>3&&f.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",ne.items.length-3,"  ..."]})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("button",{onClick:oe=>ye(oe,ne),className:`p-2 rounded-xl border transition-all active:scale-90 ${ne.status==="completed"?"bg-[#1a1a1a] text-gray-500 border-gray-800":"bg-[#57b385]/10 text-[#57b385] border-[#57b385]/20"}`,title:ne.status==="completed"?" ":" ",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})}),f.jsx("div",{className:"bg-[#1a1a1a] p-2 rounded-xl border border-gray-800 flex items-center justify-center",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-500",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]})]},ne.id)}):f.jsx("div",{className:"text-center py-20 text-gray-600 opacity-50 col-span-full font-bold",children:"    "})}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/80 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:f.jsxs("button",{onClick:te,className:"pointer-events-auto bg-rose-600 hover:bg-rose-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-rose-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),f.jsx("span",{children:"  "})]})}),l&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 flex flex-col max-h-[95vh]",children:[f.jsxs("div",{className:"text-center flex-shrink-0",children:[f.jsx("h3",{className:"text-xl font-black text-white mb-1",children:m?" ":"  "}),f.jsx("div",{className:"flex justify-center mt-2",children:f.jsxs("div",{className:"bg-black/40 p-1 rounded-xl border border-gray-800 flex gap-1",children:[f.jsx("button",{onClick:()=>k("pending"),className:`px-4 py-1.5 rounded-lg text-[10px] font-black transition-all ${R==="pending"?"bg-rose-600 text-white":"text-gray-500"}`,children:" "}),f.jsx("button",{onClick:()=>k("completed"),className:`px-4 py-1.5 rounded-lg text-[10px] font-black transition-all ${R==="completed"?"bg-[#57b385] text-white":"text-gray-500"}`,children:" "})]})})]}),f.jsxs("div",{className:"flex gap-2 items-center flex-shrink-0 bg-black/20 p-3 rounded-2xl border border-gray-800/50",children:[f.jsx("div",{className:"flex-1 space-y-1",children:f.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-xl py-2.5 px-3 text-white focus:border-rose-500 outline-none transition-all text-right font-bold text-sm",value:K,onChange:ne=>Q(ne.target.value),placeholder:"  ...",onKeyDown:ne=>ne.key==="Enter"&&q()})}),f.jsx("div",{className:"w-16 space-y-1",children:f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-2.5 px-1 text-white focus:border-rose-500 outline-none transition-all text-center font-black text-sm",value:J,onChange:ne=>re(ne.target.value),placeholder:"",onKeyDown:ne=>ne.key==="Enter"&&q()})}),f.jsx("button",{onClick:q,disabled:!K||!J,className:`w-10 h-10 rounded-xl flex items-center justify-center text-white transition-all active:scale-90 ${!K||!J?"bg-gray-800 text-gray-500":"bg-rose-600 hover:bg-rose-500 shadow-lg"}`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] rounded-2xl border border-gray-800 p-3 space-y-2 min-h-[150px]",children:U.length>0?U.map(ne=>f.jsx("div",{className:"bg-[#1a1a1a] p-3 rounded-xl border border-gray-800/50 space-y-2",children:f.jsxs("div",{className:"flex justify-between items-center gap-2",children:[f.jsx("button",{onClick:()=>Ie(ne.id),className:"text-red-500 hover:text-red-400 p-1 active:scale-90 flex-shrink-0",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),f.jsx("input",{type:"text",className:"flex-1 bg-transparent text-right font-bold text-sm text-white outline-none border-b border-transparent focus:border-rose-500/30",value:ne.name,onChange:X=>xe(ne.id,"name",X.target.value)}),f.jsx("input",{type:"number",className:"w-12 bg-black/40 rounded-lg text-center font-black text-xs text-rose-500 p-1 border border-gray-800",value:ne.quantity,onChange:X=>xe(ne.id,"quantity",X.target.value)})]})},ne.id)):f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 text-xs gap-2",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),f.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),f.jsx("p",{children:"  "})]})}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2 flex-shrink-0",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:ge,disabled:U.length===0,className:`flex-[2] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${U.length===0?"bg-gray-800 opacity-50":R==="completed"?"bg-[#57b385] hover:brightness-110 shadow-[#57b385]/20":"bg-rose-600 hover:bg-rose-500 shadow-rose-900/20"}`,children:m?" ":" "}),f.jsx("button",{onClick:Ee,disabled:U.length===0,className:"w-14 bg-[#1a1a1a] hover:bg-white/10 text-white rounded-2xl flex items-center justify-center border border-gray-800 active:scale-90 transition-all disabled:opacity-50",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),f.jsx("button",{onClick:et,disabled:U.length===0||G,className:`w-14 bg-[#25D366] hover:bg-[#20b858] text-white rounded-2xl flex items-center justify-center border border-[#25D366]/20 active:scale-90 transition-all disabled:opacity-50 ${G?"opacity-50 cursor-wait":""}`,children:G?f.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),f.jsxs("div",{className:"flex gap-2",children:[m&&f.jsx("button",{onClick:()=>N(m),className:"flex-1 bg-red-500/10 text-red-500 py-3 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),f.jsx("button",{onClick:()=>c(!1),className:"flex-1 bg-[#1a1a1a] text-gray-500 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})]})}),b&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:We,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>N(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},QG=Object.prototype.toString,PG=t=>QG.call(t)==="[object Error]",HG=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function VG(t){if(!(t&&PG(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:r,stack:n}=t;return r==="Load failed"?n===void 0||"__sentry_captured__"in t:r.startsWith("error sending request for url")?!0:HG.has(r)}function jG(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Kh(t,e,{min:r=0,allowInfinity:n=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${n?" or Infinity":""}.`);if(!n&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<r)throw new TypeError(`Expected \`${t}\` to be  ${r}.`)}}class R3 extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function GG(t,e){const r=Math.max(1,t+1),n=e.randomize?Math.random()+1:1;let i=Math.round(n*e.minTimeout*e.factor**(r-1));return i=Math.min(i,e.maxTimeout),i}function n_(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function KG({error:t,attemptNumber:e,retriesConsumed:r,startTime:n,options:i}){var N,R,k,U;const s=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(s instanceof R3)throw s.originalError;const l=Number.isFinite(i.retries)?Math.max(0,i.retries-r):i.retries,c=i.maxRetryTime??Number.POSITIVE_INFINITY,g=Object.freeze({error:s,attemptNumber:e,retriesLeft:l,retriesConsumed:r});if(await i.onFailedAttempt(g),n_(n,c)<=0)throw s;const d=await i.shouldConsumeRetry(g),m=n_(n,c);if(m<=0||l<=0)throw s;if(s instanceof TypeError&&!VG(s)){if(d)throw s;return(N=i.signal)==null||N.throwIfAborted(),!1}if(!await i.shouldRetry(g))throw s;if(!d)return(R=i.signal)==null||R.throwIfAborted(),!1;const C=GG(r,i),b=Math.min(C,m);return(k=i.signal)==null||k.throwIfAborted(),b>0&&await new Promise((j,K)=>{var re,G;const Q=()=>{var M;clearTimeout(J),(M=i.signal)==null||M.removeEventListener("abort",Q),K(i.signal.reason)},J=setTimeout(()=>{var M;(M=i.signal)==null||M.removeEventListener("abort",Q),j()},b);i.unref&&((re=J.unref)==null||re.call(J)),(G=i.signal)==null||G.addEventListener("abort",Q,{once:!0})}),(U=i.signal)==null||U.throwIfAborted(),!0}async function zG(t,e={}){var s,l,c;if(e={...e},jG(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),Kh("factor",e.factor,{min:0,allowInfinity:!1}),Kh("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Kh("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Kh("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(s=e.signal)==null||s.throwIfAborted();let r=0,n=0;const i=performance.now();for(;!Number.isFinite(e.retries)||n<=e.retries;){r++;try{(l=e.signal)==null||l.throwIfAborted();const g=await t(r);return(c=e.signal)==null||c.throwIfAborted(),g}catch(g){await KG({error:g,attemptNumber:r,retriesConsumed:n,startTime:i,options:e})&&n++}}throw new Error("Retry attempts exhausted without throwing an error.")}var WG={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let XG,qG;function YG(){return{geminiUrl:XG,vertexUrl:qG}}function JG(t,e,r,n){var i,s;if(!(t!=null&&t.baseUrl)){const l=YG();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:r:(s=l.geminiUrl)!==null&&s!==void 0?s:n}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gl{}function Ut(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function _(t,e,r){for(let s=0;s<e.length-1;s++){const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(r))t[c]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const g=t[c];if(Array.isArray(r))for(let d=0;d<g.length;d++){const m=g[d];_(m,e.slice(s+1),r[d])}else for(const d of g)_(d,e.slice(s+1),r)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const g=t[c];_(g[0],e.slice(s+1),r);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const n=e[e.length-1],i=t[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(t,r):t[n]=r}function E(t,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return r;const i=e[n];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const l=t[s];return Array.isArray(l)?l.map(c=>E(c,e.slice(n+1),r)):r}else return r}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return r;throw n}}function ZG(t,e){for(const[r,n]of Object.entries(e)){const i=r.split("."),s=n.split("."),l=new Set;let c=-1;for(let g=0;g<i.length;g++)if(i[g]==="*"){c=g;break}if(c!==-1&&s.length>c)for(let g=c;g<s.length;g++){const d=s[g];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}h2(t,i,s,0,l)}}function h2(t,e,r,n,i){if(n>=e.length||typeof t!="object"||t===null)return;const s=e[n];if(s.endsWith("[]")){const l=s.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const g of c[l])h2(g,e,r,n+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),g={};for(const d of c)g[d]=l[d];for(const[d,m]of Object.entries(g)){const C=[];for(const b of r.slice(n))b==="*"?C.push(d):C.push(b);_(l,C,m)}for(const d of c)delete l[d]}}else{const l=t;s in l&&h2(l[s],e,r,n+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dw(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $G(t){const e={},r=E(t,["operationName"]);r!=null&&_(e,["operationName"],r);const n=E(t,["resourceName"]);return n!=null&&_(e,["_url","resourceName"],n),e}function eK(t){const e={},r=E(t,["name"]);r!=null&&_(e,["name"],r);const n=E(t,["metadata"]);n!=null&&_(e,["metadata"],n);const i=E(t,["done"]);i!=null&&_(e,["done"],i);const s=E(t,["error"]);s!=null&&_(e,["error"],s);const l=E(t,["response","generateVideoResponse"]);return l!=null&&_(e,["response"],rK(l)),e}function tK(t){const e={},r=E(t,["name"]);r!=null&&_(e,["name"],r);const n=E(t,["metadata"]);n!=null&&_(e,["metadata"],n);const i=E(t,["done"]);i!=null&&_(e,["done"],i);const s=E(t,["error"]);s!=null&&_(e,["error"],s);const l=E(t,["response"]);return l!=null&&_(e,["response"],nK(l)),e}function rK(t){const e={},r=E(t,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>iK(l))),_(e,["generatedVideos"],s)}const n=E(t,["raiMediaFilteredCount"]);n!=null&&_(e,["raiMediaFilteredCount"],n);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function nK(t){const e={},r=E(t,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>sK(l))),_(e,["generatedVideos"],s)}const n=E(t,["raiMediaFilteredCount"]);n!=null&&_(e,["raiMediaFilteredCount"],n);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function iK(t){const e={},r=E(t,["video"]);return r!=null&&_(e,["video"],uK(r)),e}function sK(t){const e={},r=E(t,["_self"]);return r!=null&&_(e,["video"],fK(r)),e}function aK(t){const e={},r=E(t,["operationName"]);return r!=null&&_(e,["_url","operationName"],r),e}function oK(t){const e={},r=E(t,["operationName"]);return r!=null&&_(e,["_url","operationName"],r),e}function lK(t){const e={},r=E(t,["name"]);r!=null&&_(e,["name"],r);const n=E(t,["metadata"]);n!=null&&_(e,["metadata"],n);const i=E(t,["done"]);i!=null&&_(e,["done"],i);const s=E(t,["error"]);s!=null&&_(e,["error"],s);const l=E(t,["response"]);return l!=null&&_(e,["response"],AK(l)),e}function AK(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["parent"]);n!=null&&_(e,["parent"],n);const i=E(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function k3(t){const e={},r=E(t,["name"]);r!=null&&_(e,["name"],r);const n=E(t,["metadata"]);n!=null&&_(e,["metadata"],n);const i=E(t,["done"]);i!=null&&_(e,["done"],i);const s=E(t,["error"]);s!=null&&_(e,["error"],s);const l=E(t,["response"]);return l!=null&&_(e,["response"],cK(l)),e}function cK(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["parent"]);n!=null&&_(e,["parent"],n);const i=E(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function uK(t){const e={},r=E(t,["uri"]);r!=null&&_(e,["uri"],r);const n=E(t,["encodedVideo"]);n!=null&&_(e,["videoBytes"],Dw(n));const i=E(t,["encoding"]);return i!=null&&_(e,["mimeType"],i),e}function fK(t){const e={},r=E(t,["gcsUri"]);r!=null&&_(e,["uri"],r);const n=E(t,["bytesBase64Encoded"]);n!=null&&_(e,["videoBytes"],Dw(n));const i=E(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var i_;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(i_||(i_={}));var s_;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(s_||(s_={}));var a_;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(a_||(a_={}));var As;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(As||(As={}));var o_;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(o_||(o_={}));var l_;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(l_||(l_={}));var A_;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(A_||(A_={}));var c_;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(c_||(c_={}));var u_;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(u_||(u_={}));var f_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(f_||(f_={}));var d_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(d_||(d_={}));var h_;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(h_||(h_={}));var g_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(g_||(g_={}));var p_;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(p_||(p_={}));var m_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(m_||(m_={}));var x_;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(x_||(x_={}));var w_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(w_||(w_={}));var v_;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(v_||(v_={}));var y_;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(y_||(y_={}));var C_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(C_||(C_={}));var E_;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(E_||(E_={}));var Q1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Q1||(Q1={}));var b_;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(b_||(b_={}));var B_;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(B_||(B_={}));var __;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(__||(__={}));var g2;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(g2||(g2={}));var T_;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(T_||(T_={}));var S_;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(S_||(S_={}));var p2;(function(t){t.COLLECTION="COLLECTION"})(p2||(p2={}));var I_;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(I_||(I_={}));var N_;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(N_||(N_={}));var F_;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(F_||(F_={}));var R_;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(R_||(R_={}));var k_;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(k_||(k_={}));var D_;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(D_||(D_={}));var U_;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(U_||(U_={}));var M_;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(M_||(M_={}));var O_;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(O_||(O_={}));var L_;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(L_||(L_={}));var Q_;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Q_||(Q_={}));var P_;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(P_||(P_={}));var H_;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(H_||(H_={}));var V_;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(V_||(V_={}));var j_;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(j_||(j_={}));var G_;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(G_||(G_={}));var K_;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(K_||(K_={}));var z_;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(z_||(z_={}));var W_;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(W_||(W_={}));var X_;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(X_||(X_={}));var q_;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(q_||(q_={}));var Y_;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Y_||(Y_={}));var J_;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(J_||(J_={}));var Z_;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Z_||(Z_={}));var $_;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($_||($_={}));var eT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(eT||(eT={}));var tT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(tT||(tT={}));var gu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(gu||(gu={}));class m2{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class F0{get text(){var e,r,n,i,s,l,c,g;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const C=[];for(const b of(g=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&g!==void 0?g:[]){for(const[N,R]of Object.entries(b))N!=="text"&&N!=="thought"&&N!=="thoughtSignature"&&(R!==null||R!==void 0)&&C.push(N);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;m=!0,d+=b.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,r,n,i,s,l,c,g;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const C of(g=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&g!==void 0?g:[]){for(const[b,N]of Object.entries(C))b!=="inlineData"&&(N!==null||N!==void 0)&&m.push(b);C.inlineData&&typeof C.inlineData.data=="string"&&(d+=atob(C.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,r,n,i,s,l,c,g;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(g=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||g===void 0?void 0:g.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,r,n,i,s,l,c,g,d;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(g=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||g===void 0?void 0:g.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,r,n,i,s,l,c,g,d;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(g=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||g===void 0?void 0:g.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.output}}class rT{}class nT{}class dK{}class hK{}class gK{}class pK{}class iT{}class sT{}class aT{}class mK{}class P1{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new P1;let i;const s=e;return r?i=tK(s):i=eK(s),Object.assign(n,i),n}}class oT{}class lT{}class AT{}class cT{}class xK{}class wK{}class vK{}class Uw{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Uw,s=lK(e);return Object.assign(n,s),n}}class yK{}class CK{}class EK{}class bK{}class uT{}class BK{get text(){var e,r,n;let i="",s=!1;const l=[];for(const c of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[g,d]of Object.entries(c))g!=="text"&&g!=="thought"&&d!==null&&l.push(g);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,i+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,r,n;let i="";const s=[];for(const l of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[c,g]of Object.entries(l))c!=="inlineData"&&g!==null&&s.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class _K{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Mw{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Mw,s=k3(e);return Object.assign(n,s),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function D3(t,e){const r=Yr(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function U3(t){return Array.isArray(t)?t.map(e=>H1(e)):[H1(t)]}function H1(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function M3(t){const e=H1(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function O3(t){const e=H1(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function L3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>fT(e)):[fT(t)]}function x2(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function dT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function hT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function us(t){if(t==null)throw new Error("ContentUnion is required");return x2(t)?t:{role:"user",parts:L3(t)}}function Ow(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=us(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=us(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>us(r)):[us(e)]}function Oa(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(dT(t)||hT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[us(t)]}const e=[],r=[],n=x2(t[0]);for(const i of t){const s=x2(i);if(s!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(dT(i)||hT(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||e.push({role:"user",parts:L3(r)}),e}function TK(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.values(As).includes(r[0].toUpperCase())?r[0].toUpperCase():As.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.values(As).includes(n.toUpperCase())?n.toUpperCase():As.TYPE_UNSPECIFIED})}}function yu(t){const e={},r=["items"],n=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&TK(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(As).includes(c.toUpperCase())?c.toUpperCase():As.TYPE_UNSPECIFIED}else if(r.includes(l))e[l]=yu(c);else if(n.includes(l)){const g=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}g.push(yu(d))}e[l]=g}else if(i.includes(l)){const g={};for(const[d,m]of Object.entries(c))g[d]=yu(m);e[l]=g}else{if(l==="additionalProperties")continue;e[l]=c}return e}function Lw(t){return yu(t)}function Qw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Pw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Lu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=yu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=yu(e.response));return t}function Qu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function SK(t,e,r,n=1){const i=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:i?`${r}/${e}`:e}function pl(t,e){if(typeof e!="string")throw new Error("name must be a string");return SK(t,e,"cachedContents")}function Q3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function xA(t){return Dw(t)}function IK(t){return t!=null&&typeof t=="object"&&"name"in t}function NK(t){return t!=null&&typeof t=="object"&&"video"in t}function FK(t){return t!=null&&typeof t=="object"&&"uri"in t}function P3(t){var e;let r;if(IK(t)&&(r=t.name),!(FK(t)&&(r=t.uri,r===void 0))&&!(NK(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function H3(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function V3(t){for(const e of["models","tunedModels","publisherModels"])if(RK(t,e))return t[e];return[]}function RK(t,e){return t!==null&&typeof t=="object"&&e in t}function kK(t,e={}){const r=t,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function DK(t,e={}){const r=[],n=new Set;for(const i of t){const s=i.name;if(n.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);n.add(s);const l=kK(i,e);l.functionDeclarations&&r.push(...l.functionDeclarations)}return{functionDeclarations:r}}function j3(t,e){let r;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function UK(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function G3(t){if(typeof t!="object"||t===null)return{};const e=t,r=e.inlinedResponses;if(typeof r!="object"||r===null)return t;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const g=l.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Pu(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function K3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MK(t){const e={},r=E(t,["responsesFile"]);r!=null&&_(e,["fileName"],r);const n=E(t,["inlinedResponses","inlinedResponses"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>pz(l))),_(e,["inlinedResponses"],s)}const i=E(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["inlinedEmbedContentResponses"],s)}return e}function OK(t){const e={},r=E(t,["predictionsFormat"]);r!=null&&_(e,["format"],r);const n=E(t,["gcsDestination","outputUriPrefix"]);n!=null&&_(e,["gcsUri"],n);const i=E(t,["bigqueryDestination","outputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function LK(t){const e={},r=E(t,["format"]);r!=null&&_(e,["predictionsFormat"],r);const n=E(t,["gcsUri"]);n!=null&&_(e,["gcsDestination","outputUriPrefix"],n);const i=E(t,["bigqueryUri"]);if(i!=null&&_(e,["bigqueryDestination","outputUri"],i),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(E(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function l1(t){const e={},r=E(t,["name"]);r!=null&&_(e,["name"],r);const n=E(t,["metadata","displayName"]);n!=null&&_(e,["displayName"],n);const i=E(t,["metadata","state"]);i!=null&&_(e,["state"],K3(i));const s=E(t,["metadata","createTime"]);s!=null&&_(e,["createTime"],s);const l=E(t,["metadata","endTime"]);l!=null&&_(e,["endTime"],l);const c=E(t,["metadata","updateTime"]);c!=null&&_(e,["updateTime"],c);const g=E(t,["metadata","model"]);g!=null&&_(e,["model"],g);const d=E(t,["metadata","output"]);return d!=null&&_(e,["dest"],MK(G3(d))),e}function w2(t){const e={},r=E(t,["name"]);r!=null&&_(e,["name"],r);const n=E(t,["displayName"]);n!=null&&_(e,["displayName"],n);const i=E(t,["state"]);i!=null&&_(e,["state"],K3(i));const s=E(t,["error"]);s!=null&&_(e,["error"],s);const l=E(t,["createTime"]);l!=null&&_(e,["createTime"],l);const c=E(t,["startTime"]);c!=null&&_(e,["startTime"],c);const g=E(t,["endTime"]);g!=null&&_(e,["endTime"],g);const d=E(t,["updateTime"]);d!=null&&_(e,["updateTime"],d);const m=E(t,["model"]);m!=null&&_(e,["model"],m);const C=E(t,["inputConfig"]);C!=null&&_(e,["src"],QK(C));const b=E(t,["outputConfig"]);b!=null&&_(e,["dest"],OK(G3(b)));const N=E(t,["completionStats"]);return N!=null&&_(e,["completionStats"],N),e}function QK(t){const e={},r=E(t,["instancesFormat"]);r!=null&&_(e,["format"],r);const n=E(t,["gcsSource","uris"]);n!=null&&_(e,["gcsUri"],n);const i=E(t,["bigquerySource","inputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function PK(t,e){const r={};if(E(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(E(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=E(e,["fileName"]);n!=null&&_(r,["fileName"],n);const i=E(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>gz(t,l))),_(r,["requests","requests"],s)}return r}function HK(t){const e={},r=E(t,["format"]);r!=null&&_(e,["instancesFormat"],r);const n=E(t,["gcsUri"]);n!=null&&_(e,["gcsSource","uris"],n);const i=E(t,["bigqueryUri"]);if(i!=null&&_(e,["bigquerySource","inputUri"],i),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function VK(t){const e={},r=E(t,["data"]);if(r!=null&&_(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&_(e,["mimeType"],n),e}function jK(t,e){const r={},n=E(e,["name"]);return n!=null&&_(r,["_url","name"],Pu(t,n)),r}function GK(t,e){const r={},n=E(e,["name"]);return n!=null&&_(r,["_url","name"],Pu(t,n)),r}function KK(t){const e={},r=E(t,["content"]);r!=null&&_(e,["content"],r);const n=E(t,["citationMetadata"]);n!=null&&_(e,["citationMetadata"],zK(n));const i=E(t,["tokenCount"]);i!=null&&_(e,["tokenCount"],i);const s=E(t,["finishReason"]);s!=null&&_(e,["finishReason"],s);const l=E(t,["avgLogprobs"]);l!=null&&_(e,["avgLogprobs"],l);const c=E(t,["groundingMetadata"]);c!=null&&_(e,["groundingMetadata"],c);const g=E(t,["index"]);g!=null&&_(e,["index"],g);const d=E(t,["logprobsResult"]);d!=null&&_(e,["logprobsResult"],d);const m=E(t,["safetyRatings"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(N=>N)),_(e,["safetyRatings"],b)}const C=E(t,["urlContextMetadata"]);return C!=null&&_(e,["urlContextMetadata"],C),e}function zK(t){const e={},r=E(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),_(e,["citations"],n)}return e}function z3(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Ez(s))),_(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&_(e,["role"],n),e}function WK(t,e){const r={},n=E(t,["displayName"]);if(e!==void 0&&n!=null&&_(e,["batch","displayName"],n),E(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function XK(t,e){const r={},n=E(t,["displayName"]);e!==void 0&&n!=null&&_(e,["displayName"],n);const i=E(t,["dest"]);return e!==void 0&&i!=null&&_(e,["outputConfig"],LK(UK(i))),r}function gT(t,e){const r={},n=E(e,["model"]);n!=null&&_(r,["_url","model"],Yr(t,n));const i=E(e,["src"]);i!=null&&_(r,["batch","inputConfig"],PK(t,j3(t,i)));const s=E(e,["config"]);return s!=null&&WK(s,r),r}function qK(t,e){const r={},n=E(e,["model"]);n!=null&&_(r,["model"],Yr(t,n));const i=E(e,["src"]);i!=null&&_(r,["inputConfig"],HK(j3(t,i)));const s=E(e,["config"]);return s!=null&&XK(s,r),r}function YK(t,e){const r={},n=E(t,["displayName"]);return e!==void 0&&n!=null&&_(e,["batch","displayName"],n),r}function JK(t,e){const r={},n=E(e,["model"]);n!=null&&_(r,["_url","model"],Yr(t,n));const i=E(e,["src"]);i!=null&&_(r,["batch","inputConfig"],iz(t,i));const s=E(e,["config"]);return s!=null&&YK(s,r),r}function ZK(t,e){const r={},n=E(e,["name"]);return n!=null&&_(r,["_url","name"],Pu(t,n)),r}function $K(t,e){const r={},n=E(e,["name"]);return n!=null&&_(r,["_url","name"],Pu(t,n)),r}function ez(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["name"]);n!=null&&_(e,["name"],n);const i=E(t,["done"]);i!=null&&_(e,["done"],i);const s=E(t,["error"]);return s!=null&&_(e,["error"],s),e}function tz(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["name"]);n!=null&&_(e,["name"],n);const i=E(t,["done"]);i!=null&&_(e,["done"],i);const s=E(t,["error"]);return s!=null&&_(e,["error"],s),e}function rz(t,e){const r={},n=E(e,["contents"]);if(n!=null){let s=Ow(t,n);Array.isArray(s)&&(s=s.map(l=>l)),_(r,["requests[]","request","content"],s)}const i=E(e,["config"]);return i!=null&&(_(r,["_self"],nz(i,r)),ZG(r,{"requests[].*":"requests[].request.*"})),r}function nz(t,e){const r={},n=E(t,["taskType"]);e!==void 0&&n!=null&&_(e,["requests[]","taskType"],n);const i=E(t,["title"]);e!==void 0&&i!=null&&_(e,["requests[]","title"],i);const s=E(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&_(e,["requests[]","outputDimensionality"],s),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function iz(t,e){const r={},n=E(e,["fileName"]);n!=null&&_(r,["file_name"],n);const i=E(e,["inlinedRequests"]);return i!=null&&_(r,["requests"],rz(t,i)),r}function sz(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&_(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&_(e,["mimeType"],n),e}function az(t){const e={},r=E(t,["id"]);r!=null&&_(e,["id"],r);const n=E(t,["args"]);n!=null&&_(e,["args"],n);const i=E(t,["name"]);if(i!=null&&_(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oz(t){const e={},r=E(t,["allowedFunctionNames"]);r!=null&&_(e,["allowedFunctionNames"],r);const n=E(t,["mode"]);if(n!=null&&_(e,["mode"],n),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lz(t,e,r){const n={},i=E(e,["systemInstruction"]);r!==void 0&&i!=null&&_(r,["systemInstruction"],z3(us(i)));const s=E(e,["temperature"]);s!=null&&_(n,["temperature"],s);const l=E(e,["topP"]);l!=null&&_(n,["topP"],l);const c=E(e,["topK"]);c!=null&&_(n,["topK"],c);const g=E(e,["candidateCount"]);g!=null&&_(n,["candidateCount"],g);const d=E(e,["maxOutputTokens"]);d!=null&&_(n,["maxOutputTokens"],d);const m=E(e,["stopSequences"]);m!=null&&_(n,["stopSequences"],m);const C=E(e,["responseLogprobs"]);C!=null&&_(n,["responseLogprobs"],C);const b=E(e,["logprobs"]);b!=null&&_(n,["logprobs"],b);const N=E(e,["presencePenalty"]);N!=null&&_(n,["presencePenalty"],N);const R=E(e,["frequencyPenalty"]);R!=null&&_(n,["frequencyPenalty"],R);const k=E(e,["seed"]);k!=null&&_(n,["seed"],k);const U=E(e,["responseMimeType"]);U!=null&&_(n,["responseMimeType"],U);const j=E(e,["responseSchema"]);j!=null&&_(n,["responseSchema"],Lw(j));const K=E(e,["responseJsonSchema"]);if(K!=null&&_(n,["responseJsonSchema"],K),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=E(e,["safetySettings"]);if(r!==void 0&&Q!=null){let q=Q;Array.isArray(q)&&(q=q.map(Ie=>bz(Ie))),_(r,["safetySettings"],q)}const J=E(e,["tools"]);if(r!==void 0&&J!=null){let q=Qu(J);Array.isArray(q)&&(q=q.map(Ie=>_z(Lu(Ie)))),_(r,["tools"],q)}const re=E(e,["toolConfig"]);if(r!==void 0&&re!=null&&_(r,["toolConfig"],Bz(re)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=E(e,["cachedContent"]);r!==void 0&&G!=null&&_(r,["cachedContent"],pl(t,G));const M=E(e,["responseModalities"]);M!=null&&_(n,["responseModalities"],M);const P=E(e,["mediaResolution"]);P!=null&&_(n,["mediaResolution"],P);const O=E(e,["speechConfig"]);if(O!=null&&_(n,["speechConfig"],Qw(O)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=E(e,["thinkingConfig"]);ee!=null&&_(n,["thinkingConfig"],ee);const te=E(e,["imageConfig"]);te!=null&&_(n,["imageConfig"],hz(te));const W=E(e,["enableEnhancedCivicAnswers"]);if(W!=null&&_(n,["enableEnhancedCivicAnswers"],W),E(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function Az(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["candidates"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(d=>KK(d))),_(e,["candidates"],g)}const i=E(t,["modelVersion"]);i!=null&&_(e,["modelVersion"],i);const s=E(t,["promptFeedback"]);s!=null&&_(e,["promptFeedback"],s);const l=E(t,["responseId"]);l!=null&&_(e,["responseId"],l);const c=E(t,["usageMetadata"]);return c!=null&&_(e,["usageMetadata"],c),e}function cz(t,e){const r={},n=E(e,["name"]);return n!=null&&_(r,["_url","name"],Pu(t,n)),r}function uz(t,e){const r={},n=E(e,["name"]);return n!=null&&_(r,["_url","name"],Pu(t,n)),r}function fz(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&_(e,["enableWidget"],r),e}function dz(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&_(e,["timeRangeFilter"],r),e}function hz(t){const e={},r=E(t,["aspectRatio"]);r!=null&&_(e,["aspectRatio"],r);const n=E(t,["imageSize"]);if(n!=null&&_(e,["imageSize"],n),E(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function gz(t,e){const r={},n=E(e,["model"]);n!=null&&_(r,["request","model"],Yr(t,n));const i=E(e,["contents"]);if(i!=null){let c=Oa(i);Array.isArray(c)&&(c=c.map(g=>z3(g))),_(r,["request","contents"],c)}const s=E(e,["metadata"]);s!=null&&_(r,["metadata"],s);const l=E(e,["config"]);return l!=null&&_(r,["request","generationConfig"],lz(t,l,E(r,["request"],{}))),r}function pz(t){const e={},r=E(t,["response"]);r!=null&&_(e,["response"],Az(r));const n=E(t,["metadata"]);n!=null&&_(e,["metadata"],n);const i=E(t,["error"]);return i!=null&&_(e,["error"],i),e}function mz(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&_(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);if(e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),E(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function xz(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&_(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);e!==void 0&&i!=null&&_(e,["_query","pageToken"],i);const s=E(t,["filter"]);return e!==void 0&&s!=null&&_(e,["_query","filter"],s),r}function wz(t){const e={},r=E(t,["config"]);return r!=null&&mz(r,e),e}function vz(t){const e={},r=E(t,["config"]);return r!=null&&xz(r,e),e}function yz(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const i=E(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l1(l))),_(e,["batchJobs"],s)}return e}function Cz(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const i=E(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>w2(l))),_(e,["batchJobs"],s)}return e}function Ez(t){const e={},r=E(t,["mediaResolution"]);r!=null&&_(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&_(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&_(e,["fileData"],sz(s));const l=E(t,["functionCall"]);l!=null&&_(e,["functionCall"],az(l));const c=E(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const g=E(t,["inlineData"]);g!=null&&_(e,["inlineData"],VK(g));const d=E(t,["text"]);d!=null&&_(e,["text"],d);const m=E(t,["thought"]);m!=null&&_(e,["thought"],m);const C=E(t,["thoughtSignature"]);C!=null&&_(e,["thoughtSignature"],C);const b=E(t,["videoMetadata"]);return b!=null&&_(e,["videoMetadata"],b),e}function bz(t){const e={},r=E(t,["category"]);if(r!=null&&_(e,["category"],r),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=E(t,["threshold"]);return n!=null&&_(e,["threshold"],n),e}function Bz(t){const e={},r=E(t,["retrievalConfig"]);r!=null&&_(e,["retrievalConfig"],r);const n=E(t,["functionCallingConfig"]);return n!=null&&_(e,["functionCallingConfig"],oz(n)),e}function _z(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&_(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&_(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(C=>C)),_(e,["functionDeclarations"],m)}const l=E(t,["googleMaps"]);l!=null&&_(e,["googleMaps"],fz(l));const c=E(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],dz(c));const g=E(t,["googleSearchRetrieval"]);g!=null&&_(e,["googleSearchRetrieval"],g);const d=E(t,["urlContext"]);return d!=null&&_(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Al;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Al||(Al={}));class pc{constructor(e,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,i)}init(e,r,n){var i,s;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!n||Object.keys(n).length===0?l={config:{}}:typeof n=="object"?l=Object.assign({},n):l=n,l.config&&(l.config.pageToken=r.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tz extends gl{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new pc(Al.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(e){const r=gT(this.apiClient,e),n=r._url,i=Ut("{model}:batchGenerateContent",n),c=r.batch.inputConfig.requests,g=c.requests,d=[];for(const m of g){const C=Object.assign({},m);if(C.systemInstruction){const b=C.systemInstruction;delete C.systemInstruction;const N=C.request;N.systemInstruction=b,C.request=N}d.push(C)}return c.requests=d,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const s=this.getGcsUri(e),l=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?n.dest=`${s.slice(0,-6)}/dest`:n.dest=`${s}_dest_${i}`;else if(l)n.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=qK(this.apiClient,e);return c=Ut("batchPredictionJobs",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),l.then(m=>w2(m))}else{const d=gT(this.apiClient,e);return c=Ut("{model}:batchGenerateContent",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>l1(m))}}async createEmbeddingsInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=JK(this.apiClient,e);return s=Ut("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>l1(g))}}async get(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=uz(this.apiClient,e);return c=Ut("batchPredictionJobs/{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),l.then(m=>w2(m))}else{const d=cz(this.apiClient,e);return c=Ut("batches/{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>l1(m))}}async cancel(e){var r,n,i,s;let l="",c={};if(this.apiClient.isVertexAI()){const g=GK(this.apiClient,e);l=Ut("batchPredictionJobs/{name}:cancel",g._url),c=g._query,delete g._url,delete g._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const g=jK(this.apiClient,e);l=Ut("batches/{name}:cancel",g._url),c=g._query,delete g._url,delete g._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=vz(e);return c=Ut("batchPredictionJobs",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=Cz(m),b=new uT;return Object.assign(b,C),b})}else{const d=wz(e);return c=Ut("batches",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=yz(m),b=new uT;return Object.assign(b,C),b})}}async delete(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=$K(this.apiClient,e);return c=Ut("batchPredictionJobs/{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>tz(m))}else{const d=ZK(this.apiClient,e);return c=Ut("batches/{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>ez(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sz(t){const e={},r=E(t,["data"]);if(r!=null&&_(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&_(e,["mimeType"],n),e}function pT(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Jz(s))),_(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&_(e,["role"],n),e}function Iz(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&_(e,["ttl"],n);const i=E(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const s=E(t,["displayName"]);e!==void 0&&s!=null&&_(e,["displayName"],s);const l=E(t,["contents"]);if(e!==void 0&&l!=null){let m=Oa(l);Array.isArray(m)&&(m=m.map(C=>pT(C))),_(e,["contents"],m)}const c=E(t,["systemInstruction"]);e!==void 0&&c!=null&&_(e,["systemInstruction"],pT(us(c)));const g=E(t,["tools"]);if(e!==void 0&&g!=null){let m=g;Array.isArray(m)&&(m=m.map(C=>$z(C))),_(e,["tools"],m)}const d=E(t,["toolConfig"]);if(e!==void 0&&d!=null&&_(e,["toolConfig"],Zz(d)),E(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Nz(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&_(e,["ttl"],n);const i=E(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const s=E(t,["displayName"]);e!==void 0&&s!=null&&_(e,["displayName"],s);const l=E(t,["contents"]);if(e!==void 0&&l!=null){let C=Oa(l);Array.isArray(C)&&(C=C.map(b=>b)),_(e,["contents"],C)}const c=E(t,["systemInstruction"]);e!==void 0&&c!=null&&_(e,["systemInstruction"],us(c));const g=E(t,["tools"]);if(e!==void 0&&g!=null){let C=g;Array.isArray(C)&&(C=C.map(b=>eW(b))),_(e,["tools"],C)}const d=E(t,["toolConfig"]);e!==void 0&&d!=null&&_(e,["toolConfig"],d);const m=E(t,["kmsKeyName"]);return e!==void 0&&m!=null&&_(e,["encryption_spec","kmsKeyName"],m),r}function Fz(t,e){const r={},n=E(e,["model"]);n!=null&&_(r,["model"],D3(t,n));const i=E(e,["config"]);return i!=null&&Iz(i,r),r}function Rz(t,e){const r={},n=E(e,["model"]);n!=null&&_(r,["model"],D3(t,n));const i=E(e,["config"]);return i!=null&&Nz(i,r),r}function kz(t,e){const r={},n=E(e,["name"]);return n!=null&&_(r,["_url","name"],pl(t,n)),r}function Dz(t,e){const r={},n=E(e,["name"]);return n!=null&&_(r,["_url","name"],pl(t,n)),r}function Uz(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&_(e,["sdkHttpResponse"],r),e}function Mz(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&_(e,["sdkHttpResponse"],r),e}function Oz(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&_(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&_(e,["mimeType"],n),e}function Lz(t){const e={},r=E(t,["id"]);r!=null&&_(e,["id"],r);const n=E(t,["args"]);n!=null&&_(e,["args"],n);const i=E(t,["name"]);if(i!=null&&_(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qz(t){const e={},r=E(t,["allowedFunctionNames"]);r!=null&&_(e,["allowedFunctionNames"],r);const n=E(t,["mode"]);if(n!=null&&_(e,["mode"],n),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Pz(t){const e={},r=E(t,["description"]);r!=null&&_(e,["description"],r);const n=E(t,["name"]);n!=null&&_(e,["name"],n);const i=E(t,["parameters"]);i!=null&&_(e,["parameters"],i);const s=E(t,["parametersJsonSchema"]);s!=null&&_(e,["parametersJsonSchema"],s);const l=E(t,["response"]);l!=null&&_(e,["response"],l);const c=E(t,["responseJsonSchema"]);if(c!=null&&_(e,["responseJsonSchema"],c),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Hz(t,e){const r={},n=E(e,["name"]);return n!=null&&_(r,["_url","name"],pl(t,n)),r}function Vz(t,e){const r={},n=E(e,["name"]);return n!=null&&_(r,["_url","name"],pl(t,n)),r}function jz(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&_(e,["enableWidget"],r),e}function Gz(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&_(e,["timeRangeFilter"],r),e}function Kz(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&_(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),r}function zz(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&_(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),r}function Wz(t){const e={},r=E(t,["config"]);return r!=null&&Kz(r,e),e}function Xz(t){const e={},r=E(t,["config"]);return r!=null&&zz(r,e),e}function qz(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const i=E(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["cachedContents"],s)}return e}function Yz(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const i=E(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["cachedContents"],s)}return e}function Jz(t){const e={},r=E(t,["mediaResolution"]);r!=null&&_(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&_(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&_(e,["fileData"],Oz(s));const l=E(t,["functionCall"]);l!=null&&_(e,["functionCall"],Lz(l));const c=E(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const g=E(t,["inlineData"]);g!=null&&_(e,["inlineData"],Sz(g));const d=E(t,["text"]);d!=null&&_(e,["text"],d);const m=E(t,["thought"]);m!=null&&_(e,["thought"],m);const C=E(t,["thoughtSignature"]);C!=null&&_(e,["thoughtSignature"],C);const b=E(t,["videoMetadata"]);return b!=null&&_(e,["videoMetadata"],b),e}function Zz(t){const e={},r=E(t,["retrievalConfig"]);r!=null&&_(e,["retrievalConfig"],r);const n=E(t,["functionCallingConfig"]);return n!=null&&_(e,["functionCallingConfig"],Qz(n)),e}function $z(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&_(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&_(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(C=>C)),_(e,["functionDeclarations"],m)}const l=E(t,["googleMaps"]);l!=null&&_(e,["googleMaps"],jz(l));const c=E(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],Gz(c));const g=E(t,["googleSearchRetrieval"]);g!=null&&_(e,["googleSearchRetrieval"],g);const d=E(t,["urlContext"]);return d!=null&&_(e,["urlContext"],d),e}function eW(t){const e={},r=E(t,["retrieval"]);r!=null&&_(e,["retrieval"],r);const n=E(t,["computerUse"]);if(n!=null&&_(e,["computerUse"],n),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=E(t,["codeExecution"]);i!=null&&_(e,["codeExecution"],i);const s=E(t,["enterpriseWebSearch"]);s!=null&&_(e,["enterpriseWebSearch"],s);const l=E(t,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(b=>Pz(b))),_(e,["functionDeclarations"],C)}const c=E(t,["googleMaps"]);c!=null&&_(e,["googleMaps"],c);const g=E(t,["googleSearch"]);g!=null&&_(e,["googleSearch"],g);const d=E(t,["googleSearchRetrieval"]);d!=null&&_(e,["googleSearchRetrieval"],d);const m=E(t,["urlContext"]);return m!=null&&_(e,["urlContext"],m),e}function tW(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&_(e,["ttl"],n);const i=E(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),r}function rW(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&_(e,["ttl"],n);const i=E(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),r}function nW(t,e){const r={},n=E(e,["name"]);n!=null&&_(r,["_url","name"],pl(t,n));const i=E(e,["config"]);return i!=null&&tW(i,r),r}function iW(t,e){const r={},n=E(e,["name"]);n!=null&&_(r,["_url","name"],pl(t,n));const i=E(e,["config"]);return i!=null&&rW(i,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sW extends gl{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new pc(Al.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=Rz(this.apiClient,e);return c=Ut("cachedContents",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const d=Fz(this.apiClient,e);return c=Ut("cachedContents",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async get(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=Vz(this.apiClient,e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const d=Hz(this.apiClient,e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async delete(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=Dz(this.apiClient,e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=Mz(m),b=new AT;return Object.assign(b,C),b})}else{const d=kz(this.apiClient,e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=Uz(m),b=new AT;return Object.assign(b,C),b})}}async update(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=iW(this.apiClient,e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const d=nW(this.apiClient,e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async listInternal(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=Xz(e);return c=Ut("cachedContents",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=Yz(m),b=new cT;return Object.assign(b,C),b})}else{const d=Wz(e);return c=Ut("cachedContents",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=qz(m),b=new cT;return Object.assign(b,C),b})}}}function V1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function mT(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fr(t){return this instanceof fr?(this.v=t,this):new fr(t)}function io(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(N){return function(R){return Promise.resolve(R).then(N,C)}}function c(N,R){n[N]&&(i[N]=function(k){return new Promise(function(U,j){s.push([N,k,U,j])>1||g(N,k)})},R&&(i[N]=R(i[N])))}function g(N,R){try{d(n[N](R))}catch(k){b(s[0][3],k)}}function d(N){N.value instanceof fr?Promise.resolve(N.value.v).then(m,C):b(s[0][2],N)}function m(N){g("next",N)}function C(N){g("throw",N)}function b(N,R){N(R),s.shift(),s.length&&g(s[0][0],s[0][1])}}function so(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof mT=="function"?mT(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(l){return new Promise(function(c,g){l=t[s](l),i(c,g,l.done,l.value)})}}function i(s,l,c,g){Promise.resolve(g).then(function(d){s({value:d,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aW(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:W3(r)}function W3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function oW(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function xT(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const i=[];let s=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),s&&!W3(t[n])&&(s=!1),n++;s?e.push(...i):e.pop()}return e}class lW{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new AW(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class AW{constructor(e,r,n,i={},s=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),oW(s)}async sendMessage(e){var r;await this.sendPromise;const n=us(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var s,l,c;const g=await i,d=(l=(s=g.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,m=g.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let b=[];m!=null&&(b=(c=m.slice(C))!==null&&c!==void 0?c:[]);const N=d?[d]:[];this.recordHistory(n,N,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var r;await this.sendPromise;const n=us(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,n)}getHistory(e=!1){const r=e?xT(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){return io(this,arguments,function*(){var i,s,l,c,g,d;const m=[];try{for(var C=!0,b=so(e),N;N=yield fr(b.next()),i=N.done,!i;C=!0){c=N.value,C=!1;const R=c;if(aW(R)){const k=(d=(g=R.candidates)===null||g===void 0?void 0:g[0])===null||d===void 0?void 0:d.content;k!==void 0&&m.push(k)}yield yield fr(R)}}catch(R){s={error:R}}finally{try{!C&&!i&&(l=b.return)&&(yield fr(l.call(b)))}finally{if(s)throw s.error}}this.recordHistory(r,m)})}recordHistory(e,r,n){let i=[];r.length>0&&r.every(s=>s.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...xT(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class If extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,If.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cW(t){const e={},r=E(t,["file"]);return r!=null&&_(e,["file"],r),e}function uW(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&_(e,["sdkHttpResponse"],r),e}function fW(t){const e={},r=E(t,["name"]);return r!=null&&_(e,["_url","file"],P3(r)),e}function dW(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&_(e,["sdkHttpResponse"],r),e}function hW(t){const e={},r=E(t,["name"]);return r!=null&&_(e,["_url","file"],P3(r)),e}function gW(t){const e={},r=E(t,["uris"]);return r!=null&&_(e,["uris"],r),e}function pW(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&_(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),r}function mW(t){const e={},r=E(t,["config"]);return r!=null&&pW(r,e),e}function xW(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const i=E(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["files"],s)}return e}function wW(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["files"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),_(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vW extends gl{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new pc(Al.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mW(e);return s=Ut("files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:g.headers},m})),i.then(g=>{const d=xW(g),m=new yK;return Object.assign(m,d),m})}}async createInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=cW(e);return s=Ut("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>{const d=uW(g),m=new CK;return Object.assign(m,d),m})}}async get(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hW(e);return s=Ut("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>g)}}async delete(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=fW(e);return s=Ut("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:g.headers},m})),i.then(g=>{const d=dW(g),m=new EK;return Object.assign(m,d),m})}}async registerFilesInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=gW(e);return s=Ut("files:register",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>{const d=wW(g),m=new bK;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A1(t){const e={},r=E(t,["data"]);if(r!=null&&_(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&_(e,["mimeType"],n),e}function yW(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>OW(s))),_(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&_(e,["role"],n),e}function CW(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&_(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&_(e,["mimeType"],n),e}function EW(t){const e={},r=E(t,["id"]);r!=null&&_(e,["id"],r);const n=E(t,["args"]);n!=null&&_(e,["args"],n);const i=E(t,["name"]);if(i!=null&&_(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bW(t){const e={},r=E(t,["description"]);r!=null&&_(e,["description"],r);const n=E(t,["name"]);n!=null&&_(e,["name"],n);const i=E(t,["parameters"]);i!=null&&_(e,["parameters"],i);const s=E(t,["parametersJsonSchema"]);s!=null&&_(e,["parametersJsonSchema"],s);const l=E(t,["response"]);l!=null&&_(e,["response"],l);const c=E(t,["responseJsonSchema"]);if(c!=null&&_(e,["responseJsonSchema"],c),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function BW(t){const e={},r=E(t,["modelSelectionConfig"]);r!=null&&_(e,["modelConfig"],r);const n=E(t,["responseJsonSchema"]);n!=null&&_(e,["responseJsonSchema"],n);const i=E(t,["audioTimestamp"]);i!=null&&_(e,["audioTimestamp"],i);const s=E(t,["candidateCount"]);s!=null&&_(e,["candidateCount"],s);const l=E(t,["enableAffectiveDialog"]);l!=null&&_(e,["enableAffectiveDialog"],l);const c=E(t,["frequencyPenalty"]);c!=null&&_(e,["frequencyPenalty"],c);const g=E(t,["logprobs"]);g!=null&&_(e,["logprobs"],g);const d=E(t,["maxOutputTokens"]);d!=null&&_(e,["maxOutputTokens"],d);const m=E(t,["mediaResolution"]);m!=null&&_(e,["mediaResolution"],m);const C=E(t,["presencePenalty"]);C!=null&&_(e,["presencePenalty"],C);const b=E(t,["responseLogprobs"]);b!=null&&_(e,["responseLogprobs"],b);const N=E(t,["responseMimeType"]);N!=null&&_(e,["responseMimeType"],N);const R=E(t,["responseModalities"]);R!=null&&_(e,["responseModalities"],R);const k=E(t,["responseSchema"]);k!=null&&_(e,["responseSchema"],k);const U=E(t,["routingConfig"]);U!=null&&_(e,["routingConfig"],U);const j=E(t,["seed"]);j!=null&&_(e,["seed"],j);const K=E(t,["speechConfig"]);K!=null&&_(e,["speechConfig"],K);const Q=E(t,["stopSequences"]);Q!=null&&_(e,["stopSequences"],Q);const J=E(t,["temperature"]);J!=null&&_(e,["temperature"],J);const re=E(t,["thinkingConfig"]);re!=null&&_(e,["thinkingConfig"],re);const G=E(t,["topK"]);G!=null&&_(e,["topK"],G);const M=E(t,["topP"]);if(M!=null&&_(e,["topP"],M),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _W(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&_(e,["enableWidget"],r),e}function TW(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&_(e,["timeRangeFilter"],r),e}function SW(t,e){const r={},n=E(t,["generationConfig"]);e!==void 0&&n!=null&&_(e,["setup","generationConfig"],n);const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","temperature"],s);const l=E(t,["topP"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","topP"],l);const c=E(t,["topK"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","topK"],c);const g=E(t,["maxOutputTokens"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","maxOutputTokens"],g);const d=E(t,["mediaResolution"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","mediaResolution"],d);const m=E(t,["seed"]);e!==void 0&&m!=null&&_(e,["setup","generationConfig","seed"],m);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&_(e,["setup","generationConfig","speechConfig"],Pw(C));const b=E(t,["thinkingConfig"]);e!==void 0&&b!=null&&_(e,["setup","generationConfig","thinkingConfig"],b);const N=E(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],N);const R=E(t,["systemInstruction"]);e!==void 0&&R!=null&&_(e,["setup","systemInstruction"],yW(us(R)));const k=E(t,["tools"]);if(e!==void 0&&k!=null){let G=Qu(k);Array.isArray(G)&&(G=G.map(M=>QW(Lu(M)))),_(e,["setup","tools"],G)}const U=E(t,["sessionResumption"]);e!==void 0&&U!=null&&_(e,["setup","sessionResumption"],LW(U));const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&_(e,["setup","inputAudioTranscription"],j);const K=E(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&_(e,["setup","outputAudioTranscription"],K);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&_(e,["setup","realtimeInputConfig"],Q);const J=E(t,["contextWindowCompression"]);e!==void 0&&J!=null&&_(e,["setup","contextWindowCompression"],J);const re=E(t,["proactivity"]);if(e!==void 0&&re!=null&&_(e,["setup","proactivity"],re),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function IW(t,e){const r={},n=E(t,["generationConfig"]);e!==void 0&&n!=null&&_(e,["setup","generationConfig"],BW(n));const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","temperature"],s);const l=E(t,["topP"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","topP"],l);const c=E(t,["topK"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","topK"],c);const g=E(t,["maxOutputTokens"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","maxOutputTokens"],g);const d=E(t,["mediaResolution"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","mediaResolution"],d);const m=E(t,["seed"]);e!==void 0&&m!=null&&_(e,["setup","generationConfig","seed"],m);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&_(e,["setup","generationConfig","speechConfig"],Pw(C));const b=E(t,["thinkingConfig"]);e!==void 0&&b!=null&&_(e,["setup","generationConfig","thinkingConfig"],b);const N=E(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],N);const R=E(t,["systemInstruction"]);e!==void 0&&R!=null&&_(e,["setup","systemInstruction"],us(R));const k=E(t,["tools"]);if(e!==void 0&&k!=null){let M=Qu(k);Array.isArray(M)&&(M=M.map(P=>PW(Lu(P)))),_(e,["setup","tools"],M)}const U=E(t,["sessionResumption"]);e!==void 0&&U!=null&&_(e,["setup","sessionResumption"],U);const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&_(e,["setup","inputAudioTranscription"],j);const K=E(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&_(e,["setup","outputAudioTranscription"],K);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&_(e,["setup","realtimeInputConfig"],Q);const J=E(t,["contextWindowCompression"]);e!==void 0&&J!=null&&_(e,["setup","contextWindowCompression"],J);const re=E(t,["proactivity"]);e!==void 0&&re!=null&&_(e,["setup","proactivity"],re);const G=E(t,["explicitVadSignal"]);return e!==void 0&&G!=null&&_(e,["setup","explicitVadSignal"],G),r}function NW(t,e){const r={},n=E(e,["model"]);n!=null&&_(r,["setup","model"],Yr(t,n));const i=E(e,["config"]);return i!=null&&_(r,["config"],SW(i,r)),r}function FW(t,e){const r={},n=E(e,["model"]);n!=null&&_(r,["setup","model"],Yr(t,n));const i=E(e,["config"]);return i!=null&&_(r,["config"],IW(i,r)),r}function RW(t){const e={},r=E(t,["musicGenerationConfig"]);return r!=null&&_(e,["musicGenerationConfig"],r),e}function kW(t){const e={},r=E(t,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),_(e,["weightedPrompts"],n)}return e}function DW(t){const e={},r=E(t,["media"]);if(r!=null){let d=U3(r);Array.isArray(d)&&(d=d.map(m=>A1(m))),_(e,["mediaChunks"],d)}const n=E(t,["audio"]);n!=null&&_(e,["audio"],A1(O3(n)));const i=E(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const s=E(t,["video"]);s!=null&&_(e,["video"],A1(M3(s)));const l=E(t,["text"]);l!=null&&_(e,["text"],l);const c=E(t,["activityStart"]);c!=null&&_(e,["activityStart"],c);const g=E(t,["activityEnd"]);return g!=null&&_(e,["activityEnd"],g),e}function UW(t){const e={},r=E(t,["media"]);if(r!=null){let d=U3(r);Array.isArray(d)&&(d=d.map(m=>m)),_(e,["mediaChunks"],d)}const n=E(t,["audio"]);n!=null&&_(e,["audio"],O3(n));const i=E(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const s=E(t,["video"]);s!=null&&_(e,["video"],M3(s));const l=E(t,["text"]);l!=null&&_(e,["text"],l);const c=E(t,["activityStart"]);c!=null&&_(e,["activityStart"],c);const g=E(t,["activityEnd"]);return g!=null&&_(e,["activityEnd"],g),e}function MW(t){const e={},r=E(t,["setupComplete"]);r!=null&&_(e,["setupComplete"],r);const n=E(t,["serverContent"]);n!=null&&_(e,["serverContent"],n);const i=E(t,["toolCall"]);i!=null&&_(e,["toolCall"],i);const s=E(t,["toolCallCancellation"]);s!=null&&_(e,["toolCallCancellation"],s);const l=E(t,["usageMetadata"]);l!=null&&_(e,["usageMetadata"],HW(l));const c=E(t,["goAway"]);c!=null&&_(e,["goAway"],c);const g=E(t,["sessionResumptionUpdate"]);g!=null&&_(e,["sessionResumptionUpdate"],g);const d=E(t,["voiceActivityDetectionSignal"]);d!=null&&_(e,["voiceActivityDetectionSignal"],d);const m=E(t,["voiceActivity"]);return m!=null&&_(e,["voiceActivity"],VW(m)),e}function OW(t){const e={},r=E(t,["mediaResolution"]);r!=null&&_(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&_(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&_(e,["fileData"],CW(s));const l=E(t,["functionCall"]);l!=null&&_(e,["functionCall"],EW(l));const c=E(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const g=E(t,["inlineData"]);g!=null&&_(e,["inlineData"],A1(g));const d=E(t,["text"]);d!=null&&_(e,["text"],d);const m=E(t,["thought"]);m!=null&&_(e,["thought"],m);const C=E(t,["thoughtSignature"]);C!=null&&_(e,["thoughtSignature"],C);const b=E(t,["videoMetadata"]);return b!=null&&_(e,["videoMetadata"],b),e}function LW(t){const e={},r=E(t,["handle"]);if(r!=null&&_(e,["handle"],r),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QW(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&_(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&_(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(C=>C)),_(e,["functionDeclarations"],m)}const l=E(t,["googleMaps"]);l!=null&&_(e,["googleMaps"],_W(l));const c=E(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],TW(c));const g=E(t,["googleSearchRetrieval"]);g!=null&&_(e,["googleSearchRetrieval"],g);const d=E(t,["urlContext"]);return d!=null&&_(e,["urlContext"],d),e}function PW(t){const e={},r=E(t,["retrieval"]);r!=null&&_(e,["retrieval"],r);const n=E(t,["computerUse"]);if(n!=null&&_(e,["computerUse"],n),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=E(t,["codeExecution"]);i!=null&&_(e,["codeExecution"],i);const s=E(t,["enterpriseWebSearch"]);s!=null&&_(e,["enterpriseWebSearch"],s);const l=E(t,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(b=>bW(b))),_(e,["functionDeclarations"],C)}const c=E(t,["googleMaps"]);c!=null&&_(e,["googleMaps"],c);const g=E(t,["googleSearch"]);g!=null&&_(e,["googleSearch"],g);const d=E(t,["googleSearchRetrieval"]);d!=null&&_(e,["googleSearchRetrieval"],d);const m=E(t,["urlContext"]);return m!=null&&_(e,["urlContext"],m),e}function HW(t){const e={},r=E(t,["promptTokenCount"]);r!=null&&_(e,["promptTokenCount"],r);const n=E(t,["cachedContentTokenCount"]);n!=null&&_(e,["cachedContentTokenCount"],n);const i=E(t,["candidatesTokenCount"]);i!=null&&_(e,["responseTokenCount"],i);const s=E(t,["toolUsePromptTokenCount"]);s!=null&&_(e,["toolUsePromptTokenCount"],s);const l=E(t,["thoughtsTokenCount"]);l!=null&&_(e,["thoughtsTokenCount"],l);const c=E(t,["totalTokenCount"]);c!=null&&_(e,["totalTokenCount"],c);const g=E(t,["promptTokensDetails"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(R=>R)),_(e,["promptTokensDetails"],N)}const d=E(t,["cacheTokensDetails"]);if(d!=null){let N=d;Array.isArray(N)&&(N=N.map(R=>R)),_(e,["cacheTokensDetails"],N)}const m=E(t,["candidatesTokensDetails"]);if(m!=null){let N=m;Array.isArray(N)&&(N=N.map(R=>R)),_(e,["responseTokensDetails"],N)}const C=E(t,["toolUsePromptTokensDetails"]);if(C!=null){let N=C;Array.isArray(N)&&(N=N.map(R=>R)),_(e,["toolUsePromptTokensDetails"],N)}const b=E(t,["trafficType"]);return b!=null&&_(e,["trafficType"],b),e}function VW(t){const e={},r=E(t,["type"]);return r!=null&&_(e,["voiceActivityType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jW(t,e){const r={},n=E(t,["data"]);if(n!=null&&_(r,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=E(t,["mimeType"]);return i!=null&&_(r,["mimeType"],i),r}function GW(t,e){const r={},n=E(t,["content"]);n!=null&&_(r,["content"],n);const i=E(t,["citationMetadata"]);i!=null&&_(r,["citationMetadata"],KW(i));const s=E(t,["tokenCount"]);s!=null&&_(r,["tokenCount"],s);const l=E(t,["finishReason"]);l!=null&&_(r,["finishReason"],l);const c=E(t,["avgLogprobs"]);c!=null&&_(r,["avgLogprobs"],c);const g=E(t,["groundingMetadata"]);g!=null&&_(r,["groundingMetadata"],g);const d=E(t,["index"]);d!=null&&_(r,["index"],d);const m=E(t,["logprobsResult"]);m!=null&&_(r,["logprobsResult"],m);const C=E(t,["safetyRatings"]);if(C!=null){let N=C;Array.isArray(N)&&(N=N.map(R=>R)),_(r,["safetyRatings"],N)}const b=E(t,["urlContextMetadata"]);return b!=null&&_(r,["urlContextMetadata"],b),r}function KW(t,e){const r={},n=E(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),_(r,["citations"],i)}return r}function zW(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["contents"]);if(s!=null){let l=Oa(s);Array.isArray(l)&&(l=l.map(c=>c)),_(n,["contents"],l)}return n}function WW(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(r,["tokensInfo"],s)}return r}function XW(t,e){const r={},n=E(t,["values"]);n!=null&&_(r,["values"],n);const i=E(t,["statistics"]);return i!=null&&_(r,["statistics"],qW(i)),r}function qW(t,e){const r={},n=E(t,["truncated"]);n!=null&&_(r,["truncated"],n);const i=E(t,["token_count"]);return i!=null&&_(r,["tokenCount"],i),r}function wg(t,e){const r={},n=E(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>iq(l))),_(r,["parts"],s)}const i=E(t,["role"]);return i!=null&&_(r,["role"],i),r}function YW(t,e){const r={},n=E(t,["controlType"]);n!=null&&_(r,["controlType"],n);const i=E(t,["enableControlImageComputation"]);return i!=null&&_(r,["computeControl"],i),r}function JW(t,e){const r={};if(E(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(E(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(E(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function ZW(t,e,r){const n={},i=E(t,["systemInstruction"]);e!==void 0&&i!=null&&_(e,["systemInstruction"],us(i));const s=E(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(g=>J3(g))),_(e,["tools"],c)}const l=E(t,["generationConfig"]);return e!==void 0&&l!=null&&_(e,["generationConfig"],jX(l)),n}function $W(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["contents"]);if(s!=null){let c=Oa(s);Array.isArray(c)&&(c=c.map(g=>wg(g))),_(n,["contents"],c)}const l=E(e,["config"]);return l!=null&&JW(l),n}function eX(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["contents"]);if(s!=null){let c=Oa(s);Array.isArray(c)&&(c=c.map(g=>g)),_(n,["contents"],c)}const l=E(e,["config"]);return l!=null&&ZW(l,n),n}function tX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["totalTokens"]);i!=null&&_(r,["totalTokens"],i);const s=E(t,["cachedContentTokenCount"]);return s!=null&&_(r,["cachedContentTokenCount"],s),r}function rX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["totalTokens"]);return i!=null&&_(r,["totalTokens"],i),r}function nX(t,e,r){const n={},i=E(e,["model"]);return i!=null&&_(n,["_url","name"],Yr(t,i)),n}function iX(t,e,r){const n={},i=E(e,["model"]);return i!=null&&_(n,["_url","name"],Yr(t,i)),n}function sX(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&_(r,["sdkHttpResponse"],n),r}function aX(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&_(r,["sdkHttpResponse"],n),r}function oX(t,e,r){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const s=E(t,["negativePrompt"]);e!==void 0&&s!=null&&_(e,["parameters","negativePrompt"],s);const l=E(t,["numberOfImages"]);e!==void 0&&l!=null&&_(e,["parameters","sampleCount"],l);const c=E(t,["aspectRatio"]);e!==void 0&&c!=null&&_(e,["parameters","aspectRatio"],c);const g=E(t,["guidanceScale"]);e!==void 0&&g!=null&&_(e,["parameters","guidanceScale"],g);const d=E(t,["seed"]);e!==void 0&&d!=null&&_(e,["parameters","seed"],d);const m=E(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&_(e,["parameters","safetySetting"],m);const C=E(t,["personGeneration"]);e!==void 0&&C!=null&&_(e,["parameters","personGeneration"],C);const b=E(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&_(e,["parameters","includeSafetyAttributes"],b);const N=E(t,["includeRaiReason"]);e!==void 0&&N!=null&&_(e,["parameters","includeRaiReason"],N);const R=E(t,["language"]);e!==void 0&&R!=null&&_(e,["parameters","language"],R);const k=E(t,["outputMimeType"]);e!==void 0&&k!=null&&_(e,["parameters","outputOptions","mimeType"],k);const U=E(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&_(e,["parameters","outputOptions","compressionQuality"],U);const j=E(t,["addWatermark"]);e!==void 0&&j!=null&&_(e,["parameters","addWatermark"],j);const K=E(t,["labels"]);e!==void 0&&K!=null&&_(e,["labels"],K);const Q=E(t,["editMode"]);e!==void 0&&Q!=null&&_(e,["parameters","editMode"],Q);const J=E(t,["baseSteps"]);return e!==void 0&&J!=null&&_(e,["parameters","editConfig","baseSteps"],J),n}function lX(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["prompt"]);s!=null&&_(n,["instances[0]","prompt"],s);const l=E(e,["referenceImages"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(d=>cq(d))),_(n,["instances[0]","referenceImages"],g)}const c=E(e,["config"]);return c!=null&&oX(c,n),n}function AX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>vg(l))),_(r,["generatedImages"],s)}return r}function cX(t,e,r){const n={},i=E(t,["taskType"]);e!==void 0&&i!=null&&_(e,["requests[]","taskType"],i);const s=E(t,["title"]);e!==void 0&&s!=null&&_(e,["requests[]","title"],s);const l=E(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&_(e,["requests[]","outputDimensionality"],l),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function uX(t,e,r){const n={},i=E(t,["taskType"]);e!==void 0&&i!=null&&_(e,["instances[]","task_type"],i);const s=E(t,["title"]);e!==void 0&&s!=null&&_(e,["instances[]","title"],s);const l=E(t,["outputDimensionality"]);e!==void 0&&l!=null&&_(e,["parameters","outputDimensionality"],l);const c=E(t,["mimeType"]);e!==void 0&&c!=null&&_(e,["instances[]","mimeType"],c);const g=E(t,["autoTruncate"]);return e!==void 0&&g!=null&&_(e,["parameters","autoTruncate"],g),n}function fX(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["contents"]);if(s!=null){let g=Ow(t,s);Array.isArray(g)&&(g=g.map(d=>d)),_(n,["requests[]","content"],g)}const l=E(e,["config"]);l!=null&&cX(l,n);const c=E(e,["model"]);return c!==void 0&&_(n,["requests[]","model"],Yr(t,c)),n}function dX(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["contents"]);if(s!=null){let c=Ow(t,s);Array.isArray(c)&&(c=c.map(g=>g)),_(n,["instances[]","content"],c)}const l=E(e,["config"]);return l!=null&&uX(l,n),n}function hX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),_(r,["embeddings"],l)}const s=E(t,["metadata"]);return s!=null&&_(r,["metadata"],s),r}function gX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>XW(c))),_(r,["embeddings"],l)}const s=E(t,["metadata"]);return s!=null&&_(r,["metadata"],s),r}function pX(t,e){const r={},n=E(t,["endpoint"]);n!=null&&_(r,["name"],n);const i=E(t,["deployedModelId"]);return i!=null&&_(r,["deployedModelId"],i),r}function mX(t,e){const r={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&_(r,["fileUri"],n);const i=E(t,["mimeType"]);return i!=null&&_(r,["mimeType"],i),r}function xX(t,e){const r={},n=E(t,["id"]);n!=null&&_(r,["id"],n);const i=E(t,["args"]);i!=null&&_(r,["args"],i);const s=E(t,["name"]);if(s!=null&&_(r,["name"],s),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function wX(t,e){const r={},n=E(t,["allowedFunctionNames"]);n!=null&&_(r,["allowedFunctionNames"],n);const i=E(t,["mode"]);if(i!=null&&_(r,["mode"],i),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}function vX(t,e){const r={},n=E(t,["description"]);n!=null&&_(r,["description"],n);const i=E(t,["name"]);i!=null&&_(r,["name"],i);const s=E(t,["parameters"]);s!=null&&_(r,["parameters"],s);const l=E(t,["parametersJsonSchema"]);l!=null&&_(r,["parametersJsonSchema"],l);const c=E(t,["response"]);c!=null&&_(r,["response"],c);const g=E(t,["responseJsonSchema"]);if(g!=null&&_(r,["responseJsonSchema"],g),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return r}function yX(t,e,r,n){const i={},s=E(e,["systemInstruction"]);r!==void 0&&s!=null&&_(r,["systemInstruction"],wg(us(s)));const l=E(e,["temperature"]);l!=null&&_(i,["temperature"],l);const c=E(e,["topP"]);c!=null&&_(i,["topP"],c);const g=E(e,["topK"]);g!=null&&_(i,["topK"],g);const d=E(e,["candidateCount"]);d!=null&&_(i,["candidateCount"],d);const m=E(e,["maxOutputTokens"]);m!=null&&_(i,["maxOutputTokens"],m);const C=E(e,["stopSequences"]);C!=null&&_(i,["stopSequences"],C);const b=E(e,["responseLogprobs"]);b!=null&&_(i,["responseLogprobs"],b);const N=E(e,["logprobs"]);N!=null&&_(i,["logprobs"],N);const R=E(e,["presencePenalty"]);R!=null&&_(i,["presencePenalty"],R);const k=E(e,["frequencyPenalty"]);k!=null&&_(i,["frequencyPenalty"],k);const U=E(e,["seed"]);U!=null&&_(i,["seed"],U);const j=E(e,["responseMimeType"]);j!=null&&_(i,["responseMimeType"],j);const K=E(e,["responseSchema"]);K!=null&&_(i,["responseSchema"],Lw(K));const Q=E(e,["responseJsonSchema"]);if(Q!=null&&_(i,["responseJsonSchema"],Q),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=E(e,["safetySettings"]);if(r!==void 0&&J!=null){let Ie=J;Array.isArray(Ie)&&(Ie=Ie.map(xe=>uq(xe))),_(r,["safetySettings"],Ie)}const re=E(e,["tools"]);if(r!==void 0&&re!=null){let Ie=Qu(re);Array.isArray(Ie)&&(Ie=Ie.map(xe=>xq(Lu(xe)))),_(r,["tools"],Ie)}const G=E(e,["toolConfig"]);if(r!==void 0&&G!=null&&_(r,["toolConfig"],mq(G)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=E(e,["cachedContent"]);r!==void 0&&M!=null&&_(r,["cachedContent"],pl(t,M));const P=E(e,["responseModalities"]);P!=null&&_(i,["responseModalities"],P);const O=E(e,["mediaResolution"]);O!=null&&_(i,["mediaResolution"],O);const ee=E(e,["speechConfig"]);if(ee!=null&&_(i,["speechConfig"],Qw(ee)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=E(e,["thinkingConfig"]);te!=null&&_(i,["thinkingConfig"],te);const W=E(e,["imageConfig"]);W!=null&&_(i,["imageConfig"],XX(W));const q=E(e,["enableEnhancedCivicAnswers"]);if(q!=null&&_(i,["enableEnhancedCivicAnswers"],q),E(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function CX(t,e,r,n){const i={},s=E(e,["systemInstruction"]);r!==void 0&&s!=null&&_(r,["systemInstruction"],us(s));const l=E(e,["temperature"]);l!=null&&_(i,["temperature"],l);const c=E(e,["topP"]);c!=null&&_(i,["topP"],c);const g=E(e,["topK"]);g!=null&&_(i,["topK"],g);const d=E(e,["candidateCount"]);d!=null&&_(i,["candidateCount"],d);const m=E(e,["maxOutputTokens"]);m!=null&&_(i,["maxOutputTokens"],m);const C=E(e,["stopSequences"]);C!=null&&_(i,["stopSequences"],C);const b=E(e,["responseLogprobs"]);b!=null&&_(i,["responseLogprobs"],b);const N=E(e,["logprobs"]);N!=null&&_(i,["logprobs"],N);const R=E(e,["presencePenalty"]);R!=null&&_(i,["presencePenalty"],R);const k=E(e,["frequencyPenalty"]);k!=null&&_(i,["frequencyPenalty"],k);const U=E(e,["seed"]);U!=null&&_(i,["seed"],U);const j=E(e,["responseMimeType"]);j!=null&&_(i,["responseMimeType"],j);const K=E(e,["responseSchema"]);K!=null&&_(i,["responseSchema"],Lw(K));const Q=E(e,["responseJsonSchema"]);Q!=null&&_(i,["responseJsonSchema"],Q);const J=E(e,["routingConfig"]);J!=null&&_(i,["routingConfig"],J);const re=E(e,["modelSelectionConfig"]);re!=null&&_(i,["modelConfig"],re);const G=E(e,["safetySettings"]);if(r!==void 0&&G!=null){let We=G;Array.isArray(We)&&(We=We.map(Ee=>Ee)),_(r,["safetySettings"],We)}const M=E(e,["tools"]);if(r!==void 0&&M!=null){let We=Qu(M);Array.isArray(We)&&(We=We.map(Ee=>J3(Lu(Ee)))),_(r,["tools"],We)}const P=E(e,["toolConfig"]);r!==void 0&&P!=null&&_(r,["toolConfig"],P);const O=E(e,["labels"]);r!==void 0&&O!=null&&_(r,["labels"],O);const ee=E(e,["cachedContent"]);r!==void 0&&ee!=null&&_(r,["cachedContent"],pl(t,ee));const te=E(e,["responseModalities"]);te!=null&&_(i,["responseModalities"],te);const W=E(e,["mediaResolution"]);W!=null&&_(i,["mediaResolution"],W);const q=E(e,["speechConfig"]);q!=null&&_(i,["speechConfig"],Qw(q));const Ie=E(e,["audioTimestamp"]);Ie!=null&&_(i,["audioTimestamp"],Ie);const xe=E(e,["thinkingConfig"]);xe!=null&&_(i,["thinkingConfig"],xe);const ge=E(e,["imageConfig"]);if(ge!=null&&_(i,["imageConfig"],qX(ge)),E(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ye=E(e,["modelArmorConfig"]);return r!==void 0&&ye!=null&&_(r,["modelArmorConfig"],ye),i}function wT(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["contents"]);if(s!=null){let c=Oa(s);Array.isArray(c)&&(c=c.map(g=>wg(g))),_(n,["contents"],c)}const l=E(e,["config"]);return l!=null&&_(n,["generationConfig"],yX(t,l,n)),n}function vT(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["contents"]);if(s!=null){let c=Oa(s);Array.isArray(c)&&(c=c.map(g=>g)),_(n,["contents"],c)}const l=E(e,["config"]);return l!=null&&_(n,["generationConfig"],CX(t,l,n)),n}function yT(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>GW(m))),_(r,["candidates"],d)}const s=E(t,["modelVersion"]);s!=null&&_(r,["modelVersion"],s);const l=E(t,["promptFeedback"]);l!=null&&_(r,["promptFeedback"],l);const c=E(t,["responseId"]);c!=null&&_(r,["responseId"],c);const g=E(t,["usageMetadata"]);return g!=null&&_(r,["usageMetadata"],g),r}function CT(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(C=>C)),_(r,["candidates"],m)}const s=E(t,["createTime"]);s!=null&&_(r,["createTime"],s);const l=E(t,["modelVersion"]);l!=null&&_(r,["modelVersion"],l);const c=E(t,["promptFeedback"]);c!=null&&_(r,["promptFeedback"],c);const g=E(t,["responseId"]);g!=null&&_(r,["responseId"],g);const d=E(t,["usageMetadata"]);return d!=null&&_(r,["usageMetadata"],d),r}function EX(t,e,r){const n={};if(E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=E(t,["numberOfImages"]);e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i);const s=E(t,["aspectRatio"]);e!==void 0&&s!=null&&_(e,["parameters","aspectRatio"],s);const l=E(t,["guidanceScale"]);if(e!==void 0&&l!=null&&_(e,["parameters","guidanceScale"],l),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=E(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&_(e,["parameters","safetySetting"],c);const g=E(t,["personGeneration"]);e!==void 0&&g!=null&&_(e,["parameters","personGeneration"],g);const d=E(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&_(e,["parameters","includeSafetyAttributes"],d);const m=E(t,["includeRaiReason"]);e!==void 0&&m!=null&&_(e,["parameters","includeRaiReason"],m);const C=E(t,["language"]);e!==void 0&&C!=null&&_(e,["parameters","language"],C);const b=E(t,["outputMimeType"]);e!==void 0&&b!=null&&_(e,["parameters","outputOptions","mimeType"],b);const N=E(t,["outputCompressionQuality"]);if(e!==void 0&&N!=null&&_(e,["parameters","outputOptions","compressionQuality"],N),E(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=E(t,["imageSize"]);if(e!==void 0&&R!=null&&_(e,["parameters","sampleImageSize"],R),E(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function bX(t,e,r){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const s=E(t,["negativePrompt"]);e!==void 0&&s!=null&&_(e,["parameters","negativePrompt"],s);const l=E(t,["numberOfImages"]);e!==void 0&&l!=null&&_(e,["parameters","sampleCount"],l);const c=E(t,["aspectRatio"]);e!==void 0&&c!=null&&_(e,["parameters","aspectRatio"],c);const g=E(t,["guidanceScale"]);e!==void 0&&g!=null&&_(e,["parameters","guidanceScale"],g);const d=E(t,["seed"]);e!==void 0&&d!=null&&_(e,["parameters","seed"],d);const m=E(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&_(e,["parameters","safetySetting"],m);const C=E(t,["personGeneration"]);e!==void 0&&C!=null&&_(e,["parameters","personGeneration"],C);const b=E(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&_(e,["parameters","includeSafetyAttributes"],b);const N=E(t,["includeRaiReason"]);e!==void 0&&N!=null&&_(e,["parameters","includeRaiReason"],N);const R=E(t,["language"]);e!==void 0&&R!=null&&_(e,["parameters","language"],R);const k=E(t,["outputMimeType"]);e!==void 0&&k!=null&&_(e,["parameters","outputOptions","mimeType"],k);const U=E(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&_(e,["parameters","outputOptions","compressionQuality"],U);const j=E(t,["addWatermark"]);e!==void 0&&j!=null&&_(e,["parameters","addWatermark"],j);const K=E(t,["labels"]);e!==void 0&&K!=null&&_(e,["labels"],K);const Q=E(t,["imageSize"]);e!==void 0&&Q!=null&&_(e,["parameters","sampleImageSize"],Q);const J=E(t,["enhancePrompt"]);return e!==void 0&&J!=null&&_(e,["parameters","enhancePrompt"],J),n}function BX(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["prompt"]);s!=null&&_(n,["instances[0]","prompt"],s);const l=E(e,["config"]);return l!=null&&EX(l,n),n}function _X(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["prompt"]);s!=null&&_(n,["instances[0]","prompt"],s);const l=E(e,["config"]);return l!=null&&bX(l,n),n}function TX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>QX(c))),_(r,["generatedImages"],l)}const s=E(t,["positivePromptSafetyAttributes"]);return s!=null&&_(r,["positivePromptSafetyAttributes"],q3(s)),r}function SX(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>vg(c))),_(r,["generatedImages"],l)}const s=E(t,["positivePromptSafetyAttributes"]);return s!=null&&_(r,["positivePromptSafetyAttributes"],Y3(s)),r}function IX(t,e,r){const n={},i=E(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i),E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=E(t,["durationSeconds"]);if(e!==void 0&&s!=null&&_(e,["parameters","durationSeconds"],s),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=E(t,["aspectRatio"]);e!==void 0&&l!=null&&_(e,["parameters","aspectRatio"],l);const c=E(t,["resolution"]);e!==void 0&&c!=null&&_(e,["parameters","resolution"],c);const g=E(t,["personGeneration"]);if(e!==void 0&&g!=null&&_(e,["parameters","personGeneration"],g),E(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=E(t,["negativePrompt"]);e!==void 0&&d!=null&&_(e,["parameters","negativePrompt"],d);const m=E(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&_(e,["parameters","enhancePrompt"],m),E(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const C=E(t,["lastFrame"]);e!==void 0&&C!=null&&_(e,["instances[0]","lastFrame"],yg(C));const b=E(t,["referenceImages"]);if(e!==void 0&&b!=null){let N=b;Array.isArray(N)&&(N=N.map(R=>Fq(R))),_(e,["instances[0]","referenceImages"],N)}if(E(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(E(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function NX(t,e,r){const n={},i=E(t,["numberOfVideos"]);e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i);const s=E(t,["outputGcsUri"]);e!==void 0&&s!=null&&_(e,["parameters","storageUri"],s);const l=E(t,["fps"]);e!==void 0&&l!=null&&_(e,["parameters","fps"],l);const c=E(t,["durationSeconds"]);e!==void 0&&c!=null&&_(e,["parameters","durationSeconds"],c);const g=E(t,["seed"]);e!==void 0&&g!=null&&_(e,["parameters","seed"],g);const d=E(t,["aspectRatio"]);e!==void 0&&d!=null&&_(e,["parameters","aspectRatio"],d);const m=E(t,["resolution"]);e!==void 0&&m!=null&&_(e,["parameters","resolution"],m);const C=E(t,["personGeneration"]);e!==void 0&&C!=null&&_(e,["parameters","personGeneration"],C);const b=E(t,["pubsubTopic"]);e!==void 0&&b!=null&&_(e,["parameters","pubsubTopic"],b);const N=E(t,["negativePrompt"]);e!==void 0&&N!=null&&_(e,["parameters","negativePrompt"],N);const R=E(t,["enhancePrompt"]);e!==void 0&&R!=null&&_(e,["parameters","enhancePrompt"],R);const k=E(t,["generateAudio"]);e!==void 0&&k!=null&&_(e,["parameters","generateAudio"],k);const U=E(t,["lastFrame"]);e!==void 0&&U!=null&&_(e,["instances[0]","lastFrame"],lo(U));const j=E(t,["referenceImages"]);if(e!==void 0&&j!=null){let J=j;Array.isArray(J)&&(J=J.map(re=>Rq(re))),_(e,["instances[0]","referenceImages"],J)}const K=E(t,["mask"]);e!==void 0&&K!=null&&_(e,["instances[0]","mask"],Nq(K));const Q=E(t,["compressionQuality"]);return e!==void 0&&Q!=null&&_(e,["parameters","compressionQuality"],Q),n}function FX(t,e){const r={},n=E(t,["name"]);n!=null&&_(r,["name"],n);const i=E(t,["metadata"]);i!=null&&_(r,["metadata"],i);const s=E(t,["done"]);s!=null&&_(r,["done"],s);const l=E(t,["error"]);l!=null&&_(r,["error"],l);const c=E(t,["response","generateVideoResponse"]);return c!=null&&_(r,["response"],UX(c)),r}function RX(t,e){const r={},n=E(t,["name"]);n!=null&&_(r,["name"],n);const i=E(t,["metadata"]);i!=null&&_(r,["metadata"],i);const s=E(t,["done"]);s!=null&&_(r,["done"],s);const l=E(t,["error"]);l!=null&&_(r,["error"],l);const c=E(t,["response"]);return c!=null&&_(r,["response"],MX(c)),r}function kX(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["prompt"]);s!=null&&_(n,["instances[0]","prompt"],s);const l=E(e,["image"]);l!=null&&_(n,["instances[0]","image"],yg(l));const c=E(e,["video"]);c!=null&&_(n,["instances[0]","video"],Z3(c));const g=E(e,["source"]);g!=null&&OX(g,n);const d=E(e,["config"]);return d!=null&&IX(d,n),n}function DX(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["prompt"]);s!=null&&_(n,["instances[0]","prompt"],s);const l=E(e,["image"]);l!=null&&_(n,["instances[0]","image"],lo(l));const c=E(e,["video"]);c!=null&&_(n,["instances[0]","video"],$3(c));const g=E(e,["source"]);g!=null&&LX(g,n);const d=E(e,["config"]);return d!=null&&NX(d,n),n}function UX(t,e){const r={},n=E(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>HX(c))),_(r,["generatedVideos"],l)}const i=E(t,["raiMediaFilteredCount"]);i!=null&&_(r,["raiMediaFilteredCount"],i);const s=E(t,["raiMediaFilteredReasons"]);return s!=null&&_(r,["raiMediaFilteredReasons"],s),r}function MX(t,e){const r={},n=E(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>VX(c))),_(r,["generatedVideos"],l)}const i=E(t,["raiMediaFilteredCount"]);i!=null&&_(r,["raiMediaFilteredCount"],i);const s=E(t,["raiMediaFilteredReasons"]);return s!=null&&_(r,["raiMediaFilteredReasons"],s),r}function OX(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=E(t,["image"]);e!==void 0&&s!=null&&_(e,["instances[0]","image"],yg(s));const l=E(t,["video"]);return e!==void 0&&l!=null&&_(e,["instances[0]","video"],Z3(l)),n}function LX(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=E(t,["image"]);e!==void 0&&s!=null&&_(e,["instances[0]","image"],lo(s));const l=E(t,["video"]);return e!==void 0&&l!=null&&_(e,["instances[0]","video"],$3(l)),n}function QX(t,e){const r={},n=E(t,["_self"]);n!=null&&_(r,["image"],YX(n));const i=E(t,["raiFilteredReason"]);i!=null&&_(r,["raiFilteredReason"],i);const s=E(t,["_self"]);return s!=null&&_(r,["safetyAttributes"],q3(s)),r}function vg(t,e){const r={},n=E(t,["_self"]);n!=null&&_(r,["image"],X3(n));const i=E(t,["raiFilteredReason"]);i!=null&&_(r,["raiFilteredReason"],i);const s=E(t,["_self"]);s!=null&&_(r,["safetyAttributes"],Y3(s));const l=E(t,["prompt"]);return l!=null&&_(r,["enhancedPrompt"],l),r}function PX(t,e){const r={},n=E(t,["_self"]);n!=null&&_(r,["mask"],X3(n));const i=E(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(r,["labels"],s)}return r}function HX(t,e){const r={},n=E(t,["video"]);return n!=null&&_(r,["video"],Sq(n)),r}function VX(t,e){const r={},n=E(t,["_self"]);return n!=null&&_(r,["video"],Iq(n)),r}function jX(t,e){const r={},n=E(t,["modelSelectionConfig"]);n!=null&&_(r,["modelConfig"],n);const i=E(t,["responseJsonSchema"]);i!=null&&_(r,["responseJsonSchema"],i);const s=E(t,["audioTimestamp"]);s!=null&&_(r,["audioTimestamp"],s);const l=E(t,["candidateCount"]);l!=null&&_(r,["candidateCount"],l);const c=E(t,["enableAffectiveDialog"]);c!=null&&_(r,["enableAffectiveDialog"],c);const g=E(t,["frequencyPenalty"]);g!=null&&_(r,["frequencyPenalty"],g);const d=E(t,["logprobs"]);d!=null&&_(r,["logprobs"],d);const m=E(t,["maxOutputTokens"]);m!=null&&_(r,["maxOutputTokens"],m);const C=E(t,["mediaResolution"]);C!=null&&_(r,["mediaResolution"],C);const b=E(t,["presencePenalty"]);b!=null&&_(r,["presencePenalty"],b);const N=E(t,["responseLogprobs"]);N!=null&&_(r,["responseLogprobs"],N);const R=E(t,["responseMimeType"]);R!=null&&_(r,["responseMimeType"],R);const k=E(t,["responseModalities"]);k!=null&&_(r,["responseModalities"],k);const U=E(t,["responseSchema"]);U!=null&&_(r,["responseSchema"],U);const j=E(t,["routingConfig"]);j!=null&&_(r,["routingConfig"],j);const K=E(t,["seed"]);K!=null&&_(r,["seed"],K);const Q=E(t,["speechConfig"]);Q!=null&&_(r,["speechConfig"],Q);const J=E(t,["stopSequences"]);J!=null&&_(r,["stopSequences"],J);const re=E(t,["temperature"]);re!=null&&_(r,["temperature"],re);const G=E(t,["thinkingConfig"]);G!=null&&_(r,["thinkingConfig"],G);const M=E(t,["topK"]);M!=null&&_(r,["topK"],M);const P=E(t,["topP"]);if(P!=null&&_(r,["topP"],P),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function GX(t,e,r){const n={},i=E(e,["model"]);return i!=null&&_(n,["_url","name"],Yr(t,i)),n}function KX(t,e,r){const n={},i=E(e,["model"]);return i!=null&&_(n,["_url","name"],Yr(t,i)),n}function zX(t,e){const r={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&_(r,["enableWidget"],n),r}function WX(t,e){const r={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&_(r,["timeRangeFilter"],n),r}function XX(t,e){const r={},n=E(t,["aspectRatio"]);n!=null&&_(r,["aspectRatio"],n);const i=E(t,["imageSize"]);if(i!=null&&_(r,["imageSize"],i),E(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return r}function qX(t,e){const r={},n=E(t,["aspectRatio"]);n!=null&&_(r,["aspectRatio"],n);const i=E(t,["imageSize"]);i!=null&&_(r,["imageSize"],i);const s=E(t,["personGeneration"]);s!=null&&_(r,["personGeneration"],s);const l=E(t,["outputMimeType"]);l!=null&&_(r,["imageOutputOptions","mimeType"],l);const c=E(t,["outputCompressionQuality"]);return c!=null&&_(r,["imageOutputOptions","compressionQuality"],c),r}function YX(t,e){const r={},n=E(t,["bytesBase64Encoded"]);n!=null&&_(r,["imageBytes"],xA(n));const i=E(t,["mimeType"]);return i!=null&&_(r,["mimeType"],i),r}function X3(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&_(r,["gcsUri"],n);const i=E(t,["bytesBase64Encoded"]);i!=null&&_(r,["imageBytes"],xA(i));const s=E(t,["mimeType"]);return s!=null&&_(r,["mimeType"],s),r}function yg(t,e){const r={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=E(t,["imageBytes"]);n!=null&&_(r,["bytesBase64Encoded"],xA(n));const i=E(t,["mimeType"]);return i!=null&&_(r,["mimeType"],i),r}function lo(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&_(r,["gcsUri"],n);const i=E(t,["imageBytes"]);i!=null&&_(r,["bytesBase64Encoded"],xA(i));const s=E(t,["mimeType"]);return s!=null&&_(r,["mimeType"],s),r}function JX(t,e,r,n){const i={},s=E(e,["pageSize"]);r!==void 0&&s!=null&&_(r,["_query","pageSize"],s);const l=E(e,["pageToken"]);r!==void 0&&l!=null&&_(r,["_query","pageToken"],l);const c=E(e,["filter"]);r!==void 0&&c!=null&&_(r,["_query","filter"],c);const g=E(e,["queryBase"]);return r!==void 0&&g!=null&&_(r,["_url","models_url"],H3(t,g)),i}function ZX(t,e,r,n){const i={},s=E(e,["pageSize"]);r!==void 0&&s!=null&&_(r,["_query","pageSize"],s);const l=E(e,["pageToken"]);r!==void 0&&l!=null&&_(r,["_query","pageToken"],l);const c=E(e,["filter"]);r!==void 0&&c!=null&&_(r,["_query","filter"],c);const g=E(e,["queryBase"]);return r!==void 0&&g!=null&&_(r,["_url","models_url"],H3(t,g)),i}function $X(t,e,r){const n={},i=E(e,["config"]);return i!=null&&JX(t,i,n),n}function eq(t,e,r){const n={},i=E(e,["config"]);return i!=null&&ZX(t,i,n),n}function tq(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&_(r,["nextPageToken"],i);const s=E(t,["_self"]);if(s!=null){let l=V3(s);Array.isArray(l)&&(l=l.map(c=>v2(c))),_(r,["models"],l)}return r}function rq(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&_(r,["nextPageToken"],i);const s=E(t,["_self"]);if(s!=null){let l=V3(s);Array.isArray(l)&&(l=l.map(c=>y2(c))),_(r,["models"],l)}return r}function nq(t,e){const r={},n=E(t,["maskMode"]);n!=null&&_(r,["maskMode"],n);const i=E(t,["segmentationClasses"]);i!=null&&_(r,["maskClasses"],i);const s=E(t,["maskDilation"]);return s!=null&&_(r,["dilation"],s),r}function v2(t,e){const r={},n=E(t,["name"]);n!=null&&_(r,["name"],n);const i=E(t,["displayName"]);i!=null&&_(r,["displayName"],i);const s=E(t,["description"]);s!=null&&_(r,["description"],s);const l=E(t,["version"]);l!=null&&_(r,["version"],l);const c=E(t,["_self"]);c!=null&&_(r,["tunedModelInfo"],wq(c));const g=E(t,["inputTokenLimit"]);g!=null&&_(r,["inputTokenLimit"],g);const d=E(t,["outputTokenLimit"]);d!=null&&_(r,["outputTokenLimit"],d);const m=E(t,["supportedGenerationMethods"]);m!=null&&_(r,["supportedActions"],m);const C=E(t,["temperature"]);C!=null&&_(r,["temperature"],C);const b=E(t,["maxTemperature"]);b!=null&&_(r,["maxTemperature"],b);const N=E(t,["topP"]);N!=null&&_(r,["topP"],N);const R=E(t,["topK"]);R!=null&&_(r,["topK"],R);const k=E(t,["thinking"]);return k!=null&&_(r,["thinking"],k),r}function y2(t,e){const r={},n=E(t,["name"]);n!=null&&_(r,["name"],n);const i=E(t,["displayName"]);i!=null&&_(r,["displayName"],i);const s=E(t,["description"]);s!=null&&_(r,["description"],s);const l=E(t,["versionId"]);l!=null&&_(r,["version"],l);const c=E(t,["deployedModels"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(N=>pX(N))),_(r,["endpoints"],b)}const g=E(t,["labels"]);g!=null&&_(r,["labels"],g);const d=E(t,["_self"]);d!=null&&_(r,["tunedModelInfo"],vq(d));const m=E(t,["defaultCheckpointId"]);m!=null&&_(r,["defaultCheckpointId"],m);const C=E(t,["checkpoints"]);if(C!=null){let b=C;Array.isArray(b)&&(b=b.map(N=>N)),_(r,["checkpoints"],b)}return r}function iq(t,e){const r={},n=E(t,["mediaResolution"]);n!=null&&_(r,["mediaResolution"],n);const i=E(t,["codeExecutionResult"]);i!=null&&_(r,["codeExecutionResult"],i);const s=E(t,["executableCode"]);s!=null&&_(r,["executableCode"],s);const l=E(t,["fileData"]);l!=null&&_(r,["fileData"],mX(l));const c=E(t,["functionCall"]);c!=null&&_(r,["functionCall"],xX(c));const g=E(t,["functionResponse"]);g!=null&&_(r,["functionResponse"],g);const d=E(t,["inlineData"]);d!=null&&_(r,["inlineData"],jW(d));const m=E(t,["text"]);m!=null&&_(r,["text"],m);const C=E(t,["thought"]);C!=null&&_(r,["thought"],C);const b=E(t,["thoughtSignature"]);b!=null&&_(r,["thoughtSignature"],b);const N=E(t,["videoMetadata"]);return N!=null&&_(r,["videoMetadata"],N),r}function sq(t,e){const r={},n=E(t,["productImage"]);return n!=null&&_(r,["image"],lo(n)),r}function aq(t,e,r){const n={},i=E(t,["numberOfImages"]);e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i);const s=E(t,["baseSteps"]);e!==void 0&&s!=null&&_(e,["parameters","baseSteps"],s);const l=E(t,["outputGcsUri"]);e!==void 0&&l!=null&&_(e,["parameters","storageUri"],l);const c=E(t,["seed"]);e!==void 0&&c!=null&&_(e,["parameters","seed"],c);const g=E(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&_(e,["parameters","safetySetting"],g);const d=E(t,["personGeneration"]);e!==void 0&&d!=null&&_(e,["parameters","personGeneration"],d);const m=E(t,["addWatermark"]);e!==void 0&&m!=null&&_(e,["parameters","addWatermark"],m);const C=E(t,["outputMimeType"]);e!==void 0&&C!=null&&_(e,["parameters","outputOptions","mimeType"],C);const b=E(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&_(e,["parameters","outputOptions","compressionQuality"],b);const N=E(t,["enhancePrompt"]);e!==void 0&&N!=null&&_(e,["parameters","enhancePrompt"],N);const R=E(t,["labels"]);return e!==void 0&&R!=null&&_(e,["labels"],R),n}function oq(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["source"]);s!=null&&Aq(s,n);const l=E(e,["config"]);return l!=null&&aq(l,n),n}function lq(t,e){const r={},n=E(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>vg(s))),_(r,["generatedImages"],i)}return r}function Aq(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=E(t,["personImage"]);e!==void 0&&s!=null&&_(e,["instances[0]","personImage","image"],lo(s));const l=E(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(g=>sq(g))),_(e,["instances[0]","productImages"],c)}return n}function cq(t,e){const r={},n=E(t,["referenceImage"]);n!=null&&_(r,["referenceImage"],lo(n));const i=E(t,["referenceId"]);i!=null&&_(r,["referenceId"],i);const s=E(t,["referenceType"]);s!=null&&_(r,["referenceType"],s);const l=E(t,["maskImageConfig"]);l!=null&&_(r,["maskImageConfig"],nq(l));const c=E(t,["controlImageConfig"]);c!=null&&_(r,["controlImageConfig"],YW(c));const g=E(t,["styleImageConfig"]);g!=null&&_(r,["styleImageConfig"],g);const d=E(t,["subjectImageConfig"]);return d!=null&&_(r,["subjectImageConfig"],d),r}function q3(t,e){const r={},n=E(t,["safetyAttributes","categories"]);n!=null&&_(r,["categories"],n);const i=E(t,["safetyAttributes","scores"]);i!=null&&_(r,["scores"],i);const s=E(t,["contentType"]);return s!=null&&_(r,["contentType"],s),r}function Y3(t,e){const r={},n=E(t,["safetyAttributes","categories"]);n!=null&&_(r,["categories"],n);const i=E(t,["safetyAttributes","scores"]);i!=null&&_(r,["scores"],i);const s=E(t,["contentType"]);return s!=null&&_(r,["contentType"],s),r}function uq(t,e){const r={},n=E(t,["category"]);if(n!=null&&_(r,["category"],n),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=E(t,["threshold"]);return i!=null&&_(r,["threshold"],i),r}function fq(t,e){const r={},n=E(t,["image"]);return n!=null&&_(r,["image"],lo(n)),r}function dq(t,e,r){const n={},i=E(t,["mode"]);e!==void 0&&i!=null&&_(e,["parameters","mode"],i);const s=E(t,["maxPredictions"]);e!==void 0&&s!=null&&_(e,["parameters","maxPredictions"],s);const l=E(t,["confidenceThreshold"]);e!==void 0&&l!=null&&_(e,["parameters","confidenceThreshold"],l);const c=E(t,["maskDilation"]);e!==void 0&&c!=null&&_(e,["parameters","maskDilation"],c);const g=E(t,["binaryColorThreshold"]);e!==void 0&&g!=null&&_(e,["parameters","binaryColorThreshold"],g);const d=E(t,["labels"]);return e!==void 0&&d!=null&&_(e,["labels"],d),n}function hq(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["source"]);s!=null&&pq(s,n);const l=E(e,["config"]);return l!=null&&dq(l,n),n}function gq(t,e){const r={},n=E(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>PX(s))),_(r,["generatedMasks"],i)}return r}function pq(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=E(t,["image"]);e!==void 0&&s!=null&&_(e,["instances[0]","image"],lo(s));const l=E(t,["scribbleImage"]);return e!==void 0&&l!=null&&_(e,["instances[0]","scribble"],fq(l)),n}function mq(t,e){const r={},n=E(t,["retrievalConfig"]);n!=null&&_(r,["retrievalConfig"],n);const i=E(t,["functionCallingConfig"]);return i!=null&&_(r,["functionCallingConfig"],wX(i)),r}function xq(t,e){const r={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&_(r,["computerUse"],n);const i=E(t,["fileSearch"]);i!=null&&_(r,["fileSearch"],i);const s=E(t,["codeExecution"]);if(s!=null&&_(r,["codeExecution"],s),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=E(t,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(b=>b)),_(r,["functionDeclarations"],C)}const c=E(t,["googleMaps"]);c!=null&&_(r,["googleMaps"],zX(c));const g=E(t,["googleSearch"]);g!=null&&_(r,["googleSearch"],WX(g));const d=E(t,["googleSearchRetrieval"]);d!=null&&_(r,["googleSearchRetrieval"],d);const m=E(t,["urlContext"]);return m!=null&&_(r,["urlContext"],m),r}function J3(t,e){const r={},n=E(t,["retrieval"]);n!=null&&_(r,["retrieval"],n);const i=E(t,["computerUse"]);if(i!=null&&_(r,["computerUse"],i),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=E(t,["codeExecution"]);s!=null&&_(r,["codeExecution"],s);const l=E(t,["enterpriseWebSearch"]);l!=null&&_(r,["enterpriseWebSearch"],l);const c=E(t,["functionDeclarations"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(N=>vX(N))),_(r,["functionDeclarations"],b)}const g=E(t,["googleMaps"]);g!=null&&_(r,["googleMaps"],g);const d=E(t,["googleSearch"]);d!=null&&_(r,["googleSearch"],d);const m=E(t,["googleSearchRetrieval"]);m!=null&&_(r,["googleSearchRetrieval"],m);const C=E(t,["urlContext"]);return C!=null&&_(r,["urlContext"],C),r}function wq(t,e){const r={},n=E(t,["baseModel"]);n!=null&&_(r,["baseModel"],n);const i=E(t,["createTime"]);i!=null&&_(r,["createTime"],i);const s=E(t,["updateTime"]);return s!=null&&_(r,["updateTime"],s),r}function vq(t,e){const r={},n=E(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&_(r,["baseModel"],n);const i=E(t,["createTime"]);i!=null&&_(r,["createTime"],i);const s=E(t,["updateTime"]);return s!=null&&_(r,["updateTime"],s),r}function yq(t,e,r){const n={},i=E(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const s=E(t,["description"]);e!==void 0&&s!=null&&_(e,["description"],s);const l=E(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&_(e,["defaultCheckpointId"],l),n}function Cq(t,e,r){const n={},i=E(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const s=E(t,["description"]);e!==void 0&&s!=null&&_(e,["description"],s);const l=E(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&_(e,["defaultCheckpointId"],l),n}function Eq(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","name"],Yr(t,i));const s=E(e,["config"]);return s!=null&&yq(s,n),n}function bq(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["config"]);return s!=null&&Cq(s,n),n}function Bq(t,e,r){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const s=E(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&_(e,["parameters","safetySetting"],s);const l=E(t,["personGeneration"]);e!==void 0&&l!=null&&_(e,["parameters","personGeneration"],l);const c=E(t,["includeRaiReason"]);e!==void 0&&c!=null&&_(e,["parameters","includeRaiReason"],c);const g=E(t,["outputMimeType"]);e!==void 0&&g!=null&&_(e,["parameters","outputOptions","mimeType"],g);const d=E(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&_(e,["parameters","outputOptions","compressionQuality"],d);const m=E(t,["enhanceInputImage"]);e!==void 0&&m!=null&&_(e,["parameters","upscaleConfig","enhanceInputImage"],m);const C=E(t,["imagePreservationFactor"]);e!==void 0&&C!=null&&_(e,["parameters","upscaleConfig","imagePreservationFactor"],C);const b=E(t,["labels"]);e!==void 0&&b!=null&&_(e,["labels"],b);const N=E(t,["numberOfImages"]);e!==void 0&&N!=null&&_(e,["parameters","sampleCount"],N);const R=E(t,["mode"]);return e!==void 0&&R!=null&&_(e,["parameters","mode"],R),n}function _q(t,e,r){const n={},i=E(e,["model"]);i!=null&&_(n,["_url","model"],Yr(t,i));const s=E(e,["image"]);s!=null&&_(n,["instances[0]","image"],lo(s));const l=E(e,["upscaleFactor"]);l!=null&&_(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=E(e,["config"]);return c!=null&&Bq(c,n),n}function Tq(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>vg(l))),_(r,["generatedImages"],s)}return r}function Sq(t,e){const r={},n=E(t,["uri"]);n!=null&&_(r,["uri"],n);const i=E(t,["encodedVideo"]);i!=null&&_(r,["videoBytes"],xA(i));const s=E(t,["encoding"]);return s!=null&&_(r,["mimeType"],s),r}function Iq(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&_(r,["uri"],n);const i=E(t,["bytesBase64Encoded"]);i!=null&&_(r,["videoBytes"],xA(i));const s=E(t,["mimeType"]);return s!=null&&_(r,["mimeType"],s),r}function Nq(t,e){const r={},n=E(t,["image"]);n!=null&&_(r,["_self"],lo(n));const i=E(t,["maskMode"]);return i!=null&&_(r,["maskMode"],i),r}function Fq(t,e){const r={},n=E(t,["image"]);n!=null&&_(r,["image"],yg(n));const i=E(t,["referenceType"]);return i!=null&&_(r,["referenceType"],i),r}function Rq(t,e){const r={},n=E(t,["image"]);n!=null&&_(r,["image"],lo(n));const i=E(t,["referenceType"]);return i!=null&&_(r,["referenceType"],i),r}function Z3(t,e){const r={},n=E(t,["uri"]);n!=null&&_(r,["uri"],n);const i=E(t,["videoBytes"]);i!=null&&_(r,["encodedVideo"],xA(i));const s=E(t,["mimeType"]);return s!=null&&_(r,["encoding"],s),r}function $3(t,e){const r={},n=E(t,["uri"]);n!=null&&_(r,["gcsUri"],n);const i=E(t,["videoBytes"]);i!=null&&_(r,["bytesBase64Encoded"],xA(i));const s=E(t,["mimeType"]);return s!=null&&_(r,["mimeType"],s),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kq(t,e){const r={},n=E(t,["displayName"]);return e!==void 0&&n!=null&&_(e,["displayName"],n),r}function Dq(t){const e={},r=E(t,["config"]);return r!=null&&kq(r,e),e}function Uq(t,e){const r={},n=E(t,["force"]);return e!==void 0&&n!=null&&_(e,["_query","force"],n),r}function Mq(t){const e={},r=E(t,["name"]);r!=null&&_(e,["_url","name"],r);const n=E(t,["config"]);return n!=null&&Uq(n,e),e}function Oq(t){const e={},r=E(t,["name"]);return r!=null&&_(e,["_url","name"],r),e}function Lq(t,e){const r={},n=E(t,["customMetadata"]);if(e!==void 0&&n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["customMetadata"],s)}const i=E(t,["chunkingConfig"]);return e!==void 0&&i!=null&&_(e,["chunkingConfig"],i),r}function Qq(t){const e={},r=E(t,["name"]);r!=null&&_(e,["name"],r);const n=E(t,["metadata"]);n!=null&&_(e,["metadata"],n);const i=E(t,["done"]);i!=null&&_(e,["done"],i);const s=E(t,["error"]);s!=null&&_(e,["error"],s);const l=E(t,["response"]);return l!=null&&_(e,["response"],Hq(l)),e}function Pq(t){const e={},r=E(t,["fileSearchStoreName"]);r!=null&&_(e,["_url","file_search_store_name"],r);const n=E(t,["fileName"]);n!=null&&_(e,["fileName"],n);const i=E(t,["config"]);return i!=null&&Lq(i,e),e}function Hq(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["parent"]);n!=null&&_(e,["parent"],n);const i=E(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function Vq(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&_(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),r}function jq(t){const e={},r=E(t,["config"]);return r!=null&&Vq(r,e),e}function Gq(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const i=E(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["fileSearchStores"],s)}return e}function eN(t,e){const r={},n=E(t,["mimeType"]);e!==void 0&&n!=null&&_(e,["mimeType"],n);const i=E(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const s=E(t,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(g=>g)),_(e,["customMetadata"],c)}const l=E(t,["chunkingConfig"]);return e!==void 0&&l!=null&&_(e,["chunkingConfig"],l),r}function Kq(t){const e={},r=E(t,["fileSearchStoreName"]);r!=null&&_(e,["_url","file_search_store_name"],r);const n=E(t,["config"]);return n!=null&&eN(n,e),e}function zq(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&_(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wq="Content-Type",Xq="X-Server-Timeout",qq="User-Agent",C2="x-goog-api-client",Yq="1.41.0",Jq=`google-genai-sdk/${Yq}`,Zq="v1beta1",$q="v1beta",eY=5,tY=[408,429,500,502,503,504];class rY{constructor(e){var r,n,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(r=e.httpOptions)===null||r===void 0?void 0:r.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Zq}else{if(!this.clientOptions.apiKey)throw new If({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:$q,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,r){return!(r.baseUrl&&r.baseUrlResourceScope===p2.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,r),i=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))i.searchParams.append(l,String(c));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,r,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(r))typeof s=="object"?n[i]=Object.assign(Object.assign({},n[i]),s):s!==void 0&&(n[i]=s);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,r),i=this.constructUrl(e.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,r,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n,i){if(r&&r.timeout||i){const s=new AbortController,l=s.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const c=setTimeout(()=>s.abort(),r.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=l}return r&&r.extraBody!==null&&nY(e,r.extraBody),e.headers=await this.getHeadersInternal(r,n),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await ET(i),new m2(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await ET(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return io(this,arguments,function*(){var n;const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const c="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:m}=yield fr(i.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const C=s.decode(m,{stream:!0});try{const R=JSON.parse(C);if("error"in R){const k=JSON.parse(JSON.stringify(R.error)),U=k.status,j=k.code,K=`got status: ${U}. ${JSON.stringify(R)}`;if(j>=400&&j<600)throw new If({message:K,status:j})}}catch(R){if(R.name==="ApiError")throw R}l+=C;let b=-1,N=0;for(;;){b=-1,N=0;for(const U of g){const j=l.indexOf(U);j!==-1&&(b===-1||j<b)&&(b=j,N=U.length)}if(b===-1)break;const R=l.substring(0,b);l=l.substring(b+N);const k=R.trim();if(k.startsWith(c)){const U=k.substring(c.length).trim();try{const j=new Response(U,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fr(new m2(j))}catch(j){throw new Error(`exception parsing stream chunk ${U}. ${j}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,r){var n;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,r);const i=this.clientOptions.httpOptions.retryOptions;return zG(async()=>{const l=await fetch(e,r);if(l.ok)return l;throw tY.includes(l.status)?new Error(`Retryable HTTP Error: ${l.statusText}`):new R3(`Non-retryable exception ${l.statusText} sending request`)},{retries:((n=i.attempts)!==null&&n!==void 0?n:eY)-1})}getDefaultHeaders(){const e={},r=Jq+" "+this.clientOptions.userAgentExtra;return e[qq]=r,e[C2]=r,e[Wq]="application/json",e}async getHeadersInternal(e,r){const n=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))n.append(i,s);e.timeout&&e.timeout>0&&n.append(Xq,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(e){var r;let n="";return typeof e=="string"&&(n=e.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(e,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,l=await s.stat(e);i.sizeBytes=String(l.size);const c=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const g={file:i},d=this.getFileName(e),m=Ut("upload/v1beta/files",g._url),C=await this.fetchUploadUrl(m,i.sizeBytes,i.mimeType,d,g,r==null?void 0:r.httpOptions);return s.upload(e,C,this)}async uploadFileToFileSearchStore(e,r,n){var i;const s=this.clientOptions.uploader,l=await s.stat(r),c=String(l.size),g=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(r),C={};n!=null&&eN(n,C);const b=await this.fetchUploadUrl(d,c,g,m,C,n==null?void 0:n.httpOptions);return s.uploadToFileSearchStore(r,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,n,i,s,l){var c;let g={};l?g=l:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:g});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function ET(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let n;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?n=await t.json():n={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new If({message:i,status:r}):new Error(i)}}function nY(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))r=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(s,l){const c=Object.assign({},s);for(const g in l)if(Object.prototype.hasOwnProperty.call(l,g)){const d=l[g],m=c[g];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?c[g]=n(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),c[g]=d)}return c}const i=n(r,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iY="mcp_used/unknown";let sY=!1;function tN(t){for(const e of t)if(aY(e)||typeof e=="object"&&"inputSchema"in e)return!0;return sY}function rN(t){var e;const r=(e=t[C2])!==null&&e!==void 0?e:"";t[C2]=(r+` ${iY}`).trimStart()}function aY(t){return t!==null&&typeof t=="object"&&t instanceof Hw}function oY(t){return io(this,arguments,function*(r,n=100){let i,s=0;for(;s<n;){const l=yield fr(r.listTools({cursor:i}));for(const c of l.tools)yield yield fr(c),s++;if(!l.nextCursor)break;i=l.nextCursor}})}class Hw{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new Hw(e,r)}async initialize(){var e,r,n,i;if(this.mcpTools.length>0)return;const s={},l=[];for(const m of this.mcpClients)try{for(var c=!0,g=(r=void 0,so(oY(m))),d;d=await g.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const C=i;l.push(C);const b=C.name;if(s[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);s[b]=m}}catch(C){r={error:C}}finally{try{!c&&!e&&(n=g.return)&&await n.call(g)}finally{if(r)throw r.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),DK(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await i.callTool({name:n.name,arguments:n.args},void 0,s);r.push({functionResponse:{name:n.name,response:l.isError?{error:l}:l}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function lY(t,e,r){const n=new _K;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),e(n)}class AY{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=fY(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),g=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const m=new Promise(Q=>{d=Q}),C=e.callbacks,b=function(){d({})},N=this.apiClient,R={onopen:b,onmessage:Q=>{lY(N,C.onmessage,Q)},onerror:(r=C==null?void 0:C.onerror)!==null&&r!==void 0?r:function(Q){},onclose:(n=C==null?void 0:C.onclose)!==null&&n!==void 0?n:function(Q){}},k=this.webSocketFactory.create(g,uY(l),R);k.connect(),await m;const K={setup:{model:Yr(this.apiClient,e.model)}};return k.send(JSON.stringify(K)),new cY(k,this.apiClient)}}class cY{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=kW(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=RW(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(gu.PLAY)}pause(){this.sendPlaybackControl(gu.PAUSE)}stop(){this.sendPlaybackControl(gu.STOP)}resetContext(){this.sendPlaybackControl(gu.RESET_CONTEXT)}close(){this.conn.close()}}function uY(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function fY(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dY="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hY(t,e,r){const n=new BK;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const s=JSON.parse(i);if(t.isVertexAI()){const l=MW(s);Object.assign(n,l)}else Object.assign(n,s);e(n)}class gY{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new AY(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,i,s,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&tN(e.config.tools)&&rN(C);const b=wY(C);if(this.apiClient.isVertexAI()){const O=this.apiClient.getProject(),ee=this.apiClient.getLocation(),te=this.apiClient.getApiKey(),W=!!O&&!!ee||!!te;this.apiClient.getCustomBaseUrl()&&!W?m=g:(m=`${g}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,m))}else{const O=this.apiClient.getApiKey();let ee="BidiGenerateContent",te="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ee="BidiGenerateContentConstrained",te="access_token"),m=`${g}/ws/google.ai.generativelanguage.${d}.GenerativeService.${ee}?${te}=${O}`}let N=()=>{};const R=new Promise(O=>{N=O}),k=e.callbacks,U=function(){var O;(O=k==null?void 0:k.onopen)===null||O===void 0||O.call(k),N({})},j=this.apiClient,K={onopen:U,onmessage:O=>{hY(j,k.onmessage,O)},onerror:(r=k==null?void 0:k.onerror)!==null&&r!==void 0?r:function(O){},onclose:(n=k==null?void 0:k.onclose)!==null&&n!==void 0?n:function(O){}},Q=this.webSocketFactory.create(m,xY(b),K);Q.connect(),await R;let J=Yr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const O=this.apiClient.getProject(),ee=this.apiClient.getLocation();O&&ee&&(J=`projects/${O}/locations/${ee}/`+J)}let re={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Q1.AUDIO]}:e.config.responseModalities=[Q1.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],M=[];for(const O of G)if(this.isCallableTool(O)){const ee=O;M.push(await ee.tool())}else M.push(O);M.length>0&&(e.config.tools=M);const P={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?re=FW(this.apiClient,P):re=NW(this.apiClient,P),delete re.config,Q.send(JSON.stringify(re)),new mY(Q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const pY={turnComplete:!0};class mY{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=Oa(r.turns),e.isVertexAI()||(n=n.map(i=>wg(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const s of n){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(dY)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},pY),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:UW(e)}:r={realtimeInput:DW(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function xY(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function wY(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bT=10;function BT(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(Cu(l)){i=!0;break}if(!i)return!0;const s=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Cu(t){return"callTool"in t&&typeof t.callTool=="function"}function vY(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>Cu(i)))!==null&&n!==void 0?n:!1}function _T(t){var e;const r=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((n,i)=>{if(Cu(n))return;const s=n;s.functionDeclarations&&s.functionDeclarations.length>0&&r.push(i)}),r}function TT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yY extends gl{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,i,s,l,c;const g=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!vY(r)||BT(r.config))return await this.generateContentInternal(g);const d=_T(r);if(d.length>0){const k=d.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let m,C;const b=Oa(g.contents),N=(s=(i=(n=g.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:bT;let R=0;for(;R<N&&(m=await this.generateContentInternal(g),!(!m.functionCalls||m.functionCalls.length===0));){const k=m.candidates[0].content,U=[];for(const j of(c=(l=r.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Cu(j)){const Q=await j.callTool(m.functionCalls);U.push(...Q)}R++,C={role:"user",parts:U},g.contents=Oa(g.contents),g.contents.push(k),g.contents.push(C),TT(g.config)&&(b.push(k),b.push(C))}return TT(g.config)&&(m.automaticFunctionCallingHistory=b),m},this.generateContentStream=async r=>{var n,i,s,l,c;if(this.maybeMoveToResponseJsonSchem(r),BT(r.config)){const C=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(C)}const g=_T(r);if(g.length>0){const C=g.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${C}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(s=(i=(n=r==null?void 0:r.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,m=(c=(l=r==null?void 0:r.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let s;const l=[];if(n!=null&&n.generatedImages)for(const g of n.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((i=g==null?void 0:g.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=g==null?void 0:g.safetyAttributes:l.push(g);let c;return s?c={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:n.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:n.sdkHttpResponse},c}),this.list=async r=>{var n;const l={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((n=l.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new pc(Al.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,s,l,c,g;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((l=(s=r.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((g=(c=r.source)===null||c===void 0?void 0:c.video)===null||g===void 0)&&g.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,n,i;const s=(r=e.config)===null||r===void 0?void 0:r.tools;if(!s)return e;const l=await Promise.all(s.map(async g=>Cu(g)?await g.tool():g)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&tN(e.config.tools)){const g=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},g);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),rN(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var r,n,i;const s=new Map;for(const l of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(Cu(l)){const c=l,g=await c.tool();for(const d of(i=g.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,c)}}return s}async processAfcStream(e){var r,n,i;const s=(i=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:bT;let l=!1,c=0;const g=await this.initAfcToolsMap(e);return(function(d,m,C){return io(this,arguments,function*(){for(var b,N,R,k,U,j;c<s;){l&&(c++,l=!1);const re=yield fr(d.processParamsMaybeAddMcpUsage(C)),G=yield fr(d.generateContentStreamInternal(re)),M=[],P=[];try{for(var K=!0,Q=(N=void 0,so(G)),J;J=yield fr(Q.next()),b=J.done,!b;K=!0){k=J.value,K=!1;const O=k;if(yield yield fr(O),O.candidates&&(!((U=O.candidates[0])===null||U===void 0)&&U.content)){P.push(O.candidates[0].content);for(const ee of(j=O.candidates[0].content.parts)!==null&&j!==void 0?j:[])if(c<s&&ee.functionCall){if(!ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(ee.functionCall.name)){const te=yield fr(m.get(ee.functionCall.name).callTool([ee.functionCall]));M.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${ee.functionCall.name}`)}}}}catch(O){N={error:O}}finally{try{!K&&!b&&(R=Q.return)&&(yield fr(R.call(Q)))}finally{if(N)throw N.error}}if(M.length>0){l=!0;const O=new F0;O.candidates=[{content:{role:"user",parts:M}}],yield yield fr(O);const ee=[];ee.push(...P),ee.push({role:"user",parts:M});const te=Oa(C.contents).concat(ee);C.contents=te}else break}})})(this,g,e)}async generateContentInternal(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=vT(this.apiClient,e);return c=Ut("{model}:generateContent",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=CT(m),b=new F0;return Object.assign(b,C),b})}else{const d=wT(this.apiClient,e);return c=Ut("{model}:generateContent",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=yT(m),b=new F0;return Object.assign(b,C),b})}}async generateContentStreamInternal(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=vT(this.apiClient,e);return c=Ut("{model}:streamGenerateContent?alt=sse",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),l.then(function(C){return io(this,arguments,function*(){var b,N,R,k;try{for(var U=!0,j=so(C),K;K=yield fr(j.next()),b=K.done,!b;U=!0){k=K.value,U=!1;const Q=k,J=CT(yield fr(Q.json()),e);J.sdkHttpResponse={headers:Q.headers};const re=new F0;Object.assign(re,J),yield yield fr(re)}}catch(Q){N={error:Q}}finally{try{!U&&!b&&(R=j.return)&&(yield fr(R.call(j)))}finally{if(N)throw N.error}}})})}else{const d=wT(this.apiClient,e);return c=Ut("{model}:streamGenerateContent?alt=sse",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(C){return io(this,arguments,function*(){var b,N,R,k;try{for(var U=!0,j=so(C),K;K=yield fr(j.next()),b=K.done,!b;U=!0){k=K.value,U=!1;const Q=k,J=yT(yield fr(Q.json()),e);J.sdkHttpResponse={headers:Q.headers};const re=new F0;Object.assign(re,J),yield yield fr(re)}}catch(Q){N={error:Q}}finally{try{!U&&!b&&(R=j.return)&&(yield fr(R.call(j)))}finally{if(N)throw N.error}}})})}}async embedContent(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=dX(this.apiClient,e);return c=Ut("{model}:predict",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=gX(m),b=new rT;return Object.assign(b,C),b})}else{const d=fX(this.apiClient,e);return c=Ut("{model}:batchEmbedContents",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=hX(m),b=new rT;return Object.assign(b,C),b})}}async generateImagesInternal(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=_X(this.apiClient,e);return c=Ut("{model}:predict",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=SX(m),b=new nT;return Object.assign(b,C),b})}else{const d=BX(this.apiClient,e);return c=Ut("{model}:predict",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=TX(m),b=new nT;return Object.assign(b,C),b})}}async editImageInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=lX(this.apiClient,e);return s=Ut("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:g.headers},m})),i.then(g=>{const d=AX(g),m=new dK;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=_q(this.apiClient,e);return s=Ut("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:g.headers},m})),i.then(g=>{const d=Tq(g),m=new hK;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=oq(this.apiClient,e);return s=Ut("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>{const d=lq(g),m=new gK;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=hq(this.apiClient,e);return s=Ut("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>{const d=gq(g),m=new pK;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=KX(this.apiClient,e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),l.then(m=>y2(m))}else{const d=GX(this.apiClient,e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>v2(m))}}async listInternal(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=eq(this.apiClient,e);return c=Ut("{models_url}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=rq(m),b=new iT;return Object.assign(b,C),b})}else{const d=$X(this.apiClient,e);return c=Ut("{models_url}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=tq(m),b=new iT;return Object.assign(b,C),b})}}async update(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=bq(this.apiClient,e);return c=Ut("{model}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),l.then(m=>y2(m))}else{const d=Eq(this.apiClient,e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>v2(m))}}async delete(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=iX(this.apiClient,e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=aX(m),b=new sT;return Object.assign(b,C),b})}else{const d=nX(this.apiClient,e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=sX(m),b=new sT;return Object.assign(b,C),b})}}async countTokens(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=eX(this.apiClient,e);return c=Ut("{model}:countTokens",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=rX(m),b=new aT;return Object.assign(b,C),b})}else{const d=$W(this.apiClient,e);return c=Ut("{model}:countTokens",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=tX(m),b=new aT;return Object.assign(b,C),b})}}async computeTokens(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=zW(this.apiClient,e);return s=Ut("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:g.headers},m})),i.then(g=>{const d=WW(g),m=new mK;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=DX(this.apiClient,e);return c=Ut("{model}:predictLongRunning",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),l.then(m=>{const C=RX(m),b=new P1;return Object.assign(b,C),b})}else{const d=kX(this.apiClient,e);return c=Ut("{model}:predictLongRunning",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>{const C=FX(m),b=new P1;return Object.assign(b,C),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CY extends gl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:s}});return r._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:s}});return r._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=oK(e);return c=Ut("{operationName}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),l}else{const d=aK(e);return c=Ut("{operationName}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l}}async fetchPredictVideosOperationInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=$G(e);return s=Ut("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EY(t){const e={},r=E(t,["data"]);if(r!=null&&_(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&_(e,["mimeType"],n),e}function bY(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>kY(s))),_(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&_(e,["role"],n),e}function BY(t,e,r){const n={},i=E(e,["expireTime"]);r!==void 0&&i!=null&&_(r,["expireTime"],i);const s=E(e,["newSessionExpireTime"]);r!==void 0&&s!=null&&_(r,["newSessionExpireTime"],s);const l=E(e,["uses"]);r!==void 0&&l!=null&&_(r,["uses"],l);const c=E(e,["liveConnectConstraints"]);r!==void 0&&c!=null&&_(r,["bidiGenerateContentSetup"],RY(t,c));const g=E(e,["lockAdditionalFields"]);return r!==void 0&&g!=null&&_(r,["fieldMask"],g),n}function _Y(t,e){const r={},n=E(e,["config"]);return n!=null&&_(r,["config"],BY(t,n,r)),r}function TY(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&_(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&_(e,["mimeType"],n),e}function SY(t){const e={},r=E(t,["id"]);r!=null&&_(e,["id"],r);const n=E(t,["args"]);n!=null&&_(e,["args"],n);const i=E(t,["name"]);if(i!=null&&_(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IY(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&_(e,["enableWidget"],r),e}function NY(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&_(e,["timeRangeFilter"],r),e}function FY(t,e){const r={},n=E(t,["generationConfig"]);e!==void 0&&n!=null&&_(e,["setup","generationConfig"],n);const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","temperature"],s);const l=E(t,["topP"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","topP"],l);const c=E(t,["topK"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","topK"],c);const g=E(t,["maxOutputTokens"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","maxOutputTokens"],g);const d=E(t,["mediaResolution"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","mediaResolution"],d);const m=E(t,["seed"]);e!==void 0&&m!=null&&_(e,["setup","generationConfig","seed"],m);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&_(e,["setup","generationConfig","speechConfig"],Pw(C));const b=E(t,["thinkingConfig"]);e!==void 0&&b!=null&&_(e,["setup","generationConfig","thinkingConfig"],b);const N=E(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],N);const R=E(t,["systemInstruction"]);e!==void 0&&R!=null&&_(e,["setup","systemInstruction"],bY(us(R)));const k=E(t,["tools"]);if(e!==void 0&&k!=null){let G=Qu(k);Array.isArray(G)&&(G=G.map(M=>UY(Lu(M)))),_(e,["setup","tools"],G)}const U=E(t,["sessionResumption"]);e!==void 0&&U!=null&&_(e,["setup","sessionResumption"],DY(U));const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&_(e,["setup","inputAudioTranscription"],j);const K=E(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&_(e,["setup","outputAudioTranscription"],K);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&_(e,["setup","realtimeInputConfig"],Q);const J=E(t,["contextWindowCompression"]);e!==void 0&&J!=null&&_(e,["setup","contextWindowCompression"],J);const re=E(t,["proactivity"]);if(e!==void 0&&re!=null&&_(e,["setup","proactivity"],re),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function RY(t,e){const r={},n=E(e,["model"]);n!=null&&_(r,["setup","model"],Yr(t,n));const i=E(e,["config"]);return i!=null&&_(r,["config"],FY(i,r)),r}function kY(t){const e={},r=E(t,["mediaResolution"]);r!=null&&_(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&_(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&_(e,["fileData"],TY(s));const l=E(t,["functionCall"]);l!=null&&_(e,["functionCall"],SY(l));const c=E(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const g=E(t,["inlineData"]);g!=null&&_(e,["inlineData"],EY(g));const d=E(t,["text"]);d!=null&&_(e,["text"],d);const m=E(t,["thought"]);m!=null&&_(e,["thought"],m);const C=E(t,["thoughtSignature"]);C!=null&&_(e,["thoughtSignature"],C);const b=E(t,["videoMetadata"]);return b!=null&&_(e,["videoMetadata"],b),e}function DY(t){const e={},r=E(t,["handle"]);if(r!=null&&_(e,["handle"],r),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function UY(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&_(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&_(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(C=>C)),_(e,["functionDeclarations"],m)}const l=E(t,["googleMaps"]);l!=null&&_(e,["googleMaps"],IY(l));const c=E(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],NY(c));const g=E(t,["googleSearchRetrieval"]);g!=null&&_(e,["googleSearchRetrieval"],g);const d=E(t,["urlContext"]);return d!=null&&_(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MY(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(s=>`${r}.${s}`);e.push(...i)}else e.push(r)}return e.join(",")}function OY(t,e){let r=null;const n=t.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const s=n.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,r=s):delete t.bidiGenerateContentSetup}else n!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(r){const s=MY(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const g=[];s&&g.push(s),c.length>0&&g.push(...c),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class LY extends gl{constructor(e){super(),this.apiClient=e}async create(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=_Y(this.apiClient,e);s=Ut("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const g=OY(c,e.config);return i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QY(t,e){const r={},n=E(t,["force"]);return e!==void 0&&n!=null&&_(e,["_query","force"],n),r}function PY(t){const e={},r=E(t,["name"]);r!=null&&_(e,["_url","name"],r);const n=E(t,["config"]);return n!=null&&QY(n,e),e}function HY(t){const e={},r=E(t,["name"]);return r!=null&&_(e,["_url","name"],r),e}function VY(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&_(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),r}function jY(t){const e={},r=E(t,["parent"]);r!=null&&_(e,["_url","parent"],r);const n=E(t,["config"]);return n!=null&&VY(n,e),e}function GY(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&_(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const i=E(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KY extends gl{constructor(e){super(),this.apiClient=e,this.list=async r=>new pc(Al.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=HY(e);return s=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>g)}}async delete(e){var r,n;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=PY(e);i=Ut("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=jY(e);return s=Ut("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>{const d=GY(g),m=new xK;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zY extends gl{constructor(e,r=new KY(e)){super(),this.apiClient=e,this.documents=r,this.list=async(n={})=>new pc(Al.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Dq(e);return s=Ut("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>g)}}async get(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Oq(e);return s=Ut("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>g)}}async delete(e){var r,n;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Mq(e);i=Ut("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=jq(e);return s=Ut("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>{const d=Gq(g),m=new wK;return Object.assign(m,d),m})}}async uploadToFileSearchStoreInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Kq(e);return s=Ut("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>{const d=zq(g),m=new vK;return Object.assign(m,d),m})}}async importFile(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Pq(e);return s=Ut("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),i.then(g=>{const d=Qq(g),m=new Uw;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nN=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return nN=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const WY=()=>nN();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E2(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const b2=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pa extends Error{}class Is extends Pa{constructor(e,r,n,i){super(`${Is.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.error=r}static makeMessage(e,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new Cg({message:n,cause:b2(r)});const s=r;return e===400?new sN(e,s,n,i):e===401?new aN(e,s,n,i):e===403?new oN(e,s,n,i):e===404?new lN(e,s,n,i):e===409?new AN(e,s,n,i):e===422?new cN(e,s,n,i):e===429?new uN(e,s,n,i):e>=500?new fN(e,s,n,i):new Is(e,s,n,i)}}class B2 extends Is{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Cg extends Is{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class iN extends Cg{constructor({message:e}={}){super({message:e??"Request timed out."})}}class sN extends Is{}class aN extends Is{}class oN extends Is{}class lN extends Is{}class AN extends Is{}class cN extends Is{}class uN extends Is{}class fN extends Is{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XY=/^[a-z][a-z0-9+.-]*:/i,qY=t=>XY.test(t);let _2=t=>(_2=Array.isArray,_2(t));const YY=_2;let JY=YY;const ST=JY;function ZY(t){if(!t)return!0;for(const e in t)return!1;return!0}function $Y(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const eJ=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Pa(`${t} must be an integer`);if(e<0)throw new Pa(`${t} must be a positive integer`);return e},tJ=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rJ=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lu="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nJ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const iJ=()=>{var t,e,r,n,i;const s=nJ();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lu,"X-Stainless-OS":NT(Deno.build.os),"X-Stainless-Arch":IT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lu,"X-Stainless-OS":NT((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":IT((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=sJ();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function sJ(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,s=n[2]||0,l=n[3]||0;return{browser:e,version:`${i}.${s}.${l}`}}}return null}const IT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",NT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let zh;const aJ=()=>zh??(zh=iJ());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oJ(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function dN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function lJ(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return dN({start(){},async pull(r){const{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=e.return)===null||r===void 0?void 0:r.call(e))}})}function hN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function AJ(t){var e,r;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((r=(e=t[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(e));return}const n=t.getReader(),i=n.cancel();n.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cJ=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gN=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,r=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function gx(t,e,r){return gN(),new File(t,e??"unknown_file",r)}function uJ(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const fJ=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",dJ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&pN(t),hJ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function gJ(t,e,r){if(gN(),t=await t,dJ(t))return t instanceof File?t:gx([await t.arrayBuffer()],t.name);if(hJ(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),gx(await T2(i),e,r)}const n=await T2(t);if(e||(e=uJ(t)),!(r!=null&&r.type)){const i=n.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return gx(n,e,r)}async function T2(t){var e,r,n,i,s;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(pN(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(fJ(t))try{for(var c=!0,g=so(t),d;d=await g.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const m=i;l.push(...await T2(m))}}catch(m){r={error:m}}finally{try{!c&&!e&&(n=g.return)&&await n.call(g)}finally{if(r)throw r.error}}else{const m=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${pJ(t)}`)}return l}function pJ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mN{constructor(e){this._client=e}}mN._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const FT=Object.freeze(Object.create(null)),mJ=(t=xN)=>(function(r,...n){if(r.length===1)return r[0];let i=!1;const s=[],l=r.reduce((m,C,b)=>{var N,R,k;/[?#]/.test(C)&&(i=!0);const U=n[b];let j=(i?encodeURIComponent:t)(""+U);return b!==n.length&&(U==null||typeof U=="object"&&U.toString===((k=Object.getPrototypeOf((R=Object.getPrototypeOf((N=U.hasOwnProperty)!==null&&N!==void 0?N:FT))!==null&&R!==void 0?R:FT))===null||k===void 0?void 0:k.toString))&&(j=U+"",s.push({start:m.length+C.length,length:j.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),m+C+(b===n.length?"":j)},""),c=l.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=g.exec(c))!==null;)s.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(s.sort((m,C)=>m.start-C.start),s.length>0){let m=0;const C=s.reduce((b,N)=>{const R=" ".repeat(N.start-m),k="^".repeat(N.length);return m=N.start+N.length,b+R+k},"");throw new Pa(`Path parameters result in path with invalid segments:
${s.map(b=>b.error).join(`
`)}
${l}
${C}`)}return l}),Wh=mJ(xN);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wN extends mN{create(e,r){var n;const{api_version:i=this._client.apiVersion}=e,s=V1(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Pa("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Pa("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Wh`/${i}/interactions`,Object.assign(Object.assign({body:s},r),{stream:(n=e.stream)!==null&&n!==void 0?n:!1}))}delete(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(Wh`/${i}/interactions/${e}`,n)}cancel(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(Wh`/${i}/interactions/${e}/cancel`,n)}get(e,r={},n){var i;const s=r??{},{api_version:l=this._client.apiVersion}=s,c=V1(s,["api_version"]);return this._client.get(Wh`/${l}/interactions/${e}`,Object.assign(Object.assign({query:c},n),{stream:(i=r==null?void 0:r.stream)!==null&&i!==void 0?i:!1}))}}wN._key=Object.freeze(["interactions"]);class vN extends wN{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xJ(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}let Xh;function Vw(t){let e;return(Xh??(e=new globalThis.TextEncoder,Xh=e.encode.bind(e)))(t)}let qh;function RT(t){let e;return(qh??(e=new globalThis.TextDecoder,qh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eg{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Vw(e):e;this.buffer=xJ([this.buffer,r]);const n=[];let i;for(;(i=wJ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(RT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=RT(this.buffer.subarray(0,s));n.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}Eg.NEWLINE_CHARS=new Set([`
`,"\r"]);Eg.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function wJ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function vJ(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j1={off:0,error:200,warn:300,info:400,debug:500},kT=(t,e,r)=>{if(t){if($Y(j1,t))return t;Cs(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(j1))}`)}};function z0(){}function Yh(t,e,r){return!e||j1[t]>j1[r]?z0:e[t].bind(e)}const yJ={error:z0,warn:z0,info:z0,debug:z0};let DT=new WeakMap;function Cs(t){var e;const r=t.logger,n=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!r)return yJ;const i=DT.get(r);if(i&&i[0]===n)return i[1];const s={error:Yh("error",r,n),warn:Yh("warn",r,n),info:Yh("info",r,n),debug:Yh("debug",r,n)};return DT.set(r,[n,s]),s}const jA=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pu{constructor(e,r,n){this.iterator=e,this.controller=r,this.client=n}static fromSSEResponse(e,r,n){let i=!1;const s=n?Cs(n):console;function l(){return io(this,arguments,function*(){var g,d,m,C;if(i)throw new Pa("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let b=!1;try{try{for(var N=!0,R=so(CJ(e,r)),k;k=yield fr(R.next()),g=k.done,!g;N=!0){C=k.value,N=!1;const U=C;if(!b)if(U.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield fr(JSON.parse(U.data))}catch(j){throw s.error("Could not parse message into JSON:",U.data),s.error("From chunk:",U.raw),j}}}catch(U){d={error:U}}finally{try{!N&&!g&&(m=R.return)&&(yield fr(m.call(R)))}finally{if(d)throw d.error}}b=!0}catch(U){if(E2(U))return yield fr(void 0);throw U}finally{b||r.abort()}})}return new pu(l,r,n)}static fromReadableStream(e,r,n){let i=!1;function s(){return io(this,arguments,function*(){var g,d,m,C;const b=new Eg,N=hN(e);try{for(var R=!0,k=so(N),U;U=yield fr(k.next()),g=U.done,!g;R=!0){C=U.value,R=!1;const j=C;for(const K of b.decode(j))yield yield fr(K)}}catch(j){d={error:j}}finally{try{!R&&!g&&(m=k.return)&&(yield fr(m.call(k)))}finally{if(d)throw d.error}}for(const j of b.flush())yield yield fr(j)})}function l(){return io(this,arguments,function*(){var g,d,m,C;if(i)throw new Pa("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let b=!1;try{try{for(var N=!0,R=so(s()),k;k=yield fr(R.next()),g=k.done,!g;N=!0){C=k.value,N=!1;const U=C;b||U&&(yield yield fr(JSON.parse(U)))}}catch(U){d={error:U}}finally{try{!N&&!g&&(m=R.return)&&(yield fr(m.call(R)))}finally{if(d)throw d.error}}b=!0}catch(U){if(E2(U))return yield fr(void 0);throw U}finally{b||r.abort()}})}return new pu(l,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),i=s=>({next:()=>{if(s.length===0){const l=n.next();e.push(l),r.push(l)}return s.shift()}});return[new pu(()=>i(e),this.controller,this.client),new pu(()=>i(r),this.controller,this.client)]}toReadableStream(){const e=this;let r;return dN({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:s}=await r.next();if(s)return n.close();const l=Vw(JSON.stringify(i)+`
`);n.enqueue(l)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function CJ(t,e){return io(this,arguments,function*(){var n,i,s,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pa("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pa("Attempted to iterate over a response with no body");const c=new bJ,g=new Eg,d=hN(t.body);try{for(var m=!0,C=so(EJ(d)),b;b=yield fr(C.next()),n=b.done,!n;m=!0){l=b.value,m=!1;const N=l;for(const R of g.decode(N)){const k=c.decode(R);k&&(yield yield fr(k))}}}catch(N){i={error:N}}finally{try{!m&&!n&&(s=C.return)&&(yield fr(s.call(C)))}finally{if(i)throw i.error}}for(const N of g.flush()){const R=c.decode(N);R&&(yield yield fr(R))}})}function EJ(t){return io(this,arguments,function*(){var r,n,i,s;let l=new Uint8Array;try{for(var c=!0,g=so(t),d;d=yield fr(g.next()),r=d.done,!r;c=!0){s=d.value,c=!1;const m=s;if(m==null)continue;const C=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?Vw(m):m;let b=new Uint8Array(l.length+C.length);b.set(l),b.set(C,l.length),l=b;let N;for(;(N=vJ(l))!==-1;)yield yield fr(l.slice(0,N)),l=l.slice(N)}}catch(m){n={error:m}}finally{try{!c&&!r&&(i=g.return)&&(yield fr(i.call(g)))}finally{if(n)throw n.error}}l.length>0&&(yield yield fr(l))})}class bJ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=BJ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function BJ(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function _J(t,e){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:s}=e,l=await(async()=>{var c;if(e.options.stream)return Cs(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):pu.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const g=r.headers.get("content-type"),d=(c=g==null?void 0:g.split(";")[0])===null||c===void 0?void 0:c.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?r.headers.get("content-length")==="0"?void 0:await r.json():await r.text()})();return Cs(t).debug(`[${n}] response parsed`,jA({retryOfRequestLogID:i,url:r.url,status:r.status,body:l,durationMs:Date.now()-s})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jw extends Promise{constructor(e,r,n=_J){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new jw(this.client,this.responsePromise,async(r,n)=>e(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yN=Symbol("brand.privateNullableHeaders");function*TJ(t){if(!t)return;if(yN in t){const{values:n,nulls:i}=t;yield*n.entries();for(const s of i)yield[s,null];return}let e=!1,r;t instanceof Headers?r=t.entries():ST(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=ST(n[1])?n[1]:[n[1]];let l=!1;for(const c of s)c!==void 0&&(e&&!l&&(l=!0,yield[i,null]),yield[i,c])}}const R0=t=>{const e=new Headers,r=new Set;for(const n of t){const i=new Set;for(const[s,l]of TJ(n)){const c=s.toLowerCase();i.has(c)||(e.delete(s),i.add(c)),l===null?(e.delete(s),r.add(c)):(e.append(s,l),r.delete(c))}}return{[yN]:!0,values:e,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const px=t=>{var e,r,n,i,s,l;if(typeof globalThis.process<"u")return(n=(r=(e=WG)===null||e===void 0?void 0:e[t])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(l=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var CN;class bg{constructor(e){var r,n,i,s,l,c,g,{baseURL:d=px("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(r=px("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:C="v1beta"}=e,b=V1(e,["baseURL","apiKey","apiVersion"]);const N=Object.assign(Object.assign({apiKey:m,apiVersion:C},b),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=N.baseURL,this.timeout=(n=N.timeout)!==null&&n!==void 0?n:bg.DEFAULT_TIMEOUT,this.logger=(i=N.logger)!==null&&i!==void 0?i:console;const R="warn";this.logLevel=R,this.logLevel=(l=(s=kT(N.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:kT(px("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:R,this.fetchOptions=N.fetchOptions,this.maxRetries=(c=N.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(g=N.fetch)!==null&&g!==void 0?g:oJ(),this.encoder=cJ,this._options=N,this.apiKey=m,this.apiVersion=C,this.clientAdapter=N.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const r=R0([e.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return R0([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return R0([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Pa(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${lu}`}defaultIdempotencyKey(){return`stainless-node-retry-${WY()}`}makeStatusError(e,r,n,i){return Is.generate(e,r,n,i)}buildURL(e,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,s=qY(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return ZY(l)||(r=Object.assign(Object.assign({},l),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(s.search=this.stringifyQuery(r)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const r=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:e,path:r},i)))}request(e,r=null){return new jw(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){var i,s,l;const c=await e,g=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=g),await this.prepareOptions(c);const{req:d,url:m,timeout:C}=await this.buildRequest(c,{retryCount:g-r});await this.prepareRequest(d,{url:m,options:c});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),N=n===void 0?"":`, retryOf: ${n}`,R=Date.now();if(Cs(this).debug(`[${b}] sending request`,jA({retryOfRequestLogID:n,method:c.method,url:m,options:c,headers:d.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new B2;const k=new AbortController,U=await this.fetchWithTimeout(m,d,C,k).catch(b2),j=Date.now();if(U instanceof globalThis.Error){const Q=`retrying, ${r} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new B2;const J=E2(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(r)return Cs(this).info(`[${b}] connection ${J?"timed out":"failed"} - ${Q}`),Cs(this).debug(`[${b}] connection ${J?"timed out":"failed"} (${Q})`,jA({retryOfRequestLogID:n,url:m,durationMs:j-R,message:U.message})),this.retryRequest(c,r,n??b);throw Cs(this).info(`[${b}] connection ${J?"timed out":"failed"} - error; no more retries left`),Cs(this).debug(`[${b}] connection ${J?"timed out":"failed"} (error; no more retries left)`,jA({retryOfRequestLogID:n,url:m,durationMs:j-R,message:U.message})),J?new iN:new Cg({cause:U})}const K=`[${b}${N}] ${d.method} ${m} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${j-R}ms`;if(!U.ok){const Q=await this.shouldRetry(U);if(r&&Q){const O=`retrying, ${r} attempts remaining`;return await AJ(U.body),Cs(this).info(`${K} - ${O}`),Cs(this).debug(`[${b}] response error (${O})`,jA({retryOfRequestLogID:n,url:U.url,status:U.status,headers:U.headers,durationMs:j-R})),this.retryRequest(c,r,n??b,U.headers)}const J=Q?"error; no more retries left":"error; not retryable";Cs(this).info(`${K} - ${J}`);const re=await U.text().catch(O=>b2(O).message),G=tJ(re),M=G?void 0:re;throw Cs(this).debug(`[${b}] response error (${J})`,jA({retryOfRequestLogID:n,url:U.url,status:U.status,headers:U.headers,message:M,durationMs:Date.now()-R})),this.makeStatusError(U.status,G,M,U.headers)}return Cs(this).info(K),Cs(this).debug(`[${b}] response start`,jA({retryOfRequestLogID:n,url:U.url,status:U.status,headers:U.headers,durationMs:j-R})),{response:U,options:c,controller:k,requestLogID:b,retryOfRequestLogID:n,startTime:R}}async fetchWithTimeout(e,r,n,i){const s=r||{},{signal:l,method:c}=s,g=V1(s,["signal","method"]),d=this._makeAbort(i);l&&l.addEventListener("abort",d,{once:!0});const m=setTimeout(d,n),C=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,b=Object.assign(Object.assign(Object.assign({signal:i.signal},C?{duplex:"half"}:{}),{method:"GET"}),g);c&&(b.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,b)}finally{clearTimeout(m)}}async shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){var s;let l;const c=i==null?void 0:i.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(l=d)}const g=i==null?void 0:i.get("retry-after");if(g&&!l){const d=parseFloat(g);Number.isNaN(d)?l=Date.parse(g)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(r,d)}return await rJ(l),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){const s=r-e,l=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(e,{retryCount:r=0}={}){var n,i,s;const l=Object.assign({},e),{method:c,path:g,query:d,defaultBaseURL:m}=l,C=this.buildURL(g,d,m);"timeout"in l&&eJ("timeout",l.timeout),l.timeout=(n=l.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:b,body:N}=this.buildBody({options:l}),R=await this.buildHeaders({options:e,method:c,bodyHeaders:b,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:R},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&N instanceof globalThis.ReadableStream&&{duplex:"half"}),N&&{body:N}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:C,timeout:l.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let s={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let c=R0([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),aJ()),this._options.defaultHeaders,n,e.headers,l]);return this.validateHeaders(c),c.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=R0([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:lJ(e)}:this.encoder({body:e,headers:n})}}bg.DEFAULT_TIMEOUT=6e4;class ki extends bg{constructor(){super(...arguments),this.interactions=new vN(this)}}CN=ki;ki.GeminiNextGenAPIClient=CN;ki.GeminiNextGenAPIClientError=Pa;ki.APIError=Is;ki.APIConnectionError=Cg;ki.APIConnectionTimeoutError=iN;ki.APIUserAbortError=B2;ki.NotFoundError=lN;ki.ConflictError=AN;ki.RateLimitError=uN;ki.BadRequestError=sN;ki.AuthenticationError=aN;ki.InternalServerError=fN;ki.PermissionDeniedError=oN;ki.UnprocessableEntityError=cN;ki.toFile=gJ;ki.Interactions=vN;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SJ(t,e){const r={},n=E(t,["name"]);return n!=null&&_(r,["_url","name"],n),r}function IJ(t,e){const r={},n=E(t,["name"]);return n!=null&&_(r,["_url","name"],n),r}function NJ(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&_(r,["sdkHttpResponse"],n),r}function FJ(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&_(r,["sdkHttpResponse"],n),r}function RJ(t,e,r){const n={};if(E(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=E(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&_(e,["displayName"],i),E(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=E(t,["epochCount"]);e!==void 0&&s!=null&&_(e,["tuningTask","hyperparameters","epochCount"],s);const l=E(t,["learningRateMultiplier"]);if(l!=null&&_(n,["tuningTask","hyperparameters","learningRateMultiplier"],l),E(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(E(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(E(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(E(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(E(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=E(t,["batchSize"]);e!==void 0&&c!=null&&_(e,["tuningTask","hyperparameters","batchSize"],c);const g=E(t,["learningRate"]);if(e!==void 0&&g!=null&&_(e,["tuningTask","hyperparameters","learningRate"],g),E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(E(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(E(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(E(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(E(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(E(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(E(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return n}function kJ(t,e,r){const n={};let i=E(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const G=E(t,["validationDataset"]);e!==void 0&&G!=null&&_(e,["supervisedTuningSpec"],mx(G))}else if(i==="PREFERENCE_TUNING"){const G=E(t,["validationDataset"]);e!==void 0&&G!=null&&_(e,["preferenceOptimizationSpec"],mx(G))}else if(i==="DISTILLATION"){const G=E(t,["validationDataset"]);e!==void 0&&G!=null&&_(e,["distillationSpec"],mx(G))}const s=E(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&_(e,["tunedModelDisplayName"],s);const l=E(t,["description"]);e!==void 0&&l!=null&&_(e,["description"],l);let c=E(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const G=E(t,["epochCount"]);e!==void 0&&G!=null&&_(e,["supervisedTuningSpec","hyperParameters","epochCount"],G)}else if(c==="PREFERENCE_TUNING"){const G=E(t,["epochCount"]);e!==void 0&&G!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],G)}else if(c==="DISTILLATION"){const G=E(t,["epochCount"]);e!==void 0&&G!=null&&_(e,["distillationSpec","hyperParameters","epochCount"],G)}let g=E(r,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const G=E(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&_(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],G)}else if(g==="PREFERENCE_TUNING"){const G=E(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],G)}else if(g==="DISTILLATION"){const G=E(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&_(e,["distillationSpec","hyperParameters","learningRateMultiplier"],G)}let d=E(r,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const G=E(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&_(e,["supervisedTuningSpec","exportLastCheckpointOnly"],G)}else if(d==="PREFERENCE_TUNING"){const G=E(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&_(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],G)}else if(d==="DISTILLATION"){const G=E(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&_(e,["distillationSpec","exportLastCheckpointOnly"],G)}let m=E(r,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const G=E(t,["adapterSize"]);e!==void 0&&G!=null&&_(e,["supervisedTuningSpec","hyperParameters","adapterSize"],G)}else if(m==="PREFERENCE_TUNING"){const G=E(t,["adapterSize"]);e!==void 0&&G!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],G)}else if(m==="DISTILLATION"){const G=E(t,["adapterSize"]);e!==void 0&&G!=null&&_(e,["distillationSpec","hyperParameters","adapterSize"],G)}let C=E(r,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const G=E(t,["tuningMode"]);e!==void 0&&G!=null&&_(e,["supervisedTuningSpec","tuningMode"],G)}const b=E(t,["customBaseModel"]);e!==void 0&&b!=null&&_(e,["customBaseModel"],b);let N=E(r,["config","method"]);if(N===void 0&&(N="SUPERVISED_FINE_TUNING"),N==="SUPERVISED_FINE_TUNING"){const G=E(t,["batchSize"]);e!==void 0&&G!=null&&_(e,["supervisedTuningSpec","hyperParameters","batchSize"],G)}let R=E(r,["config","method"]);if(R===void 0&&(R="SUPERVISED_FINE_TUNING"),R==="SUPERVISED_FINE_TUNING"){const G=E(t,["learningRate"]);e!==void 0&&G!=null&&_(e,["supervisedTuningSpec","hyperParameters","learningRate"],G)}const k=E(t,["labels"]);e!==void 0&&k!=null&&_(e,["labels"],k);const U=E(t,["beta"]);e!==void 0&&U!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","beta"],U);const j=E(t,["baseTeacherModel"]);e!==void 0&&j!=null&&_(e,["distillationSpec","baseTeacherModel"],j);const K=E(t,["tunedTeacherModelSource"]);e!==void 0&&K!=null&&_(e,["distillationSpec","tunedTeacherModelSource"],K);const Q=E(t,["sftLossWeightMultiplier"]);e!==void 0&&Q!=null&&_(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],Q);const J=E(t,["outputUri"]);e!==void 0&&J!=null&&_(e,["outputUri"],J);const re=E(t,["encryptionSpec"]);return e!==void 0&&re!=null&&_(e,["encryptionSpec"],re),n}function DJ(t,e){const r={},n=E(t,["baseModel"]);n!=null&&_(r,["baseModel"],n);const i=E(t,["preTunedModel"]);i!=null&&_(r,["preTunedModel"],i);const s=E(t,["trainingDataset"]);s!=null&&KJ(s);const l=E(t,["config"]);return l!=null&&RJ(l,r),r}function UJ(t,e){const r={},n=E(t,["baseModel"]);n!=null&&_(r,["baseModel"],n);const i=E(t,["preTunedModel"]);i!=null&&_(r,["preTunedModel"],i);const s=E(t,["trainingDataset"]);s!=null&&zJ(s,r,e);const l=E(t,["config"]);return l!=null&&kJ(l,r,e),r}function MJ(t,e){const r={},n=E(t,["name"]);return n!=null&&_(r,["_url","name"],n),r}function OJ(t,e){const r={},n=E(t,["name"]);return n!=null&&_(r,["_url","name"],n),r}function LJ(t,e,r){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const s=E(t,["pageToken"]);e!==void 0&&s!=null&&_(e,["_query","pageToken"],s);const l=E(t,["filter"]);return e!==void 0&&l!=null&&_(e,["_query","filter"],l),n}function QJ(t,e,r){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const s=E(t,["pageToken"]);e!==void 0&&s!=null&&_(e,["_query","pageToken"],s);const l=E(t,["filter"]);return e!==void 0&&l!=null&&_(e,["_query","filter"],l),n}function PJ(t,e){const r={},n=E(t,["config"]);return n!=null&&LJ(n,r),r}function HJ(t,e){const r={},n=E(t,["config"]);return n!=null&&QJ(n,r),r}function VJ(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&_(r,["nextPageToken"],i);const s=E(t,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>EN(c))),_(r,["tuningJobs"],l)}return r}function jJ(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&_(r,["nextPageToken"],i);const s=E(t,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>S2(c))),_(r,["tuningJobs"],l)}return r}function GJ(t,e){const r={},n=E(t,["name"]);n!=null&&_(r,["model"],n);const i=E(t,["name"]);return i!=null&&_(r,["endpoint"],i),r}function KJ(t,e){const r={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=E(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),_(r,["examples","examples"],i)}return r}function zJ(t,e,r){const n={};let i=E(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=E(t,["gcsUri"]);e!==void 0&&l!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=E(t,["gcsUri"]);e!==void 0&&l!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(i==="DISTILLATION"){const l=E(t,["gcsUri"]);e!==void 0&&l!=null&&_(e,["distillationSpec","promptDatasetUri"],l)}let s=E(r,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=E(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=E(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(s==="DISTILLATION"){const l=E(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&_(e,["distillationSpec","promptDatasetUri"],l)}if(E(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function EN(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["name"]);i!=null&&_(r,["name"],i);const s=E(t,["state"]);s!=null&&_(r,["state"],Q3(s));const l=E(t,["createTime"]);l!=null&&_(r,["createTime"],l);const c=E(t,["tuningTask","startTime"]);c!=null&&_(r,["startTime"],c);const g=E(t,["tuningTask","completeTime"]);g!=null&&_(r,["endTime"],g);const d=E(t,["updateTime"]);d!=null&&_(r,["updateTime"],d);const m=E(t,["description"]);m!=null&&_(r,["description"],m);const C=E(t,["baseModel"]);C!=null&&_(r,["baseModel"],C);const b=E(t,["_self"]);return b!=null&&_(r,["tunedModel"],GJ(b)),r}function S2(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["name"]);i!=null&&_(r,["name"],i);const s=E(t,["state"]);s!=null&&_(r,["state"],Q3(s));const l=E(t,["createTime"]);l!=null&&_(r,["createTime"],l);const c=E(t,["startTime"]);c!=null&&_(r,["startTime"],c);const g=E(t,["endTime"]);g!=null&&_(r,["endTime"],g);const d=E(t,["updateTime"]);d!=null&&_(r,["updateTime"],d);const m=E(t,["error"]);m!=null&&_(r,["error"],m);const C=E(t,["description"]);C!=null&&_(r,["description"],C);const b=E(t,["baseModel"]);b!=null&&_(r,["baseModel"],b);const N=E(t,["tunedModel"]);N!=null&&_(r,["tunedModel"],N);const R=E(t,["preTunedModel"]);R!=null&&_(r,["preTunedModel"],R);const k=E(t,["supervisedTuningSpec"]);k!=null&&_(r,["supervisedTuningSpec"],k);const U=E(t,["preferenceOptimizationSpec"]);U!=null&&_(r,["preferenceOptimizationSpec"],U);const j=E(t,["distillationSpec"]);j!=null&&_(r,["distillationSpec"],j);const K=E(t,["tuningDataStats"]);K!=null&&_(r,["tuningDataStats"],K);const Q=E(t,["encryptionSpec"]);Q!=null&&_(r,["encryptionSpec"],Q);const J=E(t,["partnerModelTuningSpec"]);J!=null&&_(r,["partnerModelTuningSpec"],J);const re=E(t,["customBaseModel"]);re!=null&&_(r,["customBaseModel"],re);const G=E(t,["experiment"]);G!=null&&_(r,["experiment"],G);const M=E(t,["labels"]);M!=null&&_(r,["labels"],M);const P=E(t,["outputUri"]);P!=null&&_(r,["outputUri"],P);const O=E(t,["pipelineJob"]);O!=null&&_(r,["pipelineJob"],O);const ee=E(t,["serviceAccount"]);ee!=null&&_(r,["serviceAccount"],ee);const te=E(t,["tunedModelDisplayName"]);te!=null&&_(r,["tunedModelDisplayName"],te);const W=E(t,["veoTuningSpec"]);return W!=null&&_(r,["veoTuningSpec"],W),r}function WJ(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&_(r,["sdkHttpResponse"],n);const i=E(t,["name"]);i!=null&&_(r,["name"],i);const s=E(t,["metadata"]);s!=null&&_(r,["metadata"],s);const l=E(t,["done"]);l!=null&&_(r,["done"],l);const c=E(t,["error"]);return c!=null&&_(r,["error"],c),r}function mx(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&_(r,["validationDatasetUri"],n);const i=E(t,["vertexDatasetResource"]);return i!=null&&_(r,["validationDatasetUri"],i),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XJ extends gl{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new pc(Al.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},r),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),s=await this.tuneMldevInternal(i);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:g2.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=OJ(e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>S2(m))}else{const d=MJ(e);return c=Ut("{name}",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>EN(m))}}async listInternal(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=HJ(e);return c=Ut("tuningJobs",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=jJ(m),b=new oT;return Object.assign(b,C),b})}else{const d=PJ(e);return c=Ut("tunedModels",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=VJ(m),b=new oT;return Object.assign(b,C),b})}}async cancel(e){var r,n,i,s;let l,c="",g={};if(this.apiClient.isVertexAI()){const d=IJ(e);return c=Ut("{name}:cancel",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=FJ(m),b=new lT;return Object.assign(b,C),b})}else{const d=SJ(e);return c=Ut("{name}:cancel",d._url),g=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:g,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const C=NJ(m),b=new lT;return Object.assign(b,C),b})}}async tuneInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=UJ(e,e);return s=Ut("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:g.headers},m})),i.then(g=>S2(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=DJ(e);return s=Ut("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:g.headers},m})),i.then(g=>WJ(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qJ{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const YJ=1024*1024*8,JJ=3,ZJ=1e3,$J=2,G1="x-goog-upload-status";async function eZ(t,e,r){var n;const i=await bN(t,e,r),s=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[G1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function tZ(t,e,r){var n;const i=await bN(t,e,r),s=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[G1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=k3(s),c=new Mw;return Object.assign(c,l),c}async function bN(t,e,r){var n,i;let s=0,l=0,c=new m2(new Response),g="upload";for(s=t.size;l<s;){const d=Math.min(YJ,s-l),m=t.slice(l,l+d);l+d>=s&&(g+=", finalize");let C=0,b=ZJ;for(;C<JJ&&(c=await r.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((n=c==null?void 0:c.headers)===null||n===void 0)&&n[G1]));)C++,await nZ(b),b=b*$J;if(l+=d,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[G1])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function rZ(t){return{size:t.size,type:t.type}}function nZ(t){return new Promise(e=>setTimeout(e,t))}class iZ{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eZ(e,r,n)}async uploadToFileSearchStore(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tZ(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rZ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sZ{create(e,r,n){return new aZ(e,r,n)}}class aZ{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UT="x-goog-api-key";class oZ{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get(UT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(UT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lZ="gl-node/";class Gw{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const r=this.httpOptions;r!=null&&r.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ki({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:r==null?void 0:r.timeout,maxRetries:(e=r==null?void 0:r.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=n.interactions,this._interactions}constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=JG(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new oZ(this.apiKey);this.apiClient=new rY({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:lZ+"web",uploader:new iZ,downloader:new qJ}),this.models=new yY(this.apiClient),this.live=new gY(this.apiClient,i,new sZ),this.batches=new Tz(this.apiClient),this.chats=new lW(this.models,this.apiClient),this.caches=new sW(this.apiClient),this.files=new vW(this.apiClient),this.operations=new CY(this.apiClient),this.authTokens=new LY(this.apiClient),this.tunings=new XJ(this.apiClient),this.fileSearchStores=new zY(this.apiClient)}}const AZ=({currentUser:t,onNavigateToHome:e,quotes:r,onAddQuote:n,onUpdateQuote:i,onDeleteQuote:s,settings:l,products:c})=>{const[g,d]=Ce.useState(!1),[m,C]=Ce.useState(""),[b,N]=Ce.useState(null),[R,k]=Ce.useState(null),[U,j]=Ce.useState(""),[K,Q]=Ce.useState(""),[J,re]=Ce.useState([]),[G,M]=Ce.useState(""),[P,O]=Ce.useState(!1),[ee,te]=Ce.useState(!1),[W,q]=Ce.useState(null),[Ie,xe]=Ce.useState([]),[ge,ye]=Ce.useState([]),[We,Ee]=Ce.useState(null),et=Ce.useRef(null),ne=Ce.useRef(null),X=Ce.useRef(null),ue=Ce.useRef(null),oe=Ce.useRef(null),[ce,be]=Ce.useState(!1),[Je,ke]=Ce.useState(""),[He,Te]=Ce.useState(""),[pt,se]=Ce.useState(""),[Xe,vt]=Ce.useState(!1),Ft=Ce.useRef(null);Ce.useEffect(()=>()=>{ne.current&&ne.current.getTracks().forEach(st=>st.stop())},[]),Ce.useEffect(()=>(W&&ue.current&&(X.current&&X.current.destroy(),X.current=new Cropper(ue.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1})),()=>{X.current&&(X.current.destroy(),X.current=null)}),[W]);const At=async()=>{te(!0);try{const st=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280}},audio:!1});ne.current=st,et.current&&(et.current.srcObject=st,et.current.play())}catch{te(!1),alert("  ")}},ot=()=>{ne.current&&ne.current.getTracks().forEach(st=>st.stop()),te(!1)},Dt=()=>{var st;if(et.current){const bt=document.createElement("canvas");bt.width=et.current.videoWidth,bt.height=et.current.videoHeight,(st=bt.getContext("2d"))==null||st.drawImage(et.current,0,0),q(bt.toDataURL("image/jpeg",.9)),ot()}},Nt=st=>{const bt=st.target.files;if(bt&&bt.length>0){const Wt=[];Array.from(bt).forEach(Er=>{Wt.push(new Promise(Gt=>{const Ne=new FileReader;Ne.onloadend=()=>Gt(Ne.result),Ne.readAsDataURL(Er)}))}),Promise.all(Wt).then(Er=>{q(Er[0]),ye(Er.slice(1))})}st.target.value=""},wr=()=>{if(X.current){const bt=X.current.getCroppedCanvas({maxWidth:1024}).toDataURL("image/jpeg",.8);xe(Wt=>[...Wt,bt]),ge.length>0?(q(ge[0]),ye(Wt=>Wt.slice(1))):(q(null),d(!0))}},Tt=async()=>{if(Ie.length!==0){O(!0);try{const st=new Gw({apiKey:"PLACEHOLDER_API_KEY"}),bt=Ie.map(Rt=>({inlineData:{mimeType:"image/jpeg",data:Rt.split(",")[1]}})),Er=await st.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[...bt,{text:'         (Droguerie).     ( )  ( ).    JSON     : "productName" "price" "count"'}]},config:{responseMimeType:"application/json",responseSchema:{type:As.ARRAY,items:{type:As.OBJECT,properties:{productName:{type:As.STRING},price:{type:As.NUMBER},count:{type:As.NUMBER}},required:["productName","price","count"]}}}}),Ne=JSON.parse(Er.text||"[]").map(Rt=>({id:`ai-${Date.now()}-${Math.random()}`,productName:Rt.productName,price:Rt.price||0,count:Rt.count||1,total:(Rt.price||0)*(Rt.count||1),isManual:!0}));re(Rt=>[...Rt,...Ne]),navigator.vibrate&&navigator.vibrate([100,50,100])}catch{alert("    .")}finally{O(!1)}}},un=(st,bt)=>{re(Wt=>Wt.map(Er=>{if(Er.id===st){const Gt={...Er,...bt};return{...Gt,total:Gt.price*Gt.count}}return Er}))},nn=Ce.useMemo(()=>r.filter(st=>st.customerName.toLowerCase().includes(m.toLowerCase())),[r,m]),Pe=Ce.useMemo(()=>J.length>0?J.reduce((st,bt)=>st+bt.total,0):parseFloat(G)||0,[J,G]),Le=()=>{j(""),Q(""),re([]),xe([]),M(""),k(null)},lt=()=>{var bt;if(!U)return;const st={id:R||`QT-${Date.now()}`,customerName:U,customerPhone:K,amount:Pe,date:new Date().toISOString().split("T")[0],createdAt:R&&((bt=r.find(Wt=>Wt.id===R))==null?void 0:bt.createdAt)||Date.now(),items:J,image:Ie.length>0?Ie[0]:void 0,images:Ie,creatorName:t.name};R?i(st):n(st),d(!1),Le()},kt=st=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(st),tr=async()=>{if(!(!b||!Ft.current)){vt(!0);try{(await AA(Ft.current,{scale:3,backgroundColor:"#ffffff",useCORS:!0,width:600})).toBlob(async bt=>{if(!bt){vt(!1);return}try{const Wt=new ClipboardItem({"image/png":bt});await navigator.clipboard.write([Wt]),window.open("https://wa.me/","_blank")}catch{window.open("https://wa.me/","_blank")}finally{vt(!1)}},"image/png",1)}catch{vt(!1)}}};return f.jsxs("div",{className:"w-full min-h-screen bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative font-['Tajawal']",children:[f.jsx("input",{type:"file",ref:oe,accept:"image/*",multiple:!0,className:"hidden",onChange:Nt}),f.jsxs("div",{ref:Ft,style:{position:"fixed",top:0,left:-9999,width:"600px",padding:"40px",backgroundColor:"white",color:"black",direction:"rtl",zIndex:-1},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderBottom:"3px solid #f59e0b",paddingBottom:"20px",marginBottom:"30px"},children:[f.jsxs("div",{children:[l.businessLogo&&f.jsx("img",{src:l.businessLogo,alt:"Logo",style:{maxWidth:"80px",marginBottom:"10px"}}),f.jsx("h3",{style:{fontSize:"24px",fontWeight:"900",color:"#f59e0b",margin:0},children:l.businessName}),f.jsx("p",{style:{fontSize:"14px",color:"#666",margin:"5px 0 0 0"},children:l.userName})]}),f.jsxs("div",{style:{textAlign:"left"},children:[f.jsx("h1",{style:{fontSize:"32px",fontWeight:"900",margin:0},children:" "}),f.jsxs("p",{style:{fontSize:"14px",color:"#666"},children:[": ",f.jsx("span",{style:{fontWeight:"bold",color:"#000"},children:b==null?void 0:b.id})]}),f.jsxs("p",{style:{fontSize:"14px",color:"#666"},children:[": ",f.jsx("span",{style:{fontWeight:"bold",color:"#000"},children:b==null?void 0:b.date})]})]})]}),f.jsxs("div",{style:{backgroundColor:"#fffbeb",border:"1px solid #fef3c7",padding:"20px",borderRadius:"15px",marginBottom:"30px"},children:[f.jsx("div",{style:{fontSize:"12px",color:"#92400e",fontWeight:"bold"},children:"  ():"}),f.jsx("div",{style:{fontSize:"20px",fontWeight:"900",marginTop:"5px"},children:b==null?void 0:b.customerName}),(b==null?void 0:b.customerPhone)&&f.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[" : ",b.customerPhone]})]}),b!=null&&b.items&&b.items.length>0?f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"30px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{borderBottom:"2px solid #000"},children:[f.jsx("th",{style:{textAlign:"right",padding:"15px",fontSize:"16px"},children:" / "}),f.jsx("th",{style:{textAlign:"center",padding:"15px",fontSize:"16px"},children:""}),f.jsx("th",{style:{textAlign:"center",padding:"15px",fontSize:"16px"},children:""}),f.jsx("th",{style:{textAlign:"left",padding:"15px",fontSize:"16px"},children:""})]})}),f.jsx("tbody",{children:b.items.map((st,bt)=>f.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[f.jsx("td",{style:{padding:"15px",fontSize:"15px",fontWeight:"bold"},children:st.productName}),f.jsx("td",{style:{padding:"15px",textAlign:"center",fontSize:"15px"},children:st.count}),f.jsx("td",{style:{padding:"15px",textAlign:"center",fontSize:"15px"},children:kt(st.price)}),f.jsx("td",{style:{padding:"15px",textAlign:"left",fontWeight:"900",fontSize:"15px"},children:kt(st.total)})]},bt))})]}):f.jsx("div",{style:{textAlign:"center",padding:"40px",border:"2px dashed #ddd",borderRadius:"20px",marginBottom:"30px",color:"#999"},children:"   (    )"}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#333",color:"white",padding:"25px",borderRadius:"15px"},children:[f.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" :"}),f.jsxs("span",{style:{fontSize:"28px",fontWeight:"900"},children:[b==null?void 0:b.amount.toFixed(2)," ."]})]}),f.jsxs("div",{style:{textAlign:"center",marginTop:"40px",fontSize:"12px",color:"#888",borderTop:"1px solid #eee",paddingTop:"20px"},children:[f.jsx("p",{style:{fontWeight:"bold",color:"#000"},children:"     7   "}),f.jsx("p",{children:l.signatureName})]})]}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 border-b border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsx("span",{className:"text-[10px] text-amber-500 font-bold",children:"  "})]}),f.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-10 pl-4 text-white focus:border-amber-500 outline-none transition-all text-right placeholder:text-gray-600 font-bold",value:m,onChange:st=>C(st.target.value)}),f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto px-4 space-y-3 pb-36",children:nn.length>0?nn.map(st=>f.jsxs("div",{onClick:()=>N(st),className:"bg-[#111111] border border-gray-800/40 p-5 rounded-[2rem] flex justify-between items-center active:scale-[0.98] cursor-pointer",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-500 overflow-hidden",children:st.image?f.jsx("img",{src:st.image,className:"w-full h-full object-cover"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-sm font-black text-white",children:st.customerName}),f.jsxs("p",{className:"text-[10px] text-gray-500",children:[st.date," - ",st.items.length||""," "]})]})]}),f.jsx("div",{className:"text-left",children:f.jsxs("span",{className:"text-sm font-black text-amber-500",children:[kt(st.amount)," ."]})})]},st.id)):f.jsx("div",{className:"text-center py-20 text-gray-600 font-bold",children:"   "})}),f.jsxs("div",{className:"fixed bottom-6 left-6 right-6 z-30 flex gap-4",children:[f.jsxs("button",{onClick:()=>{var st;return(st=oe.current)==null?void 0:st.click()},className:"flex-1 bg-amber-600 hover:bg-amber-500 text-white py-4 rounded-3xl font-black shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3 border-4 border-[#0c0c0c]",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),f.jsx("span",{children:" "})]}),f.jsxs("button",{onClick:()=>{Le(),d(!0)},className:"flex-1 bg-[#1a1a1a] text-gray-200 py-4 rounded-3xl font-black shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3 border border-gray-700",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),f.jsx("span",{children:" "})]})]}),b&&f.jsxs("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] flex flex-col animate-in slide-in-from-bottom duration-400",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50",children:[f.jsx("button",{onClick:()=>N(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h2",{className:"text-xl font-bold",children:" "}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>{k(b.id),j(b.customerName),Q(b.customerPhone||""),re(b.items),xe(b.images||[]),M(b.amount.toString()),N(null),d(!0)},className:"p-3 bg-amber-500/10 rounded-2xl border border-amber-500/20 text-amber-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),f.jsx("button",{onClick:()=>{window.confirm("")&&(s(b.id),N(null))},className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M3 6h18M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"})})})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-2xl font-black",children:b.customerName}),f.jsxs("p",{className:"text-sm text-gray-500",children:[" : ",b.id]})]}),b.images&&b.images.length>0&&f.jsx("div",{className:"space-y-2",children:f.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:b.images.map((st,bt)=>f.jsx("div",{onClick:()=>Ee(st),className:"w-full aspect-[4/3] bg-[#1a1a1a] rounded-3xl overflow-hidden border border-gray-800 flex-shrink-0",children:f.jsx("img",{src:st,className:"w-full h-full object-contain"})},bt))})}),b.items&&b.items.length>0&&f.jsx("div",{className:"space-y-3",children:b.items.map((st,bt)=>f.jsxs("div",{className:"bg-[#111111] p-4 rounded-2xl flex justify-between items-center",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"font-bold text-white text-sm",children:st.productName}),f.jsxs("div",{className:"text-[10px] text-gray-500",children:[st.count,"  ",st.price]})]}),f.jsx("div",{className:"font-black text-amber-500",children:kt(st.total)})]},bt))}),f.jsxs("div",{className:"bg-[#1a1a1a] p-5 rounded-2xl border border-gray-800 text-center",children:[f.jsx("p",{className:"text-xs text-gray-400",children:" "}),f.jsxs("h3",{className:"text-3xl font-black text-white",children:[kt(b.amount)," ."]})]})]}),f.jsxs("div",{className:"p-6 bg-[#0c0c0c] border-t border-gray-800 pb-10 flex gap-3",children:[f.jsx("button",{onClick:tr,disabled:Xe,className:"flex-1 bg-[#25D366] text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 flex items-center justify-center gap-2",children:Xe?" ...":"  "}),f.jsx("button",{onClick:()=>N(null),className:"px-8 bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]}),g&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 overflow-y-auto max-h-[90vh] relative",children:[P&&f.jsxs("div",{className:"absolute inset-0 z-50 bg-black/80 flex flex-col items-center justify-center rounded-[2.5rem] p-6 text-center animate-in fade-in",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mb-4"}),f.jsx("h3",{className:"text-xl font-black text-white",children:"  ..."}),f.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"      "})]}),f.jsx("h2",{className:"text-xl font-black text-center",children:R?" ":"  "}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsxs("div",{className:"flex-1 flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:[Ie.map((st,bt)=>f.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0 bg-black rounded-xl overflow-hidden border border-gray-800 group",children:[f.jsx("img",{src:st,className:"w-full h-full object-cover"}),f.jsx("button",{onClick:()=>xe(Wt=>Wt.filter((Er,Gt)=>Gt!==bt)),className:"absolute top-1 right-1 bg-red-600 rounded-full w-5 h-5 flex items-center justify-center text-[10px] font-black",children:""})]},bt)),f.jsxs("button",{onClick:()=>At(),className:"w-24 h-24 flex-shrink-0 bg-gray-800 rounded-xl border border-dashed border-gray-600 flex flex-col items-center justify-center gap-1 text-gray-400 active:scale-95 transition-transform",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),f.jsx("span",{className:"text-[8px] font-bold",children:" "})]})]}),Ie.length>0&&f.jsxs("button",{onClick:Tt,disabled:P,className:"w-14 h-24 bg-amber-500/20 border border-amber-500/40 rounded-xl flex flex-col items-center justify-center gap-2 text-amber-500 active:scale-95 transition-all shadow-lg",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"}),f.jsx("path",{d:"M12 7v5l3 3"})]}),f.jsx("span",{className:"text-[8px] font-black",children:" AI"})]})]}),f.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-4 text-white text-right font-bold",value:U,onChange:st=>j(st.target.value)}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("input",{type:"tel",placeholder:" ",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-4 text-white text-right text-sm",value:K,onChange:st=>Q(st.target.value)}),f.jsx("input",{type:"number",placeholder:" ()",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-4 text-amber-500 text-center font-black",value:G,onChange:st=>M(st.target.value)})]}),f.jsx("div",{className:"flex items-center justify-between px-1",children:f.jsxs("span",{className:"text-[10px] text-gray-500 font-bold uppercase",children:["  (",J.length,")"]})}),f.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-2 bg-black/40 p-2 rounded-2xl border border-gray-800/50 custom-scrollbar",children:J.length>0?J.map(st=>f.jsxs("div",{className:"bg-[#1a1a1a] p-3 rounded-xl border border-gray-800 flex flex-col gap-2 group animate-in slide-in-from-right duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("button",{onClick:()=>re(bt=>bt.filter(Wt=>Wt.id!==st.id)),className:"text-red-500/50 hover:text-red-500 p-1",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),f.jsx("input",{type:"text",className:"flex-1 bg-transparent text-right font-bold text-sm text-white outline-none border-b border-transparent focus:border-amber-500/30 px-1",value:st.productName,onChange:bt=>un(st.id,{productName:bt.target.value})})]}),f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsxs("div",{className:"flex-1 flex items-center bg-black/50 rounded-lg border border-gray-800 px-2 h-9",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold ml-2",children:":"}),f.jsx("input",{type:"number",className:"w-full bg-transparent text-center font-black text-xs text-amber-500 outline-none",value:st.price||"",onChange:bt=>un(st.id,{price:parseFloat(bt.target.value)||0})})]}),f.jsxs("div",{className:"w-20 flex items-center bg-black/50 rounded-lg border border-gray-800 px-2 h-9",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold ml-2",children:":"}),f.jsx("input",{type:"number",className:"w-full bg-transparent text-center font-black text-xs text-white outline-none",value:st.count||"",onChange:bt=>un(st.id,{count:parseFloat(bt.target.value)||0})})]}),f.jsx("div",{className:"min-w-[60px] text-left",children:f.jsx("span",{className:"text-[10px] font-black text-gray-200",children:st.total.toFixed(2)})})]})]},st.id)):f.jsx("div",{className:"py-8 text-center text-gray-600 italic text-xs",children:"    "})}),J.length>0&&f.jsxs("div",{className:"bg-amber-500/10 p-3 rounded-xl border border-amber-500/20 flex justify-between items-center",children:[f.jsx("span",{className:"text-xs font-bold text-gray-400",children:" :"}),f.jsxs("span",{className:"font-black text-lg text-amber-500",children:[Pe.toFixed(2)," ."]})]}),f.jsxs("button",{onClick:()=>be(!0),className:"w-full bg-blue-500/10 text-blue-500 border border-blue-500/20 py-3 rounded-xl text-xs font-black active:scale-95 transition-all flex items-center justify-center gap-2",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"  "]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:lt,disabled:!U||J.length===0&&Ie.length===0,className:"w-full bg-amber-600 py-4 rounded-2xl text-white font-black shadow-lg active:scale-95 transition-all",children:"  "}),f.jsx("button",{onClick:()=>{d(!1),Le()},className:"w-full bg-[#1a1a1a] text-gray-500 py-3 rounded-2xl font-bold active:scale-95",children:""})]})]})}),ce&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 flex items-center justify-center p-6 animate-in fade-in",children:f.jsxs("div",{className:"w-full max-w-xs bg-[#161616] p-6 rounded-3xl space-y-4 border border-gray-800 shadow-2xl",children:[f.jsx("h3",{className:"text-center font-black",children:"  "}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"text",placeholder:" ...",className:"w-full bg-black border border-gray-800 p-3 rounded-xl text-right text-sm font-bold text-white outline-none focus:border-blue-500",value:Je,onChange:st=>ke(st.target.value)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),f.jsx("input",{type:"number",placeholder:"...",className:"w-full bg-black border border-gray-800 p-3 rounded-xl text-center text-sm font-black text-amber-500 outline-none focus:border-blue-500",value:He,onChange:st=>Te(st.target.value)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),f.jsx("input",{type:"number",placeholder:"...",className:"w-full bg-black border border-gray-800 p-3 rounded-xl text-center text-sm font-black text-white outline-none focus:border-blue-500",value:pt,onChange:st=>se(st.target.value)})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[f.jsx("button",{onClick:()=>{Je&&(re(st=>[...st,{id:`m-${Date.now()}`,productName:Je,price:parseFloat(He)||0,count:parseFloat(pt)||0,total:(parseFloat(He)||0)*(parseFloat(pt)||0),isManual:!0}]),ke(""),Te(""),se(""),be(!1))},className:"w-full bg-blue-600 py-3.5 rounded-xl font-black active:scale-95 transition-all shadow-lg",children:" "}),f.jsx("button",{onClick:()=>be(!1),className:"w-full text-gray-500 text-sm font-bold py-2",children:""})]})]})}),ee&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[f.jsx("video",{ref:et,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:f.jsx("div",{className:"w-72 h-[450px] border-2 border-amber-500/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})}),f.jsxs("div",{className:"absolute bottom-10 flex gap-10",children:[f.jsx("button",{onClick:ot,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),f.jsx("button",{onClick:Dt,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center active:scale-90 transition-all border-[6px] border-white/20",children:f.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),f.jsx("div",{className:"w-14 h-14"})]})]}),W&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex items-center justify-center animate-in fade-in duration-300",children:[f.jsx("div",{className:"flex-1 w-full bg-[#111111] flex items-center justify-center overflow-hidden",children:f.jsx("img",{ref:ue,src:W,className:"max-w-full max-h-full object-contain"})}),f.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 w-full",children:[f.jsx("button",{onClick:wr,className:"flex-1 bg-amber-600 text-white py-4 rounded-2xl font-black text-lg active:scale-95",children:" "}),f.jsx("button",{onClick:()=>q(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]}),We&&f.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>Ee(null),children:[f.jsx("img",{src:We,className:"max-w-full max-h-full object-contain shadow-2xl"}),f.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},cZ=({onNavigateToHome:t})=>{const[e,r]=Ce.useState(""),[n,i]=Ce.useState(null),[s,l]=Ce.useState(!1),[c,g]=Ce.useState(!1),d=Ce.useRef(null);Ce.useEffect(()=>{const N=window.SpeechRecognition||window.webkitSpeechRecognition;N&&(d.current=new N,d.current.continuous=!1,d.current.lang="ar-MA",d.current.interimResults=!1,d.current.onresult=R=>{const k=R.results[0][0].transcript;r(k),C(k)},d.current.onend=()=>g(!1),d.current.onerror=()=>g(!1))},[]);const m=()=>{var N,R;c?(N=d.current)==null||N.stop():(i(null),(R=d.current)==null||R.start(),g(!0),navigator.vibrate&&navigator.vibrate(50))},C=async(N=e)=>{if(N.trim()){l(!0);try{const U=await new Gw({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-3-flash-preview",contents:N,config:{systemInstruction:`       (Droguerie)  .
      :
      1.    ""    ()   .
      2.    "   " (  )        .
            JSON    : "ar"  "fr".`,responseMimeType:"application/json",responseSchema:{type:As.OBJECT,properties:{ar:{type:As.STRING,description:"   "},fr:{type:As.STRING,description:"   "}},required:["ar","fr"]}}}),j=JSON.parse(U.text||'{"ar":"", "fr":""}');i(j)}catch(R){console.error(R)}finally{l(!1)}}},b=N=>{navigator.clipboard.writeText(N),navigator.vibrate&&navigator.vibrate(30)};return f.jsxs("div",{className:"w-full min-h-screen bg-[#0c0c0c] text-white flex flex-col font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] sticky top-0 z-30",children:[f.jsx("button",{onClick:t,className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 active:scale-90 transition-all shadow-lg",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-xl font-black",children:"  "}),f.jsx("span",{className:"text-[9px] text-[#57b385] font-bold uppercase tracking-widest",children:"Droguerie Smart Translator"})]}),f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"flex-1 p-6 space-y-6 overflow-y-auto pb-32 custom-scrollbar",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsxs("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest flex items-center gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),"  (  )"]}),f.jsxs("div",{className:"relative group",children:[f.jsx("textarea",{placeholder:"     ...",className:"w-full bg-[#111111] border border-gray-800 rounded-[2rem] p-6 pr-6 pl-14 text-white focus:border-indigo-500 outline-none transition-all text-right font-bold text-lg min-h-[120px] resize-none shadow-inner group-focus-within:bg-[#161616]",value:e,onChange:N=>r(N.target.value)}),f.jsx("button",{onClick:m,className:`absolute left-4 top-6 w-12 h-12 rounded-2xl flex items-center justify-center transition-all active:scale-90 ${c?"bg-red-500 animate-pulse text-white shadow-lg shadow-red-900/40":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),f.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),f.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]})})]}),f.jsx("button",{onClick:()=>C(),disabled:!e.trim()||s,className:`w-full py-5 rounded-[1.8rem] font-black text-lg shadow-xl transition-all active:scale-95 flex items-center justify-center gap-3 ${!e.trim()||s?"bg-gray-800 text-gray-600":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-indigo-900/20"}`,children:s?f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"animate-spin",width:"20",height:"20",viewBox:"0 0 24 24",children:f.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeDasharray:"31.4 31.4"})})," ..."]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"m5 8 6 6"}),f.jsx("path",{d:"m4 14 6-6 2-3"}),f.jsx("path",{d:"M2 5h12"}),f.jsx("path",{d:"M7 2h1"}),f.jsx("path",{d:"m22 22-5-10-5 10"}),f.jsx("path",{d:"M14 18h6"})]}),""]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[f.jsxs("div",{className:`bg-[#111111] border rounded-[2rem] p-6 transition-all duration-300 relative overflow-hidden ${n?"border-[#57b385]/40 shadow-lg shadow-[#57b385]/5":"border-gray-800 opacity-50"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("span",{className:"text-[10px] bg-[#57b385]/10 text-[#57b385] px-3 py-1 rounded-full font-black border border-[#57b385]/20",children:" (AR)"}),n&&f.jsx("button",{onClick:()=>b(n.ar),className:"p-2 bg-black/40 rounded-xl text-gray-500 hover:text-white active:scale-90 transition-all border border-gray-800",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),f.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})})]}),f.jsx("div",{className:"min-h-[60px] text-xl font-black text-right text-white leading-relaxed",children:n?n.ar:"  ..."}),f.jsx("div",{className:"absolute -bottom-2 -left-2 opacity-5 pointer-events-none",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"m5 8 6 6"}),f.jsx("path",{d:"m4 14 6-6 2-3"}),f.jsx("path",{d:"M2 5h12"}),f.jsx("path",{d:"M7 2h1"})]})})]}),f.jsxs("div",{className:`bg-[#111111] border rounded-[2rem] p-6 transition-all duration-300 relative overflow-hidden ${n?"border-blue-500/40 shadow-lg shadow-blue-500/5":"border-gray-800 opacity-50"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("span",{className:"text-[10px] bg-blue-500/10 text-blue-400 px-3 py-1 rounded-full font-black border border-blue-500/20",children:" (FR)"}),n&&f.jsx("button",{onClick:()=>b(n.fr),className:"p-2 bg-black/40 rounded-xl text-gray-500 hover:text-white active:scale-90 transition-all border border-gray-800",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),f.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})})]}),f.jsx("div",{className:"min-h-[60px] text-xl font-black text-left text-white leading-relaxed font-sans",children:n?n.fr:"Waiting for data..."}),f.jsx("div",{className:"absolute -bottom-2 -right-2 opacity-5 pointer-events-none",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"m22 22-5-10-5 10"}),f.jsx("path",{d:"M14 18h6"})]})})]})]}),f.jsxs("div",{className:"bg-[#111111]/40 p-5 rounded-[1.5rem] border border-gray-800 space-y-3",children:[f.jsxs("h4",{className:"text-[11px] font-black text-indigo-400 border-b border-gray-800/50 pb-2 flex items-center gap-2",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("path",{d:"M12 16v-4"}),f.jsx("path",{d:"M12 8h.01"})]})," :"]}),f.jsxs("ul",{className:"text-[11px] text-gray-500 space-y-2 pr-4 leading-relaxed",children:[f.jsxs("li",{className:"list-disc",children:[f.jsx("span",{className:"text-gray-300 font-bold",children:" :"}),'  "2500"   " "   .']}),f.jsxs("li",{className:"list-disc",children:[f.jsx("span",{className:"text-gray-300 font-bold",children:" :"}),'   ""  ""   .']}),f.jsx("li",{className:"list-disc",children:"        ."})]})]})]})]})},uZ=({currentUser:t,onNavigateToSettings:e,trashItems:r,onRestore:n,onPermanentDelete:i,onEmptyTrash:s,nextCleanupDate:l})=>{var Q,J;const[c,g]=Ce.useState("invoice"),[d,m]=Ce.useState(""),[C,b]=Ce.useState(!1),[N,R]=Ce.useState(null),k=Ce.useMemo(()=>t.role==="admin"||t.permissions.isManager,[t]),U=Ce.useMemo(()=>{let re=k?r:r.filter(P=>P.deletedBy===t.name),G=[];switch(c){case"invoice":G=re.filter(P=>P.type==="invoice");break;case"debt":G=re.filter(P=>P.type==="supplier-invoice");break;case"check":G=re.filter(P=>P.type==="check");break;case"order":G=re.filter(P=>P.type==="special-order"||P.type==="client-request");break;case"customer":G=re.filter(P=>P.type==="customer"||P.type==="general-payment");break;case"product":G=re.filter(P=>P.type==="product");break;default:G=[]}if(!d.trim())return G;const M=d.toLowerCase();return G.filter(P=>{var ee,te,W,q,Ie,xe,ge,ye,We,Ee,et;if(P.deletedBy.toLowerCase().includes(M))return!0;const O=P.data;return P.type==="invoice"?((ee=O.name)==null?void 0:ee.toLowerCase().includes(M))||((te=O.id)==null?void 0:te.toLowerCase().includes(M)):P.type==="supplier-invoice"?(W=O.supplierName)==null?void 0:W.toLowerCase().includes(M):P.type==="product"?((q=O.name)==null?void 0:q.toLowerCase().includes(M))||((Ie=O.code)==null?void 0:Ie.toLowerCase().includes(M)):P.type==="check"?((xe=O.name)==null?void 0:xe.toLowerCase().includes(M))||((ge=O.serialNumber)==null?void 0:ge.toLowerCase().includes(M)):P.type==="customer"?(ye=O.name)==null?void 0:ye.toLowerCase().includes(M):P.type==="general-payment"?(We=O.customerName)==null?void 0:We.toLowerCase().includes(M):P.type==="client-request"?(Ee=O.productName)==null?void 0:Ee.toLowerCase().includes(M):P.type==="special-order"?(et=O.items)==null?void 0:et.some(ne=>ne.name.toLowerCase().includes(M)):!1})},[r,c,d,t.name,k]),j=re=>{const G=Date.now()-re,M=Math.floor(G/6e4);if(M<1)return"";if(M<60)return` ${M} `;const P=Math.floor(M/60);return P<24?` ${P} `:new Date(re).toLocaleDateString("ar-MA")},K=re=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(re);return f.jsxs("div",{className:"w-full min-h-screen bg-[#0c0c0c] text-white flex flex-col overflow-hidden font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] z-20",children:[f.jsx("button",{onClick:e,className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white transition-all active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("h1",{className:"text-xl font-black",children:" "}),f.jsx("span",{className:"text-[10px] text-red-500 font-bold uppercase tracking-widest",children:k?"   ":"  "})]}),k?f.jsx("button",{onClick:()=>b(!0),disabled:r.length===0,className:`p-3 rounded-2xl border transition-all active:scale-90 ${r.length===0?"bg-gray-800/20 text-gray-700 border-gray-800/50":"bg-red-500/10 border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white"}`,title:"  ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}):f.jsx("div",{className:"w-10"})]}),l&&f.jsxs("div",{className:"bg-red-500/5 border-b border-red-500/10 px-6 py-2 flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),f.jsxs("span",{className:"text-[9px] font-bold text-gray-400",children:["    : ",f.jsx("span",{className:"text-red-400 font-black",children:new Date(l).toLocaleDateString("ar-MA")})]})]}),f.jsxs("div",{className:"px-4 py-4 flex gap-2 overflow-x-auto no-scrollbar bg-black/20 border-b border-gray-800/20",children:[f.jsx(iu,{active:c==="invoice",label:"",count:U.filter(re=>re.type==="invoice").length,onClick:()=>g("invoice")}),f.jsx(iu,{active:c==="debt",label:"",count:U.filter(re=>re.type==="supplier-invoice").length,onClick:()=>g("debt")}),f.jsx(iu,{active:c==="check",label:"",count:U.filter(re=>re.type==="check").length,onClick:()=>g("check")}),f.jsx(iu,{active:c==="order",label:"",count:U.filter(re=>re.type==="special-order"||re.type==="client-request").length,onClick:()=>g("order")}),f.jsx(iu,{active:c==="customer",label:"",count:U.filter(re=>re.type==="customer"||re.type==="general-payment").length,onClick:()=>g("customer")}),f.jsx(iu,{active:c==="product",label:"",count:U.filter(re=>re.type==="product").length,onClick:()=>g("product")})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:k?"     ...":"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3.5 pr-12 pl-4 text-white focus:border-red-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm shadow-inner",value:d,onChange:re=>m(re.target.value)}),f.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-red-500 transition-colors",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})}),d&&f.jsx("button",{onClick:()=>m(""),className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto px-6 space-y-4 pb-32 custom-scrollbar",children:U.length>0?U.map(re=>f.jsxs("div",{onClick:()=>R(re),className:"bg-[#111111] border border-gray-800/40 p-5 rounded-[2rem] flex items-center justify-between group animate-in slide-in-from-bottom-2 duration-300 cursor-pointer active:scale-[0.98] hover:border-gray-700 shadow-lg",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-black/40 rounded-2xl flex items-center justify-center text-gray-500 shadow-inner",children:[re.type==="invoice"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),re.type==="supplier-invoice"&&f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14c-.6.6-1 1.5-1 2.3v3.7c0 1.1.9 2 2 2h3.7c.9 0 1.7-.4 2.3-1L15.4 15"})}),re.type==="product"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"})]}),re.type==="check"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),f.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),re.type==="customer"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),(re.type==="client-request"||re.type==="special-order")&&f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})}),re.type==="general-payment"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M12 2v20"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-sm font-black text-white leading-tight",children:re.type==="invoice"?re.data.name:re.type==="supplier-invoice"?re.data.supplierName:re.type==="product"?re.data.name:re.type==="client-request"?re.data.productName:re.type==="special-order"?" ":re.type==="check"?`: ${re.data.name}`:re.type==="customer"?`: ${re.data.name}`:`: ${re.data.customerName}`}),f.jsxs("p",{className:"text-[10px] text-gray-500 font-bold mt-1",children:[": ",f.jsx("span",{className:"text-red-400 font-black",children:re.deletedBy})]})]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-1",children:[f.jsx("span",{className:"text-[9px] text-gray-600 font-bold",children:j(re.deletedAt)}),f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{onClick:G=>{G.stopPropagation(),n(re)},className:"w-8 h-8 bg-[#57b385]/10 rounded-lg flex items-center justify-center text-[#57b385] active:scale-90 transition-all border border-[#57b385]/20",title:"",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),f.jsx("path",{d:"M3 3v5h5"})]})})})]})]},re.id)):f.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-gray-600 opacity-30 gap-3",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"})]}),f.jsx("p",{className:"font-black text-lg",children:d?"   ":"  "})]})}),N&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"text-center space-y-3",children:[f.jsx("div",{className:"w-16 h-16 bg-[#1a1a1a] rounded-2xl mx-auto flex items-center justify-center text-red-500 border border-red-500/20 shadow-xl",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"})]})}),f.jsx("h2",{className:"text-xl font-black text-white",children:" "}),f.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4 text-sm shadow-inner text-right",children:[f.jsxs("div",{className:"flex justify-between mb-1",children:[f.jsx("span",{className:"text-gray-500",children:"  :"}),f.jsx("span",{className:"text-red-400 font-black",children:N.deletedBy})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-500",children:" :"}),f.jsx("span",{className:"text-gray-300 font-bold",children:new Date(N.deletedAt).toLocaleString("ar-MA")})]})]})]}),f.jsxs("div",{className:"bg-black/40 rounded-2xl p-5 border border-gray-800 space-y-4 shadow-inner text-right",children:[N.type==="product"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:" "}),f.jsx("span",{className:"font-bold",children:N.data.name})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:""}),f.jsxs("span",{className:"font-bold text-[#57b385]",children:[K(N.data.price)," ."]})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:""}),f.jsx("span",{className:"font-bold",children:N.data.stock})]})]}),(N.type==="invoice"||N.type==="supplier-invoice")&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:""}),f.jsx("span",{className:"font-bold",children:N.type==="invoice"?N.data.name:N.data.supplierName})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:" "}),f.jsxs("span",{className:"font-black text-red-500",children:[K(N.data.amount)," ."]})]}),N.type==="invoice"&&f.jsxs("div",{className:"border-t border-gray-800 pt-3 mt-3",children:[f.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2",children:" :"}),f.jsx("div",{className:"space-y-1",children:(Q=N.data.items)==null?void 0:Q.map((re,G)=>f.jsxs("div",{className:"flex justify-between text-[11px] bg-black/20 p-2 rounded-lg",children:[f.jsx("span",{children:re.productName}),f.jsxs("span",{className:"text-gray-400",children:["x",re.count]})]},G))})]})]}),N.type==="check"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:""}),f.jsx("span",{className:"font-bold",children:N.data.name})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:""}),f.jsxs("span",{className:"font-black text-purple-400",children:[K(N.data.amount)," ."]})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:" "}),f.jsxs("span",{className:"font-mono text-gray-300",children:["#",N.data.serialNumber]})]})]}),N.type==="customer"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:" "}),f.jsx("span",{className:"font-bold",children:N.data.name})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:"   "}),f.jsx("span",{className:"font-bold",children:N.data.invoiceCount})]})]}),N.type==="special-order"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2",children:"  :"}),(J=N.data.items)==null?void 0:J.map((re,G)=>f.jsxs("div",{className:"flex justify-between text-sm bg-black/20 p-2 rounded-lg border border-gray-800",children:[f.jsx("span",{children:re.name}),f.jsx("span",{className:"font-black text-rose-500",children:re.quantity})]},G))]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("button",{onClick:()=>{n(N),R(null)},className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all flex items-center justify-center gap-2 shadow-lg shadow-green-900/20",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),f.jsx("path",{d:"M3 3v5h5"})]})," "]}),f.jsx("button",{onClick:()=>{i(N.id),R(null)},className:"w-full bg-red-500/10 text-red-500 border border-red-500/20 py-3 rounded-2xl font-bold active:scale-95 transition-all",children:"  "}),f.jsx("button",{onClick:()=>R(null),className:"w-full bg-[#1a1a1a] text-gray-500 py-3 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),C&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/95 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"         ."})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{s(),b(!1)},className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg active:scale-95 transition-all",children:"  "}),f.jsx("button",{onClick:()=>b(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},iu=({active:t,label:e,count:r,onClick:n})=>f.jsxs("button",{onClick:n,className:`px-5 py-3 rounded-2xl border text-[11px] font-black transition-all flex items-center gap-2 active:scale-95 whitespace-nowrap ${t?"bg-white text-black border-white shadow-lg":"bg-white/5 text-gray-500 border-white/10 hover:border-white/20"}`,children:[e,f.jsx("span",{className:`px-1.5 py-0.5 rounded-lg text-[9px] ${t?"bg-black text-white":"bg-black/40 text-gray-600"}`,children:r})]}),fZ=({products:t,invoices:e,currentUser:r,onAction:n,onSearchProduct:i})=>{const[s,l]=Ce.useState(!1),[c,g]=Ce.useState(!1),[d,m]=Ce.useState(null),[C,b]=Ce.useState(""),N=Ce.useRef(null),R=Ce.useRef(null),k=()=>{const K=window.SpeechRecognition||window.webkitSpeechRecognition;if(!K)return console.error("Speech Recognition API not supported in this browser."),null;const Q=new K;return Q.continuous=!1,Q.lang="ar-MA",Q.interimResults=!0,Q.onstart=()=>{l(!0),m(null),b(" ...")},Q.onresult=J=>{let re="";for(let G=J.resultIndex;G<J.results.length;++G)re+=J.results[G][0].transcript;b(re),J.results[0].isFinal&&j(re)},Q.onend=()=>{l(!1)},Q.onerror=J=>{console.error("Speech error:",J.error),l(!1),J.error==="not-allowed"?m("  .    ."):m("     .")},Q};Ce.useEffect(()=>{N.current=k()},[]);const U=()=>{var K;if(s)(K=N.current)==null||K.stop();else if(N.current||(N.current=k()),N.current){R.current&&clearTimeout(R.current),m(null),b("");try{N.current.start(),navigator.vibrate&&navigator.vibrate(50)}catch(Q){console.error("Start failed",Q),m("   .")}}else m("    .")},j=async K=>{var Q,J,re;if(!(!K.trim()||K===" ...")){g(!0);try{const G=new Gw({apiKey:"PLACEHOLDER_API_KEY"}),M=t.slice(0,50).map(Ie=>`${Ie.name}:${Ie.price}.`).join(", "),P=e.slice(0,15).map(Ie=>`${Ie.name}:${Ie.remainingAmount}.`).join(", "),O=`
            MAMA  . 
        : ${r.name}
         : ${M}
         : ${P}

            : "${K}"
        
                :
        - NAVIGATE: [products, customers, settings, create-invoice, suppliers]
        - SEARCH: [ ]
        - OPEN_INVOICE: [ID]
        
          :
        1.   ( ).
        2.    .
      `,W=((await G.models.generateContent({model:"gemini-3-flash-preview",contents:K,config:{systemInstruction:O,temperature:.7,topK:40,topP:.95}})).text||"").split(`
`).map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0);let q="";for(const Ie of W)Ie.startsWith("NAVIGATE:")?n("NAVIGATE",Ie.split(":")[1].trim().toLowerCase()):Ie.startsWith("SEARCH:")?i(Ie.split(":")[1].trim()):Ie.startsWith("OPEN_INVOICE:")?n("OPEN_INVOICE",Ie.split(":")[1].trim()):q+=Ie+" ";m(q.trim()||"  "),R.current=setTimeout(()=>{m(null),b("")},1e4)}catch(G){console.error("AI Error Detailed:",G),(Q=G.message)!=null&&Q.includes("API_KEY_INVALID")?m(":  API    .   ."):(J=G.message)!=null&&J.includes("fetch")?m("  .     ."):(re=G.message)!=null&&re.includes("429")?m("       Gemini.  ."):m("      .    .")}finally{g(!1)}}};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"fixed bottom-24 right-6 z-[200] flex flex-col items-end gap-3 pointer-events-none",children:[(C||d||c)&&f.jsxs("div",{className:"pointer-events-auto bg-[#1a1a1a]/95 backdrop-blur-xl border border-gray-800 p-4 rounded-[2rem] rounded-br-none shadow-2xl max-w-[280px] animate-in fade-in slide-in-from-bottom-2 duration-300",children:[C&&!d&&f.jsxs("div",{className:"mb-1",children:[f.jsx("span",{className:"text-[10px] text-[#57b385] font-black uppercase block mb-1",children:":"}),f.jsxs("p",{className:"text-xs font-medium text-gray-300 italic",children:['"',C,'"']})]}),c?f.jsxs("div",{className:"flex items-center gap-2 py-1",children:[f.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:" ..."}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce"}),f.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-75"}),f.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-150"})]})]}):d&&f.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-300",children:f.jsx("p",{className:"text-sm font-bold text-white leading-relaxed",children:d})})]}),f.jsxs("button",{onClick:U,className:`pointer-events-auto w-16 h-16 rounded-full flex items-center justify-center shadow-2xl transition-all duration-300 border-4 border-[#0c0c0c] relative group ${s?"bg-red-500 scale-110":"bg-[#57b385] hover:scale-110 active:scale-95"}`,children:[s&&f.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500 animate-ping opacity-20"}),s?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("rect",{width:"12",height:"12",x:"6",y:"6",rx:"2"})}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),f.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),f.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]})]})]})})};var MT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},dZ=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],l=t[r++],c=t[r++],g=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(g>>10)),e[n++]=String.fromCharCode(56320+(g&1023))}else{const s=t[r++],l=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},_N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,g=i+2<t.length,d=g?t[i+2]:0,m=s>>2,C=(s&3)<<4|c>>4;let b=(c&15)<<2|d>>6,N=d&63;g||(N=64,l||(b=64)),n.push(r[m],r[C],r[b],r[N])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dZ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const C=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||C==null)throw new hZ;const b=s<<2|c>>4;if(n.push(b),d!==64){const N=c<<4&240|d>>2;if(n.push(N),C!==64){const R=d<<6&192|C;n.push(R)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gZ=function(t){const e=BN(t);return _N.encodeByteArray(e,!0)},K1=function(t){return gZ(t).replace(/\./g,"")},pZ=function(t){try{return _N.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xZ=()=>mZ().__FIREBASE_DEFAULTS__,wZ=()=>{if(typeof process>"u"||typeof MT>"u")return;const t=MT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pZ(t[1]);return e&&JSON.parse(e)},Kw=()=>{try{return xZ()||wZ()||vZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yZ=t=>{var e,r;return(r=(e=Kw())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},CZ=t=>{const e=yZ(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},TN=()=>{var t;return(t=Kw())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[K1(JSON.stringify(r)),K1(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _Z(){var t;const e=(t=Kw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TZ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SZ(){return!_Z()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SN(){try{return typeof indexedDB=="object"}catch{return!1}}function IN(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function IZ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ="FirebaseError";class wA extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=NZ,Object.setPrototypeOf(this,wA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bg.prototype.create)}}class Bg{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?FZ(s,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new wA(i,c,n)}}function FZ(t,e){return t.replace(RZ,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const RZ=/\{\$([^}]+)}/g;function z1(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],l=e[i];if(OT(s)&&OT(l)){if(!z1(s,l))return!1}else if(s!==l)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function OT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ=1e3,DZ=2,UZ=14400*1e3,MZ=.5;function LT(t,e=kZ,r=DZ){const n=e*Math.pow(r,t),i=Math.round(MZ*n*(Math.random()-.5)*2);return Math.min(UZ,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t){return t&&t._delegate?t._delegate:t}class cl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new EZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QZ(e))try{this.getOrInitializeService({instanceIdentifier:GA})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=GA){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=GA){return this.instances.has(e)}getOptions(e=GA){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&l.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:LZ(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=GA){return this.component?this.component.multipleInstances?e:GA:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LZ(t){return t===GA?void 0:t}function QZ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new OZ(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Gr||(Gr={}));const HZ={debug:Gr.DEBUG,verbose:Gr.VERBOSE,info:Gr.INFO,warn:Gr.WARN,error:Gr.ERROR,silent:Gr.SILENT},VZ=Gr.INFO,jZ={[Gr.DEBUG]:"log",[Gr.VERBOSE]:"log",[Gr.INFO]:"info",[Gr.WARN]:"warn",[Gr.ERROR]:"error"},GZ=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=jZ[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zw{constructor(e){this.name=e,this._logLevel=VZ,this._logHandler=GZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gr.DEBUG,...e),this._logHandler(this,Gr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gr.VERBOSE,...e),this._logHandler(this,Gr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gr.INFO,...e),this._logHandler(this,Gr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gr.WARN,...e),this._logHandler(this,Gr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gr.ERROR,...e),this._logHandler(this,Gr.ERROR,...e)}}const KZ=(t,e)=>e.some(r=>t instanceof r);let QT,PT;function zZ(){return QT||(QT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WZ(){return PT||(PT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NN=new WeakMap,I2=new WeakMap,FN=new WeakMap,xx=new WeakMap,Ww=new WeakMap;function XZ(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{r(iA(t.result)),i()},l=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&NN.set(r,t)}).catch(()=>{}),Ww.set(e,t),e}function qZ(t){if(I2.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{r(),i()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});I2.set(t,e)}let N2={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return I2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FN.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return iA(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YZ(t){N2=t(N2)}function JZ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(wx(this),e,...r);return FN.set(n,e.sort?e.sort():[e]),iA(n)}:WZ().includes(t)?function(...e){return t.apply(wx(this),e),iA(NN.get(this))}:function(...e){return iA(t.apply(wx(this),e))}}function ZZ(t){return typeof t=="function"?JZ(t):(t instanceof IDBTransaction&&qZ(t),KZ(t,zZ())?new Proxy(t,N2):t)}function iA(t){if(t instanceof IDBRequest)return XZ(t);if(xx.has(t))return xx.get(t);const e=ZZ(t);return e!==t&&(xx.set(t,e),Ww.set(e,t)),e}const wx=t=>Ww.get(t);function RN(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=iA(l);return n&&l.addEventListener("upgradeneeded",g=>{n(iA(l.result),g.oldVersion,g.newVersion,iA(l.transaction),g)}),r&&l.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),c.then(g=>{s&&g.addEventListener("close",()=>s()),i&&g.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const $Z=["get","getKey","getAll","getAllKeys","count"],e$=["put","add","delete","clear"],vx=new Map;function HT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vx.get(e))return vx.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=e$.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||$Z.includes(r)))return;const s=async function(l,...c){const g=this.transaction(l,i?"readwrite":"readonly");let d=g.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[r](...c),i&&g.done]))[0]};return vx.set(e,s),s}YZ(t=>({...t,get:(e,r,n)=>HT(e,r)||t.get(e,r,n),has:(e,r)=>!!HT(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(r$(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function r$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const F2="@firebase/app",VT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new zw("@firebase/app"),n$="@firebase/app-compat",i$="@firebase/analytics-compat",s$="@firebase/analytics",a$="@firebase/app-check-compat",o$="@firebase/app-check",l$="@firebase/auth",A$="@firebase/auth-compat",c$="@firebase/database",u$="@firebase/data-connect",f$="@firebase/database-compat",d$="@firebase/functions",h$="@firebase/functions-compat",g$="@firebase/installations",p$="@firebase/installations-compat",m$="@firebase/messaging",x$="@firebase/messaging-compat",w$="@firebase/performance",v$="@firebase/performance-compat",y$="@firebase/remote-config",C$="@firebase/remote-config-compat",E$="@firebase/storage",b$="@firebase/storage-compat",B$="@firebase/firestore",_$="@firebase/vertexai-preview",T$="@firebase/firestore-compat",S$="firebase",I$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="[DEFAULT]",N$={[F2]:"fire-core",[n$]:"fire-core-compat",[s$]:"fire-analytics",[i$]:"fire-analytics-compat",[o$]:"fire-app-check",[a$]:"fire-app-check-compat",[l$]:"fire-auth",[A$]:"fire-auth-compat",[c$]:"fire-rtdb",[u$]:"fire-data-connect",[f$]:"fire-rtdb-compat",[d$]:"fire-fn",[h$]:"fire-fn-compat",[g$]:"fire-iid",[p$]:"fire-iid-compat",[m$]:"fire-fcm",[x$]:"fire-fcm-compat",[w$]:"fire-perf",[v$]:"fire-perf-compat",[y$]:"fire-rc",[C$]:"fire-rc-compat",[E$]:"fire-gcs",[b$]:"fire-gcs-compat",[B$]:"fire-fst",[T$]:"fire-fst-compat",[_$]:"fire-vertex","fire-js":"fire-js",[S$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map,F$=new Map,k2=new Map;function jT(t,e){try{t.container.addComponent(e)}catch(r){ul.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function fA(t){const e=t.name;if(k2.has(e))return ul.debug(`There were multiple attempts to register component ${e}.`),!1;k2.set(e,t);for(const r of W1.values())jT(r,t);for(const r of F$.values())jT(r,t);return!0}function Kf(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sA=new Bg("app","Firebase",R$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sA.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=I$;function kN(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:R2,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw sA.create("bad-app-name",{appName:String(i)});if(r||(r=TN()),!r)throw sA.create("no-options");const s=W1.get(i);if(s){if(z1(r,s.options)&&z1(n,s.config))return s;throw sA.create("duplicate-app",{appName:i})}const l=new PZ(i);for(const g of k2.values())l.addComponent(g);const c=new k$(r,n,l);return W1.set(i,c),c}function DN(t=R2){const e=W1.get(t);if(!e&&t===R2&&TN())return kN();if(!e)throw sA.create("no-app",{appName:t});return e}function yo(t,e,r){var n;let i=(n=N$[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ul.warn(c.join(" "));return}fA(new cl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="firebase-heartbeat-database",M$=1,Nf="firebase-heartbeat-store";let yx=null;function UN(){return yx||(yx=RN(U$,M$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nf)}catch(r){console.warn(r)}}}}).catch(t=>{throw sA.create("idb-open",{originalErrorMessage:t.message})})),yx}async function O$(t){try{const r=(await UN()).transaction(Nf),n=await r.objectStore(Nf).get(MN(t));return await r.done,n}catch(e){if(e instanceof wA)ul.warn(e.message);else{const r=sA.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ul.warn(r.message)}}}async function GT(t,e){try{const n=(await UN()).transaction(Nf,"readwrite");await n.objectStore(Nf).put(e,MN(t)),await n.done}catch(r){if(r instanceof wA)ul.warn(r.message);else{const n=sA.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ul.warn(n.message)}}}function MN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=1024,Q$=720*60*60*1e3;class P${constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new V$(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=Q$}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ul.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=KT(),{heartbeatsToSend:n,unsentEntries:i}=H$(this._heartbeatsCache.heartbeats),s=K1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return ul.warn(r),""}}}function KT(){return new Date().toISOString().substring(0,10)}function H$(t,e=L$){const r=[];let n=t.slice();for(const i of t){const s=r.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),zT(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),zT(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class V${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SN()?IN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await O$(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return GT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return GT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zT(t){return K1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t){fA(new cl("platform-logger",e=>new t$(e),"PRIVATE")),fA(new cl("heartbeat",e=>new P$(e),"PRIVATE")),yo(F2,VT,t),yo(F2,VT,"esm2017"),yo("fire-js","")}j$("");var G$="firebase",K$="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(G$,K$,"app");var WT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tc,ON;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,P){function O(){}O.prototype=P.prototype,M.D=P.prototype,M.prototype=new O,M.prototype.constructor=M,M.C=function(ee,te,W){for(var q=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)q[Ie-2]=arguments[Ie];return P.prototype[te].apply(ee,q)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,P,O){O||(O=0);var ee=Array(16);if(typeof P=="string")for(var te=0;16>te;++te)ee[te]=P.charCodeAt(O++)|P.charCodeAt(O++)<<8|P.charCodeAt(O++)<<16|P.charCodeAt(O++)<<24;else for(te=0;16>te;++te)ee[te]=P[O++]|P[O++]<<8|P[O++]<<16|P[O++]<<24;P=M.g[0],O=M.g[1],te=M.g[2];var W=M.g[3],q=P+(W^O&(te^W))+ee[0]+3614090360&4294967295;P=O+(q<<7&4294967295|q>>>25),q=W+(te^P&(O^te))+ee[1]+3905402710&4294967295,W=P+(q<<12&4294967295|q>>>20),q=te+(O^W&(P^O))+ee[2]+606105819&4294967295,te=W+(q<<17&4294967295|q>>>15),q=O+(P^te&(W^P))+ee[3]+3250441966&4294967295,O=te+(q<<22&4294967295|q>>>10),q=P+(W^O&(te^W))+ee[4]+4118548399&4294967295,P=O+(q<<7&4294967295|q>>>25),q=W+(te^P&(O^te))+ee[5]+1200080426&4294967295,W=P+(q<<12&4294967295|q>>>20),q=te+(O^W&(P^O))+ee[6]+2821735955&4294967295,te=W+(q<<17&4294967295|q>>>15),q=O+(P^te&(W^P))+ee[7]+4249261313&4294967295,O=te+(q<<22&4294967295|q>>>10),q=P+(W^O&(te^W))+ee[8]+1770035416&4294967295,P=O+(q<<7&4294967295|q>>>25),q=W+(te^P&(O^te))+ee[9]+2336552879&4294967295,W=P+(q<<12&4294967295|q>>>20),q=te+(O^W&(P^O))+ee[10]+4294925233&4294967295,te=W+(q<<17&4294967295|q>>>15),q=O+(P^te&(W^P))+ee[11]+2304563134&4294967295,O=te+(q<<22&4294967295|q>>>10),q=P+(W^O&(te^W))+ee[12]+1804603682&4294967295,P=O+(q<<7&4294967295|q>>>25),q=W+(te^P&(O^te))+ee[13]+4254626195&4294967295,W=P+(q<<12&4294967295|q>>>20),q=te+(O^W&(P^O))+ee[14]+2792965006&4294967295,te=W+(q<<17&4294967295|q>>>15),q=O+(P^te&(W^P))+ee[15]+1236535329&4294967295,O=te+(q<<22&4294967295|q>>>10),q=P+(te^W&(O^te))+ee[1]+4129170786&4294967295,P=O+(q<<5&4294967295|q>>>27),q=W+(O^te&(P^O))+ee[6]+3225465664&4294967295,W=P+(q<<9&4294967295|q>>>23),q=te+(P^O&(W^P))+ee[11]+643717713&4294967295,te=W+(q<<14&4294967295|q>>>18),q=O+(W^P&(te^W))+ee[0]+3921069994&4294967295,O=te+(q<<20&4294967295|q>>>12),q=P+(te^W&(O^te))+ee[5]+3593408605&4294967295,P=O+(q<<5&4294967295|q>>>27),q=W+(O^te&(P^O))+ee[10]+38016083&4294967295,W=P+(q<<9&4294967295|q>>>23),q=te+(P^O&(W^P))+ee[15]+3634488961&4294967295,te=W+(q<<14&4294967295|q>>>18),q=O+(W^P&(te^W))+ee[4]+3889429448&4294967295,O=te+(q<<20&4294967295|q>>>12),q=P+(te^W&(O^te))+ee[9]+568446438&4294967295,P=O+(q<<5&4294967295|q>>>27),q=W+(O^te&(P^O))+ee[14]+3275163606&4294967295,W=P+(q<<9&4294967295|q>>>23),q=te+(P^O&(W^P))+ee[3]+4107603335&4294967295,te=W+(q<<14&4294967295|q>>>18),q=O+(W^P&(te^W))+ee[8]+1163531501&4294967295,O=te+(q<<20&4294967295|q>>>12),q=P+(te^W&(O^te))+ee[13]+2850285829&4294967295,P=O+(q<<5&4294967295|q>>>27),q=W+(O^te&(P^O))+ee[2]+4243563512&4294967295,W=P+(q<<9&4294967295|q>>>23),q=te+(P^O&(W^P))+ee[7]+1735328473&4294967295,te=W+(q<<14&4294967295|q>>>18),q=O+(W^P&(te^W))+ee[12]+2368359562&4294967295,O=te+(q<<20&4294967295|q>>>12),q=P+(O^te^W)+ee[5]+4294588738&4294967295,P=O+(q<<4&4294967295|q>>>28),q=W+(P^O^te)+ee[8]+2272392833&4294967295,W=P+(q<<11&4294967295|q>>>21),q=te+(W^P^O)+ee[11]+1839030562&4294967295,te=W+(q<<16&4294967295|q>>>16),q=O+(te^W^P)+ee[14]+4259657740&4294967295,O=te+(q<<23&4294967295|q>>>9),q=P+(O^te^W)+ee[1]+2763975236&4294967295,P=O+(q<<4&4294967295|q>>>28),q=W+(P^O^te)+ee[4]+1272893353&4294967295,W=P+(q<<11&4294967295|q>>>21),q=te+(W^P^O)+ee[7]+4139469664&4294967295,te=W+(q<<16&4294967295|q>>>16),q=O+(te^W^P)+ee[10]+3200236656&4294967295,O=te+(q<<23&4294967295|q>>>9),q=P+(O^te^W)+ee[13]+681279174&4294967295,P=O+(q<<4&4294967295|q>>>28),q=W+(P^O^te)+ee[0]+3936430074&4294967295,W=P+(q<<11&4294967295|q>>>21),q=te+(W^P^O)+ee[3]+3572445317&4294967295,te=W+(q<<16&4294967295|q>>>16),q=O+(te^W^P)+ee[6]+76029189&4294967295,O=te+(q<<23&4294967295|q>>>9),q=P+(O^te^W)+ee[9]+3654602809&4294967295,P=O+(q<<4&4294967295|q>>>28),q=W+(P^O^te)+ee[12]+3873151461&4294967295,W=P+(q<<11&4294967295|q>>>21),q=te+(W^P^O)+ee[15]+530742520&4294967295,te=W+(q<<16&4294967295|q>>>16),q=O+(te^W^P)+ee[2]+3299628645&4294967295,O=te+(q<<23&4294967295|q>>>9),q=P+(te^(O|~W))+ee[0]+4096336452&4294967295,P=O+(q<<6&4294967295|q>>>26),q=W+(O^(P|~te))+ee[7]+1126891415&4294967295,W=P+(q<<10&4294967295|q>>>22),q=te+(P^(W|~O))+ee[14]+2878612391&4294967295,te=W+(q<<15&4294967295|q>>>17),q=O+(W^(te|~P))+ee[5]+4237533241&4294967295,O=te+(q<<21&4294967295|q>>>11),q=P+(te^(O|~W))+ee[12]+1700485571&4294967295,P=O+(q<<6&4294967295|q>>>26),q=W+(O^(P|~te))+ee[3]+2399980690&4294967295,W=P+(q<<10&4294967295|q>>>22),q=te+(P^(W|~O))+ee[10]+4293915773&4294967295,te=W+(q<<15&4294967295|q>>>17),q=O+(W^(te|~P))+ee[1]+2240044497&4294967295,O=te+(q<<21&4294967295|q>>>11),q=P+(te^(O|~W))+ee[8]+1873313359&4294967295,P=O+(q<<6&4294967295|q>>>26),q=W+(O^(P|~te))+ee[15]+4264355552&4294967295,W=P+(q<<10&4294967295|q>>>22),q=te+(P^(W|~O))+ee[6]+2734768916&4294967295,te=W+(q<<15&4294967295|q>>>17),q=O+(W^(te|~P))+ee[13]+1309151649&4294967295,O=te+(q<<21&4294967295|q>>>11),q=P+(te^(O|~W))+ee[4]+4149444226&4294967295,P=O+(q<<6&4294967295|q>>>26),q=W+(O^(P|~te))+ee[11]+3174756917&4294967295,W=P+(q<<10&4294967295|q>>>22),q=te+(P^(W|~O))+ee[2]+718787259&4294967295,te=W+(q<<15&4294967295|q>>>17),q=O+(W^(te|~P))+ee[9]+3951481745&4294967295,M.g[0]=M.g[0]+P&4294967295,M.g[1]=M.g[1]+(te+(q<<21&4294967295|q>>>11))&4294967295,M.g[2]=M.g[2]+te&4294967295,M.g[3]=M.g[3]+W&4294967295}n.prototype.u=function(M,P){P===void 0&&(P=M.length);for(var O=P-this.blockSize,ee=this.B,te=this.h,W=0;W<P;){if(te==0)for(;W<=O;)i(this,M,W),W+=this.blockSize;if(typeof M=="string"){for(;W<P;)if(ee[te++]=M.charCodeAt(W++),te==this.blockSize){i(this,ee),te=0;break}}else for(;W<P;)if(ee[te++]=M[W++],te==this.blockSize){i(this,ee),te=0;break}}this.h=te,this.o+=P},n.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var P=1;P<M.length-8;++P)M[P]=0;var O=8*this.o;for(P=M.length-8;P<M.length;++P)M[P]=O&255,O/=256;for(this.u(M),M=Array(16),P=O=0;4>P;++P)for(var ee=0;32>ee;ee+=8)M[O++]=this.g[P]>>>ee&255;return M};function s(M,P){var O=c;return Object.prototype.hasOwnProperty.call(O,M)?O[M]:O[M]=P(M)}function l(M,P){this.h=P;for(var O=[],ee=!0,te=M.length-1;0<=te;te--){var W=M[te]|0;ee&&W==P||(O[te]=W,ee=!1)}this.g=O}var c={};function g(M){return-128<=M&&128>M?s(M,function(P){return new l([P|0],0>P?-1:0)}):new l([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return U(d(-M));for(var P=[],O=1,ee=0;M>=O;ee++)P[ee]=M/O|0,O*=4294967296;return new l(P,0)}function m(M,P){if(M.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M.charAt(0)=="-")return U(m(M.substring(1),P));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(P,8)),ee=C,te=0;te<M.length;te+=8){var W=Math.min(8,M.length-te),q=parseInt(M.substring(te,te+W),P);8>W?(W=d(Math.pow(P,W)),ee=ee.j(W).add(d(q))):(ee=ee.j(O),ee=ee.add(d(q)))}return ee}var C=g(0),b=g(1),N=g(16777216);t=l.prototype,t.m=function(){if(k(this))return-U(this).m();for(var M=0,P=1,O=0;O<this.g.length;O++){var ee=this.i(O);M+=(0<=ee?ee:4294967296+ee)*P,P*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(k(this))return"-"+U(this).toString(M);for(var P=d(Math.pow(M,6)),O=this,ee="";;){var te=J(O,P).g;O=j(O,te.j(P));var W=((0<O.g.length?O.g[0]:O.h)>>>0).toString(M);if(O=te,R(O))return W+ee;for(;6>W.length;)W="0"+W;ee=W+ee}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(var P=0;P<M.g.length;P++)if(M.g[P]!=0)return!1;return!0}function k(M){return M.h==-1}t.l=function(M){return M=j(this,M),k(M)?-1:R(M)?0:1};function U(M){for(var P=M.g.length,O=[],ee=0;ee<P;ee++)O[ee]=~M.g[ee];return new l(O,~M.h).add(b)}t.abs=function(){return k(this)?U(this):this},t.add=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],ee=0,te=0;te<=P;te++){var W=ee+(this.i(te)&65535)+(M.i(te)&65535),q=(W>>>16)+(this.i(te)>>>16)+(M.i(te)>>>16);ee=q>>>16,W&=65535,q&=65535,O[te]=q<<16|W}return new l(O,O[O.length-1]&-2147483648?-1:0)};function j(M,P){return M.add(U(P))}t.j=function(M){if(R(this)||R(M))return C;if(k(this))return k(M)?U(this).j(U(M)):U(U(this).j(M));if(k(M))return U(this.j(U(M)));if(0>this.l(N)&&0>M.l(N))return d(this.m()*M.m());for(var P=this.g.length+M.g.length,O=[],ee=0;ee<2*P;ee++)O[ee]=0;for(ee=0;ee<this.g.length;ee++)for(var te=0;te<M.g.length;te++){var W=this.i(ee)>>>16,q=this.i(ee)&65535,Ie=M.i(te)>>>16,xe=M.i(te)&65535;O[2*ee+2*te]+=q*xe,K(O,2*ee+2*te),O[2*ee+2*te+1]+=W*xe,K(O,2*ee+2*te+1),O[2*ee+2*te+1]+=q*Ie,K(O,2*ee+2*te+1),O[2*ee+2*te+2]+=W*Ie,K(O,2*ee+2*te+2)}for(ee=0;ee<P;ee++)O[ee]=O[2*ee+1]<<16|O[2*ee];for(ee=P;ee<2*P;ee++)O[ee]=0;return new l(O,0)};function K(M,P){for(;(M[P]&65535)!=M[P];)M[P+1]+=M[P]>>>16,M[P]&=65535,P++}function Q(M,P){this.g=M,this.h=P}function J(M,P){if(R(P))throw Error("division by zero");if(R(M))return new Q(C,C);if(k(M))return P=J(U(M),P),new Q(U(P.g),U(P.h));if(k(P))return P=J(M,U(P)),new Q(U(P.g),P.h);if(30<M.g.length){if(k(M)||k(P))throw Error("slowDivide_ only works with positive integers.");for(var O=b,ee=P;0>=ee.l(M);)O=re(O),ee=re(ee);var te=G(O,1),W=G(ee,1);for(ee=G(ee,2),O=G(O,2);!R(ee);){var q=W.add(ee);0>=q.l(M)&&(te=te.add(O),W=q),ee=G(ee,1),O=G(O,1)}return P=j(M,te.j(P)),new Q(te,P)}for(te=C;0<=M.l(P);){for(O=Math.max(1,Math.floor(M.m()/P.m())),ee=Math.ceil(Math.log(O)/Math.LN2),ee=48>=ee?1:Math.pow(2,ee-48),W=d(O),q=W.j(P);k(q)||0<q.l(M);)O-=ee,W=d(O),q=W.j(P);R(W)&&(W=b),te=te.add(W),M=j(M,q)}return new Q(te,M)}t.A=function(M){return J(this,M).h},t.and=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],ee=0;ee<P;ee++)O[ee]=this.i(ee)&M.i(ee);return new l(O,this.h&M.h)},t.or=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],ee=0;ee<P;ee++)O[ee]=this.i(ee)|M.i(ee);return new l(O,this.h|M.h)},t.xor=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],ee=0;ee<P;ee++)O[ee]=this.i(ee)^M.i(ee);return new l(O,this.h^M.h)};function re(M){for(var P=M.g.length+1,O=[],ee=0;ee<P;ee++)O[ee]=M.i(ee)<<1|M.i(ee-1)>>>31;return new l(O,M.h)}function G(M,P){var O=P>>5;P%=32;for(var ee=M.g.length-O,te=[],W=0;W<ee;W++)te[W]=0<P?M.i(W+O)>>>P|M.i(W+O+1)<<32-P:M.i(W+O);return new l(te,M.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,ON=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,tc=l}).apply(typeof WT<"u"?WT:typeof self<"u"?self:typeof window<"u"?window:{});var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LN,W0,QN,c1,D2,PN,HN,VN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(T,L,z){return T==Array.prototype||T==Object.prototype||(T[L]=z.value),T};function r(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jh=="object"&&Jh];for(var L=0;L<T.length;++L){var z=T[L];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var n=r(this);function i(T,L){if(L)e:{var z=n;T=T.split(".");for(var fe=0;fe<T.length-1;fe++){var Oe=T[fe];if(!(Oe in z))break e;z=z[Oe]}T=T[T.length-1],fe=z[T],L=L(fe),L!=fe&&L!=null&&e(z,T,{configurable:!0,writable:!0,value:L})}}function s(T,L){T instanceof String&&(T+="");var z=0,fe=!1,Oe={next:function(){if(!fe&&z<T.length){var $e=z++;return{value:L($e,T[$e]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return Oe[Symbol.iterator]=function(){return Oe},Oe}i("Array.prototype.values",function(T){return T||function(){return s(this,function(L,z){return z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function g(T){var L=typeof T;return L=L!="object"?L:T?Array.isArray(T)?"array":L:"null",L=="array"||L=="object"&&typeof T.length=="number"}function d(T){var L=typeof T;return L=="object"&&T!=null||L=="function"}function m(T,L,z){return T.call.apply(T.bind,arguments)}function C(T,L,z){if(!T)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var Oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Oe,fe),T.apply(L,Oe)}}return function(){return T.apply(L,arguments)}}function b(T,L,z){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:C,b.apply(null,arguments)}function N(T,L){var z=Array.prototype.slice.call(arguments,1);return function(){var fe=z.slice();return fe.push.apply(fe,arguments),T.apply(this,fe)}}function R(T,L){function z(){}z.prototype=L.prototype,T.aa=L.prototype,T.prototype=new z,T.prototype.constructor=T,T.Qb=function(fe,Oe,$e){for(var It=Array(arguments.length-2),zr=2;zr<arguments.length;zr++)It[zr-2]=arguments[zr];return L.prototype[Oe].apply(fe,It)}}function k(T){const L=T.length;if(0<L){const z=Array(L);for(let fe=0;fe<L;fe++)z[fe]=T[fe];return z}return[]}function U(T,L){for(let z=1;z<arguments.length;z++){const fe=arguments[z];if(g(fe)){const Oe=T.length||0,$e=fe.length||0;T.length=Oe+$e;for(let It=0;It<$e;It++)T[Oe+It]=fe[It]}else T.push(fe)}}class j{constructor(L,z){this.i=L,this.j=z,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function K(T){return/^[\s\xa0]*$/.test(T)}function Q(){var T=c.navigator;return T&&(T=T.userAgent)?T:""}function J(T){return J[" "](T),T}J[" "]=function(){};var re=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function G(T,L,z){for(const fe in T)L.call(z,T[fe],fe,T)}function M(T,L){for(const z in T)L.call(void 0,T[z],z,T)}function P(T){const L={};for(const z in T)L[z]=T[z];return L}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(T,L){let z,fe;for(let Oe=1;Oe<arguments.length;Oe++){fe=arguments[Oe];for(z in fe)T[z]=fe[z];for(let $e=0;$e<O.length;$e++)z=O[$e],Object.prototype.hasOwnProperty.call(fe,z)&&(T[z]=fe[z])}}function te(T){var L=1;T=T.split(":");const z=[];for(;0<L&&T.length;)z.push(T.shift()),L--;return T.length&&z.push(T.join(":")),z}function W(T){c.setTimeout(()=>{throw T},0)}function q(){var T=Ee;let L=null;return T.g&&(L=T.g,T.g=T.g.next,T.g||(T.h=null),L.next=null),L}class Ie{constructor(){this.h=this.g=null}add(L,z){const fe=xe.get();fe.set(L,z),this.h?this.h.next=fe:this.g=fe,this.h=fe}}var xe=new j(()=>new ge,T=>T.reset());class ge{constructor(){this.next=this.g=this.h=null}set(L,z){this.h=L,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,We=!1,Ee=new Ie,et=()=>{const T=c.Promise.resolve(void 0);ye=()=>{T.then(ne)}};var ne=()=>{for(var T;T=q();){try{T.h.call(T.g)}catch(z){W(z)}var L=xe;L.j(T),100>L.h&&(L.h++,T.next=L.g,L.g=T)}We=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(T,L){this.type=T,this.g=this.target=L,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var T=!1,L=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const z=()=>{};c.addEventListener("test",z,L),c.removeEventListener("test",z,L)}catch{}return T})();function ce(T,L){if(ue.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T){var z=this.type=T.type,fe=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;if(this.target=T.target||T.srcElement,this.g=L,L=T.relatedTarget){if(re){e:{try{J(L.nodeName);var Oe=!0;break e}catch{}Oe=!1}Oe||(L=null)}}else z=="mouseover"?L=T.fromElement:z=="mouseout"&&(L=T.toElement);this.relatedTarget=L,fe?(this.clientX=fe.clientX!==void 0?fe.clientX:fe.pageX,this.clientY=fe.clientY!==void 0?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=typeof T.pointerType=="string"?T.pointerType:be[T.pointerType]||"",this.state=T.state,this.i=T,T.defaultPrevented&&ce.aa.h.call(this)}}R(ce,ue);var be={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),ke=0;function He(T,L,z,fe,Oe){this.listener=T,this.proxy=null,this.src=L,this.type=z,this.capture=!!fe,this.ha=Oe,this.key=++ke,this.da=this.fa=!1}function Te(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function pt(T){this.src=T,this.g={},this.h=0}pt.prototype.add=function(T,L,z,fe,Oe){var $e=T.toString();T=this.g[$e],T||(T=this.g[$e]=[],this.h++);var It=Xe(T,L,fe,Oe);return-1<It?(L=T[It],z||(L.fa=!1)):(L=new He(L,this.src,$e,!!fe,Oe),L.fa=z,T.push(L)),L};function se(T,L){var z=L.type;if(z in T.g){var fe=T.g[z],Oe=Array.prototype.indexOf.call(fe,L,void 0),$e;($e=0<=Oe)&&Array.prototype.splice.call(fe,Oe,1),$e&&(Te(L),T.g[z].length==0&&(delete T.g[z],T.h--))}}function Xe(T,L,z,fe){for(var Oe=0;Oe<T.length;++Oe){var $e=T[Oe];if(!$e.da&&$e.listener==L&&$e.capture==!!z&&$e.ha==fe)return Oe}return-1}var vt="closure_lm_"+(1e6*Math.random()|0),Ft={};function At(T,L,z,fe,Oe){if(Array.isArray(L)){for(var $e=0;$e<L.length;$e++)At(T,L[$e],z,fe,Oe);return null}return z=Le(z),T&&T[Je]?T.K(L,z,d(fe)?!!fe.capture:!1,Oe):ot(T,L,z,!1,fe,Oe)}function ot(T,L,z,fe,Oe,$e){if(!L)throw Error("Invalid event type");var It=d(Oe)?!!Oe.capture:!!Oe,zr=nn(T);if(zr||(T[vt]=zr=new pt(T)),z=zr.add(L,z,fe,It,$e),z.proxy)return z;if(fe=Dt(),z.proxy=fe,fe.src=T,fe.listener=z,T.addEventListener)oe||(Oe=It),Oe===void 0&&(Oe=!1),T.addEventListener(L.toString(),fe,Oe);else if(T.attachEvent)T.attachEvent(Tt(L.toString()),fe);else if(T.addListener&&T.removeListener)T.addListener(fe);else throw Error("addEventListener and attachEvent are unavailable.");return z}function Dt(){function T(z){return L.call(T.src,T.listener,z)}const L=un;return T}function Nt(T,L,z,fe,Oe){if(Array.isArray(L))for(var $e=0;$e<L.length;$e++)Nt(T,L[$e],z,fe,Oe);else fe=d(fe)?!!fe.capture:!!fe,z=Le(z),T&&T[Je]?(T=T.i,L=String(L).toString(),L in T.g&&($e=T.g[L],z=Xe($e,z,fe,Oe),-1<z&&(Te($e[z]),Array.prototype.splice.call($e,z,1),$e.length==0&&(delete T.g[L],T.h--)))):T&&(T=nn(T))&&(L=T.g[L.toString()],T=-1,L&&(T=Xe(L,z,fe,Oe)),(z=-1<T?L[T]:null)&&wr(z))}function wr(T){if(typeof T!="number"&&T&&!T.da){var L=T.src;if(L&&L[Je])se(L.i,T);else{var z=T.type,fe=T.proxy;L.removeEventListener?L.removeEventListener(z,fe,T.capture):L.detachEvent?L.detachEvent(Tt(z),fe):L.addListener&&L.removeListener&&L.removeListener(fe),(z=nn(L))?(se(z,T),z.h==0&&(z.src=null,L[vt]=null)):Te(T)}}}function Tt(T){return T in Ft?Ft[T]:Ft[T]="on"+T}function un(T,L){if(T.da)T=!0;else{L=new ce(L,this);var z=T.listener,fe=T.ha||T.src;T.fa&&wr(T),T=z.call(fe,L)}return T}function nn(T){return T=T[vt],T instanceof pt?T:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Le(T){return typeof T=="function"?T:(T[Pe]||(T[Pe]=function(L){return T.handleEvent(L)}),T[Pe])}function lt(){X.call(this),this.i=new pt(this),this.M=this,this.F=null}R(lt,X),lt.prototype[Je]=!0,lt.prototype.removeEventListener=function(T,L,z,fe){Nt(this,T,L,z,fe)};function kt(T,L){var z,fe=T.F;if(fe)for(z=[];fe;fe=fe.F)z.push(fe);if(T=T.M,fe=L.type||L,typeof L=="string")L=new ue(L,T);else if(L instanceof ue)L.target=L.target||T;else{var Oe=L;L=new ue(fe,T),ee(L,Oe)}if(Oe=!0,z)for(var $e=z.length-1;0<=$e;$e--){var It=L.g=z[$e];Oe=tr(It,fe,!0,L)&&Oe}if(It=L.g=T,Oe=tr(It,fe,!0,L)&&Oe,Oe=tr(It,fe,!1,L)&&Oe,z)for($e=0;$e<z.length;$e++)It=L.g=z[$e],Oe=tr(It,fe,!1,L)&&Oe}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var T=this.i,L;for(L in T.g){for(var z=T.g[L],fe=0;fe<z.length;fe++)Te(z[fe]);delete T.g[L],T.h--}}this.F=null},lt.prototype.K=function(T,L,z,fe){return this.i.add(String(T),L,!1,z,fe)},lt.prototype.L=function(T,L,z,fe){return this.i.add(String(T),L,!0,z,fe)};function tr(T,L,z,fe){if(L=T.i.g[String(L)],!L)return!0;L=L.concat();for(var Oe=!0,$e=0;$e<L.length;++$e){var It=L[$e];if(It&&!It.da&&It.capture==z){var zr=It.listener,En=It.ha||It.src;It.fa&&se(T.i,It),Oe=zr.call(En,fe)!==!1&&Oe}}return Oe&&!fe.defaultPrevented}function st(T,L,z){if(typeof T=="function")z&&(T=b(T,z));else if(T&&typeof T.handleEvent=="function")T=b(T.handleEvent,T);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:c.setTimeout(T,L||0)}function bt(T){T.g=st(()=>{T.g=null,T.i&&(T.i=!1,bt(T))},T.l);const L=T.h;T.h=null,T.m.apply(null,L)}class Wt extends X{constructor(L,z){super(),this.m=L,this.l=z,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(T){X.call(this),this.h=T,this.g={}}R(Er,X);var Gt=[];function Ne(T){G(T.g,function(L,z){this.g.hasOwnProperty(z)&&wr(L)},T),T.g={}}Er.prototype.N=function(){Er.aa.N.call(this),Ne(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=c.JSON.stringify,jt=c.JSON.parse,Ar=class{stringify(T){return c.JSON.stringify(T,void 0)}parse(T){return c.JSON.parse(T,void 0)}};function Re(){}Re.prototype.h=null;function ht(T){return T.h||(T.h=T.i())}function ft(){}var it={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xt(){ue.call(this,"d")}R(Xt,ue);function xr(){ue.call(this,"c")}R(xr,ue);var Jr={},sn=null;function Ns(){return sn=sn||new lt}Jr.La="serverreachability";function Nn(T){ue.call(this,Jr.La,T)}R(Nn,ue);function Bi(T){const L=Ns();kt(L,new Nn(L))}Jr.STAT_EVENT="statevent";function gs(T,L){ue.call(this,Jr.STAT_EVENT,T),this.stat=L}R(gs,ue);function $r(T){const L=Ns();kt(L,new gs(L,T))}Jr.Ma="timingevent";function No(T,L){ue.call(this,Jr.Ma,T),this.size=L}R(No,ue);function ai(T,L){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){T()},L)}function Fs(){this.g=!0}Fs.prototype.xa=function(){this.g=!1};function Pn(T,L,z,fe,Oe,$e){T.info(function(){if(T.g)if($e)for(var It="",zr=$e.split("&"),En=0;En<zr.length;En++){var br=zr[En].split("=");if(1<br.length){var vn=br[0];br=br[1];var On=vn.split("_");It=2<=On.length&&On[1]=="type"?It+(vn+"="+br+"&"):It+(vn+"=redacted&")}}else It=null;else It=$e;return"XMLHTTP REQ ("+fe+") [attempt "+Oe+"]: "+L+`
`+z+`
`+It})}function ps(T,L,z,fe,Oe,$e,It){T.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+Oe+"]: "+L+`
`+z+`
`+$e+" "+It})}function ie(T,L,z,fe){T.info(function(){return"XMLHTTP TEXT ("+L+"): "+de(T,z)+(fe?" "+fe:"")})}function Ae(T,L){T.info(function(){return"TIMEOUT: "+L})}Fs.prototype.info=function(){};function de(T,L){if(!T.g)return L;if(!L)return null;try{var z=JSON.parse(L);if(z){for(T=0;T<z.length;T++)if(Array.isArray(z[T])){var fe=z[T];if(!(2>fe.length)){var Oe=fe[1];if(Array.isArray(Oe)&&!(1>Oe.length)){var $e=Oe[0];if($e!="noop"&&$e!="stop"&&$e!="close")for(var It=1;It<Oe.length;It++)Oe[It]=""}}}}return Rt(z)}catch{return L}}var he={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ve;function Ve(){}R(Ve,Re),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},ve=new Ve;function rt(T,L,z,fe){this.j=T,this.i=L,this.l=z,this.R=fe||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}var Ke={},ze={};function dt(T,L,z){T.L=1,T.v=Cn(sr(L)),T.m=z,T.P=!0,xt(T,null)}function xt(T,L){T.F=Date.now(),_t(T),T.A=sr(T.v);var z=T.A,fe=T.R;Array.isArray(fe)||(fe=[String(fe)]),dn(z.i,"t",fe),T.C=0,z=T.j.J,T.h=new Me,T.g=Ec(T.j,z?L:null,!T.m),0<T.O&&(T.M=new Wt(b(T.Y,T,T.g),T.O)),L=T.U,z=T.g,fe=T.ca;var Oe="readystatechange";Array.isArray(Oe)||(Oe&&(Gt[0]=Oe.toString()),Oe=Gt);for(var $e=0;$e<Oe.length;$e++){var It=At(z,Oe[$e],fe||L.handleEvent,!1,L.h||L);if(!It)break;L.g[It.key]=It}L=T.H?P(T.H):{},T.m?(T.u||(T.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.A,T.u,T.m,L)):(T.u="GET",T.g.ea(T.A,T.u,null,L)),Bi(),Pn(T.i,T.u,T.A,T.l,T.R,T.m)}rt.prototype.ca=function(T){T=T.target;const L=this.M;L&&Di(T)==3?L.j():this.Y(T)},rt.prototype.Y=function(T){try{if(T==this.g)e:{const On=Di(this.g);var L=this.g.Ba();const $n=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Fo(this.g)))){this.J||On!=4||L==7||(L==8||0>=$n?Bi(3):Bi(2)),nt(this);var z=this.g.Z();this.X=z;t:if(wt(this)){var fe=Fo(this.g);T="";var Oe=fe.length,$e=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),Or(this);var It="";break t}this.h.i=new c.TextDecoder}for(L=0;L<Oe;L++)this.h.h=!0,T+=this.h.i.decode(fe[L],{stream:!($e&&L==Oe-1)});fe.length=0,this.h.g+=T,this.C=0,It=this.h.g}else It=this.g.oa();if(this.o=z==200,ps(this.i,this.u,this.A,this.l,this.R,On,z),this.o){if(this.T&&!this.K){t:{if(this.g){var zr,En=this.g;if((zr=En.g?En.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(zr)){var br=zr;break t}}br=null}if(z=br)ie(this.i,this.l,z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Un(this,z);else{this.o=!1,this.s=3,$r(12),Jt(this),Or(this);break e}}if(this.P){z=!0;let Mi;for(;!this.J&&this.C<It.length;)if(Mi=Ct(this,It),Mi==ze){On==4&&(this.s=4,$r(14),z=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if(Mi==Ke){this.s=4,$r(15),ie(this.i,this.l,It,"[Invalid Chunk]"),z=!1;break}else ie(this.i,this.l,Mi,null),Un(this,Mi);if(wt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||It.length!=0||this.h.h||(this.s=1,$r(16),z=!1),this.o=this.o&&z,!z)ie(this.i,this.l,It,"[Invalid Chunked Response]"),Jt(this),Or(this);else if(0<It.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+It.length),Do(vn),vn.M=!0,$r(11))}}else ie(this.i,this.l,It,null),Un(this,It);On==4&&Jt(this),this.o&&!this.J&&(On==4?wn(this.j,this):(this.o=!1,_t(this)))}else Hr(this.g),z==400&&0<It.indexOf("Unknown SID")?(this.s=3,$r(12)):(this.s=0,$r(13)),Jt(this),Or(this)}}}catch{}finally{}};function wt(T){return T.g?T.u=="GET"&&T.L!=2&&T.j.Ca:!1}function Ct(T,L){var z=T.C,fe=L.indexOf(`
`,z);return fe==-1?ze:(z=Number(L.substring(z,fe)),isNaN(z)?Ke:(fe+=1,fe+z>L.length?ze:(L=L.slice(fe,fe+z),T.C=fe+z,L)))}rt.prototype.cancel=function(){this.J=!0,Jt(this)};function _t(T){T.S=Date.now()+T.I,Ot(T,T.I)}function Ot(T,L){if(T.B!=null)throw Error("WatchDog timer not null");T.B=ai(b(T.ba,T),L)}function nt(T){T.B&&(c.clearTimeout(T.B),T.B=null)}rt.prototype.ba=function(){this.B=null;const T=Date.now();0<=T-this.S?(Ae(this.i,this.A),this.L!=2&&(Bi(),$r(17)),Jt(this),this.s=2,Or(this)):Ot(this,this.S-T)};function Or(T){T.j.G==0||T.J||wn(T.j,T)}function Jt(T){nt(T);var L=T.M;L&&typeof L.ma=="function"&&L.ma(),T.M=null,Ne(T.U),T.g&&(L=T.g,T.g=null,L.abort(),L.ma())}function Un(T,L){try{var z=T.j;if(z.G!=0&&(z.g==T||Hn(z.h,T))){if(!T.K&&Hn(z.h,T)&&z.G==3){try{var fe=z.Da.g.parse(L)}catch{fe=null}if(Array.isArray(fe)&&fe.length==3){var Oe=fe;if(Oe[0]==0){e:if(!z.u){if(z.g)if(z.g.F+3e3<T.F)va(z),uo(z);else break e;BA(z),$r(18)}}else z.za=Oe[1],0<z.za-z.T&&37500>Oe[2]&&z.F&&z.v==0&&!z.C&&(z.C=ai(b(z.Za,z),6e3));if(1>=dr(z.h)&&z.ca){try{z.ca()}catch{}z.ca=void 0}}else Ui(z,11)}else if((T.K||z.g==T)&&va(z),!K(L))for(Oe=z.Da.g.parse(L),L=0;L<Oe.length;L++){let br=Oe[L];if(z.T=br[0],br=br[1],z.G==2)if(br[0]=="c"){z.K=br[1],z.ia=br[2];const vn=br[3];vn!=null&&(z.la=vn,z.j.info("VER="+z.la));const On=br[4];On!=null&&(z.Aa=On,z.j.info("SVER="+z.Aa));const $n=br[5];$n!=null&&typeof $n=="number"&&0<$n&&(fe=1.5*$n,z.L=fe,z.j.info("backChannelRequestTimeoutMs_="+fe)),fe=z;const Mi=T.g;if(Mi){const Ti=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var $e=fe.h;$e.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||($e.j=$e.l,$e.g=new Set,$e.h&&(xa($e,$e.h),$e.h=null))}if(fe.D){const Ka=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(fe.ya=Ka,St(fe.I,fe.D,Ka))}}z.G=3,z.l&&z.l.ua(),z.ba&&(z.R=Date.now()-T.F,z.j.info("Handshake RTT: "+z.R+"ms")),fe=z;var It=T;if(fe.qa=Yt(fe,fe.J?fe.ia:null,fe.W),It.K){Ji(fe.h,It);var zr=It,En=fe.L;En&&(zr.I=En),zr.B&&(nt(zr),_t(zr)),fe.g=It}else Cc(fe);0<z.i.length&&or(z)}else br[0]!="stop"&&br[0]!="close"||Ui(z,7);else z.G==3&&(br[0]=="stop"||br[0]=="close"?br[0]=="stop"?Ui(z,7):Qs(z):br[0]!="noop"&&z.l&&z.l.ta(br),z.v=0)}}Bi(4)}catch{}}var Va=class{constructor(T,L){this.g=T,this.map=L}};function vr(T){this.l=T||10,c.PerformanceNavigationTiming?(T=c.performance.getEntriesByType("navigation"),T=0<T.length&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cr(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function dr(T){return T.h?1:T.g?T.g.size:0}function Hn(T,L){return T.h?T.h==L:T.g?T.g.has(L):!1}function xa(T,L){T.g?T.g.add(L):T.h=L}function Ji(T,L){T.h&&T.h==L?T.h=null:T.g&&T.g.has(L)&&T.g.delete(L)}vr.prototype.cancel=function(){if(this.i=Dr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function Dr(T){if(T.h!=null)return T.i.concat(T.h.D);if(T.g!=null&&T.g.size!==0){let L=T.i;for(const z of T.g.values())L=L.concat(z.D);return L}return k(T.i)}function ea(T){if(T.V&&typeof T.V=="function")return T.V();if(typeof Map<"u"&&T instanceof Map||typeof Set<"u"&&T instanceof Set)return Array.from(T.values());if(typeof T=="string")return T.split("");if(g(T)){for(var L=[],z=T.length,fe=0;fe<z;fe++)L.push(T[fe]);return L}L=[],z=0;for(fe in T)L[z++]=T[fe];return L}function Gu(T){if(T.na&&typeof T.na=="function")return T.na();if(!T.V||typeof T.V!="function"){if(typeof Map<"u"&&T instanceof Map)return Array.from(T.keys());if(!(typeof Set<"u"&&T instanceof Set)){if(g(T)||typeof T=="string"){var L=[];T=T.length;for(var z=0;z<T;z++)L.push(z);return L}L=[],z=0;for(const fe in T)L[z++]=fe;return L}}}function fn(T,L){if(T.forEach&&typeof T.forEach=="function")T.forEach(L,void 0);else if(g(T)||typeof T=="string")Array.prototype.forEach.call(T,L,void 0);else for(var z=Gu(T),fe=ea(T),Oe=fe.length,$e=0;$e<Oe;$e++)L.call(void 0,fe[$e],z&&z[$e],T)}var Rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ml(T,L){if(T){T=T.split("&");for(var z=0;z<T.length;z++){var fe=T[z].indexOf("="),Oe=null;if(0<=fe){var $e=T[z].substring(0,fe);Oe=T[z].substring(fe+1)}else $e=T[z];L($e,Oe?decodeURIComponent(Oe.replace(/\+/g," ")):"")}}}function Zi(T){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,T instanceof Zi){this.h=T.h,_n(this,T.j),this.o=T.o,this.g=T.g,Qe(this,T.s),this.l=T.l;var L=T.i,z=new Ds;z.i=L.i,L.g&&(z.g=new Map(L.g),z.h=L.h),me(this,z),this.m=T.m}else T&&(L=String(T).match(Rs))?(this.h=!1,_n(this,L[1]||"",!0),this.o=Jn(L[2]||""),this.g=Jn(L[3]||"",!0),Qe(this,L[4]),this.l=Jn(L[5]||"",!0),me(this,L[6]||"",!0),this.m=Jn(L[7]||"")):(this.h=!1,this.i=new Ds(null,this.h))}Zi.prototype.toString=function(){var T=[],L=this.j;L&&T.push(ks(L,_i,!0),":");var z=this.g;return(z||L=="file")&&(T.push("//"),(L=this.o)&&T.push(ks(L,_i,!0),"@"),T.push(encodeURIComponent(String(z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.s,z!=null&&T.push(":",String(z))),(z=this.l)&&(this.g&&z.charAt(0)!="/"&&T.push("/"),T.push(ks(z,z.charAt(0)=="/"?an:qt,!0))),(z=this.i.toString())&&T.push("?",z),(z=this.m)&&T.push("#",ks(z,Ku)),T.join("")};function sr(T){return new Zi(T)}function _n(T,L,z){T.j=z?Jn(L,!0):L,T.j&&(T.j=T.j.replace(/:$/,""))}function Qe(T,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);T.s=L}else T.s=null}function me(T,L,z){L instanceof Ds?(T.i=L,ta(T.i,T.h)):(z||(L=ks(L,vc)),T.i=new Ds(L,T.h))}function St(T,L,z){T.i.set(L,z)}function Cn(T){return St(T,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),T}function Jn(T,L){return T?L?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function ks(T,L,z){return typeof T=="string"?(T=encodeURI(T).replace(L,yA),z&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function yA(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var _i=/[#\/\?@]/g,qt=/[#\?:]/g,an=/[#\?]/g,vc=/[#\?@]/g,Ku=/#/g;function Ds(T,L){this.h=this.g=null,this.i=T||null,this.j=!!L}function Mn(T){T.g||(T.g=new Map,T.h=0,T.i&&ml(T.i,function(L,z){T.add(decodeURIComponent(L.replace(/\+/g," ")),z)}))}t=Ds.prototype,t.add=function(T,L){Mn(this),this.i=null,T=mi(this,T);var z=this.g.get(T);return z||this.g.set(T,z=[]),z.push(L),this.h+=1,this};function Ao(T,L){Mn(T),L=mi(T,L),T.g.has(L)&&(T.i=null,T.h-=T.g.get(L).length,T.g.delete(L))}function xl(T,L){return Mn(T),L=mi(T,L),T.g.has(L)}t.forEach=function(T,L){Mn(this),this.g.forEach(function(z,fe){z.forEach(function(Oe){T.call(L,Oe,fe,this)},this)},this)},t.na=function(){Mn(this);const T=Array.from(this.g.values()),L=Array.from(this.g.keys()),z=[];for(let fe=0;fe<L.length;fe++){const Oe=T[fe];for(let $e=0;$e<Oe.length;$e++)z.push(L[fe])}return z},t.V=function(T){Mn(this);let L=[];if(typeof T=="string")xl(this,T)&&(L=L.concat(this.g.get(mi(this,T))));else{T=Array.from(this.g.values());for(let z=0;z<T.length;z++)L=L.concat(T[z])}return L},t.set=function(T,L){return Mn(this),this.i=null,T=mi(this,T),xl(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[L]),this.h+=1,this},t.get=function(T,L){return T?(T=this.V(T),0<T.length?String(T[0]):L):L};function dn(T,L,z){Ao(T,L),0<z.length&&(T.i=null,T.g.set(mi(T,L),k(z)),T.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],L=Array.from(this.g.keys());for(var z=0;z<L.length;z++){var fe=L[z];const $e=encodeURIComponent(String(fe)),It=this.V(fe);for(fe=0;fe<It.length;fe++){var Oe=$e;It[fe]!==""&&(Oe+="="+encodeURIComponent(String(It[fe]))),T.push(Oe)}}return this.i=T.join("&")};function mi(T,L){return L=String(L),T.j&&(L=L.toLowerCase()),L}function ta(T,L){L&&!T.j&&(Mn(T),T.i=null,T.g.forEach(function(z,fe){var Oe=fe.toLowerCase();fe!=Oe&&(Ao(this,fe),dn(this,Oe,z))},T)),T.j=L}function Zt(T,L){const z=new Fs;if(c.Image){const fe=new Image;fe.onload=N($t,z,"TestLoadImage: loaded",!0,L,fe),fe.onerror=N($t,z,"TestLoadImage: error",!1,L,fe),fe.onabort=N($t,z,"TestLoadImage: abort",!1,L,fe),fe.ontimeout=N($t,z,"TestLoadImage: timeout",!1,L,fe),c.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=T}else L(!1)}function yc(T,L){const z=new Fs,fe=new AbortController,Oe=setTimeout(()=>{fe.abort(),$t(z,"TestPingServer: timeout",!1,L)},1e4);fetch(T,{signal:fe.signal}).then($e=>{clearTimeout(Oe),$e.ok?$t(z,"TestPingServer: ok",!0,L):$t(z,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Oe),$t(z,"TestPingServer: error",!1,L)})}function $t(T,L,z,fe,Oe){try{Oe&&(Oe.onload=null,Oe.onerror=null,Oe.onabort=null,Oe.ontimeout=null),fe(z)}catch{}}function on(){this.g=new Ar}function CA(T,L,z){const fe=z||"";try{fn(T,function(Oe,$e){let It=Oe;d(Oe)&&(It=Rt(Oe)),L.push(fe+$e+"="+encodeURIComponent(It))})}catch(Oe){throw L.push(fe+"type="+encodeURIComponent("_badmap")),Oe}}function Us(T){this.l=T.Ub||null,this.j=T.eb||!1}R(Us,Re),Us.prototype.g=function(){return new $i(this.l,this.j)},Us.prototype.i=(function(T){return function(){return T}})({});function $i(T,L){lt.call(this),this.D=T,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R($i,lt),t=$i.prototype,t.open=function(T,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=T,this.A=L,this.readyState=1,Os(this)},t.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};T&&(L.body=T),(this.D||c).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},t.Sa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ms(this)}else T.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ms(T){T.j.read().then(T.Pa.bind(T)).catch(T.ga.bind(T))}t.Pa=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var L=T.value?T.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!T.done}))&&(this.response=this.responseText+=L)}T.done?wa(this):Os(this),this.readyState==3&&Ms(this)}},t.Ra=function(T){this.g&&(this.response=this.responseText=T,wa(this))},t.Qa=function(T){this.g&&(this.response=T,wa(this))},t.ga=function(){this.g&&wa(this)};function wa(T){T.readyState=4,T.l=null,T.j=null,T.v=null,Os(T)}t.setRequestHeader=function(T,L){this.u.append(T,L)},t.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],L=this.h.entries();for(var z=L.next();!z.done;)z=z.value,T.push(z[0]+": "+z[1]),z=L.next();return T.join(`\r
`)};function Os(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function ra(T){let L="";return G(T,function(z,fe){L+=fe,L+=":",L+=z,L+=`\r
`}),L}function Ls(T,L,z){e:{for(fe in z){var fe=!1;break e}fe=!0}fe||(z=ra(z),typeof T=="string"?z!=null&&encodeURIComponent(String(z)):St(T,L,z))}function hn(T){lt.call(this),this.headers=new Map,this.o=T||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(hn,lt);var Vn=/^https?$/i,ms=["POST","PUT"];t=hn.prototype,t.Ha=function(T){this.J=T},t.ea=function(T,L,z,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);L=L?L.toUpperCase():"GET",this.D=T,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ve.g(),this.v=this.o?ht(this.o):ht(ve),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(L,String(T),!0),this.B=!1}catch($e){jn(this,$e);return}if(T=z||"",z=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var Oe in fe)z.set(Oe,fe[Oe]);else if(typeof fe.keys=="function"&&typeof fe.get=="function")for(const $e of fe.keys())z.set($e,fe.get($e));else throw Error("Unknown input type for opt_headers: "+String(fe));fe=Array.from(z.keys()).find($e=>$e.toLowerCase()=="content-type"),Oe=c.FormData&&T instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ms,L,void 0))||fe||Oe||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$e,It]of z)this.g.setRequestHeader($e,It);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wl(this),this.u=!0,this.g.send(T),this.u=!1}catch($e){jn(this,$e)}};function jn(T,L){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=L,T.m=5,ja(T),Ga(T)}function ja(T){T.A||(T.A=!0,kt(T,"complete"),kt(T,"error"))}t.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=T||7,kt(this,"complete"),kt(this,"abort"),Ga(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ga(this,!0)),hn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?EA(this):this.bb())},t.bb=function(){EA(this)};function EA(T){if(T.h&&typeof l<"u"&&(!T.v[1]||Di(T)!=4||T.Z()!=2)){if(T.u&&Di(T)==4)st(T.Ea,0,T);else if(kt(T,"readystatechange"),Di(T)==4){T.h=!1;try{const It=T.Z();e:switch(It){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var z;if(!(z=L)){var fe;if(fe=It===0){var Oe=String(T.D).match(Rs)[1]||null;!Oe&&c.self&&c.self.location&&(Oe=c.self.location.protocol.slice(0,-1)),fe=!Vn.test(Oe?Oe.toLowerCase():"")}z=fe}if(z)kt(T,"complete"),kt(T,"success");else{T.m=6;try{var $e=2<Di(T)?T.g.statusText:""}catch{$e=""}T.l=$e+" ["+T.Z()+"]",ja(T)}}finally{Ga(T)}}}}function Ga(T,L){if(T.g){wl(T);const z=T.g,fe=T.v[0]?()=>{}:null;T.g=null,T.v=null,L||kt(T,"ready");try{z.onreadystatechange=fe}catch{}}}function wl(T){T.I&&(c.clearTimeout(T.I),T.I=null)}t.isActive=function(){return!!this.g};function Di(T){return T.g?T.g.readyState:0}t.Z=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(T){if(this.g){var L=this.g.responseText;return T&&L.indexOf(T)==0&&(L=L.substring(T.length)),jt(L)}};function Fo(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.H){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function Hr(T){const L={};T=(T.g&&2<=Di(T)&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let fe=0;fe<T.length;fe++){if(K(T[fe]))continue;var z=te(T[fe]);const Oe=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const $e=L[Oe]||[];L[Oe]=$e,$e.push(z)}M(L,function(fe){return fe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function co(T,L,z){return z&&z.internalChannelParams&&z.internalChannelParams[T]||L}function Ro(T){this.Aa=0,this.i=[],this.j=new Fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=co("failFast",!1,T),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=co("baseRetryDelayMs",5e3,T),this.cb=co("retryDelaySeedMs",1e4,T),this.Wa=co("forwardChannelMaxRetries",2,T),this.wa=co("forwardChannelRequestTimeoutMs",2e4,T),this.pa=T&&T.xmlHttpFactory||void 0,this.Xa=T&&T.Tb||void 0,this.Ca=T&&T.useFetchStreams||!1,this.L=void 0,this.J=T&&T.supportsCrossDomainXhr||!1,this.K="",this.h=new vr(T&&T.concurrentRequestLimit),this.Da=new on,this.P=T&&T.fastHandshake||!1,this.O=T&&T.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=T&&T.Rb||!1,T&&T.xa&&this.j.xa(),T&&T.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&T&&T.detectBufferingProxy||!1,this.ja=void 0,T&&T.longPollingTimeout&&0<T.longPollingTimeout&&(this.ja=T.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ro.prototype,t.la=8,t.G=1,t.connect=function(T,L,z,fe){$r(0),this.W=T,this.H=L||{},z&&fe!==void 0&&(this.H.OSID=z,this.H.OAID=fe),this.F=this.X,this.I=Yt(this,null,this.W),or(this)};function Qs(T){if(Ye(T),T.G==3){var L=T.U++,z=sr(T.I);if(St(z,"SID",T.K),St(z,"RID",L),St(z,"TYPE","terminate"),fo(T,z),L=new rt(T,T.j,L),L.L=2,L.v=Cn(sr(z)),z=!1,c.navigator&&c.navigator.sendBeacon)try{z=c.navigator.sendBeacon(L.v.toString(),"")}catch{}!z&&c.Image&&(new Image().src=L.v,z=!0),z||(L.g=Ec(L.j,null),L.g.ea(L.v)),L.F=Date.now(),_t(L)}Vr(T)}function uo(T){T.g&&(Do(T),T.g.cancel(),T.g=null)}function Ye(T){uo(T),T.u&&(c.clearTimeout(T.u),T.u=null),va(T),T.h.cancel(),T.s&&(typeof T.s=="number"&&c.clearTimeout(T.s),T.s=null)}function or(T){if(!cr(T.h)&&!T.s){T.s=!0;var L=T.Ga;ye||et(),We||(ye(),We=!0),Ee.add(L,T),T.B=0}}function Zn(T,L){return dr(T.h)>=T.h.j-(T.s?1:0)?!1:T.s?(T.i=L.D.concat(T.i),!0):T.G==1||T.G==2||T.B>=(T.Va?0:T.Wa)?!1:(T.s=ai(b(T.Ga,T,L),Uo(T,T.B)),T.B++,!0)}t.Ga=function(T){if(this.s)if(this.s=null,this.G==1){if(!T){this.U=Math.floor(1e5*Math.random()),T=this.U++;const Oe=new rt(this,this.j,T);let $e=this.o;if(this.S&&($e?($e=P($e),ee($e,this.S)):$e=this.S),this.m!==null||this.O||(Oe.H=$e,$e=null),this.P)e:{for(var L=0,z=0;z<this.i.length;z++){t:{var fe=this.i[z];if("__data__"in fe.map&&(fe=fe.map.__data__,typeof fe=="string")){fe=fe.length;break t}fe=void 0}if(fe===void 0)break;if(L+=fe,4096<L){L=z;break e}if(L===4096||z===this.i.length-1){L=z+1;break e}}L=1e3}else L=1e3;L=bA(this,Oe,L),z=sr(this.I),St(z,"RID",T),St(z,"CVER",22),this.D&&St(z,"X-HTTP-Session-Id",this.D),fo(this,z),$e&&(this.O?L="headers="+encodeURIComponent(String(ra($e)))+"&"+L:this.m&&Ls(z,this.m,$e)),xa(this.h,Oe),this.Ua&&St(z,"TYPE","init"),this.P?(St(z,"$req",L),St(z,"SID","null"),Oe.T=!0,dt(Oe,z,null)):dt(Oe,z,L),this.G=2}}else this.G==3&&(T?ko(this,T):this.i.length==0||cr(this.h)||ko(this))};function ko(T,L){var z;L?z=L.l:z=T.U++;const fe=sr(T.I);St(fe,"SID",T.K),St(fe,"RID",z),St(fe,"AID",T.T),fo(T,fe),T.m&&T.o&&Ls(fe,T.m,T.o),z=new rt(T,T.j,z,T.B+1),T.m===null&&(z.H=T.o),L&&(T.i=L.D.concat(T.i)),L=bA(T,z,1e3),z.I=Math.round(.5*T.wa)+Math.round(.5*T.wa*Math.random()),xa(T.h,z),dt(z,fe,L)}function fo(T,L){T.H&&G(T.H,function(z,fe){St(L,fe,z)}),T.l&&fn({},function(z,fe){St(L,fe,z)})}function bA(T,L,z){z=Math.min(T.i.length,z);var fe=T.l?b(T.l.Na,T.l,T):null;e:{var Oe=T.i;let $e=-1;for(;;){const It=["count="+z];$e==-1?0<z?($e=Oe[0].g,It.push("ofs="+$e)):$e=0:It.push("ofs="+$e);let zr=!0;for(let En=0;En<z;En++){let br=Oe[En].g;const vn=Oe[En].map;if(br-=$e,0>br)$e=Math.max(0,Oe[En].g-100),zr=!1;else try{CA(vn,It,"req"+br+"_")}catch{fe&&fe(vn)}}if(zr){fe=It.join("&");break e}}}return T=T.i.splice(0,z),L.D=T,fe}function Cc(T){if(!T.g&&!T.u){T.Y=1;var L=T.Fa;ye||et(),We||(ye(),We=!0),Ee.add(L,T),T.v=0}}function BA(T){return T.g||T.u||3<=T.v?!1:(T.Y++,T.u=ai(b(T.Fa,T),Uo(T,T.v)),T.v++,!0)}t.Fa=function(){if(this.u=null,Fn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var T=2*this.R;this.j.info("BP detection timer enabled: "+T),this.A=ai(b(this.ab,this),T)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$r(10),uo(this),Fn(this))};function Do(T){T.A!=null&&(c.clearTimeout(T.A),T.A=null)}function Fn(T){T.g=new rt(T,T.j,"rpc",T.Y),T.m===null&&(T.g.H=T.o),T.g.O=0;var L=sr(T.qa);St(L,"RID","rpc"),St(L,"SID",T.K),St(L,"AID",T.T),St(L,"CI",T.F?"0":"1"),!T.F&&T.ja&&St(L,"TO",T.ja),St(L,"TYPE","xmlhttp"),fo(T,L),T.m&&T.o&&Ls(L,T.m,T.o),T.L&&(T.g.I=T.L);var z=T.g;T=T.ia,z.L=1,z.v=Cn(sr(L)),z.m=null,z.P=!0,xt(z,T)}t.Za=function(){this.C!=null&&(this.C=null,uo(this),BA(this),$r(19))};function va(T){T.C!=null&&(c.clearTimeout(T.C),T.C=null)}function wn(T,L){var z=null;if(T.g==L){va(T),Do(T),T.g=null;var fe=2}else if(Hn(T.h,L))z=L.D,Ji(T.h,L),fe=1;else return;if(T.G!=0){if(L.o)if(fe==1){z=L.m?L.m.length:0,L=Date.now()-L.F;var Oe=T.B;fe=Ns(),kt(fe,new No(fe,z)),or(T)}else Cc(T);else if(Oe=L.s,Oe==3||Oe==0&&0<L.X||!(fe==1&&Zn(T,L)||fe==2&&BA(T)))switch(z&&0<z.length&&(L=T.h,L.i=L.i.concat(z)),Oe){case 1:Ui(T,5);break;case 4:Ui(T,10);break;case 3:Ui(T,6);break;default:Ui(T,2)}}}function Uo(T,L){let z=T.Ta+Math.floor(Math.random()*T.cb);return T.isActive()||(z*=2),z*L}function Ui(T,L){if(T.j.info("Error code "+L),L==2){var z=b(T.fb,T),fe=T.Xa;const Oe=!fe;fe=new Zi(fe||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||_n(fe,"https"),Cn(fe),Oe?Zt(fe.toString(),z):yc(fe.toString(),z)}else $r(2);T.G=0,T.l&&T.l.sa(L),Vr(T),Ye(T)}t.fb=function(T){T?(this.j.info("Successfully pinged google.com"),$r(2)):(this.j.info("Failed to ping google.com"),$r(1))};function Vr(T){if(T.G=0,T.ka=[],T.l){const L=Dr(T.h);(L.length!=0||T.i.length!=0)&&(U(T.ka,L),U(T.ka,T.i),T.h.i.length=0,k(T.i),T.i.length=0),T.l.ra()}}function Yt(T,L,z){var fe=z instanceof Zi?sr(z):new Zi(z);if(fe.g!="")L&&(fe.g=L+"."+fe.g),Qe(fe,fe.s);else{var Oe=c.location;fe=Oe.protocol,L=L?L+"."+Oe.hostname:Oe.hostname,Oe=+Oe.port;var $e=new Zi(null);fe&&_n($e,fe),L&&($e.g=L),Oe&&Qe($e,Oe),z&&($e.l=z),fe=$e}return z=T.D,L=T.ya,z&&L&&St(fe,z,L),St(fe,"VER",T.la),fo(T,fe),fe}function Ec(T,L,z){if(L&&!T.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=T.Ca&&!T.pa?new hn(new Us({eb:z})):new hn(T.pa),L.Ha(T.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function en(){}t=en.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ps(){}Ps.prototype.g=function(T,L){return new Gn(T,L)};function Gn(T,L){lt.call(this),this.g=new Ro(L),this.l=T,this.h=L&&L.messageUrlParams||null,T=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(T?T["X-WebChannel-Content-Type"]=L.messageContentType:T={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(T?T["X-WebChannel-Client-Profile"]=L.va:T={"X-WebChannel-Client-Profile":L.va}),this.g.S=T,(T=L&&L.Sb)&&!K(T)&&(this.g.m=T),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!K(L)&&(this.g.D=L,T=this.h,T!==null&&L in T&&(T=this.h,L in T&&delete T[L])),this.j=new ya(this)}R(Gn,lt),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Qs(this.g)},Gn.prototype.o=function(T){var L=this.g;if(typeof T=="string"){var z={};z.__data__=T,T=z}else this.u&&(z={},z.__data__=Rt(T),T=z);L.i.push(new Va(L.Ya++,T)),L.G==3&&or(L)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,Gn.aa.N.call(this)};function bc(T){Xt.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var L=T.__sm__;if(L){e:{for(const z in L){T=z;break e}T=void 0}(this.i=T)&&(T=this.i,L=L!==null&&T in L?L[T]:void 0),this.data=L}else this.data=T}R(bc,Xt);function xs(){xr.call(this),this.status=1}R(xs,xr);function ya(T){this.g=T}R(ya,en),ya.prototype.ua=function(){kt(this.g,"a")},ya.prototype.ta=function(T){kt(this.g,new bc(T))},ya.prototype.sa=function(T){kt(this.g,new xs)},ya.prototype.ra=function(){kt(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,VN=function(){return new Ps},HN=function(){return Ns()},PN=Jr,D2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,c1=he,pe.COMPLETE="complete",QN=pe,ft.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",lt.prototype.listen=lt.prototype.K,W0=ft,hn.prototype.listenOnce=hn.prototype.L,hn.prototype.getLastError=hn.prototype.Ka,hn.prototype.getLastErrorCode=hn.prototype.Ba,hn.prototype.getStatus=hn.prototype.Z,hn.prototype.getResponseJson=hn.prototype.Oa,hn.prototype.getResponseText=hn.prototype.oa,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Ha,LN=hn}).apply(typeof Jh<"u"?Jh:typeof self<"u"?self:typeof window<"u"?window:{});const XT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new zw("@firebase/firestore");function k0(){return sc.logLevel}function Kt(t,...e){if(sc.logLevel<=Gr.DEBUG){const r=e.map(Xw);sc.debug(`Firestore (${Hu}): ${t}`,...r)}}function fl(t,...e){if(sc.logLevel<=Gr.ERROR){const r=e.map(Xw);sc.error(`Firestore (${Hu}): ${t}`,...r)}}function Tu(t,...e){if(sc.logLevel<=Gr.WARN){const r=e.map(Xw);sc.warn(`Firestore (${Hu}): ${t}`,...r)}}function Xw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t="Unexpected state"){const e=`FIRESTORE (${Hu}) INTERNAL ASSERTION FAILED: `+t;throw fl(e),new Error(e)}function cn(t,e){t||lr()}function mr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends wA{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(is.UNAUTHENTICATED)))}shutdown(){}}class W${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class X${constructor(e){this.t=e,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){cn(this.o===void 0);let n=this.i;const i=g=>this.i!==n?(n=this.i,r(g)):Promise.resolve();let s=new aA;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new aA,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const g=s;e.enqueueRetryable((async()=>{await g.promise,await i(this.currentUser)}))},c=g=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((g=>c(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?c(g):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new aA)}}),0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(cn(typeof n.accessToken=="string"),new jN(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return cn(e===null||typeof e=="string"),new is(e)}}class q${constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=is.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Y${constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new q$(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(is.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){cn(this.o===void 0);const n=s=>{s.error!=null&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,Kt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(cn(typeof r.token=="string"),this.R=r.token,new J$(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=$$(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function qr(t,e){return t<e?-1:t>e?1:0}function Su(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ht(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ht(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ht(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ht(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bi.fromMillis(Date.now())}static fromDate(e){return bi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new bi(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qr(this.nanoseconds,e.nanoseconds):qr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pr(e)}static min(){return new pr(new bi(0,0))}static max(){return new pr(new bi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,r,n){r===void 0?r=0:r>e.length&&lr(),n===void 0?n=e.length-r:n>e.length-r&&lr(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ff.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ff?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),l=r.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class In extends Ff{construct(e,r,n){return new In(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ht(gt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new In(r)}static emptyPath(){return new In([])}}const eee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ki extends Ff{construct(e,r,n){return new Ki(e,r,n)}static isValidIdentifier(e){return eee.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ki.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ki(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ht(gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ht(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ht(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=g,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(s(),i++)}if(s(),l)throw new Ht(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ki(r)}static emptyPath(){return new Ki([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.path=e}static fromPath(e){return new rr(In.fromString(e))}static fromName(e){return new rr(In.fromString(e).popFirst(5))}static empty(){return new rr(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&In.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return In.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rr(new In(e.slice()))}}function tee(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=pr.fromTimestamp(n===1e9?new bi(r+1,0):new bi(r,n));return new dA(i,rr.empty(),e)}function ree(t){return new dA(t.readTime,t.key,-1)}class dA{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new dA(pr.min(),rr.empty(),-1)}static max(){return new dA(pr.max(),rr.empty(),-1)}}function nee(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=rr.comparator(t.documentKey,e.documentKey),r!==0?r:qr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class see{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){if(t.code!==gt.FAILED_PRECONDITION||t.message!==iee)throw t;Kt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&lr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new yt(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof yt?r:yt.resolve(r)}catch(r){return yt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):yt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):yt.reject(r)}static resolve(e){return new yt(((r,n)=>{r(e)}))}static reject(e){return new yt(((r,n)=>{n(e)}))}static waitFor(e){return new yt(((r,n)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&r()}),(g=>n(g)))})),l=!0,s===i&&r()}))}static or(e){let r=yt.resolve(!1);for(const n of e)r=r.next((i=>i?yt.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new yt(((n,i)=>{const s=e.length,l=new Array(s);let c=0;for(let g=0;g<s;g++){const d=g;r(e[d]).next((m=>{l[d]=m,++c,c===s&&n(l)}),(m=>i(m)))}}))}static doWhile(e,r){return new yt(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}function aee(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Wf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qw.oe=-1;function _g(t){return t==null}function X1(t){return t===0&&1/t==-1/0}function oee(t){return typeof t=="number"&&Number.isInteger(t)&&!X1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function mc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function KN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,r){this.comparator=e,this.root=r||ji.EMPTY}insert(e,r){return new Qn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new Qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??ji.RED,this.left=i??ji.EMPTY,this.right=s??ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new ji(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ji.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lr();const e=this.left.check();if(e!==this.right.check())throw lr();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1;ji.EMPTY=new class{constructor(){this.size=0}get key(){throw lr()}get value(){throw lr()}get color(){throw lr()}get left(){throw lr()}get right(){throw lr()}copy(e,r,n,i,s){return this}insert(e,r,n){return new ji(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.comparator=e,this.data=new Qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new YT(this.data.getIterator())}getIteratorFrom(e){return new YT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof qi)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new qi(this.comparator);return r.data=e,r}}class YT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.fields=e,e.sort(Ki.comparator)}static empty(){return new ga([])}unionWith(e){let r=new qi(Ki.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ga(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new zN("Invalid base64 string: "+s):s}})(e);return new Yi(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Yi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yi.EMPTY_BYTE_STRING=new Yi("");const lee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hA(t){if(cn(!!t),typeof t=="string"){let e=0;const r=lee.exec(t);if(cn(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:si(t.seconds),nanos:si(t.nanos)}}function si(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ac(t){return typeof t=="string"?Yi.fromBase64String(t):Yi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Jw(t){const e=t.mapValue.fields.__previous_value__;return Yw(e)?Jw(e):e}function Rf(t){const e=hA(t.mapValue.fields.__local_write_time__.timestampValue);return new bi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{constructor(e,r,n,i,s,l,c,g,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=g,this.useFetchStreams=d}}class kf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new kf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h={mapValue:{}};function oc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yw(t)?4:uee(t)?9007199254740991:cee(t)?10:11:lr()}function Bo(t,e){if(t===e)return!0;const r=oc(t);if(r!==oc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rf(t).isEqual(Rf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=hA(i.timestampValue),c=hA(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return ac(i.bytesValue).isEqual(ac(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return si(i.geoPointValue.latitude)===si(s.geoPointValue.latitude)&&si(i.geoPointValue.longitude)===si(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return si(i.integerValue)===si(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=si(i.doubleValue),c=si(s.doubleValue);return l===c?X1(l)===X1(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Su(t.arrayValue.values||[],e.arrayValue.values||[],Bo);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(qT(l)!==qT(c))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(c[g]===void 0||!Bo(l[g],c[g])))return!1;return!0})(t,e);default:return lr()}}function Df(t,e){return(t.values||[]).find((r=>Bo(r,e)))!==void 0}function Iu(t,e){if(t===e)return 0;const r=oc(t),n=oc(e);if(r!==n)return qr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return qr(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=si(s.integerValue||s.doubleValue),g=si(l.integerValue||l.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1})(t,e);case 3:return JT(t.timestampValue,e.timestampValue);case 4:return JT(Rf(t),Rf(e));case 5:return qr(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=ac(s),g=ac(l);return c.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),g=l.split("/");for(let d=0;d<c.length&&d<g.length;d++){const m=qr(c[d],g[d]);if(m!==0)return m}return qr(c.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=qr(si(s.latitude),si(l.latitude));return c!==0?c:qr(si(s.longitude),si(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ZT(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var c,g,d,m;const C=s.fields||{},b=l.fields||{},N=(c=C.value)===null||c===void 0?void 0:c.arrayValue,R=(g=b.value)===null||g===void 0?void 0:g.arrayValue,k=qr(((d=N==null?void 0:N.values)===null||d===void 0?void 0:d.length)||0,((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0);return k!==0?k:ZT(N,R)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===$h.mapValue&&l===$h.mapValue)return 0;if(s===$h.mapValue)return 1;if(l===$h.mapValue)return-1;const c=s.fields||{},g=Object.keys(c),d=l.fields||{},m=Object.keys(d);g.sort(),m.sort();for(let C=0;C<g.length&&C<m.length;++C){const b=qr(g[C],m[C]);if(b!==0)return b;const N=Iu(c[g[C]],d[m[C]]);if(N!==0)return N}return qr(g.length,m.length)})(t.mapValue,e.mapValue);default:throw lr()}}function JT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qr(t,e);const r=hA(t),n=hA(e),i=qr(r.seconds,n.seconds);return i!==0?i:qr(r.nanos,n.nanos)}function ZT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Iu(r[i],n[i]);if(s)return s}return qr(r.length,n.length)}function Nu(t){return U2(t)}function U2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=hA(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return ac(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return rr.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=U2(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const l of n)s?s=!1:i+=",",i+=`${l}:${U2(r.fields[l])}`;return i+"}"})(t.mapValue):lr()}function $T(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function M2(t){return!!t&&"integerValue"in t}function Zw(t){return!!t&&"arrayValue"in t}function e4(t){return!!t&&"nullValue"in t}function t4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function u1(t){return!!t&&"mapValue"in t}function cee(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function ff(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mc(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=ff(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ff(t.arrayValue.values[r]);return e}return Object.assign({},t)}function uee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.value=e}static empty(){return new Ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!u1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ff(r)}setAll(e){let r=Ki.emptyPath(),n={},i=[];e.forEach(((l,c)=>{if(!r.isImmediateParentOf(c)){const g=this.getFieldsMap(r);this.applyChanges(g,n,i),n={},i=[],r=c.popLast()}l?n[c.lastSegment()]=ff(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());u1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Bo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];u1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){mc(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new Ys(ff(this.value))}}function WN(t){const e=[];return mc(t.fields,((r,n)=>{const i=new Ki([r]);if(u1(n)){const s=WN(n.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new ga(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,r,n,i,s,l,c){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new os(e,0,pr.min(),pr.min(),pr.min(),Ys.empty(),0)}static newFoundDocument(e,r,n,i){return new os(e,1,r,pr.min(),n,i,0)}static newNoDocument(e,r){return new os(e,2,r,pr.min(),pr.min(),Ys.empty(),0)}static newUnknownDocument(e,r){return new os(e,3,r,pr.min(),pr.min(),Ys.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(pr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof os&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,r){this.position=e,this.inclusive=r}}function r4(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?n=rr.comparator(rr.fromName(l.referenceValue),r.key):n=Iu(l,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function n4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Bo(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,r="asc"){this.field=e,this.dir=r}}function fee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{}class pi extends XN{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new hee(e,r,n):r==="array-contains"?new mee(e,n):r==="in"?new xee(e,n):r==="not-in"?new wee(e,n):r==="array-contains-any"?new vee(e,n):new pi(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new gee(e,n):new pee(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Iu(r,this.value)):r!==null&&oc(this.value)===oc(r)&&this.matchesComparison(Iu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ao extends XN{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ao(e,r)}matches(e){return qN(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qN(t){return t.op==="and"}function YN(t){return dee(t)&&qN(t)}function dee(t){for(const e of t.filters)if(e instanceof ao)return!1;return!0}function O2(t){if(t instanceof pi)return t.field.canonicalString()+t.op.toString()+Nu(t.value);if(YN(t))return t.filters.map((e=>O2(e))).join(",");{const e=t.filters.map((r=>O2(r))).join(",");return`${t.op}(${e})`}}function JN(t,e){return t instanceof pi?(function(n,i){return i instanceof pi&&n.op===i.op&&n.field.isEqual(i.field)&&Bo(n.value,i.value)})(t,e):t instanceof ao?(function(n,i){return i instanceof ao&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,l,c)=>s&&JN(l,i.filters[c])),!0):!1})(t,e):void lr()}function ZN(t){return t instanceof pi?(function(r){return`${r.field.canonicalString()} ${r.op} ${Nu(r.value)}`})(t):t instanceof ao?(function(r){return r.op.toString()+" {"+r.getFilters().map(ZN).join(" ,")+"}"})(t):"Filter"}class hee extends pi{constructor(e,r,n){super(e,r,n),this.key=rr.fromName(n.referenceValue)}matches(e){const r=rr.comparator(e.key,this.key);return this.matchesComparison(r)}}class gee extends pi{constructor(e,r){super(e,"in",r),this.keys=$N("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class pee extends pi{constructor(e,r){super(e,"not-in",r),this.keys=$N("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function $N(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>rr.fromName(n.referenceValue)))}class mee extends pi{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Zw(r)&&Df(r.arrayValue,this.value)}}class xee extends pi{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Df(this.value.arrayValue,r)}}class wee extends pi{constructor(e,r){super(e,"not-in",r)}matches(e){if(Df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Df(this.value.arrayValue,r)}}class vee extends pi{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Zw(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Df(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(e,r=null,n=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.ue=null}}function i4(t,e=null,r=[],n=[],i=null,s=null,l=null){return new yee(t,e,r,n,i,s,l)}function $w(t){const e=mr(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>O2(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),_g(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Nu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Nu(n))).join(",")),e.ue=r}return e.ue}function ev(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!fee(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!JN(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n4(t.startAt,e.startAt)&&n4(t.endAt,e.endAt)}function L2(t){return rr.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,r=null,n=[],i=[],s=null,l="F",c=null,g=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Cee(t,e,r,n,i,s,l,c){return new Xf(t,e,r,n,i,s,l,c)}function tv(t){return new Xf(t)}function s4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eF(t){return t.collectionGroup!==null}function df(t){const e=mr(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new qi(Ki.comparator);return l.filters.forEach((g=>{g.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Y1(s,n))})),r.has(Ki.keyField().canonicalString())||e.ce.push(new Y1(Ki.keyField(),n))}return e.ce}function Co(t){const e=mr(t);return e.le||(e.le=Eee(e,df(t))),e.le}function Eee(t,e){if(t.limitType==="F")return i4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Y1(i.field,s)}));const r=t.endAt?new q1(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new q1(t.startAt.position,t.startAt.inclusive):null;return i4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Q2(t,e){const r=t.filters.concat([e]);return new Xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function P2(t,e,r){return new Xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Tg(t,e){return ev(Co(t),Co(e))&&t.limitType===e.limitType}function tF(t){return`${$w(Co(t))}|lt:${t.limitType}`}function Au(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>ZN(i))).join(", ")}]`),_g(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Nu(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Nu(i))).join(",")),`Target(${n})`})(Co(t))}; limitType=${t.limitType})`}function Sg(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):rr.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of df(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(l,c,g){const d=r4(l,c,g);return l.inclusive?d<=0:d<0})(n.startAt,df(n),i)||n.endAt&&!(function(l,c,g){const d=r4(l,c,g);return l.inclusive?d>=0:d>0})(n.endAt,df(n),i))})(t,e)}function bee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rF(t){return(e,r)=>{let n=!1;for(const i of df(t)){const s=Bee(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Bee(t,e,r){const n=t.field.isKeyField()?rr.comparator(e.key,r.key):(function(s,l,c){const g=l.data.field(s),d=c.data.field(s);return g!==null&&d!==null?Iu(g,d):lr()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return lr()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mc(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return KN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=new Qn(rr.comparator);function dl(){return _ee}const nF=new Qn(rr.comparator);function X0(...t){let e=nF;for(const r of t)e=e.insert(r.key,r);return e}function iF(t){let e=nF;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function qA(){return hf()}function sF(){return hf()}function hf(){return new Vu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Tee=new Qn(rr.comparator),See=new qi(rr.comparator);function kr(...t){let e=See;for(const r of t)e=e.add(r);return e}const Iee=new qi(qr);function Nee(){return Iee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:X1(e)?"-0":e}}function aF(t){return{integerValue:""+t}}function Fee(t,e){return oee(e)?aF(e):rv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this._=void 0}}function Ree(t,e,r){return t instanceof J1?(function(i,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Yw(s)&&(s=Jw(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}})(r,e):t instanceof Uf?lF(t,e):t instanceof Mf?AF(t,e):(function(i,s){const l=oF(i,s),c=a4(l)+a4(i.Pe);return M2(l)&&M2(i.Pe)?aF(c):rv(i.serializer,c)})(t,e)}function kee(t,e,r){return t instanceof Uf?lF(t,e):t instanceof Mf?AF(t,e):r}function oF(t,e){return t instanceof Z1?(function(n){return M2(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class J1 extends Ig{}class Uf extends Ig{constructor(e){super(),this.elements=e}}function lF(t,e){const r=cF(e);for(const n of t.elements)r.some((i=>Bo(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Mf extends Ig{constructor(e){super(),this.elements=e}}function AF(t,e){let r=cF(e);for(const n of t.elements)r=r.filter((i=>!Bo(i,n)));return{arrayValue:{values:r}}}class Z1 extends Ig{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function a4(t){return si(t.integerValue||t.doubleValue)}function cF(t){return Zw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Dee(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Uf&&i instanceof Uf||n instanceof Mf&&i instanceof Mf?Su(n.elements,i.elements,Bo):n instanceof Z1&&i instanceof Z1?Bo(n.Pe,i.Pe):n instanceof J1&&i instanceof J1})(t.transform,e.transform)}class Uee{constructor(e,r){this.version=e,this.transformResults=r}}class Js{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Js}static exists(e){return new Js(void 0,e)}static updateTime(e){return new Js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function f1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ng{}function uF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fg(t.key,Js.none()):new qf(t.key,t.data,Js.none());{const r=t.data,n=Ys.empty();let i=new qi(Ki.comparator);for(let s of e.fields)if(!i.has(s)){let l=r.field(s);l===null&&s.length>1&&(s=s.popLast(),l=r.field(s)),l===null?n.delete(s):n.set(s,l),i=i.add(s)}return new vA(t.key,n,new ga(i.toArray()),Js.none())}}function Mee(t,e,r){t instanceof qf?(function(i,s,l){const c=i.value.clone(),g=l4(i.fieldTransforms,s,l.transformResults);c.setAll(g),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,r):t instanceof vA?(function(i,s,l){if(!f1(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=l4(i.fieldTransforms,s,l.transformResults),g=s.data;g.setAll(fF(i)),g.setAll(c),s.convertToFoundDocument(l.version,g).setHasCommittedMutations()})(t,e,r):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,r)}function gf(t,e,r,n){return t instanceof qf?(function(s,l,c,g){if(!f1(s.precondition,l))return c;const d=s.value.clone(),m=A4(s.fieldTransforms,g,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,r,n):t instanceof vA?(function(s,l,c,g){if(!f1(s.precondition,l))return c;const d=A4(s.fieldTransforms,g,l),m=l.data;return m.setAll(fF(s)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((C=>C.field)))})(t,e,r,n):(function(s,l,c){return f1(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,r)}function Oee(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=oF(n.transform,i||null);s!=null&&(r===null&&(r=Ys.empty()),r.set(n.field,s))}return r||null}function o4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Su(n,i,((s,l)=>Dee(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qf extends Ng{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vA extends Ng{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fF(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function l4(t,e,r){const n=new Map;cn(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);n.set(s.field,kee(l,c,r[i]))}return n}function A4(t,e,r){const n=new Map;for(const i of t){const s=i.transform,l=r.data.field(i.field);n.set(i.field,Ree(s,l,e))}return n}class Fg extends Ng{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lee extends Ng{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Mee(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=gf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=gf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=sF();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=r.has(i.key)?null:c;const g=uF(l,c);g!==null&&n.set(i.key,g),l.isValidDocument()||l.convertToNoDocument(pr.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),kr())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,((r,n)=>o4(r,n)))&&Su(this.baseMutations,e.baseMutations,((r,n)=>o4(r,n)))}}class nv{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){cn(e.mutations.length===n.length);let i=(function(){return Tee})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,n[l].version);return new nv(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi,Lr;function Vee(t){switch(t){default:return lr();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0}}function dF(t){if(t===void 0)return fl("GRPC error has no .code"),gt.UNKNOWN;switch(t){case fi.OK:return gt.OK;case fi.CANCELLED:return gt.CANCELLED;case fi.UNKNOWN:return gt.UNKNOWN;case fi.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case fi.INTERNAL:return gt.INTERNAL;case fi.UNAVAILABLE:return gt.UNAVAILABLE;case fi.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case fi.NOT_FOUND:return gt.NOT_FOUND;case fi.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case fi.ABORTED:return gt.ABORTED;case fi.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case fi.DATA_LOSS:return gt.DATA_LOSS;default:return lr()}}(Lr=fi||(fi={}))[Lr.OK=0]="OK",Lr[Lr.CANCELLED=1]="CANCELLED",Lr[Lr.UNKNOWN=2]="UNKNOWN",Lr[Lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lr[Lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lr[Lr.NOT_FOUND=5]="NOT_FOUND",Lr[Lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lr[Lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lr[Lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lr[Lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lr[Lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lr[Lr.ABORTED=10]="ABORTED",Lr[Lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lr[Lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lr[Lr.INTERNAL=13]="INTERNAL",Lr[Lr.UNAVAILABLE=14]="UNAVAILABLE",Lr[Lr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jee(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gee=new tc([4294967295,4294967295],0);function c4(t){const e=jee().encode(t),r=new ON;return r.update(e),new Uint8Array(r.digest())}function u4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new tc([r,n],0),new tc([i,s],0)]}class iv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new q0(`Invalid padding: ${r}`);if(n<0)throw new q0(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new q0(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new q0(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=tc.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(tc.fromNumber(n)));return i.compare(Gee)===1&&(i=new tc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=c4(e),[n,i]=u4(r);for(let s=0;s<this.hashCount;s++){const l=this.Ee(n,i,s);if(!this.de(l))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new iv(s,i,r);return n.forEach((c=>l.insert(c))),l}insert(e){if(this.Ie===0)return;const r=c4(e),[n,i]=u4(r);for(let s=0;s<this.hashCount;s++){const l=this.Ee(n,i,s);this.Ae(l)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class q0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Yf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Rg(pr.min(),i,new Qn(qr),dl(),kr())}}class Yf{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Yf(n,r,kr(),kr(),kr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class hF{constructor(e,r){this.targetId=e,this.me=r}}class gF{constructor(e,r,n=Yi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class f4{constructor(){this.fe=0,this.ge=h4(),this.pe=Yi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=kr(),r=kr(),n=kr();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:lr()}})),new Yf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=h4()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,cn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Kee{constructor(e){this.Le=e,this.Be=new Map,this.ke=dl(),this.qe=d4(),this.Qe=new Qn(qr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:lr()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((n,i)=>{this.ze(i)&&r(i)}))}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(L2(s))if(n===0){const l=new rr(s.path);this.Ue(r,l,os.newNoDocument(l,pr.min()))}else cn(n===1);else{const l=this.Ye(r);if(l!==n){const c=this.Ze(e),g=c?this.Xe(c,e,l):1;if(g!==0){this.je(r);const d=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,d)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let l,c;try{l=ac(n).toUint8Array()}catch(g){if(g instanceof zN)return Tu("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{c=new iv(l,i,s)}catch(g){return Tu(g instanceof q0?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return c.Ie===0?null:c}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const l=this.Le.tt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,s,null),i++)})),i}rt(e){const r=new Map;this.Be.forEach(((s,l)=>{const c=this.Je(l);if(c){if(s.current&&L2(c.target)){const g=new rr(c.target.path);this.ke.get(g)!==null||this.it(l,g)||this.Ue(l,g,os.newNoDocument(g,e))}s.be&&(r.set(l,s.ve()),s.Ce())}}));let n=kr();this.qe.forEach(((s,l)=>{let c=!0;l.forEachWhile((g=>{const d=this.Je(g);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(s))})),this.ke.forEach(((s,l)=>l.setReadTime(e)));const i=new Rg(e,r,this.Qe,this.ke,n);return this.ke=dl(),this.qe=d4(),this.Qe=new Qn(qr),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new f4,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new qi(qr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Kt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new f4),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function d4(){return new Qn(rr.comparator)}function h4(){return new Qn(rr.comparator)}const zee={asc:"ASCENDING",desc:"DESCENDING"},Wee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xee={and:"AND",or:"OR"};class qee{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function H2(t,e){return t.useProto3Json||_g(e)?e:{value:e}}function $1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yee(t,e){return $1(t,e.toTimestamp())}function Eo(t){return cn(!!t),pr.fromTimestamp((function(r){const n=hA(r);return new bi(n.seconds,n.nanos)})(t))}function sv(t,e){return V2(t,e).canonicalString()}function V2(t,e){const r=(function(i){return new In(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function mF(t){const e=In.fromString(t);return cn(CF(e)),e}function j2(t,e){return sv(t.databaseId,e.path)}function Cx(t,e){const r=mF(e);if(r.get(1)!==t.databaseId.projectId)throw new Ht(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ht(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new rr(wF(r))}function xF(t,e){return sv(t.databaseId,e)}function Jee(t){const e=mF(t);return e.length===4?In.emptyPath():wF(e)}function G2(t){return new In(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wF(t){return cn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function g4(t,e,r){return{name:j2(t,e),fields:r.value.mapValue.fields}}function Zee(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:lr()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,m){return d.useProto3Json?(cn(m===void 0||typeof m=="string"),Yi.fromBase64String(m||"")):(cn(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Yi.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const m=d.code===void 0?gt.UNKNOWN:dF(d.code);return new Ht(m,d.message||"")})(l);r=new gF(n,i,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Cx(t,n.document.name),s=Eo(n.document.updateTime),l=n.document.createTime?Eo(n.document.createTime):pr.min(),c=new Ys({mapValue:{fields:n.document.fields}}),g=os.newFoundDocument(i,s,l,c),d=n.targetIds||[],m=n.removedTargetIds||[];r=new d1(d,m,g.key,g)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Cx(t,n.document),s=n.readTime?Eo(n.readTime):pr.min(),l=os.newNoDocument(i,s),c=n.removedTargetIds||[];r=new d1([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Cx(t,n.document),s=n.removedTargetIds||[];r=new d1([],s,i,null)}else{if(!("filter"in e))return lr();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,l=new Hee(i,s),c=n.targetId;r=new hF(c,l)}}return r}function $ee(t,e){let r;if(e instanceof qf)r={update:g4(t,e.key,e.value)};else if(e instanceof Fg)r={delete:j2(t,e.key)};else if(e instanceof vA)r={update:g4(t,e.key,e.data),updateMask:lte(e.fieldMask)};else{if(!(e instanceof Lee))return lr();r={verify:j2(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,l){const c=l.transform;if(c instanceof J1)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Uf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Z1)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw lr()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Yee(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:lr()})(t,e.precondition)),r}function ete(t,e){return t&&t.length>0?(cn(e!==void 0),t.map((r=>(function(i,s){let l=i.updateTime?Eo(i.updateTime):Eo(s);return l.isEqual(pr.min())&&(l=Eo(s)),new Uee(l,i.transformResults||[])})(r,e)))):[]}function tte(t,e){return{documents:[xF(t,e.path)]}}function rte(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=xF(t,i);const s=(function(d){if(d.length!==0)return yF(ao.create(d,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const l=(function(d){if(d.length!==0)return d.map((m=>(function(b){return{field:cu(b.field),direction:ste(b.dir)}})(m)))})(e.orderBy);l&&(r.structuredQuery.orderBy=l);const c=H2(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{_t:r,parent:i}}function nte(t){let e=Jee(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){cn(n===1);const m=r.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];r.where&&(s=(function(C){const b=vF(C);return b instanceof ao&&YN(b)?b.getFilters():[b]})(r.where));let l=[];r.orderBy&&(l=(function(C){return C.map((b=>(function(R){return new Y1(uu(R.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(b)))})(r.orderBy));let c=null;r.limit&&(c=(function(C){let b;return b=typeof C=="object"?C.value:C,_g(b)?null:b})(r.limit));let g=null;r.startAt&&(g=(function(C){const b=!!C.before,N=C.values||[];return new q1(N,b)})(r.startAt));let d=null;return r.endAt&&(d=(function(C){const b=!C.before,N=C.values||[];return new q1(N,b)})(r.endAt)),Cee(e,i,l,s,c,"F",g,d)}function ite(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lr()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function vF(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=uu(r.unaryFilter.field);return pi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=uu(r.unaryFilter.field);return pi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uu(r.unaryFilter.field);return pi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=uu(r.unaryFilter.field);return pi.create(l,"!=",{nullValue:"NULL_VALUE"});default:return lr()}})(t):t.fieldFilter!==void 0?(function(r){return pi.create(uu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lr()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return ao.create(r.compositeFilter.filters.map((n=>vF(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return lr()}})(r.compositeFilter.op))})(t):lr()}function ste(t){return zee[t]}function ate(t){return Wee[t]}function ote(t){return Xee[t]}function cu(t){return{fieldPath:t.canonicalString()}}function uu(t){return Ki.fromServerFormat(t.fieldPath)}function yF(t){return t instanceof pi?(function(r){if(r.op==="=="){if(t4(r.value))return{unaryFilter:{field:cu(r.field),op:"IS_NAN"}};if(e4(r.value))return{unaryFilter:{field:cu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(t4(r.value))return{unaryFilter:{field:cu(r.field),op:"IS_NOT_NAN"}};if(e4(r.value))return{unaryFilter:{field:cu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cu(r.field),op:ate(r.op),value:r.value}}})(t):t instanceof ao?(function(r){const n=r.getFilters().map((i=>yF(i)));return n.length===1?n[0]:{compositeFilter:{op:ote(r.op),filters:n}}})(t):lr()}function lte(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function CF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,r,n,i,s=pr.min(),l=pr.min(),c=Yi.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=g}withSequenceNumber(e){return new eA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new eA(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(e){this.ct=e}}function cte(t){const e=nte({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?P2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(){this.un=new fte}addToCollectionParentIndex(e,r){return this.un.add(r),yt.resolve()}getCollectionParents(e,r){return yt.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return yt.resolve()}deleteFieldIndex(e,r){return yt.resolve()}deleteAllFieldIndexes(e){return yt.resolve()}createTargetIndexes(e,r){return yt.resolve()}getDocumentsMatchingTarget(e,r){return yt.resolve(null)}getIndexType(e,r){return yt.resolve(0)}getFieldIndexes(e,r){return yt.resolve([])}getNextCollectionGroupToUpdate(e){return yt.resolve(null)}getMinOffset(e,r){return yt.resolve(dA.min())}getMinOffsetFromCollectionGroup(e,r){return yt.resolve(dA.min())}updateCollectionGroup(e,r,n){return yt.resolve()}updateIndexEntries(e,r){return yt.resolve()}}class fte{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new qi(In.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new qi(In.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fu(0)}static kn(){return new Fu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(){this.changes=new Vu((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,os.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?yt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&gf(n.mutation,i,ga.empty(),bi.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,kr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=kr()){const i=qA();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let l=X0();return s.forEach(((c,g)=>{l=l.insert(c,g.overlayedDocument)})),l}))))}getOverlayedDocuments(e,r){const n=qA();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,kr())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{r.set(l,c)}))}))}computeViews(e,r,n,i){let s=dl();const l=hf(),c=(function(){return hf()})();return r.forEach(((g,d)=>{const m=n.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof vA)?s=s.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),gf(m.mutation,d,m.mutation.getFieldMask(),bi.now())):l.set(d.key,ga.empty())})),this.recalculateAndSaveOverlays(e,s).next((g=>(g.forEach(((d,m)=>l.set(d,m))),r.forEach(((d,m)=>{var C;return c.set(d,new hte(m,(C=l.get(d))!==null&&C!==void 0?C:null))})),c)))}recalculateAndSaveOverlays(e,r){const n=hf();let i=new Qn(((l,c)=>l-c)),s=kr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((l=>{for(const c of l)c.keys().forEach((g=>{const d=r.get(g);if(d===null)return;let m=n.get(g)||ga.empty();m=c.applyToLocalView(d,m),n.set(g,m);const C=(i.get(c.batchId)||kr()).add(g);i=i.insert(c.batchId,C)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const g=c.getNext(),d=g.key,m=g.value,C=sF();m.forEach((b=>{if(!s.has(b)){const N=uF(r.get(b),n.get(b));N!==null&&C.set(b,N),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,C))}return yt.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(l){return rr.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):eF(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):yt.resolve(qA());let c=-1,g=s;return l.next((d=>yt.forEach(d,((m,C)=>(c<C.largestBatchId&&(c=C.largestBatchId),s.get(m)?yt.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{g=g.insert(m,b)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,g,d,kr()))).next((m=>({batchId:c,changes:iF(m)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new rr(r)).next((n=>{let i=X0();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let l=X0();return this.indexManager.getCollectionParents(e,s).next((c=>yt.forEach(c,(g=>{const d=(function(C,b){return new Xf(b,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(r,g.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((m=>{m.forEach(((C,b)=>{l=l.insert(C,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((l=>{s.forEach(((g,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,os.newInvalidDocument(m)))}));let c=X0();return l.forEach(((g,d)=>{const m=s.get(g);m!==void 0&&gf(m.mutation,d,ga.empty(),bi.now()),Sg(r,d)&&(c=c.insert(g,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return yt.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Eo(i.createTime)}})(r)),yt.resolve()}getNamedQuery(e,r){return yt.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(i){return{name:i.name,query:cte(i.bundledQuery),readTime:Eo(i.readTime)}})(r)),yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(){this.overlays=new Qn(rr.comparator),this.Ir=new Map}getOverlay(e,r){return yt.resolve(this.overlays.get(r))}getOverlays(e,r){const n=qA();return yt.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.ht(e,r,s)})),yt.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(n)),yt.resolve()}getOverlaysForCollection(e,r,n){const i=qA(),s=r.length+1,l=new rr(r.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const g=c.getNext().value,d=g.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===s&&g.largestBatchId>n&&i.set(g.getKey(),g)}return yt.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Qn(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let m=s.get(d.largestBatchId);m===null&&(m=qA(),s=s.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=qA(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((d,m)=>c.set(d,m))),!(c.size()>=i)););return yt.resolve(c)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new Pee(r,n));let s=this.Ir.get(r);s===void 0&&(s=kr(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xte{constructor(){this.sessionToken=Yi.EMPTY_BYTE_STRING}getSessionToken(e){return yt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.Tr=new qi(Fi.Er),this.dr=new qi(Fi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Fi(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Vr(new Fi(e,r))}mr(e,r){e.forEach((n=>this.removeReference(n,r)))}gr(e){const r=new rr(new In([])),n=new Fi(r,e),i=new Fi(r,e+1),s=[];return this.dr.forEachInRange([n,i],(l=>{this.Vr(l),s.push(l.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new rr(new In([])),n=new Fi(r,e),i=new Fi(r,e+1);let s=kr();return this.dr.forEachInRange([n,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const r=new Fi(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Fi{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return rr.comparator(e.key,r.key)||qr(e.wr,r.wr)}static Ar(e,r){return qr(e.wr,r.wr)||rr.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new qi(Fi.Er)}checkEmpty(e){return yt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Qee(s,r,n,i);this.mutationQueue.push(l);for(const c of i)this.br=this.br.add(new Fi(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return yt.resolve(l)}lookupMutationBatch(e,r){return yt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return yt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Fi(r,0),i=new Fi(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],(l=>{const c=this.Dr(l.wr);s.push(c)})),yt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new qi(qr);return r.forEach((i=>{const s=new Fi(i,0),l=new Fi(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,l],(c=>{n=n.add(c.wr)}))})),yt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;rr.isDocumentKey(s)||(s=s.child(""));const l=new Fi(new rr(s),0);let c=new qi(qr);return this.br.forEachWhile((g=>{const d=g.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(c=c.add(g.wr)),!0)}),l),yt.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){cn(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return yt.forEach(r.mutations,(i=>{const s=new Fi(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,r){const n=new Fi(r,0),i=this.br.firstAfterOrEqual(n);return yt.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,yt.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e){this.Mr=e,this.docs=(function(){return new Qn(rr.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,l=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return yt.resolve(n?n.document.mutableCopy():os.newInvalidDocument(r))}getEntries(e,r){let n=dl();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():os.newInvalidDocument(i))})),yt.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=dl();const l=r.path,c=new rr(l.child("")),g=this.docs.getIteratorFrom(c);for(;g.hasNext();){const{key:d,value:{document:m}}=g.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||nee(ree(m),n)<=0||(i.has(m.key)||Sg(r,m))&&(s=s.insert(m.key,m.mutableCopy()))}return yt.resolve(s)}getAllFromCollectionGroup(e,r,n,i){lr()}Or(e,r){return yt.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new yte(this)}getSize(e){return yt.resolve(this.size)}}class yte extends dte{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),yt.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e){this.persistence=e,this.Nr=new Vu((r=>$w(r)),ev),this.lastRemoteSnapshotVersion=pr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new av,this.targetCount=0,this.kr=Fu.Bn()}forEachTarget(e,r){return this.Nr.forEach(((n,i)=>r(i))),yt.resolve()}getLastRemoteSnapshotVersion(e){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return yt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),yt.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Fu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,yt.resolve()}updateTargetData(e,r){return this.Kn(r),yt.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,yt.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach(((l,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Nr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),yt.waitFor(s).next((()=>i))}getTargetCount(e){return yt.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return yt.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),yt.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),yt.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),yt.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return yt.resolve(n)}containsKey(e,r){return yt.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(e,r){this.qr={},this.overlays={},this.Qr=new qw(0),this.Kr=!1,this.Kr=!0,this.$r=new xte,this.referenceDelegate=e(this),this.Ur=new Cte(this),this.indexManager=new ute,this.remoteDocumentCache=(function(i){return new vte(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new Ate(r),this.Gr=new pte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new mte,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new wte(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Kt("MemoryPersistence","Starting transaction:",e);const i=new bte(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,r){return yt.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,r))))}}class bte extends see{constructor(e){super(),this.currentSequenceNumber=e}}class ov{constructor(e){this.persistence=e,this.Jr=new av,this.Yr=null}static Zr(e){return new ov(e)}get Xr(){if(this.Yr)return this.Yr;throw lr()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),yt.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),yt.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),yt.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.Xr,(n=>{const i=rr.fromPath(n);return this.ei(e,i).next((s=>{s||r.removeEntry(i,pr.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return yt.or([()=>yt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=kr(),i=kr();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lv(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _te{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return SZ()?8:aee(BZ())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.Zi(e,r,i,n).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new Bte;return this.Xi(e,r,l).next((c=>{if(s.result=c,this.zi)return this.es(e,r,l,c.size)}))})).next((()=>s.result))}es(e,r,n,i){return n.documentReadCount<this.ji?(k0()<=Gr.DEBUG&&Kt("QueryEngine","SDK will not create cache indexes for query:",Au(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),yt.resolve()):(k0()<=Gr.DEBUG&&Kt("QueryEngine","Query:",Au(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(k0()<=Gr.DEBUG&&Kt("QueryEngine","The SDK decides to create cache indexes for query:",Au(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Co(r))):yt.resolve())}Yi(e,r){if(s4(r))return yt.resolve(null);let n=Co(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=P2(r,null,"F"),n=Co(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const l=kr(...s);return this.Ji.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,n).next((g=>{const d=this.ts(r,c);return this.ns(r,d,l,g.readTime)?this.Yi(e,P2(r,null,"F")):this.rs(e,d,r,g)}))))})))))}Zi(e,r,n,i){return s4(r)||i.isEqual(pr.min())?yt.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const l=this.ts(r,s);return this.ns(r,l,n,i)?yt.resolve(null):(k0()<=Gr.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Au(r)),this.rs(e,l,r,tee(i,-1)).next((c=>c)))}))}ts(e,r){let n=new qi(rF(e));return r.forEach(((i,s)=>{Sg(e,s)&&(n=n.add(s))})),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return k0()<=Gr.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",Au(r)),this.Ji.getDocumentsMatchingQuery(e,r,dA.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Qn(qr),this._s=new Vu((s=>$w(s)),ev),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gte(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}}function Ste(t,e,r,n){return new Tte(t,e,r,n)}async function EF(t,e){const r=mr(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const l=[],c=[];let g=kr();for(const d of i){l.push(d.batchId);for(const m of d.mutations)g=g.add(m.key)}for(const d of s){c.push(d.batchId);for(const m of d.mutations)g=g.add(m.key)}return r.localDocuments.getDocuments(n,g).next((d=>({hs:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function Ite(t,e){const r=mr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return(function(c,g,d,m){const C=d.batch,b=C.keys();let N=yt.resolve();return b.forEach((R=>{N=N.next((()=>m.getEntry(g,R))).next((k=>{const U=d.docVersions.get(R);cn(U!==null),k.version.compareTo(U)<0&&(C.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),m.addEntry(k)))}))})),N.next((()=>c.mutationQueue.removeMutationBatch(g,C)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let g=kr();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(g=g.add(c.batch.mutations[d].key));return g})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function bF(t){const e=mr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function Nte(t,e){const r=mr(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const c=[];e.targetChanges.forEach(((m,C)=>{const b=i.get(C);if(!b)return;c.push(r.Ur.removeMatchingKeys(s,m.removedDocuments,C).next((()=>r.Ur.addMatchingKeys(s,m.addedDocuments,C))));let N=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(C)!==null?N=N.withResumeToken(Yi.EMPTY_BYTE_STRING,pr.min()).withLastLimboFreeSnapshotVersion(pr.min()):m.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(m.resumeToken,n)),i=i.insert(C,N),(function(k,U,j){return k.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(b,N,m)&&c.push(r.Ur.updateTargetData(s,N))}));let g=dl(),d=kr();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(Fte(s,l,e.documentUpdates).next((m=>{g=m.Ps,d=m.Is}))),!n.isEqual(pr.min())){const m=r.Ur.getLastRemoteSnapshotVersion(s).next((C=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n)));c.push(m)}return yt.waitFor(c).next((()=>l.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,g,d))).next((()=>g))})).then((s=>(r.os=i,s)))}function Fte(t,e,r){let n=kr(),i=kr();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let l=dl();return r.forEach(((c,g)=>{const d=s.get(c);g.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),g.isNoDocument()&&g.version.isEqual(pr.min())?(e.removeEntry(c,g.readTime),l=l.insert(c,g)):!d.isValidDocument()||g.version.compareTo(d.version)>0||g.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(g),l=l.insert(c,g)):Kt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",g.version)})),{Ps:l,Is:i}}))}function Rte(t,e){const r=mr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function kte(t,e){const r=mr(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Ur.getTargetData(n,e).next((s=>s?(i=s,yt.resolve(i)):r.Ur.allocateTargetId(n).next((l=>(i=new eA(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n}))}async function K2(t,e,r){const n=mr(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(l=>n.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Wf(l))throw l;Kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function p4(t,e,r){const n=mr(t);let i=pr.min(),s=kr();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(g,d,m){const C=mr(g),b=C._s.get(m);return b!==void 0?yt.resolve(C.os.get(b)):C.Ur.getTargetData(d,m)})(n,l,Co(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(l,c.targetId).next((g=>{s=g}))})).next((()=>n.ss.getDocumentsMatchingQuery(l,e,r?i:pr.min(),r?s:kr()))).next((c=>(Dte(n,bee(e),c),{documents:c,Ts:s})))))}function Dte(t,e,r){let n=t.us.get(e)||pr.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.us.set(e,n)}class m4{constructor(){this.activeTargetIds=Nee()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ute{constructor(){this.so=new m4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e1=null;function Ex(){return e1===null?e1=(function(){return 268435456+Math.round(2147483648*Math.random())})():e1++,"0x"+e1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="WebChannelConnection";class Qte extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,l){const c=Ex(),g=this.xo(r,n.toUriEncodedString());Kt("RestConnection",`Sending RPC '${r}' ${c}:`,g,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,l),this.No(r,g,d,i).then((m=>(Kt("RestConnection",`Received RPC '${r}' ${c}: `,m),m)),(m=>{throw Tu("RestConnection",`RPC '${r}' ${c} failed with error: `,m,"url: ",g,"request:",i),m}))}Lo(r,n,i,s,l,c){return this.Mo(r,n,i,s,l)}Oo(r,n,i){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hu})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,l)=>r[l]=s)),i&&i.headers.forEach(((s,l)=>r[l]=s))}xo(r,n){const i=Ote[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=Ex();return new Promise(((l,c)=>{const g=new LN;g.setWithCredentials(!0),g.listenOnce(QN.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case c1.NO_ERROR:const m=g.getResponseJson();Kt(rs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case c1.TIMEOUT:Kt(rs,`RPC '${e}' ${s} timed out`),c(new Ht(gt.DEADLINE_EXCEEDED,"Request time out"));break;case c1.HTTP_ERROR:const C=g.getStatus();if(Kt(rs,`RPC '${e}' ${s} failed with status:`,C,"response text:",g.getResponseText()),C>0){let b=g.getResponseJson();Array.isArray(b)&&(b=b[0]);const N=b==null?void 0:b.error;if(N&&N.status&&N.message){const R=(function(U){const j=U.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(j)>=0?j:gt.UNKNOWN})(N.status);c(new Ht(R,N.message))}else c(new Ht(gt.UNKNOWN,"Server responded with status "+g.getStatus()))}else c(new Ht(gt.UNAVAILABLE,"Connection failed."));break;default:lr()}}finally{Kt(rs,`RPC '${e}' ${s} completed.`)}}));const d=JSON.stringify(i);Kt(rs,`RPC '${e}' ${s} sending request:`,i),g.send(r,"POST",d,n,15)}))}Bo(e,r,n){const i=Ex(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=VN(),c=HN(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(g.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,r,n),g.encodeInitMessageHeaders=!0;const m=s.join("");Kt(rs,`Creating RPC '${e}' stream ${i}: ${m}`,g);const C=l.createWebChannel(m,g);let b=!1,N=!1;const R=new Lte({Io:U=>{N?Kt(rs,`Not sending because RPC '${e}' stream ${i} is closed:`,U):(b||(Kt(rs,`Opening RPC '${e}' stream ${i} transport.`),C.open(),b=!0),Kt(rs,`RPC '${e}' stream ${i} sending:`,U),C.send(U))},To:()=>C.close()}),k=(U,j,K)=>{U.listen(j,(Q=>{try{K(Q)}catch(J){setTimeout((()=>{throw J}),0)}}))};return k(C,W0.EventType.OPEN,(()=>{N||(Kt(rs,`RPC '${e}' stream ${i} transport opened.`),R.yo())})),k(C,W0.EventType.CLOSE,(()=>{N||(N=!0,Kt(rs,`RPC '${e}' stream ${i} transport closed`),R.So())})),k(C,W0.EventType.ERROR,(U=>{N||(N=!0,Tu(rs,`RPC '${e}' stream ${i} transport errored:`,U),R.So(new Ht(gt.UNAVAILABLE,"The operation could not be completed")))})),k(C,W0.EventType.MESSAGE,(U=>{var j;if(!N){const K=U.data[0];cn(!!K);const Q=K,J=Q.error||((j=Q[0])===null||j===void 0?void 0:j.error);if(J){Kt(rs,`RPC '${e}' stream ${i} received error:`,J);const re=J.status;let G=(function(O){const ee=fi[O];if(ee!==void 0)return dF(ee)})(re),M=J.message;G===void 0&&(G=gt.INTERNAL,M="Unknown error status: "+re+" with message "+J.message),N=!0,R.So(new Ht(G,M)),C.close()}else Kt(rs,`RPC '${e}' stream ${i} received:`,K),R.bo(K)}})),k(c,PN.STAT_EVENT,(U=>{U.stat===D2.PROXY?Kt(rs,`RPC '${e}' stream ${i} detected buffering proxy`):U.stat===D2.NOPROXY&&Kt(rs,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{R.wo()}),0),R}}function bx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t){return new qee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Kt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,r,n,i,s,l,c,g){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new BF(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===gt.RESOURCE_EXHAUSTED?(fl(r.toString()),fl("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===r&&this.P_(n,i)}),(n=>{e((()=>{const i=new Ht(gt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pte extends _F{constructor(e,r,n,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,l),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Zee(this.serializer,e),n=(function(s){if(!("targetChange"in s))return pr.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?pr.min():l.readTime?Eo(l.readTime):pr.min()})(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=G2(this.serializer),r.addTarget=(function(s,l){let c;const g=l.target;if(c=L2(g)?{documents:tte(s,g)}:{query:rte(s,g)._t},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=pF(s,l.resumeToken);const d=H2(s,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(pr.min())>0){c.readTime=$1(s,l.snapshotVersion.toTimestamp());const d=H2(s,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const n=ite(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=G2(this.serializer),r.removeTarget=e,this.a_(r)}}class Hte extends _F{constructor(e,r,n,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,l),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return cn(!!e.streamToken),this.lastStreamToken=e.streamToken,cn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=ete(e.writeResults,e.commitTime),n=Eo(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=G2(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>$ee(this.serializer,n)))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ht(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Mo(e,V2(r,n),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ht(gt.UNKNOWN,s.toString())}))}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Lo(e,V2(r,n),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ht(gt.UNKNOWN,l.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class jte{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(fl(r),this.D_=!1):Kt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((l=>{n.enqueueAndForget((async()=>{xc(this)&&(Kt("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const d=mr(g);d.L_.add(4),await Jf(d),d.q_.set("Unknown"),d.L_.delete(4),await Dg(d)})(this))}))})),this.q_=new jte(n,i)}}async function Dg(t){if(xc(t))for(const e of t.B_)await e(!0)}async function Jf(t){for(const e of t.B_)await e(!1)}function TF(t,e){const r=mr(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),fv(r)?uv(r):ju(r).r_()&&cv(r,e))}function Av(t,e){const r=mr(t),n=ju(r);r.N_.delete(e),n.r_()&&SF(r,e),r.N_.size===0&&(n.r_()?n.o_():xc(r)&&r.q_.set("Unknown"))}function cv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ju(t).A_(e)}function SF(t,e){t.Q_.xe(e),ju(t).R_(e)}function uv(t){t.Q_=new Kee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ju(t).start(),t.q_.v_()}function fv(t){return xc(t)&&!ju(t).n_()&&t.N_.size>0}function xc(t){return mr(t).L_.size===0}function IF(t){t.Q_=void 0}async function Kte(t){t.q_.set("Online")}async function zte(t){t.N_.forEach(((e,r)=>{cv(t,e)}))}async function Wte(t,e){IF(t),fv(t)?(t.q_.M_(e),uv(t)):t.q_.set("Unknown")}async function Xte(t,e,r){if(t.q_.set("Online"),e instanceof gF&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.N_.delete(c),i.Q_.removeTarget(c))})(t,e)}catch(n){Kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await eg(t,n)}else if(e instanceof d1?t.Q_.Ke(e):e instanceof hF?t.Q_.He(e):t.Q_.We(e),!r.isEqual(pr.min()))try{const n=await bF(t.localStore);r.compareTo(n)>=0&&await(function(s,l){const c=s.Q_.rt(l);return c.targetChanges.forEach(((g,d)=>{if(g.resumeToken.approximateByteSize()>0){const m=s.N_.get(d);m&&s.N_.set(d,m.withResumeToken(g.resumeToken,l))}})),c.targetMismatches.forEach(((g,d)=>{const m=s.N_.get(g);if(!m)return;s.N_.set(g,m.withResumeToken(Yi.EMPTY_BYTE_STRING,m.snapshotVersion)),SF(s,g);const C=new eA(m.target,g,d,m.sequenceNumber);cv(s,C)})),s.remoteSyncer.applyRemoteEvent(c)})(t,r)}catch(n){Kt("RemoteStore","Failed to raise snapshot:",n),await eg(t,n)}}async function eg(t,e,r){if(!Wf(e))throw e;t.L_.add(1),await Jf(t),t.q_.set("Offline"),r||(r=()=>bF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Kt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Dg(t)}))}function NF(t,e){return e().catch((r=>eg(t,r,e)))}async function Ug(t){const e=mr(t),r=gA(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qte(e);)try{const i=await Rte(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,Yte(e,i)}catch(i){await eg(e,i)}FF(e)&&RF(e)}function qte(t){return xc(t)&&t.O_.length<10}function Yte(t,e){t.O_.push(e);const r=gA(t);r.r_()&&r.V_&&r.m_(e.mutations)}function FF(t){return xc(t)&&!gA(t).n_()&&t.O_.length>0}function RF(t){gA(t).start()}async function Jte(t){gA(t).p_()}async function Zte(t){const e=gA(t);for(const r of t.O_)e.m_(r.mutations)}async function $te(t,e,r){const n=t.O_.shift(),i=nv.from(n,e,r);await NF(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ug(t)}async function ere(t,e){e&&gA(t).V_&&await(async function(n,i){if((function(l){return Vee(l)&&l!==gt.ABORTED})(i.code)){const s=n.O_.shift();gA(n).s_(),await NF(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Ug(n)}})(t,e),FF(t)&&RF(t)}async function w4(t,e){const r=mr(t);r.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const n=xc(r);r.L_.add(3),await Jf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Dg(r)}async function tre(t,e){const r=mr(t);e?(r.L_.delete(2),await Dg(r)):e||(r.L_.add(2),await Jf(r),r.q_.set("Unknown"))}function ju(t){return t.K_||(t.K_=(function(r,n,i){const s=mr(r);return s.w_(),new Pte(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:Kte.bind(null,t),Ro:zte.bind(null,t),mo:Wte.bind(null,t),d_:Xte.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),fv(t)?uv(t):t.q_.set("Unknown")):(await t.K_.stop(),IF(t))}))),t.K_}function gA(t){return t.U_||(t.U_=(function(r,n,i){const s=mr(r);return s.w_(),new Hte(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Jte.bind(null,t),mo:ere.bind(null,t),f_:Zte.bind(null,t),g_:$te.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Ug(t)):(await t.U_.stop(),t.O_.length>0&&(Kt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new aA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const l=Date.now()+n,c=new dv(e,r,l,i,s);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ht(gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hv(t,e){if(fl("AsyncQueue",`${e}: ${t}`),Wf(t))return new Ht(gt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||rr.comparator(r.key,n.key):(r,n)=>rr.comparator(r.key,n.key),this.keyedMap=X0(),this.sortedSet=new Qn(this.comparator)}static emptySet(e){return new Eu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Eu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Eu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.W_=new Qn(rr.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):lr():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Ru{constructor(e,r,n,i,s,l,c,g,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=g,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,s){const l=[];return r.forEach((c=>{l.push({type:0,doc:c})})),new Ru(e,r,Eu.emptySet(r),l,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class nre{constructor(){this.queries=y4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=mr(r),s=i.queries;i.queries=y4(),s.forEach(((l,c)=>{for(const g of c.j_)g.onError(n)}))})(this,new Ht(gt.ABORTED,"Firestore shutting down"))}}function y4(){return new Vu((t=>tF(t)),Tg)}async function kF(t,e){const r=mr(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new rre,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(l){const c=hv(l,`Initialization of query '${Au(e.query)}' failed`);return void e.onError(c)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&gv(r)}async function DF(t,e){const r=mr(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const l=s.j_.indexOf(e);l>=0&&(s.j_.splice(l,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function ire(t,e){const r=mr(t);let n=!1;for(const i of e){const s=i.query,l=r.queries.get(s);if(l){for(const c of l.j_)c.X_(i)&&(n=!0);l.z_=i}}n&&gv(r)}function sre(t,e,r){const n=mr(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function gv(t){t.Y_.forEach((e=>{e.next()}))}var z2,C4;(C4=z2||(z2={})).ea="default",C4.Cache="cache";class UF{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ru(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==z2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.key=e}}class OF{constructor(e){this.key=e}}class are{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=kr(),this.mutatedKeys=kr(),this.Aa=rF(e),this.Ra=new Eu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new v4,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,l=i,c=!1;const g=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,C)=>{const b=i.get(m),N=Sg(this.query,C)?C:null,R=!!b&&this.mutatedKeys.has(b.key),k=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let U=!1;b&&N?b.data.isEqual(N.data)?R!==k&&(n.track({type:3,doc:N}),U=!0):this.ga(b,N)||(n.track({type:2,doc:N}),U=!0,(g&&this.Aa(N,g)>0||d&&this.Aa(N,d)<0)&&(c=!0)):!b&&N?(n.track({type:0,doc:N}),U=!0):b&&!N&&(n.track({type:1,doc:b}),U=!0,(g||d)&&(c=!0)),U&&(N?(l=l.add(N),s=k?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),n.track({type:1,doc:m})}return{Ra:l,fa:n,ns:c,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort(((m,C)=>(function(N,R){const k=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lr()}};return k(N)-k(R)})(m.type,C.type)||this.Aa(m.doc,C.doc))),this.pa(n),i=i!=null&&i;const c=r&&!i?this.ya():[],g=this.da.size===0&&this.current&&!i?1:0,d=g!==this.Ea;return this.Ea=g,l.length!==0||d?{snapshot:new Ru(this.query,e.Ra,s,l,e.mutatedKeys,g===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new v4,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=kr(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const r=[];return e.forEach((n=>{this.da.has(n)||r.push(new OF(n))})),this.da.forEach((n=>{e.has(n)||r.push(new MF(n))})),r}ba(e){this.Ta=e.Ts,this.da=kr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Ru.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ore{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class lre{constructor(e){this.key=e,this.va=!1}}class Are{constructor(e,r,n,i,s,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new Vu((c=>tF(c)),Tg),this.Ma=new Map,this.xa=new Set,this.Oa=new Qn(rr.comparator),this.Na=new Map,this.La=new av,this.Ba={},this.ka=new Map,this.qa=Fu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function cre(t,e,r=!0){const n=jF(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await LF(n,e,r,!0),i}async function ure(t,e){const r=jF(t);await LF(r,e,!0,!1)}async function LF(t,e,r,n){const i=await kte(t.localStore,Co(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,r);let c;return n&&(c=await fre(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&r&&TF(t.remoteStore,i),c}async function fre(t,e,r,n,i){t.Ka=(C,b,N)=>(async function(k,U,j,K){let Q=U.view.ma(j);Q.ns&&(Q=await p4(k.localStore,U.query,!1).then((({documents:M})=>U.view.ma(M,Q))));const J=K&&K.targetChanges.get(U.targetId),re=K&&K.targetMismatches.get(U.targetId)!=null,G=U.view.applyChanges(Q,k.isPrimaryClient,J,re);return b4(k,U.targetId,G.wa),G.snapshot})(t,C,b,N);const s=await p4(t.localStore,e,!0),l=new are(e,s.Ts),c=l.ma(s.documents),g=Yf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=l.applyChanges(c,t.isPrimaryClient,g);b4(t,r,d.wa);const m=new ore(e,r,l);return t.Fa.set(e,m),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),d.snapshot}async function dre(t,e,r){const n=mr(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter((l=>!Tg(l,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await K2(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Av(n.remoteStore,i.targetId),W2(n,i.targetId)})).catch(zf)):(W2(n,i.targetId),await K2(n.localStore,i.targetId,!0))}async function hre(t,e){const r=mr(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Av(r.remoteStore,n.targetId))}async function gre(t,e,r){const n=Cre(t);try{const i=await(function(l,c){const g=mr(l),d=bi.now(),m=c.reduce(((N,R)=>N.add(R.key)),kr());let C,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let R=dl(),k=kr();return g.cs.getEntries(N,m).next((U=>{R=U,R.forEach(((j,K)=>{K.isValidDocument()||(k=k.add(j))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,R))).next((U=>{C=U;const j=[];for(const K of c){const Q=Oee(K,C.get(K.key).overlayedDocument);Q!=null&&j.push(new vA(K.key,Q,WN(Q.value.mapValue),Js.exists(!0)))}return g.mutationQueue.addMutationBatch(N,d,j,c)})).next((U=>{b=U;const j=U.applyToLocalDocumentSet(C,k);return g.documentOverlayCache.saveOverlays(N,U.batchId,j)}))})).then((()=>({batchId:b.batchId,changes:iF(C)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(l,c,g){let d=l.Ba[l.currentUser.toKey()];d||(d=new Qn(qr)),d=d.insert(c,g),l.Ba[l.currentUser.toKey()]=d})(n,i.batchId,r),await Zf(n,i.changes),await Ug(n.remoteStore)}catch(i){const s=hv(i,"Failed to persist write");r.reject(s)}}async function QF(t,e){const r=mr(t);try{const n=await Nte(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=r.Na.get(s);l&&(cn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.va=!0:i.modifiedDocuments.size>0?cn(l.va):i.removedDocuments.size>0&&(cn(l.va),l.va=!1))})),await Zf(r,n,e)}catch(n){await zf(n)}}function E4(t,e,r){const n=mr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach(((s,l)=>{const c=l.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const g=mr(l);g.onlineState=c;let d=!1;g.queries.forEach(((m,C)=>{for(const b of C.j_)b.Z_(c)&&(d=!0)})),d&&gv(g)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function pre(t,e,r){const n=mr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let l=new Qn(rr.comparator);l=l.insert(s,os.newNoDocument(s,pr.min()));const c=kr().add(s),g=new Rg(pr.min(),new Map,new Qn(qr),l,c);await QF(n,g),n.Oa=n.Oa.remove(s),n.Na.delete(e),pv(n)}else await K2(n.localStore,e,!1).then((()=>W2(n,e,r))).catch(zf)}async function mre(t,e){const r=mr(t),n=e.batch.batchId;try{const i=await Ite(r.localStore,e);HF(r,n,null),PF(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Zf(r,i)}catch(i){await zf(i)}}async function xre(t,e,r){const n=mr(t);try{const i=await(function(l,c){const g=mr(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return g.mutationQueue.lookupMutationBatch(d,c).next((C=>(cn(C!==null),m=C.keys(),g.mutationQueue.removeMutationBatch(d,C)))).next((()=>g.mutationQueue.performConsistencyCheck(d))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(d,m,c))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>g.localDocuments.getDocuments(d,m)))}))})(n.localStore,e);HF(n,e,r),PF(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Zf(n,i)}catch(i){await zf(i)}}function PF(t,e){(t.ka.get(e)||[]).forEach((r=>{r.resolve()})),t.ka.delete(e)}function HF(t,e,r){const n=mr(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function W2(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((n=>{t.La.containsKey(n)||VF(t,n)}))}function VF(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Av(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),pv(t))}function b4(t,e,r){for(const n of r)n instanceof MF?(t.La.addReference(n.key,e),wre(t,n)):n instanceof OF?(Kt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||VF(t,n.key)):lr()}function wre(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Kt("SyncEngine","New document in limbo: "+r),t.xa.add(n),pv(t))}function pv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new rr(In.fromString(e)),n=t.qa.next();t.Na.set(n,new lre(r)),t.Oa=t.Oa.insert(r,n),TF(t.remoteStore,new eA(Co(tv(r.path)),n,"TargetPurposeLimboResolution",qw.oe))}}async function Zf(t,e,r){const n=mr(t),i=[],s=[],l=[];n.Fa.isEmpty()||(n.Fa.forEach(((c,g)=>{l.push(n.Ka(g,e,r).then((d=>{var m;if((d||r)&&n.isPrimaryClient){const C=d?!d.fromCache:(m=r==null?void 0:r.targetChanges.get(g.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(g.targetId,C?"current":"not-current")}if(d){i.push(d);const C=lv.Wi(g.targetId,d);s.push(C)}})))})),await Promise.all(l),n.Ca.d_(i),await(async function(g,d){const m=mr(g);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>yt.forEach(d,(b=>yt.forEach(b.$i,(N=>m.persistence.referenceDelegate.addReference(C,b.targetId,N))).next((()=>yt.forEach(b.Ui,(N=>m.persistence.referenceDelegate.removeReference(C,b.targetId,N)))))))))}catch(C){if(!Wf(C))throw C;Kt("LocalStore","Failed to update sequence numbers: "+C)}for(const C of d){const b=C.targetId;if(!C.fromCache){const N=m.os.get(b),R=N.snapshotVersion,k=N.withLastLimboFreeSnapshotVersion(R);m.os=m.os.insert(b,k)}}})(n.localStore,s))}async function vre(t,e){const r=mr(t);if(!r.currentUser.isEqual(e)){Kt("SyncEngine","User change. New user:",e.toKey());const n=await EF(r.localStore,e);r.currentUser=e,(function(s,l){s.ka.forEach((c=>{c.forEach((g=>{g.reject(new Ht(gt.CANCELLED,l))}))})),s.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Zf(r,n.hs)}}function yre(t,e){const r=mr(t),n=r.Na.get(e);if(n&&n.va)return kr().add(n.key);{let i=kr();const s=r.Ma.get(e);if(!s)return i;for(const l of s){const c=r.Fa.get(l);i=i.unionWith(c.view.Va)}return i}}function jF(t){const e=mr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pre.bind(null,e),e.Ca.d_=ire.bind(null,e.eventManager),e.Ca.$a=sre.bind(null,e.eventManager),e}function Cre(t){const e=mr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xre.bind(null,e),e}class tg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return Ste(this.persistence,new _te,e.initialUser,this.serializer)}Ga(e){return new Ete(ov.Zr,this.serializer)}Wa(e){return new Ute}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tg.provider={build:()=>new tg};class X2{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>E4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=vre.bind(null,this.syncEngine),await tre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nre})()}createDatastore(e){const r=kg(e.databaseInfo.databaseId),n=(function(s){return new Qte(s)})(e.databaseInfo);return(function(s,l,c,g){return new Vte(s,l,c,g)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,l,c){return new Gte(n,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(r=>E4(this.syncEngine,r,0)),(function(){return x4.D()?new x4:new Mte})())}createSyncEngine(e,r){return(function(i,s,l,c,g,d,m){const C=new Are(i,s,l,c,g,d);return m&&(C.Qa=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=mr(i);Kt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Jf(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}X2.provider={build:()=>new X2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):fl("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=is.UNAUTHENTICATED,this.clientId=GN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async l=>{Kt("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(Kt("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new aA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=hv(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Bx(t,e){t.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await EF(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function B4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await bre(t);Kt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>w4(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>w4(e.remoteStore,i))),t._onlineComponents=e}async function bre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Kt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===gt.FAILED_PRECONDITION||i.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Tu("Error using user provided cache. Falling back to memory cache: "+r),await Bx(t,new tg)}}else Kt("FirestoreClient","Using default OfflineComponentProvider"),await Bx(t,new tg);return t._offlineComponents}async function KF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Kt("FirestoreClient","Using user provided OnlineComponentProvider"),await B4(t,t._uninitializedComponentsProvider._online)):(Kt("FirestoreClient","Using default OnlineComponentProvider"),await B4(t,new X2))),t._onlineComponents}function Bre(t){return KF(t).then((e=>e.syncEngine))}async function q2(t){const e=await KF(t),r=e.eventManager;return r.onListen=cre.bind(null,e.syncEngine),r.onUnlisten=dre.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=ure.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=hre.bind(null,e.syncEngine),r}function _re(t,e,r={}){const n=new aA;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,g,d){const m=new GF({next:b=>{m.Za(),l.enqueueAndForget((()=>DF(s,C))),b.fromCache&&g.source==="server"?d.reject(new Ht(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),C=new UF(c,m,{includeMetadataChanges:!0,_a:!0});return kF(s,C)})(await q2(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t,e,r){if(!r)throw new Ht(gt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Tre(t,e,r,n){if(e===!0&&n===!0)throw new Ht(gt.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function T4(t){if(!rr.isDocumentKey(t))throw new Ht(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function S4(t){if(rr.isDocumentKey(t))throw new Ht(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lr()}function La(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ht(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Mg(t);throw new Ht(gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ht(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ht(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zF((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ht(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ht(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ht(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Og{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ht(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ht(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I4(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new z$;switch(n.type){case"firstParty":return new Y$(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ht(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=_4.get(r);n&&(Kt("ComponentProvider","Removing Datastore"),_4.delete(r),n.terminate())})(this),Promise.resolve()}}function Sre(t,e,r,n={}){var i;const s=(t=La(t,Og))._getSettings(),l=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&Tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),n.mockUserToken){let c,g;if(typeof n.mockUserToken=="string")c=n.mockUserToken,g=is.MOCK_USER;else{c=bZ(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new Ht(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new is(d)}t._authCredentials=new W$(new jN(c,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new wc(this.firestore,e,this._query)}}class Ts{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oA(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ts(this.firestore,e,this._key)}}class oA extends wc{constructor(e,r,n){super(e,r,tv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ts(this.firestore,null,new rr(e))}withConverter(e){return new oA(this.firestore,e,this._path)}}function Ws(t,e,...r){if(t=$s(t),WF("collection","path",e),t instanceof Og){const n=In.fromString(e,...r);return S4(n),new oA(t,null,n)}{if(!(t instanceof Ts||t instanceof oA))throw new Ht(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(In.fromString(e,...r));return S4(n),new oA(t.firestore,null,n)}}function ir(t,e,...r){if(t=$s(t),arguments.length===1&&(e=GN.newId()),WF("doc","path",e),t instanceof Og){const n=In.fromString(e,...r);return T4(n),new Ts(t,null,new rr(n))}{if(!(t instanceof Ts||t instanceof oA))throw new Ht(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(In.fromString(e,...r));return T4(n),new Ts(t.firestore,t instanceof oA?t.converter:null,new rr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new BF(this,"async_queue_retry"),this.Vu=()=>{const n=bx();n&&Kt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=bx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=bx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new aA;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wf(e))throw e;Kt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const r=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c})(n);throw fl("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=dv.createAndSchedule(this,e,r,n,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&lr()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function F4(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class pA extends Og{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new N4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N4(e),this._firestoreClient=void 0,await e}}}function Ire(t,e){const r=typeof t=="object"?t:DN(),n=typeof t=="string"?t:"(default)",i=Kf(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=CZ("firestore");s&&Sre(i,...s)}return i}function Lg(t){if(t._terminated)throw new Ht(gt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Nre(t),t._firestoreClient}function Nre(t){var e,r,n;const i=t._freezeSettings(),s=(function(c,g,d,m){return new Aee(c,g,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,zF(m.experimentalLongPollingOptions),m.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ere(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&(function(c){const g=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(g),_online:g}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ku(Yi.fromBase64String(e))}catch(r){throw new Ht(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ku(Yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ht(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ki(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ht(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ht(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qr(this._lat,e._lat)||qr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fre=/^__.*__$/;class Rre{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new vA(e,this.data,this.fieldMask,r,this.fieldTransforms):new qf(e,this.data,r,this.fieldTransforms)}}class XF{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new vA(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function qF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lr()}}class vv{constructor(e,r,n,i,s,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(qF(this.Cu)&&Fre.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class kre{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||kg(e)}Qu(e,r,n,i=!1){return new vv({Cu:e,methodName:r,qu:n,path:Ki.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qg(t){const e=t._freezeSettings(),r=kg(t._databaseId);return new kre(t._databaseId,!!e.ignoreUndefinedProperties,r)}function YF(t,e,r,n,i,s={}){const l=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);yv("Data must be an object, but it was:",l,n);const c=$F(n,l);let g,d;if(s.merge)g=new ga(l.fieldMask),d=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const C of s.mergeFields){const b=Y2(e,C,r);if(!l.contains(b))throw new Ht(gt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);t8(m,b)||m.push(b)}g=new ga(m),d=l.fieldTransforms.filter((C=>g.covers(C.field)))}else g=null,d=l.fieldTransforms;return new Rre(new Ys(c),g,d)}class Pg extends mv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pg}}function JF(t,e,r,n){const i=t.Qu(1,e,r);yv("Data must be an object, but it was:",i,n);const s=[],l=Ys.empty();mc(n,((g,d)=>{const m=Cv(e,g,r);d=$s(d);const C=i.Nu(m);if(d instanceof Pg)s.push(m);else{const b=ed(d,C);b!=null&&(s.push(m),l.set(m,b))}}));const c=new ga(s);return new XF(l,c,i.fieldTransforms)}function ZF(t,e,r,n,i,s){const l=t.Qu(1,e,r),c=[Y2(e,n,r)],g=[i];if(s.length%2!=0)throw new Ht(gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)c.push(Y2(e,s[b])),g.push(s[b+1]);const d=[],m=Ys.empty();for(let b=c.length-1;b>=0;--b)if(!t8(d,c[b])){const N=c[b];let R=g[b];R=$s(R);const k=l.Nu(N);if(R instanceof Pg)d.push(N);else{const U=ed(R,k);U!=null&&(d.push(N),m.set(N,U))}}const C=new ga(d);return new XF(m,C,l.fieldTransforms)}function Dre(t,e,r,n=!1){return ed(r,t.Qu(n?4:3,e))}function ed(t,e){if(e8(t=$s(t)))return yv("Unsupported field value:",e,t),$F(t,e);if(t instanceof mv)return(function(n,i){if(!qF(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const s=[];let l=0;for(const c of n){let g=ed(c,i.Lu(l));g==null&&(g={nullValue:"NULL_VALUE"}),s.push(g),l++}return{arrayValue:{values:s}}})(t,e)}return(function(n,i){if((n=$s(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Fee(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=bi.fromDate(n);return{timestampValue:$1(i.serializer,s)}}if(n instanceof bi){const s=new bi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:$1(i.serializer,s)}}if(n instanceof xv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ku)return{bytesValue:pF(i.serializer,n._byteString)};if(n instanceof Ts){const s=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(s))throw i.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sv(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof wv)return(function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map((g=>{if(typeof g!="number")throw c.Bu("VectorValues must only contain numeric values.");return rv(c.serializer,g)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${Mg(n)}`)})(t,e)}function $F(t,e){const r={};return KN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mc(t,((n,i)=>{const s=ed(i,e.Mu(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function e8(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bi||t instanceof xv||t instanceof ku||t instanceof Ts||t instanceof mv||t instanceof wv)}function yv(t,e,r){if(!e8(r)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(r)){const n=Mg(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Y2(t,e,r){if((e=$s(e))instanceof $f)return e._internalPath;if(typeof e=="string")return Cv(t,e);throw rg("Field path arguments must be of type string or ",t,!1,void 0,r)}const Ure=new RegExp("[~\\*/\\[\\]]");function Cv(t,e,r){if(e.search(Ure)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new $f(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function rg(t,e,r,n,i){const s=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let g="";return(s||l)&&(g+=" (found",s&&(g+=` in field ${n}`),l&&(g+=` in document ${i}`),g+=")"),new Ht(gt.INVALID_ARGUMENT,c+t+g)}function t8(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ts(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Ev("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Mre extends r8{data(){return super.data()}}function Ev(t,e){return typeof e=="string"?Cv(t,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ht(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bv{}class Ore extends bv{}function _x(t,e,...r){let n=[];e instanceof bv&&n.push(e),n=n.concat(r),(function(s){const l=s.filter((g=>g instanceof Bv)).length,c=s.filter((g=>g instanceof Hg)).length;if(l>1||l>0&&c>0)throw new Ht(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Hg extends Ore{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Hg(e,r,n)}_apply(e){const r=this._parse(e);return i8(e._query,r),new wc(e.firestore,e.converter,Q2(e._query,r))}_parse(e){const r=Qg(e.firestore);return(function(s,l,c,g,d,m,C){let b;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ht(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){k4(C,m);const N=[];for(const R of C)N.push(R4(g,s,R));b={arrayValue:{values:N}}}else b=R4(g,s,C)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||k4(C,m),b=Dre(c,l,C,m==="in"||m==="not-in");return pi.create(d,m,b)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Tx(t,e,r){const n=e,i=Ev("where",t);return Hg._create(i,n,r)}class Bv extends bv{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Bv(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:ao.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const g of c)i8(l,g),l=Q2(l,g)})(e._query,r),new wc(e.firestore,e.converter,Q2(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function R4(t,e,r){if(typeof(r=$s(r))=="string"){if(r==="")throw new Ht(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eF(e)&&r.indexOf("/")!==-1)throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(In.fromString(r));if(!rr.isDocumentKey(n))throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return $T(t,new rr(n))}if(r instanceof Ts)return $T(t,r._key);throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mg(r)}.`)}function k4(t,e){if(!Array.isArray(t)||t.length===0)throw new Ht(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i8(t,e){const r=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Ht(gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ht(gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Lre{convertValue(e,r="none"){switch(oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw lr()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return mc(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((l=>si(l.doubleValue)));return new wv(s)}convertGeoPoint(e){return new xv(si(e.latitude),si(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Jw(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Rf(e));default:return null}}convertTimestamp(e){const r=hA(e);return new bi(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=In.fromString(e);cn(CF(n));const i=new kf(n.get(1),n.get(3)),s=new rr(n.popFirst(5));return i.isEqual(r)||fl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class a8 extends r8{constructor(e,r,n,i,s,l){super(e,r,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new h1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Ev("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class h1 extends a8{data(e={}){return super.data(e)}}class o8{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Y0(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new h1(this._firestore,this._userDataWriter,n.key,n,new Y0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ht(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const g=new h1(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Y0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:g,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const g=new h1(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Y0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:Qre(c.type),doc:g,oldIndex:d,newIndex:m}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Qre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lr()}}class _v extends Lre{constructor(e){super(),this.firestore=e}convertBytes(e){return new ku(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ts(this.firestore,null,r)}}function t1(t){t=La(t,wc);const e=La(t.firestore,pA),r=Lg(e),n=new _v(e);return n8(t._query),_re(r,t._query).then((i=>new o8(e,n,t,i)))}function jr(t,e,r){t=La(t,Ts);const n=La(t.firestore,pA),i=s8(t.converter,e,r);return Vg(n,[YF(Qg(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Js.none())])}function r1(t,e,r,...n){t=La(t,Ts);const i=La(t.firestore,pA),s=Qg(i);let l;return l=typeof(e=$s(e))=="string"||e instanceof $f?ZF(s,"updateDoc",t._key,e,r,n):JF(s,"updateDoc",t._key,e),Vg(i,[l.toMutation(t._key,Js.exists(!0))])}function Ja(t){return Vg(La(t.firestore,pA),[new Fg(t._key,Js.none())])}function Za(t,...e){var r,n,i;t=$s(t);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||F4(e[l])||(s=e[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(F4(e[l])){const C=e[l];e[l]=(r=C.next)===null||r===void 0?void 0:r.bind(C),e[l+1]=(n=C.error)===null||n===void 0?void 0:n.bind(C),e[l+2]=(i=C.complete)===null||i===void 0?void 0:i.bind(C)}let g,d,m;if(t instanceof Ts)d=La(t.firestore,pA),m=tv(t._key.path),g={next:C=>{e[l]&&e[l](Pre(d,t,C))},error:e[l+1],complete:e[l+2]};else{const C=La(t,wc);d=La(C.firestore,pA),m=C._query;const b=new _v(d);g={next:N=>{e[l]&&e[l](new o8(d,b,C,N))},error:e[l+1],complete:e[l+2]},n8(t._query)}return(function(b,N,R,k){const U=new GF(k),j=new UF(N,U,R);return b.asyncQueue.enqueueAndForget((async()=>kF(await q2(b),j))),()=>{U.Za(),b.asyncQueue.enqueueAndForget((async()=>DF(await q2(b),j)))}})(Lg(d),m,c,g)}function Vg(t,e){return(function(n,i){const s=new aA;return n.asyncQueue.enqueueAndForget((async()=>gre(await Bre(n),i,s))),s.promise})(Lg(t),e)}function Pre(t,e,r){const n=r.docs.get(e._key),i=new _v(t);return new a8(t,i,e._key,n,new Y0(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Qg(e)}set(e,r,n){this._verifyNotCommitted();const i=Sx(e,this._firestore),s=s8(i.converter,r,n),l=YF(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(l.toMutation(i._key,Js.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=Sx(e,this._firestore);let l;return l=typeof(r=$s(r))=="string"||r instanceof $f?ZF(this._dataReader,"WriteBatch.update",s._key,r,n,i):JF(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(l.toMutation(s._key,Js.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Sx(e,this._firestore);return this._mutations=this._mutations.concat(new Fg(r._key,Js.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ht(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sx(t,e){if((t=$s(t)).firestore!==e)throw new Ht(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t){return Lg(t=La(t,pA)),new Hre(t,(e=>Vg(t,e)))}(function(e,r=!0){(function(i){Hu=i})(D$),fA(new cl("firestore",((n,{instanceIdentifier:i,options:s})=>{const l=n.getProvider("app").getImmediate(),c=new pA(new X$(n.getProvider("auth-internal")),new Z$(n.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ht(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(d.options.projectId,m)})(l,i),l);return s=Object.assign({useFetchStreams:r},s),c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),yo(XT,"4.7.3",e),yo(XT,"4.7.3","esm2017")})();const l8="@firebase/installations",Tv="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=1e4,c8=`w:${Tv}`,u8="FIS_v2",Vre="https://firebaseinstallations.googleapis.com/v1",jre=3600*1e3,Gre="installations",Kre="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},lc=new Bg(Gre,Kre,zre);function f8(t){return t instanceof wA&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8({projectId:t}){return`${Vre}/projects/${t}/installations`}function h8(t){return{token:t.token,requestStatus:2,expiresIn:Xre(t.expiresIn),creationTime:Date.now()}}async function g8(t,e){const n=(await e.json()).error;return lc.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function p8({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Wre(t,{refreshToken:e}){const r=p8(t);return r.append("Authorization",qre(e)),r}async function m8(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Xre(t){return Number(t.replace("s","000"))}function qre(t){return`${u8} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yre({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=d8(t),i=p8(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const l={fid:r,authVersion:u8,appId:t.appId,sdkVersion:c8},c={method:"POST",headers:i,body:JSON.stringify(l)},g=await m8(()=>fetch(n,c));if(g.ok){const d=await g.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:h8(d.authToken)}}else throw await g8("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jre(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zre=/^[cdef][\w-]{21}$/,J2="";function $re(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=ene(t);return Zre.test(r)?r:J2}catch{return J2}}function ene(t){return Jre(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=new Map;function v8(t,e){const r=jg(t);y8(r,e),tne(r,e)}function y8(t,e){const r=w8.get(t);if(r)for(const n of r)n(e)}function tne(t,e){const r=rne();r&&r.postMessage({key:t,fid:e}),nne()}let YA=null;function rne(){return!YA&&"BroadcastChannel"in self&&(YA=new BroadcastChannel("[Firebase] FID Change"),YA.onmessage=t=>{y8(t.data.key,t.data.fid)}),YA}function nne(){w8.size===0&&YA&&(YA.close(),YA=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ine="firebase-installations-database",sne=1,Ac="firebase-installations-store";let Ix=null;function Sv(){return Ix||(Ix=RN(ine,sne,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ac)}}})),Ix}async function ng(t,e){const r=jg(t),i=(await Sv()).transaction(Ac,"readwrite"),s=i.objectStore(Ac),l=await s.get(r);return await s.put(e,r),await i.done,(!l||l.fid!==e.fid)&&v8(t,e.fid),e}async function C8(t){const e=jg(t),n=(await Sv()).transaction(Ac,"readwrite");await n.objectStore(Ac).delete(e),await n.done}async function Gg(t,e){const r=jg(t),i=(await Sv()).transaction(Ac,"readwrite"),s=i.objectStore(Ac),l=await s.get(r),c=e(l);return c===void 0?await s.delete(r):await s.put(c,r),await i.done,c&&(!l||l.fid!==c.fid)&&v8(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iv(t){let e;const r=await Gg(t.appConfig,n=>{const i=ane(n),s=one(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===J2?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function ane(t){const e=t||{fid:$re(),registrationStatus:0};return E8(e)}function one(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(lc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=lne(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ane(t)}:{installationEntry:e}}async function lne(t,e){try{const r=await Yre(t,e);return ng(t.appConfig,r)}catch(r){throw f8(r)&&r.customData.serverCode===409?await C8(t.appConfig):await ng(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Ane(t){let e=await D4(t.appConfig);for(;e.registrationStatus===1;)await x8(100),e=await D4(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Iv(t);return n||r}return e}function D4(t){return Gg(t,e=>{if(!e)throw lc.create("installation-not-found");return E8(e)})}function E8(t){return cne(t)?{fid:t.fid,registrationStatus:0}:t}function cne(t){return t.registrationStatus===1&&t.registrationTime+A8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function une({appConfig:t,heartbeatServiceProvider:e},r){const n=fne(t,r),i=Wre(t,r),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const l={installation:{sdkVersion:c8,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},g=await m8(()=>fetch(n,c));if(g.ok){const d=await g.json();return h8(d)}else throw await g8("Generate Auth Token",g)}function fne(t,{fid:e}){return`${d8(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nv(t,e=!1){let r;const n=await Gg(t.appConfig,s=>{if(!b8(s))throw lc.create("not-registered");const l=s.authToken;if(!e&&gne(l))return s;if(l.requestStatus===1)return r=dne(t,e),s;{if(!navigator.onLine)throw lc.create("app-offline");const c=mne(s);return r=hne(t,c),c}});return r?await r:n.authToken}async function dne(t,e){let r=await U4(t.appConfig);for(;r.authToken.requestStatus===1;)await x8(100),r=await U4(t.appConfig);const n=r.authToken;return n.requestStatus===0?Nv(t,e):n}function U4(t){return Gg(t,e=>{if(!b8(e))throw lc.create("not-registered");const r=e.authToken;return xne(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function hne(t,e){try{const r=await une(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await ng(t.appConfig,n),r}catch(r){if(f8(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await C8(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ng(t.appConfig,n)}throw r}}function b8(t){return t!==void 0&&t.registrationStatus===2}function gne(t){return t.requestStatus===2&&!pne(t)}function pne(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jre}function mne(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function xne(t){return t.requestStatus===1&&t.requestTime+A8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wne(t){const e=t,{installationEntry:r,registrationPromise:n}=await Iv(e);return n?n.catch(console.error):Nv(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vne(t,e=!1){const r=t;return await yne(r),(await Nv(r,e)).token}async function yne(t){const{registrationPromise:e}=await Iv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cne(t){if(!t||!t.options)throw Nx("App Configuration");if(!t.name)throw Nx("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Nx(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Nx(t){return lc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8="installations",Ene="installations-internal",bne=t=>{const e=t.getProvider("app").getImmediate(),r=Cne(e),n=Kf(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Bne=t=>{const e=t.getProvider("app").getImmediate(),r=Kf(e,B8).getImmediate();return{getId:()=>wne(r),getToken:i=>vne(r,i)}};function _ne(){fA(new cl(B8,bne,"PUBLIC")),fA(new cl(Ene,Bne,"PRIVATE"))}_ne();yo(l8,Tv);yo(l8,Tv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="analytics",Tne="firebase_id",Sne="origin",Ine=60*1e3,Nne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new zw("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fne={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pa=new Bg("analytics","Analytics",Fne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rne(t){if(!t.startsWith(Fv)){const e=pa.create("invalid-gtag-resource",{gtagURL:t});return Zs.warn(e.message),""}return t}function _8(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function kne(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function Dne(t,e){const r=kne("firebase-js-sdk-policy",{createScriptURL:Rne}),n=document.createElement("script"),i=`${Fv}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function Une(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Mne(t,e,r,n,i,s){const l=n[i];try{if(l)await e[l];else{const g=(await _8(r)).find(d=>d.measurementId===i);g&&await e[g.appId]}}catch(c){Zs.error(c)}t("config",i,s)}async function One(t,e,r,n,i){try{let s=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await _8(r);for(const g of l){const d=c.find(C=>C.measurementId===g),m=d&&e[d.appId];if(m)s.push(m);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,i||{})}catch(s){Zs.error(s)}}function Lne(t,e,r,n){async function i(s,...l){try{if(s==="event"){const[c,g]=l;await One(t,e,r,c,g)}else if(s==="config"){const[c,g]=l;await Mne(t,e,r,n,c,g)}else if(s==="consent"){const[c,g]=l;t("consent",c,g)}else if(s==="get"){const[c,g,d]=l;t("get",c,g,d)}else if(s==="set"){const[c]=l;t("set",c)}else t(s,...l)}catch(c){Zs.error(c)}}return i}function Qne(t,e,r,n,i){let s=function(...l){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Lne(s,t,e,r),{gtagCore:s,wrappedGtag:window[i]}}function Pne(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Fv)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hne=30,Vne=1e3;class jne{constructor(e={},r=Vne){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const T8=new jne;function Gne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Kne(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:Gne(n)},s=Nne.replace("{app-id}",r),l=await fetch(s,i);if(l.status!==200&&l.status!==304){let c="";try{const g=await l.json();!((e=g.error)===null||e===void 0)&&e.message&&(c=g.error.message)}catch{}throw pa.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function zne(t,e=T8,r){const{appId:n,apiKey:i,measurementId:s}=t.options;if(!n)throw pa.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw pa.create("no-api-key")}const l=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new qne;return setTimeout(async()=>{c.abort()},Ine),S8({appId:n,apiKey:i,measurementId:s},l,c,e)}async function S8(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=T8){var s;const{appId:l,measurementId:c}=t;try{await Wne(n,e)}catch(g){if(c)return Zs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:l,measurementId:c};throw g}try{const g=await Kne(t);return i.deleteThrottleMetadata(l),g}catch(g){const d=g;if(!Xne(d)){if(i.deleteThrottleMetadata(l),c)return Zs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:c};throw g}const m=Number((s=d==null?void 0:d.customData)===null||s===void 0?void 0:s.httpStatus)===503?LT(r,i.intervalMillis,Hne):LT(r,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+m,backoffCount:r+1};return i.setThrottleMetadata(l,C),Zs.debug(`Calling attemptFetch again in ${m} millis`),S8(t,C,n,i)}}function Wne(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(s),n(pa.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Xne(t){if(!(t instanceof wA)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class qne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Yne(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const s=await e,l=Object.assign(Object.assign({},n),{send_to:s});t("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jne(){if(SN())try{await IN()}catch(t){return Zs.warn(pa.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Zs.warn(pa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Zne(t,e,r,n,i,s,l){var c;const g=zne(t);g.then(N=>{r[N.measurementId]=N.appId,t.options.measurementId&&N.measurementId!==t.options.measurementId&&Zs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>Zs.error(N)),e.push(g);const d=Jne().then(N=>{if(N)return n.getId()}),[m,C]=await Promise.all([g,d]);Pne(s)||Dne(s,m.measurementId),i("js",new Date);const b=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return b[Sne]="firebase",b.update=!0,C!=null&&(b[Tne]=C),i("config",m.measurementId,b),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(e){this.app=e}_delete(){return delete pf[this.app.options.appId],Promise.resolve()}}let pf={},M4=[];const O4={};let Fx="dataLayer",eie="gtag",L4,I8,Q4=!1;function tie(){const t=[];if(TZ()&&t.push("This is a browser extension environment."),IZ()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=pa.create("invalid-analytics-context",{errorInfo:e});Zs.warn(r.message)}}function rie(t,e,r){tie();const n=t.options.appId;if(!n)throw pa.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pa.create("no-api-key");if(pf[n]!=null)throw pa.create("already-exists",{id:n});if(!Q4){Une(Fx);const{wrappedGtag:s,gtagCore:l}=Qne(pf,M4,O4,Fx,eie);I8=s,L4=l,Q4=!0}return pf[n]=Zne(t,M4,O4,e,L4,Fx,r),new $ne(t)}function nie(t=DN()){t=$s(t);const e=Kf(t,ig);return e.isInitialized()?e.getImmediate():iie(t)}function iie(t,e={}){const r=Kf(t,ig);if(r.isInitialized()){const i=r.getImmediate();if(z1(e,r.getOptions()))return i;throw pa.create("already-initialized")}return r.initialize({options:e})}function sie(t,e,r,n){t=$s(t),Yne(I8,pf[t.app.options.appId],e,r,n).catch(i=>Zs.error(i))}const P4="@firebase/analytics",H4="0.10.8";function aie(){fA(new cl(ig,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return rie(n,i,r)},"PUBLIC")),fA(new cl("analytics-internal",t,"PRIVATE")),yo(P4,H4),yo(P4,H4,"esm2017");function t(e){try{const r=e.getProvider(ig).getImmediate();return{logEvent:(n,i,s)=>sie(r,n,i,s)}}catch(r){throw pa.create("interop-component-reg-failed",{reason:r})}}}aie();const oie={apiKey:"AIzaSyC8yzlyr_lSdPWWbmODXThX-vPNAgpAn-c",authDomain:"mama-2951e.firebaseapp.com",projectId:"mama-2951e",storageBucket:"mama-2951e.firebasestorage.app",messagingSenderId:"881003136686",appId:"1:881003136686:web:819d11969d25fe32c28f3f",measurementId:"G-HZDLYN3PK7"},N8=kN(oie),Qt=Ire(N8);nie(N8);const V4=4320*60*60*1e3,Rx={userName:" ",signatureName:"Thank you for your visit",businessName:"Droguerie Taliouine",businessLogo:null,receiptSize:"80mm",showBarcode:!0,stockThreshold:10,backupTime:"00:00",lastBackupDate:null,autoBackupEnabled:!0,loginPhone:"0671276651",loginPassword:"1234",staffList:[],specialOrderLabel:" ",lastTrashCleanup:Date.now()},lie=()=>{const[t,e]=Ce.useState("login"),[r,n]=Ce.useState([]),[i,s]=Ce.useState(""),[l,c]=Ce.useState(""),[g,d]=Ce.useState("retail"),[m,C]=Ce.useState(!1),[b,N]=Ce.useState(null),[R,k]=Ce.useState(null),[U,j]=Ce.useState(Rx),[K,Q]=Ce.useState([]),[J,re]=Ce.useState([]),[G,M]=Ce.useState([]),[P,O]=Ce.useState([]),[ee,te]=Ce.useState([]),[W,q]=Ce.useState([]),[Ie,xe]=Ce.useState([]),[ge,ye]=Ce.useState([]),[We,Ee]=Ce.useState([]),[et,ne]=Ce.useState([]),[X,ue]=Ce.useState(!0),[oe,ce]=Ce.useState("");Ce.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),Ce.useEffect(()=>{const Re=ir(Qt,"settings","global"),ht=Za(Re,async ft=>{if(ft.exists()){const it=ft.data();j(xr=>({...Rx,...xr,...it}));const Xt=it.lastTrashCleanup||Date.now();if(Date.now()-Xt>V4)try{const xr=Ws(Qt,"trash"),Jr=await t1(xr),sn=n1(Qt);Jr.forEach(Ns=>{sn.delete(Ns.ref)}),sn.update(Re,{lastTrashCleanup:Date.now()}),await sn.commit()}catch(xr){console.error("Auto Cleanup Failed:",xr)}}else await jr(Re,Rx);ue(!1)});return()=>ht()},[]),Ce.useEffect(()=>{const Re=Za(Ws(Qt,"invoices"),ht=>{const ft=ht.docs.map(it=>({...it.data(),items:it.data().items||[],payments:it.data().payments||[]}));ft.sort((it,Xt)=>Xt.createdAt-it.createdAt),Q(ft)});return()=>Re()},[]),Ce.useEffect(()=>{const Re=Za(Ws(Qt,"supplier_invoices"),ht=>{const ft=ht.docs.map(it=>it.data());ft.sort((it,Xt)=>Xt.createdAt-it.createdAt),re(ft)});return()=>Re()},[]),Ce.useEffect(()=>{const Re=Za(Ws(Qt,"client_requests"),ht=>{const ft=ht.docs.map(it=>it.data());ft.sort((it,Xt)=>Xt.createdAt-it.createdAt),M(ft)});return()=>Re()},[]),Ce.useEffect(()=>{const Re=Za(Ws(Qt,"checks"),ht=>{const ft=ht.docs.map(it=>it.data());ft.sort((it,Xt)=>Xt.createdAt-it.createdAt),O(ft)});return()=>Re()},[]),Ce.useEffect(()=>{const Re=Za(Ws(Qt,"special_orders"),ht=>{const ft=ht.docs.map(it=>{const Xt=it.data();return!Xt.items&&Xt.productName&&(Xt.items=[{id:"legacy-1",name:Xt.productName,quantity:Xt.quantity||1}]),Xt});ft.sort((it,Xt)=>Xt.createdAt-it.createdAt),te(ft)});return()=>Re()},[]),Ce.useEffect(()=>{const Re=Za(Ws(Qt,"quotes"),ht=>{const ft=ht.docs.map(it=>it.data());ft.sort((it,Xt)=>Xt.createdAt-it.createdAt),q(ft)});return()=>Re()},[]),Ce.useEffect(()=>{const Re=Za(Ws(Qt,"trash"),ht=>{const ft=ht.docs.map(it=>it.data());ft.sort((it,Xt)=>Xt.deletedAt-it.deletedAt),ne(ft)});return()=>Re()},[]),Ce.useEffect(()=>{const Re=Za(Ws(Qt,"notifications"),ht=>{const ft=ht.docs.map(it=>it.data());ft.sort((it,Xt)=>Xt.timestamp-it.timestamp),xe(ft)});return()=>Re()},[]),Ce.useEffect(()=>{const Re=Za(Ws(Qt,"general_payments"),ht=>{const ft=ht.docs.map(it=>it.data());ft.sort((it,Xt)=>Xt.timestamp-it.timestamp),ye(ft)});return()=>Re()},[]),Ce.useEffect(()=>{const Re=Za(Ws(Qt,"products"),ht=>{const ft=ht.docs.map(it=>it.data());Ee(ft)});return()=>Re()},[]);const be=async Re=>{j(ht=>{const ft=typeof Re=="function"?Re(ht):Re;return jr(ir(Qt,"settings","global"),JSON.parse(JSON.stringify(ft))).catch(console.error),ft})},Je=async Re=>await jr(ir(Qt,"products",Re.id),JSON.parse(JSON.stringify(Re))),ke=async Re=>await jr(ir(Qt,"products",Re.id),JSON.parse(JSON.stringify(Re))),He=async Re=>{const ht=We.find(ft=>ft.id===Re);if(ht){const ft={id:`trash-p-${Date.now()}`,type:"product",data:ht,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await jr(ir(Qt,"trash",ft.id),JSON.parse(JSON.stringify(ft))),await Ja(ir(Qt,"products",Re))}},Te=async Re=>await jr(ir(Qt,"supplier_invoices",Re.id),JSON.parse(JSON.stringify(Re))),pt=async Re=>await r1(ir(Qt,"supplier_invoices",Re.id),JSON.parse(JSON.stringify(Re))),se=async Re=>{const ht=J.find(ft=>ft.id===Re);if(ht){const ft={id:`trash-si-${Date.now()}`,type:"supplier-invoice",data:ht,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await jr(ir(Qt,"trash",ft.id),JSON.parse(JSON.stringify(ft))),await Ja(ir(Qt,"supplier_invoices",Re))}},Xe=async Re=>{const ht=n1(Qt);(await t1(_x(Ws(Qt,"supplier_invoices"),Tx("supplierName","==",Re)))).forEach(it=>ht.delete(it.ref)),await ht.commit()},vt=async Re=>await jr(ir(Qt,"client_requests",Re.id),JSON.parse(JSON.stringify(Re))),Ft=async Re=>await jr(ir(Qt,"client_requests",Re.id),JSON.parse(JSON.stringify(Re))),At=async Re=>{const ht=G.find(ft=>ft.id===Re);if(ht){const ft={id:`trash-cr-${Date.now()}`,type:"client-request",data:ht,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await jr(ir(Qt,"trash",ft.id),JSON.parse(JSON.stringify(ft))),await Ja(ir(Qt,"client_requests",Re))}},ot=async Re=>await jr(ir(Qt,"checks",Re.id),JSON.parse(JSON.stringify(Re))),Dt=async Re=>await jr(ir(Qt,"checks",Re.id),JSON.parse(JSON.stringify(Re))),Nt=async Re=>{const ht=P.find(ft=>ft.id===Re);if(ht){const ft={id:`trash-ch-${Date.now()}`,type:"check",data:ht,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await jr(ir(Qt,"trash",ft.id),JSON.parse(JSON.stringify(ft))),await Ja(ir(Qt,"checks",Re))}},wr=async Re=>await jr(ir(Qt,"special_orders",Re.id),JSON.parse(JSON.stringify(Re))),Tt=async Re=>await jr(ir(Qt,"special_orders",Re.id),JSON.parse(JSON.stringify(Re))),un=async Re=>{const ht=ee.find(ft=>ft.id===Re);if(ht){const ft={id:`trash-so-${Date.now()}`,type:"special-order",data:ht,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await jr(ir(Qt,"trash",ft.id),JSON.parse(JSON.stringify(ft))),await Ja(ir(Qt,"special_orders",Re))}},nn=async Re=>await jr(ir(Qt,"quotes",Re.id),JSON.parse(JSON.stringify(Re))),Pe=async Re=>await jr(ir(Qt,"quotes",Re.id),JSON.parse(JSON.stringify(Re))),Le=async Re=>{const ht=W.find(ft=>ft.id===Re);if(ht){const ft={id:`trash-qt-${Date.now()}`,type:"quote",data:ht,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await jr(ir(Qt,"trash",ft.id),JSON.parse(JSON.stringify(ft))),await Ja(ir(Qt,"quotes",Re))}},lt=async Re=>await jr(ir(Qt,"general_payments",Re.id),JSON.parse(JSON.stringify(Re))),kt=async Re=>{const ht=ge.find(ft=>ft.id===Re);if(ht){const ft={id:`trash-gp-${Date.now()}`,type:"general-payment",data:ht,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await jr(ir(Qt,"trash",ft.id),JSON.parse(JSON.stringify(ft))),await Ja(ir(Qt,"general_payments",Re))}},tr=async Re=>{const ht=K.find(ft=>ft.id===Re);if(ht){const ft={id:`trash-inv-${Date.now()}`,type:"invoice",data:ht,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await jr(ir(Qt,"trash",ft.id),JSON.parse(JSON.stringify(ft))),await Ja(ir(Qt,"invoices",Re)),await Ja(ir(Qt,"notifications",`debt-${Re}`))}},st=async Re=>{const ht=K.filter(Jr=>Jr.name===Re).length,ft={id:`trash-cust-${Date.now()}`,type:"customer",data:{name:Re,invoiceCount:ht},deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await jr(ir(Qt,"trash",ft.id),JSON.parse(JSON.stringify(ft)));const it=n1(Qt);(await t1(_x(Ws(Qt,"invoices"),Tx("name","==",Re)))).forEach(Jr=>{it.delete(Jr.ref),it.delete(ir(Qt,"notifications",`debt-${Jr.id}`))}),(await t1(_x(Ws(Qt,"general_payments"),Tx("customerName","==",Re)))).forEach(Jr=>it.delete(Jr.ref)),await it.commit()},bt=()=>{e("login"),k(null),Wt()},Wt=()=>{n([]),N(null),s(""),c(""),d("retail"),C(!1),ce("")},Er=Re=>{R!=null&&R.permissions.createInvoices&&(N(Re),n(Re.items),s(Re.name),c(Re.phone||""),d(Re.priceMode||"retail"),e("create-invoice"))},Gt=(Re,ht)=>{R!=null&&R.permissions.createInvoices&&(Wt(),s(Re),c(ht||""),e("create-invoice"))},Ne=async Re=>{await jr(ir(Qt,"invoices",Re.id),JSON.parse(JSON.stringify(Re)));for(const ht of Re.items)if(!ht.isManual){const ft=We.find(it=>it.id===ht.id);if(ft){let it=ht.count;if(b){const Xt=b.items.find(xr=>xr.id===ht.id);Xt&&(it=ht.count-Xt.count)}it!==0&&await r1(ir(Qt,"products",ht.id),{stock:Math.max(0,ft.stock-it)})}}Wt(),e("dashboard")},Rt=async Re=>{try{Re.type==="product"?await jr(ir(Qt,"products",Re.data.id),Re.data):Re.type==="invoice"?await jr(ir(Qt,"invoices",Re.data.id),Re.data):Re.type==="quote"?await jr(ir(Qt,"quotes",Re.data.id),Re.data):Re.type==="client-request"?await jr(ir(Qt,"client_requests",Re.data.id),Re.data):Re.type==="special-order"?await jr(ir(Qt,"special_orders",Re.data.id),Re.data):Re.type==="supplier-invoice"?await jr(ir(Qt,"supplier_invoices",Re.data.id),Re.data):Re.type==="check"?await jr(ir(Qt,"checks",Re.data.id),Re.data):Re.type==="general-payment"&&await jr(ir(Qt,"general_payments",Re.data.id),Re.data),await Ja(ir(Qt,"trash",Re.id)),navigator.vibrate&&navigator.vibrate(50)}catch(ht){console.error(ht)}},jt=Ce.useMemo(()=>R?R.role==="admin"||R.permissions.isManager||R.permissions.viewAllWork?K:K.filter(Re=>Re.creatorName===R.name):[],[K,R]),Ar=(Re,ht)=>{if(Re==="OPEN_INVOICE"&&ht){const ft=K.find(it=>it.id===ht);ft&&Er(ft)}else Re==="OPEN_PRODUCT"&&ht?(ce(ht),e("products")):Re==="NAVIGATE"?["dashboard","products","customers","settings","create-invoice","suppliers","recycle-bin","quotes","translation"].includes(ht)&&e(ht):Re==="SEARCH"&&(ce(ht||""),e("products"))};return X?f.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white font-bold",children:"  ..."}):f.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-black font-['Tajawal'] relative overflow-x-hidden text-white",children:[t==="login"&&f.jsx(o5,{onLoginSuccess:Re=>{k(Re),e("dashboard")},settings:U}),t==="dashboard"&&R&&f.jsx(RM,{currentUser:R,onLogout:bt,invoices:jt,settings:U,products:We,onNavigateToProducts:()=>{ce(""),e("products")},onNavigateToCreateInvoice:()=>{b||Wt(),e("create-invoice")},onNavigateToSettings:()=>e("settings"),onNavigateToCustomers:()=>e("customers"),onNavigateToNotifications:()=>e("notifications"),onNavigateToSuppliers:()=>e("suppliers"),onNavigateToClientRequests:()=>e("client-requests"),onNavigateToCheckbook:()=>e("checkbook"),onNavigateToSpecialOrders:()=>e("special-orders"),onNavigateToQuotes:()=>e("quotes"),onNavigateToTranslation:()=>e("translation"),onEditInvoice:Er,onDeleteInvoice:tr,onNewInvoiceForCustomer:Gt,unreadNotificationsCount:Ie.filter(Re=>!Re.isRead).length}),t==="products"&&R&&f.jsx(cG,{currentUser:R,products:We,onAddProduct:Je,onUpdateProduct:ke,onDeleteProduct:He,onLogout:bt,onNavigateToHome:()=>{ce(""),e("dashboard")},onNavigateToCreateInvoice:()=>e("create-invoice"),onNavigateToCustomers:()=>e("customers"),onNavigateToSettings:()=>e("settings"),isSelectionMode:m,onSelectProduct:(Re,ht)=>n(ft=>ft.find(Xt=>Xt.id===Re.id)?ft.filter(Xt=>Xt.id!==Re.id):[...ft,{...Re,productName:Re.name,count:ht,total:Re.price*ht}]),onStartInvoiceWithProduct:(Re,ht)=>{Wt(),n([{...Re,productName:Re.name,count:ht,total:Re.price*ht}]),e("create-invoice")},selectedItems:r,settings:U,invoicePriceMode:g,initialSearchTerm:oe}),t==="create-invoice"&&R&&f.jsx(gG,{currentUser:R,onNavigateToHome:()=>{Wt(),e("dashboard")},onNavigateToProductSelection:()=>{C(!0),e("products")},items:r,setInvoiceItems:n,products:We,onUpdateQuantity:(Re,ht)=>n(ft=>ft.map(it=>it.id===Re?{...it,count:Math.max(0,it.count+ht),total:Math.max(0,it.count+ht)*it.price}:it).filter(it=>it.count>0)),onClearInvoice:Wt,onAddManualItem:(Re,ht,ft)=>n(it=>[...it,{id:`man-${Date.now()}`,productName:Re,price:ht,count:ft,total:ht*ft,isManual:!0}]),onSaveInvoice:Ne,initialInvoice:b,settings:U,onUpdateItem:(Re,ht)=>n(ft=>ft.map(it=>it.id===Re?{...it,...ht,total:(ht.price||it.price)*(ht.count||it.count)}:it)),customerName:i,setCustomerName:s,customerPhone:l,setCustomerPhone:c,priceMode:g,setPriceMode:d}),t==="quotes"&&R&&f.jsx(AZ,{currentUser:R,onNavigateToHome:()=>e("dashboard"),quotes:W,onAddQuote:nn,onUpdateQuote:Pe,onDeleteQuote:Le,settings:U,products:We}),t==="translation"&&R&&f.jsx(cZ,{onNavigateToHome:()=>e("dashboard")}),t==="settings"&&R&&f.jsx(pG,{currentUser:R,onNavigateToHome:()=>e("dashboard"),settings:U,onUpdateSettings:be,onTriggerManualBackup:()=>{},invoices:K,onEditInvoice:Er,onNavigateToProducts:()=>e("products"),onNavigateToCustomers:()=>e("customers"),onNavigateToCreateInvoice:()=>e("create-invoice"),onLogout:bt,onNavigateToRecycleBin:()=>e("recycle-bin")}),t==="customers"&&R&&f.jsx(BG,{currentUser:R,onNavigateToHome:()=>e("dashboard"),onNavigateToProducts:()=>e("products"),onNavigateToSettings:()=>e("settings"),onNavigateToCreateInvoice:()=>e("create-invoice"),invoices:jt,generalPayments:ge,onAddGeneralPayment:lt,onDeleteGeneralPayment:kt,onDeleteCustomer:st,onProcessPayment:async(Re,ht,ft)=>{const it=K.find(Xt=>Xt.id===Re);if(it){const Xt=it.paidAmount+ht,xr=Math.max(0,it.amount-Xt),Jr={...it,paidAmount:Xt,remainingAmount:xr,type:xr<=0?"paid":"partial",payments:[...it.payments,{id:`pay-${Date.now()}`,amount:ht,timestamp:Date.now(),method:ft}]};await jr(ir(Qt,"invoices",Re),JSON.parse(JSON.stringify(Jr)))}},onEditInvoice:Er,settings:U}),t==="recycle-bin"&&R&&f.jsx(uZ,{currentUser:R,onNavigateToSettings:()=>e("settings"),trashItems:et,onRestore:Rt,onPermanentDelete:async Re=>await Ja(ir(Qt,"trash",Re)),onEmptyTrash:async()=>{const Re=n1(Qt);et.forEach(ht=>Re.delete(ir(Qt,"trash",ht.id))),await Re.commit()},nextCleanupDate:U.lastTrashCleanup?U.lastTrashCleanup+V4:void 0}),R&&t==="dashboard"&&f.jsx(fZ,{products:We,invoices:K,currentUser:R,onAction:Ar,onSearchProduct:Re=>{ce(Re),e("products")}}),t==="notifications"&&R&&f.jsx(NG,{onNavigateToHome:()=>e("dashboard"),notifications:Ie,onMarkAllAsRead:()=>Ie.forEach(Re=>r1(ir(Qt,"notifications",Re.id),{isRead:!0})),onClearAll:()=>{},onMarkAsRead:Re=>r1(ir(Qt,"notifications",Re),{isRead:!0})}),t==="suppliers"&&R&&f.jsx(UG,{currentUser:R,onNavigateToHome:()=>e("dashboard"),onAddInvoice:Te,onUpdateInvoice:pt,onDeleteInvoice:se,onDeleteSupplier:Xe,invoices:J}),t==="client-requests"&&R&&f.jsx(MG,{onNavigateToHome:()=>e("dashboard"),requests:G,onAddRequest:vt,onUpdateRequest:Ft,onDeleteRequest:At,settings:U}),t==="checkbook"&&R&&f.jsx(OG,{onNavigateToHome:()=>e("dashboard"),checks:P,onAddCheck:ot,onUpdateCheck:Dt,onDeleteCheck:Nt,settings:U}),t==="special-orders"&&R&&f.jsx(LG,{onNavigateToHome:()=>e("dashboard"),orders:ee,onAddOrder:wr,onUpdateOrder:Tt,onDeleteOrder:un,settings:U})]})},F8=document.getElementById("root");if(!F8)throw new Error("Could not find root element to mount to");const Aie=a5.createRoot(F8);Aie.render(f.jsx(ZR.StrictMode,{children:f.jsx(lie,{})}));

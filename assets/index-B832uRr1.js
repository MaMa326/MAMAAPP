(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const A of a)if(A.type==="childList")for(const c of A.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const A={};return a.integrity&&(A.integrity=a.integrity),a.referrerPolicy&&(A.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?A.credentials="include":a.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function n(a){if(a.ep)return;a.ep=!0;const A=r(a);fetch(a.href,A)}})();var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function nF(){if(QE)return iu;QE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,A){var c=null;if(A!==void 0&&(c=""+A),a.key!==void 0&&(c=""+a.key),"key"in a){A={};for(var d in a)d!=="key"&&(A[d]=a[d])}else A=a;return a=A.ref,{$$typeof:e,type:n,key:c,ref:a!==void 0?a:null,props:A}}return iu.Fragment=t,iu.jsx=r,iu.jsxs=r,iu}var jE;function aF(){return jE||(jE=1,tp.exports=nF()),tp.exports}var h=aF(),rp={exports:{}},nr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function iF(){if(HE)return nr;HE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),I=Symbol.iterator;function N(ge){return ge===null||typeof ge!="object"?null:(ge=I&&ge[I]||ge["@@iterator"],typeof ge=="function"?ge:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,D={};function K(ge,X,ce){this.props=ge,this.context=X,this.refs=D,this.updater=ce||R}K.prototype.isReactComponent={},K.prototype.setState=function(ge,X){if(typeof ge!="object"&&typeof ge!="function"&&ge!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ge,X,"setState")},K.prototype.forceUpdate=function(ge){this.updater.enqueueForceUpdate(this,ge,"forceUpdate")};function W(){}W.prototype=K.prototype;function H(ge,X,ce){this.props=ge,this.context=X,this.refs=D,this.updater=ce||R}var re=H.prototype=new W;re.constructor=H,F(re,K.prototype),re.isPureReactComponent=!0;var de=Array.isArray;function ee(){}var U={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function k(ge,X,ce){var le=ce.ref;return{$$typeof:e,type:ge,key:X,ref:le!==void 0?le:null,props:ce}}function Y(ge,X){return k(ge.type,X,ge.props)}function q(ge){return typeof ge=="object"&&ge!==null&&ge.$$typeof===e}function V(ge){var X={"=":"=0",":":"=2"};return"$"+ge.replace(/[=:]/g,function(ce){return X[ce]})}var z=/\/+/g;function ze(ge,X){return typeof ge=="object"&&ge!==null&&ge.key!=null?V(""+ge.key):X.toString(36)}function ve(ge){switch(ge.status){case"fulfilled":return ge.value;case"rejected":throw ge.reason;default:switch(typeof ge.status=="string"?ge.then(ee,ee):(ge.status="pending",ge.then(function(X){ge.status==="pending"&&(ge.status="fulfilled",ge.value=X)},function(X){ge.status==="pending"&&(ge.status="rejected",ge.reason=X)})),ge.status){case"fulfilled":return ge.value;case"rejected":throw ge.reason}}throw ge}function me(ge,X,ce,le,ae){var xe=typeof ge;(xe==="undefined"||xe==="boolean")&&(ge=null);var Xe=!1;if(ge===null)Xe=!0;else switch(xe){case"bigint":case"string":case"number":Xe=!0;break;case"object":switch(ge.$$typeof){case e:case t:Xe=!0;break;case y:return Xe=ge._init,me(Xe(ge._payload),X,ce,le,ae)}}if(Xe)return ae=ae(ge),Xe=le===""?"."+ze(ge,0):le,de(ae)?(ce="",Xe!=null&&(ce=Xe.replace(z,"$&/")+"/"),me(ae,X,ce,"",function(Ue){return Ue})):ae!=null&&(q(ae)&&(ae=Y(ae,ce+(ae.key==null||ge&&ge.key===ae.key?"":(""+ae.key).replace(z,"$&/")+"/")+Xe)),X.push(ae)),1;Xe=0;var Se=le===""?".":le+":";if(de(ge))for(var Ce=0;Ce<ge.length;Ce++)le=ge[Ce],xe=Se+ze(le,Ce),Xe+=me(le,X,ce,xe,ae);else if(Ce=N(ge),typeof Ce=="function")for(ge=Ce.call(ge),Ce=0;!(le=ge.next()).done;)le=le.value,xe=Se+ze(le,Ce++),Xe+=me(le,X,ce,xe,ae);else if(xe==="object"){if(typeof ge.then=="function")return me(ve(ge),X,ce,le,ae);throw X=String(ge),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(ge).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Xe}function oe(ge,X,ce){if(ge==null)return ge;var le=[],ae=0;return me(ge,le,"","",function(xe){return X.call(ce,xe,ae++)}),le}function Pe(ge){if(ge._status===-1){var X=ge._result;X=X(),X.then(function(ce){(ge._status===0||ge._status===-1)&&(ge._status=1,ge._result=ce)},function(ce){(ge._status===0||ge._status===-1)&&(ge._status=2,ge._result=ce)}),ge._status===-1&&(ge._status=0,ge._result=X)}if(ge._status===1)return ge._result.default;throw ge._result}var Ee=typeof reportError=="function"?reportError:function(ge){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ge=="object"&&ge!==null&&typeof ge.message=="string"?String(ge.message):String(ge),error:ge});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ge);return}console.error(ge)},$e={map:oe,forEach:function(ge,X,ce){oe(ge,function(){X.apply(this,arguments)},ce)},count:function(ge){var X=0;return oe(ge,function(){X++}),X},toArray:function(ge){return oe(ge,function(X){return X})||[]},only:function(ge){if(!q(ge))throw Error("React.Children.only expected to receive a single React element child.");return ge}};return nr.Activity=b,nr.Children=$e,nr.Component=K,nr.Fragment=r,nr.Profiler=a,nr.PureComponent=H,nr.StrictMode=n,nr.Suspense=p,nr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,nr.__COMPILER_RUNTIME={__proto__:null,c:function(ge){return U.H.useMemoCache(ge)}},nr.cache=function(ge){return function(){return ge.apply(null,arguments)}},nr.cacheSignal=function(){return null},nr.cloneElement=function(ge,X,ce){if(ge==null)throw Error("The argument must be a React element, but you passed "+ge+".");var le=F({},ge.props),ae=ge.key;if(X!=null)for(xe in X.key!==void 0&&(ae=""+X.key),X)!Q.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(le[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)le.children=ce;else if(1<xe){for(var Xe=Array(xe),Se=0;Se<xe;Se++)Xe[Se]=arguments[Se+2];le.children=Xe}return k(ge.type,ae,le)},nr.createContext=function(ge){return ge={$$typeof:c,_currentValue:ge,_currentValue2:ge,_threadCount:0,Provider:null,Consumer:null},ge.Provider=ge,ge.Consumer={$$typeof:A,_context:ge},ge},nr.createElement=function(ge,X,ce){var le,ae={},xe=null;if(X!=null)for(le in X.key!==void 0&&(xe=""+X.key),X)Q.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ae[le]=X[le]);var Xe=arguments.length-2;if(Xe===1)ae.children=ce;else if(1<Xe){for(var Se=Array(Xe),Ce=0;Ce<Xe;Ce++)Se[Ce]=arguments[Ce+2];ae.children=Se}if(ge&&ge.defaultProps)for(le in Xe=ge.defaultProps,Xe)ae[le]===void 0&&(ae[le]=Xe[le]);return k(ge,xe,ae)},nr.createRef=function(){return{current:null}},nr.forwardRef=function(ge){return{$$typeof:d,render:ge}},nr.isValidElement=q,nr.lazy=function(ge){return{$$typeof:y,_payload:{_status:-1,_result:ge},_init:Pe}},nr.memo=function(ge,X){return{$$typeof:m,type:ge,compare:X===void 0?null:X}},nr.startTransition=function(ge){var X=U.T,ce={};U.T=ce;try{var le=ge(),ae=U.S;ae!==null&&ae(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ee,Ee)}catch(xe){Ee(xe)}finally{X!==null&&ce.types!==null&&(X.types=ce.types),U.T=X}},nr.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},nr.use=function(ge){return U.H.use(ge)},nr.useActionState=function(ge,X,ce){return U.H.useActionState(ge,X,ce)},nr.useCallback=function(ge,X){return U.H.useCallback(ge,X)},nr.useContext=function(ge){return U.H.useContext(ge)},nr.useDebugValue=function(){},nr.useDeferredValue=function(ge,X){return U.H.useDeferredValue(ge,X)},nr.useEffect=function(ge,X){return U.H.useEffect(ge,X)},nr.useEffectEvent=function(ge){return U.H.useEffectEvent(ge)},nr.useId=function(){return U.H.useId()},nr.useImperativeHandle=function(ge,X,ce){return U.H.useImperativeHandle(ge,X,ce)},nr.useInsertionEffect=function(ge,X){return U.H.useInsertionEffect(ge,X)},nr.useLayoutEffect=function(ge,X){return U.H.useLayoutEffect(ge,X)},nr.useMemo=function(ge,X){return U.H.useMemo(ge,X)},nr.useOptimistic=function(ge,X){return U.H.useOptimistic(ge,X)},nr.useReducer=function(ge,X,ce){return U.H.useReducer(ge,X,ce)},nr.useRef=function(ge){return U.H.useRef(ge)},nr.useState=function(ge){return U.H.useState(ge)},nr.useSyncExternalStore=function(ge,X,ce){return U.H.useSyncExternalStore(ge,X,ce)},nr.useTransition=function(){return U.H.useTransition()},nr.version="19.2.4",nr}var PE;function l2(){return PE||(PE=1,rp.exports=iF()),rp.exports}var _e=l2();const sF=T_(_e);var np={exports:{}},su={},ap={exports:{}},ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function AF(){return VE||(VE=1,(function(e){function t(me,oe){var Pe=me.length;me.push(oe);e:for(;0<Pe;){var Ee=Pe-1>>>1,$e=me[Ee];if(0<a($e,oe))me[Ee]=oe,me[Pe]=$e,Pe=Ee;else break e}}function r(me){return me.length===0?null:me[0]}function n(me){if(me.length===0)return null;var oe=me[0],Pe=me.pop();if(Pe!==oe){me[0]=Pe;e:for(var Ee=0,$e=me.length,ge=$e>>>1;Ee<ge;){var X=2*(Ee+1)-1,ce=me[X],le=X+1,ae=me[le];if(0>a(ce,Pe))le<$e&&0>a(ae,ce)?(me[Ee]=ae,me[le]=Pe,Ee=le):(me[Ee]=ce,me[X]=Pe,Ee=X);else if(le<$e&&0>a(ae,Pe))me[Ee]=ae,me[le]=Pe,Ee=le;else break e}}return oe}function a(me,oe){var Pe=me.sortIndex-oe.sortIndex;return Pe!==0?Pe:me.id-oe.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var A=performance;e.unstable_now=function(){return A.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],m=[],y=1,b=null,I=3,N=!1,R=!1,F=!1,D=!1,K=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function re(me){for(var oe=r(m);oe!==null;){if(oe.callback===null)n(m);else if(oe.startTime<=me)n(m),oe.sortIndex=oe.expirationTime,t(p,oe);else break;oe=r(m)}}function de(me){if(F=!1,re(me),!R)if(r(p)!==null)R=!0,ee||(ee=!0,V());else{var oe=r(m);oe!==null&&ve(de,oe.startTime-me)}}var ee=!1,U=-1,Q=5,k=-1;function Y(){return D?!0:!(e.unstable_now()-k<Q)}function q(){if(D=!1,ee){var me=e.unstable_now();k=me;var oe=!0;try{e:{R=!1,F&&(F=!1,W(U),U=-1),N=!0;var Pe=I;try{t:{for(re(me),b=r(p);b!==null&&!(b.expirationTime>me&&Y());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,I=b.priorityLevel;var $e=Ee(b.expirationTime<=me);if(me=e.unstable_now(),typeof $e=="function"){b.callback=$e,re(me),oe=!0;break t}b===r(p)&&n(p),re(me)}else n(p);b=r(p)}if(b!==null)oe=!0;else{var ge=r(m);ge!==null&&ve(de,ge.startTime-me),oe=!1}}break e}finally{b=null,I=Pe,N=!1}oe=void 0}}finally{oe?V():ee=!1}}}var V;if(typeof H=="function")V=function(){H(q)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ze=z.port2;z.port1.onmessage=q,V=function(){ze.postMessage(null)}}else V=function(){K(q,0)};function ve(me,oe){U=K(function(){me(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(me){me.callback=null},e.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<me?Math.floor(1e3/me):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_next=function(me){switch(I){case 1:case 2:case 3:var oe=3;break;default:oe=I}var Pe=I;I=oe;try{return me()}finally{I=Pe}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(me,oe){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var Pe=I;I=me;try{return oe()}finally{I=Pe}},e.unstable_scheduleCallback=function(me,oe,Pe){var Ee=e.unstable_now();switch(typeof Pe=="object"&&Pe!==null?(Pe=Pe.delay,Pe=typeof Pe=="number"&&0<Pe?Ee+Pe:Ee):Pe=Ee,me){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=Pe+$e,me={id:y++,callback:oe,priorityLevel:me,startTime:Pe,expirationTime:$e,sortIndex:-1},Pe>Ee?(me.sortIndex=Pe,t(m,me),r(p)===null&&me===r(m)&&(F?(W(U),U=-1):F=!0,ve(de,Pe-Ee))):(me.sortIndex=$e,t(p,me),R||N||(R=!0,ee||(ee=!0,V()))),me},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(me){var oe=I;return function(){var Pe=I;I=oe;try{return me.apply(this,arguments)}finally{I=Pe}}}})(ip)),ip}var GE;function oF(){return GE||(GE=1,ap.exports=AF()),ap.exports}var sp={exports:{}},Ya={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function lF(){if(KE)return Ya;KE=1;var e=l2();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function A(p,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:m,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ya.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ya.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return A(p,m,null,y)},Ya.flushSync=function(p){var m=c.T,y=n.p;try{if(c.T=null,n.p=2,p)return p()}finally{c.T=m,n.p=y,n.d.f()}},Ya.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(p,m))},Ya.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},Ya.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,b=d(y,m.crossOrigin),I=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?n.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:I,fetchPriority:N}):y==="script"&&n.d.X(p,{crossOrigin:b,integrity:I,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ya.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);n.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(p)},Ya.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=d(y,m.crossOrigin);n.d.L(p,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ya.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=d(m.as,m.crossOrigin);n.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(p)},Ya.requestFormReset=function(p){n.d.r(p)},Ya.unstable_batchedUpdates=function(p,m){return p(m)},Ya.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},Ya.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ya.version="19.2.4",Ya}var zE;function cF(){if(zE)return sp.exports;zE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sp.exports=lF(),sp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function uF(){if(WE)return su;WE=1;var e=oF(),t=l2(),r=cF();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function A(i){var o=i,f=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(f=o.return),i=o.return;while(i)}return o.tag===3?f:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function p(i){if(A(i)!==i)throw Error(n(188))}function m(i){var o=i.alternate;if(!o){if(o=A(i),o===null)throw Error(n(188));return o!==i?null:i}for(var f=i,w=o;;){var B=f.return;if(B===null)break;var T=B.alternate;if(T===null){if(w=B.return,w!==null){f=w;continue}break}if(B.child===T.child){for(T=B.child;T;){if(T===f)return p(B),i;if(T===w)return p(B),o;T=T.sibling}throw Error(n(188))}if(f.return!==w.return)f=B,w=T;else{for(var L=!1,te=B.child;te;){if(te===f){L=!0,f=B,w=T;break}if(te===w){L=!0,w=B,f=T;break}te=te.sibling}if(!L){for(te=T.child;te;){if(te===f){L=!0,f=T,w=B;break}if(te===w){L=!0,w=T,f=B;break}te=te.sibling}if(!L)throw Error(n(189))}}if(f.alternate!==w)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?i:o}function y(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=y(i),o!==null)return o;i=i.sibling}return null}var b=Object.assign,I=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),H=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function ze(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case K:return"Profiler";case D:return"StrictMode";case de:return"Suspense";case ee:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case H:return i.displayName||"Context";case W:return(i._context.displayName||"Context")+".Consumer";case re:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return o=i.displayName||null,o!==null?o:ze(i.type)||"Memo";case Q:o=i._payload,i=i._init;try{return ze(i(o))}catch{}}return null}var ve=Array.isArray,me=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe={pending:!1,data:null,method:null,action:null},Ee=[],$e=-1;function ge(i){return{current:i}}function X(i){0>$e||(i.current=Ee[$e],Ee[$e]=null,$e--)}function ce(i,o){$e++,Ee[$e]=i.current,i.current=o}var le=ge(null),ae=ge(null),xe=ge(null),Xe=ge(null);function Se(i,o){switch(ce(xe,o),ce(ae,i),ce(le,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?oE(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=oE(o),i=lE(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}X(le),ce(le,i)}function Ce(){X(le),X(ae),X(xe)}function Ue(i){i.memoizedState!==null&&ce(Xe,i);var o=le.current,f=lE(o,i.type);o!==f&&(ce(ae,i),ce(le,f))}function xt(i){ae.current===i&&(X(le),X(ae)),Xe.current===i&&(X(Xe),tu._currentValue=Pe)}var he,_t;function Rt(i){if(he===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);he=o&&o[1]||"",_t=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+i+_t}var Ut=!1;function Ie(i,o){if(!i||Ut)return"";Ut=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(o){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(et){var We=et}Reflect.construct(i,[],ot)}else{try{ot.call()}catch(et){We=et}i.call(ot.prototype)}}else{try{throw Error()}catch(et){We=et}(ot=i())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(et){if(et&&We&&typeof et.stack=="string")return[et.stack,We.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=w.DetermineComponentFrameRoot(),L=T[0],te=T[1];if(L&&te){var Be=L.split(`
`),Ve=te.split(`
`);for(B=w=0;w<Be.length&&!Be[w].includes("DetermineComponentFrameRoot");)w++;for(;B<Ve.length&&!Ve[B].includes("DetermineComponentFrameRoot");)B++;if(w===Be.length||B===Ve.length)for(w=Be.length-1,B=Ve.length-1;1<=w&&0<=B&&Be[w]!==Ve[B];)B--;for(;1<=w&&0<=B;w--,B--)if(Be[w]!==Ve[B]){if(w!==1||B!==1)do if(w--,B--,0>B||Be[w]!==Ve[B]){var it=`
`+Be[w].replace(" at new "," at ");return i.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",i.displayName)),it}while(1<=w&&0<=B);break}}}finally{Ut=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?Rt(f):""}function Re(i,o){switch(i.tag){case 26:case 27:case 5:return Rt(i.type);case 16:return Rt("Lazy");case 13:return i.child!==o&&o!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return Ie(i.type,!1);case 11:return Ie(i.type.render,!1);case 1:return Ie(i.type,!0);case 31:return Rt("Activity");default:return""}}function ht(i){try{var o="",f=null;do o+=Re(i,f),f=i,i=i.return;while(i);return o}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var Et=Object.prototype.hasOwnProperty,Ar=e.unstable_scheduleCallback,Ct=e.unstable_cancelCallback,wn=e.unstable_shouldYield,ln=e.unstable_requestPaint,je=e.unstable_now,Tt=e.unstable_getCurrentPriorityLevel,Bt=e.unstable_ImmediatePriority,Xt=e.unstable_UserBlockingPriority,or=e.unstable_NormalPriority,fr=e.unstable_LowPriority,Kt=e.unstable_IdlePriority,at=e.log,Fe=e.unstable_setDisableYieldValue,Je=null,ye=null;function nt(i){if(typeof at=="function"&&Fe(i),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(Je,i)}catch{}}var st=Math.clz32?Math.clz32:ma,It=Math.log,Kr=Math.LN2;function ma(i){return i>>>=0,i===0?32:31-(It(i)/Kr|0)|0}var Ka=256,qt=262144,Jn=4194304;function Qr(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Zn(i,o,f){var w=i.pendingLanes;if(w===0)return 0;var B=0,T=i.suspendedLanes,L=i.pingedLanes;i=i.warmLanes;var te=w&134217727;return te!==0?(w=te&~T,w!==0?B=Qr(w):(L&=te,L!==0?B=Qr(L):f||(f=te&~i,f!==0&&(B=Qr(f))))):(te=w&~T,te!==0?B=Qr(te):L!==0?B=Qr(L):f||(f=w&~i,f!==0&&(B=Qr(f)))),B===0?0:o!==0&&o!==B&&(o&T)===0&&(T=B&-B,f=o&-o,T>=f||T===32&&(f&4194048)!==0)?o:B}function dn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function us(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vn(){var i=Jn;return Jn<<=1,(Jn&62914560)===0&&(Jn=4194304),i}function wa(i){for(var o=[],f=0;31>f;f++)o.push(i);return o}function li(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Hr(i,o,f,w,B,T){var L=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var te=i.entanglements,Be=i.expirationTimes,Ve=i.hiddenUpdates;for(f=L&~f;0<f;){var it=31-st(f),ot=1<<it;te[it]=0,Be[it]=-1;var We=Ve[it];if(We!==null)for(Ve[it]=null,it=0;it<We.length;it++){var et=We[it];et!==null&&(et.lane&=-536870913)}f&=~ot}w!==0&&mA(i,w,0),T!==0&&B===0&&i.tag!==0&&(i.suspendedLanes|=T&~(L&~o))}function mA(i,o,f){i.pendingLanes|=o,i.suspendedLanes&=~o;var w=31-st(o);i.entangledLanes|=o,i.entanglements[w]=i.entanglements[w]|1073741824|f&261930}function $n(i,o){var f=i.entangledLanes|=o;for(i=i.entanglements;f;){var w=31-st(f),B=1<<w;B&o|i[w]&o&&(i[w]|=o),f&=~B}}function Ci(i,o){var f=o&-o;return f=(f&42)!==0?1:Fn(f),(f&(i.suspendedLanes|o))!==0?0:f}function Fn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ci(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function J(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:RE(i.type))}function ne(i,o){var f=oe.p;try{return oe.p=i,o()}finally{oe.p=f}}var se=Math.random().toString(36).slice(2),Ae="__reactFiber$"+se,ue="__reactProps$"+se,we="__reactContainer$"+se,Qe="__reactEvents$"+se,tt="__reactListeners$"+se,ke="__reactHandles$"+se,Ge="__reactResources$"+se,Ke="__reactMarker$"+se;function lt(i){delete i[Ae],delete i[ue],delete i[Qe],delete i[tt],delete i[ke]}function ft(i){var o=i[Ae];if(o)return o;for(var f=i.parentNode;f;){if(o=f[we]||f[Ae]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(i=xE(i);i!==null;){if(f=i[Ae])return f;i=xE(i)}return o}i=f,f=i.parentNode}return null}function dt(i){if(i=i[Ae]||i[we]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function pt(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function vt(i){var o=i[Ge];return o||(o=i[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Nt(i){i[Ke]=!0}var rt=new Set,Tr={};function Ht(i,o){bn(i,o),bn(i+"Capture",o)}function bn(i,o){for(Tr[i]=o,i=0;i<o.length;i++)rt.add(o[i])}var Os=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lr={},er={};function rr(i){return Et.call(er,i)?!0:Et.call(lr,i)?!1:Os.test(i)?er[i]=!0:(lr[i]=!0,!1)}function Rn(i,o,f){if(rr(o))if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var w=o.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+f)}}function fs(i,o,f){if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+f)}}function za(i,o,f,w){if(w===null)i.removeAttribute(f);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(o,f,""+w)}}function Br(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wi(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function B0(i,o,f){var w=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var B=w.get,T=w.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return B.call(this)},set:function(L){f=""+L,T.call(this,L)}}),Object.defineProperty(i,o,{enumerable:w.enumerable}),{getValue:function(){return f},setValue:function(L){f=""+L},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Jr(i){if(!i._valueTracker){var o=Wi(i)?"checked":"value";i._valueTracker=B0(i,o,""+i[o])}}function Bi(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var f=o.getValue(),w="";return i&&(w=Wi(i)?i.checked?"true":"false":i.value),i=w,i!==f?(o.setValue(i),!0):!1}function io(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Wa=/[\n"\\]/g;function Yt(i){return i.replace(Wa,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function gn(i,o,f,w,B,T,L,te){i.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.type=L:i.removeAttribute("type"),o!=null?L==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Br(o)):i.value!==""+Br(o)&&(i.value=""+Br(o)):L!=="submit"&&L!=="reset"||i.removeAttribute("value"),o!=null?fe(i,L,Br(o)):f!=null?fe(i,L,Br(f)):w!=null&&i.removeAttribute("value"),B==null&&T!=null&&(i.defaultChecked=!!T),B!=null&&(i.checked=B&&typeof B!="function"&&typeof B!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?i.name=""+Br(te):i.removeAttribute("name")}function Le(i,o,f,w,B,T,L,te){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.type=T),o!=null||f!=null){if(!(T!=="submit"&&T!=="reset"||o!=null)){Jr(i);return}f=f!=null?""+Br(f):"",o=o!=null?""+Br(o):f,te||o===i.value||(i.value=o),i.defaultValue=o}w=w??B,w=typeof w!="function"&&typeof w!="symbol"&&!!w,i.checked=te?i.checked:!!w,i.defaultChecked=!!w,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(i.name=L),Jr(i)}function fe(i,o,f){o==="number"&&io(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function yt(i,o,f,w){if(i=i.options,o){o={};for(var B=0;B<f.length;B++)o["$"+f[B]]=!0;for(f=0;f<i.length;f++)B=o.hasOwnProperty("$"+i[f].value),i[f].selected!==B&&(i[f].selected=B),B&&w&&(i[f].defaultSelected=!0)}else{for(f=""+Br(f),o=null,B=0;B<i.length;B++){if(i[B].value===f){i[B].selected=!0,w&&(i[B].defaultSelected=!0);return}o!==null||i[B].disabled||(o=i[B])}o!==null&&(o.selected=!0)}}function cn(i,o,f){if(o!=null&&(o=""+Br(o),o!==i.value&&(i.value=o),f==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=f!=null?""+Br(f):""}function Pn(i,o,f,w){if(o==null){if(w!=null){if(f!=null)throw Error(n(92));if(ve(w)){if(1<w.length)throw Error(n(93));w=w[0]}f=w}f==null&&(f=""),o=f}f=Br(o),i.defaultValue=f,w=i.textContent,w===f&&w!==""&&w!==null&&(i.value=w),Jr(i)}function bi(i,o){if(o){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=o;return}}i.textContent=o}var Al=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function va(i,o,f){var w=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?w?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":w?i.setProperty(o,f):typeof f!="number"||f===0||Al.has(o)?o==="float"?i.cssFloat=f:i[o]=(""+f).trim():i[o]=f+"px"}function Qt(i,o,f){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,f!=null){for(var w in f)!f.hasOwnProperty(w)||o!=null&&o.hasOwnProperty(w)||(w.indexOf("--")===0?i.setProperty(w,""):w==="float"?i.cssFloat="":i[w]="");for(var B in o)w=o[B],o.hasOwnProperty(B)&&f[B]!==w&&va(i,B,w)}else for(var T in o)o.hasOwnProperty(T)&&va(i,T,o[T])}function zr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _i(i){return b0.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function _n(){}var Zs=null;function so(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zr=null,ca=null;function Xi(i){var o=dt(i);if(o&&(i=o.stateNode)){var f=i[ue]||null;e:switch(i=o.stateNode,o.type){case"input":if(gn(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Yt(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var w=f[o];if(w!==i&&w.form===i.form){var B=w[ue]||null;if(!B)throw Error(n(90));gn(w,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(o=0;o<f.length;o++)w=f[o],w.form===i.form&&Bi(w)}break e;case"textarea":cn(i,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&yt(i,!!f.multiple,o,!1)}}}var Pt=!1;function Ac(i,o,f){if(Pt)return i(o,f);Pt=!0;try{var w=i(o);return w}finally{if(Pt=!1,(Zr!==null||ca!==null)&&(ph(),Zr&&(o=Zr,i=ca,ca=Zr=null,Xi(o),i)))for(o=0;o<i.length;o++)Xi(i[o])}}function Vt(i,o){var f=i.stateNode;if(f===null)return null;var w=f[ue]||null;if(w===null)return null;f=w[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(i=i.type,w=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!w;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(n(231,o,typeof f));return f}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ol=!1;if(Wr)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){ol=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{ol=!1}var Xa=null,Ii=null,hs=null;function Si(){if(hs)return hs;var i,o=Ii,f=o.length,w,B="value"in Xa?Xa.value:Xa.textContent,T=B.length;for(i=0;i<f&&o[i]===B[i];i++);var L=f-i;for(w=1;w<=L&&o[f-w]===B[T-w];w++);return hs=B.slice(i,1<w?1-w:void 0)}function Yi(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ni(){return!0}function $r(){return!1}function Dn(i){function o(f,w,B,T,L){this._reactName=f,this._targetInst=B,this.type=w,this.nativeEvent=T,this.target=L,this.currentTarget=null;for(var te in i)i.hasOwnProperty(te)&&(f=i[te],this[te]=f?f(T):T[te]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ni:$r,this.isPropagationStopped=$r,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),o}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},On=Dn(ui),Us=b({},ui,{view:0,detail:0}),ll=Dn(Us),ks,Ao,Ta,wA=b({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ta&&(Ta&&i.type==="mousemove"?(ks=i.screenX-Ta.screenX,Ao=i.screenY-Ta.screenY):Ao=ks=0,Ta=i),ks)},movementY:function(i){return"movementY"in i?i.movementY:Ao}}),Fr=Dn(wA),$s=b({},wA,{dataTransfer:0}),vA=Dn($s),Fi=b({},Us,{relatedTarget:0}),eA=Dn(Fi),Ye=b({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Zt=Dn(Ye),Vn=b({},ui,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yA=Dn(Vn),tA=b({},ui,{data:0}),cl=Dn(tA),oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ul={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=EA[i])?!!o[i]:!1}function ds(){return yn}var an=b({},Us,{key:function(i){if(i.key){var o=oc[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Yi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ul[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(i){return i.type==="keypress"?Yi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Yi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),CA=Dn(an),Ia=b({},wA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rr=Dn(Ia),jt=b({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),lc=Dn(jt),Pr=b({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ri=Dn(Pr),Un=b({},wA,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),cc=Dn(Un),fi=b({},ui,{newState:0,oldState:0}),gs=Dn(fi),C=[9,13,27,32],O=Wr&&"CompositionEvent"in window,j=null;Wr&&"documentMode"in document&&(j=document.documentMode);var ie=Wr&&"TextEvent"in window&&!j,Me=Wr&&(!O||j&&8<j&&11>=j),Ze=" ",bt=!1;function Ur(i,o){switch(i){case"keyup":return C.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function un(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var hr=!1;function sn(i,o){switch(i){case"compositionend":return un(o);case"keypress":return o.which!==32?null:(bt=!0,Ze);case"textInput":return i=o.data,i===Ze&&bt?null:i;default:return null}}function Tn(i,o){if(hr)return i==="compositionend"||!O&&Ur(i,o)?(i=Si(),hs=Ii=Xa=null,hr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Me&&o.locale!=="ko"?null:o.data;default:return null}}var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sa(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Gn[i.type]:o==="textarea"}function ya(i,o,f,w){Zr?ca?ca.push(w):ca=[w]:Zr=w,o=Bh(o,"onChange"),0<o.length&&(f=new On("onChange","change",null,f,w),i.push({event:f,listeners:o}))}var Ms=null,BA=null;function dg(i){rE(i,0)}function fl(i){var o=pt(i);if(Bi(o))return i}function qi(i,o){if(i==="change")return o}var Uf=!1;if(Wr){var hl;if(Wr){var bA="oninput"in document;if(!bA){var wr=document.createElement("div");wr.setAttribute("oninput","return;"),bA=typeof wr.oninput=="function"}hl=bA}else hl=!1;Uf=hl&&(!document.documentMode||9<document.documentMode)}function dl(){Ms&&(Ms.detachEvent("onpropertychange",P),BA=Ms=null)}function P(i){if(i.propertyName==="value"&&fl(BA)){var o=[];ya(o,BA,i,so(i)),Ac(dg,o)}}function s(i,o,f){i==="focusin"?(dl(),Ms=o,BA=f,Ms.attachEvent("onpropertychange",P)):i==="focusout"&&dl()}function l(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fl(BA)}function u(i,o){if(i==="click")return fl(o)}function g(i,o){if(i==="input"||i==="change")return fl(o)}function x(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var v=typeof Object.is=="function"?Object.is:x;function E(i,o){if(v(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var f=Object.keys(i),w=Object.keys(o);if(f.length!==w.length)return!1;for(w=0;w<f.length;w++){var B=f[w];if(!Et.call(o,B)||!v(i[B],o[B]))return!1}return!0}function _(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function S(i,o){var f=_(i);i=0;for(var w;f;){if(f.nodeType===3){if(w=i+f.textContent.length,i<=o&&w>=o)return{node:f,offset:o-i};i=w}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=_(f)}}function M(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?M(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function G(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=io(i.document);o instanceof i.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)i=o.contentWindow;else break;o=io(i.document)}return o}function Z(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var pe=Wr&&"documentMode"in document&&11>=document.documentMode,be=null,Te=null,Oe=null,qe=!1;function wt(i,o,f){var w=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;qe||be==null||be!==io(w)||(w=be,"selectionStart"in w&&Z(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Oe&&E(Oe,w)||(Oe=w,w=Bh(Te,"onSelect"),0<w.length&&(o=new On("onSelect","select",null,o,f),i.push({event:o,listeners:w}),o.target=be)))}function mt(i,o){var f={};return f[i.toLowerCase()]=o.toLowerCase(),f["Webkit"+i]="webkit"+o,f["Moz"+i]="moz"+o,f}var ut={animationend:mt("Animation","AnimationEnd"),animationiteration:mt("Animation","AnimationIteration"),animationstart:mt("Animation","AnimationStart"),transitionrun:mt("Transition","TransitionRun"),transitionstart:mt("Transition","TransitionStart"),transitioncancel:mt("Transition","TransitionCancel"),transitionend:mt("Transition","TransitionEnd")},gr={},tr={};Wr&&(tr=document.createElement("div").style,"AnimationEvent"in window||(delete ut.animationend.animation,delete ut.animationiteration.animation,delete ut.animationstart.animation),"TransitionEvent"in window||delete ut.transitionend.transition);function kn(i){if(gr[i])return gr[i];if(!ut[i])return i;var o=ut[i],f;for(f in o)if(o.hasOwnProperty(f)&&f in tr)return gr[i]=o[f];return i}var Di=kn("animationend"),Na=kn("animationiteration"),Vr=kn("animationstart"),ua=kn("transitionrun"),hi=kn("transitionstart"),oo=kn("transitioncancel"),_A=kn("transitionend"),kf=new Map,_0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_0.push("scrollEnd");function Ls(i,o){kf.set(i,o),Ht(o,[i])}var Mf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xs=[],uc=0,gg=0;function Lf(){for(var i=uc,o=gg=uc=0;o<i;){var f=xs[o];xs[o++]=null;var w=xs[o];xs[o++]=null;var B=xs[o];xs[o++]=null;var T=xs[o];if(xs[o++]=null,w!==null&&B!==null){var L=w.pending;L===null?B.next=B:(B.next=L.next,L.next=B),w.pending=B}T!==0&&Mw(f,B,T)}}function Qf(i,o,f,w){xs[uc++]=i,xs[uc++]=o,xs[uc++]=f,xs[uc++]=w,gg|=w,i.lanes|=w,i=i.alternate,i!==null&&(i.lanes|=w)}function xg(i,o,f,w){return Qf(i,o,f,w),jf(i)}function gl(i,o){return Qf(i,null,null,o),jf(i)}function Mw(i,o,f){i.lanes|=f;var w=i.alternate;w!==null&&(w.lanes|=f);for(var B=!1,T=i.return;T!==null;)T.childLanes|=f,w=T.alternate,w!==null&&(w.childLanes|=f),T.tag===22&&(i=T.stateNode,i===null||i._visibility&1||(B=!0)),i=T,T=T.return;return i.tag===3?(T=i.stateNode,B&&o!==null&&(B=31-st(f),i=T.hiddenUpdates,w=i[B],w===null?i[B]=[o]:w.push(o),o.lane=f|536870912),T):null}function jf(i){if(50<X0)throw X0=0,bx=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var fc={};function j8(i,o,f,w){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(i,o,f,w){return new j8(i,o,f,w)}function pg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function TA(i,o){var f=i.alternate;return f===null?(f=Ji(i.tag,o,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=o,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,o=i.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function Lw(i,o){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,o=f.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Hf(i,o,f,w,B,T){var L=0;if(w=i,typeof i=="function")pg(i)&&(L=1);else if(typeof i=="string")L=KN(i,f,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=Ji(31,f,o,B),i.elementType=k,i.lanes=T,i;case F:return xl(f.children,B,T,o);case D:L=8,B|=24;break;case K:return i=Ji(12,f,o,B|2),i.elementType=K,i.lanes=T,i;case de:return i=Ji(13,f,o,B),i.elementType=de,i.lanes=T,i;case ee:return i=Ji(19,f,o,B),i.elementType=ee,i.lanes=T,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:L=10;break e;case W:L=9;break e;case re:L=11;break e;case U:L=14;break e;case Q:L=16,w=null;break e}L=29,f=Error(n(130,i===null?"null":typeof i,"")),w=null}return o=Ji(L,f,o,B),o.elementType=i,o.type=w,o.lanes=T,o}function xl(i,o,f,w){return i=Ji(7,i,w,o),i.lanes=f,i}function mg(i,o,f){return i=Ji(6,i,null,o),i.lanes=f,i}function Qw(i){var o=Ji(18,null,null,0);return o.stateNode=i,o}function wg(i,o,f){return o=Ji(4,i.children!==null?i.children:[],i.key,o),o.lanes=f,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var jw=new WeakMap;function ps(i,o){if(typeof i=="object"&&i!==null){var f=jw.get(i);return f!==void 0?f:(o={value:i,source:o,stack:ht(o)},jw.set(i,o),o)}return{value:i,source:o,stack:ht(o)}}var hc=[],dc=0,Pf=null,T0=0,ms=[],ws=0,lo=null,rA=1,nA="";function IA(i,o){hc[dc++]=T0,hc[dc++]=Pf,Pf=i,T0=o}function Hw(i,o,f){ms[ws++]=rA,ms[ws++]=nA,ms[ws++]=lo,lo=i;var w=rA;i=nA;var B=32-st(w)-1;w&=~(1<<B),f+=1;var T=32-st(o)+B;if(30<T){var L=B-B%5;T=(w&(1<<L)-1).toString(32),w>>=L,B-=L,rA=1<<32-st(o)+B|f<<B|w,nA=T+i}else rA=1<<T|f<<B|w,nA=i}function vg(i){i.return!==null&&(IA(i,1),Hw(i,1,0))}function yg(i){for(;i===Pf;)Pf=hc[--dc],hc[dc]=null,T0=hc[--dc],hc[dc]=null;for(;i===lo;)lo=ms[--ws],ms[ws]=null,nA=ms[--ws],ms[ws]=null,rA=ms[--ws],ms[ws]=null}function Pw(i,o){ms[ws++]=rA,ms[ws++]=nA,ms[ws++]=lo,rA=o.id,nA=o.overflow,lo=i}var Fa=null,xn=null,br=!1,co=null,vs=!1,Eg=Error(n(519));function uo(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw I0(ps(o,i)),Eg}function Vw(i){var o=i.stateNode,f=i.type,w=i.memoizedProps;switch(o[Ae]=i,o[ue]=w,f){case"dialog":mr("cancel",o),mr("close",o);break;case"iframe":case"object":case"embed":mr("load",o);break;case"video":case"audio":for(f=0;f<q0.length;f++)mr(q0[f],o);break;case"source":mr("error",o);break;case"img":case"image":case"link":mr("error",o),mr("load",o);break;case"details":mr("toggle",o);break;case"input":mr("invalid",o),Le(o,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":mr("invalid",o);break;case"textarea":mr("invalid",o),Pn(o,w.value,w.defaultValue,w.children)}f=w.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||w.suppressHydrationWarning===!0||sE(o.textContent,f)?(w.popover!=null&&(mr("beforetoggle",o),mr("toggle",o)),w.onScroll!=null&&mr("scroll",o),w.onScrollEnd!=null&&mr("scrollend",o),w.onClick!=null&&(o.onclick=_n),o=!0):o=!1,o||uo(i,!0)}function Gw(i){for(Fa=i.return;Fa;)switch(Fa.tag){case 5:case 31:case 13:vs=!1;return;case 27:case 3:vs=!0;return;default:Fa=Fa.return}}function gc(i){if(i!==Fa)return!1;if(!br)return Gw(i),br=!0,!1;var o=i.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||jx(i.type,i.memoizedProps)),f=!f),f&&xn&&uo(i),Gw(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));xn=gE(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));xn=gE(i)}else o===27?(o=xn,_o(i.type)?(i=Kx,Kx=null,xn=i):xn=o):xn=Fa?Es(i.stateNode.nextSibling):null;return!0}function pl(){xn=Fa=null,br=!1}function Cg(){var i=co;return i!==null&&(Mi===null?Mi=i:Mi.push.apply(Mi,i),co=null),i}function I0(i){co===null?co=[i]:co.push(i)}var Bg=ge(null),ml=null,SA=null;function fo(i,o,f){ce(Bg,o._currentValue),o._currentValue=f}function NA(i){i._currentValue=Bg.current,X(Bg)}function bg(i,o,f){for(;i!==null;){var w=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,w!==null&&(w.childLanes|=o)):w!==null&&(w.childLanes&o)!==o&&(w.childLanes|=o),i===f)break;i=i.return}}function _g(i,o,f,w){var B=i.child;for(B!==null&&(B.return=i);B!==null;){var T=B.dependencies;if(T!==null){var L=B.child;T=T.firstContext;e:for(;T!==null;){var te=T;T=B;for(var Be=0;Be<o.length;Be++)if(te.context===o[Be]){T.lanes|=f,te=T.alternate,te!==null&&(te.lanes|=f),bg(T.return,f,i),w||(L=null);break e}T=te.next}}else if(B.tag===18){if(L=B.return,L===null)throw Error(n(341));L.lanes|=f,T=L.alternate,T!==null&&(T.lanes|=f),bg(L,f,i),L=null}else L=B.child;if(L!==null)L.return=B;else for(L=B;L!==null;){if(L===i){L=null;break}if(B=L.sibling,B!==null){B.return=L.return,L=B;break}L=L.return}B=L}}function xc(i,o,f,w){i=null;for(var B=o,T=!1;B!==null;){if(!T){if((B.flags&524288)!==0)T=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var L=B.alternate;if(L===null)throw Error(n(387));if(L=L.memoizedProps,L!==null){var te=B.type;v(B.pendingProps.value,L.value)||(i!==null?i.push(te):i=[te])}}else if(B===Xe.current){if(L=B.alternate,L===null)throw Error(n(387));L.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(i!==null?i.push(tu):i=[tu])}B=B.return}i!==null&&_g(o,i,f,w),o.flags|=262144}function Vf(i){for(i=i.firstContext;i!==null;){if(!v(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function wl(i){ml=i,SA=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ra(i){return Kw(ml,i)}function Gf(i,o){return ml===null&&wl(i),Kw(i,o)}function Kw(i,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},SA===null){if(i===null)throw Error(n(308));SA=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else SA=SA.next=o;return f}var H8=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(f,w){i.push(w)}};this.abort=function(){o.aborted=!0,i.forEach(function(f){return f()})}},P8=e.unstable_scheduleCallback,V8=e.unstable_NormalPriority,ea={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tg(){return{controller:new H8,data:new Map,refCount:0}}function S0(i){i.refCount--,i.refCount===0&&P8(V8,function(){i.controller.abort()})}var N0=null,Ig=0,pc=0,mc=null;function G8(i,o){if(N0===null){var f=N0=[];Ig=0,pc=Fx(),mc={status:"pending",value:void 0,then:function(w){f.push(w)}}}return Ig++,o.then(zw,zw),o}function zw(){if(--Ig===0&&N0!==null){mc!==null&&(mc.status="fulfilled");var i=N0;N0=null,pc=0,mc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function K8(i,o){var f=[],w={status:"pending",value:null,reason:null,then:function(B){f.push(B)}};return i.then(function(){w.status="fulfilled",w.value=o;for(var B=0;B<f.length;B++)(0,f[B])(o)},function(B){for(w.status="rejected",w.reason=B,B=0;B<f.length;B++)(0,f[B])(void 0)}),w}var Ww=me.S;me.S=function(i,o){Ny=je(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&G8(i,o),Ww!==null&&Ww(i,o)};var vl=ge(null);function Sg(){var i=vl.current;return i!==null?i:An.pooledCache}function Kf(i,o){o===null?ce(vl,vl.current):ce(vl,o.pool)}function Xw(){var i=Sg();return i===null?null:{parent:ea._currentValue,pool:i}}var wc=Error(n(460)),Ng=Error(n(474)),zf=Error(n(542)),Wf={then:function(){}};function Yw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qw(i,o,f){switch(f=i[f],f===void 0?i.push(o):f!==o&&(o.then(_n,_n),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Zw(i),i;default:if(typeof o.status=="string")o.then(_n,_n);else{if(i=An,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(w){if(o.status==="pending"){var B=o;B.status="fulfilled",B.value=w}},function(w){if(o.status==="pending"){var B=o;B.status="rejected",B.reason=w}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Zw(i),i}throw El=o,wc}}function yl(i){try{var o=i._init;return o(i._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(El=f,wc):f}}var El=null;function Jw(){if(El===null)throw Error(n(459));var i=El;return El=null,i}function Zw(i){if(i===wc||i===zf)throw Error(n(483))}var vc=null,F0=0;function Xf(i){var o=F0;return F0+=1,vc===null&&(vc=[]),qw(vc,i,o)}function R0(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Yf(i,o){throw o.$$typeof===I?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function $w(i){function o(De,Ne){if(i){var He=De.deletions;He===null?(De.deletions=[Ne],De.flags|=16):He.push(Ne)}}function f(De,Ne){if(!i)return null;for(;Ne!==null;)o(De,Ne),Ne=Ne.sibling;return null}function w(De){for(var Ne=new Map;De!==null;)De.key!==null?Ne.set(De.key,De):Ne.set(De.index,De),De=De.sibling;return Ne}function B(De,Ne){return De=TA(De,Ne),De.index=0,De.sibling=null,De}function T(De,Ne,He){return De.index=He,i?(He=De.alternate,He!==null?(He=He.index,He<Ne?(De.flags|=67108866,Ne):He):(De.flags|=67108866,Ne)):(De.flags|=1048576,Ne)}function L(De){return i&&De.alternate===null&&(De.flags|=67108866),De}function te(De,Ne,He,At){return Ne===null||Ne.tag!==6?(Ne=mg(He,De.mode,At),Ne.return=De,Ne):(Ne=B(Ne,He),Ne.return=De,Ne)}function Be(De,Ne,He,At){var Gt=He.type;return Gt===F?it(De,Ne,He.props.children,At,He.key):Ne!==null&&(Ne.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===Q&&yl(Gt)===Ne.type)?(Ne=B(Ne,He.props),R0(Ne,He),Ne.return=De,Ne):(Ne=Hf(He.type,He.key,He.props,null,De.mode,At),R0(Ne,He),Ne.return=De,Ne)}function Ve(De,Ne,He,At){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==He.containerInfo||Ne.stateNode.implementation!==He.implementation?(Ne=wg(He,De.mode,At),Ne.return=De,Ne):(Ne=B(Ne,He.children||[]),Ne.return=De,Ne)}function it(De,Ne,He,At,Gt){return Ne===null||Ne.tag!==7?(Ne=xl(He,De.mode,At,Gt),Ne.return=De,Ne):(Ne=B(Ne,He),Ne.return=De,Ne)}function ot(De,Ne,He){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=mg(""+Ne,De.mode,He),Ne.return=De,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case N:return He=Hf(Ne.type,Ne.key,Ne.props,null,De.mode,He),R0(He,Ne),He.return=De,He;case R:return Ne=wg(Ne,De.mode,He),Ne.return=De,Ne;case Q:return Ne=yl(Ne),ot(De,Ne,He)}if(ve(Ne)||V(Ne))return Ne=xl(Ne,De.mode,He,null),Ne.return=De,Ne;if(typeof Ne.then=="function")return ot(De,Xf(Ne),He);if(Ne.$$typeof===H)return ot(De,Gf(De,Ne),He);Yf(De,Ne)}return null}function We(De,Ne,He,At){var Gt=Ne!==null?Ne.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Gt!==null?null:te(De,Ne,""+He,At);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case N:return He.key===Gt?Be(De,Ne,He,At):null;case R:return He.key===Gt?Ve(De,Ne,He,At):null;case Q:return He=yl(He),We(De,Ne,He,At)}if(ve(He)||V(He))return Gt!==null?null:it(De,Ne,He,At,null);if(typeof He.then=="function")return We(De,Ne,Xf(He),At);if(He.$$typeof===H)return We(De,Ne,Gf(De,He),At);Yf(De,He)}return null}function et(De,Ne,He,At,Gt){if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return De=De.get(He)||null,te(Ne,De,""+At,Gt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case N:return De=De.get(At.key===null?He:At.key)||null,Be(Ne,De,At,Gt);case R:return De=De.get(At.key===null?He:At.key)||null,Ve(Ne,De,At,Gt);case Q:return At=yl(At),et(De,Ne,He,At,Gt)}if(ve(At)||V(At))return De=De.get(He)||null,it(Ne,De,At,Gt,null);if(typeof At.then=="function")return et(De,Ne,He,Xf(At),Gt);if(At.$$typeof===H)return et(De,Ne,He,Gf(Ne,At),Gt);Yf(Ne,At)}return null}function kt(De,Ne,He,At){for(var Gt=null,kr=null,Lt=Ne,dr=Ne=0,yr=null;Lt!==null&&dr<He.length;dr++){Lt.index>dr?(yr=Lt,Lt=null):yr=Lt.sibling;var Mr=We(De,Lt,He[dr],At);if(Mr===null){Lt===null&&(Lt=yr);break}i&&Lt&&Mr.alternate===null&&o(De,Lt),Ne=T(Mr,Ne,dr),kr===null?Gt=Mr:kr.sibling=Mr,kr=Mr,Lt=yr}if(dr===He.length)return f(De,Lt),br&&IA(De,dr),Gt;if(Lt===null){for(;dr<He.length;dr++)Lt=ot(De,He[dr],At),Lt!==null&&(Ne=T(Lt,Ne,dr),kr===null?Gt=Lt:kr.sibling=Lt,kr=Lt);return br&&IA(De,dr),Gt}for(Lt=w(Lt);dr<He.length;dr++)yr=et(Lt,De,dr,He[dr],At),yr!==null&&(i&&yr.alternate!==null&&Lt.delete(yr.key===null?dr:yr.key),Ne=T(yr,Ne,dr),kr===null?Gt=yr:kr.sibling=yr,kr=yr);return i&&Lt.forEach(function(Fo){return o(De,Fo)}),br&&IA(De,dr),Gt}function Wt(De,Ne,He,At){if(He==null)throw Error(n(151));for(var Gt=null,kr=null,Lt=Ne,dr=Ne=0,yr=null,Mr=He.next();Lt!==null&&!Mr.done;dr++,Mr=He.next()){Lt.index>dr?(yr=Lt,Lt=null):yr=Lt.sibling;var Fo=We(De,Lt,Mr.value,At);if(Fo===null){Lt===null&&(Lt=yr);break}i&&Lt&&Fo.alternate===null&&o(De,Lt),Ne=T(Fo,Ne,dr),kr===null?Gt=Fo:kr.sibling=Fo,kr=Fo,Lt=yr}if(Mr.done)return f(De,Lt),br&&IA(De,dr),Gt;if(Lt===null){for(;!Mr.done;dr++,Mr=He.next())Mr=ot(De,Mr.value,At),Mr!==null&&(Ne=T(Mr,Ne,dr),kr===null?Gt=Mr:kr.sibling=Mr,kr=Mr);return br&&IA(De,dr),Gt}for(Lt=w(Lt);!Mr.done;dr++,Mr=He.next())Mr=et(Lt,De,dr,Mr.value,At),Mr!==null&&(i&&Mr.alternate!==null&&Lt.delete(Mr.key===null?dr:Mr.key),Ne=T(Mr,Ne,dr),kr===null?Gt=Mr:kr.sibling=Mr,kr=Mr);return i&&Lt.forEach(function(rF){return o(De,rF)}),br&&IA(De,dr),Gt}function rn(De,Ne,He,At){if(typeof He=="object"&&He!==null&&He.type===F&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case N:e:{for(var Gt=He.key;Ne!==null;){if(Ne.key===Gt){if(Gt=He.type,Gt===F){if(Ne.tag===7){f(De,Ne.sibling),At=B(Ne,He.props.children),At.return=De,De=At;break e}}else if(Ne.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===Q&&yl(Gt)===Ne.type){f(De,Ne.sibling),At=B(Ne,He.props),R0(At,He),At.return=De,De=At;break e}f(De,Ne);break}else o(De,Ne);Ne=Ne.sibling}He.type===F?(At=xl(He.props.children,De.mode,At,He.key),At.return=De,De=At):(At=Hf(He.type,He.key,He.props,null,De.mode,At),R0(At,He),At.return=De,De=At)}return L(De);case R:e:{for(Gt=He.key;Ne!==null;){if(Ne.key===Gt)if(Ne.tag===4&&Ne.stateNode.containerInfo===He.containerInfo&&Ne.stateNode.implementation===He.implementation){f(De,Ne.sibling),At=B(Ne,He.children||[]),At.return=De,De=At;break e}else{f(De,Ne);break}else o(De,Ne);Ne=Ne.sibling}At=wg(He,De.mode,At),At.return=De,De=At}return L(De);case Q:return He=yl(He),rn(De,Ne,He,At)}if(ve(He))return kt(De,Ne,He,At);if(V(He)){if(Gt=V(He),typeof Gt!="function")throw Error(n(150));return He=Gt.call(He),Wt(De,Ne,He,At)}if(typeof He.then=="function")return rn(De,Ne,Xf(He),At);if(He.$$typeof===H)return rn(De,Ne,Gf(De,He),At);Yf(De,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Ne!==null&&Ne.tag===6?(f(De,Ne.sibling),At=B(Ne,He),At.return=De,De=At):(f(De,Ne),At=mg(He,De.mode,At),At.return=De,De=At),L(De)):f(De,Ne)}return function(De,Ne,He,At){try{F0=0;var Gt=rn(De,Ne,He,At);return vc=null,Gt}catch(Lt){if(Lt===wc||Lt===zf)throw Lt;var kr=Ji(29,Lt,null,De.mode);return kr.lanes=At,kr.return=De,kr}finally{}}}var Cl=$w(!0),ev=$w(!1),ho=!1;function Fg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function go(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xo(i,o,f){var w=i.updateQueue;if(w===null)return null;if(w=w.shared,(jr&2)!==0){var B=w.pending;return B===null?o.next=o:(o.next=B.next,B.next=o),w.pending=o,o=jf(i),Mw(i,null,f),o}return Qf(i,w,o,f),jf(i)}function D0(i,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var w=o.lanes;w&=i.pendingLanes,f|=w,o.lanes=f,$n(i,f)}}function Dg(i,o){var f=i.updateQueue,w=i.alternate;if(w!==null&&(w=w.updateQueue,f===w)){var B=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var L={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};T===null?B=T=L:T=T.next=L,f=f.next}while(f!==null);T===null?B=T=o:T=T.next=o}else B=T=o;f={baseState:w.baseState,firstBaseUpdate:B,lastBaseUpdate:T,shared:w.shared,callbacks:w.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=o:i.next=o,f.lastBaseUpdate=o}var Og=!1;function O0(){if(Og){var i=mc;if(i!==null)throw i}}function U0(i,o,f,w){Og=!1;var B=i.updateQueue;ho=!1;var T=B.firstBaseUpdate,L=B.lastBaseUpdate,te=B.shared.pending;if(te!==null){B.shared.pending=null;var Be=te,Ve=Be.next;Be.next=null,L===null?T=Ve:L.next=Ve,L=Be;var it=i.alternate;it!==null&&(it=it.updateQueue,te=it.lastBaseUpdate,te!==L&&(te===null?it.firstBaseUpdate=Ve:te.next=Ve,it.lastBaseUpdate=Be))}if(T!==null){var ot=B.baseState;L=0,it=Ve=Be=null,te=T;do{var We=te.lane&-536870913,et=We!==te.lane;if(et?(vr&We)===We:(w&We)===We){We!==0&&We===pc&&(Og=!0),it!==null&&(it=it.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var kt=i,Wt=te;We=o;var rn=f;switch(Wt.tag){case 1:if(kt=Wt.payload,typeof kt=="function"){ot=kt.call(rn,ot,We);break e}ot=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Wt.payload,We=typeof kt=="function"?kt.call(rn,ot,We):kt,We==null)break e;ot=b({},ot,We);break e;case 2:ho=!0}}We=te.callback,We!==null&&(i.flags|=64,et&&(i.flags|=8192),et=B.callbacks,et===null?B.callbacks=[We]:et.push(We))}else et={lane:We,tag:te.tag,payload:te.payload,callback:te.callback,next:null},it===null?(Ve=it=et,Be=ot):it=it.next=et,L|=We;if(te=te.next,te===null){if(te=B.shared.pending,te===null)break;et=te,te=et.next,et.next=null,B.lastBaseUpdate=et,B.shared.pending=null}}while(!0);it===null&&(Be=ot),B.baseState=Be,B.firstBaseUpdate=Ve,B.lastBaseUpdate=it,T===null&&(B.shared.lanes=0),yo|=L,i.lanes=L,i.memoizedState=ot}}function tv(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function rv(i,o){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)tv(f[i],o)}var yc=ge(null),qf=ge(0);function nv(i,o){i=QA,ce(qf,i),ce(yc,o),QA=i|o.baseLanes}function Ug(){ce(qf,QA),ce(yc,yc.current)}function kg(){QA=qf.current,X(yc),X(qf)}var Zi=ge(null),ys=null;function po(i){var o=i.alternate;ce(Kn,Kn.current&1),ce(Zi,i),ys===null&&(o===null||yc.current!==null||o.memoizedState!==null)&&(ys=i)}function Mg(i){ce(Kn,Kn.current),ce(Zi,i),ys===null&&(ys=i)}function av(i){i.tag===22?(ce(Kn,Kn.current),ce(Zi,i),ys===null&&(ys=i)):mo()}function mo(){ce(Kn,Kn.current),ce(Zi,Zi.current)}function $i(i){X(Zi),ys===i&&(ys=null),X(Kn)}var Kn=ge(0);function Jf(i){for(var o=i;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Vx(f)||Gx(f)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var FA=0,cr=null,en=null,ta=null,Zf=!1,Ec=!1,Bl=!1,$f=0,k0=0,Cc=null,z8=0;function Mn(){throw Error(n(321))}function Lg(i,o){if(o===null)return!1;for(var f=0;f<o.length&&f<i.length;f++)if(!v(i[f],o[f]))return!1;return!0}function Qg(i,o,f,w,B,T){return FA=T,cr=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,me.H=i===null||i.memoizedState===null?Hv:ex,Bl=!1,T=f(w,B),Bl=!1,Ec&&(T=sv(o,f,w,B)),iv(i),T}function iv(i){me.H=Q0;var o=en!==null&&en.next!==null;if(FA=0,ta=en=cr=null,Zf=!1,k0=0,Cc=null,o)throw Error(n(300));i===null||ra||(i=i.dependencies,i!==null&&Vf(i)&&(ra=!0))}function sv(i,o,f,w){cr=i;var B=0;do{if(Ec&&(Cc=null),k0=0,Ec=!1,25<=B)throw Error(n(301));if(B+=1,ta=en=null,i.updateQueue!=null){var T=i.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}me.H=Pv,T=o(f,w)}while(Ec);return T}function W8(){var i=me.H,o=i.useState()[0];return o=typeof o.then=="function"?M0(o):o,i=i.useState()[0],(en!==null?en.memoizedState:null)!==i&&(cr.flags|=1024),o}function jg(){var i=$f!==0;return $f=0,i}function Hg(i,o,f){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f}function Pg(i){if(Zf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Zf=!1}FA=0,ta=en=cr=null,Ec=!1,k0=$f=0,Cc=null}function di(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ta===null?cr.memoizedState=ta=i:ta=ta.next=i,ta}function zn(){if(en===null){var i=cr.alternate;i=i!==null?i.memoizedState:null}else i=en.next;var o=ta===null?cr.memoizedState:ta.next;if(o!==null)ta=o,en=i;else{if(i===null)throw cr.alternate===null?Error(n(467)):Error(n(310));en=i,i={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},ta===null?cr.memoizedState=ta=i:ta=ta.next=i}return ta}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function M0(i){var o=k0;return k0+=1,Cc===null&&(Cc=[]),i=qw(Cc,i,o),o=cr,(ta===null?o.memoizedState:ta.next)===null&&(o=o.alternate,me.H=o===null||o.memoizedState===null?Hv:ex),i}function th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return M0(i);if(i.$$typeof===H)return Ra(i)}throw Error(n(438,String(i)))}function Vg(i){var o=null,f=cr.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var w=cr.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(o={data:w.data.map(function(B){return B.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=eh(),cr.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(i),w=0;w<i;w++)f[w]=Y;return o.index++,f}function RA(i,o){return typeof o=="function"?o(i):o}function rh(i){var o=zn();return Gg(o,en,i)}function Gg(i,o,f){var w=i.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=f;var B=i.baseQueue,T=w.pending;if(T!==null){if(B!==null){var L=B.next;B.next=T.next,T.next=L}o.baseQueue=B=T,w.pending=null}if(T=i.baseState,B===null)i.memoizedState=T;else{o=B.next;var te=L=null,Be=null,Ve=o,it=!1;do{var ot=Ve.lane&-536870913;if(ot!==Ve.lane?(vr&ot)===ot:(FA&ot)===ot){var We=Ve.revertLane;if(We===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,gesture:null,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),ot===pc&&(it=!0);else if((FA&We)===We){Ve=Ve.next,We===pc&&(it=!0);continue}else ot={lane:0,revertLane:Ve.revertLane,gesture:null,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Be===null?(te=Be=ot,L=T):Be=Be.next=ot,cr.lanes|=We,yo|=We;ot=Ve.action,Bl&&f(T,ot),T=Ve.hasEagerState?Ve.eagerState:f(T,ot)}else We={lane:ot,revertLane:Ve.revertLane,gesture:Ve.gesture,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Be===null?(te=Be=We,L=T):Be=Be.next=We,cr.lanes|=ot,yo|=ot;Ve=Ve.next}while(Ve!==null&&Ve!==o);if(Be===null?L=T:Be.next=te,!v(T,i.memoizedState)&&(ra=!0,it&&(f=mc,f!==null)))throw f;i.memoizedState=T,i.baseState=L,i.baseQueue=Be,w.lastRenderedState=T}return B===null&&(w.lanes=0),[i.memoizedState,w.dispatch]}function Kg(i){var o=zn(),f=o.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=i;var w=f.dispatch,B=f.pending,T=o.memoizedState;if(B!==null){f.pending=null;var L=B=B.next;do T=i(T,L.action),L=L.next;while(L!==B);v(T,o.memoizedState)||(ra=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),f.lastRenderedState=T}return[T,w]}function Av(i,o,f){var w=cr,B=zn(),T=br;if(T){if(f===void 0)throw Error(n(407));f=f()}else f=o();var L=!v((en||B).memoizedState,f);if(L&&(B.memoizedState=f,ra=!0),B=B.queue,Xg(cv.bind(null,w,B,i),[i]),B.getSnapshot!==o||L||ta!==null&&ta.memoizedState.tag&1){if(w.flags|=2048,Bc(9,{destroy:void 0},lv.bind(null,w,B,f,o),null),An===null)throw Error(n(349));T||(FA&127)!==0||ov(w,o,f)}return f}function ov(i,o,f){i.flags|=16384,i={getSnapshot:o,value:f},o=cr.updateQueue,o===null?(o=eh(),cr.updateQueue=o,o.stores=[i]):(f=o.stores,f===null?o.stores=[i]:f.push(i))}function lv(i,o,f,w){o.value=f,o.getSnapshot=w,uv(o)&&fv(i)}function cv(i,o,f){return f(function(){uv(o)&&fv(i)})}function uv(i){var o=i.getSnapshot;i=i.value;try{var f=o();return!v(i,f)}catch{return!0}}function fv(i){var o=gl(i,2);o!==null&&Li(o,i,2)}function zg(i){var o=di();if(typeof i=="function"){var f=i;if(i=f(),Bl){nt(!0);try{f()}finally{nt(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RA,lastRenderedState:i},o}function hv(i,o,f,w){return i.baseState=f,Gg(i,en,typeof w=="function"?w:RA)}function X8(i,o,f,w,B){if(ih(i))throw Error(n(485));if(i=o.action,i!==null){var T={payload:B,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){T.listeners.push(L)}};me.T!==null?f(!0):T.isTransition=!1,w(T),f=o.pending,f===null?(T.next=o.pending=T,dv(o,T)):(T.next=f.next,o.pending=f.next=T)}}function dv(i,o){var f=o.action,w=o.payload,B=i.state;if(o.isTransition){var T=me.T,L={};me.T=L;try{var te=f(B,w),Be=me.S;Be!==null&&Be(L,te),gv(i,o,te)}catch(Ve){Wg(i,o,Ve)}finally{T!==null&&L.types!==null&&(T.types=L.types),me.T=T}}else try{T=f(B,w),gv(i,o,T)}catch(Ve){Wg(i,o,Ve)}}function gv(i,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(w){xv(i,o,w)},function(w){return Wg(i,o,w)}):xv(i,o,f)}function xv(i,o,f){o.status="fulfilled",o.value=f,pv(o),i.state=f,o=i.pending,o!==null&&(f=o.next,f===o?i.pending=null:(f=f.next,o.next=f,dv(i,f)))}function Wg(i,o,f){var w=i.pending;if(i.pending=null,w!==null){w=w.next;do o.status="rejected",o.reason=f,pv(o),o=o.next;while(o!==w)}i.action=null}function pv(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function mv(i,o){return o}function wv(i,o){if(br){var f=An.formState;if(f!==null){e:{var w=cr;if(br){if(xn){t:{for(var B=xn,T=vs;B.nodeType!==8;){if(!T){B=null;break t}if(B=Es(B.nextSibling),B===null){B=null;break t}}T=B.data,B=T==="F!"||T==="F"?B:null}if(B){xn=Es(B.nextSibling),w=B.data==="F!";break e}}uo(w)}w=!1}w&&(o=f[0])}}return f=di(),f.memoizedState=f.baseState=o,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:o},f.queue=w,f=Lv.bind(null,cr,w),w.dispatch=f,w=zg(!1),T=$g.bind(null,cr,!1,w.queue),w=di(),B={state:o,dispatch:null,action:i,pending:null},w.queue=B,f=X8.bind(null,cr,B,T,f),B.dispatch=f,w.memoizedState=i,[o,f,!1]}function vv(i){var o=zn();return yv(o,en,i)}function yv(i,o,f){if(o=Gg(i,o,mv)[0],i=rh(RA)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var w=M0(o)}catch(L){throw L===wc?zf:L}else w=o;o=zn();var B=o.queue,T=B.dispatch;return f!==o.memoizedState&&(cr.flags|=2048,Bc(9,{destroy:void 0},Y8.bind(null,B,f),null)),[w,T,i]}function Y8(i,o){i.action=o}function Ev(i){var o=zn(),f=en;if(f!==null)return yv(o,f,i);zn(),o=o.memoizedState,f=zn();var w=f.queue.dispatch;return f.memoizedState=i,[o,w,!1]}function Bc(i,o,f,w){return i={tag:i,create:f,deps:w,inst:o,next:null},o=cr.updateQueue,o===null&&(o=eh(),cr.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=i.next=i:(w=f.next,f.next=i,i.next=w,o.lastEffect=i),i}function Cv(){return zn().memoizedState}function nh(i,o,f,w){var B=di();cr.flags|=i,B.memoizedState=Bc(1|o,{destroy:void 0},f,w===void 0?null:w)}function ah(i,o,f,w){var B=zn();w=w===void 0?null:w;var T=B.memoizedState.inst;en!==null&&w!==null&&Lg(w,en.memoizedState.deps)?B.memoizedState=Bc(o,T,f,w):(cr.flags|=i,B.memoizedState=Bc(1|o,T,f,w))}function Bv(i,o){nh(8390656,8,i,o)}function Xg(i,o){ah(2048,8,i,o)}function q8(i){cr.flags|=4;var o=cr.updateQueue;if(o===null)o=eh(),cr.updateQueue=o,o.events=[i];else{var f=o.events;f===null?o.events=[i]:f.push(i)}}function bv(i){var o=zn().memoizedState;return q8({ref:o,nextImpl:i}),function(){if((jr&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function _v(i,o){return ah(4,2,i,o)}function Tv(i,o){return ah(4,4,i,o)}function Iv(i,o){if(typeof o=="function"){i=i();var f=o(i);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Sv(i,o,f){f=f!=null?f.concat([i]):null,ah(4,4,Iv.bind(null,o,i),f)}function Yg(){}function Nv(i,o){var f=zn();o=o===void 0?null:o;var w=f.memoizedState;return o!==null&&Lg(o,w[1])?w[0]:(f.memoizedState=[i,o],i)}function Fv(i,o){var f=zn();o=o===void 0?null:o;var w=f.memoizedState;if(o!==null&&Lg(o,w[1]))return w[0];if(w=i(),Bl){nt(!0);try{i()}finally{nt(!1)}}return f.memoizedState=[w,o],w}function qg(i,o,f){return f===void 0||(FA&1073741824)!==0&&(vr&261930)===0?i.memoizedState=o:(i.memoizedState=f,i=Ry(),cr.lanes|=i,yo|=i,f)}function Rv(i,o,f,w){return v(f,o)?f:yc.current!==null?(i=qg(i,f,w),v(i,o)||(ra=!0),i):(FA&42)===0||(FA&1073741824)!==0&&(vr&261930)===0?(ra=!0,i.memoizedState=f):(i=Ry(),cr.lanes|=i,yo|=i,o)}function Dv(i,o,f,w,B){var T=oe.p;oe.p=T!==0&&8>T?T:8;var L=me.T,te={};me.T=te,$g(i,!1,o,f);try{var Be=B(),Ve=me.S;if(Ve!==null&&Ve(te,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var it=K8(Be,w);L0(i,o,it,rs(i))}else L0(i,o,w,rs(i))}catch(ot){L0(i,o,{then:function(){},status:"rejected",reason:ot},rs())}finally{oe.p=T,L!==null&&te.types!==null&&(L.types=te.types),me.T=L}}function J8(){}function Jg(i,o,f,w){if(i.tag!==5)throw Error(n(476));var B=Ov(i).queue;Dv(i,B,o,Pe,f===null?J8:function(){return Uv(i),f(w)})}function Ov(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:Pe,baseState:Pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:RA,lastRenderedState:Pe},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:RA,lastRenderedState:f},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function Uv(i){var o=Ov(i);o.next===null&&(o=i.alternate.memoizedState),L0(i,o.next.queue,{},rs())}function Zg(){return Ra(tu)}function kv(){return zn().memoizedState}function Mv(){return zn().memoizedState}function Z8(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var f=rs();i=go(f);var w=xo(o,i,f);w!==null&&(Li(w,o,f),D0(w,o,f)),o={cache:Tg()},i.payload=o;return}o=o.return}}function $8(i,o,f){var w=rs();f={lane:w,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},ih(i)?Qv(o,f):(f=xg(i,o,f,w),f!==null&&(Li(f,i,w),jv(f,o,w)))}function Lv(i,o,f){var w=rs();L0(i,o,f,w)}function L0(i,o,f,w){var B={lane:w,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(ih(i))Qv(o,B);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var L=o.lastRenderedState,te=T(L,f);if(B.hasEagerState=!0,B.eagerState=te,v(te,L))return Qf(i,o,B,0),An===null&&Lf(),!1}catch{}finally{}if(f=xg(i,o,B,w),f!==null)return Li(f,i,w),jv(f,o,w),!0}return!1}function $g(i,o,f,w){if(w={lane:2,revertLane:Fx(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},ih(i)){if(o)throw Error(n(479))}else o=xg(i,f,w,2),o!==null&&Li(o,i,2)}function ih(i){var o=i.alternate;return i===cr||o!==null&&o===cr}function Qv(i,o){Ec=Zf=!0;var f=i.pending;f===null?o.next=o:(o.next=f.next,f.next=o),i.pending=o}function jv(i,o,f){if((f&4194048)!==0){var w=o.lanes;w&=i.pendingLanes,f|=w,o.lanes=f,$n(i,f)}}var Q0={readContext:Ra,use:th,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn};Q0.useEffectEvent=Mn;var Hv={readContext:Ra,use:th,useCallback:function(i,o){return di().memoizedState=[i,o===void 0?null:o],i},useContext:Ra,useEffect:Bv,useImperativeHandle:function(i,o,f){f=f!=null?f.concat([i]):null,nh(4194308,4,Iv.bind(null,o,i),f)},useLayoutEffect:function(i,o){return nh(4194308,4,i,o)},useInsertionEffect:function(i,o){nh(4,2,i,o)},useMemo:function(i,o){var f=di();o=o===void 0?null:o;var w=i();if(Bl){nt(!0);try{i()}finally{nt(!1)}}return f.memoizedState=[w,o],w},useReducer:function(i,o,f){var w=di();if(f!==void 0){var B=f(o);if(Bl){nt(!0);try{f(o)}finally{nt(!1)}}}else B=o;return w.memoizedState=w.baseState=B,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:B},w.queue=i,i=i.dispatch=$8.bind(null,cr,i),[w.memoizedState,i]},useRef:function(i){var o=di();return i={current:i},o.memoizedState=i},useState:function(i){i=zg(i);var o=i.queue,f=Lv.bind(null,cr,o);return o.dispatch=f,[i.memoizedState,f]},useDebugValue:Yg,useDeferredValue:function(i,o){var f=di();return qg(f,i,o)},useTransition:function(){var i=zg(!1);return i=Dv.bind(null,cr,i.queue,!0,!1),di().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,f){var w=cr,B=di();if(br){if(f===void 0)throw Error(n(407));f=f()}else{if(f=o(),An===null)throw Error(n(349));(vr&127)!==0||ov(w,o,f)}B.memoizedState=f;var T={value:f,getSnapshot:o};return B.queue=T,Bv(cv.bind(null,w,T,i),[i]),w.flags|=2048,Bc(9,{destroy:void 0},lv.bind(null,w,T,f,o),null),f},useId:function(){var i=di(),o=An.identifierPrefix;if(br){var f=nA,w=rA;f=(w&~(1<<32-st(w)-1)).toString(32)+f,o="_"+o+"R_"+f,f=$f++,0<f&&(o+="H"+f.toString(32)),o+="_"}else f=z8++,o="_"+o+"r_"+f.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Zg,useFormState:wv,useActionState:wv,useOptimistic:function(i){var o=di();o.memoizedState=o.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=$g.bind(null,cr,!0,f),f.dispatch=o,[i,o]},useMemoCache:Vg,useCacheRefresh:function(){return di().memoizedState=Z8.bind(null,cr)},useEffectEvent:function(i){var o=di(),f={impl:i};return o.memoizedState=f,function(){if((jr&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}},ex={readContext:Ra,use:th,useCallback:Nv,useContext:Ra,useEffect:Xg,useImperativeHandle:Sv,useInsertionEffect:_v,useLayoutEffect:Tv,useMemo:Fv,useReducer:rh,useRef:Cv,useState:function(){return rh(RA)},useDebugValue:Yg,useDeferredValue:function(i,o){var f=zn();return Rv(f,en.memoizedState,i,o)},useTransition:function(){var i=rh(RA)[0],o=zn().memoizedState;return[typeof i=="boolean"?i:M0(i),o]},useSyncExternalStore:Av,useId:kv,useHostTransitionStatus:Zg,useFormState:vv,useActionState:vv,useOptimistic:function(i,o){var f=zn();return hv(f,en,i,o)},useMemoCache:Vg,useCacheRefresh:Mv};ex.useEffectEvent=bv;var Pv={readContext:Ra,use:th,useCallback:Nv,useContext:Ra,useEffect:Xg,useImperativeHandle:Sv,useInsertionEffect:_v,useLayoutEffect:Tv,useMemo:Fv,useReducer:Kg,useRef:Cv,useState:function(){return Kg(RA)},useDebugValue:Yg,useDeferredValue:function(i,o){var f=zn();return en===null?qg(f,i,o):Rv(f,en.memoizedState,i,o)},useTransition:function(){var i=Kg(RA)[0],o=zn().memoizedState;return[typeof i=="boolean"?i:M0(i),o]},useSyncExternalStore:Av,useId:kv,useHostTransitionStatus:Zg,useFormState:Ev,useActionState:Ev,useOptimistic:function(i,o){var f=zn();return en!==null?hv(f,en,i,o):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:Vg,useCacheRefresh:Mv};Pv.useEffectEvent=bv;function tx(i,o,f,w){o=i.memoizedState,f=f(w,o),f=f==null?o:b({},o,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var rx={enqueueSetState:function(i,o,f){i=i._reactInternals;var w=rs(),B=go(w);B.payload=o,f!=null&&(B.callback=f),o=xo(i,B,w),o!==null&&(Li(o,i,w),D0(o,i,w))},enqueueReplaceState:function(i,o,f){i=i._reactInternals;var w=rs(),B=go(w);B.tag=1,B.payload=o,f!=null&&(B.callback=f),o=xo(i,B,w),o!==null&&(Li(o,i,w),D0(o,i,w))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var f=rs(),w=go(f);w.tag=2,o!=null&&(w.callback=o),o=xo(i,w,f),o!==null&&(Li(o,i,f),D0(o,i,f))}};function Vv(i,o,f,w,B,T,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(w,T,L):o.prototype&&o.prototype.isPureReactComponent?!E(f,w)||!E(B,T):!0}function Gv(i,o,f,w){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,w),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,w),o.state!==i&&rx.enqueueReplaceState(o,o.state,null)}function bl(i,o){var f=o;if("ref"in o){f={};for(var w in o)w!=="ref"&&(f[w]=o[w])}if(i=i.defaultProps){f===o&&(f=b({},f));for(var B in i)f[B]===void 0&&(f[B]=i[B])}return f}function Kv(i){Mf(i)}function zv(i){console.error(i)}function Wv(i){Mf(i)}function sh(i,o){try{var f=i.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(w){setTimeout(function(){throw w})}}function Xv(i,o,f){try{var w=i.onCaughtError;w(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function nx(i,o,f){return f=go(f),f.tag=3,f.payload={element:null},f.callback=function(){sh(i,o)},f}function Yv(i){return i=go(i),i.tag=3,i}function qv(i,o,f,w){var B=f.type.getDerivedStateFromError;if(typeof B=="function"){var T=w.value;i.payload=function(){return B(T)},i.callback=function(){Xv(o,f,w)}}var L=f.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(i.callback=function(){Xv(o,f,w),typeof B!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var te=w.stack;this.componentDidCatch(w.value,{componentStack:te!==null?te:""})})}function eN(i,o,f,w,B){if(f.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(o=f.alternate,o!==null&&xc(o,f,B,!0),f=Zi.current,f!==null){switch(f.tag){case 31:case 13:return ys===null?mh():f.alternate===null&&Ln===0&&(Ln=3),f.flags&=-257,f.flags|=65536,f.lanes=B,w===Wf?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([w]):o.add(w),Ix(i,w,B)),!1;case 22:return f.flags|=65536,w===Wf?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([w])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([w]):f.add(w)),Ix(i,w,B)),!1}throw Error(n(435,f.tag))}return Ix(i,w,B),mh(),!1}if(br)return o=Zi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=B,w!==Eg&&(i=Error(n(422),{cause:w}),I0(ps(i,f)))):(w!==Eg&&(o=Error(n(423),{cause:w}),I0(ps(o,f))),i=i.current.alternate,i.flags|=65536,B&=-B,i.lanes|=B,w=ps(w,f),B=nx(i.stateNode,w,B),Dg(i,B),Ln!==4&&(Ln=2)),!1;var T=Error(n(520),{cause:w});if(T=ps(T,f),W0===null?W0=[T]:W0.push(T),Ln!==4&&(Ln=2),o===null)return!0;w=ps(w,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,i=B&-B,f.lanes|=i,i=nx(f.stateNode,w,i),Dg(f,i),!1;case 1:if(o=f.type,T=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Eo===null||!Eo.has(T))))return f.flags|=65536,B&=-B,f.lanes|=B,B=Yv(B),qv(B,i,f,w),Dg(f,B),!1}f=f.return}while(f!==null);return!1}var ax=Error(n(461)),ra=!1;function Da(i,o,f,w){o.child=i===null?ev(o,null,f,w):Cl(o,i.child,f,w)}function Jv(i,o,f,w,B){f=f.render;var T=o.ref;if("ref"in w){var L={};for(var te in w)te!=="ref"&&(L[te]=w[te])}else L=w;return wl(o),w=Qg(i,o,f,L,T,B),te=jg(),i!==null&&!ra?(Hg(i,o,B),DA(i,o,B)):(br&&te&&vg(o),o.flags|=1,Da(i,o,w,B),o.child)}function Zv(i,o,f,w,B){if(i===null){var T=f.type;return typeof T=="function"&&!pg(T)&&T.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=T,$v(i,o,T,w,B)):(i=Hf(f.type,null,w,o,o.mode,B),i.ref=o.ref,i.return=o,o.child=i)}if(T=i.child,!fx(i,B)){var L=T.memoizedProps;if(f=f.compare,f=f!==null?f:E,f(L,w)&&i.ref===o.ref)return DA(i,o,B)}return o.flags|=1,i=TA(T,w),i.ref=o.ref,i.return=o,o.child=i}function $v(i,o,f,w,B){if(i!==null){var T=i.memoizedProps;if(E(T,w)&&i.ref===o.ref)if(ra=!1,o.pendingProps=w=T,fx(i,B))(i.flags&131072)!==0&&(ra=!0);else return o.lanes=i.lanes,DA(i,o,B)}return ix(i,o,f,w,B)}function ey(i,o,f,w){var B=w.children,T=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((o.flags&128)!==0){if(T=T!==null?T.baseLanes|f:f,i!==null){for(w=o.child=i.child,B=0;w!==null;)B=B|w.lanes|w.childLanes,w=w.sibling;w=B&~T}else w=0,o.child=null;return ty(i,o,T,f,w)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Kf(o,T!==null?T.cachePool:null),T!==null?nv(o,T):Ug(),av(o);else return w=o.lanes=536870912,ty(i,o,T!==null?T.baseLanes|f:f,f,w)}else T!==null?(Kf(o,T.cachePool),nv(o,T),mo(),o.memoizedState=null):(i!==null&&Kf(o,null),Ug(),mo());return Da(i,o,B,f),o.child}function j0(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function ty(i,o,f,w,B){var T=Sg();return T=T===null?null:{parent:ea._currentValue,pool:T},o.memoizedState={baseLanes:f,cachePool:T},i!==null&&Kf(o,null),Ug(),av(o),i!==null&&xc(i,o,w,!0),o.childLanes=B,null}function Ah(i,o){return o=lh({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function ry(i,o,f){return Cl(o,i.child,null,f),i=Ah(o,o.pendingProps),i.flags|=2,$i(o),o.memoizedState=null,i}function tN(i,o,f){var w=o.pendingProps,B=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(br){if(w.mode==="hidden")return i=Ah(o,w),o.lanes=536870912,j0(null,i);if(Mg(o),(i=xn)?(i=dE(i,vs),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:lo!==null?{id:rA,overflow:nA}:null,retryLane:536870912,hydrationErrors:null},f=Qw(i),f.return=o,o.child=f,Fa=o,xn=null)):i=null,i===null)throw uo(o);return o.lanes=536870912,null}return Ah(o,w)}var T=i.memoizedState;if(T!==null){var L=T.dehydrated;if(Mg(o),B)if(o.flags&256)o.flags&=-257,o=ry(i,o,f);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(ra||xc(i,o,f,!1),B=(f&i.childLanes)!==0,ra||B){if(w=An,w!==null&&(L=Ci(w,f),L!==0&&L!==T.retryLane))throw T.retryLane=L,gl(i,L),Li(w,i,L),ax;mh(),o=ry(i,o,f)}else i=T.treeContext,xn=Es(L.nextSibling),Fa=o,br=!0,co=null,vs=!1,i!==null&&Pw(o,i),o=Ah(o,w),o.flags|=4096;return o}return i=TA(i.child,{mode:w.mode,children:w.children}),i.ref=o.ref,o.child=i,i.return=o,i}function oh(i,o){var f=o.ref;if(f===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(i===null||i.ref!==f)&&(o.flags|=4194816)}}function ix(i,o,f,w,B){return wl(o),f=Qg(i,o,f,w,void 0,B),w=jg(),i!==null&&!ra?(Hg(i,o,B),DA(i,o,B)):(br&&w&&vg(o),o.flags|=1,Da(i,o,f,B),o.child)}function ny(i,o,f,w,B,T){return wl(o),o.updateQueue=null,f=sv(o,w,f,B),iv(i),w=jg(),i!==null&&!ra?(Hg(i,o,T),DA(i,o,T)):(br&&w&&vg(o),o.flags|=1,Da(i,o,f,T),o.child)}function ay(i,o,f,w,B){if(wl(o),o.stateNode===null){var T=fc,L=f.contextType;typeof L=="object"&&L!==null&&(T=Ra(L)),T=new f(w,T),o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=rx,o.stateNode=T,T._reactInternals=o,T=o.stateNode,T.props=w,T.state=o.memoizedState,T.refs={},Fg(o),L=f.contextType,T.context=typeof L=="object"&&L!==null?Ra(L):fc,T.state=o.memoizedState,L=f.getDerivedStateFromProps,typeof L=="function"&&(tx(o,f,L,w),T.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(L=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),L!==T.state&&rx.enqueueReplaceState(T,T.state,null),U0(o,w,T,B),O0(),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308),w=!0}else if(i===null){T=o.stateNode;var te=o.memoizedProps,Be=bl(f,te);T.props=Be;var Ve=T.context,it=f.contextType;L=fc,typeof it=="object"&&it!==null&&(L=Ra(it));var ot=f.getDerivedStateFromProps;it=typeof ot=="function"||typeof T.getSnapshotBeforeUpdate=="function",te=o.pendingProps!==te,it||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(te||Ve!==L)&&Gv(o,T,w,L),ho=!1;var We=o.memoizedState;T.state=We,U0(o,w,T,B),O0(),Ve=o.memoizedState,te||We!==Ve||ho?(typeof ot=="function"&&(tx(o,f,ot,w),Ve=o.memoizedState),(Be=ho||Vv(o,f,Be,w,We,Ve,L))?(it||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=w,o.memoizedState=Ve),T.props=w,T.state=Ve,T.context=L,w=Be):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),w=!1)}else{T=o.stateNode,Rg(i,o),L=o.memoizedProps,it=bl(f,L),T.props=it,ot=o.pendingProps,We=T.context,Ve=f.contextType,Be=fc,typeof Ve=="object"&&Ve!==null&&(Be=Ra(Ve)),te=f.getDerivedStateFromProps,(Ve=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==ot||We!==Be)&&Gv(o,T,w,Be),ho=!1,We=o.memoizedState,T.state=We,U0(o,w,T,B),O0();var et=o.memoizedState;L!==ot||We!==et||ho||i!==null&&i.dependencies!==null&&Vf(i.dependencies)?(typeof te=="function"&&(tx(o,f,te,w),et=o.memoizedState),(it=ho||Vv(o,f,it,w,We,et,Be)||i!==null&&i.dependencies!==null&&Vf(i.dependencies))?(Ve||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(w,et,Be),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(w,et,Be)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===i.memoizedProps&&We===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&We===i.memoizedState||(o.flags|=1024),o.memoizedProps=w,o.memoizedState=et),T.props=w,T.state=et,T.context=Be,w=it):(typeof T.componentDidUpdate!="function"||L===i.memoizedProps&&We===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&We===i.memoizedState||(o.flags|=1024),w=!1)}return T=w,oh(i,o),w=(o.flags&128)!==0,T||w?(T=o.stateNode,f=w&&typeof f.getDerivedStateFromError!="function"?null:T.render(),o.flags|=1,i!==null&&w?(o.child=Cl(o,i.child,null,B),o.child=Cl(o,null,f,B)):Da(i,o,f,B),o.memoizedState=T.state,i=o.child):i=DA(i,o,B),i}function iy(i,o,f,w){return pl(),o.flags|=256,Da(i,o,f,w),o.child}var sx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ax(i){return{baseLanes:i,cachePool:Xw()}}function ox(i,o,f){return i=i!==null?i.childLanes&~f:0,o&&(i|=ts),i}function sy(i,o,f){var w=o.pendingProps,B=!1,T=(o.flags&128)!==0,L;if((L=T)||(L=i!==null&&i.memoizedState===null?!1:(Kn.current&2)!==0),L&&(B=!0,o.flags&=-129),L=(o.flags&32)!==0,o.flags&=-33,i===null){if(br){if(B?po(o):mo(),(i=xn)?(i=dE(i,vs),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:lo!==null?{id:rA,overflow:nA}:null,retryLane:536870912,hydrationErrors:null},f=Qw(i),f.return=o,o.child=f,Fa=o,xn=null)):i=null,i===null)throw uo(o);return Gx(i)?o.lanes=32:o.lanes=536870912,null}var te=w.children;return w=w.fallback,B?(mo(),B=o.mode,te=lh({mode:"hidden",children:te},B),w=xl(w,B,f,null),te.return=o,w.return=o,te.sibling=w,o.child=te,w=o.child,w.memoizedState=Ax(f),w.childLanes=ox(i,L,f),o.memoizedState=sx,j0(null,w)):(po(o),lx(o,te))}var Be=i.memoizedState;if(Be!==null&&(te=Be.dehydrated,te!==null)){if(T)o.flags&256?(po(o),o.flags&=-257,o=cx(i,o,f)):o.memoizedState!==null?(mo(),o.child=i.child,o.flags|=128,o=null):(mo(),te=w.fallback,B=o.mode,w=lh({mode:"visible",children:w.children},B),te=xl(te,B,f,null),te.flags|=2,w.return=o,te.return=o,w.sibling=te,o.child=w,Cl(o,i.child,null,f),w=o.child,w.memoizedState=Ax(f),w.childLanes=ox(i,L,f),o.memoizedState=sx,o=j0(null,w));else if(po(o),Gx(te)){if(L=te.nextSibling&&te.nextSibling.dataset,L)var Ve=L.dgst;L=Ve,w=Error(n(419)),w.stack="",w.digest=L,I0({value:w,source:null,stack:null}),o=cx(i,o,f)}else if(ra||xc(i,o,f,!1),L=(f&i.childLanes)!==0,ra||L){if(L=An,L!==null&&(w=Ci(L,f),w!==0&&w!==Be.retryLane))throw Be.retryLane=w,gl(i,w),Li(L,i,w),ax;Vx(te)||mh(),o=cx(i,o,f)}else Vx(te)?(o.flags|=192,o.child=i.child,o=null):(i=Be.treeContext,xn=Es(te.nextSibling),Fa=o,br=!0,co=null,vs=!1,i!==null&&Pw(o,i),o=lx(o,w.children),o.flags|=4096);return o}return B?(mo(),te=w.fallback,B=o.mode,Be=i.child,Ve=Be.sibling,w=TA(Be,{mode:"hidden",children:w.children}),w.subtreeFlags=Be.subtreeFlags&65011712,Ve!==null?te=TA(Ve,te):(te=xl(te,B,f,null),te.flags|=2),te.return=o,w.return=o,w.sibling=te,o.child=w,j0(null,w),w=o.child,te=i.child.memoizedState,te===null?te=Ax(f):(B=te.cachePool,B!==null?(Be=ea._currentValue,B=B.parent!==Be?{parent:Be,pool:Be}:B):B=Xw(),te={baseLanes:te.baseLanes|f,cachePool:B}),w.memoizedState=te,w.childLanes=ox(i,L,f),o.memoizedState=sx,j0(i.child,w)):(po(o),f=i.child,i=f.sibling,f=TA(f,{mode:"visible",children:w.children}),f.return=o,f.sibling=null,i!==null&&(L=o.deletions,L===null?(o.deletions=[i],o.flags|=16):L.push(i)),o.child=f,o.memoizedState=null,f)}function lx(i,o){return o=lh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function lh(i,o){return i=Ji(22,i,null,o),i.lanes=0,i}function cx(i,o,f){return Cl(o,i.child,null,f),i=lx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Ay(i,o,f){i.lanes|=o;var w=i.alternate;w!==null&&(w.lanes|=o),bg(i.return,o,f)}function ux(i,o,f,w,B,T){var L=i.memoizedState;L===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:w,tail:f,tailMode:B,treeForkCount:T}:(L.isBackwards=o,L.rendering=null,L.renderingStartTime=0,L.last=w,L.tail=f,L.tailMode=B,L.treeForkCount=T)}function oy(i,o,f){var w=o.pendingProps,B=w.revealOrder,T=w.tail;w=w.children;var L=Kn.current,te=(L&2)!==0;if(te?(L=L&1|2,o.flags|=128):L&=1,ce(Kn,L),Da(i,o,w,f),w=br?T0:0,!te&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ay(i,f,o);else if(i.tag===19)Ay(i,f,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(B){case"forwards":for(f=o.child,B=null;f!==null;)i=f.alternate,i!==null&&Jf(i)===null&&(B=f),f=f.sibling;f=B,f===null?(B=o.child,o.child=null):(B=f.sibling,f.sibling=null),ux(o,!1,B,f,T,w);break;case"backwards":case"unstable_legacy-backwards":for(f=null,B=o.child,o.child=null;B!==null;){if(i=B.alternate,i!==null&&Jf(i)===null){o.child=B;break}i=B.sibling,B.sibling=f,f=B,B=i}ux(o,!0,f,null,T,w);break;case"together":ux(o,!1,null,null,void 0,w);break;default:o.memoizedState=null}return o.child}function DA(i,o,f){if(i!==null&&(o.dependencies=i.dependencies),yo|=o.lanes,(f&o.childLanes)===0)if(i!==null){if(xc(i,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,f=TA(i,i.pendingProps),o.child=f,f.return=o;i.sibling!==null;)i=i.sibling,f=f.sibling=TA(i,i.pendingProps),f.return=o;f.sibling=null}return o.child}function fx(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Vf(i)))}function rN(i,o,f){switch(o.tag){case 3:Se(o,o.stateNode.containerInfo),fo(o,ea,i.memoizedState.cache),pl();break;case 27:case 5:Ue(o);break;case 4:Se(o,o.stateNode.containerInfo);break;case 10:fo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Mg(o),null;break;case 13:var w=o.memoizedState;if(w!==null)return w.dehydrated!==null?(po(o),o.flags|=128,null):(f&o.child.childLanes)!==0?sy(i,o,f):(po(o),i=DA(i,o,f),i!==null?i.sibling:null);po(o);break;case 19:var B=(i.flags&128)!==0;if(w=(f&o.childLanes)!==0,w||(xc(i,o,f,!1),w=(f&o.childLanes)!==0),B){if(w)return oy(i,o,f);o.flags|=128}if(B=o.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),ce(Kn,Kn.current),w)break;return null;case 22:return o.lanes=0,ey(i,o,f,o.pendingProps);case 24:fo(o,ea,i.memoizedState.cache)}return DA(i,o,f)}function ly(i,o,f){if(i!==null)if(i.memoizedProps!==o.pendingProps)ra=!0;else{if(!fx(i,f)&&(o.flags&128)===0)return ra=!1,rN(i,o,f);ra=(i.flags&131072)!==0}else ra=!1,br&&(o.flags&1048576)!==0&&Hw(o,T0,o.index);switch(o.lanes=0,o.tag){case 16:e:{var w=o.pendingProps;if(i=yl(o.elementType),o.type=i,typeof i=="function")pg(i)?(w=bl(i,w),o.tag=1,o=ay(null,o,i,w,f)):(o.tag=0,o=ix(null,o,i,w,f));else{if(i!=null){var B=i.$$typeof;if(B===re){o.tag=11,o=Jv(null,o,i,w,f);break e}else if(B===U){o.tag=14,o=Zv(null,o,i,w,f);break e}}throw o=ze(i)||i,Error(n(306,o,""))}}return o;case 0:return ix(i,o,o.type,o.pendingProps,f);case 1:return w=o.type,B=bl(w,o.pendingProps),ay(i,o,w,B,f);case 3:e:{if(Se(o,o.stateNode.containerInfo),i===null)throw Error(n(387));w=o.pendingProps;var T=o.memoizedState;B=T.element,Rg(i,o),U0(o,w,null,f);var L=o.memoizedState;if(w=L.cache,fo(o,ea,w),w!==T.cache&&_g(o,[ea],f,!0),O0(),w=L.element,T.isDehydrated)if(T={element:w,isDehydrated:!1,cache:L.cache},o.updateQueue.baseState=T,o.memoizedState=T,o.flags&256){o=iy(i,o,w,f);break e}else if(w!==B){B=ps(Error(n(424)),o),I0(B),o=iy(i,o,w,f);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(xn=Es(i.firstChild),Fa=o,br=!0,co=null,vs=!0,f=ev(o,null,w,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(pl(),w===B){o=DA(i,o,f);break e}Da(i,o,w,f)}o=o.child}return o;case 26:return oh(i,o),i===null?(f=vE(o.type,null,o.pendingProps,null))?o.memoizedState=f:br||(f=o.type,i=o.pendingProps,w=bh(xe.current).createElement(f),w[Ae]=o,w[ue]=i,Oa(w,f,i),Nt(w),o.stateNode=w):o.memoizedState=vE(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ue(o),i===null&&br&&(w=o.stateNode=pE(o.type,o.pendingProps,xe.current),Fa=o,vs=!0,B=xn,_o(o.type)?(Kx=B,xn=Es(w.firstChild)):xn=B),Da(i,o,o.pendingProps.children,f),oh(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&br&&((B=w=xn)&&(w=RN(w,o.type,o.pendingProps,vs),w!==null?(o.stateNode=w,Fa=o,xn=Es(w.firstChild),vs=!1,B=!0):B=!1),B||uo(o)),Ue(o),B=o.type,T=o.pendingProps,L=i!==null?i.memoizedProps:null,w=T.children,jx(B,T)?w=null:L!==null&&jx(B,L)&&(o.flags|=32),o.memoizedState!==null&&(B=Qg(i,o,W8,null,null,f),tu._currentValue=B),oh(i,o),Da(i,o,w,f),o.child;case 6:return i===null&&br&&((i=f=xn)&&(f=DN(f,o.pendingProps,vs),f!==null?(o.stateNode=f,Fa=o,xn=null,i=!0):i=!1),i||uo(o)),null;case 13:return sy(i,o,f);case 4:return Se(o,o.stateNode.containerInfo),w=o.pendingProps,i===null?o.child=Cl(o,null,w,f):Da(i,o,w,f),o.child;case 11:return Jv(i,o,o.type,o.pendingProps,f);case 7:return Da(i,o,o.pendingProps,f),o.child;case 8:return Da(i,o,o.pendingProps.children,f),o.child;case 12:return Da(i,o,o.pendingProps.children,f),o.child;case 10:return w=o.pendingProps,fo(o,o.type,w.value),Da(i,o,w.children,f),o.child;case 9:return B=o.type._context,w=o.pendingProps.children,wl(o),B=Ra(B),w=w(B),o.flags|=1,Da(i,o,w,f),o.child;case 14:return Zv(i,o,o.type,o.pendingProps,f);case 15:return $v(i,o,o.type,o.pendingProps,f);case 19:return oy(i,o,f);case 31:return tN(i,o,f);case 22:return ey(i,o,f,o.pendingProps);case 24:return wl(o),w=Ra(ea),i===null?(B=Sg(),B===null&&(B=An,T=Tg(),B.pooledCache=T,T.refCount++,T!==null&&(B.pooledCacheLanes|=f),B=T),o.memoizedState={parent:w,cache:B},Fg(o),fo(o,ea,B)):((i.lanes&f)!==0&&(Rg(i,o),U0(o,null,null,f),O0()),B=i.memoizedState,T=o.memoizedState,B.parent!==w?(B={parent:w,cache:w},o.memoizedState=B,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=B),fo(o,ea,w)):(w=T.cache,fo(o,ea,w),w!==B.cache&&_g(o,[ea],f,!0))),Da(i,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function OA(i){i.flags|=4}function hx(i,o,f,w,B){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(B&335544128)===B)if(i.stateNode.complete)i.flags|=8192;else if(ky())i.flags|=8192;else throw El=Wf,Ng}else i.flags&=-16777217}function cy(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!bE(o))if(ky())i.flags|=8192;else throw El=Wf,Ng}function ch(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?vn():536870912,i.lanes|=o,Ic|=o)}function H0(i,o){if(!br)switch(i.tailMode){case"hidden":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var w=null;f!==null;)f.alternate!==null&&(w=f),f=f.sibling;w===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:w.sibling=null}}function pn(i){var o=i.alternate!==null&&i.alternate.child===i.child,f=0,w=0;if(o)for(var B=i.child;B!==null;)f|=B.lanes|B.childLanes,w|=B.subtreeFlags&65011712,w|=B.flags&65011712,B.return=i,B=B.sibling;else for(B=i.child;B!==null;)f|=B.lanes|B.childLanes,w|=B.subtreeFlags,w|=B.flags,B.return=i,B=B.sibling;return i.subtreeFlags|=w,i.childLanes=f,o}function nN(i,o,f){var w=o.pendingProps;switch(yg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(o),null;case 1:return pn(o),null;case 3:return f=o.stateNode,w=null,i!==null&&(w=i.memoizedState.cache),o.memoizedState.cache!==w&&(o.flags|=2048),NA(ea),Ce(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(gc(o)?OA(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Cg())),pn(o),null;case 26:var B=o.type,T=o.memoizedState;return i===null?(OA(o),T!==null?(pn(o),cy(o,T)):(pn(o),hx(o,B,null,w,f))):T?T!==i.memoizedState?(OA(o),pn(o),cy(o,T)):(pn(o),o.flags&=-16777217):(i=i.memoizedProps,i!==w&&OA(o),pn(o),hx(o,B,i,w,f)),null;case 27:if(xt(o),f=xe.current,B=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==w&&OA(o);else{if(!w){if(o.stateNode===null)throw Error(n(166));return pn(o),null}i=le.current,gc(o)?Vw(o):(i=pE(B,w,f),o.stateNode=i,OA(o))}return pn(o),null;case 5:if(xt(o),B=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==w&&OA(o);else{if(!w){if(o.stateNode===null)throw Error(n(166));return pn(o),null}if(T=le.current,gc(o))Vw(o);else{var L=bh(xe.current);switch(T){case 1:T=L.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:T=L.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":T=L.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":T=L.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":T=L.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof w.is=="string"?L.createElement("select",{is:w.is}):L.createElement("select"),w.multiple?T.multiple=!0:w.size&&(T.size=w.size);break;default:T=typeof w.is=="string"?L.createElement(B,{is:w.is}):L.createElement(B)}}T[Ae]=o,T[ue]=w;e:for(L=o.child;L!==null;){if(L.tag===5||L.tag===6)T.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===o)break e;for(;L.sibling===null;){if(L.return===null||L.return===o)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}o.stateNode=T;e:switch(Oa(T,B,w),B){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&OA(o)}}return pn(o),hx(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,f),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==w&&OA(o);else{if(typeof w!="string"&&o.stateNode===null)throw Error(n(166));if(i=xe.current,gc(o)){if(i=o.stateNode,f=o.memoizedProps,w=null,B=Fa,B!==null)switch(B.tag){case 27:case 5:w=B.memoizedProps}i[Ae]=o,i=!!(i.nodeValue===f||w!==null&&w.suppressHydrationWarning===!0||sE(i.nodeValue,f)),i||uo(o,!0)}else i=bh(i).createTextNode(w),i[Ae]=o,o.stateNode=i}return pn(o),null;case 31:if(f=o.memoizedState,i===null||i.memoizedState!==null){if(w=gc(o),f!==null){if(i===null){if(!w)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Ae]=o}else pl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;pn(o),i=!1}else f=Cg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),i=!0;if(!i)return o.flags&256?($i(o),o):($i(o),null);if((o.flags&128)!==0)throw Error(n(558))}return pn(o),null;case 13:if(w=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(B=gc(o),w!==null&&w.dehydrated!==null){if(i===null){if(!B)throw Error(n(318));if(B=o.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(n(317));B[Ae]=o}else pl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;pn(o),B=!1}else B=Cg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=B),B=!0;if(!B)return o.flags&256?($i(o),o):($i(o),null)}return $i(o),(o.flags&128)!==0?(o.lanes=f,o):(f=w!==null,i=i!==null&&i.memoizedState!==null,f&&(w=o.child,B=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(B=w.alternate.memoizedState.cachePool.pool),T=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(T=w.memoizedState.cachePool.pool),T!==B&&(w.flags|=2048)),f!==i&&f&&(o.child.flags|=8192),ch(o,o.updateQueue),pn(o),null);case 4:return Ce(),i===null&&Ux(o.stateNode.containerInfo),pn(o),null;case 10:return NA(o.type),pn(o),null;case 19:if(X(Kn),w=o.memoizedState,w===null)return pn(o),null;if(B=(o.flags&128)!==0,T=w.rendering,T===null)if(B)H0(w,!1);else{if(Ln!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Jf(i),T!==null){for(o.flags|=128,H0(w,!1),i=T.updateQueue,o.updateQueue=i,ch(o,i),o.subtreeFlags=0,i=f,f=o.child;f!==null;)Lw(f,i),f=f.sibling;return ce(Kn,Kn.current&1|2),br&&IA(o,w.treeForkCount),o.child}i=i.sibling}w.tail!==null&&je()>gh&&(o.flags|=128,B=!0,H0(w,!1),o.lanes=4194304)}else{if(!B)if(i=Jf(T),i!==null){if(o.flags|=128,B=!0,i=i.updateQueue,o.updateQueue=i,ch(o,i),H0(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!br)return pn(o),null}else 2*je()-w.renderingStartTime>gh&&f!==536870912&&(o.flags|=128,B=!0,H0(w,!1),o.lanes=4194304);w.isBackwards?(T.sibling=o.child,o.child=T):(i=w.last,i!==null?i.sibling=T:o.child=T,w.last=T)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=je(),i.sibling=null,f=Kn.current,ce(Kn,B?f&1|2:f&1),br&&IA(o,w.treeForkCount),i):(pn(o),null);case 22:case 23:return $i(o),kg(),w=o.memoizedState!==null,i!==null?i.memoizedState!==null!==w&&(o.flags|=8192):w&&(o.flags|=8192),w?(f&536870912)!==0&&(o.flags&128)===0&&(pn(o),o.subtreeFlags&6&&(o.flags|=8192)):pn(o),f=o.updateQueue,f!==null&&ch(o,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),w=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(w=o.memoizedState.cachePool.pool),w!==f&&(o.flags|=2048),i!==null&&X(vl),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),NA(ea),pn(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function aN(i,o){switch(yg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return NA(ea),Ce(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return xt(o),null;case 31:if(o.memoizedState!==null){if($i(o),o.alternate===null)throw Error(n(340));pl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if($i(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));pl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return X(Kn),null;case 4:return Ce(),null;case 10:return NA(o.type),null;case 22:case 23:return $i(o),kg(),i!==null&&X(vl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return NA(ea),null;case 25:return null;default:return null}}function uy(i,o){switch(yg(o),o.tag){case 3:NA(ea),Ce();break;case 26:case 27:case 5:xt(o);break;case 4:Ce();break;case 31:o.memoizedState!==null&&$i(o);break;case 13:$i(o);break;case 19:X(Kn);break;case 10:NA(o.type);break;case 22:case 23:$i(o),kg(),i!==null&&X(vl);break;case 24:NA(ea)}}function P0(i,o){try{var f=o.updateQueue,w=f!==null?f.lastEffect:null;if(w!==null){var B=w.next;f=B;do{if((f.tag&i)===i){w=void 0;var T=f.create,L=f.inst;w=T(),L.destroy=w}f=f.next}while(f!==B)}}catch(te){Yr(o,o.return,te)}}function wo(i,o,f){try{var w=o.updateQueue,B=w!==null?w.lastEffect:null;if(B!==null){var T=B.next;w=T;do{if((w.tag&i)===i){var L=w.inst,te=L.destroy;if(te!==void 0){L.destroy=void 0,B=o;var Be=f,Ve=te;try{Ve()}catch(it){Yr(B,Be,it)}}}w=w.next}while(w!==T)}}catch(it){Yr(o,o.return,it)}}function fy(i){var o=i.updateQueue;if(o!==null){var f=i.stateNode;try{rv(o,f)}catch(w){Yr(i,i.return,w)}}}function hy(i,o,f){f.props=bl(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(w){Yr(i,o,w)}}function V0(i,o){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var w=i.stateNode;break;case 30:w=i.stateNode;break;default:w=i.stateNode}typeof f=="function"?i.refCleanup=f(w):f.current=w}}catch(B){Yr(i,o,B)}}function aA(i,o){var f=i.ref,w=i.refCleanup;if(f!==null)if(typeof w=="function")try{w()}catch(B){Yr(i,o,B)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(B){Yr(i,o,B)}else f.current=null}function dy(i){var o=i.type,f=i.memoizedProps,w=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&w.focus();break e;case"img":f.src?w.src=f.src:f.srcSet&&(w.srcset=f.srcSet)}}catch(B){Yr(i,i.return,B)}}function dx(i,o,f){try{var w=i.stateNode;_N(w,i.type,f,o),w[ue]=o}catch(B){Yr(i,i.return,B)}}function gy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_o(i.type)||i.tag===4}function gx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_o(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xx(i,o,f){var w=i.tag;if(w===5||w===6)i=i.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(i),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=_n));else if(w!==4&&(w===27&&_o(i.type)&&(f=i.stateNode,o=null),i=i.child,i!==null))for(xx(i,o,f),i=i.sibling;i!==null;)xx(i,o,f),i=i.sibling}function uh(i,o,f){var w=i.tag;if(w===5||w===6)i=i.stateNode,o?f.insertBefore(i,o):f.appendChild(i);else if(w!==4&&(w===27&&_o(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(uh(i,o,f),i=i.sibling;i!==null;)uh(i,o,f),i=i.sibling}function xy(i){var o=i.stateNode,f=i.memoizedProps;try{for(var w=i.type,B=o.attributes;B.length;)o.removeAttributeNode(B[0]);Oa(o,w,f),o[Ae]=i,o[ue]=f}catch(T){Yr(i,i.return,T)}}var UA=!1,na=!1,px=!1,py=typeof WeakSet=="function"?WeakSet:Set,Ea=null;function iN(i,o){if(i=i.containerInfo,Lx=Rh,i=G(i),Z(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var w=f.getSelection&&f.getSelection();if(w&&w.rangeCount!==0){f=w.anchorNode;var B=w.anchorOffset,T=w.focusNode;w=w.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var L=0,te=-1,Be=-1,Ve=0,it=0,ot=i,We=null;t:for(;;){for(var et;ot!==f||B!==0&&ot.nodeType!==3||(te=L+B),ot!==T||w!==0&&ot.nodeType!==3||(Be=L+w),ot.nodeType===3&&(L+=ot.nodeValue.length),(et=ot.firstChild)!==null;)We=ot,ot=et;for(;;){if(ot===i)break t;if(We===f&&++Ve===B&&(te=L),We===T&&++it===w&&(Be=L),(et=ot.nextSibling)!==null)break;ot=We,We=ot.parentNode}ot=et}f=te===-1||Be===-1?null:{start:te,end:Be}}else f=null}f=f||{start:0,end:0}}else f=null;for(Qx={focusedElem:i,selectionRange:f},Rh=!1,Ea=o;Ea!==null;)if(o=Ea,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ea=i;else for(;Ea!==null;){switch(o=Ea,T=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(f=0;f<i.length;f++)B=i[f],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&T!==null){i=void 0,f=o,B=T.memoizedProps,T=T.memoizedState,w=f.stateNode;try{var kt=bl(f.type,B);i=w.getSnapshotBeforeUpdate(kt,T),w.__reactInternalSnapshotBeforeUpdate=i}catch(Wt){Yr(f,f.return,Wt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,f=i.nodeType,f===9)Px(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Px(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Ea=i;break}Ea=o.return}}function my(i,o,f){var w=f.flags;switch(f.tag){case 0:case 11:case 15:MA(i,f),w&4&&P0(5,f);break;case 1:if(MA(i,f),w&4)if(i=f.stateNode,o===null)try{i.componentDidMount()}catch(L){Yr(f,f.return,L)}else{var B=bl(f.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(B,o,i.__reactInternalSnapshotBeforeUpdate)}catch(L){Yr(f,f.return,L)}}w&64&&fy(f),w&512&&V0(f,f.return);break;case 3:if(MA(i,f),w&64&&(i=f.updateQueue,i!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{rv(i,o)}catch(L){Yr(f,f.return,L)}}break;case 27:o===null&&w&4&&xy(f);case 26:case 5:MA(i,f),o===null&&w&4&&dy(f),w&512&&V0(f,f.return);break;case 12:MA(i,f);break;case 31:MA(i,f),w&4&&yy(i,f);break;case 13:MA(i,f),w&4&&Ey(i,f),w&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=dN.bind(null,f),ON(i,f))));break;case 22:if(w=f.memoizedState!==null||UA,!w){o=o!==null&&o.memoizedState!==null||na,B=UA;var T=na;UA=w,(na=o)&&!T?LA(i,f,(f.subtreeFlags&8772)!==0):MA(i,f),UA=B,na=T}break;case 30:break;default:MA(i,f)}}function wy(i){var o=i.alternate;o!==null&&(i.alternate=null,wy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&lt(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var En=null,Oi=!1;function kA(i,o,f){for(f=f.child;f!==null;)vy(i,o,f),f=f.sibling}function vy(i,o,f){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(Je,f)}catch{}switch(f.tag){case 26:na||aA(f,o),kA(i,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:na||aA(f,o);var w=En,B=Oi;_o(f.type)&&(En=f.stateNode,Oi=!1),kA(i,o,f),Z0(f.stateNode),En=w,Oi=B;break;case 5:na||aA(f,o);case 6:if(w=En,B=Oi,En=null,kA(i,o,f),En=w,Oi=B,En!==null)if(Oi)try{(En.nodeType===9?En.body:En.nodeName==="HTML"?En.ownerDocument.body:En).removeChild(f.stateNode)}catch(T){Yr(f,o,T)}else try{En.removeChild(f.stateNode)}catch(T){Yr(f,o,T)}break;case 18:En!==null&&(Oi?(i=En,fE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),kc(i)):fE(En,f.stateNode));break;case 4:w=En,B=Oi,En=f.stateNode.containerInfo,Oi=!0,kA(i,o,f),En=w,Oi=B;break;case 0:case 11:case 14:case 15:wo(2,f,o),na||wo(4,f,o),kA(i,o,f);break;case 1:na||(aA(f,o),w=f.stateNode,typeof w.componentWillUnmount=="function"&&hy(f,o,w)),kA(i,o,f);break;case 21:kA(i,o,f);break;case 22:na=(w=na)||f.memoizedState!==null,kA(i,o,f),na=w;break;default:kA(i,o,f)}}function yy(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{kc(i)}catch(f){Yr(o,o.return,f)}}}function Ey(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{kc(i)}catch(f){Yr(o,o.return,f)}}function sN(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new py),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new py),o;default:throw Error(n(435,i.tag))}}function fh(i,o){var f=sN(i);o.forEach(function(w){if(!f.has(w)){f.add(w);var B=gN.bind(null,i,w);w.then(B,B)}})}function Ui(i,o){var f=o.deletions;if(f!==null)for(var w=0;w<f.length;w++){var B=f[w],T=i,L=o,te=L;e:for(;te!==null;){switch(te.tag){case 27:if(_o(te.type)){En=te.stateNode,Oi=!1;break e}break;case 5:En=te.stateNode,Oi=!1;break e;case 3:case 4:En=te.stateNode.containerInfo,Oi=!0;break e}te=te.return}if(En===null)throw Error(n(160));vy(T,L,B),En=null,Oi=!1,T=B.alternate,T!==null&&(T.return=null),B.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Cy(o,i),o=o.sibling}var Qs=null;function Cy(i,o){var f=i.alternate,w=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ui(o,i),ki(i),w&4&&(wo(3,i,i.return),P0(3,i),wo(5,i,i.return));break;case 1:Ui(o,i),ki(i),w&512&&(na||f===null||aA(f,f.return)),w&64&&UA&&(i=i.updateQueue,i!==null&&(w=i.callbacks,w!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?w:f.concat(w))));break;case 26:var B=Qs;if(Ui(o,i),ki(i),w&512&&(na||f===null||aA(f,f.return)),w&4){var T=f!==null?f.memoizedState:null;if(w=i.memoizedState,f===null)if(w===null)if(i.stateNode===null){e:{w=i.type,f=i.memoizedProps,B=B.ownerDocument||B;t:switch(w){case"title":T=B.getElementsByTagName("title")[0],(!T||T[Ke]||T[Ae]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=B.createElement(w),B.head.insertBefore(T,B.querySelector("head > title"))),Oa(T,w,f),T[Ae]=i,Nt(T),w=T;break e;case"link":var L=CE("link","href",B).get(w+(f.href||""));if(L){for(var te=0;te<L.length;te++)if(T=L[te],T.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&T.getAttribute("rel")===(f.rel==null?null:f.rel)&&T.getAttribute("title")===(f.title==null?null:f.title)&&T.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){L.splice(te,1);break t}}T=B.createElement(w),Oa(T,w,f),B.head.appendChild(T);break;case"meta":if(L=CE("meta","content",B).get(w+(f.content||""))){for(te=0;te<L.length;te++)if(T=L[te],T.getAttribute("content")===(f.content==null?null:""+f.content)&&T.getAttribute("name")===(f.name==null?null:f.name)&&T.getAttribute("property")===(f.property==null?null:f.property)&&T.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&T.getAttribute("charset")===(f.charSet==null?null:f.charSet)){L.splice(te,1);break t}}T=B.createElement(w),Oa(T,w,f),B.head.appendChild(T);break;default:throw Error(n(468,w))}T[Ae]=i,Nt(T),w=T}i.stateNode=w}else BE(B,i.type,i.stateNode);else i.stateNode=EE(B,w,i.memoizedProps);else T!==w?(T===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):T.count--,w===null?BE(B,i.type,i.stateNode):EE(B,w,i.memoizedProps)):w===null&&i.stateNode!==null&&dx(i,i.memoizedProps,f.memoizedProps)}break;case 27:Ui(o,i),ki(i),w&512&&(na||f===null||aA(f,f.return)),f!==null&&w&4&&dx(i,i.memoizedProps,f.memoizedProps);break;case 5:if(Ui(o,i),ki(i),w&512&&(na||f===null||aA(f,f.return)),i.flags&32){B=i.stateNode;try{bi(B,"")}catch(kt){Yr(i,i.return,kt)}}w&4&&i.stateNode!=null&&(B=i.memoizedProps,dx(i,B,f!==null?f.memoizedProps:B)),w&1024&&(px=!0);break;case 6:if(Ui(o,i),ki(i),w&4){if(i.stateNode===null)throw Error(n(162));w=i.memoizedProps,f=i.stateNode;try{f.nodeValue=w}catch(kt){Yr(i,i.return,kt)}}break;case 3:if(Ih=null,B=Qs,Qs=_h(o.containerInfo),Ui(o,i),Qs=B,ki(i),w&4&&f!==null&&f.memoizedState.isDehydrated)try{kc(o.containerInfo)}catch(kt){Yr(i,i.return,kt)}px&&(px=!1,By(i));break;case 4:w=Qs,Qs=_h(i.stateNode.containerInfo),Ui(o,i),ki(i),Qs=w;break;case 12:Ui(o,i),ki(i);break;case 31:Ui(o,i),ki(i),w&4&&(w=i.updateQueue,w!==null&&(i.updateQueue=null,fh(i,w)));break;case 13:Ui(o,i),ki(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(dh=je()),w&4&&(w=i.updateQueue,w!==null&&(i.updateQueue=null,fh(i,w)));break;case 22:B=i.memoizedState!==null;var Be=f!==null&&f.memoizedState!==null,Ve=UA,it=na;if(UA=Ve||B,na=it||Be,Ui(o,i),na=it,UA=Ve,ki(i),w&8192)e:for(o=i.stateNode,o._visibility=B?o._visibility&-2:o._visibility|1,B&&(f===null||Be||UA||na||_l(i)),f=null,o=i;;){if(o.tag===5||o.tag===26){if(f===null){Be=f=o;try{if(T=Be.stateNode,B)L=T.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{te=Be.stateNode;var ot=Be.memoizedProps.style,We=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;te.style.display=We==null||typeof We=="boolean"?"":(""+We).trim()}}catch(kt){Yr(Be,Be.return,kt)}}}else if(o.tag===6){if(f===null){Be=o;try{Be.stateNode.nodeValue=B?"":Be.memoizedProps}catch(kt){Yr(Be,Be.return,kt)}}}else if(o.tag===18){if(f===null){Be=o;try{var et=Be.stateNode;B?hE(et,!0):hE(Be.stateNode,!1)}catch(kt){Yr(Be,Be.return,kt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}w&4&&(w=i.updateQueue,w!==null&&(f=w.retryQueue,f!==null&&(w.retryQueue=null,fh(i,f))));break;case 19:Ui(o,i),ki(i),w&4&&(w=i.updateQueue,w!==null&&(i.updateQueue=null,fh(i,w)));break;case 30:break;case 21:break;default:Ui(o,i),ki(i)}}function ki(i){var o=i.flags;if(o&2){try{for(var f,w=i.return;w!==null;){if(gy(w)){f=w;break}w=w.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var B=f.stateNode,T=gx(i);uh(i,T,B);break;case 5:var L=f.stateNode;f.flags&32&&(bi(L,""),f.flags&=-33);var te=gx(i);uh(i,te,L);break;case 3:case 4:var Be=f.stateNode.containerInfo,Ve=gx(i);xx(i,Ve,Be);break;default:throw Error(n(161))}}catch(it){Yr(i,i.return,it)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function By(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;By(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function MA(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)my(i,o.alternate,o),o=o.sibling}function _l(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:wo(4,o,o.return),_l(o);break;case 1:aA(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&hy(o,o.return,f),_l(o);break;case 27:Z0(o.stateNode);case 26:case 5:aA(o,o.return),_l(o);break;case 22:o.memoizedState===null&&_l(o);break;case 30:_l(o);break;default:_l(o)}i=i.sibling}}function LA(i,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var w=o.alternate,B=i,T=o,L=T.flags;switch(T.tag){case 0:case 11:case 15:LA(B,T,f),P0(4,T);break;case 1:if(LA(B,T,f),w=T,B=w.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Ve){Yr(w,w.return,Ve)}if(w=T,B=w.updateQueue,B!==null){var te=w.stateNode;try{var Be=B.shared.hiddenCallbacks;if(Be!==null)for(B.shared.hiddenCallbacks=null,B=0;B<Be.length;B++)tv(Be[B],te)}catch(Ve){Yr(w,w.return,Ve)}}f&&L&64&&fy(T),V0(T,T.return);break;case 27:xy(T);case 26:case 5:LA(B,T,f),f&&w===null&&L&4&&dy(T),V0(T,T.return);break;case 12:LA(B,T,f);break;case 31:LA(B,T,f),f&&L&4&&yy(B,T);break;case 13:LA(B,T,f),f&&L&4&&Ey(B,T);break;case 22:T.memoizedState===null&&LA(B,T,f),V0(T,T.return);break;case 30:break;default:LA(B,T,f)}o=o.sibling}}function mx(i,o){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&S0(f))}function wx(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&S0(i))}function js(i,o,f,w){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)by(i,o,f,w),o=o.sibling}function by(i,o,f,w){var B=o.flags;switch(o.tag){case 0:case 11:case 15:js(i,o,f,w),B&2048&&P0(9,o);break;case 1:js(i,o,f,w);break;case 3:js(i,o,f,w),B&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&S0(i)));break;case 12:if(B&2048){js(i,o,f,w),i=o.stateNode;try{var T=o.memoizedProps,L=T.id,te=T.onPostCommit;typeof te=="function"&&te(L,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Be){Yr(o,o.return,Be)}}else js(i,o,f,w);break;case 31:js(i,o,f,w);break;case 13:js(i,o,f,w);break;case 23:break;case 22:T=o.stateNode,L=o.alternate,o.memoizedState!==null?T._visibility&2?js(i,o,f,w):G0(i,o):T._visibility&2?js(i,o,f,w):(T._visibility|=2,bc(i,o,f,w,(o.subtreeFlags&10256)!==0||!1)),B&2048&&mx(L,o);break;case 24:js(i,o,f,w),B&2048&&wx(o.alternate,o);break;default:js(i,o,f,w)}}function bc(i,o,f,w,B){for(B=B&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var T=i,L=o,te=f,Be=w,Ve=L.flags;switch(L.tag){case 0:case 11:case 15:bc(T,L,te,Be,B),P0(8,L);break;case 23:break;case 22:var it=L.stateNode;L.memoizedState!==null?it._visibility&2?bc(T,L,te,Be,B):G0(T,L):(it._visibility|=2,bc(T,L,te,Be,B)),B&&Ve&2048&&mx(L.alternate,L);break;case 24:bc(T,L,te,Be,B),B&&Ve&2048&&wx(L.alternate,L);break;default:bc(T,L,te,Be,B)}o=o.sibling}}function G0(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=i,w=o,B=w.flags;switch(w.tag){case 22:G0(f,w),B&2048&&mx(w.alternate,w);break;case 24:G0(f,w),B&2048&&wx(w.alternate,w);break;default:G0(f,w)}o=o.sibling}}var K0=8192;function _c(i,o,f){if(i.subtreeFlags&K0)for(i=i.child;i!==null;)_y(i,o,f),i=i.sibling}function _y(i,o,f){switch(i.tag){case 26:_c(i,o,f),i.flags&K0&&i.memoizedState!==null&&zN(f,Qs,i.memoizedState,i.memoizedProps);break;case 5:_c(i,o,f);break;case 3:case 4:var w=Qs;Qs=_h(i.stateNode.containerInfo),_c(i,o,f),Qs=w;break;case 22:i.memoizedState===null&&(w=i.alternate,w!==null&&w.memoizedState!==null?(w=K0,K0=16777216,_c(i,o,f),K0=w):_c(i,o,f));break;default:_c(i,o,f)}}function Ty(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function z0(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var w=o[f];Ea=w,Sy(w,i)}Ty(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Iy(i),i=i.sibling}function Iy(i){switch(i.tag){case 0:case 11:case 15:z0(i),i.flags&2048&&wo(9,i,i.return);break;case 3:z0(i);break;case 12:z0(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,hh(i)):z0(i);break;default:z0(i)}}function hh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var w=o[f];Ea=w,Sy(w,i)}Ty(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:wo(8,o,o.return),hh(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,hh(o));break;default:hh(o)}i=i.sibling}}function Sy(i,o){for(;Ea!==null;){var f=Ea;switch(f.tag){case 0:case 11:case 15:wo(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var w=f.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:S0(f.memoizedState.cache)}if(w=f.child,w!==null)w.return=f,Ea=w;else e:for(f=i;Ea!==null;){w=Ea;var B=w.sibling,T=w.return;if(wy(w),w===f){Ea=null;break e}if(B!==null){B.return=T,Ea=B;break e}Ea=T}}}var AN={getCacheForType:function(i){var o=Ra(ea),f=o.data.get(i);return f===void 0&&(f=i(),o.data.set(i,f)),f},cacheSignal:function(){return Ra(ea).controller.signal}},oN=typeof WeakMap=="function"?WeakMap:Map,jr=0,An=null,pr=null,vr=0,Xr=0,es=null,vo=!1,Tc=!1,vx=!1,QA=0,Ln=0,yo=0,Tl=0,yx=0,ts=0,Ic=0,W0=null,Mi=null,Ex=!1,dh=0,Ny=0,gh=1/0,xh=null,Eo=null,fa=0,Co=null,Sc=null,jA=0,Cx=0,Bx=null,Fy=null,X0=0,bx=null;function rs(){return(jr&2)!==0&&vr!==0?vr&-vr:me.T!==null?Fx():J()}function Ry(){if(ts===0)if((vr&536870912)===0||br){var i=qt;qt<<=1,(qt&3932160)===0&&(qt=262144),ts=i}else ts=536870912;return i=Zi.current,i!==null&&(i.flags|=32),ts}function Li(i,o,f){(i===An&&(Xr===2||Xr===9)||i.cancelPendingCommit!==null)&&(Nc(i,0),Bo(i,vr,ts,!1)),li(i,f),((jr&2)===0||i!==An)&&(i===An&&((jr&2)===0&&(Tl|=f),Ln===4&&Bo(i,vr,ts,!1)),iA(i))}function Dy(i,o,f){if((jr&6)!==0)throw Error(n(327));var w=!f&&(o&127)===0&&(o&i.expiredLanes)===0||dn(i,o),B=w?uN(i,o):Tx(i,o,!0),T=w;do{if(B===0){Tc&&!w&&Bo(i,o,0,!1);break}else{if(f=i.current.alternate,T&&!lN(f)){B=Tx(i,o,!1),T=!1;continue}if(B===2){if(T=o,i.errorRecoveryDisabledLanes&T)var L=0;else L=i.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){o=L;e:{var te=i;B=W0;var Be=te.current.memoizedState.isDehydrated;if(Be&&(Nc(te,L).flags|=256),L=Tx(te,L,!1),L!==2){if(vx&&!Be){te.errorRecoveryDisabledLanes|=T,Tl|=T,B=4;break e}T=Mi,Mi=B,T!==null&&(Mi===null?Mi=T:Mi.push.apply(Mi,T))}B=L}if(T=!1,B!==2)continue}}if(B===1){Nc(i,0),Bo(i,o,0,!0);break}e:{switch(w=i,T=B,T){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Bo(w,o,ts,!vo);break e;case 2:Mi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(B=dh+300-je(),10<B)){if(Bo(w,o,ts,!vo),Zn(w,0,!0)!==0)break e;jA=o,w.timeoutHandle=cE(Oy.bind(null,w,f,Mi,xh,Ex,o,ts,Tl,Ic,vo,T,"Throttled",-0,0),B);break e}Oy(w,f,Mi,xh,Ex,o,ts,Tl,Ic,vo,T,null,-0,0)}}break}while(!0);iA(i)}function Oy(i,o,f,w,B,T,L,te,Be,Ve,it,ot,We,et){if(i.timeoutHandle=-1,ot=o.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},_y(o,T,ot);var kt=(T&62914560)===T?dh-je():(T&4194048)===T?Ny-je():0;if(kt=WN(ot,kt),kt!==null){jA=T,i.cancelPendingCommit=kt(Py.bind(null,i,o,T,f,w,B,L,te,Be,it,ot,null,We,et)),Bo(i,T,L,!Ve);return}}Py(i,o,T,f,w,B,L,te,Be)}function lN(i){for(var o=i;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var w=0;w<f.length;w++){var B=f[w],T=B.getSnapshot;B=B.value;try{if(!v(T(),B))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Bo(i,o,f,w){o&=~yx,o&=~Tl,i.suspendedLanes|=o,i.pingedLanes&=~o,w&&(i.warmLanes|=o),w=i.expirationTimes;for(var B=o;0<B;){var T=31-st(B),L=1<<T;w[T]=-1,B&=~L}f!==0&&mA(i,f,o)}function ph(){return(jr&6)===0?(Y0(0),!1):!0}function _x(){if(pr!==null){if(Xr===0)var i=pr.return;else i=pr,SA=ml=null,Pg(i),vc=null,F0=0,i=pr;for(;i!==null;)uy(i.alternate,i),i=i.return;pr=null}}function Nc(i,o){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,SN(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),jA=0,_x(),An=i,pr=f=TA(i.current,null),vr=o,Xr=0,es=null,vo=!1,Tc=dn(i,o),vx=!1,Ic=ts=yx=Tl=yo=Ln=0,Mi=W0=null,Ex=!1,(o&8)!==0&&(o|=o&32);var w=i.entangledLanes;if(w!==0)for(i=i.entanglements,w&=o;0<w;){var B=31-st(w),T=1<<B;o|=i[B],w&=~T}return QA=o,Lf(),f}function Uy(i,o){cr=null,me.H=Q0,o===wc||o===zf?(o=Jw(),Xr=3):o===Ng?(o=Jw(),Xr=4):Xr=o===ax?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,es=o,pr===null&&(Ln=1,sh(i,ps(o,i.current)))}function ky(){var i=Zi.current;return i===null?!0:(vr&4194048)===vr?ys===null:(vr&62914560)===vr||(vr&536870912)!==0?i===ys:!1}function My(){var i=me.H;return me.H=Q0,i===null?Q0:i}function Ly(){var i=me.A;return me.A=AN,i}function mh(){Ln=4,vo||(vr&4194048)!==vr&&Zi.current!==null||(Tc=!0),(yo&134217727)===0&&(Tl&134217727)===0||An===null||Bo(An,vr,ts,!1)}function Tx(i,o,f){var w=jr;jr|=2;var B=My(),T=Ly();(An!==i||vr!==o)&&(xh=null,Nc(i,o)),o=!1;var L=Ln;e:do try{if(Xr!==0&&pr!==null){var te=pr,Be=es;switch(Xr){case 8:_x(),L=6;break e;case 3:case 2:case 9:case 6:Zi.current===null&&(o=!0);var Ve=Xr;if(Xr=0,es=null,Fc(i,te,Be,Ve),f&&Tc){L=0;break e}break;default:Ve=Xr,Xr=0,es=null,Fc(i,te,Be,Ve)}}cN(),L=Ln;break}catch(it){Uy(i,it)}while(!0);return o&&i.shellSuspendCounter++,SA=ml=null,jr=w,me.H=B,me.A=T,pr===null&&(An=null,vr=0,Lf()),L}function cN(){for(;pr!==null;)Qy(pr)}function uN(i,o){var f=jr;jr|=2;var w=My(),B=Ly();An!==i||vr!==o?(xh=null,gh=je()+500,Nc(i,o)):Tc=dn(i,o);e:do try{if(Xr!==0&&pr!==null){o=pr;var T=es;t:switch(Xr){case 1:Xr=0,es=null,Fc(i,o,T,1);break;case 2:case 9:if(Yw(T)){Xr=0,es=null,jy(o);break}o=function(){Xr!==2&&Xr!==9||An!==i||(Xr=7),iA(i)},T.then(o,o);break e;case 3:Xr=7;break e;case 4:Xr=5;break e;case 7:Yw(T)?(Xr=0,es=null,jy(o)):(Xr=0,es=null,Fc(i,o,T,7));break;case 5:var L=null;switch(pr.tag){case 26:L=pr.memoizedState;case 5:case 27:var te=pr;if(L?bE(L):te.stateNode.complete){Xr=0,es=null;var Be=te.sibling;if(Be!==null)pr=Be;else{var Ve=te.return;Ve!==null?(pr=Ve,wh(Ve)):pr=null}break t}}Xr=0,es=null,Fc(i,o,T,5);break;case 6:Xr=0,es=null,Fc(i,o,T,6);break;case 8:_x(),Ln=6;break e;default:throw Error(n(462))}}fN();break}catch(it){Uy(i,it)}while(!0);return SA=ml=null,me.H=w,me.A=B,jr=f,pr!==null?0:(An=null,vr=0,Lf(),Ln)}function fN(){for(;pr!==null&&!wn();)Qy(pr)}function Qy(i){var o=ly(i.alternate,i,QA);i.memoizedProps=i.pendingProps,o===null?wh(i):pr=o}function jy(i){var o=i,f=o.alternate;switch(o.tag){case 15:case 0:o=ny(f,o,o.pendingProps,o.type,void 0,vr);break;case 11:o=ny(f,o,o.pendingProps,o.type.render,o.ref,vr);break;case 5:Pg(o);default:uy(f,o),o=pr=Lw(o,QA),o=ly(f,o,QA)}i.memoizedProps=i.pendingProps,o===null?wh(i):pr=o}function Fc(i,o,f,w){SA=ml=null,Pg(o),vc=null,F0=0;var B=o.return;try{if(eN(i,B,o,f,vr)){Ln=1,sh(i,ps(f,i.current)),pr=null;return}}catch(T){if(B!==null)throw pr=B,T;Ln=1,sh(i,ps(f,i.current)),pr=null;return}o.flags&32768?(br||w===1?i=!0:Tc||(vr&536870912)!==0?i=!1:(vo=i=!0,(w===2||w===9||w===3||w===6)&&(w=Zi.current,w!==null&&w.tag===13&&(w.flags|=16384))),Hy(o,i)):wh(o)}function wh(i){var o=i;do{if((o.flags&32768)!==0){Hy(o,vo);return}i=o.return;var f=nN(o.alternate,o,QA);if(f!==null){pr=f;return}if(o=o.sibling,o!==null){pr=o;return}pr=o=i}while(o!==null);Ln===0&&(Ln=5)}function Hy(i,o){do{var f=aN(i.alternate,i);if(f!==null){f.flags&=32767,pr=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(i=i.sibling,i!==null)){pr=i;return}pr=i=f}while(i!==null);Ln=6,pr=null}function Py(i,o,f,w,B,T,L,te,Be){i.cancelPendingCommit=null;do vh();while(fa!==0);if((jr&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(T=o.lanes|o.childLanes,T|=gg,Hr(i,f,T,L,te,Be),i===An&&(pr=An=null,vr=0),Sc=o,Co=i,jA=f,Cx=T,Bx=B,Fy=w,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xN(or,function(){return Wy(),null})):(i.callbackNode=null,i.callbackPriority=0),w=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||w){w=me.T,me.T=null,B=oe.p,oe.p=2,L=jr,jr|=4;try{iN(i,o,f)}finally{jr=L,oe.p=B,me.T=w}}fa=1,Vy(),Gy(),Ky()}}function Vy(){if(fa===1){fa=0;var i=Co,o=Sc,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=me.T,me.T=null;var w=oe.p;oe.p=2;var B=jr;jr|=4;try{Cy(o,i);var T=Qx,L=G(i.containerInfo),te=T.focusedElem,Be=T.selectionRange;if(L!==te&&te&&te.ownerDocument&&M(te.ownerDocument.documentElement,te)){if(Be!==null&&Z(te)){var Ve=Be.start,it=Be.end;if(it===void 0&&(it=Ve),"selectionStart"in te)te.selectionStart=Ve,te.selectionEnd=Math.min(it,te.value.length);else{var ot=te.ownerDocument||document,We=ot&&ot.defaultView||window;if(We.getSelection){var et=We.getSelection(),kt=te.textContent.length,Wt=Math.min(Be.start,kt),rn=Be.end===void 0?Wt:Math.min(Be.end,kt);!et.extend&&Wt>rn&&(L=rn,rn=Wt,Wt=L);var De=S(te,Wt),Ne=S(te,rn);if(De&&Ne&&(et.rangeCount!==1||et.anchorNode!==De.node||et.anchorOffset!==De.offset||et.focusNode!==Ne.node||et.focusOffset!==Ne.offset)){var He=ot.createRange();He.setStart(De.node,De.offset),et.removeAllRanges(),Wt>rn?(et.addRange(He),et.extend(Ne.node,Ne.offset)):(He.setEnd(Ne.node,Ne.offset),et.addRange(He))}}}}for(ot=[],et=te;et=et.parentNode;)et.nodeType===1&&ot.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<ot.length;te++){var At=ot[te];At.element.scrollLeft=At.left,At.element.scrollTop=At.top}}Rh=!!Lx,Qx=Lx=null}finally{jr=B,oe.p=w,me.T=f}}i.current=o,fa=2}}function Gy(){if(fa===2){fa=0;var i=Co,o=Sc,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=me.T,me.T=null;var w=oe.p;oe.p=2;var B=jr;jr|=4;try{my(i,o.alternate,o)}finally{jr=B,oe.p=w,me.T=f}}fa=3}}function Ky(){if(fa===4||fa===3){fa=0,ln();var i=Co,o=Sc,f=jA,w=Fy;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?fa=5:(fa=0,Sc=Co=null,zy(i,i.pendingLanes));var B=i.pendingLanes;if(B===0&&(Eo=null),ci(f),o=o.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(Je,o,void 0,(o.current.flags&128)===128)}catch{}if(w!==null){o=me.T,B=oe.p,oe.p=2,me.T=null;try{for(var T=i.onRecoverableError,L=0;L<w.length;L++){var te=w[L];T(te.value,{componentStack:te.stack})}}finally{me.T=o,oe.p=B}}(jA&3)!==0&&vh(),iA(i),B=i.pendingLanes,(f&261930)!==0&&(B&42)!==0?i===bx?X0++:(X0=0,bx=i):X0=0,Y0(0)}}function zy(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,S0(o)))}function vh(){return Vy(),Gy(),Ky(),Wy()}function Wy(){if(fa!==5)return!1;var i=Co,o=Cx;Cx=0;var f=ci(jA),w=me.T,B=oe.p;try{oe.p=32>f?32:f,me.T=null,f=Bx,Bx=null;var T=Co,L=jA;if(fa=0,Sc=Co=null,jA=0,(jr&6)!==0)throw Error(n(331));var te=jr;if(jr|=4,Iy(T.current),by(T,T.current,L,f),jr=te,Y0(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(Je,T)}catch{}return!0}finally{oe.p=B,me.T=w,zy(i,o)}}function Xy(i,o,f){o=ps(f,o),o=nx(i.stateNode,o,2),i=xo(i,o,2),i!==null&&(li(i,2),iA(i))}function Yr(i,o,f){if(i.tag===3)Xy(i,i,f);else for(;o!==null;){if(o.tag===3){Xy(o,i,f);break}else if(o.tag===1){var w=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Eo===null||!Eo.has(w))){i=ps(f,i),f=Yv(2),w=xo(o,f,2),w!==null&&(qv(f,w,o,i),li(w,2),iA(w));break}}o=o.return}}function Ix(i,o,f){var w=i.pingCache;if(w===null){w=i.pingCache=new oN;var B=new Set;w.set(o,B)}else B=w.get(o),B===void 0&&(B=new Set,w.set(o,B));B.has(f)||(vx=!0,B.add(f),i=hN.bind(null,i,o,f),o.then(i,i))}function hN(i,o,f){var w=i.pingCache;w!==null&&w.delete(o),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,An===i&&(vr&f)===f&&(Ln===4||Ln===3&&(vr&62914560)===vr&&300>je()-dh?(jr&2)===0&&Nc(i,0):yx|=f,Ic===vr&&(Ic=0)),iA(i)}function Yy(i,o){o===0&&(o=vn()),i=gl(i,o),i!==null&&(li(i,o),iA(i))}function dN(i){var o=i.memoizedState,f=0;o!==null&&(f=o.retryLane),Yy(i,f)}function gN(i,o){var f=0;switch(i.tag){case 31:case 13:var w=i.stateNode,B=i.memoizedState;B!==null&&(f=B.retryLane);break;case 19:w=i.stateNode;break;case 22:w=i.stateNode._retryCache;break;default:throw Error(n(314))}w!==null&&w.delete(o),Yy(i,f)}function xN(i,o){return Ar(i,o)}var yh=null,Rc=null,Sx=!1,Eh=!1,Nx=!1,bo=0;function iA(i){i!==Rc&&i.next===null&&(Rc===null?yh=Rc=i:Rc=Rc.next=i),Eh=!0,Sx||(Sx=!0,mN())}function Y0(i,o){if(!Nx&&Eh){Nx=!0;do for(var f=!1,w=yh;w!==null;){if(i!==0){var B=w.pendingLanes;if(B===0)var T=0;else{var L=w.suspendedLanes,te=w.pingedLanes;T=(1<<31-st(42|i)+1)-1,T&=B&~(L&~te),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(f=!0,$y(w,T))}else T=vr,T=Zn(w,w===An?T:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(T&3)===0||dn(w,T)||(f=!0,$y(w,T));w=w.next}while(f);Nx=!1}}function pN(){qy()}function qy(){Eh=Sx=!1;var i=0;bo!==0&&IN()&&(i=bo);for(var o=je(),f=null,w=yh;w!==null;){var B=w.next,T=Jy(w,o);T===0?(w.next=null,f===null?yh=B:f.next=B,B===null&&(Rc=f)):(f=w,(i!==0||(T&3)!==0)&&(Eh=!0)),w=B}fa!==0&&fa!==5||Y0(i),bo!==0&&(bo=0)}function Jy(i,o){for(var f=i.suspendedLanes,w=i.pingedLanes,B=i.expirationTimes,T=i.pendingLanes&-62914561;0<T;){var L=31-st(T),te=1<<L,Be=B[L];Be===-1?((te&f)===0||(te&w)!==0)&&(B[L]=us(te,o)):Be<=o&&(i.expiredLanes|=te),T&=~te}if(o=An,f=vr,f=Zn(i,i===o?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),w=i.callbackNode,f===0||i===o&&(Xr===2||Xr===9)||i.cancelPendingCommit!==null)return w!==null&&w!==null&&Ct(w),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||dn(i,f)){if(o=f&-f,o===i.callbackPriority)return o;switch(w!==null&&Ct(w),ci(f)){case 2:case 8:f=Xt;break;case 32:f=or;break;case 268435456:f=Kt;break;default:f=or}return w=Zy.bind(null,i),f=Ar(f,w),i.callbackPriority=o,i.callbackNode=f,o}return w!==null&&w!==null&&Ct(w),i.callbackPriority=2,i.callbackNode=null,2}function Zy(i,o){if(fa!==0&&fa!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(vh()&&i.callbackNode!==f)return null;var w=vr;return w=Zn(i,i===An?w:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),w===0?null:(Dy(i,w,o),Jy(i,je()),i.callbackNode!=null&&i.callbackNode===f?Zy.bind(null,i):null)}function $y(i,o){if(vh())return null;Dy(i,o,!0)}function mN(){NN(function(){(jr&6)!==0?Ar(Bt,pN):qy()})}function Fx(){if(bo===0){var i=pc;i===0&&(i=Ka,Ka<<=1,(Ka&261888)===0&&(Ka=256)),bo=i}return bo}function eE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_i(""+i)}function tE(i,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,i.id&&f.setAttribute("form",i.id),o.parentNode.insertBefore(f,o),i=new FormData(i),f.parentNode.removeChild(f),i}function wN(i,o,f,w,B){if(o==="submit"&&f&&f.stateNode===B){var T=eE((B[ue]||null).action),L=w.submitter;L&&(o=(o=L[ue]||null)?eE(o.formAction):L.getAttribute("formAction"),o!==null&&(T=o,L=null));var te=new On("action","action",null,w,B);i.push({event:te,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(bo!==0){var Be=L?tE(B,L):new FormData(B);Jg(f,{pending:!0,data:Be,method:B.method,action:T},null,Be)}}else typeof T=="function"&&(te.preventDefault(),Be=L?tE(B,L):new FormData(B),Jg(f,{pending:!0,data:Be,method:B.method,action:T},T,Be))},currentTarget:B}]})}}for(var Rx=0;Rx<_0.length;Rx++){var Dx=_0[Rx],vN=Dx.toLowerCase(),yN=Dx[0].toUpperCase()+Dx.slice(1);Ls(vN,"on"+yN)}Ls(Di,"onAnimationEnd"),Ls(Na,"onAnimationIteration"),Ls(Vr,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(ua,"onTransitionRun"),Ls(hi,"onTransitionStart"),Ls(oo,"onTransitionCancel"),Ls(_A,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),Ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var q0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(q0));function rE(i,o){o=(o&4)!==0;for(var f=0;f<i.length;f++){var w=i[f],B=w.event;w=w.listeners;e:{var T=void 0;if(o)for(var L=w.length-1;0<=L;L--){var te=w[L],Be=te.instance,Ve=te.currentTarget;if(te=te.listener,Be!==T&&B.isPropagationStopped())break e;T=te,B.currentTarget=Ve;try{T(B)}catch(it){Mf(it)}B.currentTarget=null,T=Be}else for(L=0;L<w.length;L++){if(te=w[L],Be=te.instance,Ve=te.currentTarget,te=te.listener,Be!==T&&B.isPropagationStopped())break e;T=te,B.currentTarget=Ve;try{T(B)}catch(it){Mf(it)}B.currentTarget=null,T=Be}}}}function mr(i,o){var f=o[Qe];f===void 0&&(f=o[Qe]=new Set);var w=i+"__bubble";f.has(w)||(nE(o,i,2,!1),f.add(w))}function Ox(i,o,f){var w=0;o&&(w|=4),nE(f,i,w,o)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function Ux(i){if(!i[Ch]){i[Ch]=!0,rt.forEach(function(f){f!=="selectionchange"&&(EN.has(f)||Ox(f,!1,i),Ox(f,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ch]||(o[Ch]=!0,Ox("selectionchange",!1,o))}}function nE(i,o,f,w){switch(RE(o)){case 2:var B=qN;break;case 8:B=JN;break;default:B=qx}f=B.bind(null,o,f,i),B=void 0,!ol||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(B=!0),w?B!==void 0?i.addEventListener(o,f,{capture:!0,passive:B}):i.addEventListener(o,f,!0):B!==void 0?i.addEventListener(o,f,{passive:B}):i.addEventListener(o,f,!1)}function kx(i,o,f,w,B){var T=w;if((o&1)===0&&(o&2)===0&&w!==null)e:for(;;){if(w===null)return;var L=w.tag;if(L===3||L===4){var te=w.stateNode.containerInfo;if(te===B)break;if(L===4)for(L=w.return;L!==null;){var Be=L.tag;if((Be===3||Be===4)&&L.stateNode.containerInfo===B)return;L=L.return}for(;te!==null;){if(L=ft(te),L===null)return;if(Be=L.tag,Be===5||Be===6||Be===26||Be===27){w=T=L;continue e}te=te.parentNode}}w=w.return}Ac(function(){var Ve=T,it=so(f),ot=[];e:{var We=kf.get(i);if(We!==void 0){var et=On,kt=i;switch(i){case"keypress":if(Yi(f)===0)break e;case"keydown":case"keyup":et=CA;break;case"focusin":kt="focus",et=eA;break;case"focusout":kt="blur",et=eA;break;case"beforeblur":case"afterblur":et=eA;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=vA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=lc;break;case Di:case Na:case Vr:et=Zt;break;case _A:et=Ri;break;case"scroll":case"scrollend":et=ll;break;case"wheel":et=cc;break;case"copy":case"cut":case"paste":et=yA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Rr;break;case"toggle":case"beforetoggle":et=gs}var Wt=(o&4)!==0,rn=!Wt&&(i==="scroll"||i==="scrollend"),De=Wt?We!==null?We+"Capture":null:We;Wt=[];for(var Ne=Ve,He;Ne!==null;){var At=Ne;if(He=At.stateNode,At=At.tag,At!==5&&At!==26&&At!==27||He===null||De===null||(At=Vt(Ne,De),At!=null&&Wt.push(J0(Ne,At,He))),rn)break;Ne=Ne.return}0<Wt.length&&(We=new et(We,kt,null,f,it),ot.push({event:We,listeners:Wt}))}}if((o&7)===0){e:{if(We=i==="mouseover"||i==="pointerover",et=i==="mouseout"||i==="pointerout",We&&f!==Zs&&(kt=f.relatedTarget||f.fromElement)&&(ft(kt)||kt[we]))break e;if((et||We)&&(We=it.window===it?it:(We=it.ownerDocument)?We.defaultView||We.parentWindow:window,et?(kt=f.relatedTarget||f.toElement,et=Ve,kt=kt?ft(kt):null,kt!==null&&(rn=A(kt),Wt=kt.tag,kt!==rn||Wt!==5&&Wt!==27&&Wt!==6)&&(kt=null)):(et=null,kt=Ve),et!==kt)){if(Wt=Fr,At="onMouseLeave",De="onMouseEnter",Ne="mouse",(i==="pointerout"||i==="pointerover")&&(Wt=Rr,At="onPointerLeave",De="onPointerEnter",Ne="pointer"),rn=et==null?We:pt(et),He=kt==null?We:pt(kt),We=new Wt(At,Ne+"leave",et,f,it),We.target=rn,We.relatedTarget=He,At=null,ft(it)===Ve&&(Wt=new Wt(De,Ne+"enter",kt,f,it),Wt.target=He,Wt.relatedTarget=rn,At=Wt),rn=At,et&&kt)t:{for(Wt=CN,De=et,Ne=kt,He=0,At=De;At;At=Wt(At))He++;At=0;for(var Gt=Ne;Gt;Gt=Wt(Gt))At++;for(;0<He-At;)De=Wt(De),He--;for(;0<At-He;)Ne=Wt(Ne),At--;for(;He--;){if(De===Ne||Ne!==null&&De===Ne.alternate){Wt=De;break t}De=Wt(De),Ne=Wt(Ne)}Wt=null}else Wt=null;et!==null&&aE(ot,We,et,Wt,!1),kt!==null&&rn!==null&&aE(ot,rn,kt,Wt,!0)}}e:{if(We=Ve?pt(Ve):window,et=We.nodeName&&We.nodeName.toLowerCase(),et==="select"||et==="input"&&We.type==="file")var kr=qi;else if(Sa(We))if(Uf)kr=g;else{kr=l;var Lt=s}else et=We.nodeName,!et||et.toLowerCase()!=="input"||We.type!=="checkbox"&&We.type!=="radio"?Ve&&zr(Ve.elementType)&&(kr=qi):kr=u;if(kr&&(kr=kr(i,Ve))){ya(ot,kr,f,it);break e}Lt&&Lt(i,We,Ve),i==="focusout"&&Ve&&We.type==="number"&&Ve.memoizedProps.value!=null&&fe(We,"number",We.value)}switch(Lt=Ve?pt(Ve):window,i){case"focusin":(Sa(Lt)||Lt.contentEditable==="true")&&(be=Lt,Te=Ve,Oe=null);break;case"focusout":Oe=Te=be=null;break;case"mousedown":qe=!0;break;case"contextmenu":case"mouseup":case"dragend":qe=!1,wt(ot,f,it);break;case"selectionchange":if(pe)break;case"keydown":case"keyup":wt(ot,f,it)}var dr;if(O)e:{switch(i){case"compositionstart":var yr="onCompositionStart";break e;case"compositionend":yr="onCompositionEnd";break e;case"compositionupdate":yr="onCompositionUpdate";break e}yr=void 0}else hr?Ur(i,f)&&(yr="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(yr="onCompositionStart");yr&&(Me&&f.locale!=="ko"&&(hr||yr!=="onCompositionStart"?yr==="onCompositionEnd"&&hr&&(dr=Si()):(Xa=it,Ii="value"in Xa?Xa.value:Xa.textContent,hr=!0)),Lt=Bh(Ve,yr),0<Lt.length&&(yr=new cl(yr,i,null,f,it),ot.push({event:yr,listeners:Lt}),dr?yr.data=dr:(dr=un(f),dr!==null&&(yr.data=dr)))),(dr=ie?sn(i,f):Tn(i,f))&&(yr=Bh(Ve,"onBeforeInput"),0<yr.length&&(Lt=new cl("onBeforeInput","beforeinput",null,f,it),ot.push({event:Lt,listeners:yr}),Lt.data=dr)),wN(ot,i,Ve,f,it)}rE(ot,o)})}function J0(i,o,f){return{instance:i,listener:o,currentTarget:f}}function Bh(i,o){for(var f=o+"Capture",w=[];i!==null;){var B=i,T=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||T===null||(B=Vt(i,f),B!=null&&w.unshift(J0(i,B,T)),B=Vt(i,o),B!=null&&w.push(J0(i,B,T))),i.tag===3)return w;i=i.return}return[]}function CN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function aE(i,o,f,w,B){for(var T=o._reactName,L=[];f!==null&&f!==w;){var te=f,Be=te.alternate,Ve=te.stateNode;if(te=te.tag,Be!==null&&Be===w)break;te!==5&&te!==26&&te!==27||Ve===null||(Be=Ve,B?(Ve=Vt(f,T),Ve!=null&&L.unshift(J0(f,Ve,Be))):B||(Ve=Vt(f,T),Ve!=null&&L.push(J0(f,Ve,Be)))),f=f.return}L.length!==0&&i.push({event:o,listeners:L})}var BN=/\r\n?/g,bN=/\u0000|\uFFFD/g;function iE(i){return(typeof i=="string"?i:""+i).replace(BN,`
`).replace(bN,"")}function sE(i,o){return o=iE(o),iE(i)===o}function tn(i,o,f,w,B,T){switch(f){case"children":typeof w=="string"?o==="body"||o==="textarea"&&w===""||bi(i,w):(typeof w=="number"||typeof w=="bigint")&&o!=="body"&&bi(i,""+w);break;case"className":fs(i,"class",w);break;case"tabIndex":fs(i,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":fs(i,f,w);break;case"style":Qt(i,w,T);break;case"data":if(o!=="object"){fs(i,"data",w);break}case"src":case"href":if(w===""&&(o!=="a"||f!=="href")){i.removeAttribute(f);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){i.removeAttribute(f);break}w=_i(""+w),i.setAttribute(f,w);break;case"action":case"formAction":if(typeof w=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(f==="formAction"?(o!=="input"&&tn(i,o,"name",B.name,B,null),tn(i,o,"formEncType",B.formEncType,B,null),tn(i,o,"formMethod",B.formMethod,B,null),tn(i,o,"formTarget",B.formTarget,B,null)):(tn(i,o,"encType",B.encType,B,null),tn(i,o,"method",B.method,B,null),tn(i,o,"target",B.target,B,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){i.removeAttribute(f);break}w=_i(""+w),i.setAttribute(f,w);break;case"onClick":w!=null&&(i.onclick=_n);break;case"onScroll":w!=null&&mr("scroll",i);break;case"onScrollEnd":w!=null&&mr("scrollend",i);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(f=w.__html,f!=null){if(B.children!=null)throw Error(n(60));i.innerHTML=f}}break;case"multiple":i.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":i.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){i.removeAttribute("xlink:href");break}f=_i(""+w),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?i.setAttribute(f,""+w):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":w===!0?i.setAttribute(f,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?i.setAttribute(f,w):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?i.setAttribute(f,w):i.removeAttribute(f);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?i.removeAttribute(f):i.setAttribute(f,w);break;case"popover":mr("beforetoggle",i),mr("toggle",i),Rn(i,"popover",w);break;case"xlinkActuate":za(i,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":za(i,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":za(i,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":za(i,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":za(i,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":za(i,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":za(i,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":za(i,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":za(i,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Rn(i,"is",w);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=sc.get(f)||f,Rn(i,f,w))}}function Mx(i,o,f,w,B,T){switch(f){case"style":Qt(i,w,T);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(f=w.__html,f!=null){if(B.children!=null)throw Error(n(60));i.innerHTML=f}}break;case"children":typeof w=="string"?bi(i,w):(typeof w=="number"||typeof w=="bigint")&&bi(i,""+w);break;case"onScroll":w!=null&&mr("scroll",i);break;case"onScrollEnd":w!=null&&mr("scrollend",i);break;case"onClick":w!=null&&(i.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(B=f.endsWith("Capture"),o=f.slice(2,B?f.length-7:void 0),T=i[ue]||null,T=T!=null?T[f]:null,typeof T=="function"&&i.removeEventListener(o,T,B),typeof w=="function")){typeof T!="function"&&T!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(o,w,B);break e}f in i?i[f]=w:w===!0?i.setAttribute(f,""):Rn(i,f,w)}}}function Oa(i,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mr("error",i),mr("load",i);var w=!1,B=!1,T;for(T in f)if(f.hasOwnProperty(T)){var L=f[T];if(L!=null)switch(T){case"src":w=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:tn(i,o,T,L,f,null)}}B&&tn(i,o,"srcSet",f.srcSet,f,null),w&&tn(i,o,"src",f.src,f,null);return;case"input":mr("invalid",i);var te=T=L=B=null,Be=null,Ve=null;for(w in f)if(f.hasOwnProperty(w)){var it=f[w];if(it!=null)switch(w){case"name":B=it;break;case"type":L=it;break;case"checked":Be=it;break;case"defaultChecked":Ve=it;break;case"value":T=it;break;case"defaultValue":te=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,o));break;default:tn(i,o,w,it,f,null)}}Le(i,T,te,Be,Ve,L,B,!1);return;case"select":mr("invalid",i),w=L=T=null;for(B in f)if(f.hasOwnProperty(B)&&(te=f[B],te!=null))switch(B){case"value":T=te;break;case"defaultValue":L=te;break;case"multiple":w=te;default:tn(i,o,B,te,f,null)}o=T,f=L,i.multiple=!!w,o!=null?yt(i,!!w,o,!1):f!=null&&yt(i,!!w,f,!0);return;case"textarea":mr("invalid",i),T=B=w=null;for(L in f)if(f.hasOwnProperty(L)&&(te=f[L],te!=null))switch(L){case"value":w=te;break;case"defaultValue":B=te;break;case"children":T=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(91));break;default:tn(i,o,L,te,f,null)}Pn(i,w,B,T);return;case"option":for(Be in f)if(f.hasOwnProperty(Be)&&(w=f[Be],w!=null))switch(Be){case"selected":i.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:tn(i,o,Be,w,f,null)}return;case"dialog":mr("beforetoggle",i),mr("toggle",i),mr("cancel",i),mr("close",i);break;case"iframe":case"object":mr("load",i);break;case"video":case"audio":for(w=0;w<q0.length;w++)mr(q0[w],i);break;case"image":mr("error",i),mr("load",i);break;case"details":mr("toggle",i);break;case"embed":case"source":case"link":mr("error",i),mr("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ve in f)if(f.hasOwnProperty(Ve)&&(w=f[Ve],w!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:tn(i,o,Ve,w,f,null)}return;default:if(zr(o)){for(it in f)f.hasOwnProperty(it)&&(w=f[it],w!==void 0&&Mx(i,o,it,w,f,void 0));return}}for(te in f)f.hasOwnProperty(te)&&(w=f[te],w!=null&&tn(i,o,te,w,f,null))}function _N(i,o,f,w){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,T=null,L=null,te=null,Be=null,Ve=null,it=null;for(et in f){var ot=f[et];if(f.hasOwnProperty(et)&&ot!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":Be=ot;default:w.hasOwnProperty(et)||tn(i,o,et,null,w,ot)}}for(var We in w){var et=w[We];if(ot=f[We],w.hasOwnProperty(We)&&(et!=null||ot!=null))switch(We){case"type":T=et;break;case"name":B=et;break;case"checked":Ve=et;break;case"defaultChecked":it=et;break;case"value":L=et;break;case"defaultValue":te=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(n(137,o));break;default:et!==ot&&tn(i,o,We,et,w,ot)}}gn(i,L,te,Be,Ve,it,T,B);return;case"select":et=L=te=We=null;for(T in f)if(Be=f[T],f.hasOwnProperty(T)&&Be!=null)switch(T){case"value":break;case"multiple":et=Be;default:w.hasOwnProperty(T)||tn(i,o,T,null,w,Be)}for(B in w)if(T=w[B],Be=f[B],w.hasOwnProperty(B)&&(T!=null||Be!=null))switch(B){case"value":We=T;break;case"defaultValue":te=T;break;case"multiple":L=T;default:T!==Be&&tn(i,o,B,T,w,Be)}o=te,f=L,w=et,We!=null?yt(i,!!f,We,!1):!!w!=!!f&&(o!=null?yt(i,!!f,o,!0):yt(i,!!f,f?[]:"",!1));return;case"textarea":et=We=null;for(te in f)if(B=f[te],f.hasOwnProperty(te)&&B!=null&&!w.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:tn(i,o,te,null,w,B)}for(L in w)if(B=w[L],T=f[L],w.hasOwnProperty(L)&&(B!=null||T!=null))switch(L){case"value":We=B;break;case"defaultValue":et=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(91));break;default:B!==T&&tn(i,o,L,B,w,T)}cn(i,We,et);return;case"option":for(var kt in f)if(We=f[kt],f.hasOwnProperty(kt)&&We!=null&&!w.hasOwnProperty(kt))switch(kt){case"selected":i.selected=!1;break;default:tn(i,o,kt,null,w,We)}for(Be in w)if(We=w[Be],et=f[Be],w.hasOwnProperty(Be)&&We!==et&&(We!=null||et!=null))switch(Be){case"selected":i.selected=We&&typeof We!="function"&&typeof We!="symbol";break;default:tn(i,o,Be,We,w,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Wt in f)We=f[Wt],f.hasOwnProperty(Wt)&&We!=null&&!w.hasOwnProperty(Wt)&&tn(i,o,Wt,null,w,We);for(Ve in w)if(We=w[Ve],et=f[Ve],w.hasOwnProperty(Ve)&&We!==et&&(We!=null||et!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(n(137,o));break;default:tn(i,o,Ve,We,w,et)}return;default:if(zr(o)){for(var rn in f)We=f[rn],f.hasOwnProperty(rn)&&We!==void 0&&!w.hasOwnProperty(rn)&&Mx(i,o,rn,void 0,w,We);for(it in w)We=w[it],et=f[it],!w.hasOwnProperty(it)||We===et||We===void 0&&et===void 0||Mx(i,o,it,We,w,et);return}}for(var De in f)We=f[De],f.hasOwnProperty(De)&&We!=null&&!w.hasOwnProperty(De)&&tn(i,o,De,null,w,We);for(ot in w)We=w[ot],et=f[ot],!w.hasOwnProperty(ot)||We===et||We==null&&et==null||tn(i,o,ot,We,w,et)}function AE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,f=performance.getEntriesByType("resource"),w=0;w<f.length;w++){var B=f[w],T=B.transferSize,L=B.initiatorType,te=B.duration;if(T&&te&&AE(L)){for(L=0,te=B.responseEnd,w+=1;w<f.length;w++){var Be=f[w],Ve=Be.startTime;if(Ve>te)break;var it=Be.transferSize,ot=Be.initiatorType;it&&AE(ot)&&(Be=Be.responseEnd,L+=it*(Be<te?1:(te-Ve)/(Be-Ve)))}if(--w,o+=8*(T+L)/(B.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lx=null,Qx=null;function bh(i){return i.nodeType===9?i:i.ownerDocument}function oE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lE(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function jx(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hx=null;function IN(){var i=window.event;return i&&i.type==="popstate"?i===Hx?!1:(Hx=i,!0):(Hx=null,!1)}var cE=typeof setTimeout=="function"?setTimeout:void 0,SN=typeof clearTimeout=="function"?clearTimeout:void 0,uE=typeof Promise=="function"?Promise:void 0,NN=typeof queueMicrotask=="function"?queueMicrotask:typeof uE<"u"?function(i){return uE.resolve(null).then(i).catch(FN)}:cE;function FN(i){setTimeout(function(){throw i})}function _o(i){return i==="head"}function fE(i,o){var f=o,w=0;do{var B=f.nextSibling;if(i.removeChild(f),B&&B.nodeType===8)if(f=B.data,f==="/$"||f==="/&"){if(w===0){i.removeChild(B),kc(o);return}w--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")w++;else if(f==="html")Z0(i.ownerDocument.documentElement);else if(f==="head"){f=i.ownerDocument.head,Z0(f);for(var T=f.firstChild;T;){var L=T.nextSibling,te=T.nodeName;T[Ke]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&T.rel.toLowerCase()==="stylesheet"||f.removeChild(T),T=L}}else f==="body"&&Z0(i.ownerDocument.body);f=B}while(f);kc(o)}function hE(i,o){var f=i;i=0;do{var w=f.nextSibling;if(f.nodeType===1?o?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(o?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(i===0)break;i--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||i++;f=w}while(f)}function Px(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Px(f),lt(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function RN(i,o,f,w){for(;i.nodeType===1;){var B=f;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!w&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(w){if(!i[Ke])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(T=i.getAttribute("rel"),T==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(T!==B.rel||i.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||i.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||i.getAttribute("title")!==(B.title==null?null:B.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(T=i.getAttribute("src"),(T!==(B.src==null?null:B.src)||i.getAttribute("type")!==(B.type==null?null:B.type)||i.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&T&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var T=B.name==null?null:""+B.name;if(B.type==="hidden"&&i.getAttribute("name")===T)return i}else return i;if(i=Es(i.nextSibling),i===null)break}return null}function DN(i,o,f){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=Es(i.nextSibling),i===null))return null;return i}function dE(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Es(i.nextSibling),i===null))return null;return i}function Vx(i){return i.data==="$?"||i.data==="$~"}function Gx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ON(i,o){var f=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||f.readyState!=="loading")o();else{var w=function(){o(),f.removeEventListener("DOMContentLoaded",w)};f.addEventListener("DOMContentLoaded",w),i._reactRetry=w}}function Es(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Kx=null;function gE(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"||f==="/&"){if(o===0)return Es(i.nextSibling);o--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||o++}i=i.nextSibling}return null}function xE(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(o===0)return i;o--}else f!=="/$"&&f!=="/&"||o++}i=i.previousSibling}return null}function pE(i,o,f){switch(o=bh(f),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Z0(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);lt(i)}var Cs=new Map,mE=new Set;function _h(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var HA=oe.d;oe.d={f:UN,r:kN,D:MN,C:LN,L:QN,m:jN,X:PN,S:HN,M:VN};function UN(){var i=HA.f(),o=ph();return i||o}function kN(i){var o=dt(i);o!==null&&o.tag===5&&o.type==="form"?Uv(o):HA.r(i)}var Dc=typeof document>"u"?null:document;function wE(i,o,f){var w=Dc;if(w&&typeof o=="string"&&o){var B=Yt(o);B='link[rel="'+i+'"][href="'+B+'"]',typeof f=="string"&&(B+='[crossorigin="'+f+'"]'),mE.has(B)||(mE.add(B),i={rel:i,crossOrigin:f,href:o},w.querySelector(B)===null&&(o=w.createElement("link"),Oa(o,"link",i),Nt(o),w.head.appendChild(o)))}}function MN(i){HA.D(i),wE("dns-prefetch",i,null)}function LN(i,o){HA.C(i,o),wE("preconnect",i,o)}function QN(i,o,f){HA.L(i,o,f);var w=Dc;if(w&&i&&o){var B='link[rel="preload"][as="'+Yt(o)+'"]';o==="image"&&f&&f.imageSrcSet?(B+='[imagesrcset="'+Yt(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(B+='[imagesizes="'+Yt(f.imageSizes)+'"]')):B+='[href="'+Yt(i)+'"]';var T=B;switch(o){case"style":T=Oc(i);break;case"script":T=Uc(i)}Cs.has(T)||(i=b({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:i,as:o},f),Cs.set(T,i),w.querySelector(B)!==null||o==="style"&&w.querySelector($0(T))||o==="script"&&w.querySelector(eu(T))||(o=w.createElement("link"),Oa(o,"link",i),Nt(o),w.head.appendChild(o)))}}function jN(i,o){HA.m(i,o);var f=Dc;if(f&&i){var w=o&&typeof o.as=="string"?o.as:"script",B='link[rel="modulepreload"][as="'+Yt(w)+'"][href="'+Yt(i)+'"]',T=B;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Uc(i)}if(!Cs.has(T)&&(i=b({rel:"modulepreload",href:i},o),Cs.set(T,i),f.querySelector(B)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(eu(T)))return}w=f.createElement("link"),Oa(w,"link",i),Nt(w),f.head.appendChild(w)}}}function HN(i,o,f){HA.S(i,o,f);var w=Dc;if(w&&i){var B=vt(w).hoistableStyles,T=Oc(i);o=o||"default";var L=B.get(T);if(!L){var te={loading:0,preload:null};if(L=w.querySelector($0(T)))te.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":o},f),(f=Cs.get(T))&&zx(i,f);var Be=L=w.createElement("link");Nt(Be),Oa(Be,"link",i),Be._p=new Promise(function(Ve,it){Be.onload=Ve,Be.onerror=it}),Be.addEventListener("load",function(){te.loading|=1}),Be.addEventListener("error",function(){te.loading|=2}),te.loading|=4,Th(L,o,w)}L={type:"stylesheet",instance:L,count:1,state:te},B.set(T,L)}}}function PN(i,o){HA.X(i,o);var f=Dc;if(f&&i){var w=vt(f).hoistableScripts,B=Uc(i),T=w.get(B);T||(T=f.querySelector(eu(B)),T||(i=b({src:i,async:!0},o),(o=Cs.get(B))&&Wx(i,o),T=f.createElement("script"),Nt(T),Oa(T,"link",i),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},w.set(B,T))}}function VN(i,o){HA.M(i,o);var f=Dc;if(f&&i){var w=vt(f).hoistableScripts,B=Uc(i),T=w.get(B);T||(T=f.querySelector(eu(B)),T||(i=b({src:i,async:!0,type:"module"},o),(o=Cs.get(B))&&Wx(i,o),T=f.createElement("script"),Nt(T),Oa(T,"link",i),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},w.set(B,T))}}function vE(i,o,f,w){var B=(B=xe.current)?_h(B):null;if(!B)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=Oc(f.href),f=vt(B).hoistableStyles,w=f.get(o),w||(w={type:"style",instance:null,count:0,state:null},f.set(o,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=Oc(f.href);var T=vt(B).hoistableStyles,L=T.get(i);if(L||(B=B.ownerDocument||B,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(i,L),(T=B.querySelector($0(i)))&&!T._p&&(L.instance=T,L.state.loading=5),Cs.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Cs.set(i,f),T||GN(B,i,f,L.state))),o&&w===null)throw Error(n(528,""));return L}if(o&&w!==null)throw Error(n(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Uc(f),f=vt(B).hoistableScripts,w=f.get(o),w||(w={type:"script",instance:null,count:0,state:null},f.set(o,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Oc(i){return'href="'+Yt(i)+'"'}function $0(i){return'link[rel="stylesheet"]['+i+"]"}function yE(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function GN(i,o,f,w){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?w.loading=1:(o=i.createElement("link"),w.preload=o,o.addEventListener("load",function(){return w.loading|=1}),o.addEventListener("error",function(){return w.loading|=2}),Oa(o,"link",f),Nt(o),i.head.appendChild(o))}function Uc(i){return'[src="'+Yt(i)+'"]'}function eu(i){return"script[async]"+i}function EE(i,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var w=i.querySelector('style[data-href~="'+Yt(f.href)+'"]');if(w)return o.instance=w,Nt(w),w;var B=b({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return w=(i.ownerDocument||i).createElement("style"),Nt(w),Oa(w,"style",B),Th(w,f.precedence,i),o.instance=w;case"stylesheet":B=Oc(f.href);var T=i.querySelector($0(B));if(T)return o.state.loading|=4,o.instance=T,Nt(T),T;w=yE(f),(B=Cs.get(B))&&zx(w,B),T=(i.ownerDocument||i).createElement("link"),Nt(T);var L=T;return L._p=new Promise(function(te,Be){L.onload=te,L.onerror=Be}),Oa(T,"link",w),o.state.loading|=4,Th(T,f.precedence,i),o.instance=T;case"script":return T=Uc(f.src),(B=i.querySelector(eu(T)))?(o.instance=B,Nt(B),B):(w=f,(B=Cs.get(T))&&(w=b({},f),Wx(w,B)),i=i.ownerDocument||i,B=i.createElement("script"),Nt(B),Oa(B,"link",w),i.head.appendChild(B),o.instance=B);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(w=o.instance,o.state.loading|=4,Th(w,f.precedence,i));return o.instance}function Th(i,o,f){for(var w=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=w.length?w[w.length-1]:null,T=B,L=0;L<w.length;L++){var te=w[L];if(te.dataset.precedence===o)T=te;else if(T!==B)break}T?T.parentNode.insertBefore(i,T.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(i,o.firstChild))}function zx(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Wx(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Ih=null;function CE(i,o,f){if(Ih===null){var w=new Map,B=Ih=new Map;B.set(f,w)}else B=Ih,w=B.get(f),w||(w=new Map,B.set(f,w));if(w.has(i))return w;for(w.set(i,null),f=f.getElementsByTagName(i),B=0;B<f.length;B++){var T=f[B];if(!(T[Ke]||T[Ae]||i==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var L=T.getAttribute(o)||"";L=i+L;var te=w.get(L);te?te.push(T):w.set(L,[T])}}return w}function BE(i,o,f){i=i.ownerDocument||i,i.head.insertBefore(f,o==="title"?i.querySelector("head > title"):null)}function KN(i,o,f){if(f===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function bE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function zN(i,o,f,w){if(f.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var B=Oc(w.href),T=o.querySelector($0(B));if(T){o=T._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Sh.bind(i),o.then(i,i)),f.state.loading|=4,f.instance=T,Nt(T);return}T=o.ownerDocument||o,w=yE(w),(B=Cs.get(B))&&zx(w,B),T=T.createElement("link"),Nt(T);var L=T;L._p=new Promise(function(te,Be){L.onload=te,L.onerror=Be}),Oa(T,"link",w),f.instance=T}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(f,o),(o=f.state.preload)&&(f.state.loading&3)===0&&(i.count++,f=Sh.bind(i),o.addEventListener("load",f),o.addEventListener("error",f))}}var Xx=0;function WN(i,o){return i.stylesheets&&i.count===0&&Fh(i,i.stylesheets),0<i.count||0<i.imgCount?function(f){var w=setTimeout(function(){if(i.stylesheets&&Fh(i,i.stylesheets),i.unsuspend){var T=i.unsuspend;i.unsuspend=null,T()}},6e4+o);0<i.imgBytes&&Xx===0&&(Xx=62500*TN());var B=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Fh(i,i.stylesheets),i.unsuspend)){var T=i.unsuspend;i.unsuspend=null,T()}},(i.imgBytes>Xx?50:800)+o);return i.unsuspend=f,function(){i.unsuspend=null,clearTimeout(w),clearTimeout(B)}}:null}function Sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nh=null;function Fh(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nh=new Map,o.forEach(XN,i),Nh=null,Sh.call(i))}function XN(i,o){if(!(o.state.loading&4)){var f=Nh.get(i);if(f)var w=f.get(null);else{f=new Map,Nh.set(i,f);for(var B=i.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<B.length;T++){var L=B[T];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(f.set(L.dataset.precedence,L),w=L)}w&&f.set(null,w)}B=o.instance,L=B.getAttribute("data-precedence"),T=f.get(L)||w,T===w&&f.set(null,B),f.set(L,B),this.count++,w=Sh.bind(this),B.addEventListener("load",w),B.addEventListener("error",w),T?T.parentNode.insertBefore(B,T.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(B,i.firstChild)),o.state.loading|=4}}var tu={$$typeof:H,Provider:null,Consumer:null,_currentValue:Pe,_currentValue2:Pe,_threadCount:0};function YN(i,o,f,w,B,T,L,te,Be){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=w,this.onUncaughtError=B,this.onCaughtError=T,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Be,this.incompleteTransitions=new Map}function _E(i,o,f,w,B,T,L,te,Be,Ve,it,ot){return i=new YN(i,o,f,L,Be,Ve,it,ot,te),o=1,T===!0&&(o|=24),T=Ji(3,null,null,o),i.current=T,T.stateNode=i,o=Tg(),o.refCount++,i.pooledCache=o,o.refCount++,T.memoizedState={element:w,isDehydrated:f,cache:o},Fg(T),i}function TE(i){return i?(i=fc,i):fc}function IE(i,o,f,w,B,T){B=TE(B),w.context===null?w.context=B:w.pendingContext=B,w=go(o),w.payload={element:f},T=T===void 0?null:T,T!==null&&(w.callback=T),f=xo(i,w,o),f!==null&&(Li(f,i,o),D0(f,i,o))}function SE(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<o?f:o}}function Yx(i,o){SE(i,o),(i=i.alternate)&&SE(i,o)}function NE(i){if(i.tag===13||i.tag===31){var o=gl(i,67108864);o!==null&&Li(o,i,67108864),Yx(i,67108864)}}function FE(i){if(i.tag===13||i.tag===31){var o=rs();o=Fn(o);var f=gl(i,o);f!==null&&Li(f,i,o),Yx(i,o)}}var Rh=!0;function qN(i,o,f,w){var B=me.T;me.T=null;var T=oe.p;try{oe.p=2,qx(i,o,f,w)}finally{oe.p=T,me.T=B}}function JN(i,o,f,w){var B=me.T;me.T=null;var T=oe.p;try{oe.p=8,qx(i,o,f,w)}finally{oe.p=T,me.T=B}}function qx(i,o,f,w){if(Rh){var B=Jx(w);if(B===null)kx(i,o,w,Dh,f),DE(i,w);else if($N(B,i,o,f,w))w.stopPropagation();else if(DE(i,w),o&4&&-1<ZN.indexOf(i)){for(;B!==null;){var T=dt(B);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var L=Qr(T.pendingLanes);if(L!==0){var te=T;for(te.pendingLanes|=2,te.entangledLanes|=2;L;){var Be=1<<31-st(L);te.entanglements[1]|=Be,L&=~Be}iA(T),(jr&6)===0&&(gh=je()+500,Y0(0))}}break;case 31:case 13:te=gl(T,2),te!==null&&Li(te,T,2),ph(),Yx(T,2)}if(T=Jx(w),T===null&&kx(i,o,w,Dh,f),T===B)break;B=T}B!==null&&w.stopPropagation()}else kx(i,o,w,null,f)}}function Jx(i){return i=so(i),Zx(i)}var Dh=null;function Zx(i){if(Dh=null,i=ft(i),i!==null){var o=A(i);if(o===null)i=null;else{var f=o.tag;if(f===13){if(i=c(o),i!==null)return i;i=null}else if(f===31){if(i=d(o),i!==null)return i;i=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dh=i,null}function RE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case Bt:return 2;case Xt:return 8;case or:case fr:return 32;case Kt:return 268435456;default:return 32}default:return 32}}var $x=!1,To=null,Io=null,So=null,ru=new Map,nu=new Map,No=[],ZN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DE(i,o){switch(i){case"focusin":case"focusout":To=null;break;case"dragenter":case"dragleave":Io=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":ru.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(o.pointerId)}}function au(i,o,f,w,B,T){return i===null||i.nativeEvent!==T?(i={blockedOn:o,domEventName:f,eventSystemFlags:w,nativeEvent:T,targetContainers:[B]},o!==null&&(o=dt(o),o!==null&&NE(o)),i):(i.eventSystemFlags|=w,o=i.targetContainers,B!==null&&o.indexOf(B)===-1&&o.push(B),i)}function $N(i,o,f,w,B){switch(o){case"focusin":return To=au(To,i,o,f,w,B),!0;case"dragenter":return Io=au(Io,i,o,f,w,B),!0;case"mouseover":return So=au(So,i,o,f,w,B),!0;case"pointerover":var T=B.pointerId;return ru.set(T,au(ru.get(T)||null,i,o,f,w,B)),!0;case"gotpointercapture":return T=B.pointerId,nu.set(T,au(nu.get(T)||null,i,o,f,w,B)),!0}return!1}function OE(i){var o=ft(i.target);if(o!==null){var f=A(o);if(f!==null){if(o=f.tag,o===13){if(o=c(f),o!==null){i.blockedOn=o,ne(i.priority,function(){FE(f)});return}}else if(o===31){if(o=d(f),o!==null){i.blockedOn=o,ne(i.priority,function(){FE(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Oh(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var f=Jx(i.nativeEvent);if(f===null){f=i.nativeEvent;var w=new f.constructor(f.type,f);Zs=w,f.target.dispatchEvent(w),Zs=null}else return o=dt(f),o!==null&&NE(o),i.blockedOn=f,!1;o.shift()}return!0}function UE(i,o,f){Oh(i)&&f.delete(o)}function eF(){$x=!1,To!==null&&Oh(To)&&(To=null),Io!==null&&Oh(Io)&&(Io=null),So!==null&&Oh(So)&&(So=null),ru.forEach(UE),nu.forEach(UE)}function Uh(i,o){i.blockedOn===o&&(i.blockedOn=null,$x||($x=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eF)))}var kh=null;function kE(i){kh!==i&&(kh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){kh===i&&(kh=null);for(var o=0;o<i.length;o+=3){var f=i[o],w=i[o+1],B=i[o+2];if(typeof w!="function"){if(Zx(w||f)===null)continue;break}var T=dt(f);T!==null&&(i.splice(o,3),o-=3,Jg(T,{pending:!0,data:B,method:f.method,action:w},w,B))}}))}function kc(i){function o(Be){return Uh(Be,i)}To!==null&&Uh(To,i),Io!==null&&Uh(Io,i),So!==null&&Uh(So,i),ru.forEach(o),nu.forEach(o);for(var f=0;f<No.length;f++){var w=No[f];w.blockedOn===i&&(w.blockedOn=null)}for(;0<No.length&&(f=No[0],f.blockedOn===null);)OE(f),f.blockedOn===null&&No.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(w=0;w<f.length;w+=3){var B=f[w],T=f[w+1],L=B[ue]||null;if(typeof T=="function")L||kE(f);else if(L){var te=null;if(T&&T.hasAttribute("formAction")){if(B=T,L=T[ue]||null)te=L.formAction;else if(Zx(B)!==null)continue}else te=L.action;typeof te=="function"?f[w+1]=te:(f.splice(w,3),w-=3),kE(f)}}}function ME(){function i(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(L){return B=L})},focusReset:"manual",scroll:"manual"})}function o(){B!==null&&(B(),B=null),w||setTimeout(f,20)}function f(){if(!w&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,B=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(f,100),function(){w=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),B!==null&&(B(),B=null)}}}function ep(i){this._internalRoot=i}Mh.prototype.render=ep.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var f=o.current,w=rs();IE(f,w,i,o,null,null)},Mh.prototype.unmount=ep.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;IE(i.current,2,null,i,null,null),ph(),o[we]=null}};function Mh(i){this._internalRoot=i}Mh.prototype.unstable_scheduleHydration=function(i){if(i){var o=J();i={blockedOn:null,target:i,priority:o};for(var f=0;f<No.length&&o!==0&&o<No[f].priority;f++);No.splice(f,0,i),f===0&&OE(i)}};var LE=t.version;if(LE!=="19.2.4")throw Error(n(527,LE,"19.2.4"));oe.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=m(o),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var tF={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:me,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{Je=Lh.inject(tF),ye=Lh}catch{}}return su.createRoot=function(i,o){if(!a(i))throw Error(n(299));var f=!1,w="",B=Kv,T=zv,L=Wv;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(w=o.identifierPrefix),o.onUncaughtError!==void 0&&(B=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(L=o.onRecoverableError)),o=_E(i,1,!1,null,null,f,w,null,B,T,L,ME),i[we]=o.current,Ux(i),new ep(o)},su.hydrateRoot=function(i,o,f){if(!a(i))throw Error(n(299));var w=!1,B="",T=Kv,L=zv,te=Wv,Be=null;return f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(B=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(L=f.onCaughtError),f.onRecoverableError!==void 0&&(te=f.onRecoverableError),f.formState!==void 0&&(Be=f.formState)),o=_E(i,1,!0,o,f??null,w,B,Be,T,L,te,ME),o.context=TE(null),f=o.current,w=rs(),w=Fn(w),B=go(w),B.callback=null,xo(f,B,w),f=w,o.current.lanes=f,li(o,f),iA(o),i[we]=o.current,Ux(i),new Mh(o)},su.version="19.2.4",su}var XE;function fF(){if(XE)return np.exports;XE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),np.exports=uF(),np.exports}var hF=fF();const dF=T_(hF),gF=({onLoginSuccess:e,settings:t})=>{const[r,n]=_e.useState(""),[a,A]=_e.useState(!1),[c,d]=_e.useState(""),p=m=>{if(m.preventDefault(),d(""),r===t.loginPassword){e({role:"admin",name:t.userName,phone:t.loginPhone,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,viewWholesalePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}});return}const y=t.staffList.find(b=>b.password===r);if(y){e({role:"staff",name:y.name,phone:y.phone,permissions:y.permissions});return}d("   ")};return h.jsx("div",{className:"relative w-full h-screen custom-gradient-bg flex items-center justify-center overflow-hidden",children:h.jsxs("div",{className:"w-full h-full md:max-w-4xl md:h-auto md:flex md:rounded-[3rem] md:overflow-hidden md:shadow-2xl md:bg-[#1a1a1a]",children:[h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-6 pt-12 md:pt-0 md:bg-black/20 md:p-12",children:[h.jsx("h1",{className:"text-white text-3xl md:text-4xl font-bold mb-2",children:"   "}),h.jsx("h2",{className:"text-white text-5xl md:text-6xl font-extrabold tracking-wider",children:"MAMA"}),h.jsx("p",{className:"text-gray-400 mt-4 text-sm font-medium",children:"    "})]}),h.jsxs("div",{className:"bg-[#1a1a1a] rounded-t-[3rem] md:rounded-none w-full px-8 pt-8 pb-12 flex flex-col items-center transition-all duration-500 border-t border-gray-800 md:border-t-0 md:border-r md:w-[450px] md:h-auto h-full mt-auto md:mt-0 justify-center",children:[h.jsx("div",{className:"w-16 h-1.5 bg-gray-500 rounded-full mb-10 opacity-30 md:hidden"}),h.jsx("h3",{className:"text-white text-3xl font-bold mb-10",children:" "}),c&&h.jsx("div",{className:"w-full bg-red-500/10 border border-red-500/30 rounded-xl py-3 px-4 mb-6 text-red-500 text-center text-sm font-bold animate-in fade-in slide-in-from-top-2",children:c}),h.jsxs("form",{onSubmit:p,className:"w-full space-y-6",children:[h.jsxs("div",{className:"input-container relative",children:[h.jsx("label",{className:"input-label",children:" "}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:a?"text":"password",placeholder:"  ",className:"custom-input pl-12",value:r,onChange:m=>n(m.target.value),required:!0}),h.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#57b385] transition-colors",onClick:()=>A(!a),"aria-label":a?"  ":"  ",children:a?h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),h.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),h.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),h.jsx("button",{type:"submit",className:"w-full btn-gradient py-4 rounded-2xl text-white text-xl font-bold shadow-lg hover:brightness-110 active:scale-[0.98] transition-all",children:" "})]}),h.jsx("div",{className:"mt-20 text-center",children:h.jsxs("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:["    ",new Date().getFullYear()," MAMA SYSTEMS"]})})]})]})})},I_=(e,t)=>{const r=window.open("","_blank");if(!r){alert("     ");return}const n=e.items||[];n.reduce((A,c)=>A+c.count,0);const a=`
    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
      <head>
        <title> #${e.id}</title>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
          
          * {
            box-sizing: border-box;
          }

          body {
            font-family: 'Tajawal', sans-serif;
            margin: 0;
            padding: 0;
            background-color: white;
            color: black;
            font-size: 12px;
          }
          
          .receipt {
            max-width: ${t.receiptSize==="58mm"?"58mm":"80mm"};
            margin: 0 auto;
            padding: 10px 20px; /* Added significant side padding */
          }
          
          .header {
            text-align: center;
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 10px;
          }
          
          .logo {
            max-width: 60px;
            max-height: 60px;
            margin-bottom: 5px;
          }
          
          .title {
            font-size: 16px;
            font-weight: 800;
            margin: 5px 0;
          }
          
          .info {
            font-size: 10px;
            margin-bottom: 5px;
          }
          
          .customer-info {
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 5px;
          }
          
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10px;
          }
          
          th {
            text-align: right;
            border-bottom: 1px solid #000;
            font-size: 10px;
            padding: 2px 0;
          }
          
          td {
            text-align: right;
            font-size: 10px;
            padding: 4px 0;
            vertical-align: top;
          }
          
          .col-price { text-align: center; }
          .col-total { text-align: left; }
          
          .totals {
            border-top: 1px dashed #000;
            padding-top: 5px;
            margin-top: 5px;
          }
          
          .row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
            font-weight: bold;
          }
          
          .total-row {
            font-size: 14px;
            font-weight: 900;
            margin-top: 5px;
          }
          
          .footer {
            text-align: center;
            margin-top: 15px;
            font-size: 9px;
            border-top: 1px dashed #000;
            padding-top: 10px;
          }

          @media print {
            body { margin: 0; padding: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="receipt">
          
          <!-- Header -->
          <div class="header">
            ${t.businessLogo?`<img src="${t.businessLogo}" class="logo" />`:""}
            <div class="title">${t.businessName}</div>
            <div class="info">${t.userName}</div>
            <div class="info">: ${new Date().toLocaleString("ar-MA")}</div>
            <div class="info"> : ${e.id}</div>
          </div>

          <!-- Customer -->
          <div class="customer-info">
            <div style="font-weight: bold;">: ${e.name}</div>
            ${e.phone?`<div>: ${e.phone}</div>`:""}
          </div>

          <!-- Items -->
          <table>
            <thead>
              <tr>
                <th width="50%"></th>
                <th width="15%" class="col-price"></th>
                <th width="35%" class="col-total"></th>
              </tr>
            </thead>
            <tbody>
              ${n.map(A=>`
                <tr>
                  <td>${A.productName}</td>
                  <td class="col-price">${A.count}</td>
                  <td class="col-total">${A.total.toFixed(2)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <!-- Totals -->
          <div class="totals">
            <div class="row total-row">
              <span> :</span>
              <span>${e.amount.toFixed(2)} .</span>
            </div>
            <div class="row">
              <span> (${e.method==="direct"?"":""}):</span>
              <span>${e.paidAmount.toFixed(2)} .</span>
            </div>
            ${e.remainingAmount>0?`
            <div class="row" style="color: black;">
              <span> ():</span>
              <span>${e.remainingAmount.toFixed(2)} .</span>
            </div>
            `:""}
          </div>

          <!-- Footer -->
          <div class="footer">
            <p> </p>
            <p>Thank you for your visit</p>
            ${t.showBarcode?`
              <div style="margin-top: 10px;">
                <svg id="barcode"></svg>
              </div>
              <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"><\/script>
              <script>
                try {
                  JsBarcode("#barcode", "${e.id}", {
                    format: "CODE128",
                    width: 1.5,
                    height: 40,
                    displayValue: true,
                    fontSize: 12
                  });
                } catch(e) {}
              <\/script>
            `:""}
          </div>
        </div>

        <script>
          // Print automatically when loaded
          window.onload = function() {
            setTimeout(function() {
              window.print();
              // Optional: window.close();
            }, 500);
          }
        <\/script>
      </body>
    </html>
  `;r.document.write(a),r.document.close()};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tm=function(e,t){return tm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},tm(e,t)};function Js(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var rm=function(){return rm=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(t[A]=r[A])}return t},rm.apply(this,arguments)};function gi(e,t,r,n){function a(A){return A instanceof r?A:new r(function(c){c(A)})}return new(r||(r=Promise))(function(A,c){function d(y){try{m(n.next(y))}catch(b){c(b)}}function p(y){try{m(n.throw(y))}catch(b){c(b)}}function m(y){y.done?A(y.value):a(y.value).then(d,p)}m((n=n.apply(e,[])).next())})}function Za(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,a,A,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(y){return p([m,y])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(A=m[0]&2?a.return:m[0]?a.throw||((A=a.return)&&A.call(a),0):a.next)&&!(A=A.call(a,m[1])).done)return A;switch(a=0,A&&(m=[m[0]&2,A.value]),m[0]){case 0:case 1:A=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!A||m[1]>A[0]&&m[1]<A[3])){r.label=m[1];break}if(m[0]===6&&r.label<A[1]){r.label=A[1],A=m;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(m);break}A[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(y){m=[6,y],a=0}finally{n=A=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function jh(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,A;n<a;n++)(A||!(n in t))&&(A||(A=Array.prototype.slice.call(t,0,n)),A[n]=t[n]);return e.concat(A||t)}var JA=(function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),F1=function(e,t){return JA.fromClientRect(e,t.getBoundingClientRect())},xF=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new JA(0,0,n,a)},R1=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((a&1023)<<10)+(A&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},Yn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,A="";++a<r;){var c=e[a];c<=65535?n.push(c):(c-=65536,n.push((c>>10)+55296,c%1024+56320)),(a+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},YE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pF=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Hh=0;Hh<YE.length;Hh++)pF[YE.charCodeAt(Hh)]=Hh;var qE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ph=0;Ph<qE.length;Ph++)hu[qE.charCodeAt(Ph)]=Ph;var mF=function(e){var t=e.length*.75,r=e.length,n,a=0,A,c,d,p;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),y=Array.isArray(m)?m:new Uint8Array(m);for(n=0;n<r;n+=4)A=hu[e.charCodeAt(n)],c=hu[e.charCodeAt(n+1)],d=hu[e.charCodeAt(n+2)],p=hu[e.charCodeAt(n+3)],y[a++]=A<<2|c>>4,y[a++]=(c&15)<<4|d>>2,y[a++]=(d&3)<<6|p&63;return m},wF=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},vF=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Ml=5,c2=11,Ap=2,yF=c2-Ml,S_=65536>>Ml,EF=1<<Ml,op=EF-1,CF=1024>>Ml,BF=S_+CF,bF=BF,_F=32,TF=bF+_F,IF=65536>>c2,SF=1<<yF,NF=SF-1,JE=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},FF=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},RF=function(e,t){var r=mF(e),n=Array.isArray(r)?vF(r):new Uint32Array(r),a=Array.isArray(r)?wF(r):new Uint16Array(r),A=24,c=JE(a,A/2,n[4]/2),d=n[5]===2?JE(a,(A+n[4])/2):FF(n,Math.ceil((A+n[4])/4));return new DF(n[0],n[1],n[2],n[3],c,d)},DF=(function(){function e(t,r,n,a,A,c){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=A,this.data=c}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Ml],r=(r<<Ap)+(t&op),this.data[r];if(t<=65535)return r=this.index[S_+(t-55296>>Ml)],r=(r<<Ap)+(t&op),this.data[r];if(t<this.highStart)return r=TF-IF+(t>>c2),r=this.index[r],r+=t>>Ml&NF,r=this.index[r],r=(r<<Ap)+(t&op),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),ZE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",OF=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vh=0;Vh<ZE.length;Vh++)OF[ZE.charCodeAt(Vh)]=Vh;var UF="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",$E=50,kF=1,N_=2,F_=3,MF=4,LF=5,eC=7,R_=8,tC=9,Qo=10,nm=11,rC=12,am=13,QF=14,du=15,im=16,Gh=17,Au=18,jF=19,nC=20,sm=21,ou=22,lp=23,Mc=24,as=25,gu=26,xu=27,Lc=28,HF=29,Fl=30,PF=31,Kh=32,zh=33,Am=34,om=35,lm=36,qu=37,cm=38,Ud=39,kd=40,cp=41,D_=42,VF=43,GF=[9001,65288],O_="!",Er="",Wh="",um=RF(UF),PA=[Fl,lm],fm=[kF,N_,F_,LF],U_=[Qo,R_],aC=[xu,gu],KF=fm.concat(U_),iC=[cm,Ud,kd,Am,om],zF=[du,am],WF=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(A,c){var d=um.get(A);if(d>$E?(a.push(!0),d-=$E):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(A)!==-1)return n.push(c),r.push(im);if(d===MF||d===nm){if(c===0)return n.push(c),r.push(Fl);var p=r[c-1];return KF.indexOf(p)===-1?(n.push(n[c-1]),r.push(p)):(n.push(c),r.push(Fl))}if(n.push(c),d===PF)return r.push(t==="strict"?sm:qu);if(d===D_||d===HF)return r.push(Fl);if(d===VF)return A>=131072&&A<=196605||A>=196608&&A<=262141?r.push(qu):r.push(Fl);r.push(d)}),[n,r,a]},up=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var A=r;A<=n.length;){A++;var c=n[A];if(c===t)return!0;if(c!==Qo)break}if(a===Qo)for(var A=r;A>0;){A--;var d=n[A];if(Array.isArray(e)?e.indexOf(d)!==-1:e===d)for(var p=r;p<=n.length;){p++;var c=n[p];if(c===t)return!0;if(c!==Qo)break}if(d!==Qo)break}return!1},sC=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===Qo)r--;else return n}return 0},XF=function(e,t,r,n,a){if(r[n]===0)return Er;var A=n-1;if(Array.isArray(a)&&a[A]===!0)return Er;var c=A-1,d=A+1,p=t[A],m=c>=0?t[c]:0,y=t[d];if(p===N_&&y===F_)return Er;if(fm.indexOf(p)!==-1)return O_;if(fm.indexOf(y)!==-1||U_.indexOf(y)!==-1)return Er;if(sC(A,t)===R_)return Wh;if(um.get(e[A])===nm||(p===Kh||p===zh)&&um.get(e[d])===nm||p===eC||y===eC||p===tC||[Qo,am,du].indexOf(p)===-1&&y===tC||[Gh,Au,jF,Mc,Lc].indexOf(y)!==-1||sC(A,t)===ou||up(lp,ou,A,t)||up([Gh,Au],sm,A,t)||up(rC,rC,A,t))return Er;if(p===Qo)return Wh;if(p===lp||y===lp)return Er;if(y===im||p===im)return Wh;if([am,du,sm].indexOf(y)!==-1||p===QF||m===lm&&zF.indexOf(p)!==-1||p===Lc&&y===lm||y===nC||PA.indexOf(y)!==-1&&p===as||PA.indexOf(p)!==-1&&y===as||p===xu&&[qu,Kh,zh].indexOf(y)!==-1||[qu,Kh,zh].indexOf(p)!==-1&&y===gu||PA.indexOf(p)!==-1&&aC.indexOf(y)!==-1||aC.indexOf(p)!==-1&&PA.indexOf(y)!==-1||[xu,gu].indexOf(p)!==-1&&(y===as||[ou,du].indexOf(y)!==-1&&t[d+1]===as)||[ou,du].indexOf(p)!==-1&&y===as||p===as&&[as,Lc,Mc].indexOf(y)!==-1)return Er;if([as,Lc,Mc,Gh,Au].indexOf(y)!==-1)for(var b=A;b>=0;){var I=t[b];if(I===as)return Er;if([Lc,Mc].indexOf(I)!==-1)b--;else break}if([xu,gu].indexOf(y)!==-1)for(var b=[Gh,Au].indexOf(p)!==-1?c:A;b>=0;){var I=t[b];if(I===as)return Er;if([Lc,Mc].indexOf(I)!==-1)b--;else break}if(cm===p&&[cm,Ud,Am,om].indexOf(y)!==-1||[Ud,Am].indexOf(p)!==-1&&[Ud,kd].indexOf(y)!==-1||[kd,om].indexOf(p)!==-1&&y===kd||iC.indexOf(p)!==-1&&[nC,gu].indexOf(y)!==-1||iC.indexOf(y)!==-1&&p===xu||PA.indexOf(p)!==-1&&PA.indexOf(y)!==-1||p===Mc&&PA.indexOf(y)!==-1||PA.concat(as).indexOf(p)!==-1&&y===ou&&GF.indexOf(e[d])===-1||PA.concat(as).indexOf(y)!==-1&&p===Au)return Er;if(p===cp&&y===cp){for(var N=r[A],R=1;N>0&&(N--,t[N]===cp);)R++;if(R%2!==0)return Er}return p===Kh&&y===zh?Er:Wh},YF=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=WF(e,t.lineBreak),n=r[0],a=r[1],A=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(d){return[as,Fl,D_].indexOf(d)!==-1?qu:d}));var c=t.wordBreak==="keep-all"?A.map(function(d,p){return d&&e[p]>=19968&&e[p]<=40959}):void 0;return[n,a,c]},qF=(function(){function e(t,r,n,a){this.codePoints=t,this.required=r===O_,this.start=n,this.end=a}return e.prototype.slice=function(){return Yn.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),JF=function(e,t){var r=R1(e),n=YF(r,t),a=n[0],A=n[1],c=n[2],d=r.length,p=0,m=0;return{next:function(){if(m>=d)return{done:!0,value:null};for(var y=Er;m<d&&(y=XF(r,A,a,++m,c))===Er;);if(y!==Er||m===d){var b=new qF(r,y,p,m);return p=m,{value:b,done:!1}}return{done:!0,value:null}}}},ZF=1,$F=2,xf=4,AC=8,Gd=10,oC=47,Nu=92,e6=9,t6=32,Xh=34,lu=61,r6=35,n6=36,a6=37,Yh=39,qh=40,cu=41,i6=95,Hi=45,s6=33,A6=60,o6=62,l6=64,c6=91,u6=93,f6=61,h6=123,Jh=63,d6=125,lC=124,g6=126,x6=128,cC=65533,fp=42,Dl=43,p6=44,m6=58,w6=59,Ju=46,v6=0,y6=8,E6=11,C6=14,B6=31,b6=127,sA=-1,k_=48,M_=97,L_=101,_6=102,T6=117,I6=122,Q_=65,j_=69,H_=70,S6=85,N6=90,ei=function(e){return e>=k_&&e<=57},F6=function(e){return e>=55296&&e<=57343},Qc=function(e){return ei(e)||e>=Q_&&e<=H_||e>=M_&&e<=_6},R6=function(e){return e>=M_&&e<=I6},D6=function(e){return e>=Q_&&e<=N6},O6=function(e){return R6(e)||D6(e)},U6=function(e){return e>=x6},Zh=function(e){return e===Gd||e===e6||e===t6},Kd=function(e){return O6(e)||U6(e)||e===i6},uC=function(e){return Kd(e)||ei(e)||e===Hi},k6=function(e){return e>=v6&&e<=y6||e===E6||e>=C6&&e<=B6||e===b6},Mo=function(e,t){return e!==Nu?!1:t!==Gd},$h=function(e,t,r){return e===Hi?Kd(t)||Mo(t,r):Kd(e)?!0:!!(e===Nu&&Mo(e,t))},hp=function(e,t,r){return e===Dl||e===Hi?ei(t)?!0:t===Ju&&ei(r):ei(e===Ju?t:e)},M6=function(e){var t=0,r=1;(e[t]===Dl||e[t]===Hi)&&(e[t]===Hi&&(r=-1),t++);for(var n=[];ei(e[t]);)n.push(e[t++]);var a=n.length?parseInt(Yn.apply(void 0,n),10):0;e[t]===Ju&&t++;for(var A=[];ei(e[t]);)A.push(e[t++]);var c=A.length,d=c?parseInt(Yn.apply(void 0,A),10):0;(e[t]===j_||e[t]===L_)&&t++;var p=1;(e[t]===Dl||e[t]===Hi)&&(e[t]===Hi&&(p=-1),t++);for(var m=[];ei(e[t]);)m.push(e[t++]);var y=m.length?parseInt(Yn.apply(void 0,m),10):0;return r*(a+d*Math.pow(10,-c))*Math.pow(10,p*y)},L6={type:2},Q6={type:3},j6={type:4},H6={type:13},P6={type:8},V6={type:21},G6={type:9},K6={type:10},z6={type:11},W6={type:12},X6={type:14},ed={type:23},Y6={type:1},q6={type:25},J6={type:24},Z6={type:26},$6={type:27},e5={type:28},t5={type:29},r5={type:31},hm={type:32},P_=(function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(R1(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==hm;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Xh:return this.consumeStringToken(Xh);case r6:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(uC(r)||Mo(n,a)){var A=$h(r,n,a)?$F:ZF,c=this.consumeName();return{type:5,value:c,flags:A}}break;case n6:if(this.peekCodePoint(0)===lu)return this.consumeCodePoint(),H6;break;case Yh:return this.consumeStringToken(Yh);case qh:return L6;case cu:return Q6;case fp:if(this.peekCodePoint(0)===lu)return this.consumeCodePoint(),X6;break;case Dl:if(hp(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case p6:return j6;case Hi:var d=t,p=this.peekCodePoint(0),m=this.peekCodePoint(1);if(hp(d,p,m))return this.reconsumeCodePoint(t),this.consumeNumericToken();if($h(d,p,m))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(p===Hi&&m===o6)return this.consumeCodePoint(),this.consumeCodePoint(),J6;break;case Ju:if(hp(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case oC:if(this.peekCodePoint(0)===fp)for(this.consumeCodePoint();;){var y=this.consumeCodePoint();if(y===fp&&(y=this.consumeCodePoint(),y===oC))return this.consumeToken();if(y===sA)return this.consumeToken()}break;case m6:return Z6;case w6:return $6;case A6:if(this.peekCodePoint(0)===s6&&this.peekCodePoint(1)===Hi&&this.peekCodePoint(2)===Hi)return this.consumeCodePoint(),this.consumeCodePoint(),q6;break;case l6:var b=this.peekCodePoint(0),I=this.peekCodePoint(1),N=this.peekCodePoint(2);if($h(b,I,N)){var c=this.consumeName();return{type:7,value:c}}break;case c6:return e5;case Nu:if(Mo(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case u6:return t5;case f6:if(this.peekCodePoint(0)===lu)return this.consumeCodePoint(),P6;break;case h6:return z6;case d6:return W6;case T6:case S6:var R=this.peekCodePoint(0),F=this.peekCodePoint(1);return R===Dl&&(Qc(F)||F===Jh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case lC:if(this.peekCodePoint(0)===lu)return this.consumeCodePoint(),G6;if(this.peekCodePoint(0)===lC)return this.consumeCodePoint(),V6;break;case g6:if(this.peekCodePoint(0)===lu)return this.consumeCodePoint(),K6;break;case sA:return hm}return Zh(t)?(this.consumeWhiteSpace(),r5):ei(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Kd(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Yn(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Qc(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===Jh&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Yn.apply(void 0,t.map(function(p){return p===Jh?k_:p})),16),A=parseInt(Yn.apply(void 0,t.map(function(p){return p===Jh?H_:p})),16);return{type:30,start:a,end:A}}var c=parseInt(Yn.apply(void 0,t),16);if(this.peekCodePoint(0)===Hi&&Qc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var d=[];Qc(r)&&d.length<6;)d.push(r),r=this.consumeCodePoint();var A=parseInt(Yn.apply(void 0,d),16);return{type:30,start:c,end:A}}else return{type:30,start:c,end:c}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===qh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===qh?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===sA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Yh||r===Xh){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===sA||this.peekCodePoint(0)===cu)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),ed)}for(;;){var a=this.consumeCodePoint();if(a===sA||a===cu)return{type:22,value:Yn.apply(void 0,t)};if(Zh(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===sA||this.peekCodePoint(0)===cu?(this.consumeCodePoint(),{type:22,value:Yn.apply(void 0,t)}):(this.consumeBadUrlRemnants(),ed);if(a===Xh||a===Yh||a===qh||k6(a))return this.consumeBadUrlRemnants(),ed;if(a===Nu)if(Mo(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ed;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;Zh(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===cu||t===sA)return;Mo(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=Yn.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===sA||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===Gd)return this._value.splice(0,n),Y6;if(a===Nu){var A=this._value[n+1];A!==sA&&A!==void 0&&(A===Gd?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Mo(a,A)&&(r+=this.consumeStringSlice(n),r+=Yn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=xf,n=this.peekCodePoint(0);for((n===Dl||n===Hi)&&t.push(this.consumeCodePoint());ei(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Ju&&ei(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=AC;ei(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var A=this.peekCodePoint(2);if((n===j_||n===L_)&&((a===Dl||a===Hi)&&ei(A)||ei(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=AC;ei(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[M6(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),A=this.peekCodePoint(1),c=this.peekCodePoint(2);if($h(a,A,c)){var d=this.consumeName();return{type:15,number:r,flags:n,unit:d}}return a===a6?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Qc(t)){for(var r=Yn(t);Qc(this.peekCodePoint(0))&&r.length<6;)r+=Yn(this.consumeCodePoint());Zh(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||F6(n)||n>1114111?cC:n}return t===sA?cC:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(uC(r))t+=Yn(r);else if(Mo(r,this.peekCodePoint(0)))t+=Yn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e})(),V_=(function(){function e(t){this._tokens=t}return e.create=function(t){var r=new P_;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||a5(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?hm:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e})(),pf=function(e){return e.type===15},p0=function(e){return e.type===17},nn=function(e){return e.type===20},n5=function(e){return e.type===0},dm=function(e,t){return nn(e)&&e.value===t},G_=function(e){return e.type!==31},A0=function(e){return e.type!==31&&e.type!==4},dA=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},a5=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Jo=function(e){return e.type===17||e.type===15},oa=function(e){return e.type===16||Jo(e)},K_=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Qa={type:17,number:0,flags:xf},u2={type:16,number:50,flags:xf},jo={type:16,number:100,flags:xf},pu=function(e,t,r){var n=e[0],a=e[1];return[fn(n,t),fn(typeof a<"u"?a:n,r)]},fn=function(e,t){if(e.type===16)return e.number/100*t;if(pf(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},z_="deg",W_="grad",X_="rad",Y_="turn",D1={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case z_:return Math.PI*t.number/180;case W_:return Math.PI/200*t.number;case X_:return t.number;case Y_:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},q_=function(e){return e.type===15&&(e.unit===z_||e.unit===W_||e.unit===X_||e.unit===Y_)},J_=function(e){var t=e.filter(nn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Qa,Qa];case"to top":case"bottom":return Ss(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Qa,jo];case"to right":case"left":return Ss(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[jo,jo];case"to bottom":case"top":return Ss(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[jo,Qa];case"to left":case"right":return Ss(270)}return 0},Ss=function(e){return Math.PI*e/180},Ko={name:"color",parse:function(e,t){if(t.type===18){var r=i5[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),A=t.value.substring(2,3);return Ho(parseInt(n+n,16),parseInt(a+a,16),parseInt(A+A,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),A=t.value.substring(2,3),c=t.value.substring(3,4);return Ho(parseInt(n+n,16),parseInt(a+a,16),parseInt(A+A,16),parseInt(c+c,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),A=t.value.substring(4,6);return Ho(parseInt(n,16),parseInt(a,16),parseInt(A,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),A=t.value.substring(4,6),c=t.value.substring(6,8);return Ho(parseInt(n,16),parseInt(a,16),parseInt(A,16),parseInt(c,16)/255)}}if(t.type===20){var d=WA[t.value.toUpperCase()];if(typeof d<"u")return d}return WA.TRANSPARENT}},zo=function(e){return(255&e)===0},Ca=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},Ho=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},fC=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},hC=function(e,t){var r=t.filter(A0);if(r.length===3){var n=r.map(fC),a=n[0],A=n[1],c=n[2];return Ho(a,A,c,1)}if(r.length===4){var d=r.map(fC),a=d[0],A=d[1],c=d[2],p=d[3];return Ho(a,A,c,p)}return 0};function dp(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var dC=function(e,t){var r=t.filter(A0),n=r[0],a=r[1],A=r[2],c=r[3],d=(n.type===17?Ss(n.number):D1.parse(e,n))/(Math.PI*2),p=oa(a)?a.number/100:0,m=oa(A)?A.number/100:0,y=typeof c<"u"&&oa(c)?fn(c,1):1;if(p===0)return Ho(m*255,m*255,m*255,1);var b=m<=.5?m*(p+1):m+p-m*p,I=m*2-b,N=dp(I,b,d+1/3),R=dp(I,b,d),F=dp(I,b,d-1/3);return Ho(N*255,R*255,F*255,y)},i5={hsl:dC,hsla:dC,rgb:hC,rgba:hC},Fu=function(e,t){return Ko.parse(e,V_.create(t).parseComponentValue())},WA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},s5={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(nn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},A5={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},O1=function(e,t){var r=Ko.parse(e,t[0]),n=t[1];return n&&oa(n)?{color:r,stop:n}:{color:r,stop:null}},gC=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Qa),n.stop===null&&(n.stop=jo);for(var a=[],A=0,c=0;c<e.length;c++){var d=e[c].stop;if(d!==null){var p=fn(d,t);p>A?a.push(p):a.push(A),A=p}else a.push(null)}for(var m=null,c=0;c<a.length;c++){var y=a[c];if(y===null)m===null&&(m=c);else if(m!==null){for(var b=c-m,I=a[m-1],N=(y-I)/(b+1),R=1;R<=b;R++)a[m+R-1]=N*R;m=null}}return e.map(function(F,D){var K=F.color;return{color:K,stop:Math.max(Math.min(1,a[D]/t),0)}})},o5=function(e,t,r){var n=t/2,a=r/2,A=fn(e[0],t)-n,c=a-fn(e[1],r);return(Math.atan2(c,A)+Math.PI*2)%(Math.PI*2)},l5=function(e,t,r){var n=typeof e=="number"?e:o5(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),A=t/2,c=r/2,d=a/2,p=Math.sin(n-Math.PI/2)*d,m=Math.cos(n-Math.PI/2)*d;return[a,A-m,A+m,c-p,c+p]},Ks=function(e,t){return Math.sqrt(e*e+t*t)},xC=function(e,t,r,n,a){var A=[[0,0],[0,t],[e,0],[e,t]];return A.reduce(function(c,d){var p=d[0],m=d[1],y=Ks(r-p,n-m);return(a?y<c.optimumDistance:y>c.optimumDistance)?{optimumCorner:d,optimumDistance:y}:c},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},c5=function(e,t,r,n,a){var A=0,c=0;switch(e.size){case 0:e.shape===0?A=c=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(A=Math.min(Math.abs(t),Math.abs(t-n)),c=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)A=c=Math.min(Ks(t,r),Ks(t,r-a),Ks(t-n,r),Ks(t-n,r-a));else if(e.shape===1){var d=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),p=xC(n,a,t,r,!0),m=p[0],y=p[1];A=Ks(m-t,(y-r)/d),c=d*A}break;case 1:e.shape===0?A=c=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(A=Math.max(Math.abs(t),Math.abs(t-n)),c=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)A=c=Math.max(Ks(t,r),Ks(t,r-a),Ks(t-n,r),Ks(t-n,r-a));else if(e.shape===1){var d=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),b=xC(n,a,t,r,!1),m=b[0],y=b[1];A=Ks(m-t,(y-r)/d),c=d*A}break}return Array.isArray(e.size)&&(A=fn(e.size[0],n),c=e.size.length===2?fn(e.size[1],a):A),[A,c]},u5=function(e,t){var r=Ss(180),n=[];return dA(t).forEach(function(a,A){if(A===0){var c=a[0];if(c.type===20&&c.value==="to"){r=J_(a);return}else if(q_(c)){r=D1.parse(e,c);return}}var d=O1(e,a);n.push(d)}),{angle:r,stops:n,type:1}},td=function(e,t){var r=Ss(180),n=[];return dA(t).forEach(function(a,A){if(A===0){var c=a[0];if(c.type===20&&["top","left","right","bottom"].indexOf(c.value)!==-1){r=J_(a);return}else if(q_(c)){r=(D1.parse(e,c)+Ss(270))%Ss(360);return}}var d=O1(e,a);n.push(d)}),{angle:r,stops:n,type:1}},f5=function(e,t){var r=Ss(180),n=[],a=1,A=0,c=3,d=[];return dA(t).forEach(function(p,m){var y=p[0];if(m===0){if(nn(y)&&y.value==="linear"){a=1;return}else if(nn(y)&&y.value==="radial"){a=2;return}}if(y.type===18){if(y.name==="from"){var b=Ko.parse(e,y.values[0]);n.push({stop:Qa,color:b})}else if(y.name==="to"){var b=Ko.parse(e,y.values[0]);n.push({stop:jo,color:b})}else if(y.name==="color-stop"){var I=y.values.filter(A0);if(I.length===2){var b=Ko.parse(e,I[1]),N=I[0];p0(N)&&n.push({stop:{type:16,number:N.number*100,flags:N.flags},color:b})}}}}),a===1?{angle:(r+Ss(180))%Ss(360),stops:n,type:a}:{size:c,shape:A,stops:n,position:d,type:a}},Z_="closest-side",$_="farthest-side",eT="closest-corner",tT="farthest-corner",rT="circle",nT="ellipse",aT="cover",iT="contain",h5=function(e,t){var r=0,n=3,a=[],A=[];return dA(t).forEach(function(c,d){var p=!0;if(d===0){var m=!1;p=c.reduce(function(b,I){if(m)if(nn(I))switch(I.value){case"center":return A.push(u2),b;case"top":case"left":return A.push(Qa),b;case"right":case"bottom":return A.push(jo),b}else(oa(I)||Jo(I))&&A.push(I);else if(nn(I))switch(I.value){case rT:return r=0,!1;case nT:return r=1,!1;case"at":return m=!0,!1;case Z_:return n=0,!1;case aT:case $_:return n=1,!1;case iT:case eT:return n=2,!1;case tT:return n=3,!1}else if(Jo(I)||oa(I))return Array.isArray(n)||(n=[]),n.push(I),!1;return b},p)}if(p){var y=O1(e,c);a.push(y)}}),{size:n,shape:r,stops:a,position:A,type:2}},rd=function(e,t){var r=0,n=3,a=[],A=[];return dA(t).forEach(function(c,d){var p=!0;if(d===0?p=c.reduce(function(y,b){if(nn(b))switch(b.value){case"center":return A.push(u2),!1;case"top":case"left":return A.push(Qa),!1;case"right":case"bottom":return A.push(jo),!1}else if(oa(b)||Jo(b))return A.push(b),!1;return y},p):d===1&&(p=c.reduce(function(y,b){if(nn(b))switch(b.value){case rT:return r=0,!1;case nT:return r=1,!1;case iT:case Z_:return n=0,!1;case $_:return n=1,!1;case eT:return n=2,!1;case aT:case tT:return n=3,!1}else if(Jo(b)||oa(b))return Array.isArray(n)||(n=[]),n.push(b),!1;return y},p)),p){var m=O1(e,c);a.push(m)}}),{size:n,shape:r,stops:a,position:A,type:2}},d5=function(e){return e.type===1},g5=function(e){return e.type===2},f2={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=sT[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function x5(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!sT[e.name])}var sT={"linear-gradient":u5,"-moz-linear-gradient":td,"-ms-linear-gradient":td,"-o-linear-gradient":td,"-webkit-linear-gradient":td,"radial-gradient":h5,"-moz-radial-gradient":rd,"-ms-radial-gradient":rd,"-o-radial-gradient":rd,"-webkit-radial-gradient":rd,"-webkit-gradient":f5},p5={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return A0(n)&&x5(n)}).map(function(n){return f2.parse(e,n)})}},m5={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(nn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},w5={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return dA(t).map(function(r){return r.filter(oa)}).map(K_)}},v5={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return dA(t).map(function(r){return r.filter(nn).map(function(n){return n.value}).join(" ")}).map(y5)}},y5=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},t0;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(t0||(t0={}));var E5={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return dA(t).map(function(r){return r.filter(C5)})}},C5=function(e){return nn(e)||oa(e)},U1=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},B5=U1("top"),b5=U1("right"),_5=U1("bottom"),T5=U1("left"),k1=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return K_(r.filter(oa))}}},I5=k1("top-left"),S5=k1("top-right"),N5=k1("bottom-right"),F5=k1("bottom-left"),M1=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},R5=M1("top"),D5=M1("right"),O5=M1("bottom"),U5=M1("left"),L1=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return pf(r)?r.number:0}}},k5=L1("top"),M5=L1("right"),L5=L1("bottom"),Q5=L1("left"),j5={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},H5={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},P5={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(nn).reduce(function(r,n){return r|V5(n.value)},0)}},V5=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},G5={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},K5={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},zd;(function(e){e.NORMAL="normal",e.STRICT="strict"})(zd||(zd={}));var z5={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return zd.STRICT;case"normal":default:return zd.NORMAL}}},W5={name:"line-height",initialValue:"normal",prefix:!1,type:4},pC=function(e,t){return nn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:oa(e)?fn(e,t):t},X5={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:f2.parse(e,t)}},Y5={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},gm={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Q1=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},q5=Q1("top"),J5=Q1("right"),Z5=Q1("bottom"),$5=Q1("left"),eR={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(nn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},tR={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},j1=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},rR=j1("top"),nR=j1("right"),aR=j1("bottom"),iR=j1("left"),sR={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},AR={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},oR={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&dm(t[0],"none")?[]:dA(t).map(function(r){for(var n={color:WA.TRANSPARENT,offsetX:Qa,offsetY:Qa,blur:Qa},a=0,A=0;A<r.length;A++){var c=r[A];Jo(c)?(a===0?n.offsetX=c:a===1?n.offsetY=c:n.blur=c,a++):n.color=Ko.parse(e,c)}return n})}},lR={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},cR={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=hR[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},uR=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},fR=function(e){var t=e.filter(function(p){return p.type===17}).map(function(p){return p.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],A=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var c=t[12],d=t[13];return t[14],t[15],t.length===16?[r,n,a,A,c,d]:null},hR={matrix:uR,matrix3d:fR},mC={type:16,number:50,flags:xf},dR=[mC,mC],gR={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(oa);return r.length!==2?dR:[r[0],r[1]]}},xR={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ru;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Ru||(Ru={}));var pR={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Ru.BREAK_ALL;case"keep-all":return Ru.KEEP_ALL;case"normal":default:return Ru.NORMAL}}},mR={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(p0(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},AT={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},wR={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return p0(t)?t.number:1}},vR={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yR={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(nn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},ER={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},CR={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},BR={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(p0(t))return t.number;if(nn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},bR={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(nn).map(function(r){return r.value})}},_R={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},da=function(e,t){return(e&t)!==0},TR={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},IR={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(G_),A=0;A<a.length;A++){var c=a[A],d=a[A+1];if(c.type===20){var p=d&&p0(d)?d.number:1;n.push({counter:c.value,increment:p})}}return n}},SR={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(G_),a=0;a<n.length;a++){var A=n[a],c=n[a+1];if(nn(A)&&A.value!=="none"){var d=c&&p0(c)?c.number:0;r.push({counter:A.value,reset:d})}}return r}},NR={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(pf).map(function(r){return AT.parse(e,r)})}},FR={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(n5);if(a.length%2!==0)return null;for(var A=0;A<a.length;A+=2){var c=a[A].value,d=a[A+1].value;n.push({open:c,close:d})}return n}},wC=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},RR={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&dm(t[0],"none")?[]:dA(t).map(function(r){for(var n={color:255,offsetX:Qa,offsetY:Qa,blur:Qa,spread:Qa,inset:!1},a=0,A=0;A<r.length;A++){var c=r[A];dm(c,"inset")?n.inset=!0:Jo(c)?(a===0?n.offsetX=c:a===1?n.offsetY=c:a===2?n.blur=c:n.spread=c,a++):n.color=Ko.parse(e,c)}return n})}},DR={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(nn).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},OR={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},UR={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return pf(t)?t.number:0}},kR=(function(){function e(t,r){var n,a;this.animationDuration=Ft(t,NR,r.animationDuration),this.backgroundClip=Ft(t,s5,r.backgroundClip),this.backgroundColor=Ft(t,A5,r.backgroundColor),this.backgroundImage=Ft(t,p5,r.backgroundImage),this.backgroundOrigin=Ft(t,m5,r.backgroundOrigin),this.backgroundPosition=Ft(t,w5,r.backgroundPosition),this.backgroundRepeat=Ft(t,v5,r.backgroundRepeat),this.backgroundSize=Ft(t,E5,r.backgroundSize),this.borderTopColor=Ft(t,B5,r.borderTopColor),this.borderRightColor=Ft(t,b5,r.borderRightColor),this.borderBottomColor=Ft(t,_5,r.borderBottomColor),this.borderLeftColor=Ft(t,T5,r.borderLeftColor),this.borderTopLeftRadius=Ft(t,I5,r.borderTopLeftRadius),this.borderTopRightRadius=Ft(t,S5,r.borderTopRightRadius),this.borderBottomRightRadius=Ft(t,N5,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ft(t,F5,r.borderBottomLeftRadius),this.borderTopStyle=Ft(t,R5,r.borderTopStyle),this.borderRightStyle=Ft(t,D5,r.borderRightStyle),this.borderBottomStyle=Ft(t,O5,r.borderBottomStyle),this.borderLeftStyle=Ft(t,U5,r.borderLeftStyle),this.borderTopWidth=Ft(t,k5,r.borderTopWidth),this.borderRightWidth=Ft(t,M5,r.borderRightWidth),this.borderBottomWidth=Ft(t,L5,r.borderBottomWidth),this.borderLeftWidth=Ft(t,Q5,r.borderLeftWidth),this.boxShadow=Ft(t,RR,r.boxShadow),this.color=Ft(t,j5,r.color),this.direction=Ft(t,H5,r.direction),this.display=Ft(t,P5,r.display),this.float=Ft(t,G5,r.cssFloat),this.fontFamily=Ft(t,ER,r.fontFamily),this.fontSize=Ft(t,CR,r.fontSize),this.fontStyle=Ft(t,_R,r.fontStyle),this.fontVariant=Ft(t,bR,r.fontVariant),this.fontWeight=Ft(t,BR,r.fontWeight),this.letterSpacing=Ft(t,K5,r.letterSpacing),this.lineBreak=Ft(t,z5,r.lineBreak),this.lineHeight=Ft(t,W5,r.lineHeight),this.listStyleImage=Ft(t,X5,r.listStyleImage),this.listStylePosition=Ft(t,Y5,r.listStylePosition),this.listStyleType=Ft(t,gm,r.listStyleType),this.marginTop=Ft(t,q5,r.marginTop),this.marginRight=Ft(t,J5,r.marginRight),this.marginBottom=Ft(t,Z5,r.marginBottom),this.marginLeft=Ft(t,$5,r.marginLeft),this.opacity=Ft(t,wR,r.opacity);var A=Ft(t,eR,r.overflow);this.overflowX=A[0],this.overflowY=A[A.length>1?1:0],this.overflowWrap=Ft(t,tR,r.overflowWrap),this.paddingTop=Ft(t,rR,r.paddingTop),this.paddingRight=Ft(t,nR,r.paddingRight),this.paddingBottom=Ft(t,aR,r.paddingBottom),this.paddingLeft=Ft(t,iR,r.paddingLeft),this.paintOrder=Ft(t,DR,r.paintOrder),this.position=Ft(t,AR,r.position),this.textAlign=Ft(t,sR,r.textAlign),this.textDecorationColor=Ft(t,vR,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Ft(t,yR,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=Ft(t,oR,r.textShadow),this.textTransform=Ft(t,lR,r.textTransform),this.transform=Ft(t,cR,r.transform),this.transformOrigin=Ft(t,gR,r.transformOrigin),this.visibility=Ft(t,xR,r.visibility),this.webkitTextStrokeColor=Ft(t,OR,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ft(t,UR,r.webkitTextStrokeWidth),this.wordBreak=Ft(t,pR,r.wordBreak),this.zIndex=Ft(t,mR,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return zo(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return da(this.display,4)||da(this.display,33554432)||da(this.display,268435456)||da(this.display,536870912)||da(this.display,67108864)||da(this.display,134217728)},e})(),MR=(function(){function e(t,r){this.content=Ft(t,TR,r.content),this.quotes=Ft(t,FR,r.quotes)}return e})(),vC=(function(){function e(t,r){this.counterIncrement=Ft(t,IR,r.counterIncrement),this.counterReset=Ft(t,SR,r.counterReset)}return e})(),Ft=function(e,t,r){var n=new P_,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var A=new V_(n.read());switch(t.type){case 2:var c=A.parseComponentValue();return t.parse(e,nn(c)?c.value:t.initialValue);case 0:return t.parse(e,A.parseComponentValue());case 1:return t.parse(e,A.parseComponentValues());case 4:return A.parseComponentValue();case 3:switch(t.format){case"angle":return D1.parse(e,A.parseComponentValue());case"color":return Ko.parse(e,A.parseComponentValue());case"image":return f2.parse(e,A.parseComponentValue());case"length":var d=A.parseComponentValue();return Jo(d)?d:Qa;case"length-percentage":var p=A.parseComponentValue();return oa(p)?p:Qa;case"time":return AT.parse(e,A.parseComponentValue())}break}},LR="data-html2canvas-debug",QR=function(e){var t=e.getAttribute(LR);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},xm=function(e,t){var r=QR(e);return r===1||t===r},gA=(function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,xm(r,3))debugger;this.styles=new kR(t,window.getComputedStyle(r,null)),wm(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=F1(this.context,r),xm(r,4)&&(this.flags|=16)}return e})(),jR="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",yC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var nd=0;nd<yC.length;nd++)mu[yC.charCodeAt(nd)]=nd;var HR=function(e){var t=e.length*.75,r=e.length,n,a=0,A,c,d,p;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),y=Array.isArray(m)?m:new Uint8Array(m);for(n=0;n<r;n+=4)A=mu[e.charCodeAt(n)],c=mu[e.charCodeAt(n+1)],d=mu[e.charCodeAt(n+2)],p=mu[e.charCodeAt(n+3)],y[a++]=A<<2|c>>4,y[a++]=(c&15)<<4|d>>2,y[a++]=(d&3)<<6|p&63;return m},PR=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},VR=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Ll=5,h2=11,gp=2,GR=h2-Ll,oT=65536>>Ll,KR=1<<Ll,xp=KR-1,zR=1024>>Ll,WR=oT+zR,XR=WR,YR=32,qR=XR+YR,JR=65536>>h2,ZR=1<<GR,$R=ZR-1,EC=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},eD=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},tD=function(e,t){var r=HR(e),n=Array.isArray(r)?VR(r):new Uint32Array(r),a=Array.isArray(r)?PR(r):new Uint16Array(r),A=24,c=EC(a,A/2,n[4]/2),d=n[5]===2?EC(a,(A+n[4])/2):eD(n,Math.ceil((A+n[4])/4));return new rD(n[0],n[1],n[2],n[3],c,d)},rD=(function(){function e(t,r,n,a,A,c){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=A,this.data=c}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Ll],r=(r<<gp)+(t&xp),this.data[r];if(t<=65535)return r=this.index[oT+(t-55296>>Ll)],r=(r<<gp)+(t&xp),this.data[r];if(t<this.highStart)return r=qR-JR+(t>>h2),r=this.index[r],r+=t>>Ll&$R,r=this.index[r],r=(r<<gp)+(t&xp),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),CC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ad=0;ad<CC.length;ad++)nD[CC.charCodeAt(ad)]=ad;var aD=1,pp=2,mp=3,BC=4,bC=5,iD=7,_C=8,wp=9,vp=10,TC=11,IC=12,SC=13,NC=14,yp=15,sD=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((a&1023)<<10)+(A&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},AD=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,A="";++a<r;){var c=e[a];c<=65535?n.push(c):(c-=65536,n.push((c>>10)+55296,c%1024+56320)),(a+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},oD=tD(jR),_s="",Ep="",lD=function(e){return oD.get(e)},cD=function(e,t,r){var n=r-2,a=t[n],A=t[r-1],c=t[r];if(A===pp&&c===mp)return _s;if(A===pp||A===mp||A===BC||c===pp||c===mp||c===BC)return Ep;if(A===_C&&[_C,wp,TC,IC].indexOf(c)!==-1||(A===TC||A===wp)&&(c===wp||c===vp)||(A===IC||A===vp)&&c===vp||c===SC||c===bC||c===iD||A===aD)return _s;if(A===SC&&c===NC){for(;a===bC;)a=t[--n];if(a===NC)return _s}if(A===yp&&c===yp){for(var d=0;a===yp;)d++,a=t[--n];if(d%2===0)return _s}return Ep},uD=function(e){var t=sD(e),r=t.length,n=0,a=0,A=t.map(lD);return{next:function(){if(n>=r)return{done:!0,value:null};for(var c=_s;n<r&&(c=cD(t,A,++n))===_s;);if(c!==_s||n===r){var d=AD.apply(null,t.slice(a,n));return a=n,{value:d,done:!1}}return{done:!0,value:null}}}},fD=function(e){for(var t=uD(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},hD=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),A=Math.round(a.height);if(e.body.removeChild(n),A===t)return!0}}return!1},dD=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=R1(n.data).map(function(p){return Yn(p)}),A=0,c={},d=a.every(function(p,m){r.setStart(n,A),r.setEnd(n,A+p.length);var y=r.getBoundingClientRect();A+=p.length;var b=y.x>c.x||y.y>c.y;return c=y,m===0?!0:b});return e.body.removeChild(t),d},gD=function(){return typeof new Image().crossOrigin<"u"},xD=function(){return typeof new XMLHttpRequest().responseType=="string"},pD=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},FC=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},mD=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,A=t.toDataURL();a.src=A;var c=pm(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),RC(c).then(function(d){n.drawImage(d,0,0);var p=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var m=e.createElement("div");return m.style.backgroundImage="url("+A+")",m.style.height=r+"px",FC(p)?RC(pm(r,r,0,0,m)):Promise.reject(!1)}).then(function(d){return n.drawImage(d,0,0),FC(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},pm=function(e,t,r,n,a){var A="http://www.w3.org/2000/svg",c=document.createElementNS(A,"svg"),d=document.createElementNS(A,"foreignObject");return c.setAttributeNS(null,"width",e.toString()),c.setAttributeNS(null,"height",t.toString()),d.setAttributeNS(null,"width","100%"),d.setAttributeNS(null,"height","100%"),d.setAttributeNS(null,"x",r.toString()),d.setAttributeNS(null,"y",n.toString()),d.setAttributeNS(null,"externalResourcesRequired","true"),c.appendChild(d),d.appendChild(a),c},RC=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ua={get SUPPORT_RANGE_BOUNDS(){var e=hD(document);return Object.defineProperty(Ua,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ua.SUPPORT_RANGE_BOUNDS&&dD(document);return Object.defineProperty(Ua,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=pD(document);return Object.defineProperty(Ua,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?mD(document):Promise.resolve(!1);return Object.defineProperty(Ua,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=gD();return Object.defineProperty(Ua,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=xD();return Object.defineProperty(Ua,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ua,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ua,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Du=(function(){function e(t,r){this.text=t,this.bounds=r}return e})(),wD=function(e,t,r,n){var a=ED(t,r),A=[],c=0;return a.forEach(function(d){if(r.textDecorationLine.length||d.trim().length>0)if(Ua.SUPPORT_RANGE_BOUNDS){var p=DC(n,c,d.length).getClientRects();if(p.length>1){var m=d2(d),y=0;m.forEach(function(I){A.push(new Du(I,JA.fromDOMRectList(e,DC(n,y+c,I.length).getClientRects()))),y+=I.length})}else A.push(new Du(d,JA.fromDOMRectList(e,p)))}else{var b=n.splitText(d.length);A.push(new Du(d,vD(e,n))),n=b}else Ua.SUPPORT_RANGE_BOUNDS||(n=n.splitText(d.length));c+=d.length}),A},vD=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var A=F1(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),A}}return JA.EMPTY},DC=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},d2=function(e){if(Ua.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return fD(e)},yD=function(e,t){if(Ua.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return BD(e,t)},ED=function(e,t){return t.letterSpacing!==0?d2(e):yD(e,t)},CD=[32,160,4961,65792,65793,4153,4241],BD=function(e,t){for(var r=JF(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,A=function(){if(a.value){var c=a.value.slice(),d=R1(c),p="";d.forEach(function(m){CD.indexOf(m)===-1?p+=Yn(m):(p.length&&n.push(p),n.push(Yn(m)),p="")}),p.length&&n.push(p)}};!(a=r.next()).done;)A();return n},bD=(function(){function e(t,r,n){this.text=_D(r.data,n.textTransform),this.textBounds=wD(t,this.text,n,r)}return e})(),_D=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(TD,ID);case 2:return e.toUpperCase();default:return e}},TD=/(^|\s|:|-|\(|\))([a-z])/g,ID=function(e,t,r){return e.length>0?t+r.toUpperCase():e},lT=(function(e){Js(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t})(gA),cT=(function(e){Js(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t})(gA),uT=(function(e){Js(t,e);function t(r,n){var a=e.call(this,r,n)||this,A=new XMLSerializer,c=F1(r,n);return n.setAttribute("width",c.width+"px"),n.setAttribute("height",c.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(A.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t})(gA),fT=(function(e){Js(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t})(gA),mm=(function(e){Js(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t})(gA),SD=[{type:15,flags:0,unit:"px",number:3}],ND=[{type:16,flags:0,number:50}],FD=function(e){return e.width>e.height?new JA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new JA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},RD=function(e){var t=e.type===DD?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},Wd="checkbox",Xd="radio",DD="password",OC=707406591,g2=(function(e){Js(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=RD(n),(a.type===Wd||a.type===Xd)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=FD(a.bounds)),a.type){case Wd:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=SD;break;case Xd:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=ND;break}return a}return t})(gA),hT=(function(e){Js(t,e);function t(r,n){var a=e.call(this,r,n)||this,A=n.options[n.selectedIndex||0];return a.value=A&&A.text||"",a}return t})(gA),dT=(function(e){Js(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t})(gA),gT=(function(e){Js(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=pT(r,n.contentWindow.document.documentElement);var A=n.contentWindow.document.documentElement?Fu(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):WA.TRANSPARENT,c=n.contentWindow.document.body?Fu(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):WA.TRANSPARENT;a.backgroundColor=zo(A)?zo(c)?a.styles.backgroundColor:c:A}}catch{}return a}return t})(gA),OD=["OL","UL","MENU"],Md=function(e,t,r,n){for(var a=t.firstChild,A=void 0;a;a=A)if(A=a.nextSibling,mT(a)&&a.data.trim().length>0)r.textNodes.push(new bD(e,a,r.styles));else if(Jc(a))if(ET(a)&&a.assignedNodes)a.assignedNodes().forEach(function(d){return Md(e,d,r,n)});else{var c=xT(e,a);c.styles.isVisible()&&(UD(a,c,n)?c.flags|=4:kD(c.styles)&&(c.flags|=2),OD.indexOf(a.tagName)!==-1&&(c.flags|=8),r.elements.push(c),a.slot,a.shadowRoot?Md(e,a.shadowRoot,c,n):!Yd(a)&&!wT(a)&&!qd(a)&&Md(e,a,c,n))}},xT=function(e,t){return vm(t)?new lT(e,t):vT(t)?new cT(e,t):wT(t)?new uT(e,t):MD(t)?new fT(e,t):LD(t)?new mm(e,t):QD(t)?new g2(e,t):qd(t)?new hT(e,t):Yd(t)?new dT(e,t):yT(t)?new gT(e,t):new gA(e,t)},pT=function(e,t){var r=xT(e,t);return r.flags|=4,Md(e,t,r,r),r},UD=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||x2(e)&&r.styles.isTransparent()},kD=function(e){return e.isPositioned()||e.isFloating()},mT=function(e){return e.nodeType===Node.TEXT_NODE},Jc=function(e){return e.nodeType===Node.ELEMENT_NODE},wm=function(e){return Jc(e)&&typeof e.style<"u"&&!Ld(e)},Ld=function(e){return typeof e.className=="object"},MD=function(e){return e.tagName==="LI"},LD=function(e){return e.tagName==="OL"},QD=function(e){return e.tagName==="INPUT"},jD=function(e){return e.tagName==="HTML"},wT=function(e){return e.tagName==="svg"},x2=function(e){return e.tagName==="BODY"},vT=function(e){return e.tagName==="CANVAS"},UC=function(e){return e.tagName==="VIDEO"},vm=function(e){return e.tagName==="IMG"},yT=function(e){return e.tagName==="IFRAME"},kC=function(e){return e.tagName==="STYLE"},HD=function(e){return e.tagName==="SCRIPT"},Yd=function(e){return e.tagName==="TEXTAREA"},qd=function(e){return e.tagName==="SELECT"},ET=function(e){return e.tagName==="SLOT"},MC=function(e){return e.tagName.indexOf("-")>0},PD=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,A=!0;n!==null&&n.forEach(function(d){var p=r.counters[d.counter];p&&d.increment!==0&&(A=!1,p.length||p.push(1),p[Math.max(0,p.length-1)]+=d.increment)});var c=[];return A&&a.forEach(function(d){var p=r.counters[d.counter];c.push(d.counter),p||(p=r.counters[d.counter]=[]),p.push(d.reset)}),c},e})(),LC={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},QC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},VD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},GD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},jc=function(e,t,r,n,a,A){return e<t||e>r?Zu(e,a,A.length>0):n.integers.reduce(function(c,d,p){for(;e>=d;)e-=d,c+=n.values[p];return c},"")+A},CT=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},Wn=function(e,t,r,n,a){var A=r-t+1;return(e<0?"-":"")+(CT(Math.abs(e),A,n,function(c){return Yn(Math.floor(c%A)+t)})+a)},Il=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return CT(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},Gc=1,Uo=2,ko=4,wu=8,VA=function(e,t,r,n,a,A){if(e<-9999||e>9999)return Zu(e,4,a.length>0);var c=Math.abs(e),d=a;if(c===0)return t[0]+d;for(var p=0;c>0&&p<=4;p++){var m=c%10;m===0&&da(A,Gc)&&d!==""?d=t[m]+d:m>1||m===1&&p===0||m===1&&p===1&&da(A,Uo)||m===1&&p===1&&da(A,ko)&&e>100||m===1&&p>1&&da(A,wu)?d=t[m]+(p>0?r[p-1]:"")+d:m===1&&p>0&&(d=r[p-1]+d),c=Math.floor(c/10)}return(e<0?n:"")+d},jC="",HC="",PC="",Cp="",Zu=function(e,t,r){var n=r?". ":"",a=r?"":"",A=r?", ":"",c=r?" ":"";switch(t){case 0:return""+c;case 1:return""+c;case 2:return""+c;case 5:var d=Wn(e,48,57,!0,n);return d.length<4?"0"+d:d;case 4:return Il(e,"",a);case 6:return jc(e,1,3999,LC,3,n).toLowerCase();case 7:return jc(e,1,3999,LC,3,n);case 8:return Wn(e,945,969,!1,n);case 9:return Wn(e,97,122,!1,n);case 10:return Wn(e,65,90,!1,n);case 11:return Wn(e,1632,1641,!0,n);case 12:case 49:return jc(e,1,9999,QC,3,n);case 35:return jc(e,1,9999,QC,3,n).toLowerCase();case 13:return Wn(e,2534,2543,!0,n);case 14:case 30:return Wn(e,6112,6121,!0,n);case 15:return Il(e,"",a);case 16:return Il(e,"",a);case 17:case 48:return VA(e,"",jC,"",a,Uo|ko|wu);case 47:return VA(e,"",HC,"",a,Gc|Uo|ko|wu);case 42:return VA(e,"",jC,"",a,Uo|ko|wu);case 41:return VA(e,"",HC,"",a,Gc|Uo|ko|wu);case 26:return VA(e,"","",PC,a,0);case 25:return VA(e,"","",PC,a,Gc|Uo|ko);case 31:return VA(e,"","",Cp,A,Gc|Uo|ko);case 33:return VA(e,"","",Cp,A,0);case 32:return VA(e,"","",Cp,A,Gc|Uo|ko);case 18:return Wn(e,2406,2415,!0,n);case 20:return jc(e,1,19999,GD,3,n);case 21:return Wn(e,2790,2799,!0,n);case 22:return Wn(e,2662,2671,!0,n);case 22:return jc(e,1,10999,VD,3,n);case 23:return Il(e,"");case 24:return Il(e,"");case 27:return Wn(e,3302,3311,!0,n);case 28:return Il(e,"",a);case 29:return Il(e,"",a);case 34:return Wn(e,3792,3801,!0,n);case 37:return Wn(e,6160,6169,!0,n);case 38:return Wn(e,4160,4169,!0,n);case 39:return Wn(e,2918,2927,!0,n);case 40:return Wn(e,1776,1785,!0,n);case 43:return Wn(e,3046,3055,!0,n);case 44:return Wn(e,3174,3183,!0,n);case 45:return Wn(e,3664,3673,!0,n);case 46:return Wn(e,3872,3881,!0,n);case 3:default:return Wn(e,48,57,!0,n)}},BT="data-html2canvas-ignore",VC=(function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new PD,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=KD(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var A=t.defaultView.pageXOffset,c=t.defaultView.pageYOffset,d=a.contentWindow,p=d.document,m=XD(a).then(function(){return gi(n,void 0,void 0,function(){var y,b;return Za(this,function(I){switch(I.label){case 0:return this.scrolledElements.forEach(ZD),d&&(d.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(d.scrollY!==r.top||d.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(d.scrollX-r.left,d.scrollY-r.top,0,0))),y=this.options.onclone,b=this.clonedReferenceElement,typeof b>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:p.fonts&&p.fonts.ready?[4,p.fonts.ready]:[3,2];case 1:I.sent(),I.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,WD(p)]:[3,4];case 3:I.sent(),I.label=4;case 4:return typeof y=="function"?[2,Promise.resolve().then(function(){return y(p,b)}).then(function(){return a})]:[2,a]}})})});return p.open(),p.write(qD(document.doctype)+"<html></html>"),JD(this.referenceElement.ownerDocument,A,c),p.replaceChild(p.adoptNode(this.documentElement),p.documentElement),p.close(),m},e.prototype.createElementClone=function(t){if(xm(t,2))debugger;if(vT(t))return this.createCanvasClone(t);if(UC(t))return this.createVideoClone(t);if(kC(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return vm(r)&&(vm(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),MC(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return Bp(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(A,c){return c&&typeof c.cssText=="string"?A+c.cssText:A},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(A){if(this.context.logger.error("Unable to access cssRules property",A),A.name!=="SecurityError")throw A}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var A=t.getContext("2d"),c=a.getContext("2d");if(c)if(!this.options.allowTaint&&A)c.putImageData(A.getImageData(0,0,t.width,t.height),0,0);else{var d=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(d){var p=d.getContextAttributes();(p==null?void 0:p.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}c.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!Jc(r)||!HD(r)&&!r.hasAttribute(BT)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Jc(r)||!kC(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,A=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;A;A=A.nextSibling)if(Jc(A)&&ET(A)&&typeof A.assignedNodes=="function"){var c=A.assignedNodes();c.length&&c.forEach(function(d){return a.appendChildNode(r,d,n)})}else this.appendChildNode(r,A,n)},e.prototype.cloneNode=function(t,r){if(mT(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Jc(t)&&(wm(t)||Ld(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var A=n.getComputedStyle(t),c=n.getComputedStyle(t,":before"),d=n.getComputedStyle(t,":after");this.referenceElement===t&&wm(a)&&(this.clonedReferenceElement=a),x2(a)&&tO(a);var p=this.counters.parse(new vC(this.context,A)),m=this.resolvePseudoContent(t,a,c,Ou.BEFORE);MC(t)&&(r=!0),UC(t)||this.cloneChildNodes(t,a,r),m&&a.insertBefore(m,a.firstChild);var y=this.resolvePseudoContent(t,a,d,Ou.AFTER);return y&&a.appendChild(y),this.counters.pop(p),(A&&(this.options.copyStyles||Ld(t))&&!yT(t)||r)&&Bp(A,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(Yd(t)||qd(t))&&(Yd(a)||qd(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var A=this;if(n){var c=n.content,d=r.ownerDocument;if(!(!d||!c||c==="none"||c==="-moz-alt-content"||n.display==="none")){this.counters.parse(new vC(this.context,n));var p=new MR(this.context,n),m=d.createElement("html2canvaspseudoelement");Bp(n,m),p.content.forEach(function(b){if(b.type===0)m.appendChild(d.createTextNode(b.value));else if(b.type===22){var I=d.createElement("img");I.src=b.value,I.style.opacity="1",m.appendChild(I)}else if(b.type===18){if(b.name==="attr"){var N=b.values.filter(nn);N.length&&m.appendChild(d.createTextNode(t.getAttribute(N[0].value)||""))}else if(b.name==="counter"){var R=b.values.filter(A0),F=R[0],D=R[1];if(F&&nn(F)){var K=A.counters.getCounterValue(F.value),W=D&&nn(D)?gm.parse(A.context,D.value):3;m.appendChild(d.createTextNode(Zu(K,W,!1)))}}else if(b.name==="counters"){var H=b.values.filter(A0),F=H[0],re=H[1],D=H[2];if(F&&nn(F)){var de=A.counters.getCounterValues(F.value),ee=D&&nn(D)?gm.parse(A.context,D.value):3,U=re&&re.type===0?re.value:"",Q=de.map(function(q){return Zu(q,ee,!1)}).join(U);m.appendChild(d.createTextNode(Q))}}}else if(b.type===20)switch(b.value){case"open-quote":m.appendChild(d.createTextNode(wC(p.quotes,A.quoteDepth++,!0)));break;case"close-quote":m.appendChild(d.createTextNode(wC(p.quotes,--A.quoteDepth,!1)));break;default:m.appendChild(d.createTextNode(b.value))}}),m.className=ym+" "+Em;var y=a===Ou.BEFORE?" "+ym:" "+Em;return Ld(r)?r.className.baseValue+=y:r.className+=y,m}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e})(),Ou;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Ou||(Ou={}));var KD=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(BT,"true"),e.body.appendChild(r),r},zD=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},WD=function(e){return Promise.all([].slice.call(e.images,0).map(zD))},XD=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var A=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(A),t(e))},50)}})},YD=["all","d","content"],Bp=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);YD.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},qD=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},JD=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},ZD=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},$D=":before",eO=":after",ym="___html2canvas___pseudoelement_before",Em="___html2canvas___pseudoelement_after",GC=`{
    content: "" !important;
    display: none !important;
}`,tO=function(e){rO(e,"."+ym+$D+GC+`
         .`+Em+eO+GC)},rO=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},bT=(function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e})(),nO=(function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(_p(t)||AO(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return gi(this,void 0,void 0,function(){var r,n,a,A,c=this;return Za(this,function(d){switch(d.label){case 0:return r=bT.isSameOrigin(t),n=!bp(t)&&this._options.useCORS===!0&&Ua.SUPPORT_CORS_IMAGES&&!r,a=!bp(t)&&!r&&!_p(t)&&typeof this._options.proxy=="string"&&Ua.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!bp(t)&&!_p(t)&&!a&&!n?[2]:(A=t,a?[4,this.proxy(A)]:[3,2]);case 1:A=d.sent(),d.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(p,m){var y=new Image;y.onload=function(){return p(y)},y.onerror=m,(oO(A)||n)&&(y.crossOrigin="anonymous"),y.src=A,y.complete===!0&&setTimeout(function(){return p(y)},500),c._options.imageTimeout>0&&setTimeout(function(){return m("Timed out ("+c._options.imageTimeout+"ms) loading image")},c._options.imageTimeout)})];case 3:return[2,d.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(A,c){var d=Ua.SUPPORT_RESPONSE_TYPE?"blob":"text",p=new XMLHttpRequest;p.onload=function(){if(p.status===200)if(d==="text")A(p.response);else{var b=new FileReader;b.addEventListener("load",function(){return A(b.result)},!1),b.addEventListener("error",function(I){return c(I)},!1),b.readAsDataURL(p.response)}else c("Failed to proxy resource "+a+" with status code "+p.status)},p.onerror=c;var m=n.indexOf("?")>-1?"&":"?";if(p.open("GET",""+n+m+"url="+encodeURIComponent(t)+"&responseType="+d),d!=="text"&&p instanceof XMLHttpRequest&&(p.responseType=d),r._options.imageTimeout){var y=r._options.imageTimeout;p.timeout=y,p.ontimeout=function(){return c("Timed out ("+y+"ms) proxying "+a)}}p.send()})},e})(),aO=/^data:image\/svg\+xml/i,iO=/^data:image\/.*;base64,/i,sO=/^data:image\/.*/i,AO=function(e){return Ua.SUPPORT_SVG_DRAWING||!lO(e)},bp=function(e){return sO.test(e)},oO=function(e){return iO.test(e)},_p=function(e){return e.substr(0,4)==="blob"},lO=function(e){return e.substr(-3).toLowerCase()==="svg"||aO.test(e)},St=(function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e})(),Hc=function(e,t,r){return new St(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},id=(function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=Hc(this.start,this.startControl,t),a=Hc(this.startControl,this.endControl,t),A=Hc(this.endControl,this.end,t),c=Hc(n,a,t),d=Hc(a,A,t),p=Hc(c,d,t);return r?new e(this.start,n,c,p):new e(p,d,A,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),Is=function(e){return e.type===1},cO=(function(){function e(t){var r=t.styles,n=t.bounds,a=pu(r.borderTopLeftRadius,n.width,n.height),A=a[0],c=a[1],d=pu(r.borderTopRightRadius,n.width,n.height),p=d[0],m=d[1],y=pu(r.borderBottomRightRadius,n.width,n.height),b=y[0],I=y[1],N=pu(r.borderBottomLeftRadius,n.width,n.height),R=N[0],F=N[1],D=[];D.push((A+p)/n.width),D.push((R+b)/n.width),D.push((c+F)/n.height),D.push((m+I)/n.height);var K=Math.max.apply(Math,D);K>1&&(A/=K,c/=K,p/=K,m/=K,b/=K,I/=K,R/=K,F/=K);var W=n.width-p,H=n.height-I,re=n.width-b,de=n.height-F,ee=r.borderTopWidth,U=r.borderRightWidth,Q=r.borderBottomWidth,k=r.borderLeftWidth,Y=fn(r.paddingTop,t.bounds.width),q=fn(r.paddingRight,t.bounds.width),V=fn(r.paddingBottom,t.bounds.width),z=fn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=A>0||c>0?Cn(n.left+k/3,n.top+ee/3,A-k/3,c-ee/3,Gr.TOP_LEFT):new St(n.left+k/3,n.top+ee/3),this.topRightBorderDoubleOuterBox=A>0||c>0?Cn(n.left+W,n.top+ee/3,p-U/3,m-ee/3,Gr.TOP_RIGHT):new St(n.left+n.width-U/3,n.top+ee/3),this.bottomRightBorderDoubleOuterBox=b>0||I>0?Cn(n.left+re,n.top+H,b-U/3,I-Q/3,Gr.BOTTOM_RIGHT):new St(n.left+n.width-U/3,n.top+n.height-Q/3),this.bottomLeftBorderDoubleOuterBox=R>0||F>0?Cn(n.left+k/3,n.top+de,R-k/3,F-Q/3,Gr.BOTTOM_LEFT):new St(n.left+k/3,n.top+n.height-Q/3),this.topLeftBorderDoubleInnerBox=A>0||c>0?Cn(n.left+k*2/3,n.top+ee*2/3,A-k*2/3,c-ee*2/3,Gr.TOP_LEFT):new St(n.left+k*2/3,n.top+ee*2/3),this.topRightBorderDoubleInnerBox=A>0||c>0?Cn(n.left+W,n.top+ee*2/3,p-U*2/3,m-ee*2/3,Gr.TOP_RIGHT):new St(n.left+n.width-U*2/3,n.top+ee*2/3),this.bottomRightBorderDoubleInnerBox=b>0||I>0?Cn(n.left+re,n.top+H,b-U*2/3,I-Q*2/3,Gr.BOTTOM_RIGHT):new St(n.left+n.width-U*2/3,n.top+n.height-Q*2/3),this.bottomLeftBorderDoubleInnerBox=R>0||F>0?Cn(n.left+k*2/3,n.top+de,R-k*2/3,F-Q*2/3,Gr.BOTTOM_LEFT):new St(n.left+k*2/3,n.top+n.height-Q*2/3),this.topLeftBorderStroke=A>0||c>0?Cn(n.left+k/2,n.top+ee/2,A-k/2,c-ee/2,Gr.TOP_LEFT):new St(n.left+k/2,n.top+ee/2),this.topRightBorderStroke=A>0||c>0?Cn(n.left+W,n.top+ee/2,p-U/2,m-ee/2,Gr.TOP_RIGHT):new St(n.left+n.width-U/2,n.top+ee/2),this.bottomRightBorderStroke=b>0||I>0?Cn(n.left+re,n.top+H,b-U/2,I-Q/2,Gr.BOTTOM_RIGHT):new St(n.left+n.width-U/2,n.top+n.height-Q/2),this.bottomLeftBorderStroke=R>0||F>0?Cn(n.left+k/2,n.top+de,R-k/2,F-Q/2,Gr.BOTTOM_LEFT):new St(n.left+k/2,n.top+n.height-Q/2),this.topLeftBorderBox=A>0||c>0?Cn(n.left,n.top,A,c,Gr.TOP_LEFT):new St(n.left,n.top),this.topRightBorderBox=p>0||m>0?Cn(n.left+W,n.top,p,m,Gr.TOP_RIGHT):new St(n.left+n.width,n.top),this.bottomRightBorderBox=b>0||I>0?Cn(n.left+re,n.top+H,b,I,Gr.BOTTOM_RIGHT):new St(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=R>0||F>0?Cn(n.left,n.top+de,R,F,Gr.BOTTOM_LEFT):new St(n.left,n.top+n.height),this.topLeftPaddingBox=A>0||c>0?Cn(n.left+k,n.top+ee,Math.max(0,A-k),Math.max(0,c-ee),Gr.TOP_LEFT):new St(n.left+k,n.top+ee),this.topRightPaddingBox=p>0||m>0?Cn(n.left+Math.min(W,n.width-U),n.top+ee,W>n.width+U?0:Math.max(0,p-U),Math.max(0,m-ee),Gr.TOP_RIGHT):new St(n.left+n.width-U,n.top+ee),this.bottomRightPaddingBox=b>0||I>0?Cn(n.left+Math.min(re,n.width-k),n.top+Math.min(H,n.height-Q),Math.max(0,b-U),Math.max(0,I-Q),Gr.BOTTOM_RIGHT):new St(n.left+n.width-U,n.top+n.height-Q),this.bottomLeftPaddingBox=R>0||F>0?Cn(n.left+k,n.top+Math.min(de,n.height-Q),Math.max(0,R-k),Math.max(0,F-Q),Gr.BOTTOM_LEFT):new St(n.left+k,n.top+n.height-Q),this.topLeftContentBox=A>0||c>0?Cn(n.left+k+z,n.top+ee+Y,Math.max(0,A-(k+z)),Math.max(0,c-(ee+Y)),Gr.TOP_LEFT):new St(n.left+k+z,n.top+ee+Y),this.topRightContentBox=p>0||m>0?Cn(n.left+Math.min(W,n.width+k+z),n.top+ee+Y,W>n.width+k+z?0:p-k+z,m-(ee+Y),Gr.TOP_RIGHT):new St(n.left+n.width-(U+q),n.top+ee+Y),this.bottomRightContentBox=b>0||I>0?Cn(n.left+Math.min(re,n.width-(k+z)),n.top+Math.min(H,n.height+ee+Y),Math.max(0,b-(U+q)),I-(Q+V),Gr.BOTTOM_RIGHT):new St(n.left+n.width-(U+q),n.top+n.height-(Q+V)),this.bottomLeftContentBox=R>0||F>0?Cn(n.left+k+z,n.top+de,Math.max(0,R-(k+z)),F-(Q+V),Gr.BOTTOM_LEFT):new St(n.left+k+z,n.top+n.height-(Q+V))}return e})(),Gr;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Gr||(Gr={}));var Cn=function(e,t,r,n,a){var A=4*((Math.sqrt(2)-1)/3),c=r*A,d=n*A,p=e+r,m=t+n;switch(a){case Gr.TOP_LEFT:return new id(new St(e,m),new St(e,m-d),new St(p-c,t),new St(p,t));case Gr.TOP_RIGHT:return new id(new St(e,t),new St(e+c,t),new St(p,m-d),new St(p,m));case Gr.BOTTOM_RIGHT:return new id(new St(p,t),new St(p,t+d),new St(e+c,m),new St(e,m));case Gr.BOTTOM_LEFT:default:return new id(new St(p,m),new St(p-c,m),new St(e,t+d),new St(e,t))}},Jd=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},uO=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Zd=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},fO=(function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e})(),sd=(function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e})(),hO=(function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e})(),dO=function(e){return e.type===0},_T=function(e){return e.type===1},gO=function(e){return e.type===2},KC=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},xO=function(e,t,r,n,a){return e.map(function(A,c){switch(c){case 0:return A.add(t,r);case 1:return A.add(t+n,r);case 2:return A.add(t+n,r+a);case 3:return A.add(t,r+a)}return A})},TT=(function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),IT=(function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new cO(this.container),this.container.styles.opacity<1&&this.effects.push(new hO(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,A=this.container.styles.transform;this.effects.push(new fO(n,a,A))}if(this.container.styles.overflowX!==0){var c=Jd(this.curves),d=Zd(this.curves);KC(c,d)?this.effects.push(new sd(c,6)):(this.effects.push(new sd(c,2)),this.effects.push(new sd(d,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var A=n.effects.filter(function(p){return!_T(p)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,A),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var c=Jd(n.curves),d=Zd(n.curves);KC(c,d)||a.unshift(new sd(d,6))}}else a.unshift.apply(a,A);n=n.parent}return a.filter(function(p){return da(p.target,t)})},e})(),Cm=function(e,t,r,n){e.container.elements.forEach(function(a){var A=da(a.flags,4),c=da(a.flags,2),d=new IT(a,e);da(a.styles.display,2048)&&n.push(d);var p=da(a.flags,8)?[]:n;if(A||c){var m=A||a.styles.isPositioned()?r:t,y=new TT(d);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var b=a.styles.zIndex.order;if(b<0){var I=0;m.negativeZIndex.some(function(R,F){return b>R.element.container.styles.zIndex.order?(I=F,!1):I>0}),m.negativeZIndex.splice(I,0,y)}else if(b>0){var N=0;m.positiveZIndex.some(function(R,F){return b>=R.element.container.styles.zIndex.order?(N=F+1,!1):N>0}),m.positiveZIndex.splice(N,0,y)}else m.zeroOrAutoZIndexOrTransformedOrOpacity.push(y)}else a.styles.isFloating()?m.nonPositionedFloats.push(y):m.nonPositionedInlineLevel.push(y);Cm(d,y,A?y:r,p)}else a.styles.isInlineLevel()?t.inlineLevel.push(d):t.nonInlineLevel.push(d),Cm(d,t,r,p);da(a.flags,8)&&ST(a,p)})},ST=function(e,t){for(var r=e instanceof mm?e.start:1,n=e instanceof mm?e.reversed:!1,a=0;a<t.length;a++){var A=t[a];A.container instanceof fT&&typeof A.container.value=="number"&&A.container.value!==0&&(r=A.container.value),A.listValue=Zu(r,A.container.styles.listStyleType,!0),r+=n?-1:1}},pO=function(e){var t=new IT(e,null),r=new TT(t),n=[];return Cm(t,r,r,n),ST(t.container,n),r},zC=function(e,t){switch(t){case 0:return Ns(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ns(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ns(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ns(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},mO=function(e,t){switch(t){case 0:return Ns(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ns(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ns(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Ns(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},wO=function(e,t){switch(t){case 0:return Ns(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ns(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ns(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Ns(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},vO=function(e,t){switch(t){case 0:return Ad(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Ad(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Ad(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return Ad(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Ad=function(e,t){var r=[];return Is(e)?r.push(e.subdivide(.5,!1)):r.push(e),Is(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Ns=function(e,t,r,n){var a=[];return Is(e)?a.push(e.subdivide(.5,!1)):a.push(e),Is(r)?a.push(r.subdivide(.5,!0)):a.push(r),Is(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),Is(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},NT=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},$d=function(e){var t=e.styles,r=e.bounds,n=fn(t.paddingLeft,r.width),a=fn(t.paddingRight,r.width),A=fn(t.paddingTop,r.width),c=fn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,A+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+A+c))},yO=function(e,t){return e===0?t.bounds:e===2?$d(t):NT(t)},EO=function(e,t){return e===0?t.bounds:e===2?$d(t):NT(t)},Tp=function(e,t,r){var n=yO(Kc(e.styles.backgroundOrigin,t),e),a=EO(Kc(e.styles.backgroundClip,t),e),A=CO(Kc(e.styles.backgroundSize,t),r,n),c=A[0],d=A[1],p=pu(Kc(e.styles.backgroundPosition,t),n.width-c,n.height-d),m=BO(Kc(e.styles.backgroundRepeat,t),p,A,n,a),y=Math.round(n.left+p[0]),b=Math.round(n.top+p[1]);return[m,y,b,c,d]},Pc=function(e){return nn(e)&&e.value===t0.AUTO},od=function(e){return typeof e=="number"},CO=function(e,t,r){var n=t[0],a=t[1],A=t[2],c=e[0],d=e[1];if(!c)return[0,0];if(oa(c)&&d&&oa(d))return[fn(c,r.width),fn(d,r.height)];var p=od(A);if(nn(c)&&(c.value===t0.CONTAIN||c.value===t0.COVER)){if(od(A)){var m=r.width/r.height;return m<A!=(c.value===t0.COVER)?[r.width,r.width/A]:[r.height*A,r.height]}return[r.width,r.height]}var y=od(n),b=od(a),I=y||b;if(Pc(c)&&(!d||Pc(d))){if(y&&b)return[n,a];if(!p&&!I)return[r.width,r.height];if(I&&p){var N=y?n:a*A,R=b?a:n/A;return[N,R]}var F=y?n:r.width,D=b?a:r.height;return[F,D]}if(p){var K=0,W=0;return oa(c)?K=fn(c,r.width):oa(d)&&(W=fn(d,r.height)),Pc(c)?K=W*A:(!d||Pc(d))&&(W=K/A),[K,W]}var H=null,re=null;if(oa(c)?H=fn(c,r.width):d&&oa(d)&&(re=fn(d,r.height)),H!==null&&(!d||Pc(d))&&(re=y&&b?H/n*a:r.height),re!==null&&Pc(c)&&(H=y&&b?re/a*n:r.width),H!==null&&re!==null)return[H,re];throw new Error("Unable to calculate background-size for element")},Kc=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},BO=function(e,t,r,n,a){var A=t[0],c=t[1],d=r[0],p=r[1];switch(e){case 2:return[new St(Math.round(n.left),Math.round(n.top+c)),new St(Math.round(n.left+n.width),Math.round(n.top+c)),new St(Math.round(n.left+n.width),Math.round(p+n.top+c)),new St(Math.round(n.left),Math.round(p+n.top+c))];case 3:return[new St(Math.round(n.left+A),Math.round(n.top)),new St(Math.round(n.left+A+d),Math.round(n.top)),new St(Math.round(n.left+A+d),Math.round(n.height+n.top)),new St(Math.round(n.left+A),Math.round(n.height+n.top))];case 1:return[new St(Math.round(n.left+A),Math.round(n.top+c)),new St(Math.round(n.left+A+d),Math.round(n.top+c)),new St(Math.round(n.left+A+d),Math.round(n.top+c+p)),new St(Math.round(n.left+A),Math.round(n.top+c+p))];default:return[new St(Math.round(a.left),Math.round(a.top)),new St(Math.round(a.left+a.width),Math.round(a.top)),new St(Math.round(a.left+a.width),Math.round(a.height+a.top)),new St(Math.round(a.left),Math.round(a.height+a.top))]}},bO="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",WC="Hidden Text",_O=(function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),A=this._document.createElement("span"),c=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",c.appendChild(n),a.src=bO,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",A.style.fontFamily=t,A.style.fontSize=r,A.style.margin="0",A.style.padding="0",A.appendChild(this._document.createTextNode(WC)),n.appendChild(A),n.appendChild(a);var d=a.offsetTop-A.offsetTop+2;n.removeChild(A),n.appendChild(this._document.createTextNode(WC)),n.style.lineHeight="normal",a.style.verticalAlign="super";var p=a.offsetTop-n.offsetTop+2;return c.removeChild(n),{baseline:d,middle:p}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e})(),FT=(function(){function e(t,r){this.context=t,this.options=r}return e})(),TO=1e4,IO=(function(e){Js(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new _O(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),gO(r)&&(this.ctx.globalAlpha=r.opacity),dO(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),_T(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return gi(this,void 0,void 0,function(){var n;return Za(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return gi(this,void 0,void 0,function(){return Za(this,function(n){switch(n.label){case 0:if(da(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var A=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var c=d2(r.text);c.reduce(function(d,p){return A.ctx.fillText(p,d,r.bounds.top+a),d+A.ctx.measureText(p).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(c){return c==="normal"||c==="small-caps"}).join(""),a=DO(r.fontFamily).join(", "),A=pf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,A,a].join(" "),a,A]},t.prototype.renderTextNode=function(r,n){return gi(this,void 0,void 0,function(){var a,A,c,d,p,m,y,b,I=this;return Za(this,function(N){return a=this.createFontStyle(n),A=a[0],c=a[1],d=a[2],this.ctx.font=A,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",p=this.fontMetrics.getMetrics(c,d),m=p.baseline,y=p.middle,b=n.paintOrder,r.textBounds.forEach(function(R){b.forEach(function(F){switch(F){case 0:I.ctx.fillStyle=Ca(n.color),I.renderTextWithLetterSpacing(R,n.letterSpacing,m);var D=n.textShadow;D.length&&R.text.trim().length&&(D.slice(0).reverse().forEach(function(K){I.ctx.shadowColor=Ca(K.color),I.ctx.shadowOffsetX=K.offsetX.number*I.options.scale,I.ctx.shadowOffsetY=K.offsetY.number*I.options.scale,I.ctx.shadowBlur=K.blur.number,I.renderTextWithLetterSpacing(R,n.letterSpacing,m)}),I.ctx.shadowColor="",I.ctx.shadowOffsetX=0,I.ctx.shadowOffsetY=0,I.ctx.shadowBlur=0),n.textDecorationLine.length&&(I.ctx.fillStyle=Ca(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(K){switch(K){case 1:I.ctx.fillRect(R.bounds.left,Math.round(R.bounds.top+m),R.bounds.width,1);break;case 2:I.ctx.fillRect(R.bounds.left,Math.round(R.bounds.top),R.bounds.width,1);break;case 3:I.ctx.fillRect(R.bounds.left,Math.ceil(R.bounds.top+y),R.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&R.text.trim().length&&(I.ctx.strokeStyle=Ca(n.webkitTextStrokeColor),I.ctx.lineWidth=n.webkitTextStrokeWidth,I.ctx.lineJoin=window.chrome?"miter":"round",I.ctx.strokeText(R.text,R.bounds.left,R.bounds.top+m)),I.ctx.strokeStyle="",I.ctx.lineWidth=0,I.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var A=$d(r),c=Zd(n);this.path(c),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,A.left,A.top,A.width,A.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return gi(this,void 0,void 0,function(){var n,a,A,c,d,p,W,W,m,y,b,I,re,N,R,de,F,D,K,W,H,re,de;return Za(this,function(ee){switch(ee.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,A=n.styles,c=0,d=n.textNodes,ee.label=1;case 1:return c<d.length?(p=d[c],[4,this.renderTextNode(p,A)]):[3,4];case 2:ee.sent(),ee.label=3;case 3:return c++,[3,1];case 4:if(!(n instanceof lT))return[3,8];ee.label=5;case 5:return ee.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return W=ee.sent(),this.renderReplacedElement(n,a,W),[3,8];case 7:return ee.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof cT&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof uT))return[3,12];ee.label=9;case 9:return ee.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return W=ee.sent(),this.renderReplacedElement(n,a,W),[3,12];case 11:return ee.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof gT&&n.tree?(m=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,m.render(n.tree)]):[3,14];case 13:y=ee.sent(),n.width&&n.height&&this.ctx.drawImage(y,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),ee.label=14;case 14:if(n instanceof g2&&(b=Math.min(n.bounds.width,n.bounds.height),n.type===Wd?n.checked&&(this.ctx.save(),this.path([new St(n.bounds.left+b*.39363,n.bounds.top+b*.79),new St(n.bounds.left+b*.16,n.bounds.top+b*.5549),new St(n.bounds.left+b*.27347,n.bounds.top+b*.44071),new St(n.bounds.left+b*.39694,n.bounds.top+b*.5649),new St(n.bounds.left+b*.72983,n.bounds.top+b*.23),new St(n.bounds.left+b*.84,n.bounds.top+b*.34085),new St(n.bounds.left+b*.39363,n.bounds.top+b*.79)]),this.ctx.fillStyle=Ca(OC),this.ctx.fill(),this.ctx.restore()):n.type===Xd&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+b/2,n.bounds.top+b/2,b/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ca(OC),this.ctx.fill(),this.ctx.restore())),SO(n)&&n.value.length){switch(I=this.createFontStyle(A),re=I[0],N=I[1],R=this.fontMetrics.getMetrics(re,N).baseline,this.ctx.font=re,this.ctx.fillStyle=Ca(A.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=FO(n.styles.textAlign),de=$d(n),F=0,n.styles.textAlign){case 1:F+=de.width/2;break;case 2:F+=de.width;break}D=de.add(F,0,0,-de.height/2+1),this.ctx.save(),this.path([new St(de.left,de.top),new St(de.left+de.width,de.top),new St(de.left+de.width,de.top+de.height),new St(de.left,de.top+de.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Du(n.value,D),A.letterSpacing,R),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!da(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(K=n.styles.listStyleImage,K.type!==0)return[3,18];W=void 0,H=K.url,ee.label=15;case 15:return ee.trys.push([15,17,,18]),[4,this.context.cache.match(H)];case 16:return W=ee.sent(),this.ctx.drawImage(W,n.bounds.left-(W.width+10),n.bounds.top),[3,18];case 17:return ee.sent(),this.context.logger.error("Error loading list-style-image "+H),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(re=this.createFontStyle(A)[0],this.ctx.font=re,this.ctx.fillStyle=Ca(A.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",de=new JA(n.bounds.left,n.bounds.top+fn(n.styles.paddingTop,n.bounds.width),n.bounds.width,pC(A.lineHeight,A.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Du(r.listValue,de),A.letterSpacing,pC(A.lineHeight,A.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ee.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return gi(this,void 0,void 0,function(){var n,a,K,A,c,K,d,p,K,m,y,K,b,I,K,N,R,K,F,D,K;return Za(this,function(W){switch(W.label){case 0:if(da(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:W.sent(),n=0,a=r.negativeZIndex,W.label=2;case 2:return n<a.length?(K=a[n],[4,this.renderStack(K)]):[3,5];case 3:W.sent(),W.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:W.sent(),A=0,c=r.nonInlineLevel,W.label=7;case 7:return A<c.length?(K=c[A],[4,this.renderNode(K)]):[3,10];case 8:W.sent(),W.label=9;case 9:return A++,[3,7];case 10:d=0,p=r.nonPositionedFloats,W.label=11;case 11:return d<p.length?(K=p[d],[4,this.renderStack(K)]):[3,14];case 12:W.sent(),W.label=13;case 13:return d++,[3,11];case 14:m=0,y=r.nonPositionedInlineLevel,W.label=15;case 15:return m<y.length?(K=y[m],[4,this.renderStack(K)]):[3,18];case 16:W.sent(),W.label=17;case 17:return m++,[3,15];case 18:b=0,I=r.inlineLevel,W.label=19;case 19:return b<I.length?(K=I[b],[4,this.renderNode(K)]):[3,22];case 20:W.sent(),W.label=21;case 21:return b++,[3,19];case 22:N=0,R=r.zeroOrAutoZIndexOrTransformedOrOpacity,W.label=23;case 23:return N<R.length?(K=R[N],[4,this.renderStack(K)]):[3,26];case 24:W.sent(),W.label=25;case 25:return N++,[3,23];case 26:F=0,D=r.positiveZIndex,W.label=27;case 27:return F<D.length?(K=D[F],[4,this.renderStack(K)]):[3,30];case 28:W.sent(),W.label=29;case 29:return F++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,A){var c=Is(a)?a.start:a;A===0?n.ctx.moveTo(c.x,c.y):n.ctx.lineTo(c.x,c.y),Is(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,A){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,A),this.ctx.fill(),this.ctx.translate(-a,-A)},t.prototype.resizeImage=function(r,n,a){var A;if(r.width===n&&r.height===a)return r;var c=(A=this.canvas.ownerDocument)!==null&&A!==void 0?A:document,d=c.createElement("canvas");d.width=Math.max(1,n),d.height=Math.max(1,a);var p=d.getContext("2d");return p.drawImage(r,0,0,r.width,r.height,0,0,n,a),d},t.prototype.renderBackgroundImage=function(r){return gi(this,void 0,void 0,function(){var n,a,A,c,d,p;return Za(this,function(m){switch(m.label){case 0:n=r.styles.backgroundImage.length-1,a=function(y){var b,I,N,Y,me,oe,z,ze,Q,R,Y,me,oe,z,ze,F,D,K,W,H,re,de,ee,U,Q,k,Y,q,V,z,ze,ve,me,oe,Pe,Ee,$e,ge,X,ce,le,ae;return Za(this,function(xe){switch(xe.label){case 0:if(y.type!==0)return[3,5];b=void 0,I=y.url,xe.label=1;case 1:return xe.trys.push([1,3,,4]),[4,A.context.cache.match(I)];case 2:return b=xe.sent(),[3,4];case 3:return xe.sent(),A.context.logger.error("Error loading background-image "+I),[3,4];case 4:return b&&(N=Tp(r,n,[b.width,b.height,b.width/b.height]),Y=N[0],me=N[1],oe=N[2],z=N[3],ze=N[4],Q=A.ctx.createPattern(A.resizeImage(b,z,ze),"repeat"),A.renderRepeat(Y,Q,me,oe)),[3,6];case 5:d5(y)?(R=Tp(r,n,[null,null,null]),Y=R[0],me=R[1],oe=R[2],z=R[3],ze=R[4],F=l5(y.angle,z,ze),D=F[0],K=F[1],W=F[2],H=F[3],re=F[4],de=document.createElement("canvas"),de.width=z,de.height=ze,ee=de.getContext("2d"),U=ee.createLinearGradient(K,H,W,re),gC(y.stops,D).forEach(function(Xe){return U.addColorStop(Xe.stop,Ca(Xe.color))}),ee.fillStyle=U,ee.fillRect(0,0,z,ze),z>0&&ze>0&&(Q=A.ctx.createPattern(de,"repeat"),A.renderRepeat(Y,Q,me,oe))):g5(y)&&(k=Tp(r,n,[null,null,null]),Y=k[0],q=k[1],V=k[2],z=k[3],ze=k[4],ve=y.position.length===0?[u2]:y.position,me=fn(ve[0],z),oe=fn(ve[ve.length-1],ze),Pe=c5(y,me,oe,z,ze),Ee=Pe[0],$e=Pe[1],Ee>0&&$e>0&&(ge=A.ctx.createRadialGradient(q+me,V+oe,0,q+me,V+oe,Ee),gC(y.stops,Ee*2).forEach(function(Xe){return ge.addColorStop(Xe.stop,Ca(Xe.color))}),A.path(Y),A.ctx.fillStyle=ge,Ee!==$e?(X=r.bounds.left+.5*r.bounds.width,ce=r.bounds.top+.5*r.bounds.height,le=$e/Ee,ae=1/le,A.ctx.save(),A.ctx.translate(X,ce),A.ctx.transform(1,0,0,le,0,0),A.ctx.translate(-X,-ce),A.ctx.fillRect(q,ae*(V-ce)+ce,z,ze*ae),A.ctx.restore()):A.ctx.fill())),xe.label=6;case 6:return n--,[2]}})},A=this,c=0,d=r.styles.backgroundImage.slice(0).reverse(),m.label=1;case 1:return c<d.length?(p=d[c],[5,a(p)]):[3,4];case 2:m.sent(),m.label=3;case 3:return c++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return gi(this,void 0,void 0,function(){return Za(this,function(A){return this.path(zC(a,n)),this.ctx.fillStyle=Ca(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,A){return gi(this,void 0,void 0,function(){var c,d;return Za(this,function(p){switch(p.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,A)]:[3,2];case 1:return p.sent(),[2];case 2:return c=mO(A,a),this.path(c),this.ctx.fillStyle=Ca(r),this.ctx.fill(),d=wO(A,a),this.path(d),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return gi(this,void 0,void 0,function(){var n,a,A,c,d,p,m,y,b=this;return Za(this,function(I){switch(I.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!zo(n.backgroundColor)||n.backgroundImage.length,A=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],c=NO(Kc(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(c),this.ctx.clip(),zo(n.backgroundColor)||(this.ctx.fillStyle=Ca(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:I.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(N){b.ctx.save();var R=Jd(r.curves),F=N.inset?0:TO,D=xO(R,-F+(N.inset?1:-1)*N.spread.number,(N.inset?1:-1)*N.spread.number,N.spread.number*(N.inset?-2:2),N.spread.number*(N.inset?-2:2));N.inset?(b.path(R),b.ctx.clip(),b.mask(D)):(b.mask(R),b.ctx.clip(),b.path(D)),b.ctx.shadowOffsetX=N.offsetX.number+F,b.ctx.shadowOffsetY=N.offsetY.number,b.ctx.shadowColor=Ca(N.color),b.ctx.shadowBlur=N.blur.number,b.ctx.fillStyle=N.inset?Ca(N.color):"rgba(0,0,0,1)",b.ctx.fill(),b.ctx.restore()}),I.label=2;case 2:d=0,p=0,m=A,I.label=3;case 3:return p<m.length?(y=m[p],y.style!==0&&!zo(y.color)&&y.width>0?y.style!==2?[3,5]:[4,this.renderDashedDottedBorder(y.color,y.width,d,r.curves,2)]:[3,11]):[3,13];case 4:return I.sent(),[3,11];case 5:return y.style!==3?[3,7]:[4,this.renderDashedDottedBorder(y.color,y.width,d,r.curves,3)];case 6:return I.sent(),[3,11];case 7:return y.style!==4?[3,9]:[4,this.renderDoubleBorder(y.color,y.width,d,r.curves)];case 8:return I.sent(),[3,11];case 9:return[4,this.renderSolidBorder(y.color,d,r.curves)];case 10:I.sent(),I.label=11;case 11:d++,I.label=12;case 12:return p++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,A,c){return gi(this,void 0,void 0,function(){var d,p,m,y,b,I,N,R,F,D,K,W,H,re,de,ee,de,ee;return Za(this,function(U){return this.ctx.save(),d=vO(A,a),p=zC(A,a),c===2&&(this.path(p),this.ctx.clip()),Is(p[0])?(m=p[0].start.x,y=p[0].start.y):(m=p[0].x,y=p[0].y),Is(p[1])?(b=p[1].end.x,I=p[1].end.y):(b=p[1].x,I=p[1].y),a===0||a===2?N=Math.abs(m-b):N=Math.abs(y-I),this.ctx.beginPath(),c===3?this.formatPath(d):this.formatPath(p.slice(0,2)),R=n<3?n*3:n*2,F=n<3?n*2:n,c===3&&(R=n,F=n),D=!0,N<=R*2?D=!1:N<=R*2+F?(K=N/(2*R+F),R*=K,F*=K):(W=Math.floor((N+F)/(R+F)),H=(N-W*R)/(W-1),re=(N-(W+1)*R)/W,F=re<=0||Math.abs(F-H)<Math.abs(F-re)?H:re),D&&(c===3?this.ctx.setLineDash([0,R+F]):this.ctx.setLineDash([R,F])),c===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ca(r),this.ctx.stroke(),this.ctx.setLineDash([]),c===2&&(Is(p[0])&&(de=p[3],ee=p[0],this.ctx.beginPath(),this.formatPath([new St(de.end.x,de.end.y),new St(ee.start.x,ee.start.y)]),this.ctx.stroke()),Is(p[1])&&(de=p[1],ee=p[2],this.ctx.beginPath(),this.formatPath([new St(de.end.x,de.end.y),new St(ee.start.x,ee.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return gi(this,void 0,void 0,function(){var n;return Za(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ca(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=pO(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(FT),SO=function(e){return e instanceof dT||e instanceof hT?!0:e instanceof g2&&e.type!==Xd&&e.type!==Wd},NO=function(e,t){switch(e){case 0:return Jd(t);case 2:return uO(t);case 1:default:return Zd(t)}},FO=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},RO=["-apple-system","system-ui"],DO=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return RO.indexOf(t)===-1}):e},OO=(function(e){Js(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return gi(this,void 0,void 0,function(){var n,a;return Za(this,function(A){switch(A.label){case 0:return n=pm(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,UO(n)];case 1:return a=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ca(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(FT),UO=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},kO=(function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,jh([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,jh([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,jh([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,jh([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e})(),MO=(function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new kO({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new nO(this,t)}return e.instanceCount=1,e})(),Pl=function(e,t){return t===void 0&&(t={}),LO(e,t)};typeof window<"u"&&bT.setContext(window);var LO=function(e,t){return gi(void 0,void 0,void 0,function(){var r,n,a,A,c,d,p,m,y,b,I,N,R,F,D,K,W,H,re,de,U,ee,U,Q,k,Y,q,V,z,ze,ve,me,oe,Pe,Ee,$e,ge,X,ce,le;return Za(this,function(ae){switch(ae.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(Q=t.allowTaint)!==null&&Q!==void 0?Q:!1,imageTimeout:(k=t.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:t.proxy,useCORS:(Y=t.useCORS)!==null&&Y!==void 0?Y:!1},A=rm({logging:(q=t.logging)!==null&&q!==void 0?q:!0,cache:t.cache},a),c={windowWidth:(V=t.windowWidth)!==null&&V!==void 0?V:n.innerWidth,windowHeight:(z=t.windowHeight)!==null&&z!==void 0?z:n.innerHeight,scrollX:(ze=t.scrollX)!==null&&ze!==void 0?ze:n.pageXOffset,scrollY:(ve=t.scrollY)!==null&&ve!==void 0?ve:n.pageYOffset},d=new JA(c.scrollX,c.scrollY,c.windowWidth,c.windowHeight),p=new MO(A,d),m=(me=t.foreignObjectRendering)!==null&&me!==void 0?me:!1,y={allowTaint:(oe=t.allowTaint)!==null&&oe!==void 0?oe:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:m,copyStyles:m},p.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),b=new VC(p,e,y),I=b.clonedReferenceElement,I?[4,b.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return N=ae.sent(),R=x2(I)||jD(I)?xF(I.ownerDocument):F1(p,I),F=R.width,D=R.height,K=R.left,W=R.top,H=QO(p,I,t.backgroundColor),re={canvas:t.canvas,backgroundColor:H,scale:(Ee=(Pe=t.scale)!==null&&Pe!==void 0?Pe:n.devicePixelRatio)!==null&&Ee!==void 0?Ee:1,x:(($e=t.x)!==null&&$e!==void 0?$e:0)+K,y:((ge=t.y)!==null&&ge!==void 0?ge:0)+W,width:(X=t.width)!==null&&X!==void 0?X:Math.ceil(F),height:(ce=t.height)!==null&&ce!==void 0?ce:Math.ceil(D)},m?(p.logger.debug("Document cloned, using foreign object rendering"),U=new OO(p,re),[4,U.render(I)]):[3,3];case 2:return de=ae.sent(),[3,5];case 3:return p.logger.debug("Document cloned, element located at "+K+","+W+" with size "+F+"x"+D+" using computed rendering"),p.logger.debug("Starting DOM parsing"),ee=pT(p,I),H===ee.styles.backgroundColor&&(ee.styles.backgroundColor=WA.TRANSPARENT),p.logger.debug("Starting renderer for element at "+re.x+","+re.y+" with size "+re.width+"x"+re.height),U=new IO(p,re),[4,U.render(ee)];case 4:de=ae.sent(),ae.label=5;case 5:return(!((le=t.removeContainer)!==null&&le!==void 0)||le)&&(VC.destroy(N)||p.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),p.logger.debug("Finished rendering"),[2,de]}})})},QO=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?Fu(e,getComputedStyle(n.documentElement).backgroundColor):WA.TRANSPARENT,A=n.body?Fu(e,getComputedStyle(n.body).backgroundColor):WA.TRANSPARENT,c=typeof r=="string"?Fu(e,r):r===null?WA.TRANSPARENT:4294967295;return t===n.documentElement?zo(a)?zo(A)?c:A:a:c};const jO=({currentUser:e,onLogout:t,onNavigateToProducts:r,onNavigateToCreateInvoice:n,onNavigateToSettings:a,onNavigateToCustomers:A,onNavigateToNotifications:c,onNavigateToSuppliers:d,onNavigateToClientRequests:p,onNavigateToCheckbook:m,onNavigateToSpecialOrders:y,invoices:b,products:I,onEditInvoice:N,onDeleteInvoice:R,onNewInvoiceForCustomer:F,settings:D,unreadNotificationsCount:K})=>{const[W,H]=_e.useState("unpaid"),[re,de]=_e.useState(!1),[ee,U]=_e.useState(""),[Q,k]=_e.useState(!1),[Y,q]=_e.useState(null),[V,z]=_e.useState(null),ze=_e.useRef(null),ve=_e.useRef(!1),me=_e.useRef(null);_e.useEffect(()=>{if(Y&&D.showBarcode&&me.current)try{setTimeout(()=>{const ae=document.getElementById("hidden-barcode");ae&&typeof JsBarcode<"u"&&JsBarcode(ae,Y.id,{format:"CODE128",width:1.5,height:40,displayValue:!0,fontSize:12,lineColor:"#000000"})},100)}catch(ae){console.error("Barcode generation failed",ae)}},[Y,D.showBarcode]);const oe=ae=>{ve.current=!1,ze.current=setTimeout(()=>{ve.current=!0,(e.role==="admin"||e.permissions.isManager)&&(z(ae),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},Pe=()=>{ze.current&&(clearTimeout(ze.current),ze.current=null)},Ee=()=>{V&&R&&(R(V.id),z(null))};_e.useEffect(()=>{Y&&window.scrollTo({top:0,behavior:"smooth"})},[Y]);const $e=ae=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(ae),ge=async()=>{if(!(!Y||!me.current)){k(!0);try{(await Pl(me.current,{scale:3,backgroundColor:"#ffffff",useCORS:!0,logging:!1,width:me.current.offsetWidth,windowWidth:1e3})).toBlob(async xe=>{if(!xe){k(!1),alert("  ");return}try{const Xe=new ClipboardItem({"image/png":xe});await navigator.clipboard.write([Xe]);let Se=Y.phone?Y.phone.replace(/\D/g,""):"";(Se.startsWith("06")||Se.startsWith("07")||Se.startsWith("05"))&&(Se="212"+Se.substring(1)),window.open(Se?`https://wa.me/${Se}`:"https://wa.me/","_blank")}catch{alert("   ."),window.open("https://wa.me/","_blank")}finally{k(!1)}},"image/png",1)}catch{k(!1)}}},X=()=>{Y&&I_(Y,D)},ce=()=>{H("unpaid"),U(""),de(!1),q(null)},le=_e.useMemo(()=>b.filter(ae=>{const xe=W==="all"?!0:ae.type===W,Xe=ae.name.includes(ee)||ae.id.includes(ee);return xe&&Xe}).sort((ae,xe)=>xe.createdAt-ae.createdAt),[b,W,ee]);return h.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[Y&&h.jsxs("div",{ref:me,style:{position:"fixed",top:0,left:-9999,width:D.receiptSize==="58mm"?"58mm":"80mm",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",padding:"10px 20px",fontSize:"12px",lineHeight:"1.4",direction:"rtl",zIndex:-1,boxSizing:"border-box"},children:[h.jsxs("div",{style:{textAlign:"center",borderBottom:"1px dashed #000",paddingBottom:"10px",marginBottom:"10px"},children:[D.businessLogo&&h.jsx("img",{src:D.businessLogo,alt:"Logo",style:{maxWidth:"60px",maxHeight:"60px",marginBottom:"5px"}}),h.jsx("div",{style:{fontSize:"16px",fontWeight:"800",margin:"5px 0"},children:D.businessName}),h.jsx("div",{style:{fontSize:"10px"},children:D.userName}),h.jsxs("div",{style:{fontSize:"10px"},children:[": ",new Date().toLocaleDateString("ar-MA")]}),h.jsxs("div",{style:{fontSize:"10px"},children:[" : ",Y.id]})]}),h.jsxs("div",{style:{marginBottom:"10px",borderBottom:"1px dashed #000",paddingBottom:"5px"},children:[h.jsxs("div",{style:{fontWeight:"bold"},children:[": ",Y.name]}),Y.phone&&h.jsxs("div",{children:[": ",Y.phone]})]}),h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px",fontSize:"10px"},children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #000",padding:"2px 0 8px 0"},children:""}),h.jsx("th",{style:{textAlign:"center",borderBottom:"1px solid #000",padding:"2px 0 8px 0",width:"15%"},children:""}),h.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #000",padding:"2px 0 8px 0",width:"35%"},children:""})]})}),h.jsx("tbody",{children:Y.items.map((ae,xe)=>h.jsxs("tr",{children:[h.jsx("td",{style:{padding:"4px 0",verticalAlign:"top"},children:ae.productName}),h.jsx("td",{style:{padding:"4px 0",textAlign:"center",verticalAlign:"top"},children:ae.count}),h.jsx("td",{style:{padding:"4px 0",textAlign:"left",verticalAlign:"top"},children:ae.total.toFixed(2)})]},xe))})]}),h.jsxs("div",{style:{borderTop:"1px dashed #000",paddingTop:"5px",marginTop:"5px"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"900",fontSize:"14px",marginTop:"5px"},children:[h.jsx("span",{children:":"}),h.jsxs("span",{children:[Y.amount.toFixed(2)," ."]})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[h.jsx("span",{children:":"}),h.jsxs("span",{children:[Y.paidAmount.toFixed(2)," ."]})]}),Y.remainingAmount>0&&h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[h.jsx("span",{children:":"}),h.jsxs("span",{children:[Y.remainingAmount.toFixed(2)," ."]})]})]}),h.jsxs("div",{style:{textAlign:"center",marginTop:"15px",fontSize:"9px",borderTop:"1px dashed #000",paddingTop:"10px"},children:[h.jsx("p",{children:" "}),h.jsx("p",{children:"Thank you for your visit"}),D.showBarcode&&h.jsx("div",{style:{marginTop:"10px",display:"flex",justifyContent:"center"},children:h.jsx("svg",{id:"hidden-barcode"})})]})]}),h.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:border-b md:border-gray-800 md:bg-black/90 md:backdrop-blur-md",children:[h.jsxs("h1",{className:"text-xl font-bold text-gray-100",children:["  ",e.name]}),h.jsxs("div",{className:"flex items-center gap-3",children:[e.permissions.viewNotifications&&h.jsxs("button",{onClick:c,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors relative active:scale-95",title:"",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),h.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),K>0&&h.jsx("span",{className:"absolute top-2 right-2.5 w-4 h-4 bg-red-500 rounded-full border border-black text-[8px] flex items-center justify-center text-white font-black animate-bounce",children:K})]}),h.jsx("button",{onClick:a,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-[#57b385] transition-colors active:scale-95",title:"",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto scroll-smooth custom-scrollbar pb-32 md:px-6",children:[h.jsxs("div",{className:"md:grid md:grid-cols-2 lg:grid-cols-4 md:gap-4 md:mb-6",children:[e.permissions.manageSuppliers&&h.jsx("div",{className:"px-6 md:px-0 pt-4 pb-0 md:py-0",children:h.jsx("button",{onClick:d,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:h.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[h.jsx("div",{className:"w-14 h-14 bg-red-500/10 rounded-2xl flex items-center justify-center text-red-500 border border-red-500/20",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14c-.6.6-1 1.5-1 2.3v3.7c0 1.1.9 2 2 2h3.7c.9 0 1.7-.4 2.3-1L15.4 15"}),h.jsx("path",{d:"m11 16 2 2"}),h.jsx("path",{d:"m14 13 4 4"}),h.jsx("path",{d:"M22 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})]})}),h.jsxs("div",{className:"text-right",children:[h.jsx("h3",{className:"text-lg font-black text-white",children:""}),h.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})}),e.permissions.manageRequests&&h.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:h.jsx("button",{onClick:p,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:h.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[h.jsx("div",{className:"w-14 h-14 bg-blue-500/10 rounded-2xl flex items-center justify-center text-blue-500 border border-blue-500/20",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),h.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),h.jsx("path",{d:"M12 11h4"}),h.jsx("path",{d:"M12 16h4"}),h.jsx("path",{d:"M8 11h.01"}),h.jsx("path",{d:"M8 16h.01"})]})}),h.jsxs("div",{className:"text-right",children:[h.jsx("h3",{className:"text-lg font-black text-white",children:""}),h.jsx("p",{className:"text-xs text-gray-500",children:"   "})]})]})})}),e.permissions.manageCheckbook&&h.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:h.jsx("button",{onClick:m,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:h.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[h.jsx("div",{className:"w-14 h-14 bg-purple-500/10 rounded-2xl flex items-center justify-center text-purple-500 border border-purple-500/20",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),h.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),h.jsxs("div",{className:"text-right",children:[h.jsx("h3",{className:"text-lg font-black text-white",children:""}),h.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})}),e.permissions.manageSpecialOrders&&h.jsx("div",{className:"px-6 md:px-0 pt-3 pb-4 md:py-0",children:h.jsx("button",{onClick:y,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:h.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[h.jsx("div",{className:"w-14 h-14 bg-rose-500/10 rounded-2xl flex items-center justify-center text-rose-500 border border-rose-500/20",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),h.jsxs("div",{className:"text-right",children:[h.jsx("h3",{className:"text-lg font-black text-white",children:""}),h.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})})]}),h.jsx("div",{className:"px-6 md:px-0 pt-2 pb-2",children:h.jsx("h2",{className:"text-xl font-extrabold text-gray-200 border-r-[6px] border-[#57b385] pr-4 py-1 flex items-center gap-3",children:" "})}),h.jsxs("div",{className:"sticky top-0 bg-[#0c0c0c] z-10 md:static md:bg-transparent",children:[h.jsxs("div",{className:"px-6 md:px-0 flex border-b border-gray-800",children:[h.jsxs("button",{onClick:()=>H("unpaid"),className:`flex-1 py-3 font-bold transition-all relative ${W==="unpaid"?"text-white":"text-gray-500"}`,children:[" ",W==="unpaid"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),h.jsxs("button",{onClick:()=>H("paid"),className:`flex-1 py-3 font-bold transition-all relative ${W==="paid"?"text-white":"text-gray-500"}`,children:["",W==="paid"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),h.jsxs("button",{onClick:()=>H("all"),className:`flex-1 py-3 font-bold transition-all relative ${W==="all"?"text-white":"text-gray-500"}`,children:["",W==="all"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]})]}),h.jsx("div",{className:"px-6 md:px-0 py-4 flex items-center justify-between min-h-[72px]",children:re?h.jsxs("div",{className:"flex items-center justify-between w-full gap-3 animate-in slide-in-from-right duration-300",children:[h.jsx("button",{onClick:()=>{de(!1),U("")},className:"w-10 h-10 min-w-[40px] bg-[#57b385] rounded-xl flex items-center justify-center text-white shadow-lg active:scale-90 transition-transform",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M18 6 6 18"}),h.jsx("path",{d:"m6 6 12 12"})]})}),h.jsx("div",{className:"flex-1 max-w-[180px] relative",children:h.jsx("input",{autoFocus:!0,type:"text",placeholder:"   ...",className:"w-full bg-black/40 border border-gray-800 rounded-full py-2.5 px-4 text-xs text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600",value:ee,onChange:ae=>U(ae.target.value)})}),h.jsxs("div",{className:"text-sm font-bold text-gray-100 whitespace-nowrap",children:[h.jsx("span",{className:"text-[#57b385] font-black",children:le.length})," "]})]}):h.jsxs("div",{className:"flex items-center justify-between w-full animate-in fade-in duration-300",children:[h.jsx("button",{onClick:()=>de(!0),className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400 hover:text-[#57b385] transition-all active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})}),h.jsxs("div",{className:"text-sm font-bold text-gray-100 flex items-center gap-1.5",children:[h.jsx("span",{className:"text-[#57b385] font-black",children:le.length}),"  "]})]})})]}),h.jsx("div",{className:"px-4 md:px-0 space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4",children:le.length>0?le.map(ae=>h.jsxs("div",{onMouseDown:()=>oe(ae),onMouseUp:Pe,onMouseLeave:Pe,onTouchStart:()=>oe(ae),onTouchEnd:Pe,onClick:()=>!ve.current&&q(ae),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex md:flex-col items-center gap-4 group hover:border-gray-700 transition-all active:scale-[0.98] cursor-pointer relative overflow-hidden h-full",children:[h.jsxs("div",{className:"flex items-center gap-4 w-full",children:[h.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 items-center justify-center text-[#7c8b9a] group-hover:scale-105 transition-all shadow-inner group-hover:border-[#57b385]/30 flex",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),h.jsxs("div",{className:"flex-1 text-right",children:[h.jsx("h4",{className:"text-xl md:text-2xl font-black text-white mb-2 tracking-tight",children:ae.name}),h.jsx("span",{className:"text-xs text-gray-500 font-bold whitespace-nowrap",children:new Date(ae.createdAt).toLocaleDateString("ar-MA",{day:"numeric",month:"short"})})]})]}),h.jsx("div",{className:"flex flex-col gap-1.5 items-end w-full md:mt-2",children:h.jsxs("div",{className:"bg-[#1a1a1a]/80 px-4 py-2 rounded-full border border-gray-800/50 flex items-center justify-between w-full shadow-lg",children:[h.jsxs("span",{className:`text-sm font-black ${ae.remainingAmount>0?"text-red-400":"text-[#57b385]"} whitespace-nowrap`,children:[$e(ae.remainingAmount>0?ae.remainingAmount:ae.amount)," ."]}),h.jsx("div",{className:"bg-[#1a1a1a] px-2 py-0.5 rounded-lg border border-gray-800 text-[#7c8b9a] font-mono text-[9px] font-bold shadow-inner",children:ae.id})]})})]},ae.id)):h.jsxs("div",{className:"text-center py-10 text-gray-600 flex flex-col items-center gap-4 col-span-full",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-20",children:[h.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),h.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),h.jsx("p",{children:"  "})]})})]}),Y&&h.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/90 md:backdrop-blur-sm flex flex-col md:items-center md:justify-center animate-in slide-in-from-bottom md:slide-in-from-bottom-10 md:fade-in duration-400 overflow-hidden",children:h.jsxs("div",{className:"w-full h-full md:h-auto md:max-h-[90vh] md:max-w-2xl bg-[#0c0c0c] md:bg-[#111111] md:border md:border-gray-800 md:rounded-[3rem] md:shadow-2xl flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"px-6 pt-10 md:pt-6 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#111111]",children:[h.jsx("button",{onClick:()=>q(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})}),h.jsx("h2",{className:"text-xl font-bold",children:" "}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>F(Y.name,Y.phone||""),disabled:!e.permissions.createInvoices,className:`p-3 bg-blue-500/10 rounded-2xl border border-blue-500/20 text-blue-500 hover:bg-blue-500 hover:text-white active:scale-90 transition-all ${e.permissions.createInvoices?"":"opacity-20 grayscale"}`,title:"   ",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),h.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),h.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),h.jsx("button",{onClick:()=>N(Y),disabled:!e.permissions.createInvoices,className:`p-3 bg-[#57b385]/10 rounded-2xl border border-[#57b385]/20 text-[#57b385] hover:bg-[#57b385] hover:text-white active:scale-90 transition-all ${e.permissions.createInvoices?"":"opacity-20 grayscale"}`,children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12 20h9"}),h.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:Y.name.charAt(0)}),h.jsx("h3",{className:"text-2xl font-black text-white",children:Y.name}),h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsxs("div",{className:"flex justify-center gap-2",children:[h.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:Y.id}),h.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:Y.date})]}),Y.creatorName&&h.jsxs("span",{className:"text-[10px] bg-black/40 px-4 py-1 rounded-full border border-gray-800 text-[#57b385] font-black",children:[": ",Y.creatorName]})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("h4",{className:"text-xs font-bold text-gray-500 border-b border-gray-800 pb-2",children:["  (",Y.items.length,")"]}),h.jsx("div",{className:"md:grid md:grid-cols-2 gap-3",children:Y.items.map((ae,xe)=>h.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/40 p-4 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-white text-sm mb-1",children:ae.productName}),h.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:[h.jsx("span",{className:"text-[#57b385] font-bold",children:ae.count}),"  ",$e(ae.price)]})]}),h.jsx("div",{className:"font-black text-[#57b385]",children:$e(ae.total)})]},xe))})]}),h.jsxs("div",{className:"bg-[#1a1a1a] rounded-[2rem] border border-gray-800 p-5 space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-xs text-gray-400 font-bold",children:" "}),h.jsxs("span",{className:"text-lg font-black text-white",children:[$e(Y.amount)," ."]})]}),h.jsx("div",{className:"w-full h-px bg-gray-700/50"}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),h.jsxs("span",{className:"text-sm font-black text-[#57b385]",children:[$e(Y.paidAmount)," ."]})]}),Y.remainingAmount>0&&h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),h.jsxs("span",{className:"text-sm font-black text-red-500",children:[$e(Y.remainingAmount)," ."]})]})]})]}),h.jsxs("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#111111] border-t border-gray-800 pb-10 md:pb-6 flex gap-4",children:[h.jsx("button",{onClick:ge,disabled:Q,className:`flex-1 bg-[#25D366] text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3 ${Q?"opacity-50 cursor-not-allowed":""}`,children:Q?h.jsx("span",{className:"text-sm",children:" ..."}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),h.jsx("polyline",{points:"16 6 12 2 8 6"}),h.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),""]})}),h.jsx("button",{onClick:X,className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-200 py-4 rounded-2xl font-bold active:scale-95 transition-all flex items-center justify-center",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),h.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),h.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),h.jsx("button",{onClick:()=>q(null),className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),V&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),h.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),h.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),h.jsxs("p",{className:"text-sm text-gray-400",children:["       ",h.jsx("span",{className:"text-white font-bold",children:V.id})," "]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:Ee,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),h.jsx("button",{onClick:()=>z(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),h.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[h.jsx(ld,{onClick:ce,icon:h.jsx(HO,{}),label:"",active:!0}),h.jsx(ld,{onClick:r,icon:h.jsx(PO,{}),label:""}),h.jsx("div",{className:"relative -top-6",children:h.jsx("button",{onClick:n,disabled:!e.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${e.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:h.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),h.jsx(ld,{onClick:A,icon:h.jsx(VO,{}),label:""}),h.jsx(ld,{onClick:a,icon:h.jsx(GO,{}),label:""})]})]})},ld=({icon:e,label:t,active:r=!1,onClick:n})=>h.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[h.jsx("div",{className:r?"scale-110":"",children:e}),h.jsx("span",{className:"text-[10px] font-bold",children:t})]}),HO=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),h.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),PO=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),h.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),h.jsx("path",{d:"M12 22V12"})]}),VO=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),h.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),GO=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),h.jsx("circle",{cx:"12",cy:"12",r:"3"})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var RT=1252,KO=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],p2={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},m2=function(e){KO.indexOf(e)!=-1&&(RT=p2[0]=e)};function zO(){m2(1252)}var Ws=function(e){m2(e)};function DT(){Ws(1200),zO()}function XC(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function WO(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function OT(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var vu=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?WO(e.slice(2)):t==254&&r==255?OT(e.slice(2)):t==65279?e.slice(1):e},cd=function(t){return String.fromCharCode(t)},YC=function(t){return String.fromCharCode(t)},$u,Po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function qC(e){for(var t="",r=0,n=0,a=0,A=0,c=0,d=0,p=0,m=0;m<e.length;)r=e.charCodeAt(m++),A=r>>2,n=e.charCodeAt(m++),c=(r&3)<<4|n>>4,a=e.charCodeAt(m++),d=(n&15)<<2|a>>6,p=a&63,isNaN(n)?d=p=64:isNaN(a)&&(p=64),t+=Po.charAt(A)+Po.charAt(c)+Po.charAt(d)+Po.charAt(p);return t}function cs(e){var t="",r=0,n=0,a=0,A=0,c=0,d=0,p=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var m=0;m<e.length;)A=Po.indexOf(e.charAt(m++)),c=Po.indexOf(e.charAt(m++)),r=A<<2|c>>4,t+=String.fromCharCode(r),d=Po.indexOf(e.charAt(m++)),n=(c&15)<<4|d>>2,d!==64&&(t+=String.fromCharCode(n)),p=Po.indexOf(e.charAt(m++)),a=(d&3)<<6|p,p!==64&&(t+=String.fromCharCode(a));return t}var _r=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Jl=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Zo(e){return _r?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function JC(e){return _r?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var zs=function(t){return _r?Jl(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Zl(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function w2(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return w2(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Lo=_r?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Jl(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(A){return Array.isArray(A)?A:[].slice.call(A)}))};function XO(e){for(var t=[],r=0,n=e.length+250,a=Zo(e.length+255),A=0;A<e.length;++A){var c=e.charCodeAt(A);if(c<128)a[r++]=c;else if(c<2048)a[r++]=192|c>>6&31,a[r++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var d=e.charCodeAt(++A)&1023;a[r++]=240|c>>8&7,a[r++]=128|c>>2&63,a[r++]=128|d>>6&15|(c&3)<<4,a[r++]=128|d&63}else a[r++]=224|c>>12&15,a[r++]=128|c>>6&63,a[r++]=128|c&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Zo(65535),n=65530)}return t.push(a.slice(0,r)),Lo(t)}var vi=/\u0000/g,yu=/[\u0001-\u0006]/g;function r0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Xs(e,t){var r=""+e;return r.length>=t?r:jn("0",t-r.length)+r}function v2(e,t){var r=""+e;return r.length>=t?r:jn(" ",t-r.length)+r}function e1(e,t){var r=""+e;return r.length>=t?r:r+jn(" ",t-r.length)}function YO(e,t){var r=""+Math.round(e);return r.length>=t?r:jn("0",t-r.length)+r}function qO(e,t){var r=""+e;return r.length>=t?r:jn("0",t-r.length)+r}var ZC=Math.pow(2,32);function Vc(e,t){if(e>ZC||e<-ZC)return YO(e,t);var r=Math.round(e);return qO(r,t)}function t1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var $C=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ip=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function JO(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ur={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},eB={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ZO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function r1(e,t,r){for(var n=e<0?-1:1,a=e*n,A=0,c=1,d=0,p=1,m=0,y=0,b=Math.floor(a);m<t&&(b=Math.floor(a),d=b*c+A,y=b*m+p,!(a-b<5e-8));)a=1/(a-b),A=c,c=d,p=m,m=y;if(y>t&&(m>t?(y=p,d=A):(y=m,d=c)),!r)return[0,n*d,y];var I=Math.floor(n*d/y);return[I,n*d-I*y,y]}function Ol(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),A=0,c=[],d={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),t&&t.date1904&&(n+=1462),d.u>.9999&&(d.u=0,++a==86400&&(d.T=a=0,++n,++d.D)),n===60)c=r?[1317,10,29]:[1900,2,29],A=3;else if(n===0)c=r?[1317,8,29]:[1900,1,0],A=6;else{n>60&&--n;var p=new Date(1900,0,1);p.setDate(p.getDate()+n-1),c=[p.getFullYear(),p.getMonth()+1,p.getDate()],A=p.getDay(),n<60&&(A=(A+6)%7),r&&(A=aU(p,c))}return d.y=c[0],d.m=c[1],d.d=c[2],d.S=a%60,a=Math.floor(a/60),d.M=a%60,a=Math.floor(a/60),d.H=a,d.q=A,d}var UT=new Date(1899,11,31,0,0,0),$O=UT.getTime(),eU=new Date(1900,2,1,0,0,0);function kT(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=eU&&(r+=1440*60*1e3),(r-($O+(e.getTimezoneOffset()-UT.getTimezoneOffset())*6e4))/(1440*60*1e3)}function y2(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function tU(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function rU(e){var t=e<0?12:11,r=y2(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function nU(e){var t=y2(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function ef(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=rU(e):t===10?r=e.toFixed(10).substr(0,12):r=nU(e),y2(tU(r.toUpperCase()))}function Vl(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):ef(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Fs(14,kT(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function aU(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function iU(e,t,r,n){var a="",A=0,c=0,d=r.y,p,m=0;switch(e){case 98:d=r.y+543;case 121:switch(t.length){case 1:case 2:p=d%100,m=2;break;default:p=d%1e4,m=4;break}break;case 109:switch(t.length){case 1:case 2:p=r.m,m=t.length;break;case 3:return Ip[r.m-1][1];case 5:return Ip[r.m-1][0];default:return Ip[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:p=r.d,m=t.length;break;case 3:return $C[r.q][0];default:return $C[r.q][1]}break;case 104:switch(t.length){case 1:case 2:p=1+(r.H+11)%12,m=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:p=r.H,m=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:p=r.M,m=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Xs(r.S,t.length):(n>=2?c=n===3?1e3:100:c=n===1?10:1,A=Math.round(c*(r.S+r.u)),A>=60*c&&(A=0),t==="s"?A===0?"0":""+A/c:(a=Xs(A,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":p=r.D*24+r.H;break;case"[m]":case"[mm]":p=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":p=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}m=t.length===3?1:2;break;case 101:p=d,m=1;break}var y=m>0?Xs(p,m):"";return y}function Vo(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var MT=/%/g;function sU(e,t,r){var n=t.replace(MT,""),a=t.length-n.length;return XA(e,n,r*Math.pow(10,2*a))+jn("%",a)}function AU(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return XA(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function LT(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+LT(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var A=Math.floor(Math.log(t)*Math.LOG10E)%a;if(A<0&&(A+=a),r=(t/Math.pow(10,A)).toPrecision(n+1+(a+A)%a),r.indexOf("e")===-1){var c=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+A):r+="E+"+(c-A);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,p,m,y){return p+m+y.substr(0,(a+A)%a)+"."+y.substr(A)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var QT=/# (\?+)( ?)\/( ?)(\d+)/;function oU(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),A=Math.floor(a/n),c=a-A*n,d=n;return r+(A===0?"":""+A)+" "+(c===0?jn(" ",e[1].length+1+e[4].length):v2(c,e[1].length)+e[2]+"/"+e[3]+Xs(d,e[4].length))}function lU(e,t,r){return r+(t===0?"":""+t)+jn(" ",e[1].length+2+e[4].length)}var jT=/^#*0*\.([0#]+)/,HT=/\).*[0#]/,PT=/\(###\) ###\\?-####/;function pi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function tB(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function rB(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function cU(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function uU(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function bs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(HT)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?bs("n",n,r):"("+bs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return AU(e,t,r);if(t.indexOf("%")!==-1)return sU(e,t,r);if(t.indexOf("E")!==-1)return LT(t,r);if(t.charCodeAt(0)===36)return"$"+bs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,A,c,d,p=Math.abs(r),m=r<0?"-":"";if(t.match(/^00+$/))return m+Vc(p,t.length);if(t.match(/^[#?]+$/))return a=Vc(r,0),a==="0"&&(a=""),a.length>t.length?a:pi(t.substr(0,t.length-a.length))+a;if(A=t.match(QT))return oU(A,p,m);if(t.match(/^#+0+$/))return m+Vc(p,t.length-t.indexOf("0"));if(A=t.match(jT))return a=tB(r,A[1].length).replace(/^([^\.]+)$/,"$1."+pi(A[1])).replace(/\.$/,"."+pi(A[1])).replace(/\.(\d*)$/,function(R,F){return"."+F+jn("0",pi(A[1]).length-F.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),A=t.match(/^(0*)\.(#*)$/))return m+tB(p,A[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,A[1].length?"0.":".");if(A=t.match(/^#{1,3},##0(\.?)$/))return m+Vo(Vc(p,0));if(A=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+bs(e,t,-r):Vo(""+(Math.floor(r)+cU(r,A[1].length)))+"."+Xs(rB(r,A[1].length),A[1].length);if(A=t.match(/^#,#*,#0/))return bs(e,t.replace(/^#,#*,/,""),r);if(A=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=r0(bs(e,t.replace(/[\\-]/g,""),r)),c=0,r0(r0(t.replace(/\\/g,"")).replace(/[0#]/g,function(R){return c<a.length?a.charAt(c++):R==="0"?"0":""}));if(t.match(PT))return a=bs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var y="";if(A=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(A[4].length,7),d=r1(p,Math.pow(10,c)-1,!1),a=""+m,y=XA("n",A[1],d[1]),y.charAt(y.length-1)==" "&&(y=y.substr(0,y.length-1)+"0"),a+=y+A[2]+"/"+A[3],y=e1(d[2],c),y.length<A[4].length&&(y=pi(A[4].substr(A[4].length-y.length))+y),a+=y,a;if(A=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(A[1].length,A[4].length),7),d=r1(p,Math.pow(10,c)-1,!0),m+(d[0]||(d[1]?"":"0"))+" "+(d[1]?v2(d[1],c)+A[2]+"/"+A[3]+e1(d[2],c):jn(" ",2*c+1+A[2].length+A[3].length));if(A=t.match(/^[#0?]+$/))return a=Vc(r,0),t.length<=a.length?a:pi(t.substr(0,t.length-a.length))+a;if(A=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(A[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var b=t.indexOf(".")-c,I=t.length-a.length-b;return pi(t.substr(0,b)+a+t.substr(t.length-I))}if(A=t.match(/^00,000\.([#0]*0)$/))return c=rB(r,A[1].length),r<0?"-"+bs(e,t,-r):Vo(uU(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(R){return"00,"+(R.length<3?Xs(0,3-R.length):"")+R})+"."+Xs(c,A[1].length);switch(t){case"###,##0.00":return bs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var N=Vo(Vc(p,0));return N!=="0"?m+N:"";case"###,###.00":return bs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return bs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function fU(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return XA(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function hU(e,t,r){var n=t.replace(MT,""),a=t.length-n.length;return XA(e,n,r*Math.pow(10,2*a))+jn("%",a)}function VT(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+VT(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var A=Math.floor(Math.log(t)*Math.LOG10E)%a;if(A<0&&(A+=a),r=(t/Math.pow(10,A)).toPrecision(n+1+(a+A)%a),!r.match(/[Ee]/)){var c=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+A):r+="E+"+(c-A),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,p,m,y){return p+m+y.substr(0,(a+A)%a)+"."+y.substr(A)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function oA(e,t,r){if(e.charCodeAt(0)===40&&!t.match(HT)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?oA("n",n,r):"("+oA("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return fU(e,t,r);if(t.indexOf("%")!==-1)return hU(e,t,r);if(t.indexOf("E")!==-1)return VT(t,r);if(t.charCodeAt(0)===36)return"$"+oA(e,t.substr(t.charAt(1)==" "?2:1),r);var a,A,c,d,p=Math.abs(r),m=r<0?"-":"";if(t.match(/^00+$/))return m+Xs(p,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:pi(t.substr(0,t.length-a.length))+a;if(A=t.match(QT))return lU(A,p,m);if(t.match(/^#+0+$/))return m+Xs(p,t.length-t.indexOf("0"));if(A=t.match(jT))return a=(""+r).replace(/^([^\.]+)$/,"$1."+pi(A[1])).replace(/\.$/,"."+pi(A[1])),a=a.replace(/\.(\d*)$/,function(R,F){return"."+F+jn("0",pi(A[1]).length-F.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),A=t.match(/^(0*)\.(#*)$/))return m+(""+p).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,A[1].length?"0.":".");if(A=t.match(/^#{1,3},##0(\.?)$/))return m+Vo(""+p);if(A=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+oA(e,t,-r):Vo(""+r)+"."+jn("0",A[1].length);if(A=t.match(/^#,#*,#0/))return oA(e,t.replace(/^#,#*,/,""),r);if(A=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=r0(oA(e,t.replace(/[\\-]/g,""),r)),c=0,r0(r0(t.replace(/\\/g,"")).replace(/[0#]/g,function(R){return c<a.length?a.charAt(c++):R==="0"?"0":""}));if(t.match(PT))return a=oA(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var y="";if(A=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(A[4].length,7),d=r1(p,Math.pow(10,c)-1,!1),a=""+m,y=XA("n",A[1],d[1]),y.charAt(y.length-1)==" "&&(y=y.substr(0,y.length-1)+"0"),a+=y+A[2]+"/"+A[3],y=e1(d[2],c),y.length<A[4].length&&(y=pi(A[4].substr(A[4].length-y.length))+y),a+=y,a;if(A=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(A[1].length,A[4].length),7),d=r1(p,Math.pow(10,c)-1,!0),m+(d[0]||(d[1]?"":"0"))+" "+(d[1]?v2(d[1],c)+A[2]+"/"+A[3]+e1(d[2],c):jn(" ",2*c+1+A[2].length+A[3].length));if(A=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:pi(t.substr(0,t.length-a.length))+a;if(A=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(A[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var b=t.indexOf(".")-c,I=t.length-a.length-b;return pi(t.substr(0,b)+a+t.substr(t.length-I))}if(A=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+oA(e,t,-r):Vo(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(R){return"00,"+(R.length<3?Xs(0,3-R.length):"")+R})+"."+Xs(0,A[1].length);switch(t){case"###,###":case"##,###":case"#,###":var N=Vo(""+p);return N!=="0"?m+N:"";default:if(t.match(/\.[0#?]*$/))return oA(e,t.slice(0,t.lastIndexOf(".")),r)+pi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function XA(e,t,r){return(r|0)===r?oA(e,t,r):bs(e,t,r)}function dU(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var GT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function m0(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":t1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(GT))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function gU(e,t,r,n){for(var a=[],A="",c=0,d="",p="t",m,y,b,I="H";c<e.length;)switch(d=e.charAt(c)){case"G":if(!t1(e,c))throw new Error("unrecognized character "+d+" in "+e);a[a.length]={t:"G",v:"General"},c+=7;break;case'"':for(A="";(b=e.charCodeAt(++c))!==34&&c<e.length;)A+=String.fromCharCode(b);a[a.length]={t:"t",v:A},++c;break;case"\\":var N=e.charAt(++c),R=N==="("||N===")"?N:"t";a[a.length]={t:R,v:N},++c;break;case"_":a[a.length]={t:"t",v:" "},c+=2;break;case"@":a[a.length]={t:"T",v:t},++c;break;case"B":case"b":if(e.charAt(c+1)==="1"||e.charAt(c+1)==="2"){if(m==null&&(m=Ol(t,r,e.charAt(c+1)==="2"),m==null))return"";a[a.length]={t:"X",v:e.substr(c,2)},p=d,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||m==null&&(m=Ol(t,r),m==null))return"";for(A=d;++c<e.length&&e.charAt(c).toLowerCase()===d;)A+=d;d==="m"&&p.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=I),a[a.length]={t:d,v:A},p=d;break;case"A":case"a":case"":var F={t:d,v:d};if(m==null&&(m=Ol(t,r)),e.substr(c,3).toUpperCase()==="A/P"?(m!=null&&(F.v=m.H>=12?"P":"A"),F.t="T",I="h",c+=3):e.substr(c,5).toUpperCase()==="AM/PM"?(m!=null&&(F.v=m.H>=12?"PM":"AM"),F.t="T",c+=5,I="h"):e.substr(c,5).toUpperCase()==="/"?(m!=null&&(F.v=m.H>=12?"":""),F.t="T",c+=5,I="h"):(F.t="t",++c),m==null&&F.t==="T")return"";a[a.length]=F,p=d;break;case"[":for(A=d;e.charAt(c++)!=="]"&&c<e.length;)A+=e.charAt(c);if(A.slice(-1)!=="]")throw'unterminated "[" block: |'+A+"|";if(A.match(GT)){if(m==null&&(m=Ol(t,r),m==null))return"";a[a.length]={t:"Z",v:A.toLowerCase()},p=A.charAt(1)}else A.indexOf("$")>-1&&(A=(A.match(/\$([^-\[\]]*)/)||[])[1]||"$",m0(e)||(a[a.length]={t:"t",v:A}));break;case".":if(m!=null){for(A=d;++c<e.length&&(d=e.charAt(c))==="0";)A+=d;a[a.length]={t:"s",v:A};break}case"0":case"#":for(A=d;++c<e.length&&"0#?.,E+-%".indexOf(d=e.charAt(c))>-1;)A+=d;a[a.length]={t:"n",v:A};break;case"?":for(A=d;e.charAt(++c)===d;)A+=d;a[a.length]={t:d,v:A},p=d;break;case"*":++c,(e.charAt(c)==" "||e.charAt(c)=="*")&&++c;break;case"(":case")":a[a.length]={t:n===1?"t":d,v:d},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(A=d;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)A+=e.charAt(c);a[a.length]={t:"D",v:A};break;case" ":a[a.length]={t:d,v:d},++c;break;case"$":a[a.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+e);a[a.length]={t:"t",v:d},++c;break}var D=0,K=0,W;for(c=a.length-1,p="t";c>=0;--c)switch(a[c].t){case"h":case"H":a[c].t=I,p="h",D<1&&(D=1);break;case"s":(W=a[c].v.match(/\.0+$/))&&(K=Math.max(K,W[0].length-1)),D<3&&(D=3);case"d":case"y":case"M":case"e":p=a[c].t;break;case"m":p==="s"&&(a[c].t="M",D<2&&(D=2));break;case"X":break;case"Z":D<1&&a[c].v.match(/[Hh]/)&&(D=1),D<2&&a[c].v.match(/[Mm]/)&&(D=2),D<3&&a[c].v.match(/[Ss]/)&&(D=3)}switch(D){case 0:break;case 1:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M),m.M>=60&&(m.M=0,++m.H);break;case 2:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M);break}var H="",re;for(c=0;c<a.length;++c)switch(a[c].t){case"t":case"T":case" ":case"D":break;case"X":a[c].v="",a[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[c].v=iU(a[c].t.charCodeAt(0),a[c].v,m,K),a[c].t="t";break;case"n":case"?":for(re=c+1;a[re]!=null&&((d=a[re].t)==="?"||d==="D"||(d===" "||d==="t")&&a[re+1]!=null&&(a[re+1].t==="?"||a[re+1].t==="t"&&a[re+1].v==="/")||a[c].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(a[re].v==="/"||a[re].v===" "&&a[re+1]!=null&&a[re+1].t=="?"));)a[c].v+=a[re].v,a[re]={v:"",t:";"},++re;H+=a[c].v,c=re-1;break;case"G":a[c].t="t",a[c].v=Vl(t,r);break}var de="",ee,U;if(H.length>0){H.charCodeAt(0)==40?(ee=t<0&&H.charCodeAt(0)===45?-t:t,U=XA("n",H,ee)):(ee=t<0&&n>1?-t:t,U=XA("n",H,ee),ee<0&&a[0]&&a[0].t=="t"&&(U=U.substr(1),a[0].v="-"+a[0].v)),re=U.length-1;var Q=a.length;for(c=0;c<a.length;++c)if(a[c]!=null&&a[c].t!="t"&&a[c].v.indexOf(".")>-1){Q=c;break}var k=a.length;if(Q===a.length&&U.indexOf("E")===-1){for(c=a.length-1;c>=0;--c)a[c]==null||"n?".indexOf(a[c].t)===-1||(re>=a[c].v.length-1?(re-=a[c].v.length,a[c].v=U.substr(re+1,a[c].v.length)):re<0?a[c].v="":(a[c].v=U.substr(0,re+1),re=-1),a[c].t="t",k=c);re>=0&&k<a.length&&(a[k].v=U.substr(0,re+1)+a[k].v)}else if(Q!==a.length&&U.indexOf("E")===-1){for(re=U.indexOf(".")-1,c=Q;c>=0;--c)if(!(a[c]==null||"n?".indexOf(a[c].t)===-1)){for(y=a[c].v.indexOf(".")>-1&&c===Q?a[c].v.indexOf(".")-1:a[c].v.length-1,de=a[c].v.substr(y+1);y>=0;--y)re>=0&&(a[c].v.charAt(y)==="0"||a[c].v.charAt(y)==="#")&&(de=U.charAt(re--)+de);a[c].v=de,a[c].t="t",k=c}for(re>=0&&k<a.length&&(a[k].v=U.substr(0,re+1)+a[k].v),re=U.indexOf(".")+1,c=Q;c<a.length;++c)if(!(a[c]==null||"n?(".indexOf(a[c].t)===-1&&c!==Q)){for(y=a[c].v.indexOf(".")>-1&&c===Q?a[c].v.indexOf(".")+1:0,de=a[c].v.substr(0,y);y<a[c].v.length;++y)re<U.length&&(de+=U.charAt(re++));a[c].v=de,a[c].t="t",k=c}}}for(c=0;c<a.length;++c)a[c]!=null&&"n?".indexOf(a[c].t)>-1&&(ee=n>1&&t<0&&c>0&&a[c-1].v==="-"?-t:t,a[c].v=XA(a[c].t,a[c].v,ee),a[c].t="t");var Y="";for(c=0;c!==a.length;++c)a[c]!=null&&(Y+=a[c].v);return Y}var nB=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function aB(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function xU(e,t){var r=dU(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var A=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,A];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var c=r[0].match(nB),d=r[1].match(nB);return aB(t,c)?[n,r[0]]:aB(t,d)?[n,r[1]]:[n,r[c!=null&&d!=null?2:1]]}return[n,A]}function Fs(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ur)[e],n==null&&(n=r.table&&r.table[eB[e]]||ur[eB[e]]),n==null&&(n=ZO[e]||"General");break}if(t1(n,0))return Vl(t,r);t instanceof Date&&(t=kT(t,r.date1904));var a=xU(n,t);if(t1(a[1]))return Vl(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return gU(a[1],t,r,a[0])}function Ql(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(ur[r]==null){t<0&&(t=r);continue}if(ur[r]==e){t=r;break}}t<0&&(t=391)}return ur[t]=e,t}function KT(){ur=JO()}var pU={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},zT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function mU(e){var t=typeof e=="number"?ur[e]:e;return t=t.replace(zT,"(\\d+)"),new RegExp("^"+t+"$")}function wU(e,t,r){var n=-1,a=-1,A=-1,c=-1,d=-1,p=-1;(t.match(zT)||[]).forEach(function(b,I){var N=parseInt(r[I+1],10);switch(b.toLowerCase().charAt(0)){case"y":n=N;break;case"d":A=N;break;case"h":c=N;break;case"s":p=N;break;case"m":c>=0?d=N:a=N;break}}),p>=0&&d==-1&&a>=0&&(d=a,a=-1);var m=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(A>=1?A:1)).slice(-2);m.length==7&&(m="0"+m),m.length==8&&(m="20"+m);var y=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(p>=0?p:0)).slice(-2);return c==-1&&d==-1&&p==-1?m:n==-1&&a==-1&&A==-1?y:m+"T"+y}var vU=(function(){var e={};e.version="1.2.0";function t(){for(var U=0,Q=new Array(256),k=0;k!=256;++k)U=k,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,Q[k]=U;return typeof Int32Array<"u"?new Int32Array(Q):Q}var r=t();function n(U){var Q=0,k=0,Y=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Y=0;Y!=256;++Y)q[Y]=U[Y];for(Y=0;Y!=256;++Y)for(k=U[Y],Q=256+Y;Q<4096;Q+=256)k=q[Q]=k>>>8^U[k&255];var V=[];for(Y=1;Y!=16;++Y)V[Y-1]=typeof Int32Array<"u"?q.subarray(Y*256,Y*256+256):q.slice(Y*256,Y*256+256);return V}var a=n(r),A=a[0],c=a[1],d=a[2],p=a[3],m=a[4],y=a[5],b=a[6],I=a[7],N=a[8],R=a[9],F=a[10],D=a[11],K=a[12],W=a[13],H=a[14];function re(U,Q){for(var k=Q^-1,Y=0,q=U.length;Y<q;)k=k>>>8^r[(k^U.charCodeAt(Y++))&255];return~k}function de(U,Q){for(var k=Q^-1,Y=U.length-15,q=0;q<Y;)k=H[U[q++]^k&255]^W[U[q++]^k>>8&255]^K[U[q++]^k>>16&255]^D[U[q++]^k>>>24]^F[U[q++]]^R[U[q++]]^N[U[q++]]^I[U[q++]]^b[U[q++]]^y[U[q++]]^m[U[q++]]^p[U[q++]]^d[U[q++]]^c[U[q++]]^A[U[q++]]^r[U[q++]];for(Y+=15;q<Y;)k=k>>>8^r[(k^U[q++])&255];return~k}function ee(U,Q){for(var k=Q^-1,Y=0,q=U.length,V=0,z=0;Y<q;)V=U.charCodeAt(Y++),V<128?k=k>>>8^r[(k^V)&255]:V<2048?(k=k>>>8^r[(k^(192|V>>6&31))&255],k=k>>>8^r[(k^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,z=U.charCodeAt(Y++)&1023,k=k>>>8^r[(k^(240|V>>8&7))&255],k=k>>>8^r[(k^(128|V>>2&63))&255],k=k>>>8^r[(k^(128|z>>6&15|(V&3)<<4))&255],k=k>>>8^r[(k^(128|z&63))&255]):(k=k>>>8^r[(k^(224|V>>12&15))&255],k=k>>>8^r[(k^(128|V>>6&63))&255],k=k>>>8^r[(k^(128|V&63))&255]);return~k}return e.table=r,e.bstr=re,e.buf=de,e.str=ee,e})(),Sr=(function(){var t={};t.version="1.2.1";function r(J,ne){for(var se=J.split("/"),Ae=ne.split("/"),ue=0,we=0,Qe=Math.min(se.length,Ae.length);ue<Qe;++ue){if(we=se[ue].length-Ae[ue].length)return we;if(se[ue]!=Ae[ue])return se[ue]<Ae[ue]?-1:1}return se.length-Ae.length}function n(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:n(J.slice(0,-1));var ne=J.lastIndexOf("/");return ne===-1?J:J.slice(0,ne+1)}function a(J){if(J.charAt(J.length-1)=="/")return a(J.slice(0,-1));var ne=J.lastIndexOf("/");return ne===-1?J:J.slice(ne+1)}function A(J,ne){typeof ne=="string"&&(ne=new Date(ne));var se=ne.getHours();se=se<<6|ne.getMinutes(),se=se<<5|ne.getSeconds()>>>1,J.write_shift(2,se);var Ae=ne.getFullYear()-1980;Ae=Ae<<4|ne.getMonth()+1,Ae=Ae<<5|ne.getDate(),J.write_shift(2,Ae)}function c(J){var ne=J.read_shift(2)&65535,se=J.read_shift(2)&65535,Ae=new Date,ue=se&31;se>>>=5;var we=se&15;se>>>=4,Ae.setMilliseconds(0),Ae.setFullYear(se+1980),Ae.setMonth(we-1),Ae.setDate(ue);var Qe=ne&31;ne>>>=5;var tt=ne&63;return ne>>>=6,Ae.setHours(ne),Ae.setMinutes(tt),Ae.setSeconds(Qe<<1),Ae}function d(J){Ma(J,0);for(var ne={},se=0;J.l<=J.length-4;){var Ae=J.read_shift(2),ue=J.read_shift(2),we=J.l+ue,Qe={};switch(Ae){case 21589:se=J.read_shift(1),se&1&&(Qe.mtime=J.read_shift(4)),ue>5&&(se&2&&(Qe.atime=J.read_shift(4)),se&4&&(Qe.ctime=J.read_shift(4))),Qe.mtime&&(Qe.mt=new Date(Qe.mtime*1e3));break}J.l=we,ne[Ae]=Qe}return ne}var p;function m(){return p||(p={})}function y(J,ne){if(J[0]==80&&J[1]==75)return Ka(J,ne);if((J[0]|32)==109&&(J[1]|32)==105)return li(J,ne);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var se=3,Ae=512,ue=0,we=0,Qe=0,tt=0,ke=0,Ge=[],Ke=J.slice(0,512);Ma(Ke,0);var lt=b(Ke);switch(se=lt[0],se){case 3:Ae=512;break;case 4:Ae=4096;break;case 0:if(lt[1]==0)return Ka(J,ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+se)}Ae!==512&&(Ke=J.slice(0,Ae),Ma(Ke,28));var ft=J.slice(0,Ae);I(Ke,se);var dt=Ke.read_shift(4,"i");if(se===3&&dt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+dt);Ke.l+=4,Qe=Ke.read_shift(4,"i"),Ke.l+=4,Ke.chk("00100000","Mini Stream Cutoff Size: "),tt=Ke.read_shift(4,"i"),ue=Ke.read_shift(4,"i"),ke=Ke.read_shift(4,"i"),we=Ke.read_shift(4,"i");for(var pt=-1,vt=0;vt<109&&(pt=Ke.read_shift(4,"i"),!(pt<0));++vt)Ge[vt]=pt;var Nt=N(J,Ae);D(ke,we,Nt,Ae,Ge);var rt=W(Nt,Qe,Ge,Ae);rt[Qe].name="!Directory",ue>0&&tt!==z&&(rt[tt].name="!MiniFAT"),rt[Ge[0]].name="!FAT",rt.fat_addrs=Ge,rt.ssz=Ae;var Tr={},Ht=[],bn=[],Os=[];H(Qe,rt,Nt,Ht,ue,Tr,bn,tt),R(bn,Os,Ht),Ht.shift();var lr={FileIndex:bn,FullPaths:Os};return ne&&ne.raw&&(lr.raw={header:ft,sectors:Nt}),lr}function b(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(ze,"Header Signature: "),J.l+=16;var ne=J.read_shift(2,"u");return[J.read_shift(2,"u"),ne]}function I(J,ne){var se=9;switch(J.l+=2,se=J.read_shift(2)){case 9:if(ne!=3)throw new Error("Sector Shift: Expected 9 saw "+se);break;case 12:if(ne!=4)throw new Error("Sector Shift: Expected 12 saw "+se);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+se)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function N(J,ne){for(var se=Math.ceil(J.length/ne)-1,Ae=[],ue=1;ue<se;++ue)Ae[ue-1]=J.slice(ue*ne,(ue+1)*ne);return Ae[se-1]=J.slice(se*ne),Ae}function R(J,ne,se){for(var Ae=0,ue=0,we=0,Qe=0,tt=0,ke=se.length,Ge=[],Ke=[];Ae<ke;++Ae)Ge[Ae]=Ke[Ae]=Ae,ne[Ae]=se[Ae];for(;tt<Ke.length;++tt)Ae=Ke[tt],ue=J[Ae].L,we=J[Ae].R,Qe=J[Ae].C,Ge[Ae]===Ae&&(ue!==-1&&Ge[ue]!==ue&&(Ge[Ae]=Ge[ue]),we!==-1&&Ge[we]!==we&&(Ge[Ae]=Ge[we])),Qe!==-1&&(Ge[Qe]=Ae),ue!==-1&&Ae!=Ge[Ae]&&(Ge[ue]=Ge[Ae],Ke.lastIndexOf(ue)<tt&&Ke.push(ue)),we!==-1&&Ae!=Ge[Ae]&&(Ge[we]=Ge[Ae],Ke.lastIndexOf(we)<tt&&Ke.push(we));for(Ae=1;Ae<ke;++Ae)Ge[Ae]===Ae&&(we!==-1&&Ge[we]!==we?Ge[Ae]=Ge[we]:ue!==-1&&Ge[ue]!==ue&&(Ge[Ae]=Ge[ue]));for(Ae=1;Ae<ke;++Ae)if(J[Ae].type!==0){if(tt=Ae,tt!=Ge[tt])do tt=Ge[tt],ne[Ae]=ne[tt]+"/"+ne[Ae];while(tt!==0&&Ge[tt]!==-1&&tt!=Ge[tt]);Ge[Ae]=-1}for(ne[0]+="/",Ae=1;Ae<ke;++Ae)J[Ae].type!==2&&(ne[Ae]+="/")}function F(J,ne,se){for(var Ae=J.start,ue=J.size,we=[],Qe=Ae;se&&ue>0&&Qe>=0;)we.push(ne.slice(Qe*V,Qe*V+V)),ue-=V,Qe=Rl(se,Qe*4);return we.length===0?ha(0):Lo(we).slice(0,J.size)}function D(J,ne,se,Ae,ue){var we=z;if(J===z){if(ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var Qe=se[J],tt=(Ae>>>2)-1;if(!Qe)return;for(var ke=0;ke<tt&&(we=Rl(Qe,ke*4))!==z;++ke)ue.push(we);D(Rl(Qe,Ae-4),ne-1,se,Ae,ue)}}function K(J,ne,se,Ae,ue){var we=[],Qe=[];ue||(ue=[]);var tt=Ae-1,ke=0,Ge=0;for(ke=ne;ke>=0;){ue[ke]=!0,we[we.length]=ke,Qe.push(J[ke]);var Ke=se[Math.floor(ke*4/Ae)];if(Ge=ke*4&tt,Ae<4+Ge)throw new Error("FAT boundary crossed: "+ke+" 4 "+Ae);if(!J[Ke])break;ke=Rl(J[Ke],Ge)}return{nodes:we,data:dB([Qe])}}function W(J,ne,se,Ae){var ue=J.length,we=[],Qe=[],tt=[],ke=[],Ge=Ae-1,Ke=0,lt=0,ft=0,dt=0;for(Ke=0;Ke<ue;++Ke)if(tt=[],ft=Ke+ne,ft>=ue&&(ft-=ue),!Qe[ft]){ke=[];var pt=[];for(lt=ft;lt>=0;){pt[lt]=!0,Qe[lt]=!0,tt[tt.length]=lt,ke.push(J[lt]);var vt=se[Math.floor(lt*4/Ae)];if(dt=lt*4&Ge,Ae<4+dt)throw new Error("FAT boundary crossed: "+lt+" 4 "+Ae);if(!J[vt]||(lt=Rl(J[vt],dt),pt[lt]))break}we[ft]={nodes:tt,data:dB([ke])}}return we}function H(J,ne,se,Ae,ue,we,Qe,tt){for(var ke=0,Ge=Ae.length?2:0,Ke=ne[J].data,lt=0,ft=0,dt;lt<Ke.length;lt+=128){var pt=Ke.slice(lt,lt+128);Ma(pt,64),ft=pt.read_shift(2),dt=_2(pt,0,ft-Ge),Ae.push(dt);var vt={name:dt,type:pt.read_shift(1),color:pt.read_shift(1),L:pt.read_shift(4,"i"),R:pt.read_shift(4,"i"),C:pt.read_shift(4,"i"),clsid:pt.read_shift(16),state:pt.read_shift(4,"i"),start:0,size:0},Nt=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);Nt!==0&&(vt.ct=re(pt,pt.l-8));var rt=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);rt!==0&&(vt.mt=re(pt,pt.l-8)),vt.start=pt.read_shift(4,"i"),vt.size=pt.read_shift(4,"i"),vt.size<0&&vt.start<0&&(vt.size=vt.type=0,vt.start=z,vt.name=""),vt.type===5?(ke=vt.start,ue>0&&ke!==z&&(ne[ke].name="!StreamData")):vt.size>=4096?(vt.storage="fat",ne[vt.start]===void 0&&(ne[vt.start]=K(se,vt.start,ne.fat_addrs,ne.ssz)),ne[vt.start].name=vt.name,vt.content=ne[vt.start].data.slice(0,vt.size)):(vt.storage="minifat",vt.size<0?vt.size=0:ke!==z&&vt.start!==z&&ne[ke]&&(vt.content=F(vt,ne[ke].data,(ne[tt]||{}).data))),vt.content&&Ma(vt.content,0),we[dt]=vt,Qe.push(vt)}}function re(J,ne){return new Date((ss(J,ne+4)/1e7*Math.pow(2,32)+ss(J,ne)/1e7-11644473600)*1e3)}function de(J,ne){return m(),y(p.readFileSync(J),ne)}function ee(J,ne){var se=ne&&ne.type;switch(se||_r&&Buffer.isBuffer(J)&&(se="buffer"),se||"base64"){case"file":return de(J,ne);case"base64":return y(zs(cs(J)),ne);case"binary":return y(zs(J),ne)}return y(J,ne)}function U(J,ne){var se=ne||{},Ae=se.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=Ae+"/",J.FileIndex[0]={name:Ae,type:5}),se.CLSID&&(J.FileIndex[0].clsid=se.CLSID),Q(J)}function Q(J){var ne="Sh33tJ5";if(!Sr.find(J,"/"+ne)){var se=ha(4);se[0]=55,se[1]=se[3]=50,se[2]=54,J.FileIndex.push({name:ne,type:2,content:se,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+ne),k(J)}}function k(J,ne){U(J);for(var se=!1,Ae=!1,ue=J.FullPaths.length-1;ue>=0;--ue){var we=J.FileIndex[ue];switch(we.type){case 0:Ae?se=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:Ae=!0,isNaN(we.R*we.L*we.C)&&(se=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(se=!0);break;default:se=!0;break}}if(!(!se&&!ne)){var Qe=new Date(1987,1,19),tt=0,ke=Object.create?Object.create(null):{},Ge=[];for(ue=0;ue<J.FullPaths.length;++ue)ke[J.FullPaths[ue]]=!0,J.FileIndex[ue].type!==0&&Ge.push([J.FullPaths[ue],J.FileIndex[ue]]);for(ue=0;ue<Ge.length;++ue){var Ke=n(Ge[ue][0]);Ae=ke[Ke],Ae||(Ge.push([Ke,{name:a(Ke).replace("/",""),type:1,clsid:me,ct:Qe,mt:Qe,content:null}]),ke[Ke]=!0)}for(Ge.sort(function(dt,pt){return r(dt[0],pt[0])}),J.FullPaths=[],J.FileIndex=[],ue=0;ue<Ge.length;++ue)J.FullPaths[ue]=Ge[ue][0],J.FileIndex[ue]=Ge[ue][1];for(ue=0;ue<Ge.length;++ue){var lt=J.FileIndex[ue],ft=J.FullPaths[ue];if(lt.name=a(ft).replace("/",""),lt.L=lt.R=lt.C=-(lt.color=1),lt.size=lt.content?lt.content.length:0,lt.start=0,lt.clsid=lt.clsid||me,ue===0)lt.C=Ge.length>1?1:-1,lt.size=0,lt.type=5;else if(ft.slice(-1)=="/"){for(tt=ue+1;tt<Ge.length&&n(J.FullPaths[tt])!=ft;++tt);for(lt.C=tt>=Ge.length?-1:tt,tt=ue+1;tt<Ge.length&&n(J.FullPaths[tt])!=n(ft);++tt);lt.R=tt>=Ge.length?-1:tt,lt.type=1}else n(J.FullPaths[ue+1]||"")==n(ft)&&(lt.R=ue+1),lt.type=2}}}function Y(J,ne){var se=ne||{};if(se.fileType=="mad")return Hr(J,se);switch(k(J),se.fileType){case"zip":return Jn(J,se)}var Ae=(function(dt){for(var pt=0,vt=0,Nt=0;Nt<dt.FileIndex.length;++Nt){var rt=dt.FileIndex[Nt];if(rt.content){var Tr=rt.content.length;Tr>0&&(Tr<4096?pt+=Tr+63>>6:vt+=Tr+511>>9)}}for(var Ht=dt.FullPaths.length+3>>2,bn=pt+7>>3,Os=pt+127>>7,lr=bn+vt+Ht+Os,er=lr+127>>7,rr=er<=109?0:Math.ceil((er-109)/127);lr+er+rr+127>>7>er;)rr=++er<=109?0:Math.ceil((er-109)/127);var Rn=[1,rr,er,Os,Ht,vt,pt,0];return dt.FileIndex[0].size=pt<<6,Rn[7]=(dt.FileIndex[0].start=Rn[0]+Rn[1]+Rn[2]+Rn[3]+Rn[4]+Rn[5])+(Rn[6]+7>>3),Rn})(J),ue=ha(Ae[7]<<9),we=0,Qe=0;{for(we=0;we<8;++we)ue.write_shift(1,ve[we]);for(we=0;we<8;++we)ue.write_shift(2,0);for(ue.write_shift(2,62),ue.write_shift(2,3),ue.write_shift(2,65534),ue.write_shift(2,9),ue.write_shift(2,6),we=0;we<3;++we)ue.write_shift(2,0);for(ue.write_shift(4,0),ue.write_shift(4,Ae[2]),ue.write_shift(4,Ae[0]+Ae[1]+Ae[2]+Ae[3]-1),ue.write_shift(4,0),ue.write_shift(4,4096),ue.write_shift(4,Ae[3]?Ae[0]+Ae[1]+Ae[2]-1:z),ue.write_shift(4,Ae[3]),ue.write_shift(-4,Ae[1]?Ae[0]-1:z),ue.write_shift(4,Ae[1]),we=0;we<109;++we)ue.write_shift(-4,we<Ae[2]?Ae[1]+we:-1)}if(Ae[1])for(Qe=0;Qe<Ae[1];++Qe){for(;we<236+Qe*127;++we)ue.write_shift(-4,we<Ae[2]?Ae[1]+we:-1);ue.write_shift(-4,Qe===Ae[1]-1?z:Qe+1)}var tt=function(dt){for(Qe+=dt;we<Qe-1;++we)ue.write_shift(-4,we+1);dt&&(++we,ue.write_shift(-4,z))};for(Qe=we=0,Qe+=Ae[1];we<Qe;++we)ue.write_shift(-4,oe.DIFSECT);for(Qe+=Ae[2];we<Qe;++we)ue.write_shift(-4,oe.FATSECT);tt(Ae[3]),tt(Ae[4]);for(var ke=0,Ge=0,Ke=J.FileIndex[0];ke<J.FileIndex.length;++ke)Ke=J.FileIndex[ke],Ke.content&&(Ge=Ke.content.length,!(Ge<4096)&&(Ke.start=Qe,tt(Ge+511>>9)));for(tt(Ae[6]+7>>3);ue.l&511;)ue.write_shift(-4,oe.ENDOFCHAIN);for(Qe=we=0,ke=0;ke<J.FileIndex.length;++ke)Ke=J.FileIndex[ke],Ke.content&&(Ge=Ke.content.length,!(!Ge||Ge>=4096)&&(Ke.start=Qe,tt(Ge+63>>6)));for(;ue.l&511;)ue.write_shift(-4,oe.ENDOFCHAIN);for(we=0;we<Ae[4]<<2;++we){var lt=J.FullPaths[we];if(!lt||lt.length===0){for(ke=0;ke<17;++ke)ue.write_shift(4,0);for(ke=0;ke<3;++ke)ue.write_shift(4,-1);for(ke=0;ke<12;++ke)ue.write_shift(4,0);continue}Ke=J.FileIndex[we],we===0&&(Ke.start=Ke.size?Ke.start-1:z);var ft=we===0&&se.root||Ke.name;if(Ge=2*(ft.length+1),ue.write_shift(64,ft,"utf16le"),ue.write_shift(2,Ge),ue.write_shift(1,Ke.type),ue.write_shift(1,Ke.color),ue.write_shift(-4,Ke.L),ue.write_shift(-4,Ke.R),ue.write_shift(-4,Ke.C),Ke.clsid)ue.write_shift(16,Ke.clsid,"hex");else for(ke=0;ke<4;++ke)ue.write_shift(4,0);ue.write_shift(4,Ke.state||0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,Ke.start),ue.write_shift(4,Ke.size),ue.write_shift(4,0)}for(we=1;we<J.FileIndex.length;++we)if(Ke=J.FileIndex[we],Ke.size>=4096)if(ue.l=Ke.start+1<<9,_r&&Buffer.isBuffer(Ke.content))Ke.content.copy(ue,ue.l,0,Ke.size),ue.l+=Ke.size+511&-512;else{for(ke=0;ke<Ke.size;++ke)ue.write_shift(1,Ke.content[ke]);for(;ke&511;++ke)ue.write_shift(1,0)}for(we=1;we<J.FileIndex.length;++we)if(Ke=J.FileIndex[we],Ke.size>0&&Ke.size<4096)if(_r&&Buffer.isBuffer(Ke.content))Ke.content.copy(ue,ue.l,0,Ke.size),ue.l+=Ke.size+63&-64;else{for(ke=0;ke<Ke.size;++ke)ue.write_shift(1,Ke.content[ke]);for(;ke&63;++ke)ue.write_shift(1,0)}if(_r)ue.l=ue.length;else for(;ue.l<ue.length;)ue.write_shift(1,0);return ue}function q(J,ne){var se=J.FullPaths.map(function(ke){return ke.toUpperCase()}),Ae=se.map(function(ke){var Ge=ke.split("/");return Ge[Ge.length-(ke.slice(-1)=="/"?2:1)]}),ue=!1;ne.charCodeAt(0)===47?(ue=!0,ne=se[0].slice(0,-1)+ne):ue=ne.indexOf("/")!==-1;var we=ne.toUpperCase(),Qe=ue===!0?se.indexOf(we):Ae.indexOf(we);if(Qe!==-1)return J.FileIndex[Qe];var tt=!we.match(yu);for(we=we.replace(vi,""),tt&&(we=we.replace(yu,"!")),Qe=0;Qe<se.length;++Qe)if((tt?se[Qe].replace(yu,"!"):se[Qe]).replace(vi,"")==we||(tt?Ae[Qe].replace(yu,"!"):Ae[Qe]).replace(vi,"")==we)return J.FileIndex[Qe];return null}var V=64,z=-2,ze="d0cf11e0a1b11ae1",ve=[208,207,17,224,161,177,26,225],me="00000000000000000000000000000000",oe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:ze,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:me,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Pe(J,ne,se){m();var Ae=Y(J,se);p.writeFileSync(ne,Ae)}function Ee(J){for(var ne=new Array(J.length),se=0;se<J.length;++se)ne[se]=String.fromCharCode(J[se]);return ne.join("")}function $e(J,ne){var se=Y(J,ne);switch(ne&&ne.type||"buffer"){case"file":return m(),p.writeFileSync(ne.filename,se),se;case"binary":return typeof se=="string"?se:Ee(se);case"base64":return qC(typeof se=="string"?se:Ee(se));case"buffer":if(_r)return Buffer.isBuffer(se)?se:Jl(se);case"array":return typeof se=="string"?zs(se):se}return se}var ge;function X(J){try{var ne=J.InflateRaw,se=new ne;if(se._processChunk(new Uint8Array([3,0]),se._finishFlushFlag),se.bytesRead)ge=J;else throw new Error("zlib does not expose bytesRead")}catch(Ae){console.error("cannot use native zlib: "+(Ae.message||Ae))}}function ce(J,ne){if(!ge)return Kr(J,ne);var se=ge.InflateRaw,Ae=new se,ue=Ae._processChunk(J.slice(J.l),Ae._finishFlushFlag);return J.l+=Ae.bytesRead,ue}function le(J){return ge?ge.deflateRawSync(J):Kt(J)}var ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Se(J){var ne=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(ne>>16|ne>>8|ne)&255}for(var Ce=typeof Uint8Array<"u",Ue=Ce?new Uint8Array(256):[],xt=0;xt<256;++xt)Ue[xt]=Se(xt);function he(J,ne){var se=Ue[J&255];return ne<=8?se>>>8-ne:(se=se<<8|Ue[J>>8&255],ne<=16?se>>>16-ne:(se=se<<8|Ue[J>>16&255],se>>>24-ne))}function _t(J,ne){var se=ne&7,Ae=ne>>>3;return(J[Ae]|(se<=6?0:J[Ae+1]<<8))>>>se&3}function Rt(J,ne){var se=ne&7,Ae=ne>>>3;return(J[Ae]|(se<=5?0:J[Ae+1]<<8))>>>se&7}function Ut(J,ne){var se=ne&7,Ae=ne>>>3;return(J[Ae]|(se<=4?0:J[Ae+1]<<8))>>>se&15}function Ie(J,ne){var se=ne&7,Ae=ne>>>3;return(J[Ae]|(se<=3?0:J[Ae+1]<<8))>>>se&31}function Re(J,ne){var se=ne&7,Ae=ne>>>3;return(J[Ae]|(se<=1?0:J[Ae+1]<<8))>>>se&127}function ht(J,ne,se){var Ae=ne&7,ue=ne>>>3,we=(1<<se)-1,Qe=J[ue]>>>Ae;return se<8-Ae||(Qe|=J[ue+1]<<8-Ae,se<16-Ae)||(Qe|=J[ue+2]<<16-Ae,se<24-Ae)||(Qe|=J[ue+3]<<24-Ae),Qe&we}function Et(J,ne,se){var Ae=ne&7,ue=ne>>>3;return Ae<=5?J[ue]|=(se&7)<<Ae:(J[ue]|=se<<Ae&255,J[ue+1]=(se&7)>>8-Ae),ne+3}function Ar(J,ne,se){var Ae=ne&7,ue=ne>>>3;return se=(se&1)<<Ae,J[ue]|=se,ne+1}function Ct(J,ne,se){var Ae=ne&7,ue=ne>>>3;return se<<=Ae,J[ue]|=se&255,se>>>=8,J[ue+1]=se,ne+8}function wn(J,ne,se){var Ae=ne&7,ue=ne>>>3;return se<<=Ae,J[ue]|=se&255,se>>>=8,J[ue+1]=se&255,J[ue+2]=se>>>8,ne+16}function ln(J,ne){var se=J.length,Ae=2*se>ne?2*se:ne+5,ue=0;if(se>=ne)return J;if(_r){var we=JC(Ae);if(J.copy)J.copy(we);else for(;ue<J.length;++ue)we[ue]=J[ue];return we}else if(Ce){var Qe=new Uint8Array(Ae);if(Qe.set)Qe.set(J);else for(;ue<se;++ue)Qe[ue]=J[ue];return Qe}return J.length=Ae,J}function je(J){for(var ne=new Array(J),se=0;se<J;++se)ne[se]=0;return ne}function Tt(J,ne,se){var Ae=1,ue=0,we=0,Qe=0,tt=0,ke=J.length,Ge=Ce?new Uint16Array(32):je(32);for(we=0;we<32;++we)Ge[we]=0;for(we=ke;we<se;++we)J[we]=0;ke=J.length;var Ke=Ce?new Uint16Array(ke):je(ke);for(we=0;we<ke;++we)Ge[ue=J[we]]++,Ae<ue&&(Ae=ue),Ke[we]=0;for(Ge[0]=0,we=1;we<=Ae;++we)Ge[we+16]=tt=tt+Ge[we-1]<<1;for(we=0;we<ke;++we)tt=J[we],tt!=0&&(Ke[we]=Ge[tt+16]++);var lt=0;for(we=0;we<ke;++we)if(lt=J[we],lt!=0)for(tt=he(Ke[we],Ae)>>Ae-lt,Qe=(1<<Ae+4-lt)-1;Qe>=0;--Qe)ne[tt|Qe<<lt]=lt&15|we<<4;return Ae}var Bt=Ce?new Uint16Array(512):je(512),Xt=Ce?new Uint16Array(32):je(32);if(!Ce){for(var or=0;or<512;++or)Bt[or]=0;for(or=0;or<32;++or)Xt[or]=0}(function(){for(var J=[],ne=0;ne<32;ne++)J.push(5);Tt(J,Xt,32);var se=[];for(ne=0;ne<=143;ne++)se.push(8);for(;ne<=255;ne++)se.push(9);for(;ne<=279;ne++)se.push(7);for(;ne<=287;ne++)se.push(8);Tt(se,Bt,288)})();var fr=(function(){for(var ne=Ce?new Uint8Array(32768):[],se=0,Ae=0;se<Xe.length-1;++se)for(;Ae<Xe[se+1];++Ae)ne[Ae]=se;for(;Ae<32768;++Ae)ne[Ae]=29;var ue=Ce?new Uint8Array(259):[];for(se=0,Ae=0;se<xe.length-1;++se)for(;Ae<xe[se+1];++Ae)ue[Ae]=se;function we(tt,ke){for(var Ge=0;Ge<tt.length;){var Ke=Math.min(65535,tt.length-Ge),lt=Ge+Ke==tt.length;for(ke.write_shift(1,+lt),ke.write_shift(2,Ke),ke.write_shift(2,~Ke&65535);Ke-- >0;)ke[ke.l++]=tt[Ge++]}return ke.l}function Qe(tt,ke){for(var Ge=0,Ke=0,lt=Ce?new Uint16Array(32768):[];Ke<tt.length;){var ft=Math.min(65535,tt.length-Ke);if(ft<10){for(Ge=Et(ke,Ge,+(Ke+ft==tt.length)),Ge&7&&(Ge+=8-(Ge&7)),ke.l=Ge/8|0,ke.write_shift(2,ft),ke.write_shift(2,~ft&65535);ft-- >0;)ke[ke.l++]=tt[Ke++];Ge=ke.l*8;continue}Ge=Et(ke,Ge,+(Ke+ft==tt.length)+2);for(var dt=0;ft-- >0;){var pt=tt[Ke];dt=(dt<<5^pt)&32767;var vt=-1,Nt=0;if((vt=lt[dt])&&(vt|=Ke&-32768,vt>Ke&&(vt-=32768),vt<Ke))for(;tt[vt+Nt]==tt[Ke+Nt]&&Nt<250;)++Nt;if(Nt>2){pt=ue[Nt],pt<=22?Ge=Ct(ke,Ge,Ue[pt+1]>>1)-1:(Ct(ke,Ge,3),Ge+=5,Ct(ke,Ge,Ue[pt-23]>>5),Ge+=3);var rt=pt<8?0:pt-4>>2;rt>0&&(wn(ke,Ge,Nt-xe[pt]),Ge+=rt),pt=ne[Ke-vt],Ge=Ct(ke,Ge,Ue[pt]>>3),Ge-=3;var Tr=pt<4?0:pt-2>>1;Tr>0&&(wn(ke,Ge,Ke-vt-Xe[pt]),Ge+=Tr);for(var Ht=0;Ht<Nt;++Ht)lt[dt]=Ke&32767,dt=(dt<<5^tt[Ke])&32767,++Ke;ft-=Nt-1}else pt<=143?pt=pt+48:Ge=Ar(ke,Ge,1),Ge=Ct(ke,Ge,Ue[pt]),lt[dt]=Ke&32767,++Ke}Ge=Ct(ke,Ge,0)-1}return ke.l=(Ge+7)/8|0,ke.l}return function(ke,Ge){return ke.length<8?we(ke,Ge):Qe(ke,Ge)}})();function Kt(J){var ne=ha(50+Math.floor(J.length*1.1)),se=fr(J,ne);return ne.slice(0,se)}var at=Ce?new Uint16Array(32768):je(32768),Fe=Ce?new Uint16Array(32768):je(32768),Je=Ce?new Uint16Array(128):je(128),ye=1,nt=1;function st(J,ne){var se=Ie(J,ne)+257;ne+=5;var Ae=Ie(J,ne)+1;ne+=5;var ue=Ut(J,ne)+4;ne+=4;for(var we=0,Qe=Ce?new Uint8Array(19):je(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ke=1,Ge=Ce?new Uint8Array(8):je(8),Ke=Ce?new Uint8Array(8):je(8),lt=Qe.length,ft=0;ft<ue;++ft)Qe[ae[ft]]=we=Rt(J,ne),ke<we&&(ke=we),Ge[we]++,ne+=3;var dt=0;for(Ge[0]=0,ft=1;ft<=ke;++ft)Ke[ft]=dt=dt+Ge[ft-1]<<1;for(ft=0;ft<lt;++ft)(dt=Qe[ft])!=0&&(tt[ft]=Ke[dt]++);var pt=0;for(ft=0;ft<lt;++ft)if(pt=Qe[ft],pt!=0){dt=Ue[tt[ft]]>>8-pt;for(var vt=(1<<7-pt)-1;vt>=0;--vt)Je[dt|vt<<pt]=pt&7|ft<<3}var Nt=[];for(ke=1;Nt.length<se+Ae;)switch(dt=Je[Re(J,ne)],ne+=dt&7,dt>>>=3){case 16:for(we=3+_t(J,ne),ne+=2,dt=Nt[Nt.length-1];we-- >0;)Nt.push(dt);break;case 17:for(we=3+Rt(J,ne),ne+=3;we-- >0;)Nt.push(0);break;case 18:for(we=11+Re(J,ne),ne+=7;we-- >0;)Nt.push(0);break;default:Nt.push(dt),ke<dt&&(ke=dt);break}var rt=Nt.slice(0,se),Tr=Nt.slice(se);for(ft=se;ft<286;++ft)rt[ft]=0;for(ft=Ae;ft<30;++ft)Tr[ft]=0;return ye=Tt(rt,at,286),nt=Tt(Tr,Fe,30),ne}function It(J,ne){if(J[0]==3&&!(J[1]&3))return[Zo(ne),2];for(var se=0,Ae=0,ue=JC(ne||1<<18),we=0,Qe=ue.length>>>0,tt=0,ke=0;(Ae&1)==0;){if(Ae=Rt(J,se),se+=3,Ae>>>1)Ae>>1==1?(tt=9,ke=5):(se=st(J,se),tt=ye,ke=nt);else{se&7&&(se+=8-(se&7));var Ge=J[se>>>3]|J[(se>>>3)+1]<<8;if(se+=32,Ge>0)for(!ne&&Qe<we+Ge&&(ue=ln(ue,we+Ge),Qe=ue.length);Ge-- >0;)ue[we++]=J[se>>>3],se+=8;continue}for(;;){!ne&&Qe<we+32767&&(ue=ln(ue,we+32767),Qe=ue.length);var Ke=ht(J,se,tt),lt=Ae>>>1==1?Bt[Ke]:at[Ke];if(se+=lt&15,lt>>>=4,(lt>>>8&255)===0)ue[we++]=lt;else{if(lt==256)break;lt-=257;var ft=lt<8?0:lt-4>>2;ft>5&&(ft=0);var dt=we+xe[lt];ft>0&&(dt+=ht(J,se,ft),se+=ft),Ke=ht(J,se,ke),lt=Ae>>>1==1?Xt[Ke]:Fe[Ke],se+=lt&15,lt>>>=4;var pt=lt<4?0:lt-2>>1,vt=Xe[lt];for(pt>0&&(vt+=ht(J,se,pt),se+=pt),!ne&&Qe<dt&&(ue=ln(ue,dt+100),Qe=ue.length);we<dt;)ue[we]=ue[we-vt],++we}}}return ne?[ue,se+7>>>3]:[ue.slice(0,we),se+7>>>3]}function Kr(J,ne){var se=J.slice(J.l||0),Ae=It(se,ne);return J.l+=Ae[1],Ae[0]}function ma(J,ne){if(J)typeof console<"u"&&console.error(ne);else throw new Error(ne)}function Ka(J,ne){var se=J;Ma(se,0);var Ae=[],ue=[],we={FileIndex:Ae,FullPaths:ue};U(we,{root:ne.root});for(var Qe=se.length-4;(se[Qe]!=80||se[Qe+1]!=75||se[Qe+2]!=5||se[Qe+3]!=6)&&Qe>=0;)--Qe;se.l=Qe+4,se.l+=4;var tt=se.read_shift(2);se.l+=6;var ke=se.read_shift(4);for(se.l=ke,Qe=0;Qe<tt;++Qe){se.l+=20;var Ge=se.read_shift(4),Ke=se.read_shift(4),lt=se.read_shift(2),ft=se.read_shift(2),dt=se.read_shift(2);se.l+=8;var pt=se.read_shift(4),vt=d(se.slice(se.l+lt,se.l+lt+ft));se.l+=lt+ft+dt;var Nt=se.l;se.l=pt+4,qt(se,Ge,Ke,we,vt),se.l=Nt}return we}function qt(J,ne,se,Ae,ue){J.l+=2;var we=J.read_shift(2),Qe=J.read_shift(2),tt=c(J);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var ke=J.read_shift(4),Ge=J.read_shift(4),Ke=J.read_shift(4),lt=J.read_shift(2),ft=J.read_shift(2),dt="",pt=0;pt<lt;++pt)dt+=String.fromCharCode(J[J.l++]);if(ft){var vt=d(J.slice(J.l,J.l+ft));(vt[21589]||{}).mt&&(tt=vt[21589].mt),((ue||{})[21589]||{}).mt&&(tt=ue[21589].mt)}J.l+=ft;var Nt=J.slice(J.l,J.l+Ge);switch(Qe){case 8:Nt=ce(J,Ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Qe)}var rt=!1;we&8&&(ke=J.read_shift(4),ke==134695760&&(ke=J.read_shift(4),rt=!0),Ge=J.read_shift(4),Ke=J.read_shift(4)),Ge!=ne&&ma(rt,"Bad compressed size: "+ne+" != "+Ge),Ke!=se&&ma(rt,"Bad uncompressed size: "+se+" != "+Ke),$n(Ae,dt,Nt,{unsafe:!0,mt:tt})}function Jn(J,ne){var se=ne||{},Ae=[],ue=[],we=ha(1),Qe=se.compression?8:0,tt=0,ke=0,Ge=0,Ke=0,lt=0,ft=J.FullPaths[0],dt=ft,pt=J.FileIndex[0],vt=[],Nt=0;for(ke=1;ke<J.FullPaths.length;++ke)if(dt=J.FullPaths[ke].slice(ft.length),pt=J.FileIndex[ke],!(!pt.size||!pt.content||dt=="Sh33tJ5")){var rt=Ke,Tr=ha(dt.length);for(Ge=0;Ge<dt.length;++Ge)Tr.write_shift(1,dt.charCodeAt(Ge)&127);Tr=Tr.slice(0,Tr.l),vt[lt]=vU.buf(pt.content,0);var Ht=pt.content;Qe==8&&(Ht=le(Ht)),we=ha(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,tt),we.write_shift(2,Qe),pt.mt?A(we,pt.mt):we.write_shift(4,0),we.write_shift(-4,vt[lt]),we.write_shift(4,Ht.length),we.write_shift(4,pt.content.length),we.write_shift(2,Tr.length),we.write_shift(2,0),Ke+=we.length,Ae.push(we),Ke+=Tr.length,Ae.push(Tr),Ke+=Ht.length,Ae.push(Ht),we=ha(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,tt),we.write_shift(2,Qe),we.write_shift(4,0),we.write_shift(-4,vt[lt]),we.write_shift(4,Ht.length),we.write_shift(4,pt.content.length),we.write_shift(2,Tr.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,rt),Nt+=we.l,ue.push(we),Nt+=Tr.length,ue.push(Tr),++lt}return we=ha(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,lt),we.write_shift(2,lt),we.write_shift(4,Nt),we.write_shift(4,Ke),we.write_shift(2,0),Lo([Lo(Ae),Lo(ue),we])}var Qr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Zn(J,ne){if(J.ctype)return J.ctype;var se=J.name||"",Ae=se.match(/\.([^\.]+)$/);return Ae&&Qr[Ae[1]]||ne&&(Ae=(se=ne).match(/[\.\\]([^\.\\])+$/),Ae&&Qr[Ae[1]])?Qr[Ae[1]]:"application/octet-stream"}function dn(J){for(var ne=qC(J),se=[],Ae=0;Ae<ne.length;Ae+=76)se.push(ne.slice(Ae,Ae+76));return se.join(`\r
`)+`\r
`}function us(J){var ne=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ge){var Ke=Ge.charCodeAt(0).toString(16).toUpperCase();return"="+(Ke.length==1?"0"+Ke:Ke)});ne=ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ne.charAt(0)==`
`&&(ne="=0D"+ne.slice(1)),ne=ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var se=[],Ae=ne.split(`\r
`),ue=0;ue<Ae.length;++ue){var we=Ae[ue];if(we.length==0){se.push("");continue}for(var Qe=0;Qe<we.length;){var tt=76,ke=we.slice(Qe,Qe+tt);ke.charAt(tt-1)=="="?tt--:ke.charAt(tt-2)=="="?tt-=2:ke.charAt(tt-3)=="="&&(tt-=3),ke=we.slice(Qe,Qe+tt),Qe+=tt,Qe<we.length&&(ke+="="),se.push(ke)}}return se.join(`\r
`)}function vn(J){for(var ne=[],se=0;se<J.length;++se){for(var Ae=J[se];se<=J.length&&Ae.charAt(Ae.length-1)=="=";)Ae=Ae.slice(0,Ae.length-1)+J[++se];ne.push(Ae)}for(var ue=0;ue<ne.length;++ue)ne[ue]=ne[ue].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return zs(ne.join(`\r
`))}function wa(J,ne,se){for(var Ae="",ue="",we="",Qe,tt=0;tt<10;++tt){var ke=ne[tt];if(!ke||ke.match(/^\s*$/))break;var Ge=ke.match(/^(.*?):\s*([^\s].*)$/);if(Ge)switch(Ge[1].toLowerCase()){case"content-location":Ae=Ge[2].trim();break;case"content-type":we=Ge[2].trim();break;case"content-transfer-encoding":ue=Ge[2].trim();break}}switch(++tt,ue.toLowerCase()){case"base64":Qe=zs(cs(ne.slice(tt).join("")));break;case"quoted-printable":Qe=vn(ne.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ue)}var Ke=$n(J,Ae.slice(se.length),Qe,{unsafe:!0});we&&(Ke.ctype=we)}function li(J,ne){if(Ee(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var se=ne&&ne.root||"",Ae=(_r&&Buffer.isBuffer(J)?J.toString("binary"):Ee(J)).split(`\r
`),ue=0,we="";for(ue=0;ue<Ae.length;++ue)if(we=Ae[ue],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),se||(se=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,se.length)!=se))for(;se.length>0&&(se=se.slice(0,se.length-1),se=se.slice(0,se.lastIndexOf("/")+1),we.slice(0,se.length)!=se););var Qe=(Ae[1]||"").match(/boundary="(.*?)"/);if(!Qe)throw new Error("MAD cannot find boundary");var tt="--"+(Qe[1]||""),ke=[],Ge=[],Ke={FileIndex:ke,FullPaths:Ge};U(Ke);var lt,ft=0;for(ue=0;ue<Ae.length;++ue){var dt=Ae[ue];dt!==tt&&dt!==tt+"--"||(ft++&&wa(Ke,Ae.slice(lt,ue),se),lt=ue)}return Ke}function Hr(J,ne){var se=ne||{},Ae=se.boundary||"SheetJS";Ae="------="+Ae;for(var ue=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ae.slice(2)+'"',"","",""],we=J.FullPaths[0],Qe=we,tt=J.FileIndex[0],ke=1;ke<J.FullPaths.length;++ke)if(Qe=J.FullPaths[ke].slice(we.length),tt=J.FileIndex[ke],!(!tt.size||!tt.content||Qe=="Sh33tJ5")){Qe=Qe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Nt){return"_x"+Nt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Nt){return"_u"+Nt.charCodeAt(0).toString(16)+"_"});for(var Ge=tt.content,Ke=_r&&Buffer.isBuffer(Ge)?Ge.toString("binary"):Ee(Ge),lt=0,ft=Math.min(1024,Ke.length),dt=0,pt=0;pt<=ft;++pt)(dt=Ke.charCodeAt(pt))>=32&&dt<128&&++lt;var vt=lt>=ft*4/5;ue.push(Ae),ue.push("Content-Location: "+(se.root||"file:///C:/SheetJS/")+Qe),ue.push("Content-Transfer-Encoding: "+(vt?"quoted-printable":"base64")),ue.push("Content-Type: "+Zn(tt,Qe)),ue.push(""),ue.push(vt?us(Ke):dn(Ke))}return ue.push(Ae+`--\r
`),ue.join(`\r
`)}function mA(J){var ne={};return U(ne,J),ne}function $n(J,ne,se,Ae){var ue=Ae&&Ae.unsafe;ue||U(J);var we=!ue&&Sr.find(J,ne);if(!we){var Qe=J.FullPaths[0];ne.slice(0,Qe.length)==Qe?Qe=ne:(Qe.slice(-1)!="/"&&(Qe+="/"),Qe=(Qe+ne).replace("//","/")),we={name:a(ne),type:2},J.FileIndex.push(we),J.FullPaths.push(Qe),ue||Sr.utils.cfb_gc(J)}return we.content=se,we.size=se?se.length:0,Ae&&(Ae.CLSID&&(we.clsid=Ae.CLSID),Ae.mt&&(we.mt=Ae.mt),Ae.ct&&(we.ct=Ae.ct)),we}function Ci(J,ne){U(J);var se=Sr.find(J,ne);if(se){for(var Ae=0;Ae<J.FileIndex.length;++Ae)if(J.FileIndex[Ae]==se)return J.FileIndex.splice(Ae,1),J.FullPaths.splice(Ae,1),!0}return!1}function Fn(J,ne,se){U(J);var Ae=Sr.find(J,ne);if(Ae){for(var ue=0;ue<J.FileIndex.length;++ue)if(J.FileIndex[ue]==Ae)return J.FileIndex[ue].name=a(se),J.FullPaths[ue]=se,!0}return!1}function ci(J){k(J,!0)}return t.find=q,t.read=ee,t.parse=y,t.write=$e,t.writeFile=Pe,t.utils={cfb_new:mA,cfb_add:$n,cfb_del:Ci,cfb_mov:Fn,cfb_gc:ci,ReadShift:Uu,CheckField:d3,prep_blob:Ma,bconcat:Lo,use_zlib:X,_deflateRaw:Kt,_inflateRaw:Kr,consts:oe},t})();function yU(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function fA(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function E2(e){for(var t=[],r=fA(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var n1=new Date(1899,11,30,0,0,0);function yi(e,t){var r=e.getTime(),n=n1.getTime()+(e.getTimezoneOffset()-n1.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var WT=new Date,EU=n1.getTime()+(WT.getTimezoneOffset()-n1.getTimezoneOffset())*6e4,iB=WT.getTimezoneOffset();function H1(e){var t=new Date;return t.setTime(e*24*60*60*1e3+EU),t.getTimezoneOffset()!==iB&&t.setTime(t.getTime()+(t.getTimezoneOffset()-iB)*6e4),t}function CU(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var A=1;A!=a.length;++A)if(a[A]){switch(r=1,A>3&&(n=!0),a[A].slice(a[A].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[A].slice(a[A].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[A],10)}return t}var sB=new Date("2017-02-19T19:06:09.000Z"),XT=isNaN(sB.getFullYear())?new Date("2/19/17"):sB,BU=XT.getFullYear()==2017;function _a(e,t){var r=new Date(e);if(BU)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(XT.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],A=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(A=new Date(A.getTime()-A.getTimezoneOffset()*60*1e3)),A}function Gl(e,t){if(_r&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Cu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Cu(OT(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Cu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Cu(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(A){return r[A]||A})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ja(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ja(e[r]));return t}function jn(e,t){for(var r="";r.length<t;)r+=e;return r}function Ys(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,A){return r=-r,A}),!isNaN(t=Number(n)))?t/r:t}var bU=["january","february","march","april","may","june","july","august","september","october","november","december"];function o0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),A=t.getDate();if(isNaN(A))return r;var c=e.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&bU.indexOf(c)==-1)return r}else if(c.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||A>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var _U=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var A=r.split(n),c=[A[0]],d=1;d<A.length;++d)c.push(a),c.push(A[d]);return c}})();function YT(e){return e?e.content&&e.type?Gl(e.content,!0):e.data?vu(e.data):e.asNodeBuffer&&_r?vu(e.asNodeBuffer().toString("binary")):e.asBinary?vu(e.asBinary()):e._data&&e._data.getContent?vu(Gl(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function qT(e){if(!e)return null;if(e.data)return XC(e.data);if(e.asNodeBuffer&&_r)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?XC(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function TU(e){return e&&e.name.slice(-4)===".bin"?qT(e):YT(e)}function Ts(e,t){for(var r=e.FullPaths||fA(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),A=0;A<r.length;++A){var c=r[A].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==c||a==c)return e.files?e.files[r[A]]:e.FileIndex[A]}return null}function C2(e,t){var r=Ts(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function sa(e,t,r){if(!r)return TU(C2(e,t));if(!t)return null;try{return sa(e,t)}catch{return null}}function As(e,t,r){if(!r)return YT(C2(e,t));if(!t)return null;try{return As(e,t)}catch{return null}}function IU(e,t,r){return qT(C2(e,t))}function AB(e){for(var t=e.FullPaths||fA(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function SU(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return _r?n=Jl(r):n=XO(r),Sr.utils.cfb_add(e,t,n)}Sr.utils.cfb_add(e,t,r)}else e.file(t,r)}function JT(e,t){switch(t.type){case"base64":return Sr.read(e,{type:"base64"});case"binary":return Sr.read(e,{type:"binary"});case"buffer":case"array":return Sr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Eu(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var ZT=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,NU=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,oB=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,FU=/<[^>]*>/g,oi=ZT.match(oB)?oB:FU,RU=/<\w*:/,DU=/<(\/?)\w+:/;function Jt(e,t,r){for(var n={},a=0,A=0;a!==e.length&&!((A=e.charCodeAt(a))===32||A===10||A===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var c=e.match(NU),d=0,p="",m=0,y="",b="",I=1;if(c)for(m=0;m!=c.length;++m){for(b=c[m],A=0;A!=b.length&&b.charCodeAt(A)!==61;++A);for(y=b.slice(0,A).trim();b.charCodeAt(A+1)==32;)++A;for(I=(a=b.charCodeAt(A+1))==34||a==39?1:0,p=b.slice(A+1+I,b.length-I),d=0;d!=y.length&&y.charCodeAt(d)!==58;++d);if(d===y.length)y.indexOf("_")>0&&(y=y.slice(0,y.indexOf("_"))),n[y]=p,n[y.toLowerCase()]=p;else{var N=(d===5&&y.slice(0,5)==="xmlns"?"xmlns":"")+y.slice(d+1);if(n[N]&&y.slice(d-3,d)=="ext")continue;n[N]=p,n[N.toLowerCase()]=p}}return n}function xA(e){return e.replace(DU,"<$1")}var $T={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},OU=E2($T),Or=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",A=a.indexOf("<![CDATA[");if(A==-1)return a.replace(e,function(d,p){return $T[d]||String.fromCharCode(parseInt(p,d.indexOf("x")>-1?16:10))||d}).replace(t,function(d,p){return String.fromCharCode(parseInt(p,16))});var c=a.indexOf("]]>");return r(a.slice(0,A))+a.slice(A+9,c)+r(a.slice(c+3))}})(),UU=/[&<>'"]/g,kU=/[\u0000-\u001f]/g;function B2(e){var t=e+"";return t.replace(UU,function(r){return OU[r]}).replace(/\n/g,"<br/>").replace(kU,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var lB=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function Bn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Sp(e){for(var t="",r=0,n=0,a=0,A=0,c=0,d=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){c=(n&31)<<6,c|=a&63,t+=String.fromCharCode(c);continue}if(A=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|A&63);continue}c=e.charCodeAt(r++),d=((n&7)<<18|(a&63)<<12|(A&63)<<6|c&63)-65536,t+=String.fromCharCode(55296+(d>>>10&1023)),t+=String.fromCharCode(56320+(d&1023))}return t}function cB(e){var t=Zo(2*e.length),r,n,a=1,A=0,c=0,d;for(n=0;n<e.length;n+=a)a=1,(d=e.charCodeAt(n))<128?r=d:d<224?(r=(d&31)*64+(e.charCodeAt(n+1)&63),a=2):d<240?(r=(d&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(d&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,c=55296+(r>>>10&1023),r=56320+(r&1023)),c!==0&&(t[A++]=c&255,t[A++]=c>>>8,c=0),t[A++]=r%256,t[A++]=r>>>8;return t.slice(0,A).toString("ucs2")}function uB(e){return Jl(e,"binary").toString("utf8")}var ud="foo bar baz",hn=_r&&(uB(ud)==Sp(ud)&&uB||cB(ud)==Sp(ud)&&cB)||Sp,Cu=_r?function(e){return Jl(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},tf=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),e3=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),MU=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),LU=/<\/?(?:vt:)?variant>/g,QU=/<(?:vt:)([^>]*)>([\s\S]*)</;function fB(e,t){var r=Jt(e),n=e.match(MU(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(A){var c=A.replace(LU,"").match(QU);c&&a.push({v:hn(c[2]),t:c[1]})}),a}var jU=/(^\s|\s$|\n)/;function HU(e){return fA(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function PU(e,t,r){return"<"+e+(r!=null?HU(r):"")+(t!=null?(t.match(jU)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function b2(e){if(_r&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return hn(Zl(w2(e)));throw new Error("Bad input format: expected Buffer or string")}var rf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,VU={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},GU=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function KU(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,A=5;A>=0;--A)a=a*256+e[t+A];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function zU(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,A=0,c=n?-t:t;isFinite(c)?c==0?a=A=0:(a=Math.floor(Math.log(c)/Math.LN2),A=c*Math.pow(2,52-a),a<=-1023&&(!isFinite(A)||A<Math.pow(2,52))?a=-1022:(A-=Math.pow(2,52),a+=1023)):(a=2047,A=isNaN(t)?26985:0);for(var d=0;d<=5;++d,A/=256)e[r+d]=A&255;e[r+6]=(a&15)<<4|A&15,e[r+7]=a>>4|n}var hB=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,A=e[0][n].length;a<A;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},dB=_r?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Jl(t)})):hB(e)}:hB,gB=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(zA(e,a)));return n.join("").replace(vi,"")},_2=_r?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(vi,""):gB(e,t,r)}:gB,xB=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},t3=_r?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):xB(e,t,r)}:xB,pB=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(zc(e,a)));return n.join("")},mf=_r?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):pB(t,r,n)}:pB,r3=function(e,t){var r=ss(e,t);return r>0?mf(e,t+4,t+4+r-1):""},n3=r3,a3=function(e,t){var r=ss(e,t);return r>0?mf(e,t+4,t+4+r-1):""},i3=a3,s3=function(e,t){var r=2*ss(e,t);return r>0?mf(e,t+4,t+4+r-1):""},A3=s3,o3=function(t,r){var n=ss(t,r);return n>0?_2(t,r+4,r+4+n):""},l3=o3,c3=function(e,t){var r=ss(e,t);return r>0?mf(e,t+4,t+4+r):""},u3=c3,f3=function(e,t){return KU(e,t)},a1=f3,h3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};_r&&(n3=function(t,r){if(!Buffer.isBuffer(t))return r3(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},i3=function(t,r){if(!Buffer.isBuffer(t))return a3(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},A3=function(t,r){if(!Buffer.isBuffer(t))return s3(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},l3=function(t,r){if(!Buffer.isBuffer(t))return o3(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},u3=function(t,r){if(!Buffer.isBuffer(t))return c3(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},a1=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):f3(t,r)},h3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var zc=function(e,t){return e[t]},zA=function(e,t){return e[t+1]*256+e[t]},WU=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ss=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Rl=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},XU=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Uu(e,t){var r="",n,a,A=[],c,d,p,m;switch(t){case"dbcs":if(m=this.l,_r&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(p=0;p<e;++p)r+=String.fromCharCode(zA(this,m)),m+=2;e*=2;break;case"utf8":r=mf(this,this.l,this.l+e);break;case"utf16le":e*=2,r=_2(this,this.l,this.l+e);break;case"wstr":return Uu.call(this,e,"dbcs");case"lpstr-ansi":r=n3(this,this.l),e=4+ss(this,this.l);break;case"lpstr-cp":r=i3(this,this.l),e=4+ss(this,this.l);break;case"lpwstr":r=A3(this,this.l),e=4+2*ss(this,this.l);break;case"lpp4":e=4+ss(this,this.l),r=l3(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ss(this,this.l),r=u3(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(c=zc(this,this.l+e++))!==0;)A.push(cd(c));r=A.join("");break;case"_wstr":for(e=0,r="";(c=zA(this,this.l+e))!==0;)A.push(cd(c)),e+=2;e+=2,r=A.join("");break;case"dbcs-cont":for(r="",m=this.l,p=0;p<e;++p){if(this.lens&&this.lens.indexOf(m)!==-1)return c=zc(this,m),this.l=m+1,d=Uu.call(this,e-p,c?"dbcs-cont":"sbcs-cont"),A.join("")+d;A.push(cd(zA(this,m))),m+=2}r=A.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",m=this.l,p=0;p!=e;++p){if(this.lens&&this.lens.indexOf(m)!==-1)return c=zc(this,m),this.l=m+1,d=Uu.call(this,e-p,c?"dbcs-cont":"sbcs-cont"),A.join("")+d;A.push(cd(zc(this,m))),m+=1}r=A.join("");break;default:switch(e){case 1:return n=zc(this,this.l),this.l++,n;case 2:return n=(t==="i"?WU:zA)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Rl:XU)(this,this.l),this.l+=4,n):(a=ss(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=a1(this,this.l):a=a1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=t3(this,this.l,e);break}}return this.l+=e,r}var YU=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},qU=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},JU=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ZU(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)JU(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var A=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var c=t.charCodeAt(a);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<A;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,YU(this,t,this.l);break;case 8:if(n=8,r==="f"){zU(this,t,this.l);break}case 16:break;case-4:n=4,qU(this,t,this.l);break}return this.l+=n,this}function d3(e,t){var r=t3(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ma(e,t){e.l=t,e.read_shift=Uu,e.chk=d3,e.write_shift=ZU}function Ai(e,t){e.l+=t}function ha(e){var t=Zo(e);return Ma(t,0),t}function ao(e,t,r){if(e){var n,a,A;Ma(e,e.l||0);for(var c=e.length,d=0,p=0;e.l<c;){d=e.read_shift(1),d&128&&(d=(d&127)+((e.read_shift(1)&127)<<7));var m=c1[d]||c1[65535];for(n=e.read_shift(1),A=n&127,a=1;a<4&&n&128;++a)A+=((n=e.read_shift(1))&127)<<7*a;p=e.l+A;var y=m.f&&m.f(e,A,r);if(e.l=p,t(y,m,d))return}}}function Bm(){var e=[],t=_r?256:2048,r=function(m){var y=ha(m);return Ma(y,0),y},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},A=function(m){return n&&m<n.length-n.l?n:(a(),n=r(Math.max(m+1,t)))},c=function(){return a(),Lo(e)},d=function(m){a(),n=m,n.l==null&&(n.l=n.length),A(t)};return{next:A,push:d,end:c,_bufs:e}}function ku(e,t,r){var n=ja(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function mB(e,t,r){var n=ja(e);return n.s=ku(n.s,t.s,r),n.e=ku(n.e,t.s,r),n}function Mu(e,t){if(e.cRel&&e.c<0)for(e=ja(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ja(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ar(e);return!e.cRel&&e.cRel!=null&&(r=tk(r)),!e.rRel&&e.rRel!=null&&(r=$U(r)),r}function Np(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ga(e.s.c)+":"+(e.e.cRel?"":"$")+ga(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ha(e.s.r)+":"+(e.e.rRel?"":"$")+Ha(e.e.r):Mu(e.s,t.biff)+":"+Mu(e.e,t.biff)}function T2(e){return parseInt(ek(e),10)-1}function Ha(e){return""+(e+1)}function $U(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ek(e){return e.replace(/\$(\d+)$/,"$1")}function I2(e){for(var t=rk(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ga(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function tk(e){return e.replace(/^([A-Z])/,"$$$1")}function rk(e){return e.replace(/^\$([A-Z])/,"$1")}function nk(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function wi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function ar(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function w0(e){var t=e.indexOf(":");return t==-1?{s:wi(e),e:wi(e)}:{s:wi(e.slice(0,t)),e:wi(e.slice(t+1))}}function Nr(e,t){return typeof t>"u"||typeof t=="number"?Nr(e.s,e.e):(typeof e!="string"&&(e=ar(e)),typeof t!="string"&&(t=ar(t)),e==t?e:e+":"+t)}function Hn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,A=e.length;for(r=0;n<A&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<A&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===A||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=A&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=A&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function wB(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Fs(e.z,r?yi(t):t)}catch{}try{return e.w=Fs((e.XF||{}).numFmtId||(r?14:0),r?yi(t):t)}catch{return""+t}}function ZA(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?tc[e.v]||e.v:t==null?wB(e,e.v):wB(e,t))}function al(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function g3(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,A=e||(a?[]:{}),c=0,d=0;if(A&&n.origin!=null){if(typeof n.origin=="number")c=n.origin;else{var p=typeof n.origin=="string"?wi(n.origin):n.origin;c=p.r,d=p.c}A["!ref"]||(A["!ref"]="A1:A1")}var m={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(A["!ref"]){var y=Hn(A["!ref"]);m.s.c=y.s.c,m.s.r=y.s.r,m.e.c=Math.max(m.e.c,y.e.c),m.e.r=Math.max(m.e.r,y.e.r),c==-1&&(m.e.r=c=y.e.r+1)}for(var b=0;b!=t.length;++b)if(t[b]){if(!Array.isArray(t[b]))throw new Error("aoa_to_sheet expects an array of arrays");for(var I=0;I!=t[b].length;++I)if(!(typeof t[b][I]>"u")){var N={v:t[b][I]},R=c+b,F=d+I;if(m.s.r>R&&(m.s.r=R),m.s.c>F&&(m.s.c=F),m.e.r<R&&(m.e.r=R),m.e.c<F&&(m.e.c=F),t[b][I]&&typeof t[b][I]=="object"&&!Array.isArray(t[b][I])&&!(t[b][I]instanceof Date))N=t[b][I];else if(Array.isArray(N.v)&&(N.f=t[b][I][1],N.v=N.v[0]),N.v===null)if(N.f)N.t="n";else if(n.nullError)N.t="e",N.v=0;else if(n.sheetStubs)N.t="z";else continue;else typeof N.v=="number"?N.t="n":typeof N.v=="boolean"?N.t="b":N.v instanceof Date?(N.z=n.dateNF||ur[14],n.cellDates?(N.t="d",N.w=Fs(N.z,yi(N.v))):(N.t="n",N.v=yi(N.v),N.w=Fs(N.z,N.v))):N.t="s";if(a)A[R]||(A[R]=[]),A[R][F]&&A[R][F].z&&(N.z=A[R][F].z),A[R][F]=N;else{var D=ar({c:F,r:R});A[D]&&A[D].z&&(N.z=A[D].z),A[D]=N}}}return m.s.c<1e7&&(A["!ref"]=Nr(m)),A}function v0(e,t){return g3(null,e,t)}function ak(e){return e.read_shift(4,"i")}function ii(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ik(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function S2(e,t){var r=e.l,n=e.read_shift(1),a=ii(e),A=[],c={t:a,h:a};if((n&1)!==0){for(var d=e.read_shift(4),p=0;p!=d;++p)A.push(ik(e));c.r=A}else c.r=[{ich:0,ifnt:0}];return e.l=r+t,c}var sk=S2;function Ds(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function $l(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Ak=ii;function N2(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var ok=ii,bm=N2;function F2(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?a1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Rl(t,0)>>2;return r?a/100:a}function x3(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var ec=x3;function ni(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function lk(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),A=e.read_shift(2,"i"),c=e.read_shift(1),d=e.read_shift(1),p=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var m=jl[a];m&&(t.rgb=af(m));break;case 2:t.rgb=af([c,d,p]);break;case 3:t.theme=a;break}return A!=0&&(t.tint=A>0?A/32767:A/32768),t}function ck(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function p3(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function uk(e){return p3(e,1)}function fk(e){return p3(e,2)}var R2=2,ji=3,fd=11,vB=12,i1=19,hd=64,hk=65,dk=71,gk=4108,xk=4126,Ba=80,m3=81,pk=[Ba,m3],mk={1:{n:"CodePage",t:R2},2:{n:"Category",t:Ba},3:{n:"PresentationFormat",t:Ba},4:{n:"ByteCount",t:ji},5:{n:"LineCount",t:ji},6:{n:"ParagraphCount",t:ji},7:{n:"SlideCount",t:ji},8:{n:"NoteCount",t:ji},9:{n:"HiddenCount",t:ji},10:{n:"MultimediaClipCount",t:ji},11:{n:"ScaleCrop",t:fd},12:{n:"HeadingPairs",t:gk},13:{n:"TitlesOfParts",t:xk},14:{n:"Manager",t:Ba},15:{n:"Company",t:Ba},16:{n:"LinksUpToDate",t:fd},17:{n:"CharacterCount",t:ji},19:{n:"SharedDoc",t:fd},22:{n:"HyperlinksChanged",t:fd},23:{n:"AppVersion",t:ji,p:"version"},24:{n:"DigSig",t:hk},26:{n:"ContentType",t:Ba},27:{n:"ContentStatus",t:Ba},28:{n:"Language",t:Ba},29:{n:"Version",t:Ba},255:{},2147483648:{n:"Locale",t:i1},2147483651:{n:"Behavior",t:i1},1919054434:{}},wk={1:{n:"CodePage",t:R2},2:{n:"Title",t:Ba},3:{n:"Subject",t:Ba},4:{n:"Author",t:Ba},5:{n:"Keywords",t:Ba},6:{n:"Comments",t:Ba},7:{n:"Template",t:Ba},8:{n:"LastAuthor",t:Ba},9:{n:"RevNumber",t:Ba},10:{n:"EditTime",t:hd},11:{n:"LastPrinted",t:hd},12:{n:"CreatedDate",t:hd},13:{n:"ModifiedDate",t:hd},14:{n:"PageCount",t:ji},15:{n:"WordCount",t:ji},16:{n:"CharCount",t:ji},17:{n:"Thumbnail",t:dk},18:{n:"Application",t:Ba},19:{n:"DocSecurity",t:ji},255:{},2147483648:{n:"Locale",t:i1},2147483651:{n:"Behavior",t:i1},1919054434:{}},yB={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},vk=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function yk(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Ek=yk([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),jl=ja(Ek),tc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},w3={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},EB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Ck(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Bk(e){var t=Ck();if(!e||!e.match)return t;var r={};if((e.match(oi)||[]).forEach(function(n){var a=Jt(n);switch(a[0].replace(RU,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[EB[a.ContentType]]!==void 0&&t[EB[a.ContentType]].push(a.PartName);break}}),t.xmlns!==VU.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Zc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _m(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Lu(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(oi)||[]).forEach(function(a){var A=Jt(a);if(A[0]==="<Relationship"){var c={};c.Type=A.Type,c.Target=A.Target,c.Id=A.Id,A.TargetMode&&(c.TargetMode=A.TargetMode);var d=A.TargetMode==="External"?A.Target:Eu(A.Target,t);r[d]=c,n[A.Id]=c}}),r["!id"]=n,r}var bk="application/vnd.oasis.opendocument.spreadsheet";function _k(e,t){for(var r=b2(e),n,a;n=rf.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Jt(n[0],!1),a.path=="/"&&a.type!==bk)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Qu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Tk=(function(){for(var e=new Array(Qu.length),t=0;t<Qu.length;++t){var r=Qu[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function v3(e){var t={};e=hn(e);for(var r=0;r<Qu.length;++r){var n=Qu[r],a=e.match(Tk[r]);a!=null&&a.length>0&&(t[n[1]]=Or(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=_a(t[n[1]]))}return t}var Ik=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function y3(e,t,r,n){var a=[];if(typeof e=="string")a=fB(e,n);else for(var A=0;A<e.length;++A)a=a.concat(e[A].map(function(y){return{v:y}}));var c=typeof t=="string"?fB(t,n).map(function(y){return y.v}):t,d=0,p=0;if(c.length>0)for(var m=0;m!==a.length;m+=2){switch(p=+a[m+1].v,a[m].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=p,r.SheetNames=c.slice(d,d+p);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=p,r.DefinedNames=c.slice(d,d+p);break;case"Charts":case"Diagramme":r.Chartsheets=p,r.ChartNames=c.slice(d,d+p);break}d+=p}}function Sk(e,t,r){var n={};return t||(t={}),e=hn(e),Ik.forEach(function(a){var A=(e.match(tf(a[0]))||[])[1];switch(a[2]){case"string":A&&(t[a[1]]=Or(A));break;case"bool":t[a[1]]=A==="true";break;case"raw":var c=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));c&&c.length>0&&(n[a[1]]=c[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&y3(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Nk=/<[^>]+>[^<]*/g;function Fk(e,t){var r={},n="",a=e.match(Nk);if(a)for(var A=0;A!=a.length;++A){var c=a[A],d=Jt(c);switch(d[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Or(d.name);break;case"</property>":n=null;break;default:if(c.indexOf("<vt:")===0){var p=c.split(">"),m=p[0].slice(4),y=p[1];switch(m){case"lpstr":case"bstr":case"lpwstr":r[n]=Or(y);break;case"bool":r[n]=Bn(y);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(y,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(y);break;case"filetime":case"date":r[n]=_a(y);break;case"cy":case"error":r[n]=Or(y);break;default:if(m.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",c,m,p)}}else if(c.slice(0,2)!=="</"){if(t.WTF)throw new Error(c)}}}return r}var Rk={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Fp;function Dk(e,t,r){Fp||(Fp=E2(Rk)),t=Fp[t]||t,e[t]=r}function D2(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function E3(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function C3(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function B3(e,t,r){return t===31?C3(e):E3(e,t,r)}function Tm(e,t,r){return B3(e,t,r===!1?0:4)}function Ok(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return B3(e,t,0)}function Uk(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(vi,""),e.l-a&2&&(e.l+=2)}return r}function kk(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(vi,"");return r}function Mk(e){var t=e.l,r=s1(e,m3);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=s1(e,ji);return[r,n]}function Lk(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Mk(e));return r}function CB(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var A=e.read_shift(4),c=e.read_shift(4);n[A]=e.read_shift(c,t===1200?"utf16le":"utf8").replace(vi,"").replace(yu,"!"),t===1200&&c%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function b3(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Qk(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function s1(e,t,r){var n=e.read_shift(2),a,A=r||{};if(e.l+=2,t!==vB&&n!==t&&pk.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===vB?n:t){case 2:return a=e.read_shift(2,"i"),A.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return E3(e,n,4).replace(vi,"");case 31:return C3(e);case 64:return D2(e);case 65:return b3(e);case 71:return Qk(e);case 80:return Tm(e,n,!A.raw).replace(vi,"");case 81:return Ok(e,n).replace(vi,"");case 4108:return Lk(e);case 4126:case 4127:return n==4127?Uk(e):kk(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function BB(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),A=[],c=0,d=0,p=-1,m={};for(c=0;c!=a;++c){var y=e.read_shift(4),b=e.read_shift(4);A[c]=[y,b+r]}A.sort(function(W,H){return W[1]-H[1]});var I={};for(c=0;c!=a;++c){if(e.l!==A[c][1]){var N=!0;if(c>0&&t)switch(t[A[c-1][0]].t){case 2:e.l+2===A[c][1]&&(e.l+=2,N=!1);break;case 80:e.l<=A[c][1]&&(e.l=A[c][1],N=!1);break;case 4108:e.l<=A[c][1]&&(e.l=A[c][1],N=!1);break}if((!t||c==0)&&e.l<=A[c][1]&&(N=!1,e.l=A[c][1]),N)throw new Error("Read Error: Expected address "+A[c][1]+" at "+e.l+" :"+c)}if(t){var R=t[A[c][0]];if(I[R.n]=s1(e,R.t,{raw:!0}),R.p==="version"&&(I[R.n]=String(I[R.n]>>16)+"."+("0000"+String(I[R.n]&65535)).slice(-4)),R.n=="CodePage")switch(I[R.n]){case 0:I[R.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ws(d=I[R.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+I[R.n])}}else if(A[c][0]===1){if(d=I.CodePage=s1(e,R2),Ws(d),p!==-1){var F=e.l;e.l=A[p][1],m=CB(e,d),e.l=F}}else if(A[c][0]===0){if(d===0){p=c,e.l=A[c+1][1];continue}m=CB(e,d)}else{var D=m[A[c][0]],K;switch(e[e.l]){case 65:e.l+=4,K=b3(e);break;case 30:e.l+=4,K=Tm(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,K=Tm(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,K=e.read_shift(4,"i");break;case 19:e.l+=4,K=e.read_shift(4);break;case 5:e.l+=4,K=e.read_shift(8,"f");break;case 11:e.l+=4,K=Xn(e,4);break;case 64:e.l+=4,K=_a(D2(e));break;default:throw new Error("unparsed value: "+e[e.l])}I[D]=K}}return e.l=r+n,I}function bB(e,t,r){var n=e.content;if(!n)return{};Ma(n,0);var a,A,c,d,p=0;n.chk("feff","Byte Order: "),n.read_shift(2);var m=n.read_shift(4),y=n.read_shift(16);if(y!==Sr.utils.consts.HEADER_CLSID&&y!==r)throw new Error("Bad PropertySet CLSID "+y);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(A=n.read_shift(16),d=n.read_shift(4),a===1&&d!==n.l)throw new Error("Length mismatch: "+d+" !== "+n.l);a===2&&(c=n.read_shift(16),p=n.read_shift(4));var b=BB(n,t),I={SystemIdentifier:m};for(var N in b)I[N]=b[N];if(I.FMTID=A,a===1)return I;if(p-n.l==2&&(n.l+=2),n.l!==p)throw new Error("Length mismatch 2: "+n.l+" !== "+p);var R;try{R=BB(n,null)}catch{}for(N in R)I[N]=R[N];return I.FMTID=[A,c],I}function Ro(e,t){return e.read_shift(t),null}function jk(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Xn(e,t){return e.read_shift(t)===1}function Aa(e){return e.read_shift(2,"u")}function _3(e,t){return jk(e,t,Aa)}function Hk(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function wf(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var A=e.read_shift(1);A&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var c=n?e.read_shift(n,a):"";return c}function Pk(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,A=1+(r&1),c=0,d,p={};a&&(c=e.read_shift(2)),n&&(d=e.read_shift(4));var m=A==2?"dbcs-cont":"sbcs-cont",y=t===0?"":e.read_shift(t,m);return a&&(e.l+=4*c),n&&(e.l+=d),p.t=y,a||(p.raw="<t>"+p.t+"</t>",p.r=p.t),p}function Kl(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function vf(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Kl(e,n,r)}function rc(e,t,r){if(r.biff>5)return vf(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Vk(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Gk(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(vi,"");return n&&(e.l+=24),a}function Kk(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var A=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var c=e.read_shift(A>>1,"utf16le").replace(vi,"");return r+c}function zk(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Gk(e);case"0303000000000000c000000000000046":return Kk(e);default:throw new Error("Unsupported Moniker "+r)}}function dd(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(vi,""):"";return r}function Wk(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var A,c,d,p,m="",y,b;a&16&&(A=dd(e,r-e.l)),a&128&&(c=dd(e,r-e.l)),(a&257)===257&&(d=dd(e,r-e.l)),(a&257)===1&&(p=zk(e,r-e.l)),a&8&&(m=dd(e,r-e.l)),a&32&&(y=e.read_shift(16)),a&64&&(b=D2(e)),e.l=r;var I=c||d||p||"";I&&m&&(I+="#"+m),I||(I="#"+m),a&2&&I.charAt(0)=="/"&&I.charAt(1)!="/"&&(I="file://"+I);var N={Target:I};return y&&(N.guid=y),b&&(N.time=b),A&&(N.Tooltip=A),N}function T3(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function I3(e,t){var r=T3(e);return r[3]=0,r}function pA(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Xk(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Yk(e,t,r){return t===0?"":rc(e,t,r)}function qk(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),A=e.read_shift(n,"i"),c=e.read_shift(n,"i");return[a,A,c]}function S3(e){var t=e.read_shift(2),r=F2(e);return[t,r]}function Jk(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=wf(e,t,r),A=e.read_shift(2);if(n-=e.l,A!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+A);return e.l+=A,a}function P1(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function N3(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Zk=N3;function F3(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function $k(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function eM(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function qa(e){e.l+=2,e.l+=e.read_shift(2)}var tM={0:qa,4:qa,5:qa,6:qa,7:eM,8:qa,9:qa,10:qa,11:qa,12:qa,13:$k,14:qa,15:qa,16:qa,17:qa,18:qa,19:qa,20:qa,21:F3};function rM(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(tM[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function gd(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function nM(e,t){return t===0||e.read_shift(2),1200}function aM(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=rc(e,0,r);return e.read_shift(t+n-e.l),a}function iM(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function sM(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,A=e.read_shift(1);switch(A){case 0:A="Worksheet";break;case 1:A="Macrosheet";break;case 2:A="Chartsheet";break;case 6:A="VBAModule";break}var c=wf(e,0,r);return c.length===0&&(c="Sheet1"),{pos:n,hs:a,dt:A,name:c}}function AM(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),A=[],c=0;c!=a&&e.l<r;++c)A.push(Pk(e));return A.Count=n,A.Unique=a,A}function oM(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function lM(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function cM(e){var t=Xk(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function uM(e){return e.read_shift(2),e.read_shift(4)}function _B(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var A={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[A,a]}function fM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),A=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2),p=e.read_shift(2),m=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:A,CurTab:c,FirstTab:d,Selected:p,TabRatio:m}}function hM(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function dM(){}function gM(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=wf(e,0,r),n}function xM(e){var t=pA(e);return t.isst=e.read_shift(4),t}function pM(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=pA(e);r.biff==2&&e.l++;var A=vf(e,n-e.l,r);return a.val=A,a}function mM(e,t,r){var n=e.read_shift(2),a=rc(e,0,r);return[n,a]}var wM=rc;function TB(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,A=e.read_shift(a),c=e.read_shift(a),d=e.read_shift(2),p=e.read_shift(2);return e.l=n,{s:{r:A,c:d},e:{r:c,c:p}}}function vM(e){var t=e.read_shift(2),r=e.read_shift(2),n=S3(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function yM(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),A=[];e.l<r;)A.push(S3(e));if(e.l!==r)throw new Error("MulRK read error");var c=e.read_shift(2);if(A.length!=c-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:c,rkrec:A}}function EM(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),A=[];e.l<r;)A.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var c=e.read_shift(2);if(A.length!=c-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:c,ixfe:A}}function CM(e,t,r,n){var a={},A=e.read_shift(4),c=e.read_shift(4),d=e.read_shift(4),p=e.read_shift(2);return a.patternType=vk[d>>26],n.cellStyles&&(a.alc=A&7,a.fWrap=A>>3&1,a.alcV=A>>4&7,a.fJustLast=A>>7&1,a.trot=A>>8&255,a.cIndent=A>>16&15,a.fShrinkToFit=A>>20&1,a.iReadOrder=A>>22&2,a.fAtrNum=A>>26&1,a.fAtrFnt=A>>27&1,a.fAtrAlc=A>>28&1,a.fAtrBdr=A>>29&1,a.fAtrPat=A>>30&1,a.fAtrProt=A>>31&1,a.dgLeft=c&15,a.dgRight=c>>4&15,a.dgTop=c>>8&15,a.dgBottom=c>>12&15,a.icvLeft=c>>16&127,a.icvRight=c>>23&127,a.grbitDiag=c>>30&3,a.icvTop=d&127,a.icvBottom=d>>7&127,a.icvDiag=d>>14&127,a.dgDiag=d>>21&15,a.icvFore=p&127,a.icvBack=p>>7&127,a.fsxButton=p>>14&1),a}function BM(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=CM(e,t,n.fStyle,r),n}function bM(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function IB(e,t,r){var n=pA(e);(r.biff==2||t==9)&&++e.l;var a=Hk(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function _M(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=pA(e),a=ni(e);return n.val=a,n}var SB=Yk;function TM(e,t,r){var n=e.l+t,a=e.read_shift(2),A=e.read_shift(2);if(r.sbcch=A,A==1025||A==14849)return[A,a];if(A<1||A>255)throw new Error("Unexpected SupBook type: "+A);for(var c=Kl(e,A),d=[];n>e.l;)d.push(vf(e));return[A,a,c,d]}function NB(e,t,r){var n=e.read_shift(2),a,A={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Jk(e,t-2,r)),A.body=a||e.read_shift(t-2),typeof a=="string"&&(A.Name=a),A}var IM=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function FB(e,t,r){var n=e.l+t,a=e.read_shift(2),A=e.read_shift(1),c=e.read_shift(1),d=e.read_shift(r&&r.biff==2?1:2),p=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),p=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var m=Kl(e,c,r);a&32&&(m=IM[m.charCodeAt(0)]);var y=n-e.l;r&&r.biff==2&&--y;var b=n==e.l||d===0||!(y>0)?[]:lQ(e,y,r,d);return{chKey:A,Name:m,itab:p,rgce:b}}function R3(e,t,r){if(r.biff<8)return SM(e,t,r);for(var n=[],a=e.l+t,A=e.read_shift(r.biff>8?4:2);A--!==0;)n.push(qk(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function SM(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=wf(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function NM(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),A=Kl(e,n,r),c=Kl(e,a,r);return[A,c]}function FM(e,t,r){var n=N3(e);e.l++;var a=e.read_shift(1);return t-=8,[cQ(e,t,r),a,n]}function RB(e,t,r){var n=Zk(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,AQ(e,t,r)]}function RM(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function DM(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),A=e.read_shift(2),c=e.read_shift(2),d=rc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},d,c,A]}}function OM(e,t,r){return DM(e,t,r)}function UM(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(P1(e));return r}function kM(e,t,r){if(r&&r.biff<8)return LM(e,t,r);var n=F3(e),a=rM(e,t-22,n[1]);return{cmo:n,ft:a}}var MM={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function LM(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),A=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var c=[];return c.push((MM[n]||Ai)(e,t,r)),{cmo:[a,n,A],ft:c}}function QM(e,t,r){var n=e.l,a="";try{e.l+=4;var A=(r.lastobj||{cmo:[0,0]}).cmo[1],c;[0,5,7,11,12,14].indexOf(A)==-1?e.l+=6:c=Vk(e,6,r);var d=e.read_shift(2);e.read_shift(2),Aa(e,2);var p=e.read_shift(2);e.l+=p;for(var m=1;m<e.lens.length-1;++m){if(e.l-n!=e.lens[m])throw new Error("TxO: bad continue record");var y=e[e.l],b=Kl(e,e.lens[m+1]-e.lens[m]-1);if(a+=b,a.length>=(y?d:2*d))break}if(a.length!==d&&a.length!==d*2)throw new Error("cchText: "+d+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function jM(e,t){var r=P1(e);e.l+=16;var n=Wk(e,t-24);return[r,n]}function HM(e,t){e.read_shift(2);var r=P1(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(vi,""),[r,n]}function PM(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=yB[r]||r,r=e.read_shift(2),t[1]=yB[r]||r,t}function VM(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(I3(e));return r}function GM(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(I3(e));return r}function KM(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function D3(e,t,r){if(!r.cellStyles)return Ai(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),A=e.read_shift(n),c=e.read_shift(n),d=e.read_shift(n),p=e.read_shift(2);n==2&&(e.l+=2);var m={s:a,e:A,w:c,ixfe:d,flags:p};return(r.biff>=5||!r.biff)&&(m.level=p>>8&7),m}function zM(e,t){var r={};return t<32||(e.l+=16,r.header=ni(e),r.footer=ni(e),e.l+=2),r}function WM(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var XM=pA,YM=_3,qM=vf;function JM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function ZM(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=pA(e);++e.l;var a=rc(e,t-7,r);return n.t="str",n.val=a,n}function $M(e){var t=pA(e);++e.l;var r=ni(e);return t.t="n",t.val=r,t}function e9(e){var t=pA(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function t9(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function r9(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function n9(e,t,r){var n=e.l+t,a=pA(e),A=e.read_shift(2),c=Kl(e,A,r);return e.l=n,a.t="str",a.val=c,a}var a9=[2,3,48,49,131,139,140,245],DB=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=E2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(d,p){var m=[],y=Zo(1);switch(p.type){case"base64":y=zs(cs(d));break;case"binary":y=zs(d);break;case"buffer":case"array":y=d;break}Ma(y,0);var b=y.read_shift(1),I=!!(b&136),N=!1,R=!1;switch(b){case 2:break;case 3:break;case 48:N=!0,I=!0;break;case 49:N=!0,I=!0;break;case 131:break;case 139:break;case 140:R=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+b.toString(16))}var F=0,D=521;b==2&&(F=y.read_shift(2)),y.l+=3,b!=2&&(F=y.read_shift(4)),F>1048576&&(F=1e6),b!=2&&(D=y.read_shift(2));var K=y.read_shift(2),W=p.codepage||1252;b!=2&&(y.l+=16,y.read_shift(1),y[y.l]!==0&&(W=e[y[y.l]]),y.l+=1,y.l+=2),R&&(y.l+=36);for(var H=[],re={},de=Math.min(y.length,b==2?521:D-10-(N?264:0)),ee=R?32:11;y.l<de&&y[y.l]!=13;)switch(re={},re.name=$u.utils.decode(W,y.slice(y.l,y.l+ee)).replace(/[\u0000\r\n].*$/g,""),y.l+=ee,re.type=String.fromCharCode(y.read_shift(1)),b!=2&&!R&&(re.offset=y.read_shift(4)),re.len=y.read_shift(1),b==2&&(re.offset=y.read_shift(2)),re.dec=y.read_shift(1),re.name.length&&H.push(re),b!=2&&(y.l+=R?13:14),re.type){case"B":(!N||re.len!=8)&&p.WTF&&console.log("Skipping "+re.name+":"+re.type);break;case"G":case"P":p.WTF&&console.log("Skipping "+re.name+":"+re.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+re.type)}if(y[y.l]!==13&&(y.l=D-1),y.read_shift(1)!==13)throw new Error("DBF Terminator not found "+y.l+" "+y[y.l]);y.l=D;var U=0,Q=0;for(m[0]=[],Q=0;Q!=H.length;++Q)m[0][Q]=H[Q].name;for(;F-- >0;){if(y[y.l]===42){y.l+=K;continue}for(++y.l,m[++U]=[],Q=0,Q=0;Q!=H.length;++Q){var k=y.slice(y.l,y.l+H[Q].len);y.l+=H[Q].len,Ma(k,0);var Y=$u.utils.decode(W,k);switch(H[Q].type){case"C":Y.trim().length&&(m[U][Q]=Y.replace(/\s+$/,""));break;case"D":Y.length===8?m[U][Q]=new Date(+Y.slice(0,4),+Y.slice(4,6)-1,+Y.slice(6,8)):m[U][Q]=Y;break;case"F":m[U][Q]=parseFloat(Y.trim());break;case"+":case"I":m[U][Q]=R?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(Y.trim().toUpperCase()){case"Y":case"T":m[U][Q]=!0;break;case"N":case"F":m[U][Q]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Y+"|")}break;case"M":if(!I)throw new Error("DBF Unexpected MEMO for type "+b.toString(16));m[U][Q]="##MEMO##"+(R?parseInt(Y.trim(),10):k.read_shift(4));break;case"N":Y=Y.replace(/\u0000/g,"").trim(),Y&&Y!="."&&(m[U][Q]=+Y||0);break;case"@":m[U][Q]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":m[U][Q]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":m[U][Q]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":m[U][Q]=-k.read_shift(-8,"f");break;case"B":if(N&&H[Q].len==8){m[U][Q]=k.read_shift(8,"f");break}case"G":case"P":k.l+=H[Q].len;break;case"0":if(H[Q].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+H[Q].type)}}}if(b!=2&&y.l<y.length&&y[y.l++]!=26)throw new Error("DBF EOF Marker missing "+(y.l-1)+" of "+y.length+" "+y[y.l-1].toString(16));return p&&p.sheetRows&&(m=m.slice(0,p.sheetRows)),p.DBF=H,m}function n(d,p){var m=p||{};m.dateNF||(m.dateNF="yyyymmdd");var y=v0(r(d,m),m);return y["!cols"]=m.DBF.map(function(b){return{wch:b.len,DBF:b}}),delete m.DBF,y}function a(d,p){try{return al(n(d,p),p)}catch(m){if(p&&p.WTF)throw m}return{SheetNames:[],Sheets:{}}}var A={B:8,C:250,L:1,D:8,"?":0,"":0};function c(d,p){var m=p||{};if(+m.codepage>=0&&Ws(+m.codepage),m.type=="string")throw new Error("Cannot write DBF to JS string");var y=Bm(),b=Om(d,{header:1,raw:!0,cellDates:!0}),I=b[0],N=b.slice(1),R=d["!cols"]||[],F=0,D=0,K=0,W=1;for(F=0;F<I.length;++F){if(((R[F]||{}).DBF||{}).name){I[F]=R[F].DBF.name,++K;continue}if(I[F]!=null){if(++K,typeof I[F]=="number"&&(I[F]=I[F].toString(10)),typeof I[F]!="string")throw new Error("DBF Invalid column name "+I[F]+" |"+typeof I[F]+"|");if(I.indexOf(I[F])!==F){for(D=0;D<1024;++D)if(I.indexOf(I[F]+"_"+D)==-1){I[F]+="_"+D;break}}}}var H=Hn(d["!ref"]),re=[],de=[],ee=[];for(F=0;F<=H.e.c-H.s.c;++F){var U="",Q="",k=0,Y=[];for(D=0;D<N.length;++D)N[D][F]!=null&&Y.push(N[D][F]);if(Y.length==0||I[F]==null){re[F]="?";continue}for(D=0;D<Y.length;++D){switch(typeof Y[D]){case"number":Q="B";break;case"string":Q="C";break;case"boolean":Q="L";break;case"object":Q=Y[D]instanceof Date?"D":"C";break;default:Q="C"}k=Math.max(k,String(Y[D]).length),U=U&&U!=Q?"C":Q}k>250&&(k=250),Q=((R[F]||{}).DBF||{}).type,Q=="C"&&R[F].DBF.len>k&&(k=R[F].DBF.len),U=="B"&&Q=="N"&&(U="N",ee[F]=R[F].DBF.dec,k=R[F].DBF.len),de[F]=U=="C"||Q=="N"?k:A[U]||0,W+=de[F],re[F]=U}var q=y.next(32);for(q.write_shift(4,318902576),q.write_shift(4,N.length),q.write_shift(2,296+32*K),q.write_shift(2,W),F=0;F<4;++F)q.write_shift(4,0);for(q.write_shift(4,0|(+t[RT]||3)<<8),F=0,D=0;F<I.length;++F)if(I[F]!=null){var V=y.next(32),z=(I[F].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,z,"sbcs"),V.write_shift(1,re[F]=="?"?"C":re[F],"sbcs"),V.write_shift(4,D),V.write_shift(1,de[F]||A[re[F]]||0),V.write_shift(1,ee[F]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),D+=de[F]||A[re[F]]||0}var ze=y.next(264);for(ze.write_shift(4,13),F=0;F<65;++F)ze.write_shift(4,0);for(F=0;F<N.length;++F){var ve=y.next(W);for(ve.write_shift(1,0),D=0;D<I.length;++D)if(I[D]!=null)switch(re[D]){case"L":ve.write_shift(1,N[F][D]==null?63:N[F][D]?84:70);break;case"B":ve.write_shift(8,N[F][D]||0,"f");break;case"N":var me="0";for(typeof N[F][D]=="number"&&(me=N[F][D].toFixed(ee[D]||0)),K=0;K<de[D]-me.length;++K)ve.write_shift(1,32);ve.write_shift(1,me,"sbcs");break;case"D":N[F][D]?(ve.write_shift(4,("0000"+N[F][D].getFullYear()).slice(-4),"sbcs"),ve.write_shift(2,("00"+(N[F][D].getMonth()+1)).slice(-2),"sbcs"),ve.write_shift(2,("00"+N[F][D].getDate()).slice(-2),"sbcs")):ve.write_shift(8,"00000000","sbcs");break;case"C":var oe=String(N[F][D]!=null?N[F][D]:"").slice(0,de[D]);for(ve.write_shift(1,oe,"sbcs"),K=0;K<de[D]-oe.length;++K)ve.write_shift(1,32);break}}return y.next(1).write_shift(1,26),y.end()}return{to_workbook:a,to_sheet:n,from_sheet:c}})(),i9=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+fA(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(I,N){var R=e[N];return typeof R=="number"?YC(R):R},n=function(I,N,R){var F=N.charCodeAt(0)-32<<4|R.charCodeAt(0)-48;return F==59?I:YC(F)};e["|"]=254;function a(I,N){switch(N.type){case"base64":return A(cs(I),N);case"binary":return A(I,N);case"buffer":return A(_r&&Buffer.isBuffer(I)?I.toString("binary"):Zl(I),N);case"array":return A(Gl(I),N)}throw new Error("Unrecognized type "+N.type)}function A(I,N){var R=I.split(/[\n\r]+/),F=-1,D=-1,K=0,W=0,H=[],re=[],de=null,ee={},U=[],Q=[],k=[],Y=0,q;for(+N.codepage>=0&&Ws(+N.codepage);K!==R.length;++K){Y=0;var V=R[K].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),z=V.replace(/;;/g,"\0").split(";").map(function(ae){return ae.replace(/\u0000/g,";")}),ze=z[0],ve;if(V.length>0)switch(ze){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&re.push(V.slice(3).replace(/;;/g,";"));break;case"C":var me=!1,oe=!1,Pe=!1,Ee=!1,$e=-1,ge=-1;for(W=1;W<z.length;++W)switch(z[W].charAt(0)){case"A":break;case"X":D=parseInt(z[W].slice(1))-1,oe=!0;break;case"Y":for(F=parseInt(z[W].slice(1))-1,oe||(D=0),q=H.length;q<=F;++q)H[q]=[];break;case"K":ve=z[W].slice(1),ve.charAt(0)==='"'?ve=ve.slice(1,ve.length-1):ve==="TRUE"?ve=!0:ve==="FALSE"?ve=!1:isNaN(Ys(ve))?isNaN(o0(ve).getDate())||(ve=_a(ve)):(ve=Ys(ve),de!==null&&m0(de)&&(ve=H1(ve))),me=!0;break;case"E":Ee=!0;var X=n0(z[W].slice(1),{r:F,c:D});H[F][D]=[H[F][D],X];break;case"S":Pe=!0,H[F][D]=[H[F][D],"S5S"];break;case"G":break;case"R":$e=parseInt(z[W].slice(1))-1;break;case"C":ge=parseInt(z[W].slice(1))-1;break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+V)}if(me&&(H[F][D]&&H[F][D].length==2?H[F][D][0]=ve:H[F][D]=ve,de=null),Pe){if(Ee)throw new Error("SYLK shared formula cannot have own formula");var ce=$e>-1&&H[$e][ge];if(!ce||!ce[1])throw new Error("SYLK shared formula cannot find base");H[F][D][1]=V3(ce[1],{r:F-$e,c:D-ge})}break;case"F":var le=0;for(W=1;W<z.length;++W)switch(z[W].charAt(0)){case"X":D=parseInt(z[W].slice(1))-1,++le;break;case"Y":for(F=parseInt(z[W].slice(1))-1,q=H.length;q<=F;++q)H[q]=[];break;case"M":Y=parseInt(z[W].slice(1))/20;break;case"F":break;case"G":break;case"P":de=re[parseInt(z[W].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=z[W].slice(1).split(" "),q=parseInt(k[0],10);q<=parseInt(k[1],10);++q)Y=parseInt(k[2],10),Q[q-1]=Y===0?{hidden:!0}:{wch:Y},l0(Q[q-1]);break;case"C":D=parseInt(z[W].slice(1))-1,Q[D]||(Q[D]={});break;case"R":F=parseInt(z[W].slice(1))-1,U[F]||(U[F]={}),Y>0?(U[F].hpt=Y,U[F].hpx=sf(Y)):Y===0&&(U[F].hidden=!0);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+V)}le<1&&(de=null);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+V)}}return U.length>0&&(ee["!rows"]=U),Q.length>0&&(ee["!cols"]=Q),N&&N.sheetRows&&(H=H.slice(0,N.sheetRows)),[H,ee]}function c(I,N){var R=a(I,N),F=R[0],D=R[1],K=v0(F,N);return fA(D).forEach(function(W){K[W]=D[W]}),K}function d(I,N){return al(c(I,N),N)}function p(I,N,R,F){var D="C;Y"+(R+1)+";X"+(F+1)+";K";switch(I.t){case"n":D+=I.v||0,I.f&&!I.F&&(D+=";E"+KL(I.f,{r:R,c:F}));break;case"b":D+=I.v?"TRUE":"FALSE";break;case"e":D+=I.w||I.v;break;case"d":D+='"'+(I.w||I.v)+'"';break;case"s":D+='"'+I.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return D}function m(I,N){N.forEach(function(R,F){var D="F;W"+(F+1)+" "+(F+1)+" ";R.hidden?D+="0":(typeof R.width=="number"&&!R.wpx&&(R.wpx=o1(R.width)),typeof R.wpx=="number"&&!R.wch&&(R.wch=l1(R.wpx)),typeof R.wch=="number"&&(D+=Math.round(R.wch))),D.charAt(D.length-1)!=" "&&I.push(D)})}function y(I,N){N.forEach(function(R,F){var D="F;";R.hidden?D+="M0;":R.hpt?D+="M"+20*R.hpt+";":R.hpx&&(D+="M"+20*j3(R.hpx)+";"),D.length>2&&I.push(D+"R"+(F+1))})}function b(I,N){var R=["ID;PWXL;N;E"],F=[],D=Hn(I["!ref"]),K,W=Array.isArray(I),H=`\r
`;R.push("P;PGeneral"),R.push("F;P0;DG0G8;M255"),I["!cols"]&&m(R,I["!cols"]),I["!rows"]&&y(R,I["!rows"]),R.push("B;Y"+(D.e.r-D.s.r+1)+";X"+(D.e.c-D.s.c+1)+";D"+[D.s.c,D.s.r,D.e.c,D.e.r].join(" "));for(var re=D.s.r;re<=D.e.r;++re)for(var de=D.s.c;de<=D.e.c;++de){var ee=ar({r:re,c:de});K=W?(I[re]||[])[de]:I[ee],!(!K||K.v==null&&(!K.f||K.F))&&F.push(p(K,I,re,de))}return R.join(H)+H+F.join(H)+H+"E"+H}return{to_workbook:d,to_sheet:c,from_sheet:b}})(),s9=(function(){function e(A,c){switch(c.type){case"base64":return t(cs(A),c);case"binary":return t(A,c);case"buffer":return t(_r&&Buffer.isBuffer(A)?A.toString("binary"):Zl(A),c);case"array":return t(Gl(A),c)}throw new Error("Unrecognized type "+c.type)}function t(A,c){for(var d=A.split(`
`),p=-1,m=-1,y=0,b=[];y!==d.length;++y){if(d[y].trim()==="BOT"){b[++p]=[],m=0;continue}if(!(p<0)){var I=d[y].trim().split(","),N=I[0],R=I[1];++y;for(var F=d[y]||"";(F.match(/["]/g)||[]).length&1&&y<d.length-1;)F+=`
`+d[++y];switch(F=F.trim(),+N){case-1:if(F==="BOT"){b[++p]=[],m=0;continue}else if(F!=="EOD")throw new Error("Unrecognized DIF special command "+F);break;case 0:F==="TRUE"?b[p][m]=!0:F==="FALSE"?b[p][m]=!1:isNaN(Ys(R))?isNaN(o0(R).getDate())?b[p][m]=R:b[p][m]=_a(R):b[p][m]=Ys(R),++m;break;case 1:F=F.slice(1,F.length-1),F=F.replace(/""/g,'"'),F&&F.match(/^=".*"$/)&&(F=F.slice(2,-1)),b[p][m++]=F!==""?F:null;break}if(F==="EOD")break}}return c&&c.sheetRows&&(b=b.slice(0,c.sheetRows)),b}function r(A,c){return v0(e(A,c),c)}function n(A,c){return al(r(A,c),c)}var a=(function(){var A=function(p,m,y,b,I){p.push(m),p.push(y+","+b),p.push('"'+I.replace(/"/g,'""')+'"')},c=function(p,m,y,b){p.push(m+","+y),p.push(m==1?'"'+b.replace(/"/g,'""')+'"':b)};return function(p){var m=[],y=Hn(p["!ref"]),b,I=Array.isArray(p);A(m,"TABLE",0,1,"sheetjs"),A(m,"VECTORS",0,y.e.r-y.s.r+1,""),A(m,"TUPLES",0,y.e.c-y.s.c+1,""),A(m,"DATA",0,0,"");for(var N=y.s.r;N<=y.e.r;++N){c(m,-1,0,"BOT");for(var R=y.s.c;R<=y.e.c;++R){var F=ar({r:N,c:R});if(b=I?(p[N]||[])[R]:p[F],!b){c(m,1,0,"");continue}switch(b.t){case"n":var D=b.w;!D&&b.v!=null&&(D=b.v),D==null?b.f&&!b.F?c(m,1,0,"="+b.f):c(m,1,0,""):c(m,0,D,"V");break;case"b":c(m,0,b.v?1:0,b.v?"TRUE":"FALSE");break;case"s":c(m,1,0,isNaN(b.v)?b.v:'="'+b.v+'"');break;case"d":b.w||(b.w=Fs(b.z||ur[14],yi(_a(b.v)))),c(m,0,b.w,"V");break;default:c(m,1,0,"")}}}c(m,-1,0,"EOD");var K=`\r
`,W=m.join(K);return W}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),A9=(function(){function e(b){return b.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(b){return b.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(b,I){for(var N=b.split(`
`),R=-1,F=-1,D=0,K=[];D!==N.length;++D){var W=N[D].trim().split(":");if(W[0]==="cell"){var H=wi(W[1]);if(K.length<=H.r)for(R=K.length;R<=H.r;++R)K[R]||(K[R]=[]);switch(R=H.r,F=H.c,W[2]){case"t":K[R][F]=e(W[3]);break;case"v":K[R][F]=+W[3];break;case"vtf":var re=W[W.length-1];case"vtc":switch(W[3]){case"nl":K[R][F]=!!+W[4];break;default:K[R][F]=+W[4];break}W[2]=="vtf"&&(K[R][F]=[K[R][F],re])}}}return I&&I.sheetRows&&(K=K.slice(0,I.sheetRows)),K}function n(b,I){return v0(r(b,I),I)}function a(b,I){return al(n(b,I),I)}var A=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),p="--SocialCalcSpreadsheetControlSave--";function m(b){if(!b||!b["!ref"])return"";for(var I=[],N=[],R,F="",D=w0(b["!ref"]),K=Array.isArray(b),W=D.s.r;W<=D.e.r;++W)for(var H=D.s.c;H<=D.e.c;++H)if(F=ar({r:W,c:H}),R=K?(b[W]||[])[H]:b[F],!(!R||R.v==null||R.t==="z")){switch(N=["cell",F,"t"],R.t){case"s":case"str":N.push(t(R.v));break;case"n":R.f?(N[2]="vtf",N[3]="n",N[4]=R.v,N[5]=t(R.f)):(N[2]="v",N[3]=R.v);break;case"b":N[2]="vt"+(R.f?"f":"c"),N[3]="nl",N[4]=R.v?"1":"0",N[5]=t(R.f||(R.v?"TRUE":"FALSE"));break;case"d":var re=yi(_a(R.v));N[2]="vtc",N[3]="nd",N[4]=""+re,N[5]=R.w||Fs(R.z||ur[14],re);break;case"e":continue}I.push(N.join(":"))}return I.push("sheet:c:"+(D.e.c-D.s.c+1)+":r:"+(D.e.r-D.s.r+1)+":tvf:1"),I.push("valueformat:1:text-wiki"),I.join(`
`)}function y(b){return[A,c,d,c,m(b),p].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:y}})(),nf=(function(){function e(y,b,I,N,R){R.raw?b[I][N]=y:y===""||(y==="TRUE"?b[I][N]=!0:y==="FALSE"?b[I][N]=!1:isNaN(Ys(y))?isNaN(o0(y).getDate())?b[I][N]=y:b[I][N]=_a(y):b[I][N]=Ys(y))}function t(y,b){var I=b||{},N=[];if(!y||y.length===0)return N;for(var R=y.split(/[\r\n]/),F=R.length-1;F>=0&&R[F].length===0;)--F;for(var D=10,K=0,W=0;W<=F;++W)K=R[W].indexOf(" "),K==-1?K=R[W].length:K++,D=Math.max(D,K);for(W=0;W<=F;++W){N[W]=[];var H=0;for(e(R[W].slice(0,D).trim(),N,W,H,I),H=1;H<=(R[W].length-D)/10+1;++H)e(R[W].slice(D+(H-1)*10,D+H*10).trim(),N,W,H,I)}return I.sheetRows&&(N=N.slice(0,I.sheetRows)),N}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(y){for(var b={},I=!1,N=0,R=0;N<y.length;++N)(R=y.charCodeAt(N))==34?I=!I:!I&&R in r&&(b[R]=(b[R]||0)+1);R=[];for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&R.push([b[N],N]);if(!R.length){b=n;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&R.push([b[N],N])}return R.sort(function(F,D){return F[0]-D[0]||n[F[1]]-n[D[1]]}),r[R.pop()[1]]||44}function A(y,b){var I=b||{},N="",R=I.dense?[]:{},F={s:{c:0,r:0},e:{c:0,r:0}};y.slice(0,4)=="sep="?y.charCodeAt(5)==13&&y.charCodeAt(6)==10?(N=y.charAt(4),y=y.slice(7)):y.charCodeAt(5)==13||y.charCodeAt(5)==10?(N=y.charAt(4),y=y.slice(6)):N=a(y.slice(0,1024)):I&&I.FS?N=I.FS:N=a(y.slice(0,1024));var D=0,K=0,W=0,H=0,re=0,de=N.charCodeAt(0),ee=!1,U=0,Q=y.charCodeAt(0);y=y.replace(/\r\n/mg,`
`);var k=I.dateNF!=null?mU(I.dateNF):null;function Y(){var q=y.slice(H,re),V={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)V.t="z";else if(I.raw)V.t="s",V.v=q;else if(q.trim().length===0)V.t="s",V.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(V.t="s",V.v=q.slice(2,-1).replace(/""/g,'"')):WL(q)?(V.t="n",V.f=q.slice(1)):(V.t="s",V.v=q);else if(q=="TRUE")V.t="b",V.v=!0;else if(q=="FALSE")V.t="b",V.v=!1;else if(!isNaN(W=Ys(q)))V.t="n",I.cellText!==!1&&(V.w=q),V.v=W;else if(!isNaN(o0(q).getDate())||k&&q.match(k)){V.z=I.dateNF||ur[14];var z=0;k&&q.match(k)&&(q=wU(q,I.dateNF,q.match(k)||[]),z=1),I.cellDates?(V.t="d",V.v=_a(q,z)):(V.t="n",V.v=yi(_a(q,z))),I.cellText!==!1&&(V.w=Fs(V.z,V.v instanceof Date?yi(V.v):V.v)),I.cellNF||delete V.z}else V.t="s",V.v=q;if(V.t=="z"||(I.dense?(R[D]||(R[D]=[]),R[D][K]=V):R[ar({c:K,r:D})]=V),H=re+1,Q=y.charCodeAt(H),F.e.c<K&&(F.e.c=K),F.e.r<D&&(F.e.r=D),U==de)++K;else if(K=0,++D,I.sheetRows&&I.sheetRows<=D)return!0}e:for(;re<y.length;++re)switch(U=y.charCodeAt(re)){case 34:Q===34&&(ee=!ee);break;case de:case 10:case 13:if(!ee&&Y())break e;break}return re-H>0&&Y(),R["!ref"]=Nr(F),R}function c(y,b){return!(b&&b.PRN)||b.FS||y.slice(0,4)=="sep="||y.indexOf("	")>=0||y.indexOf(",")>=0||y.indexOf(";")>=0?A(y,b):v0(t(y,b),b)}function d(y,b){var I="",N=b.type=="string"?[0,0,0,0]:H2(y,b);switch(b.type){case"base64":I=cs(y);break;case"binary":I=y;break;case"buffer":b.codepage==65001?I=y.toString("utf8"):b.codepage&&typeof $u<"u"||(I=_r&&Buffer.isBuffer(y)?y.toString("binary"):Zl(y));break;case"array":I=Gl(y);break;case"string":I=y;break;default:throw new Error("Unrecognized type "+b.type)}return N[0]==239&&N[1]==187&&N[2]==191?I=hn(I.slice(3)):b.type!="string"&&b.type!="buffer"&&b.codepage==65001?I=hn(I):b.type=="binary"&&typeof $u<"u",I.slice(0,19)=="socialcalc:version:"?A9.to_sheet(b.type=="string"?I:hn(I),b):c(I,b)}function p(y,b){return al(d(y,b),b)}function m(y){for(var b=[],I=Hn(y["!ref"]),N,R=Array.isArray(y),F=I.s.r;F<=I.e.r;++F){for(var D=[],K=I.s.c;K<=I.e.c;++K){var W=ar({r:F,c:K});if(N=R?(y[F]||[])[K]:y[W],!N||N.v==null){D.push("          ");continue}for(var H=(N.w||(ZA(N),N.w)||"").slice(0,10);H.length<10;)H+=" ";D.push(H+(K===0?" ":""))}b.push(D.join(""))}return b.join(`
`)}return{to_workbook:p,to_sheet:d,from_sheet:m}})();function o9(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=i9.to_workbook(e,r);return r.WTF=n,a}catch(A){if(r.WTF=n,!A.message.match(/SYLK bad record ID/)&&n)throw A;return nf.to_workbook(e,t)}}var ju=(function(){function e(X,ce,le){if(X){Ma(X,X.l||0);for(var ae=le.Enum||$e;X.l<X.length;){var xe=X.read_shift(2),Xe=ae[xe]||ae[65535],Se=X.read_shift(2),Ce=X.l+Se,Ue=Xe.f&&Xe.f(X,Se,le);if(X.l=Ce,ce(Ue,Xe,xe))return}}}function t(X,ce){switch(ce.type){case"base64":return r(zs(cs(X)),ce);case"binary":return r(zs(X),ce);case"buffer":case"array":return r(X,ce)}throw"Unsupported type "+ce.type}function r(X,ce){if(!X)return X;var le=ce||{},ae=le.dense?[]:{},xe="Sheet1",Xe="",Se=0,Ce={},Ue=[],xt=[],he={s:{r:0,c:0},e:{r:0,c:0}},_t=le.sheetRows||0;if(X[2]==0&&(X[3]==8||X[3]==9)&&X.length>=16&&X[14]==5&&X[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(X[2]==2)le.Enum=$e,e(X,function(Re,ht,Et){switch(Et){case 0:le.vers=Re,Re>=4096&&(le.qpro=!0);break;case 6:he=Re;break;case 204:Re&&(Xe=Re);break;case 222:Xe=Re;break;case 15:case 51:le.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:Et==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=le.dateNF||ur[14],le.cellDates&&(Re[1].t="d",Re[1].v=H1(Re[1].v))),le.qpro&&Re[3]>Se&&(ae["!ref"]=Nr(he),Ce[xe]=ae,Ue.push(xe),ae=le.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},Se=Re[3],xe=Xe||"Sheet"+(Se+1),Xe="");var Ar=le.dense?(ae[Re[0].r]||[])[Re[0].c]:ae[ar(Re[0])];if(Ar){Ar.t=Re[1].t,Ar.v=Re[1].v,Re[1].z!=null&&(Ar.z=Re[1].z),Re[1].f!=null&&(Ar.f=Re[1].f);break}le.dense?(ae[Re[0].r]||(ae[Re[0].r]=[]),ae[Re[0].r][Re[0].c]=Re[1]):ae[ar(Re[0])]=Re[1];break}},le);else if(X[2]==26||X[2]==14)le.Enum=ge,X[2]==14&&(le.qpro=!0,X.l=0),e(X,function(Re,ht,Et){switch(Et){case 204:xe=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>Se&&(ae["!ref"]=Nr(he),Ce[xe]=ae,Ue.push(xe),ae=le.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},Se=Re[3],xe="Sheet"+(Se+1)),_t>0&&Re[0].r>=_t)break;le.dense?(ae[Re[0].r]||(ae[Re[0].r]=[]),ae[Re[0].r][Re[0].c]=Re[1]):ae[ar(Re[0])]=Re[1],he.e.c<Re[0].c&&(he.e.c=Re[0].c),he.e.r<Re[0].r&&(he.e.r=Re[0].r);break;case 27:Re[14e3]&&(xt[Re[14e3][0]]=Re[14e3][1]);break;case 1537:xt[Re[0]]=Re[1],Re[0]==Se&&(xe=Re[1]);break}},le);else throw new Error("Unrecognized LOTUS BOF "+X[2]);if(ae["!ref"]=Nr(he),Ce[Xe||xe]=ae,Ue.push(Xe||xe),!xt.length)return{SheetNames:Ue,Sheets:Ce};for(var Rt={},Ut=[],Ie=0;Ie<xt.length;++Ie)Ce[Ue[Ie]]?(Ut.push(xt[Ie]||Ue[Ie]),Rt[xt[Ie]]=Ce[xt[Ie]]||Ce[Ue[Ie]]):(Ut.push(xt[Ie]),Rt[xt[Ie]]={"!ref":"A1"});return{SheetNames:Ut,Sheets:Rt}}function n(X,ce){var le=ce||{};if(+le.codepage>=0&&Ws(+le.codepage),le.type=="string")throw new Error("Cannot write WK1 to JS string");var ae=Bm(),xe=Hn(X["!ref"]),Xe=Array.isArray(X),Se=[];Ps(ae,0,A(1030)),Ps(ae,6,p(xe));for(var Ce=Math.min(xe.e.r,8191),Ue=xe.s.r;Ue<=Ce;++Ue)for(var xt=Ha(Ue),he=xe.s.c;he<=xe.e.c;++he){Ue===xe.s.r&&(Se[he]=ga(he));var _t=Se[he]+xt,Rt=Xe?(X[Ue]||[])[he]:X[_t];if(!(!Rt||Rt.t=="z"))if(Rt.t=="n")(Rt.v|0)==Rt.v&&Rt.v>=-32768&&Rt.v<=32767?Ps(ae,13,N(Ue,he,Rt.v)):Ps(ae,14,F(Ue,he,Rt.v));else{var Ut=ZA(Rt);Ps(ae,15,b(Ue,he,Ut.slice(0,239)))}}return Ps(ae,1),ae.end()}function a(X,ce){var le=ce||{};if(+le.codepage>=0&&Ws(+le.codepage),le.type=="string")throw new Error("Cannot write WK3 to JS string");var ae=Bm();Ps(ae,0,c(X));for(var xe=0,Xe=0;xe<X.SheetNames.length;++xe)(X.Sheets[X.SheetNames[xe]]||{})["!ref"]&&Ps(ae,27,Ee(X.SheetNames[xe],Xe++));var Se=0;for(xe=0;xe<X.SheetNames.length;++xe){var Ce=X.Sheets[X.SheetNames[xe]];if(!(!Ce||!Ce["!ref"])){for(var Ue=Hn(Ce["!ref"]),xt=Array.isArray(Ce),he=[],_t=Math.min(Ue.e.r,8191),Rt=Ue.s.r;Rt<=_t;++Rt)for(var Ut=Ha(Rt),Ie=Ue.s.c;Ie<=Ue.e.c;++Ie){Rt===Ue.s.r&&(he[Ie]=ga(Ie));var Re=he[Ie]+Ut,ht=xt?(Ce[Rt]||[])[Ie]:Ce[Re];if(!(!ht||ht.t=="z"))if(ht.t=="n")Ps(ae,23,Y(Rt,Ie,Se,ht.v));else{var Et=ZA(ht);Ps(ae,22,U(Rt,Ie,Se,Et.slice(0,239)))}}++Se}}return Ps(ae,1),ae.end()}function A(X){var ce=ha(2);return ce.write_shift(2,X),ce}function c(X){var ce=ha(26);ce.write_shift(2,4096),ce.write_shift(2,4),ce.write_shift(4,0);for(var le=0,ae=0,xe=0,Xe=0;Xe<X.SheetNames.length;++Xe){var Se=X.SheetNames[Xe],Ce=X.Sheets[Se];if(!(!Ce||!Ce["!ref"])){++xe;var Ue=w0(Ce["!ref"]);le<Ue.e.r&&(le=Ue.e.r),ae<Ue.e.c&&(ae=Ue.e.c)}}return le>8191&&(le=8191),ce.write_shift(2,le),ce.write_shift(1,xe),ce.write_shift(1,ae),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(1,1),ce.write_shift(1,2),ce.write_shift(4,0),ce.write_shift(4,0),ce}function d(X,ce,le){var ae={s:{c:0,r:0},e:{c:0,r:0}};return ce==8&&le.qpro?(ae.s.c=X.read_shift(1),X.l++,ae.s.r=X.read_shift(2),ae.e.c=X.read_shift(1),X.l++,ae.e.r=X.read_shift(2),ae):(ae.s.c=X.read_shift(2),ae.s.r=X.read_shift(2),ce==12&&le.qpro&&(X.l+=2),ae.e.c=X.read_shift(2),ae.e.r=X.read_shift(2),ce==12&&le.qpro&&(X.l+=2),ae.s.c==65535&&(ae.s.c=ae.e.c=ae.s.r=ae.e.r=0),ae)}function p(X){var ce=ha(8);return ce.write_shift(2,X.s.c),ce.write_shift(2,X.s.r),ce.write_shift(2,X.e.c),ce.write_shift(2,X.e.r),ce}function m(X,ce,le){var ae=[{c:0,r:0},{t:"n",v:0},0,0];return le.qpro&&le.vers!=20768?(ae[0].c=X.read_shift(1),ae[3]=X.read_shift(1),ae[0].r=X.read_shift(2),X.l+=2):(ae[2]=X.read_shift(1),ae[0].c=X.read_shift(2),ae[0].r=X.read_shift(2)),ae}function y(X,ce,le){var ae=X.l+ce,xe=m(X,ce,le);if(xe[1].t="s",le.vers==20768){X.l++;var Xe=X.read_shift(1);return xe[1].v=X.read_shift(Xe,"utf8"),xe}return le.qpro&&X.l++,xe[1].v=X.read_shift(ae-X.l,"cstr"),xe}function b(X,ce,le){var ae=ha(7+le.length);ae.write_shift(1,255),ae.write_shift(2,ce),ae.write_shift(2,X),ae.write_shift(1,39);for(var xe=0;xe<ae.length;++xe){var Xe=le.charCodeAt(xe);ae.write_shift(1,Xe>=128?95:Xe)}return ae.write_shift(1,0),ae}function I(X,ce,le){var ae=m(X,ce,le);return ae[1].v=X.read_shift(2,"i"),ae}function N(X,ce,le){var ae=ha(7);return ae.write_shift(1,255),ae.write_shift(2,ce),ae.write_shift(2,X),ae.write_shift(2,le,"i"),ae}function R(X,ce,le){var ae=m(X,ce,le);return ae[1].v=X.read_shift(8,"f"),ae}function F(X,ce,le){var ae=ha(13);return ae.write_shift(1,255),ae.write_shift(2,ce),ae.write_shift(2,X),ae.write_shift(8,le,"f"),ae}function D(X,ce,le){var ae=X.l+ce,xe=m(X,ce,le);if(xe[1].v=X.read_shift(8,"f"),le.qpro)X.l=ae;else{var Xe=X.read_shift(2);re(X.slice(X.l,X.l+Xe),xe),X.l+=Xe}return xe}function K(X,ce,le){var ae=ce&32768;return ce&=-32769,ce=(ae?X:0)+(ce>=8192?ce-16384:ce),(ae?"":"$")+(le?ga(ce):Ha(ce))}var W={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},H=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function re(X,ce){Ma(X,0);for(var le=[],ae=0,xe="",Xe="",Se="",Ce="";X.l<X.length;){var Ue=X[X.l++];switch(Ue){case 0:le.push(X.read_shift(8,"f"));break;case 1:Xe=K(ce[0].c,X.read_shift(2),!0),xe=K(ce[0].r,X.read_shift(2),!1),le.push(Xe+xe);break;case 2:{var xt=K(ce[0].c,X.read_shift(2),!0),he=K(ce[0].r,X.read_shift(2),!1);Xe=K(ce[0].c,X.read_shift(2),!0),xe=K(ce[0].r,X.read_shift(2),!1),le.push(xt+he+":"+Xe+xe)}break;case 3:if(X.l<X.length){console.error("WK1 premature formula end");return}break;case 4:le.push("("+le.pop()+")");break;case 5:le.push(X.read_shift(2));break;case 6:{for(var _t="";Ue=X[X.l++];)_t+=String.fromCharCode(Ue);le.push('"'+_t.replace(/"/g,'""')+'"')}break;case 8:le.push("-"+le.pop());break;case 23:le.push("+"+le.pop());break;case 22:le.push("NOT("+le.pop()+")");break;case 20:case 21:Ce=le.pop(),Se=le.pop(),le.push(["AND","OR"][Ue-20]+"("+Se+","+Ce+")");break;default:if(Ue<32&&H[Ue])Ce=le.pop(),Se=le.pop(),le.push(Se+H[Ue]+Ce);else if(W[Ue]){if(ae=W[Ue][1],ae==69&&(ae=X[X.l++]),ae>le.length){console.error("WK1 bad formula parse 0x"+Ue.toString(16)+":|"+le.join("|")+"|");return}var Rt=le.slice(-ae);le.length-=ae,le.push(W[Ue][0]+"("+Rt.join(",")+")")}else return Ue<=7?console.error("WK1 invalid opcode "+Ue.toString(16)):Ue<=24?console.error("WK1 unsupported op "+Ue.toString(16)):Ue<=30?console.error("WK1 invalid opcode "+Ue.toString(16)):Ue<=115?console.error("WK1 unsupported function opcode "+Ue.toString(16)):console.error("WK1 unrecognized opcode "+Ue.toString(16))}}le.length==1?ce[1].f=""+le[0]:console.error("WK1 bad formula parse |"+le.join("|")+"|")}function de(X){var ce=[{c:0,r:0},{t:"n",v:0},0];return ce[0].r=X.read_shift(2),ce[3]=X[X.l++],ce[0].c=X[X.l++],ce}function ee(X,ce){var le=de(X);return le[1].t="s",le[1].v=X.read_shift(ce-4,"cstr"),le}function U(X,ce,le,ae){var xe=ha(6+ae.length);xe.write_shift(2,X),xe.write_shift(1,le),xe.write_shift(1,ce),xe.write_shift(1,39);for(var Xe=0;Xe<ae.length;++Xe){var Se=ae.charCodeAt(Xe);xe.write_shift(1,Se>=128?95:Se)}return xe.write_shift(1,0),xe}function Q(X,ce){var le=de(X);le[1].v=X.read_shift(2);var ae=le[1].v>>1;if(le[1].v&1)switch(ae&7){case 0:ae=(ae>>3)*5e3;break;case 1:ae=(ae>>3)*500;break;case 2:ae=(ae>>3)/20;break;case 3:ae=(ae>>3)/200;break;case 4:ae=(ae>>3)/2e3;break;case 5:ae=(ae>>3)/2e4;break;case 6:ae=(ae>>3)/16;break;case 7:ae=(ae>>3)/64;break}return le[1].v=ae,le}function k(X,ce){var le=de(X),ae=X.read_shift(4),xe=X.read_shift(4),Xe=X.read_shift(2);if(Xe==65535)return ae===0&&xe===3221225472?(le[1].t="e",le[1].v=15):ae===0&&xe===3489660928?(le[1].t="e",le[1].v=42):le[1].v=0,le;var Se=Xe&32768;return Xe=(Xe&32767)-16446,le[1].v=(1-Se*2)*(xe*Math.pow(2,Xe+32)+ae*Math.pow(2,Xe)),le}function Y(X,ce,le,ae){var xe=ha(14);if(xe.write_shift(2,X),xe.write_shift(1,le),xe.write_shift(1,ce),ae==0)return xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(2,65535),xe;var Xe=0,Se=0,Ce=0,Ue=0;return ae<0&&(Xe=1,ae=-ae),Se=Math.log2(ae)|0,ae/=Math.pow(2,Se-31),Ue=ae>>>0,(Ue&2147483648)==0&&(ae/=2,++Se,Ue=ae>>>0),ae-=Ue,Ue|=2147483648,Ue>>>=0,ae*=Math.pow(2,32),Ce=ae>>>0,xe.write_shift(4,Ce),xe.write_shift(4,Ue),Se+=16383+(Xe?32768:0),xe.write_shift(2,Se),xe}function q(X,ce){var le=k(X);return X.l+=ce-14,le}function V(X,ce){var le=de(X),ae=X.read_shift(4);return le[1].v=ae>>6,le}function z(X,ce){var le=de(X),ae=X.read_shift(8,"f");return le[1].v=ae,le}function ze(X,ce){var le=z(X);return X.l+=ce-10,le}function ve(X,ce){return X[X.l+ce-1]==0?X.read_shift(ce,"cstr"):""}function me(X,ce){var le=X[X.l++];le>ce-1&&(le=ce-1);for(var ae="";ae.length<le;)ae+=String.fromCharCode(X[X.l++]);return ae}function oe(X,ce,le){if(!(!le.qpro||ce<21)){var ae=X.read_shift(1);X.l+=17,X.l+=1,X.l+=2;var xe=X.read_shift(ce-21,"cstr");return[ae,xe]}}function Pe(X,ce){for(var le={},ae=X.l+ce;X.l<ae;){var xe=X.read_shift(2);if(xe==14e3){for(le[xe]=[0,""],le[xe][0]=X.read_shift(2);X[X.l];)le[xe][1]+=String.fromCharCode(X[X.l]),X.l++;X.l++}}return le}function Ee(X,ce){var le=ha(5+X.length);le.write_shift(2,14e3),le.write_shift(2,ce);for(var ae=0;ae<X.length;++ae){var xe=X.charCodeAt(ae);le[le.l++]=xe>127?95:xe}return le[le.l++]=0,le}var $e={0:{n:"BOF",f:Aa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:I},14:{n:"NUMBER",f:R},15:{n:"LABEL",f:y},16:{n:"FORMULA",f:D},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:y},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ve},222:{n:"SHEETNAMELP",f:me},65535:{n:""}},ge={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ee},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:Q},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Pe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:ze},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ve},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:oe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function l9(e){var t={},r=e.match(oi),n=0,a=!1;if(r)for(;n!=r.length;++n){var A=Jt(r[n]);switch(A[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!A.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(A.val=="1")break;t.cp=p2[parseInt(A.val,10)];break;case"<outline":if(!A.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=A.val;break;case"<sz":t.sz=A.val;break;case"<strike":if(!A.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!A.val)break;switch(A.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(A.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(A.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":A.rgb&&(t.color=A.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=A.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=A.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(A[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+A[0])}}return t}var c9=(function(){var e=tf("t"),t=tf("rPr");function r(A){var c=A.match(e);if(!c)return{t:"s",v:""};var d={t:"s",v:Or(c[1])},p=A.match(t);return p&&(d.s=l9(p[1])),d}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(c){return c.replace(n,"").split(a).map(r).filter(function(d){return d.v})}})(),u9=(function(){var t=/(\r\n|\n)/g;function r(a,A,c){var d=[];a.u&&d.push("text-decoration: underline;"),a.uval&&d.push("text-underline-style:"+a.uval+";"),a.sz&&d.push("font-size:"+a.sz+"pt;"),a.outline&&d.push("text-effect: outline;"),a.shadow&&d.push("text-shadow: auto;"),A.push('<span style="'+d.join("")+'">'),a.b&&(A.push("<b>"),c.push("</b>")),a.i&&(A.push("<i>"),c.push("</i>")),a.strike&&(A.push("<s>"),c.push("</s>"));var p=a.valign||"";return p=="superscript"||p=="super"?p="sup":p=="subscript"&&(p="sub"),p!=""&&(A.push("<"+p+">"),c.push("</"+p+">")),c.push("</span>"),a}function n(a){var A=[[],a.v,[]];return a.v?(a.s&&r(a.s,A[0],A[2]),A[0].join("")+A[1].replace(t,"<br/>")+A[2].join("")):""}return function(A){return A.map(n).join("")}})(),f9=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,h9=/<(?:\w+:)?r>/,d9=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function O2(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Or(hn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=hn(e),r&&(n.h=B2(n.t))):e.match(h9)&&(n.r=hn(e),n.t=Or(hn((e.replace(d9,"").match(f9)||[]).join("").replace(oi,""))),r&&(n.h=u9(c9(n.r)))),n):{t:""}}var g9=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,x9=/<(?:\w+:)?(?:si|sstItem)>/g,p9=/<\/(?:\w+:)?(?:si|sstItem)>/;function m9(e,t){var r=[],n="";if(!e)return r;var a=e.match(g9);if(a){n=a[2].replace(x9,"").split(p9);for(var A=0;A!=n.length;++A){var c=O2(n[A].trim(),t);c!=null&&(r[r.length]=c)}a=Jt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function w9(e){return[e.read_shift(4),e.read_shift(4)]}function v9(e,t){var r=[],n=!1;return ao(e,function(A,c,d){switch(d){case 159:r.Count=A[0],r.Unique=A[1];break;case 19:r.push(A);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(c.T,!n||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}function O3(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function YA(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function y9(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=YA(e,4),t.U=YA(e,4),t.W=YA(e,4),t}function E9(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),A=[];a-- >0;)A.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=A,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function C9(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(E9(e));return t}function B9(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function b9(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=YA(e,4),t.U=YA(e,4),t.W=YA(e,4),t}function _9(e){var t=b9(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function U3(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function k3(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function T9(e){var t=YA(e);switch(t.Minor){case 2:return[t.Minor,I9(e)];case 3:return[t.Minor,S9()];case 4:return[t.Minor,N9(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function I9(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=U3(e,r),a=k3(e,e.length-e.l);return{t:"Std",h:n,v:a}}function S9(){throw new Error("File is password-protected: ECMA-376 Extensible")}function N9(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(oi,function(A){var c=Jt(A);switch(xA(c[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(d){n[d]=c[d]});break;case"<dataIntegrity":n.encryptedHmacKey=c.encryptedHmacKey,n.encryptedHmacValue=c.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=c.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(c);break;default:throw c[0]}}),n}function F9(e,t){var r={},n=r.EncryptionVersionInfo=YA(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=U3(e,a),t-=a,r.EncryptionVerifier=k3(e,t),r}function R9(e){var t={},r=t.EncryptionVersionInfo=YA(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function D9(e){var t=0,r,n=O3(e),a=n.length+1,A,c,d,p,m;for(r=Zo(a),r[0]=n.length,A=1;A!=a;++A)r[A]=n[A-1];for(A=a-1;A>=0;--A)c=r[A],d=(t&16384)===0?0:1,p=t<<1&32767,m=d|p,t=m^c;return t^52811}var M3=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(c){return(c/2|c*128)&255},a=function(c,d){return n(c^d)},A=function(c){for(var d=t[c.length-1],p=104,m=c.length-1;m>=0;--m)for(var y=c[m],b=0;b!=7;++b)y&64&&(d^=r[p]),y*=2,--p;return d};return function(c){for(var d=O3(c),p=A(d),m=d.length,y=Zo(16),b=0;b!=16;++b)y[b]=0;var I,N,R;for((m&1)===1&&(I=p>>8,y[m]=a(e[0],I),--m,I=p&255,N=d[d.length-1],y[m]=a(N,I));m>0;)--m,I=p>>8,y[m]=a(d[m],I),--m,I=p&255,y[m]=a(d[m],I);for(m=15,R=15-d.length;R>0;)I=p>>8,y[m]=a(e[R],I),--m,--R,I=p&255,y[m]=a(d[m],I),--m,--R;return y}})(),O9=function(e,t,r,n,a){a||(a=t),n||(n=M3(e));var A,c;for(A=0;A!=t.length;++A)c=t[A],c^=n[r],c=(c>>5|c<<3)&255,a[A]=c,++r;return[a,r,n]},U9=function(e){var t=0,r=M3(e);return function(n){var a=O9("",n,t,r);return t=a[1],a[0]}};function k9(e,t,r,n){var a={key:Aa(e),verificationBytes:Aa(e)};return r.password&&(a.verifier=D9(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=U9(r.password)),a}function M9(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=R9(e):n.Data=F9(e,t),n}function L9(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?M9(e,t-2,n):k9(e,r.biff>=8?t:t-2,r,n),n}var Q9=(function(){function e(a,A){switch(A.type){case"base64":return t(cs(a),A);case"binary":return t(a,A);case"buffer":return t(_r&&Buffer.isBuffer(a)?a.toString("binary"):Zl(a),A);case"array":return t(Gl(a),A)}throw new Error("Unrecognized type "+A.type)}function t(a,A){var c=A||{},d=c.dense?[]:{},p=a.match(/\\trowd.*?\\row\b/g);if(!p.length)throw new Error("RTF missing table");var m={s:{c:0,r:0},e:{c:0,r:p.length-1}};return p.forEach(function(y,b){Array.isArray(d)&&(d[b]=[]);for(var I=/\\\w+\b/g,N=0,R,F=-1;R=I.exec(y);){switch(R[0]){case"\\cell":var D=y.slice(N,I.lastIndex-R[0].length);if(D[0]==" "&&(D=D.slice(1)),++F,D.length){var K={v:D,t:"s"};Array.isArray(d)?d[b][F]=K:d[ar({r:b,c:F})]=K}break}N=I.lastIndex}F>m.e.c&&(m.e.c=F)}),d["!ref"]=Nr(m),d}function r(a,A){return al(e(a,A),A)}function n(a){for(var A=["{\\rtf1\\ansi"],c=Hn(a["!ref"]),d,p=Array.isArray(a),m=c.s.r;m<=c.e.r;++m){A.push("\\trowd\\trautofit1");for(var y=c.s.c;y<=c.e.c;++y)A.push("\\cellx"+(y+1));for(A.push("\\pard\\intbl"),y=c.s.c;y<=c.e.c;++y){var b=ar({r:m,c:y});d=p?(a[m]||[])[y]:a[b],!(!d||d.v==null&&(!d.f||d.F))&&(A.push(" "+(d.w||(ZA(d),d.w))),A.push("\\cell"))}A.push("\\pard\\intbl\\row")}return A.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function j9(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function af(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function H9(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),A=Math.min(t,r,n),c=a-A;if(c===0)return[0,0,t];var d=0,p=0,m=a+A;switch(p=c/(m>1?2-m:m),a){case t:d=((r-n)/c+6)%6;break;case r:d=(n-t)/c+2;break;case n:d=(t-r)/c+4;break}return[d/6,p,m/2]}function P9(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),A=n-a/2,c=[A,A,A],d=6*t,p;if(r!==0)switch(d|0){case 0:case 6:p=a*d,c[0]+=a,c[1]+=p;break;case 1:p=a*(2-d),c[0]+=p,c[1]+=a;break;case 2:p=a*(d-2),c[1]+=a,c[2]+=p;break;case 3:p=a*(4-d),c[1]+=p,c[2]+=a;break;case 4:p=a*(d-4),c[2]+=a,c[0]+=p;break;case 5:p=a*(6-d),c[2]+=p,c[0]+=a;break}for(var m=0;m!=3;++m)c[m]=Math.round(c[m]*255);return c}function A1(e,t){if(t===0)return e;var r=H9(j9(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),af(P9(r))}var L3=6,V9=15,G9=1,mi=L3;function o1(e){return Math.floor((e+Math.round(128/mi)/256)*mi)}function l1(e){return Math.floor((e-5)/mi*100+.5)/100}function Im(e){return Math.round((e*mi+5)/mi*256)/256}function Rp(e){return Im(l1(o1(e)))}function U2(e){var t=Math.abs(e-Rp(e)),r=mi;if(t>.005)for(mi=G9;mi<V9;++mi)Math.abs(e-Rp(e))<=t&&(t=Math.abs(e-Rp(e)),r=mi);mi=r}function l0(e){e.width?(e.wpx=o1(e.width),e.wch=l1(e.wpx),e.MDW=mi):e.wpx?(e.wch=l1(e.wpx),e.width=Im(e.wch),e.MDW=mi):typeof e.wch=="number"&&(e.width=Im(e.wch),e.wpx=o1(e.width),e.MDW=mi),e.customWidth&&delete e.customWidth}var K9=96,Q3=K9;function j3(e){return e*96/Q3}function sf(e){return e*Q3/96}var z9={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function W9(e,t,r,n){t.Borders=[];var a={},A=!1;(e[0].match(oi)||[]).forEach(function(c){var d=Jt(c);switch(xA(d[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},d.diagonalUp&&(a.diagonalUp=Bn(d.diagonalUp)),d.diagonalDown&&(a.diagonalDown=Bn(d.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":A=!0;break;case"</ext>":A=!1;break;default:if(n&&n.WTF&&!A)throw new Error("unrecognized "+d[0]+" in borders")}})}function X9(e,t,r,n){t.Fills=[];var a={},A=!1;(e[0].match(oi)||[]).forEach(function(c){var d=Jt(c);switch(xA(d[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":d.patternType&&(a.patternType=d.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),d.indexed&&(a.bgColor.indexed=parseInt(d.indexed,10)),d.theme&&(a.bgColor.theme=parseInt(d.theme,10)),d.tint&&(a.bgColor.tint=parseFloat(d.tint)),d.rgb&&(a.bgColor.rgb=d.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),d.theme&&(a.fgColor.theme=parseInt(d.theme,10)),d.tint&&(a.fgColor.tint=parseFloat(d.tint)),d.rgb!=null&&(a.fgColor.rgb=d.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":A=!0;break;case"</ext>":A=!1;break;default:if(n&&n.WTF&&!A)throw new Error("unrecognized "+d[0]+" in fills")}})}function Y9(e,t,r,n){t.Fonts=[];var a={},A=!1;(e[0].match(oi)||[]).forEach(function(c){var d=Jt(c);switch(xA(d[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":d.val&&(a.name=hn(d.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=d.val?Bn(d.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=d.val?Bn(d.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(d.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=d.val?Bn(d.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=d.val?Bn(d.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=d.val?Bn(d.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=d.val?Bn(d.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=d.val?Bn(d.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":d.val&&(a.sz=+d.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":d.val&&(a.vertAlign=d.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":d.val&&(a.family=parseInt(d.val,10));break;case"<family/>":case"</family>":break;case"<scheme":d.val&&(a.scheme=d.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(d.val=="1")break;d.codepage=p2[parseInt(d.val,10)];break;case"<color":if(a.color||(a.color={}),d.auto&&(a.color.auto=Bn(d.auto)),d.rgb)a.color.rgb=d.rgb.slice(-6);else if(d.indexed){a.color.index=parseInt(d.indexed,10);var p=jl[a.color.index];a.color.index==81&&(p=jl[1]),p||(p=jl[1]),a.color.rgb=p[0].toString(16)+p[1].toString(16)+p[2].toString(16)}else d.theme&&(a.color.theme=parseInt(d.theme,10),d.tint&&(a.color.tint=parseFloat(d.tint)),d.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=A1(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":A=!0;break;case"</AlternateContent>":A=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":A=!0;break;case"</ext>":A=!1;break;default:if(n&&n.WTF&&!A)throw new Error("unrecognized "+d[0]+" in fonts")}})}function q9(e,t,r){t.NumberFmt=[];for(var n=fA(ur),a=0;a<n.length;++a)t.NumberFmt[n[a]]=ur[n[a]];var A=e[0].match(oi);if(A)for(a=0;a<A.length;++a){var c=Jt(A[a]);switch(xA(c[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var d=Or(hn(c.formatCode)),p=parseInt(c.numFmtId,10);if(t.NumberFmt[p]=d,p>0){if(p>392){for(p=392;p>60&&t.NumberFmt[p]!=null;--p);t.NumberFmt[p]=d}Ql(d,p)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+c[0]+" in numFmts")}}}var xd=["numFmtId","fillId","fontId","borderId","xfId"],pd=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function J9(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(oi)||[]).forEach(function(A){var c=Jt(A),d=0;switch(xA(c[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=c,delete n[0],d=0;d<xd.length;++d)n[xd[d]]&&(n[xd[d]]=parseInt(n[xd[d]],10));for(d=0;d<pd.length;++d)n[pd[d]]&&(n[pd[d]]=Bn(n[pd[d]]));if(t.NumberFmt&&n.numFmtId>392){for(d=392;d>60;--d)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[d]){n.numFmtId=d;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var p={};c.vertical&&(p.vertical=c.vertical),c.horizontal&&(p.horizontal=c.horizontal),c.textRotation!=null&&(p.textRotation=c.textRotation),c.indent&&(p.indent=c.indent),c.wrapText&&(p.wrapText=Bn(c.wrapText)),n.alignment=p;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+c[0]+" in cellXfs")}})}var Z9=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,A=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(d,p,m){var y={};if(!d)return y;d=d.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var b;return(b=d.match(t))&&q9(b,y,m),(b=d.match(a))&&Y9(b,y,p,m),(b=d.match(n))&&X9(b,y,p,m),(b=d.match(A))&&W9(b,y,p,m),(b=d.match(r))&&J9(b,y,m),y}})();function $9(e,t){var r=e.read_shift(2),n=ii(e);return[r,n]}function eL(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=ck(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var A=e.read_shift(2);switch(A===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var c=e.read_shift(1);c!=0&&(n.underline=c);var d=e.read_shift(1);d>0&&(n.family=d);var p=e.read_shift(1);switch(p>0&&(n.charset=p),e.l++,n.color=lk(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ii(e),n}var tL=Ai;function rL(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var nL=Ai;function aL(e,t,r){var n={};n.NumberFmt=[];for(var a in ur)n.NumberFmt[a]=ur[a];n.CellXf=[],n.Fonts=[];var A=[],c=!1;return ao(e,function(p,m,y){switch(y){case 44:n.NumberFmt[p[0]]=p[1],Ql(p[1],p[0]);break;case 43:n.Fonts.push(p),p.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(p.color.rgb=A1(t.themeElements.clrScheme[p.color.theme].rgb,p.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:A[A.length-1]==617&&n.CellXf.push(p);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:c=!0;break;case 36:c=!1;break;case 37:A.push(y),c=!0;break;case 38:A.pop(),c=!1;break;default:if(m.T>0)A.push(y);else if(m.T<0)A.pop();else if(!c||r.WTF&&A[A.length-1]!=37)throw new Error("Unexpected record 0x"+y.toString(16))}}),n}var iL=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function sL(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(oi)||[]).forEach(function(a){var A=Jt(a);switch(A[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=A.val;break;case"<a:sysClr":n.rgb=A.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":A[0].charAt(1)==="/"?(t.themeElements.clrScheme[iL.indexOf(A[0])]=n,n={}):n.name=A[0].slice(3,A[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+A[0]+" in clrScheme")}})}function AL(){}function oL(){}var lL=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,cL=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,uL=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function fL(e,t,r){t.themeElements={};var n;[["clrScheme",lL,sL],["fontScheme",cL,AL],["fmtScheme",uL,oL]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var hL=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function H3(e,t){(!e||e.length===0)&&(e=dL());var r,n={};if(!(r=e.match(hL)))throw new Error("themeElements not found in theme");return fL(r[0],n,t),n.raw=e,n}function dL(e,t){var r=[ZT];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function gL(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var A=e.slice(e.l);e.l=n;var c;try{c=JT(A,{type:"array"})}catch{return}var d=As(c,"theme/theme/theme1.xml",!0);if(d)return H3(d,r)}}function xL(e){return e.read_shift(4)}function pL(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=mL(e,4);break;case 2:t.xclrValue=T3(e);break;case 3:t.xclrValue=xL(e);break;case 4:e.l+=4;break}return e.l+=8,t}function mL(e,t){return Ai(e,t)}function wL(e,t){return Ai(e,t)}function vL(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=pL(e);break;case 6:n[1]=wL(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function yL(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),A=[];a-- >0;)A.push(vL(e,r-e.l));return{ixfe:n,ext:A}}function EL(e,t){t.forEach(function(r){r[0]})}function CL(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ii(e)}}function BL(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function bL(e){return e.l+=4,e.read_shift(4)!=0}function _L(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},A=[],c=!1,d=2;return ao(e,function(p,m,y){switch(y){case 335:n.Types.push({name:p.name});break;case 51:p.forEach(function(b){d==1?n.Cell.push({type:n.Types[b[0]-1].name,index:b[1]}):d==0&&n.Value.push({type:n.Types[b[0]-1].name,index:b[1]})});break;case 337:d=p?1:0;break;case 338:d=2;break;case 35:A.push(y),c=!0;break;case 36:A.pop(),c=!1;break;default:if(!m.T){if(!c||a.WTF&&A[A.length-1]!=35)throw new Error("Unexpected record 0x"+y.toString(16))}}}),n}function TL(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,A=2,c;return e.replace(oi,function(d){var p=Jt(d);switch(xA(p[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:p.name});break;case"</metadataType>":break;case"<futureMetadata":for(var m=0;m<n.Types.length;++m)n.Types[m].name==p.name&&(c=n.Types[m]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":A==1?n.Cell.push({type:n.Types[p.t-1].name,index:+p.v}):A==0&&n.Value.push({type:n.Types[p.t-1].name,index:+p.v});break;case"</rc>":break;case"<cellMetadata":A=1;break;case"</cellMetadata>":A=2;break;case"<valueMetadata":A=0;break;case"</valueMetadata>":A=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!c)break;c.offsets||(c.offsets=[]),c.offsets.push(+p.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+p[0]+" in metadata")}return d}),n}function IL(e){var t=[];if(!e)return t;var r=1;return(e.match(oi)||[]).forEach(function(n){var a=Jt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function SL(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ar(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function NL(e,t,r){var n=[];return ao(e,function(A,c,d){switch(d){case 63:n.push(A);break;default:if(!c.T)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function FL(e,t,r,n){if(!e)return e;var a=n||{},A=!1;ao(e,function(d,p,m){switch(m){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:A=!0;break;case 36:A=!1;break;default:if(!p.T){if(!A||a.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}},a)}function RL(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function OB(e,t,r,n){var a=Array.isArray(e),A;t.forEach(function(c){var d=wi(c.ref);if(a?(e[d.r]||(e[d.r]=[]),A=e[d.r][d.c]):A=e[c.ref],!A){A={t:"z"},a?e[d.r][d.c]=A:e[c.ref]=A;var p=Hn(e["!ref"]||"BDWGO1000001:A1");p.s.r>d.r&&(p.s.r=d.r),p.e.r<d.r&&(p.e.r=d.r),p.s.c>d.c&&(p.s.c=d.c),p.e.c<d.c&&(p.e.c=d.c);var m=Nr(p);m!==e["!ref"]&&(e["!ref"]=m)}A.c||(A.c=[]);var y={a:c.author,t:c.t,r:c.r,T:r};c.h&&(y.h=c.h);for(var b=A.c.length-1;b>=0;--b){if(!r&&A.c[b].T)return;r&&!A.c[b].T&&A.c.splice(b,1)}if(r&&n){for(b=0;b<n.length;++b)if(y.a==n[b].id){y.a=n[b].name||y.a;break}}A.c.push(y)})}function DL(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(c){if(!(c===""||c.trim()==="")){var d=c.match(/<(?:\w+:)?author[^>]*>(.*)/);d&&r.push(d[1])}});var A=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return A&&A[1]&&A[1].split(/<\/\w*:?comment>/).forEach(function(c){if(!(c===""||c.trim()==="")){var d=c.match(/<(?:\w+:)?comment[^>]*>/);if(d){var p=Jt(d[0]),m={author:p.authorId&&r[p.authorId]||"sheetjsghost",ref:p.ref,guid:p.guid},y=wi(p.ref);if(!(t.sheetRows&&t.sheetRows<=y.r)){var b=c.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),I=!!b&&!!b[1]&&O2(b[1])||{r:"",t:"",h:""};m.r=I.r,I.r=="<t></t>"&&(I.t=I.h=""),m.t=(I.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(m.h=I.h),n.push(m)}}}}),n}function OL(e,t){var r=[],n=!1,a={},A=0;return e.replace(oi,function(d,p){var m=Jt(d);switch(xA(m[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:m.personId,guid:m.id,ref:m.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":A=p+d.length;break;case"</text>":a.t=e.slice(A,p).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+m[0]+" in threaded comments")}return d}),r}function UL(e,t){var r=[],n=!1;return e.replace(oi,function(A){var c=Jt(A);switch(xA(c[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:c.displayname,id:c.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return A}),r}function kL(e){var t={};t.iauthor=e.read_shift(4);var r=ec(e);return t.rfx=r.s,t.ref=ar(r.s),e.l+=16,t}var ML=ii;function LL(e,t){var r=[],n=[],a={},A=!1;return ao(e,function(d,p,m){switch(m){case 632:n.push(d);break;case 635:a=d;break;case 637:a.t=d.t,a.h=d.h,a.r=d.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:A=!0;break;case 36:A=!1;break;case 37:break;case 38:break;default:if(!p.T){if(!A||t.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}),r}var QL="application/vnd.ms-office.vbaProject";function jL(e){var t=Sr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Sr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Sr.write(t)}function HL(){return{"!type":"dialog"}}function PL(){return{"!type":"dialog"}}function VL(){return{"!type":"macro"}}function GL(){return{"!type":"macro"}}var n0=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,A,c){var d=!1,p=!1;A.length==0?p=!0:A.charAt(0)=="["&&(p=!0,A=A.slice(1,-1)),c.length==0?d=!0:c.charAt(0)=="["&&(d=!0,c=c.slice(1,-1));var m=A.length>0?parseInt(A,10)|0:0,y=c.length>0?parseInt(c,10)|0:0;return d?y+=t.c:--y,p?m+=t.r:--m,a+(d?"":"$")+ga(y)+(p?"":"$")+Ha(m)}return function(a,A){return t=A,a.replace(e,r)}})(),P3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,KL=(function(){return function(t,r){return t.replace(P3,function(n,a,A,c,d,p){var m=I2(c)-(A?0:r.c),y=T2(p)-(d?0:r.r),b=y==0?"":d?y+1:"["+y+"]",I=m==0?"":A?m+1:"["+m+"]";return a+"R"+b+"C"+I})}})();function V3(e,t){return e.replace(P3,function(r,n,a,A,c,d){return n+(a=="$"?a+A:ga(I2(A)+t.c))+(c=="$"?c+d:Ha(T2(d)+t.r))})}function zL(e,t,r){var n=w0(t),a=n.s,A=wi(r),c={r:A.r-a.r,c:A.c-a.c};return V3(e,c)}function WL(e){return e.length!=1}function UB(e){return e.replace(/_xlfn\./g,"")}function aa(e){e.l+=1}function $o(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function G3(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return K3(e);r.biff==12&&(n=4)}var a=e.read_shift(n),A=e.read_shift(n),c=$o(e),d=$o(e);return{s:{r:a,c:c[0],cRel:c[1],rRel:c[2]},e:{r:A,c:d[0],cRel:d[1],rRel:d[2]}}}function K3(e){var t=$o(e),r=$o(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function XL(e,t,r){if(r.biff<8)return K3(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),A=$o(e),c=$o(e);return{s:{r:n,c:A[0],cRel:A[1],rRel:A[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function z3(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return YL(e);var n=e.read_shift(r&&r.biff==12?4:2),a=$o(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function YL(e){var t=$o(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function qL(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function JL(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ZL(e);var a=e.read_shift(n>=12?4:2),A=e.read_shift(2),c=(A&16384)>>14,d=(A&32768)>>15;if(A&=16383,d==1)for(;a>524287;)a-=1048576;if(c==1)for(;A>8191;)A=A-16384;return{r:a,c:A,cRel:c,rRel:d}}function ZL(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function $L(e,t,r){var n=(e[e.l++]&96)>>5,a=G3(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function e7(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),A=8;if(r)switch(r.biff){case 5:e.l+=12,A=6;break;case 12:A=12;break}var c=G3(e,A,r);return[n,a,c]}function t7(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function r7(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),A=8;if(r)switch(r.biff){case 5:e.l+=12,A=6;break;case 12:A=12;break}return e.l+=A,[n,a]}function n7(e,t,r){var n=(e[e.l++]&96)>>5,a=XL(e,t-1,r);return[n,a]}function a7(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function kB(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function i7(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],A=0;A<=n;++A)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function s7(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function A7(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function o7(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function l7(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function W3(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function c7(e){return e.read_shift(2),W3(e)}function u7(e){return e.read_shift(2),W3(e)}function f7(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=z3(e,0,r);return[n,a]}function h7(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=JL(e,0,r);return[n,a]}function d7(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var A=z3(e,0,r);return[n,a,A]}function g7(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[xQ[a],q3[a],n]}function x7(e,t,r){var n=e[e.l++],a=e.read_shift(1),A=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:p7(e);return[a,(A[0]===0?q3:gQ)[A[1]]]}function p7(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function m7(e,t,r){e.l+=r&&r.biff==2?3:4}function w7(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function v7(e){return e.l++,tc[e.read_shift(1)]}function y7(e){return e.l++,e.read_shift(2)}function E7(e){return e.l++,e.read_shift(1)!==0}function C7(e){return e.l++,ni(e)}function B7(e,t,r){return e.l++,wf(e,t-1,r)}function b7(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Xn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=tc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ni(e);break;case 2:r[1]=rc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function _7(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],A=0;A!=n;++A)a.push((r.biff==12?ec:P1)(e));return a}function T7(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var A=0,c=[];A!=n&&(c[A]=[]);++A)for(var d=0;d!=a;++d)c[A][d]=b7(e,r.biff);return c}function I7(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,A=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,A]}function S7(e,t,r){if(r.biff==5)return N7(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),A=e.read_shift(4);return[n,a,A]}function N7(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function F7(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function R7(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function D7(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function O7(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),A=4;if(r)switch(r.biff){case 5:A=15;break;case 12:A=6;break}return e.l+=A,[n,a]}var U7=Ai,k7=Ai,M7=Ai;function yf(e,t,r){return e.l+=2,[qL(e)]}function k2(e){return e.l+=6,[]}var L7=yf,Q7=k2,j7=k2,H7=yf;function X3(e){return e.l+=2,[Aa(e),e.read_shift(2)&1]}var P7=yf,V7=X3,G7=k2,K7=yf,z7=yf,W7=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function X7(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),A=e.read_shift(2),c=W7[r>>2&31];return{ixti:t,coltype:r&3,rt:c,idx:n,c:a,C:A}}function Y7(e){return e.l+=2,[e.read_shift(4)]}function q7(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function J7(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Z7(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function $7(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function eQ(e){return e.l+=4,[0,0]}var MB={1:{n:"PtgExp",f:w7},2:{n:"PtgTbl",f:M7},3:{n:"PtgAdd",f:aa},4:{n:"PtgSub",f:aa},5:{n:"PtgMul",f:aa},6:{n:"PtgDiv",f:aa},7:{n:"PtgPower",f:aa},8:{n:"PtgConcat",f:aa},9:{n:"PtgLt",f:aa},10:{n:"PtgLe",f:aa},11:{n:"PtgEq",f:aa},12:{n:"PtgGe",f:aa},13:{n:"PtgGt",f:aa},14:{n:"PtgNe",f:aa},15:{n:"PtgIsect",f:aa},16:{n:"PtgUnion",f:aa},17:{n:"PtgRange",f:aa},18:{n:"PtgUplus",f:aa},19:{n:"PtgUminus",f:aa},20:{n:"PtgPercent",f:aa},21:{n:"PtgParen",f:aa},22:{n:"PtgMissArg",f:aa},23:{n:"PtgStr",f:B7},26:{n:"PtgSheet",f:q7},27:{n:"PtgEndSheet",f:J7},28:{n:"PtgErr",f:v7},29:{n:"PtgBool",f:E7},30:{n:"PtgInt",f:y7},31:{n:"PtgNum",f:C7},32:{n:"PtgArray",f:a7},33:{n:"PtgFunc",f:g7},34:{n:"PtgFuncVar",f:x7},35:{n:"PtgName",f:I7},36:{n:"PtgRef",f:f7},37:{n:"PtgArea",f:$L},38:{n:"PtgMemArea",f:F7},39:{n:"PtgMemErr",f:U7},40:{n:"PtgMemNoMem",f:k7},41:{n:"PtgMemFunc",f:R7},42:{n:"PtgRefErr",f:D7},43:{n:"PtgAreaErr",f:t7},44:{n:"PtgRefN",f:h7},45:{n:"PtgAreaN",f:n7},46:{n:"PtgMemAreaN",f:Z7},47:{n:"PtgMemNoMemN",f:$7},57:{n:"PtgNameX",f:S7},58:{n:"PtgRef3d",f:d7},59:{n:"PtgArea3d",f:e7},60:{n:"PtgRefErr3d",f:O7},61:{n:"PtgAreaErr3d",f:r7},255:{}},tQ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},rQ={1:{n:"PtgElfLel",f:X3},2:{n:"PtgElfRw",f:K7},3:{n:"PtgElfCol",f:L7},6:{n:"PtgElfRwV",f:z7},7:{n:"PtgElfColV",f:H7},10:{n:"PtgElfRadical",f:P7},11:{n:"PtgElfRadicalS",f:G7},13:{n:"PtgElfColS",f:Q7},15:{n:"PtgElfColSV",f:j7},16:{n:"PtgElfRadicalLel",f:V7},25:{n:"PtgList",f:X7},29:{n:"PtgSxName",f:Y7},255:{}},nQ={0:{n:"PtgAttrNoop",f:eQ},1:{n:"PtgAttrSemi",f:l7},2:{n:"PtgAttrIf",f:A7},4:{n:"PtgAttrChoose",f:i7},8:{n:"PtgAttrGoto",f:s7},16:{n:"PtgAttrSum",f:m7},32:{n:"PtgAttrBaxcel",f:kB},33:{n:"PtgAttrBaxcel",f:kB},64:{n:"PtgAttrSpace",f:c7},65:{n:"PtgAttrSpaceSemi",f:u7},128:{n:"PtgAttrIfError",f:o7},255:{}};function Ef(e,t,r,n){if(n.biff<8)return Ai(e,t);for(var a=e.l+t,A=[],c=0;c!==r.length;++c)switch(r[c][0]){case"PtgArray":r[c][1]=T7(e,0,n),A.push(r[c][1]);break;case"PtgMemArea":r[c][2]=_7(e,r[c][1],n),A.push(r[c][2]);break;case"PtgExp":n&&n.biff==12&&(r[c][1][1]=e.read_shift(4),A.push(r[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[c][0]}return t=a-e.l,t!==0&&A.push(Ai(e,t)),A}function Cf(e,t,r){for(var n=e.l+t,a,A,c=[];n!=e.l;)t=n-e.l,A=e[e.l],a=MB[A]||MB[tQ[A]],(A===24||A===25)&&(a=(A===24?rQ:nQ)[e[e.l+1]]),!a||!a.f?Ai(e,t):c.push([a.n,a.f(e,t,r)]);return c}function aQ(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],A=0;A<n.length;++A){var c=n[A];if(c)switch(c[0]){case 2:a.push('"'+c[1].replace(/"/g,'""')+'"');break;default:a.push(c[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var iQ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function sQ(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Y3(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(A){return A.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function LB(e,t,r){var n=Y3(e,t,r);return n=="#REF"?n:sQ(n,r)}function ti(e,t,r,n,a){var A=a&&a.biff||8,c={s:{c:0,r:0}},d=[],p,m,y,b=0,I=0,N,R="";if(!e[0]||!e[0][0])return"";for(var F=-1,D="",K=0,W=e[0].length;K<W;++K){var H=e[0][K];switch(H[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(p=d.pop(),m=d.pop(),F>=0){switch(e[0][F][1][0]){case 0:D=jn(" ",e[0][F][1][1]);break;case 1:D=jn("\r",e[0][F][1][1]);break;default:if(D="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][F][1][0])}m=m+D,F=-1}d.push(m+iQ[H[0]]+p);break;case"PtgIsect":p=d.pop(),m=d.pop(),d.push(m+" "+p);break;case"PtgUnion":p=d.pop(),m=d.pop(),d.push(m+","+p);break;case"PtgRange":p=d.pop(),m=d.pop(),d.push(m+":"+p);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":y=ku(H[1][1],c,a),d.push(Mu(y,A));break;case"PtgRefN":y=r?ku(H[1][1],r,a):H[1][1],d.push(Mu(y,A));break;case"PtgRef3d":b=H[1][1],y=ku(H[1][2],c,a),R=LB(n,b,a),d.push(R+"!"+Mu(y,A));break;case"PtgFunc":case"PtgFuncVar":var re=H[1][0],de=H[1][1];re||(re=0),re&=127;var ee=re==0?[]:d.slice(-re);d.length-=re,de==="User"&&(de=ee.shift()),d.push(de+"("+ee.join(",")+")");break;case"PtgBool":d.push(H[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(H[1]);break;case"PtgNum":d.push(String(H[1]));break;case"PtgStr":d.push('"'+H[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(H[1]);break;case"PtgAreaN":N=mB(H[1][1],r?{s:r}:c,a),d.push(Np(N,a));break;case"PtgArea":N=mB(H[1][1],c,a),d.push(Np(N,a));break;case"PtgArea3d":b=H[1][1],N=H[1][2],R=LB(n,b,a),d.push(R+"!"+Np(N,a));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":I=H[1][2];var U=(n.names||[])[I-1]||(n[0]||[])[I],Q=U?U.Name:"SH33TJSNAME"+String(I);Q&&Q.slice(0,6)=="_xlfn."&&!a.xlfn&&(Q=Q.slice(6)),d.push(Q);break;case"PtgNameX":var k=H[1][1];I=H[1][2];var Y;if(a.biff<=5)k<0&&(k=-k),n[k]&&(Y=n[k][I]);else{var q="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][I]&&n[k][I].itab>0&&(q=n.SheetNames[n[k][I].itab-1]+"!"):q=n.SheetNames[I-1]+"!"),n[k]&&n[k][I])q+=n[k][I].Name;else if(n[0]&&n[0][I])q+=n[0][I].Name;else{var V=(Y3(n,k,a)||"").split(";;");V[I-1]?q=V[I-1]:q+="SH33TJSERRX"}d.push(q);break}Y||(Y={Name:"SH33TJSERRY"}),d.push(Y.Name);break;case"PtgParen":var z="(",ze=")";if(F>=0){switch(D="",e[0][F][1][0]){case 2:z=jn(" ",e[0][F][1][1])+z;break;case 3:z=jn("\r",e[0][F][1][1])+z;break;case 4:ze=jn(" ",e[0][F][1][1])+ze;break;case 5:ze=jn("\r",e[0][F][1][1])+ze;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][F][1][0])}F=-1}d.push(z+d.pop()+ze);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":y={c:H[1][1],r:H[1][0]};var ve={c:r.c,r:r.r};if(n.sharedf[ar(y)]){var me=n.sharedf[ar(y)];d.push(ti(me,c,ve,n,a))}else{var oe=!1;for(p=0;p!=n.arrayf.length;++p)if(m=n.arrayf[p],!(y.c<m[0].s.c||y.c>m[0].e.c)&&!(y.r<m[0].s.r||y.r>m[0].e.r)){d.push(ti(m[1],c,ve,n,a)),oe=!0;break}oe||d.push(H[1])}break;case"PtgArray":d.push("{"+aQ(H[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":F=K;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+H[1].idx+"[#"+H[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(H));default:throw new Error("Unrecognized Formula Token: "+String(H))}var Pe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&F>=0&&Pe.indexOf(e[0][K][0])==-1){H=e[0][F];var Ee=!0;switch(H[1][0]){case 4:Ee=!1;case 0:D=jn(" ",H[1][1]);break;case 5:Ee=!1;case 1:D=jn("\r",H[1][1]);break;default:if(D="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+H[1][0])}d.push((Ee?D:"")+d.pop()+(Ee?"":D)),F=-1}}if(d.length>1&&a.WTF)throw new Error("bad formula stack");return d[0]}function AQ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,A,c=e.read_shift(a);if(c==65535)return[[],Ai(e,t-2)];var d=Cf(e,c,r);return t!==c+a&&(A=Ef(e,t-c-a,d,r)),e.l=n,[d,A]}function oQ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,A,c=e.read_shift(a);if(c==65535)return[[],Ai(e,t-2)];var d=Cf(e,c,r);return t!==c+a&&(A=Ef(e,t-c-a,d,r)),e.l=n,[d,A]}function lQ(e,t,r,n){var a=e.l+t,A=Cf(e,n,r),c;return a!==e.l&&(c=Ef(e,a-e.l,A,r)),[A,c]}function cQ(e,t,r){var n=e.l+t,a,A=e.read_shift(2),c=Cf(e,A,r);return A==65535?[[],Ai(e,t-2)]:(t!==A+2&&(a=Ef(e,n-A-2,c,r)),[c,a])}function uQ(e){var t;if(zA(e,e.l+6)!==65535)return[ni(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Dp(e,t,r){var n=e.l+t,a=pA(e);r.biff==2&&++e.l;var A=uQ(e),c=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var d=oQ(e,n-e.l,r);return{cell:a,val:A[0],formula:d,shared:c>>3&1,tt:A[1]}}function V1(e,t,r){var n=e.read_shift(4),a=Cf(e,n,r),A=e.read_shift(4),c=A>0?Ef(e,A,a,r):null;return[a,c]}var fQ=V1,G1=V1,hQ=V1,dQ=V1,gQ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},q3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},xQ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function QB(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Op(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Hu={},a0={};function Pu(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function J3(e,t,r,n,a,A){try{n.cellNF&&(e.z=ur[t])}catch(d){if(n.WTF)throw d}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=_a(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(ur[t]==null&&Ql(pU[t]||"General",t),e.t==="e")e.w=e.w||tc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ef(e.v);else if(e.t==="d"){var c=yi(e.v);(c|0)===c?e.w=c.toString(10):e.w=ef(c)}else{if(e.v===void 0)return"";e.w=Vl(e.v,a0)}else e.t==="d"?e.w=Fs(t,yi(e.v),a0):e.w=Fs(t,e.v,a0)}catch(d){if(n.WTF)throw d}if(n.cellStyles&&r!=null)try{e.s=A.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=A1(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=A1(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(d){if(n.WTF&&A.Fills)throw d}}}function pQ(e,t){var r=Hn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Nr(r))}var mQ=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,wQ=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,vQ=/<(?:\w:)?hyperlink [^>]*>/mg,yQ=/"(\w*:\w*)"/,EQ=/<(?:\w:)?col\b[^>]*[\/]?>/g,CQ=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,BQ=/<(?:\w:)?pageMargins[^>]*\/>/g,Z3=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,bQ=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,_Q=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function TQ(e,t,r,n,a,A,c){if(!e)return e;n||(n={"!id":{}});var d=t.dense?[]:{},p={s:{r:2e6,c:2e6},e:{r:0,c:0}},m="",y="",b=e.match(wQ);b?(m=e.slice(0,b.index),y=e.slice(b.index+b[0].length)):m=y=e;var I=m.match(Z3);I?M2(I[0],d,a,r):(I=m.match(bQ))&&IQ(I[0],I[1]||"",d,a,r);var N=(m.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(N>0){var R=m.slice(N,N+50).match(yQ);R&&pQ(d,R[1])}var F=m.match(_Q);F&&F[1]&&OQ(F[1],a);var D=[];if(t.cellStyles){var K=m.match(EQ);K&&FQ(D,K)}b&&UQ(b[1],d,t,p,A,c);var W=y.match(CQ);W&&(d["!autofilter"]=RQ(W[0]));var H=[],re=y.match(mQ);if(re)for(N=0;N!=re.length;++N)H[N]=Hn(re[N].slice(re[N].indexOf('"')+1));var de=y.match(vQ);de&&SQ(d,de,n);var ee=y.match(BQ);if(ee&&(d["!margins"]=NQ(Jt(ee[0]))),!d["!ref"]&&p.e.c>=p.s.c&&p.e.r>=p.s.r&&(d["!ref"]=Nr(p)),t.sheetRows>0&&d["!ref"]){var U=Hn(d["!ref"]);t.sheetRows<=+U.e.r&&(U.e.r=t.sheetRows-1,U.e.r>p.e.r&&(U.e.r=p.e.r),U.e.r<U.s.r&&(U.s.r=U.e.r),U.e.c>p.e.c&&(U.e.c=p.e.c),U.e.c<U.s.c&&(U.s.c=U.e.c),d["!fullref"]=d["!ref"],d["!ref"]=Nr(U))}return D.length>0&&(d["!cols"]=D),H.length>0&&(d["!merges"]=H),d}function M2(e,t,r,n){var a=Jt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Or(hn(a.codeName)))}function IQ(e,t,r,n,a){M2(e.slice(0,e.indexOf(">")),r,n,a)}function SQ(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var A=Jt(hn(t[a]),!0);if(!A.ref)return;var c=((r||{})["!id"]||[])[A.id];c?(A.Target=c.Target,A.location&&(A.Target+="#"+Or(A.location))):(A.Target="#"+Or(A.location),c={Target:A.Target,TargetMode:"Internal"}),A.Rel=c,A.tooltip&&(A.Tooltip=A.tooltip,delete A.tooltip);for(var d=Hn(A.ref),p=d.s.r;p<=d.e.r;++p)for(var m=d.s.c;m<=d.e.c;++m){var y=ar({c:m,r:p});n?(e[p]||(e[p]=[]),e[p][m]||(e[p][m]={t:"z",v:void 0}),e[p][m].l=A):(e[y]||(e[y]={t:"z",v:void 0}),e[y].l=A)}}}function NQ(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function FQ(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Jt(t[n],!0);a.hidden&&(a.hidden=Bn(a.hidden));var A=parseInt(a.min,10)-1,c=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,U2(a.width)),l0(a);A<=c;)e[A++]=ja(a)}}function RQ(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var DQ=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function OQ(e,t){t.Views||(t.Views=[{}]),(e.match(DQ)||[]).forEach(function(r,n){var a=Jt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Bn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var UQ=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,A=tf("v"),c=tf("f");return function(p,m,y,b,I,N){for(var R=0,F="",D=[],K=[],W=0,H=0,re=0,de="",ee,U,Q=0,k=0,Y,q,V=0,z=0,ze=Array.isArray(N.CellXf),ve,me=[],oe=[],Pe=Array.isArray(m),Ee=[],$e={},ge=!1,X=!!y.sheetStubs,ce=p.split(t),le=0,ae=ce.length;le!=ae;++le){F=ce[le].trim();var xe=F.length;if(xe!==0){var Xe=0;e:for(R=0;R<xe;++R)switch(F[R]){case">":if(F[R-1]!="/"){++R;break e}if(y&&y.cellStyles){if(U=Jt(F.slice(Xe,R),!0),Q=U.r!=null?parseInt(U.r,10):Q+1,k=-1,y.sheetRows&&y.sheetRows<Q)continue;$e={},ge=!1,U.ht&&(ge=!0,$e.hpt=parseFloat(U.ht),$e.hpx=sf($e.hpt)),U.hidden=="1"&&(ge=!0,$e.hidden=!0),U.outlineLevel!=null&&(ge=!0,$e.level=+U.outlineLevel),ge&&(Ee[Q-1]=$e)}break;case"<":Xe=R;break}if(Xe>=R)break;if(U=Jt(F.slice(Xe,R),!0),Q=U.r!=null?parseInt(U.r,10):Q+1,k=-1,!(y.sheetRows&&y.sheetRows<Q)){b.s.r>Q-1&&(b.s.r=Q-1),b.e.r<Q-1&&(b.e.r=Q-1),y&&y.cellStyles&&($e={},ge=!1,U.ht&&(ge=!0,$e.hpt=parseFloat(U.ht),$e.hpx=sf($e.hpt)),U.hidden=="1"&&(ge=!0,$e.hidden=!0),U.outlineLevel!=null&&(ge=!0,$e.level=+U.outlineLevel),ge&&(Ee[Q-1]=$e)),D=F.slice(R).split(e);for(var Se=0;Se!=D.length&&D[Se].trim().charAt(0)=="<";++Se);for(D=D.slice(Se),R=0;R!=D.length;++R)if(F=D[R].trim(),F.length!==0){if(K=F.match(r),W=R,H=0,re=0,F="<c "+(F.slice(0,1)=="<"?">":"")+F,K!=null&&K.length===2){for(W=0,de=K[1],H=0;H!=de.length&&!((re=de.charCodeAt(H)-64)<1||re>26);++H)W=26*W+re;--W,k=W}else++k;for(H=0;H!=F.length&&F.charCodeAt(H)!==62;++H);if(++H,U=Jt(F.slice(0,H),!0),U.r||(U.r=ar({r:Q-1,c:k})),de=F.slice(H),ee={t:""},(K=de.match(A))!=null&&K[1]!==""&&(ee.v=Or(K[1])),y.cellFormula){if((K=de.match(c))!=null&&K[1]!==""){if(ee.f=Or(hn(K[1])).replace(/\r\n/g,`
`),y.xlfn||(ee.f=UB(ee.f)),K[0].indexOf('t="array"')>-1)ee.F=(de.match(a)||[])[1],ee.F.indexOf(":")>-1&&me.push([Hn(ee.F),ee.F]);else if(K[0].indexOf('t="shared"')>-1){q=Jt(K[0]);var Ce=Or(hn(K[1]));y.xlfn||(Ce=UB(Ce)),oe[parseInt(q.si,10)]=[q,Ce,U.r]}}else(K=de.match(/<f[^>]*\/>/))&&(q=Jt(K[0]),oe[q.si]&&(ee.f=zL(oe[q.si][1],oe[q.si][2],U.r)));var Ue=wi(U.r);for(H=0;H<me.length;++H)Ue.r>=me[H][0].s.r&&Ue.r<=me[H][0].e.r&&Ue.c>=me[H][0].s.c&&Ue.c<=me[H][0].e.c&&(ee.F=me[H][1])}if(U.t==null&&ee.v===void 0)if(ee.f||ee.F)ee.v=0,ee.t="n";else if(X)ee.t="z";else continue;else ee.t=U.t||"n";switch(b.s.c>k&&(b.s.c=k),b.e.c<k&&(b.e.c=k),ee.t){case"n":if(ee.v==""||ee.v==null){if(!X)continue;ee.t="z"}else ee.v=parseFloat(ee.v);break;case"s":if(typeof ee.v>"u"){if(!X)continue;ee.t="z"}else Y=Hu[parseInt(ee.v,10)],ee.v=Y.t,ee.r=Y.r,y.cellHTML&&(ee.h=Y.h);break;case"str":ee.t="s",ee.v=ee.v!=null?hn(ee.v):"",y.cellHTML&&(ee.h=B2(ee.v));break;case"inlineStr":K=de.match(n),ee.t="s",K!=null&&(Y=O2(K[1]))?(ee.v=Y.t,y.cellHTML&&(ee.h=Y.h)):ee.v="";break;case"b":ee.v=Bn(ee.v);break;case"d":y.cellDates?ee.v=_a(ee.v,1):(ee.v=yi(_a(ee.v,1)),ee.t="n");break;case"e":(!y||y.cellText!==!1)&&(ee.w=ee.v),ee.v=w3[ee.v];break}if(V=z=0,ve=null,ze&&U.s!==void 0&&(ve=N.CellXf[U.s],ve!=null&&(ve.numFmtId!=null&&(V=ve.numFmtId),y.cellStyles&&ve.fillId!=null&&(z=ve.fillId))),J3(ee,V,z,y,I,N),y.cellDates&&ze&&ee.t=="n"&&m0(ur[V])&&(ee.t="d",ee.v=H1(ee.v)),U.cm&&y.xlmeta){var xt=(y.xlmeta.Cell||[])[+U.cm-1];xt&&xt.type=="XLDAPR"&&(ee.D=!0)}if(Pe){var he=wi(U.r);m[he.r]||(m[he.r]=[]),m[he.r][he.c]=ee}else m[U.r]=ee}}}}Ee.length>0&&(m["!rows"]=Ee)}})();function kQ(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var A=e.read_shift(1);return e.l=n,A&7&&(r.level=A&7),A&16&&(r.hidden=!0),A&32&&(r.hpt=a/20),r}var MQ=ec;function LQ(){}function QQ(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Ak(e),r}function jQ(e){var t=Ds(e);return[t]}function HQ(e){var t=$l(e);return[t]}function PQ(e){var t=Ds(e),r=e.read_shift(1);return[t,r,"b"]}function VQ(e){var t=$l(e),r=e.read_shift(1);return[t,r,"b"]}function GQ(e){var t=Ds(e),r=e.read_shift(1);return[t,r,"e"]}function KQ(e){var t=$l(e),r=e.read_shift(1);return[t,r,"e"]}function zQ(e){var t=Ds(e),r=e.read_shift(4);return[t,r,"s"]}function WQ(e){var t=$l(e),r=e.read_shift(4);return[t,r,"s"]}function XQ(e){var t=Ds(e),r=ni(e);return[t,r,"n"]}function $3(e){var t=$l(e),r=ni(e);return[t,r,"n"]}function YQ(e){var t=Ds(e),r=F2(e);return[t,r,"n"]}function qQ(e){var t=$l(e),r=F2(e);return[t,r,"n"]}function JQ(e){var t=Ds(e),r=S2(e);return[t,r,"is"]}function ZQ(e){var t=Ds(e),r=ii(e);return[t,r,"str"]}function $Q(e){var t=$l(e),r=ii(e);return[t,r,"str"]}function ej(e,t,r){var n=e.l+t,a=Ds(e);a.r=r["!row"];var A=e.read_shift(1),c=[a,A,"b"];if(r.cellFormula){e.l+=2;var d=G1(e,n-e.l,r);c[3]=ti(d,null,a,r.supbooks,r)}else e.l=n;return c}function tj(e,t,r){var n=e.l+t,a=Ds(e);a.r=r["!row"];var A=e.read_shift(1),c=[a,A,"e"];if(r.cellFormula){e.l+=2;var d=G1(e,n-e.l,r);c[3]=ti(d,null,a,r.supbooks,r)}else e.l=n;return c}function rj(e,t,r){var n=e.l+t,a=Ds(e);a.r=r["!row"];var A=ni(e),c=[a,A,"n"];if(r.cellFormula){e.l+=2;var d=G1(e,n-e.l,r);c[3]=ti(d,null,a,r.supbooks,r)}else e.l=n;return c}function nj(e,t,r){var n=e.l+t,a=Ds(e);a.r=r["!row"];var A=ii(e),c=[a,A,"str"];if(r.cellFormula){e.l+=2;var d=G1(e,n-e.l,r);c[3]=ti(d,null,a,r.supbooks,r)}else e.l=n;return c}var aj=ec;function ij(e,t){var r=e.l+t,n=ec(e),a=N2(e),A=ii(e),c=ii(e),d=ii(e);e.l=r;var p={rfx:n,relId:a,loc:A,display:d};return c&&(p.Tooltip=c),p}function sj(){}function Aj(e,t,r){var n=e.l+t,a=x3(e),A=e.read_shift(1),c=[a];if(c[2]=A,r.cellFormula){var d=fQ(e,n-e.l,r);c[1]=d}else e.l=n;return c}function oj(e,t,r){var n=e.l+t,a=ec(e),A=[a];if(r.cellFormula){var c=dQ(e,n-e.l,r);A[1]=c,e.l=n}else e.l=n;return A}var lj=["left","right","top","bottom","header","footer"];function cj(e){var t={};return lj.forEach(function(r){t[r]=ni(e)}),t}function uj(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function fj(){}function hj(){}function dj(e,t,r,n,a,A,c){if(!e)return e;var d=t||{};n||(n={"!id":{}});var p=d.dense?[]:{},m,y={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=!1,I=!1,N,R,F,D,K,W,H,re,de,ee=[];d.biff=12,d["!row"]=0;var U=0,Q=!1,k=[],Y={},q=d.supbooks||a.supbooks||[[]];if(q.sharedf=Y,q.arrayf=k,q.SheetNames=a.SheetNames||a.Sheets.map(function(Pe){return Pe.name}),!d.supbooks&&(d.supbooks=q,a.Names))for(var V=0;V<a.Names.length;++V)q[0][V+1]=a.Names[V];var z=[],ze=[],ve=!1;c1[16]={n:"BrtShortReal",f:$3};var me;if(ao(e,function(Ee,$e,ge){if(!I)switch(ge){case 148:m=Ee;break;case 0:N=Ee,d.sheetRows&&d.sheetRows<=N.r&&(I=!0),re=Ha(D=N.r),d["!row"]=N.r,(Ee.hidden||Ee.hpt||Ee.level!=null)&&(Ee.hpt&&(Ee.hpx=sf(Ee.hpt)),ze[Ee.r]=Ee);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(R={t:Ee[2]},Ee[2]){case"n":R.v=Ee[1];break;case"s":H=Hu[Ee[1]],R.v=H.t,R.r=H.r;break;case"b":R.v=!!Ee[1];break;case"e":R.v=Ee[1],d.cellText!==!1&&(R.w=tc[R.v]);break;case"str":R.t="s",R.v=Ee[1];break;case"is":R.t="s",R.v=Ee[1].t;break}if((F=c.CellXf[Ee[0].iStyleRef])&&J3(R,F.numFmtId,null,d,A,c),K=Ee[0].c==-1?K+1:Ee[0].c,d.dense?(p[D]||(p[D]=[]),p[D][K]=R):p[ga(K)+re]=R,d.cellFormula){for(Q=!1,U=0;U<k.length;++U){var X=k[U];N.r>=X[0].s.r&&N.r<=X[0].e.r&&K>=X[0].s.c&&K<=X[0].e.c&&(R.F=Nr(X[0]),Q=!0)}!Q&&Ee.length>3&&(R.f=Ee[3])}if(y.s.r>N.r&&(y.s.r=N.r),y.s.c>K&&(y.s.c=K),y.e.r<N.r&&(y.e.r=N.r),y.e.c<K&&(y.e.c=K),d.cellDates&&F&&R.t=="n"&&m0(ur[F.numFmtId])){var ce=Ol(R.v);ce&&(R.t="d",R.v=new Date(ce.y,ce.m-1,ce.d,ce.H,ce.M,ce.S,ce.u))}me&&(me.type=="XLDAPR"&&(R.D=!0),me=void 0);break;case 1:case 12:if(!d.sheetStubs||b)break;R={t:"z",v:void 0},K=Ee[0].c==-1?K+1:Ee[0].c,d.dense?(p[D]||(p[D]=[]),p[D][K]=R):p[ga(K)+re]=R,y.s.r>N.r&&(y.s.r=N.r),y.s.c>K&&(y.s.c=K),y.e.r<N.r&&(y.e.r=N.r),y.e.c<K&&(y.e.c=K),me&&(me.type=="XLDAPR"&&(R.D=!0),me=void 0);break;case 176:ee.push(Ee);break;case 49:me=((d.xlmeta||{}).Cell||[])[Ee-1];break;case 494:var le=n["!id"][Ee.relId];for(le?(Ee.Target=le.Target,Ee.loc&&(Ee.Target+="#"+Ee.loc),Ee.Rel=le):Ee.relId==""&&(Ee.Target="#"+Ee.loc),D=Ee.rfx.s.r;D<=Ee.rfx.e.r;++D)for(K=Ee.rfx.s.c;K<=Ee.rfx.e.c;++K)d.dense?(p[D]||(p[D]=[]),p[D][K]||(p[D][K]={t:"z",v:void 0}),p[D][K].l=Ee):(W=ar({c:K,r:D}),p[W]||(p[W]={t:"z",v:void 0}),p[W].l=Ee);break;case 426:if(!d.cellFormula)break;k.push(Ee),de=d.dense?p[D][K]:p[ga(K)+re],de.f=ti(Ee[1],y,{r:N.r,c:K},q,d),de.F=Nr(Ee[0]);break;case 427:if(!d.cellFormula)break;Y[ar(Ee[0].s)]=Ee[1],de=d.dense?p[D][K]:p[ga(K)+re],de.f=ti(Ee[1],y,{r:N.r,c:K},q,d);break;case 60:if(!d.cellStyles)break;for(;Ee.e>=Ee.s;)z[Ee.e--]={width:Ee.w/256,hidden:!!(Ee.flags&1),level:Ee.level},ve||(ve=!0,U2(Ee.w/256)),l0(z[Ee.e+1]);break;case 161:p["!autofilter"]={ref:Nr(Ee)};break;case 476:p["!margins"]=Ee;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),Ee.name&&(a.Sheets[r].CodeName=Ee.name),(Ee.above||Ee.left)&&(p["!outline"]={above:Ee.above,left:Ee.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),Ee.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:b=!0;break;case 36:b=!1;break;case 37:b=!0;break;case 38:b=!1;break;default:if(!$e.T){if(!b||d.WTF)throw new Error("Unexpected record 0x"+ge.toString(16))}}},d),delete d.supbooks,delete d["!row"],!p["!ref"]&&(y.s.r<2e6||m&&(m.e.r>0||m.e.c>0||m.s.r>0||m.s.c>0))&&(p["!ref"]=Nr(m||y)),d.sheetRows&&p["!ref"]){var oe=Hn(p["!ref"]);d.sheetRows<=+oe.e.r&&(oe.e.r=d.sheetRows-1,oe.e.r>y.e.r&&(oe.e.r=y.e.r),oe.e.r<oe.s.r&&(oe.s.r=oe.e.r),oe.e.c>y.e.c&&(oe.e.c=y.e.c),oe.e.c<oe.s.c&&(oe.s.c=oe.e.c),p["!fullref"]=p["!ref"],p["!ref"]=Nr(oe))}return ee.length>0&&(p["!merges"]=ee),z.length>0&&(p["!cols"]=z),ze.length>0&&(p["!rows"]=ze),p}function gj(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(A){var c=A.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);c&&(t[+c[1]]=r?+c[2]:c[2])});var a=Or((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(A){n=A.replace(/<.*?>/g,"")}),[t,a,n]}function xj(e,t,r,n,a,A){var c=A||{"!type":"chart"};if(!e)return A;var d=0,p=0,m="A",y={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(b){var I=gj(b);y.s.r=y.s.c=0,y.e.c=d,m=ga(d),I[0].forEach(function(N,R){c[m+Ha(R)]={t:"n",v:N,z:I[1]},p=R}),y.e.r<p&&(y.e.r=p),++d}),d>0&&(c["!ref"]=Nr(y)),c}function pj(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var A={"!type":"chart","!drawel":null,"!rel":""},c,d=e.match(Z3);return d&&M2(d[0],A,a,r),(c=e.match(/drawing r:id="(.*?)"/))&&(A["!rel"]=c[1]),n["!id"][A["!rel"]]&&(A["!drawel"]=n["!id"][A["!rel"]]),A}function mj(e,t){e.l+=10;var r=ii(e);return{name:r}}function wj(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var A={"!type":"chart","!drawel":null,"!rel":""},c=!1;return ao(e,function(p,m,y){switch(y){case 550:A["!rel"]=p;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),p.name&&(a.Sheets[r].CodeName=p.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:c=!0;break;case 36:c=!1;break;case 37:break;case 38:break;default:if(!(m.T>0)){if(!(m.T<0)){if(!c||t.WTF)throw new Error("Unexpected record 0x"+y.toString(16))}}}},t),n["!id"][A["!rel"]]&&(A["!drawel"]=n["!id"][A["!rel"]]),A}var eI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],vj=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],yj=[],Ej=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function jB(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var A=t[a];if(n[A[0]]==null)n[A[0]]=A[1];else switch(A[2]){case"bool":typeof n[A[0]]=="string"&&(n[A[0]]=Bn(n[A[0]]));break;case"int":typeof n[A[0]]=="string"&&(n[A[0]]=parseInt(n[A[0]],10));break}}}function HB(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Bn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function tI(e){HB(e.WBProps,eI),HB(e.CalcPr,Ej),jB(e.WBView,vj),jB(e.Sheets,yj),a0.date1904=Bn(e.WBProps.date1904)}var Cj="][*?/\\".split("");function Bj(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Cj.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var bj=/<\w+:workbook/;function _j(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",A={},c=0;if(e.replace(oi,function(p,m){var y=Jt(p);switch(xA(y[0])){case"<?xml":break;case"<workbook":p.match(bj)&&(a="xmlns"+p.match(/<(\w+):/)[1]),r.xmlns=y[a];break;case"</workbook>":break;case"<fileVersion":delete y[0],r.AppVersion=y;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":eI.forEach(function(b){if(y[b[0]]!=null)switch(b[2]){case"bool":r.WBProps[b[0]]=Bn(y[b[0]]);break;case"int":r.WBProps[b[0]]=parseInt(y[b[0]],10);break;default:r.WBProps[b[0]]=y[b[0]]}}),y.codeName&&(r.WBProps.CodeName=hn(y.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete y[0],r.WBView.push(y);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(y.state){case"hidden":y.Hidden=1;break;case"veryHidden":y.Hidden=2;break;default:y.Hidden=0}delete y.state,y.name=Or(hn(y.name)),delete y[0],r.Sheets.push(y);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":A={},A.Name=hn(y.name),y.comment&&(A.Comment=y.comment),y.localSheetId&&(A.Sheet=+y.localSheetId),Bn(y.hidden||"0")&&(A.Hidden=!0),c=m+p.length;break;case"</definedName>":A.Ref=Or(hn(e.slice(c,m))),r.Names.push(A);break;case"<definedName/>":break;case"<calcPr":delete y[0],r.CalcPr=y;break;case"<calcPr/>":delete y[0],r.CalcPr=y;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+y[0]+" in workbook")}return p}),GU.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return tI(r),r}function Tj(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=bm(e),r.name=ii(e),r}function Ij(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ii(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Sj(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Nj(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),A=ok(e),c=hQ(e,0,r),d=N2(e);e.l=n;var p={Name:A,Ptg:c};return a<268435455&&(p.Sheet=a),d&&(p.Comment=d),p}function Fj(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var A=[],c=[[]];return c.SheetNames=[],c.XTI=[],c1[16]={n:"BrtFRTArchID$",f:Sj},ao(e,function(p,m,y){switch(y){case 156:c.SheetNames.push(p.name),r.Sheets.push(p);break;case 153:r.WBProps=p;break;case 39:p.Sheet!=null&&(t.SID=p.Sheet),p.Ref=ti(p.Ptg,null,null,c,t),delete t.SID,delete p.Ptg,A.push(p);break;case 1036:break;case 357:case 358:case 355:case 667:c[0].length?c.push([y,p]):c[0]=[y,p],c[c.length-1].XTI=[];break;case 362:c.length===0&&(c[0]=[],c[0].XTI=[]),c[c.length-1].XTI=c[c.length-1].XTI.concat(p),c.XTI=c.XTI.concat(p);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(y),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(y),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!m.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+y.toString(16))}}},t),tI(r),r.Names=A,r.supbooks=c,r}function Rj(e,t,r){return t.slice(-4)===".bin"?Fj(e,r):_j(e,r)}function Dj(e,t,r,n,a,A,c,d){return t.slice(-4)===".bin"?dj(e,n,r,a,A,c,d):TQ(e,n,r,a,A,c,d)}function Oj(e,t,r,n,a,A,c,d){return t.slice(-4)===".bin"?wj(e,n,r,a,A):pj(e,n,r,a,A)}function Uj(e,t,r,n,a,A,c,d){return t.slice(-4)===".bin"?VL():GL()}function kj(e,t,r,n,a,A,c,d){return t.slice(-4)===".bin"?HL():PL()}function Mj(e,t,r,n){return t.slice(-4)===".bin"?aL(e,r,n):Z9(e,r,n)}function Lj(e,t,r){return H3(e,r)}function Qj(e,t,r){return t.slice(-4)===".bin"?v9(e,r):m9(e,r)}function jj(e,t,r){return t.slice(-4)===".bin"?LL(e,r):DL(e,r)}function Hj(e,t,r){return t.slice(-4)===".bin"?NL(e):IL(e)}function Pj(e,t,r,n){return r.slice(-4)===".bin"?FL(e,t,r,n):void 0}function Vj(e,t,r){return t.slice(-4)===".bin"?_L(e,t,r):TL(e,t,r)}var rI=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,nI=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Hs(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(rI),A,c,d,p;if(a)for(p=0;p!=a.length;++p)A=a[p].match(nI),(c=A[1].indexOf(":"))===-1?n[A[1]]=A[2].slice(1,A[2].length-1):(A[1].slice(0,6)==="xmlns:"?d="xmlns"+A[1].slice(6):d=A[1].slice(c+1),n[d]=A[2].slice(1,A[2].length-1));return n}function Gj(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(rI),a,A,c,d;if(n)for(d=0;d!=n.length;++d)a=n[d].match(nI),(A=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?c="xmlns"+a[1].slice(6):c=a[1].slice(A+1),r[c]=a[2].slice(1,a[2].length-1));return r}var Vu;function Kj(e,t){var r=Vu[e]||Or(e);return r==="General"?Vl(t):Fs(r,t)}function zj(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Bn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=_a(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Or(t)]=a}function Wj(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||tc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ef(e.v):e.w=Vl(e.v):e.w=Kj(t||"General",e.v)}catch(A){if(r.WTF)throw A}try{var n=Vu[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&m0(n)){var a=Ol(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(A){if(r.WTF)throw A}}}function Xj(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=z9[n.Pattern]||n.Pattern)}e[t.ID]=t}function Yj(e,t,r,n,a,A,c,d,p,m){var y="General",b=n.StyleID,I={};m=m||{};var N=[],R=0;for(b===void 0&&d&&(b=d.StyleID),b===void 0&&c&&(b=c.StyleID);A[b]!==void 0&&(A[b].nf&&(y=A[b].nf),A[b].Interior&&N.push(A[b].Interior),!!A[b].Parent);)b=A[b].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Bn(e);break;case"String":n.t="s",n.r=lB(Or(e)),n.v=e.indexOf("<")>-1?Or(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(_a(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Or(e):n.v<60&&(n.v=n.v-1),(!y||y=="General")&&(y="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=w3[e],m.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=lB(t||e));break}if(Wj(n,y,m),m.cellFormula!==!1)if(n.Formula){var F=Or(n.Formula);F.charCodeAt(0)==61&&(F=F.slice(1)),n.f=n0(F,a),delete n.Formula,n.ArrayRange=="RC"?n.F=n0("RC:RC",a):n.ArrayRange&&(n.F=n0(n.ArrayRange,a),p.push([Hn(n.F),n.F]))}else for(R=0;R<p.length;++R)a.r>=p[R][0].s.r&&a.r<=p[R][0].e.r&&a.c>=p[R][0].s.c&&a.c<=p[R][0].e.c&&(n.F=p[R][1]);m.cellStyles&&(N.forEach(function(D){!I.patternType&&D.patternType&&(I.patternType=D.patternType)}),n.s=I),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function qj(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Up(e,t){var r=t||{};KT();var n=vu(b2(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=hn(n));var a=n.slice(0,1024).toLowerCase(),A=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var c=ja(r);return c.type="string",nf.to_workbook(n,c)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ht){a.indexOf("<"+ht)>=0&&(A=!0)}),A)return iH(n,r);Vu={"General Number":"General","General Date":ur[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ur[15],"Short Date":ur[14],"Long Time":ur[19],"Medium Time":ur[18],"Short Time":ur[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ur[2],Standard:ur[4],Percent:ur[10],Scientific:ur[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var d,p=[],m,y={},b=[],I=r.dense?[]:{},N="",R={},F={},D=Hs('<Data ss:Type="String">'),K=0,W=0,H=0,re={s:{r:2e6,c:2e6},e:{r:0,c:0}},de={},ee={},U="",Q=0,k=[],Y={},q={},V=0,z=[],ze=[],ve={},me=[],oe,Pe=!1,Ee=[],$e=[],ge={},X=0,ce=0,le={Sheets:[],WBProps:{date1904:!1}},ae={};rf.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var xe="";d=rf.exec(n);)switch(d[3]=(xe=d[3]).toLowerCase()){case"data":if(xe=="data"){if(d[1]==="/"){if((m=p.pop())[0]!==d[3])throw new Error("Bad state: "+m.join("|"))}else d[0].charAt(d[0].length-2)!=="/"&&p.push([d[3],!0]);break}if(p[p.length-1][1])break;d[1]==="/"?Yj(n.slice(K,d.index),U,D,p[p.length-1][0]=="comment"?ve:R,{c:W,r:H},de,me[W],F,Ee,r):(U="",D=Hs(d[0]),K=d.index+d[0].length);break;case"cell":if(d[1]==="/")if(ze.length>0&&(R.c=ze),(!r.sheetRows||r.sheetRows>H)&&R.v!==void 0&&(r.dense?(I[H]||(I[H]=[]),I[H][W]=R):I[ga(W)+Ha(H)]=R),R.HRef&&(R.l={Target:Or(R.HRef)},R.HRefScreenTip&&(R.l.Tooltip=R.HRefScreenTip),delete R.HRef,delete R.HRefScreenTip),(R.MergeAcross||R.MergeDown)&&(X=W+(parseInt(R.MergeAcross,10)|0),ce=H+(parseInt(R.MergeDown,10)|0),k.push({s:{c:W,r:H},e:{c:X,r:ce}})),!r.sheetStubs)R.MergeAcross?W=X+1:++W;else if(R.MergeAcross||R.MergeDown){for(var Xe=W;Xe<=X;++Xe)for(var Se=H;Se<=ce;++Se)(Xe>W||Se>H)&&(r.dense?(I[Se]||(I[Se]=[]),I[Se][Xe]={t:"z"}):I[ga(Xe)+Ha(Se)]={t:"z"});W=X+1}else++W;else R=Gj(d[0]),R.Index&&(W=+R.Index-1),W<re.s.c&&(re.s.c=W),W>re.e.c&&(re.e.c=W),d[0].slice(-2)==="/>"&&++W,ze=[];break;case"row":d[1]==="/"||d[0].slice(-2)==="/>"?(H<re.s.r&&(re.s.r=H),H>re.e.r&&(re.e.r=H),d[0].slice(-2)==="/>"&&(F=Hs(d[0]),F.Index&&(H=+F.Index-1)),W=0,++H):(F=Hs(d[0]),F.Index&&(H=+F.Index-1),ge={},(F.AutoFitHeight=="0"||F.Height)&&(ge.hpx=parseInt(F.Height,10),ge.hpt=j3(ge.hpx),$e[H]=ge),F.Hidden=="1"&&(ge.hidden=!0,$e[H]=ge));break;case"worksheet":if(d[1]==="/"){if((m=p.pop())[0]!==d[3])throw new Error("Bad state: "+m.join("|"));b.push(N),re.s.r<=re.e.r&&re.s.c<=re.e.c&&(I["!ref"]=Nr(re),r.sheetRows&&r.sheetRows<=re.e.r&&(I["!fullref"]=I["!ref"],re.e.r=r.sheetRows-1,I["!ref"]=Nr(re))),k.length&&(I["!merges"]=k),me.length>0&&(I["!cols"]=me),$e.length>0&&(I["!rows"]=$e),y[N]=I}else re={s:{r:2e6,c:2e6},e:{r:0,c:0}},H=W=0,p.push([d[3],!1]),m=Hs(d[0]),N=Or(m.Name),I=r.dense?[]:{},k=[],Ee=[],$e=[],ae={name:N,Hidden:0},le.Sheets.push(ae);break;case"table":if(d[1]==="/"){if((m=p.pop())[0]!==d[3])throw new Error("Bad state: "+m.join("|"))}else{if(d[0].slice(-2)=="/>")break;p.push([d[3],!1]),me=[],Pe=!1}break;case"style":d[1]==="/"?Xj(de,ee,r):ee=Hs(d[0]);break;case"numberformat":ee.nf=Or(Hs(d[0]).Format||"General"),Vu[ee.nf]&&(ee.nf=Vu[ee.nf]);for(var Ce=0;Ce!=392&&ur[Ce]!=ee.nf;++Ce);if(Ce==392){for(Ce=57;Ce!=392;++Ce)if(ur[Ce]==null){Ql(ee.nf,Ce);break}}break;case"column":if(p[p.length-1][0]!=="table")break;if(oe=Hs(d[0]),oe.Hidden&&(oe.hidden=!0,delete oe.Hidden),oe.Width&&(oe.wpx=parseInt(oe.Width,10)),!Pe&&oe.wpx>10){Pe=!0,mi=L3;for(var Ue=0;Ue<me.length;++Ue)me[Ue]&&l0(me[Ue])}Pe&&l0(oe),me[oe.Index-1||me.length]=oe;for(var xt=0;xt<+oe.Span;++xt)me[me.length]=ja(oe);break;case"namedrange":if(d[1]==="/")break;le.Names||(le.Names=[]);var he=Jt(d[0]),_t={Name:he.Name,Ref:n0(he.RefersTo.slice(1),{r:0,c:0})};le.Sheets.length>0&&(_t.Sheet=le.Sheets.length-1),le.Names.push(_t);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(d[0].slice(-2)==="/>")break;d[1]==="/"?U+=n.slice(Q,d.index):Q=d.index+d[0].length;break;case"interior":if(!r.cellStyles)break;ee.Interior=Hs(d[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(d[0].slice(-2)==="/>")break;d[1]==="/"?Dk(Y,xe,n.slice(V,d.index)):V=d.index+d[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(d[1]==="/"){if((m=p.pop())[0]!==d[3])throw new Error("Bad state: "+m.join("|"))}else p.push([d[3],!1]);break;case"comment":if(d[1]==="/"){if((m=p.pop())[0]!==d[3])throw new Error("Bad state: "+m.join("|"));qj(ve),ze.push(ve)}else p.push([d[3],!1]),m=Hs(d[0]),ve={a:m.Author};break;case"autofilter":if(d[1]==="/"){if((m=p.pop())[0]!==d[3])throw new Error("Bad state: "+m.join("|"))}else if(d[0].charAt(d[0].length-2)!=="/"){var Rt=Hs(d[0]);I["!autofilter"]={ref:n0(Rt.Range).replace(/\$/g,"")},p.push([d[3],!0])}break;case"name":break;case"datavalidation":if(d[1]==="/"){if((m=p.pop())[0]!==d[3])throw new Error("Bad state: "+m.join("|"))}else d[0].charAt(d[0].length-2)!=="/"&&p.push([d[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(d[1]==="/"){if((m=p.pop())[0]!==d[3])throw new Error("Bad state: "+m.join("|"))}else d[0].charAt(d[0].length-2)!=="/"&&p.push([d[3],!0]);break;case"null":break;default:if(p.length==0&&d[3]=="document"||p.length==0&&d[3]=="uof")return WB(n,r);var Ut=!0;switch(p[p.length-1][0]){case"officedocumentsettings":switch(d[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ut=!1}break;case"componentoptions":switch(d[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ut=!1}break;case"excelworkbook":switch(d[3]){case"date1904":le.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ut=!1}break;case"workbookoptions":switch(d[3]){case"owcversion":break;case"height":break;case"width":break;default:Ut=!1}break;case"worksheetoptions":switch(d[3]){case"visible":if(d[0].slice(-2)!=="/>")if(d[1]==="/")switch(n.slice(V,d.index)){case"SheetHidden":ae.Hidden=1;break;case"SheetVeryHidden":ae.Hidden=2;break}else V=d.index+d[0].length;break;case"header":I["!margins"]||Pu(I["!margins"]={},"xlml"),isNaN(+Jt(d[0]).Margin)||(I["!margins"].header=+Jt(d[0]).Margin);break;case"footer":I["!margins"]||Pu(I["!margins"]={},"xlml"),isNaN(+Jt(d[0]).Margin)||(I["!margins"].footer=+Jt(d[0]).Margin);break;case"pagemargins":var Ie=Jt(d[0]);I["!margins"]||Pu(I["!margins"]={},"xlml"),isNaN(+Ie.Top)||(I["!margins"].top=+Ie.Top),isNaN(+Ie.Left)||(I["!margins"].left=+Ie.Left),isNaN(+Ie.Right)||(I["!margins"].right=+Ie.Right),isNaN(+Ie.Bottom)||(I["!margins"].bottom=+Ie.Bottom);break;case"displayrighttoleft":le.Views||(le.Views=[]),le.Views[0]||(le.Views[0]={}),le.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":I["!outline"]||(I["!outline"]={}),I["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":I["!outline"]||(I["!outline"]={}),I["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ut=!1}break;case"pivottable":case"pivotcache":switch(d[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ut=!1}break;case"pagebreaks":switch(d[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ut=!1}break;case"autofilter":switch(d[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ut=!1}break;case"querytable":switch(d[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ut=!1}break;case"datavalidation":switch(d[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ut=!1}break;case"sorting":case"conditionalformatting":switch(d[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ut=!1}break;case"mapinfo":case"schema":case"data":switch(d[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ut=!1}break;case"smarttags":break;default:Ut=!1;break}if(Ut||d[3].match(/!\[CDATA/))break;if(!p[p.length-1][1])throw"Unrecognized tag: "+d[3]+"|"+p.join("|");if(p[p.length-1][0]==="customdocumentproperties"){if(d[0].slice(-2)==="/>")break;d[1]==="/"?zj(q,xe,z,n.slice(V,d.index)):(z=d,V=d.index+d[0].length);break}if(r.WTF)throw"Unrecognized tag: "+d[3]+"|"+p.join("|")}var Re={};return!r.bookSheets&&!r.bookProps&&(Re.Sheets=y),Re.SheetNames=b,Re.Workbook=le,Re.SSF=ja(ur),Re.Props=Y,Re.Custprops=q,Re}function Sm(e,t){switch(j2(t=t||{}),t.type||"base64"){case"base64":return Up(cs(e),t);case"binary":case"buffer":case"file":return Up(e,t);case"array":return Up(Zl(e),t)}}function Jj(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=uk(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=fk(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Zj=[60,1084,2066,2165,2175];function $j(e,t,r,n,a){var A=n,c=[],d=r.slice(r.l,r.l+A);if(a&&a.enc&&a.enc.insitu&&d.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(d)}c.push(d),r.l+=A;for(var p=zA(r,r.l),m=Nm[p],y=0;m!=null&&Zj.indexOf(p)>-1;)A=zA(r,r.l+2),y=r.l+4,p==2066?y+=4:(p==2165||p==2175)&&(y+=12),d=r.slice(y,r.l+4+A),c.push(d),r.l+=4+A,m=Nm[p=zA(r,r.l)];var b=Lo(c);Ma(b,0);var I=0;b.lens=[];for(var N=0;N<c.length;++N)b.lens.push(I),I+=c[N].length;if(b.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+b.length+" < "+n;return t.f(b,b.length,a)}function AA(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=ur[n])}catch(A){if(t.WTF)throw A}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||tc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ef(e.v):e.w=Vl(e.v):e.w=Fs(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(A){if(t.WTF)throw A}if(t.cellDates&&n&&e.t=="n"&&m0(ur[n]||String(n))){var a=Ol(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function md(e,t,r){return{v:e,ixfe:t,t:r}}function eH(e,t){var r={opts:{}},n={},a=t.dense?[]:{},A={},c={},d=null,p=[],m="",y={},b,I="",N,R,F,D,K={},W=[],H,re,de=[],ee=[],U={Sheets:[],WBProps:{date1904:!1},Views:[{}]},Q={},k=function(Kt){return Kt<8?jl[Kt]:Kt<64&&ee[Kt-8]||jl[Kt]},Y=function(Kt,at,Fe){var Je=at.XF.data;if(!(!Je||!Je.patternType||!Fe||!Fe.cellStyles)){at.s={},at.s.patternType=Je.patternType;var ye;(ye=af(k(Je.icvFore)))&&(at.s.fgColor={rgb:ye}),(ye=af(k(Je.icvBack)))&&(at.s.bgColor={rgb:ye})}},q=function(Kt,at,Fe){if(!(ge>1)&&!(Fe.sheetRows&&Kt.r>=Fe.sheetRows)){if(Fe.cellStyles&&at.XF&&at.XF.data&&Y(Kt,at,Fe),delete at.ixfe,delete at.XF,b=Kt,I=ar(Kt),(!c||!c.s||!c.e)&&(c={s:{r:0,c:0},e:{r:0,c:0}}),Kt.r<c.s.r&&(c.s.r=Kt.r),Kt.c<c.s.c&&(c.s.c=Kt.c),Kt.r+1>c.e.r&&(c.e.r=Kt.r+1),Kt.c+1>c.e.c&&(c.e.c=Kt.c+1),Fe.cellFormula&&at.f){for(var Je=0;Je<W.length;++Je)if(!(W[Je][0].s.c>Kt.c||W[Je][0].s.r>Kt.r)&&!(W[Je][0].e.c<Kt.c||W[Je][0].e.r<Kt.r)){at.F=Nr(W[Je][0]),(W[Je][0].s.c!=Kt.c||W[Je][0].s.r!=Kt.r)&&delete at.f,at.f&&(at.f=""+ti(W[Je][1],c,Kt,Ee,V));break}}Fe.dense?(a[Kt.r]||(a[Kt.r]=[]),a[Kt.r][Kt.c]=at):a[I]=at}},V={enc:!1,sbcch:0,snames:[],sharedf:K,arrayf:W,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(V.password=t.password);var z,ze=[],ve=[],me=[],oe=[],Pe=!1,Ee=[];Ee.SheetNames=V.snames,Ee.sharedf=V.sharedf,Ee.arrayf=V.arrayf,Ee.names=[],Ee.XTI=[];var $e=0,ge=0,X=0,ce=[],le=[],ae;V.codepage=1200,Ws(1200);for(var xe=!1;e.l<e.length-1;){var Xe=e.l,Se=e.read_shift(2);if(Se===0&&$e===10)break;var Ce=e.l===e.length?0:e.read_shift(2),Ue=Nm[Se];if(Ue&&Ue.f){if(t.bookSheets&&$e===133&&Se!==133)break;if($e=Se,Ue.r===2||Ue.r==12){var xt=e.read_shift(2);if(Ce-=2,!V.enc&&xt!==Se&&((xt&255)<<8|xt>>8)!==Se)throw new Error("rt mismatch: "+xt+"!="+Se);Ue.r==12&&(e.l+=10,Ce-=10)}var he={};if(Se===10?he=Ue.f(e,Ce,V):he=$j(Se,Ue,e,Ce,V),ge==0&&[9,521,1033,2057].indexOf($e)===-1)continue;switch(Se){case 34:r.opts.Date1904=U.WBProps.date1904=he;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(V.enc||(e.l=0),V.enc=he,!t.password)throw new Error("File is password-protected");if(he.valid==null)throw new Error("Encryption scheme unsupported");if(!he.valid)throw new Error("Password is incorrect");break;case 92:V.lastuser=he;break;case 66:var _t=Number(he);switch(_t){case 21010:_t=1200;break;case 32768:_t=1e4;break;case 32769:_t=1252;break}Ws(V.codepage=_t),xe=!0;break;case 317:V.rrtabid=he;break;case 25:V.winlocked=he;break;case 439:r.opts.RefreshAll=he;break;case 12:r.opts.CalcCount=he;break;case 16:r.opts.CalcDelta=he;break;case 17:r.opts.CalcIter=he;break;case 13:r.opts.CalcMode=he;break;case 14:r.opts.CalcPrecision=he;break;case 95:r.opts.CalcSaveRecalc=he;break;case 15:V.CalcRefMode=he;break;case 2211:r.opts.FullCalc=he;break;case 129:he.fDialog&&(a["!type"]="dialog"),he.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),he.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:de.push(he);break;case 430:Ee.push([he]),Ee[Ee.length-1].XTI=[];break;case 35:case 547:Ee[Ee.length-1].push(he);break;case 24:case 536:ae={Name:he.Name,Ref:ti(he.rgce,c,null,Ee,V)},he.itab>0&&(ae.Sheet=he.itab-1),Ee.names.push(ae),Ee[0]||(Ee[0]=[],Ee[0].XTI=[]),Ee[Ee.length-1].push(he),he.Name=="_xlnm._FilterDatabase"&&he.itab>0&&he.rgce&&he.rgce[0]&&he.rgce[0][0]&&he.rgce[0][0][0]=="PtgArea3d"&&(le[he.itab-1]={ref:Nr(he.rgce[0][0][1][2])});break;case 22:V.ExternCount=he;break;case 23:Ee.length==0&&(Ee[0]=[],Ee[0].XTI=[]),Ee[Ee.length-1].XTI=Ee[Ee.length-1].XTI.concat(he),Ee.XTI=Ee.XTI.concat(he);break;case 2196:if(V.biff<8)break;ae!=null&&(ae.Comment=he[1]);break;case 18:a["!protect"]=he;break;case 19:he!==0&&V.WTF&&console.error("Password verifier: "+he);break;case 133:A[he.pos]=he,V.snames.push(he.name);break;case 10:{if(--ge)break;if(c.e){if(c.e.r>0&&c.e.c>0){if(c.e.r--,c.e.c--,a["!ref"]=Nr(c),t.sheetRows&&t.sheetRows<=c.e.r){var Rt=c.e.r;c.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Nr(c),c.e.r=Rt}c.e.r++,c.e.c++}ze.length>0&&(a["!merges"]=ze),ve.length>0&&(a["!objects"]=ve),me.length>0&&(a["!cols"]=me),oe.length>0&&(a["!rows"]=oe),U.Sheets.push(Q)}m===""?y=a:n[m]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(V.biff===8&&(V.biff={9:2,521:3,1033:4}[Se]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[he.BIFFVer]||8),V.biffguess=he.BIFFVer==0,he.BIFFVer==0&&he.dt==4096&&(V.biff=5,xe=!0,Ws(V.codepage=28591)),V.biff==8&&he.BIFFVer==0&&he.dt==16&&(V.biff=2),ge++)break;if(a=t.dense?[]:{},V.biff<8&&!xe&&(xe=!0,Ws(V.codepage=t.codepage||1252)),V.biff<5||he.BIFFVer==0&&he.dt==4096){m===""&&(m="Sheet1"),c={s:{r:0,c:0},e:{r:0,c:0}};var Ut={pos:e.l-Ce,name:m};A[Ut.pos]=Ut,V.snames.push(m)}else m=(A[Xe]||{name:""}).name;he.dt==32&&(a["!type"]="chart"),he.dt==64&&(a["!type"]="macro"),ze=[],ve=[],V.arrayf=W=[],me=[],oe=[],Pe=!1,Q={Hidden:(A[Xe]||{hs:0}).hs,name:m}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[he.r]||[])[he.c]:a[ar({c:he.c,r:he.r})])&&++he.c,H={ixfe:he.ixfe,XF:de[he.ixfe]||{},v:he.val,t:"n"},X>0&&(H.z=ce[H.ixfe>>8&63]),AA(H,t,r.opts.Date1904),q({c:he.c,r:he.r},H,t);break;case 5:case 517:H={ixfe:he.ixfe,XF:de[he.ixfe],v:he.val,t:he.t},X>0&&(H.z=ce[H.ixfe>>8&63]),AA(H,t,r.opts.Date1904),q({c:he.c,r:he.r},H,t);break;case 638:H={ixfe:he.ixfe,XF:de[he.ixfe],v:he.rknum,t:"n"},X>0&&(H.z=ce[H.ixfe>>8&63]),AA(H,t,r.opts.Date1904),q({c:he.c,r:he.r},H,t);break;case 189:for(var Ie=he.c;Ie<=he.C;++Ie){var Re=he.rkrec[Ie-he.c][0];H={ixfe:Re,XF:de[Re],v:he.rkrec[Ie-he.c][1],t:"n"},X>0&&(H.z=ce[H.ixfe>>8&63]),AA(H,t,r.opts.Date1904),q({c:Ie,r:he.r},H,t)}break;case 6:case 518:case 1030:{if(he.val=="String"){d=he;break}if(H=md(he.val,he.cell.ixfe,he.tt),H.XF=de[H.ixfe],t.cellFormula){var ht=he.formula;if(ht&&ht[0]&&ht[0][0]&&ht[0][0][0]=="PtgExp"){var Et=ht[0][0][1][0],Ar=ht[0][0][1][1],Ct=ar({r:Et,c:Ar});K[Ct]?H.f=""+ti(he.formula,c,he.cell,Ee,V):H.F=((t.dense?(a[Et]||[])[Ar]:a[Ct])||{}).F}else H.f=""+ti(he.formula,c,he.cell,Ee,V)}X>0&&(H.z=ce[H.ixfe>>8&63]),AA(H,t,r.opts.Date1904),q(he.cell,H,t),d=he}break;case 7:case 519:if(d)d.val=he,H=md(he,d.cell.ixfe,"s"),H.XF=de[H.ixfe],t.cellFormula&&(H.f=""+ti(d.formula,c,d.cell,Ee,V)),X>0&&(H.z=ce[H.ixfe>>8&63]),AA(H,t,r.opts.Date1904),q(d.cell,H,t),d=null;else throw new Error("String record expects Formula");break;case 33:case 545:{W.push(he);var wn=ar(he[0].s);if(N=t.dense?(a[he[0].s.r]||[])[he[0].s.c]:a[wn],t.cellFormula&&N){if(!d||!wn||!N)break;N.f=""+ti(he[1],c,he[0],Ee,V),N.F=Nr(he[0])}}break;case 1212:{if(!t.cellFormula)break;if(I){if(!d)break;K[ar(d.cell)]=he[0],N=t.dense?(a[d.cell.r]||[])[d.cell.c]:a[ar(d.cell)],(N||{}).f=""+ti(he[0],c,b,Ee,V)}}break;case 253:H=md(p[he.isst].t,he.ixfe,"s"),p[he.isst].h&&(H.h=p[he.isst].h),H.XF=de[H.ixfe],X>0&&(H.z=ce[H.ixfe>>8&63]),AA(H,t,r.opts.Date1904),q({c:he.c,r:he.r},H,t);break;case 513:t.sheetStubs&&(H={ixfe:he.ixfe,XF:de[he.ixfe],t:"z"},X>0&&(H.z=ce[H.ixfe>>8&63]),AA(H,t,r.opts.Date1904),q({c:he.c,r:he.r},H,t));break;case 190:if(t.sheetStubs)for(var ln=he.c;ln<=he.C;++ln){var je=he.ixfe[ln-he.c];H={ixfe:je,XF:de[je],t:"z"},X>0&&(H.z=ce[H.ixfe>>8&63]),AA(H,t,r.opts.Date1904),q({c:ln,r:he.r},H,t)}break;case 214:case 516:case 4:H=md(he.val,he.ixfe,"s"),H.XF=de[H.ixfe],X>0&&(H.z=ce[H.ixfe>>8&63]),AA(H,t,r.opts.Date1904),q({c:he.c,r:he.r},H,t);break;case 0:case 512:ge===1&&(c=he);break;case 252:p=he;break;case 1054:if(V.biff==4){ce[X++]=he[1];for(var Tt=0;Tt<X+163&&ur[Tt]!=he[1];++Tt);Tt>=163&&Ql(he[1],X+163)}else Ql(he[1],he[0]);break;case 30:{ce[X++]=he;for(var Bt=0;Bt<X+163&&ur[Bt]!=he;++Bt);Bt>=163&&Ql(he,X+163)}break;case 229:ze=ze.concat(he);break;case 93:ve[he.cmo[0]]=V.lastobj=he;break;case 438:V.lastobj.TxO=he;break;case 127:V.lastobj.ImData=he;break;case 440:for(D=he[0].s.r;D<=he[0].e.r;++D)for(F=he[0].s.c;F<=he[0].e.c;++F)N=t.dense?(a[D]||[])[F]:a[ar({c:F,r:D})],N&&(N.l=he[1]);break;case 2048:for(D=he[0].s.r;D<=he[0].e.r;++D)for(F=he[0].s.c;F<=he[0].e.c;++F)N=t.dense?(a[D]||[])[F]:a[ar({c:F,r:D})],N&&N.l&&(N.l.Tooltip=he[1]);break;case 28:{if(V.biff<=5&&V.biff>=2)break;N=t.dense?(a[he[0].r]||[])[he[0].c]:a[ar(he[0])];var Xt=ve[he[2]];N||(t.dense?(a[he[0].r]||(a[he[0].r]=[]),N=a[he[0].r][he[0].c]={t:"z"}):N=a[ar(he[0])]={t:"z"},c.e.r=Math.max(c.e.r,he[0].r),c.s.r=Math.min(c.s.r,he[0].r),c.e.c=Math.max(c.e.c,he[0].c),c.s.c=Math.min(c.s.c,he[0].c)),N.c||(N.c=[]),R={a:he[1],t:Xt.TxO.t},N.c.push(R)}break;case 2173:EL(de[he.ixfe],he.ext);break;case 125:{if(!V.cellStyles)break;for(;he.e>=he.s;)me[he.e--]={width:he.w/256,level:he.level||0,hidden:!!(he.flags&1)},Pe||(Pe=!0,U2(he.w/256)),l0(me[he.e+1])}break;case 520:{var or={};he.level!=null&&(oe[he.r]=or,or.level=he.level),he.hidden&&(oe[he.r]=or,or.hidden=!0),he.hpt&&(oe[he.r]=or,or.hpt=he.hpt,or.hpx=sf(he.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Pu(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Se]]=he;break;case 161:a["!margins"]||Pu(a["!margins"]={}),a["!margins"].header=he.header,a["!margins"].footer=he.footer;break;case 574:he.RTL&&(U.Views[0].RTL=!0);break;case 146:ee=he;break;case 2198:z=he;break;case 140:re=he;break;case 442:m?Q.CodeName=he||Q.name:U.WBProps.CodeName=he||"ThisWorkbook";break}}else Ue||console.error("Missing Info for XLS Record 0x"+Se.toString(16)),e.l+=Ce}return r.SheetNames=fA(A).sort(function(fr,Kt){return Number(fr)-Number(Kt)}).map(function(fr){return A[fr].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&y["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=y)):r.Preamble=y,r.Sheets&&le.forEach(function(fr,Kt){r.Sheets[r.SheetNames[Kt]]["!autofilter"]=fr}),r.Strings=p,r.SSF=ja(ur),V.enc&&(r.Encryption=V.enc),z&&(r.Themes=z),r.Metadata={},re!==void 0&&(r.Metadata.Country=re),Ee.names.length>0&&(U.Names=Ee.names),r.Workbook=U,r}var PB={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function tH(e,t,r){var n=Sr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=bB(n,mk,PB.DSI);for(var A in a)t[A]=a[A]}catch(m){if(r.WTF)throw m}var c=Sr.find(e,"/!SummaryInformation");if(c&&c.size>0)try{var d=bB(c,wk,PB.SI);for(var p in d)t[p]==null&&(t[p]=d[p])}catch(m){if(r.WTF)throw m}t.HeadingPairs&&t.TitlesOfParts&&(y3(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function aI(e,t){t||(t={}),j2(t),DT(),t.codepage&&m2(t.codepage);var r,n;if(e.FullPaths){if(Sr.find(e,"/encryption"))throw new Error("File is password-protected");r=Sr.find(e,"!CompObj"),n=Sr.find(e,"/Workbook")||Sr.find(e,"/Book")}else{switch(t.type){case"base64":e=zs(cs(e));break;case"binary":e=zs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ma(e,0),n={content:e}}var a,A;if(r&&Jj(r),t.bookProps&&!t.bookSheets)a={};else{var c=_r?"buffer":"array";if(n&&n.content)a=eH(n.content,t);else if((A=Sr.find(e,"PerfectOffice_MAIN"))&&A.content)a=ju.to_workbook(A.content,(t.type=c,t));else if((A=Sr.find(e,"NativeContent_MAIN"))&&A.content)a=ju.to_workbook(A.content,(t.type=c,t));else throw(A=Sr.find(e,"MN0"))&&A.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Sr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=jL(e))}var d={};return e.FullPaths&&tH(e,d,t),a.Props=a.Custprops=d,t.bookFiles&&(a.cfb=e),a}var c1={0:{f:kQ},1:{f:jQ},2:{f:YQ},3:{f:GQ},4:{f:PQ},5:{f:XQ},6:{f:ZQ},7:{f:zQ},8:{f:nj},9:{f:rj},10:{f:ej},11:{f:tj},12:{f:HQ},13:{f:qQ},14:{f:KQ},15:{f:VQ},16:{f:$3},17:{f:$Q},18:{f:WQ},19:{f:S2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Nj},40:{},42:{},43:{f:eL},44:{f:$9},45:{f:tL},46:{f:nL},47:{f:rL},48:{},49:{f:ak},50:{},51:{f:BL},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:D3},62:{f:JQ},63:{f:SL},64:{f:fj},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ai,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:uj},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:QQ},148:{f:MQ,p:16},151:{f:sj},152:{},153:{f:Ij},154:{},155:{},156:{f:Tj},157:{},158:{},159:{T:1,f:w9},160:{T:-1},161:{T:1,f:ec},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:aj},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:CL},336:{T:-1},337:{f:bL,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bm},357:{},358:{},359:{},360:{T:1},361:{},362:{f:R3},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Aj},427:{f:oj},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:cj},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:LQ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ij},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bm},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:ML},633:{T:1},634:{T:-1},635:{T:1,f:kL},636:{T:-1},637:{f:sk},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:mj},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:hj},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Nm={6:{f:Dp},10:{f:Ro},12:{f:Aa},13:{f:Aa},14:{f:Xn},15:{f:Xn},16:{f:ni},17:{f:Xn},18:{f:Xn},19:{f:Aa},20:{f:SB},21:{f:SB},23:{f:R3},24:{f:FB},25:{f:Xn},26:{},27:{},28:{f:OM},29:{},34:{f:Xn},35:{f:NB},38:{f:ni},39:{f:ni},40:{f:ni},41:{f:ni},42:{f:Xn},43:{f:Xn},47:{f:L9},49:{f:gM},51:{f:Aa},60:{},61:{f:fM},64:{f:Xn},65:{f:dM},66:{f:Aa},77:{},80:{},81:{},82:{},85:{f:Aa},89:{},90:{},91:{},92:{f:aM},93:{f:kM},94:{},95:{f:Xn},96:{},97:{},99:{f:Xn},125:{f:D3},128:{f:bM},129:{f:iM},130:{f:Aa},131:{f:Xn},132:{f:Xn},133:{f:sM},134:{},140:{f:PM},141:{f:Aa},144:{},146:{f:GM},151:{},152:{},153:{},154:{},155:{},156:{f:Aa},157:{},158:{},160:{f:YM},161:{f:zM},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:yM},190:{f:EM},193:{f:Ro},197:{},198:{},199:{},200:{},201:{},202:{f:Xn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Aa},220:{},221:{f:Xn},222:{},224:{f:BM},225:{f:nM},226:{f:Ro},227:{},229:{f:UM},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:AM},253:{f:xM},255:{f:oM},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:_3},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Xn},353:{f:Ro},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:TM},431:{f:Xn},432:{},433:{},434:{},437:{},438:{f:QM},439:{f:Xn},440:{f:jM},441:{},442:{f:vf},443:{},444:{f:Aa},445:{},446:{},448:{f:Ro},449:{f:uM,r:2},450:{f:Ro},512:{f:TB},513:{f:XM},515:{f:_M},516:{f:pM},517:{f:IB},519:{f:qM},520:{f:lM},523:{},545:{f:RB},549:{f:_B},566:{},574:{f:hM},638:{f:vM},659:{},1048:{},1054:{f:mM},1084:{},1212:{f:FM},2048:{f:HM},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:gd},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ro},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:KM,r:12},2173:{f:yL,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Xn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:NM,r:12},2197:{},2198:{f:gL,r:12},2199:{},2200:{},2201:{},2202:{f:RM,r:12},2203:{f:Ro},2204:{},2205:{},2206:{},2207:{},2211:{f:cM},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Aa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:WM},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:VM},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:TB},1:{},2:{f:e9},3:{f:$M},4:{f:ZM},5:{f:IB},7:{f:t9},8:{},9:{f:gd},11:{},22:{f:Aa},30:{f:wM},31:{},32:{},33:{f:RB},36:{},37:{f:_B},50:{f:r9},62:{},52:{},67:{},68:{f:Aa},69:{},86:{},126:{},127:{f:JM},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:n9},223:{},234:{},354:{},421:{},518:{f:Dp},521:{f:gd},536:{f:FB},547:{f:NB},561:{},579:{},1030:{f:Dp},1033:{f:gd},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ps(e,t,r,n){var a=t;if(!isNaN(a)){var A=(r||[]).length||0,c=e.next(4);c.write_shift(2,a),c.write_shift(2,A),A>0&&h3(r)&&e.push(r)}}function VB(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var A=e.match(/<\/table/i),c=a.index,d=A&&A.index||e.length,p=_U(e.slice(c,d),/(:?<tr[^>]*>)/i,"<tr>"),m=-1,y=0,b=0,I=0,N={s:{r:1e7,c:1e7},e:{r:0,c:0}},R=[];for(c=0;c<p.length;++c){var F=p[c].trim(),D=F.slice(0,3).toLowerCase();if(D=="<tr"){if(++m,r.sheetRows&&r.sheetRows<=m){--m;break}y=0;continue}if(!(D!="<td"&&D!="<th")){var K=F.split(/<\/t[dh]>/i);for(d=0;d<K.length;++d){var W=K[d].trim();if(W.match(/<t[dh]/i)){for(var H=W,re=0;H.charAt(0)=="<"&&(re=H.indexOf(">"))>-1;)H=H.slice(re+1);for(var de=0;de<R.length;++de){var ee=R[de];ee.s.c==y&&ee.s.r<m&&m<=ee.e.r&&(y=ee.e.c+1,de=-1)}var U=Jt(W.slice(0,W.indexOf(">")));I=U.colspan?+U.colspan:1,((b=+U.rowspan)>1||I>1)&&R.push({s:{r:m,c:y},e:{r:m+(b||1)-1,c:y+I-1}});var Q=U.t||U["data-t"]||"";if(!H.length){y+=I;continue}if(H=e3(H),N.s.r>m&&(N.s.r=m),N.e.r<m&&(N.e.r=m),N.s.c>y&&(N.s.c=y),N.e.c<y&&(N.e.c=y),!H.length){y+=I;continue}var k={t:"s",v:H};r.raw||!H.trim().length||Q=="s"||(H==="TRUE"?k={t:"b",v:!0}:H==="FALSE"?k={t:"b",v:!1}:isNaN(Ys(H))?isNaN(o0(H).getDate())||(k={t:"d",v:_a(H)},r.cellDates||(k={t:"n",v:yi(k.v)}),k.z=r.dateNF||ur[14]):k={t:"n",v:Ys(H)}),r.dense?(n[m]||(n[m]=[]),n[m][y]=k):n[ar({r:m,c:y})]=k,y+=I}}}}return n["!ref"]=Nr(N),R.length&&(n["!merges"]=R),n}function rH(e,t,r,n){for(var a=e["!merges"]||[],A=[],c=t.s.c;c<=t.e.c;++c){for(var d=0,p=0,m=0;m<a.length;++m)if(!(a[m].s.r>r||a[m].s.c>c)&&!(a[m].e.r<r||a[m].e.c<c)){if(a[m].s.r<r||a[m].s.c<c){d=-1;break}d=a[m].e.r-a[m].s.r+1,p=a[m].e.c-a[m].s.c+1;break}if(!(d<0)){var y=ar({r,c}),b=n.dense?(e[r]||[])[c]:e[y],I=b&&b.v!=null&&(b.h||B2(b.w||(ZA(b),b.w)||""))||"",N={};d>1&&(N.rowspan=d),p>1&&(N.colspan=p),n.editable?I='<span contenteditable="true">'+I+"</span>":b&&(N["data-t"]=b&&b.t||"z",b.v!=null&&(N["data-v"]=b.v),b.z!=null&&(N["data-z"]=b.z),b.l&&(b.l.Target||"#").charAt(0)!="#"&&(I='<a href="'+b.l.Target+'">'+I+"</a>")),N.id=(n.id||"sjs")+"-"+y,A.push(PU("td",I,N))}}var R="<tr>";return R+A.join("")+"</tr>"}var nH='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',aH="</body></html>";function iH(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return al(VB(r[0],t),t);var n=P2();return r.forEach(function(a,A){V2(n,VB(a,t),"Sheet"+(A+1))}),n}function sH(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function AH(e,t){var r=t||{},n=r.header!=null?r.header:nH,a=r.footer!=null?r.footer:aH,A=[n],c=w0(e["!ref"]);r.dense=Array.isArray(e),A.push(sH(e,c,r));for(var d=c.s.r;d<=c.e.r;++d)A.push(rH(e,c,d,r));return A.push("</table>"+a),A.join("")}function iI(e,t,r){var n=r||{},a=0,A=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?wi(n.origin):n.origin;a=c.r,A=c.c}var d=t.getElementsByTagName("tr"),p=Math.min(n.sheetRows||1e7,d.length),m={s:{r:0,c:0},e:{r:a,c:A}};if(e["!ref"]){var y=w0(e["!ref"]);m.s.r=Math.min(m.s.r,y.s.r),m.s.c=Math.min(m.s.c,y.s.c),m.e.r=Math.max(m.e.r,y.e.r),m.e.c=Math.max(m.e.c,y.e.c),a==-1&&(m.e.r=a=y.e.r+1)}var b=[],I=0,N=e["!rows"]||(e["!rows"]=[]),R=0,F=0,D=0,K=0,W=0,H=0;for(e["!cols"]||(e["!cols"]=[]);R<d.length&&F<p;++R){var re=d[R];if(GB(re)){if(n.display)continue;N[F]={hidden:!0}}var de=re.children;for(D=K=0;D<de.length;++D){var ee=de[D];if(!(n.display&&GB(ee))){var U=ee.hasAttribute("data-v")?ee.getAttribute("data-v"):ee.hasAttribute("v")?ee.getAttribute("v"):e3(ee.innerHTML),Q=ee.getAttribute("data-z")||ee.getAttribute("z");for(I=0;I<b.length;++I){var k=b[I];k.s.c==K+A&&k.s.r<F+a&&F+a<=k.e.r&&(K=k.e.c+1-A,I=-1)}H=+ee.getAttribute("colspan")||1,((W=+ee.getAttribute("rowspan")||1)>1||H>1)&&b.push({s:{r:F+a,c:K+A},e:{r:F+a+(W||1)-1,c:K+A+(H||1)-1}});var Y={t:"s",v:U},q=ee.getAttribute("data-t")||ee.getAttribute("t")||"";U!=null&&(U.length==0?Y.t=q||"z":n.raw||U.trim().length==0||q=="s"||(U==="TRUE"?Y={t:"b",v:!0}:U==="FALSE"?Y={t:"b",v:!1}:isNaN(Ys(U))?isNaN(o0(U).getDate())||(Y={t:"d",v:_a(U)},n.cellDates||(Y={t:"n",v:yi(Y.v)}),Y.z=n.dateNF||ur[14]):Y={t:"n",v:Ys(U)})),Y.z===void 0&&Q!=null&&(Y.z=Q);var V="",z=ee.getElementsByTagName("A");if(z&&z.length)for(var ze=0;ze<z.length&&!(z[ze].hasAttribute("href")&&(V=z[ze].getAttribute("href"),V.charAt(0)!="#"));++ze);V&&V.charAt(0)!="#"&&(Y.l={Target:V}),n.dense?(e[F+a]||(e[F+a]=[]),e[F+a][K+A]=Y):e[ar({c:K+A,r:F+a})]=Y,m.e.c<K+A&&(m.e.c=K+A),K+=H}}++F}return b.length&&(e["!merges"]=(e["!merges"]||[]).concat(b)),m.e.r=Math.max(m.e.r,F-1+a),e["!ref"]=Nr(m),F>=p&&(e["!fullref"]=Nr((m.e.r=d.length-R+F-1+a,m))),e}function sI(e,t){var r=t||{},n=r.dense?[]:{};return iI(n,e,t)}function oH(e,t){return al(sI(e,t),t)}function GB(e){var t="",r=lH(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function lH(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function cH(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Or(t.replace(/<[^>]*>/g,""));return[r]}var KB={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function AI(e,t){var r=t||{},n=b2(e),a=[],A,c,d={name:""},p="",m=0,y,b,I={},N=[],R=r.dense?[]:{},F,D,K={value:""},W="",H=0,re=[],de=-1,ee=-1,U={s:{r:1e6,c:1e7},e:{r:0,c:0}},Q=0,k={},Y=[],q={},V=0,z=0,ze=[],ve=1,me=1,oe=[],Pe={Names:[]},Ee={},$e=["",""],ge=[],X={},ce="",le=0,ae=!1,xe=!1,Xe=0;for(rf.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");F=rf.exec(n);)switch(F[3]=F[3].replace(/_.*$/,"")){case"table":case"":F[1]==="/"?(U.e.c>=U.s.c&&U.e.r>=U.s.r?R["!ref"]=Nr(U):R["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=U.e.r&&(R["!fullref"]=R["!ref"],U.e.r=r.sheetRows-1,R["!ref"]=Nr(U)),Y.length&&(R["!merges"]=Y),ze.length&&(R["!rows"]=ze),y.name=y.||y.name,typeof JSON<"u"&&JSON.stringify(y),N.push(y.name),I[y.name]=R,xe=!1):F[0].charAt(F[0].length-2)!=="/"&&(y=Jt(F[0],!1),de=ee=-1,U.s.r=U.s.c=1e7,U.e.r=U.e.c=0,R=r.dense?[]:{},Y=[],ze=[],xe=!0);break;case"table-row-group":F[1]==="/"?--Q:++Q;break;case"table-row":case"":if(F[1]==="/"){de+=ve,ve=1;break}if(b=Jt(F[0],!1),b.?de=b.-1:de==-1&&(de=0),ve=+b["number-rows-repeated"]||1,ve<10)for(Xe=0;Xe<ve;++Xe)Q>0&&(ze[de+Xe]={level:Q});ee=-1;break;case"covered-table-cell":F[1]!=="/"&&++ee,r.sheetStubs&&(r.dense?(R[de]||(R[de]=[]),R[de][ee]={t:"z"}):R[ar({r:de,c:ee})]={t:"z"}),W="",re=[];break;case"table-cell":case"":if(F[0].charAt(F[0].length-2)==="/")++ee,K=Jt(F[0],!1),me=parseInt(K["number-columns-repeated"]||"1",10),D={t:"z",v:null},K.formula&&r.cellFormula!=!1&&(D.f=QB(Or(K.formula))),(K.||K["value-type"])=="string"&&(D.t="s",D.v=Or(K["string-value"]||""),r.dense?(R[de]||(R[de]=[]),R[de][ee]=D):R[ar({r:de,c:ee})]=D),ee+=me-1;else if(F[1]!=="/"){++ee,W="",H=0,re=[],me=1;var Se=ve?de+ve-1:de;if(ee>U.e.c&&(U.e.c=ee),ee<U.s.c&&(U.s.c=ee),de<U.s.r&&(U.s.r=de),Se>U.e.r&&(U.e.r=Se),K=Jt(F[0],!1),ge=[],X={},D={t:K.||K["value-type"],v:null},r.cellFormula)if(K.formula&&(K.formula=Or(K.formula)),K["number-matrix-columns-spanned"]&&K["number-matrix-rows-spanned"]&&(V=parseInt(K["number-matrix-rows-spanned"],10)||0,z=parseInt(K["number-matrix-columns-spanned"],10)||0,q={s:{r:de,c:ee},e:{r:de+V-1,c:ee+z-1}},D.F=Nr(q),oe.push([q,D.F])),K.formula)D.f=QB(K.formula);else for(Xe=0;Xe<oe.length;++Xe)de>=oe[Xe][0].s.r&&de<=oe[Xe][0].e.r&&ee>=oe[Xe][0].s.c&&ee<=oe[Xe][0].e.c&&(D.F=oe[Xe][1]);switch((K["number-columns-spanned"]||K["number-rows-spanned"])&&(V=parseInt(K["number-rows-spanned"],10)||0,z=parseInt(K["number-columns-spanned"],10)||0,q={s:{r:de,c:ee},e:{r:de+V-1,c:ee+z-1}},Y.push(q)),K["number-columns-repeated"]&&(me=parseInt(K["number-columns-repeated"],10)),D.t){case"boolean":D.t="b",D.v=Bn(K["boolean-value"]);break;case"float":D.t="n",D.v=parseFloat(K.value);break;case"percentage":D.t="n",D.v=parseFloat(K.value);break;case"currency":D.t="n",D.v=parseFloat(K.value);break;case"date":D.t="d",D.v=_a(K["date-value"]),r.cellDates||(D.t="n",D.v=yi(D.v)),D.z="m/d/yy";break;case"time":D.t="n",D.v=CU(K["time-value"])/86400,r.cellDates&&(D.t="d",D.v=H1(D.v)),D.z="HH:MM:SS";break;case"number":D.t="n",D.v=parseFloat(K.);break;default:if(D.t==="string"||D.t==="text"||!D.t)D.t="s",K["string-value"]!=null&&(W=Or(K["string-value"]),re=[]);else throw new Error("Unsupported value type "+D.t)}}else{if(ae=!1,D.t==="s"&&(D.v=W||"",re.length&&(D.R=re),ae=H==0),Ee.Target&&(D.l=Ee),ge.length>0&&(D.c=ge,ge=[]),W&&r.cellText!==!1&&(D.w=W),ae&&(D.t="z",delete D.v),(!ae||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=de))for(var Ce=0;Ce<ve;++Ce){if(me=parseInt(K["number-columns-repeated"]||"1",10),r.dense)for(R[de+Ce]||(R[de+Ce]=[]),R[de+Ce][ee]=Ce==0?D:ja(D);--me>0;)R[de+Ce][ee+me]=ja(D);else for(R[ar({r:de+Ce,c:ee})]=D;--me>0;)R[ar({r:de+Ce,c:ee+me})]=ja(D);U.e.c<=ee&&(U.e.c=ee)}me=parseInt(K["number-columns-repeated"]||"1",10),ee+=me-1,me=0,D={},W="",re=[]}Ee={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(F[1]==="/"){if((A=a.pop())[0]!==F[3])throw"Bad state: "+A}else F[0].charAt(F[0].length-2)!=="/"&&a.push([F[3],!0]);break;case"annotation":if(F[1]==="/"){if((A=a.pop())[0]!==F[3])throw"Bad state: "+A;X.t=W,re.length&&(X.R=re),X.a=ce,ge.push(X)}else F[0].charAt(F[0].length-2)!=="/"&&a.push([F[3],!1]);ce="",le=0,W="",H=0,re=[];break;case"creator":F[1]==="/"?ce=n.slice(le,F.index):le=F.index+F[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(F[1]==="/"){if((A=a.pop())[0]!==F[3])throw"Bad state: "+A}else F[0].charAt(F[0].length-2)!=="/"&&a.push([F[3],!1]);W="",H=0,re=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(F[1]==="/"){if(k[d.name]=p,(A=a.pop())[0]!==F[3])throw"Bad state: "+A}else F[0].charAt(F[0].length-2)!=="/"&&(p="",d=Jt(F[0],!1),a.push([F[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":c=Jt(F[0],!1),p+=KB[F[3]][c.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":c=Jt(F[0],!1),p+=KB[F[3]][c.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(F[0].slice(-2)==="/>")break;if(F[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":p+=n.slice(m,F.index);break}else m=F.index+F[0].length;break;case"named-range":c=Jt(F[0],!1),$e=Op(c["cell-range-address"]);var Ue={Name:c.name,Ref:$e[0]+"!"+$e[1]};xe&&(Ue.Sheet=N.length),Pe.Names.push(Ue);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(F[1]==="/"&&(!K||!K["string-value"])){var xt=cH(n.slice(H,F.index));W=(W.length>0?W+`
`:"")+xt[0]}else Jt(F[0],!1),H=F.index+F[0].length;break;case"s":break;case"database-range":if(F[1]==="/")break;try{$e=Op(Jt(F[0])["target-range-address"]),I[$e[0]]["!autofilter"]={ref:$e[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(F[1]!=="/"){if(Ee=Jt(F[0],!1),!Ee.href)break;Ee.Target=Or(Ee.href),delete Ee.href,Ee.Target.charAt(0)=="#"&&Ee.Target.indexOf(".")>-1?($e=Op(Ee.Target.slice(1)),Ee.Target="#"+$e[0]+"!"+$e[1]):Ee.Target.match(/^\.\.[\\\/]/)&&(Ee.Target=Ee.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(F[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(F)}}var he={Sheets:I,SheetNames:N,Workbook:Pe};return r.bookSheets&&delete he.Sheets,he}function zB(e,t){t=t||{},Ts(e,"META-INF/manifest.xml")&&_k(sa(e,"META-INF/manifest.xml"),t);var r=As(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=AI(hn(r),t);return Ts(e,"meta.xml")&&(n.Props=v3(sa(e,"meta.xml"))),n}function WB(e,t){return AI(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function L2(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Fm(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):hn(Zl(e))}function Rm(e){var t=e.reduce(function(a,A){return a+A.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function XB(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function uH(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Af(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function xa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ai(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Af(e,r),A=a&7;a=Math.floor(a/8);var c=0,d;if(a==0)break;switch(A){case 0:{for(var p=r[0];e[r[0]++]>=128;);d=e.slice(p,r[0])}break;case 5:c=4,d=e.slice(r[0],r[0]+c),r[0]+=c;break;case 1:c=8,d=e.slice(r[0],r[0]+c),r[0]+=c;break;case 2:c=Af(e,r),d=e.slice(r[0],r[0]+c),r[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(A," for Field ").concat(a," at offset ").concat(n))}var m={data:d,type:A};t[a]==null?t[a]=[m]:t[a].push(m)}return t}function Q2(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function fH(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Af(e,n),A=ai(e.slice(n[0],n[0]+a));n[0]+=a;var c={id:xa(A[1][0].data),messages:[]};A[2].forEach(function(d){var p=ai(d.data),m=xa(p[3][0].data);c.messages.push({meta:p,data:e.slice(n[0],n[0]+m)}),n[0]+=m}),(t=A[3])!=null&&t[0]&&(c.merge=xa(A[3][0].data)>>>0>0),r.push(c)}return r}function hH(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Af(t,r),a=[];r[0]<t.length;){var A=t[r[0]]&3;if(A==0){var c=t[r[0]++]>>2;if(c<60)++c;else{var d=c-59;c=t[r[0]],d>1&&(c|=t[r[0]+1]<<8),d>2&&(c|=t[r[0]+2]<<16),d>3&&(c|=t[r[0]+3]<<24),c>>>=0,c++,r[0]+=d}a.push(t.slice(r[0],r[0]+c)),r[0]+=c;continue}else{var p=0,m=0;if(A==1?(m=(t[r[0]]>>2&7)+4,p=(t[r[0]++]&224)<<3,p|=t[r[0]++]):(m=(t[r[0]++]>>2)+1,A==2?(p=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(p=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Rm(a)],p==0)throw new Error("Invalid offset 0");if(p>a[0].length)throw new Error("Invalid offset beyond length");if(m>=p)for(a.push(a[0].slice(-p)),m-=p;m>=a[a.length-1].length;)a.push(a[a.length-1]),m-=a[a.length-1].length;a.push(a[0].slice(-p,-p+m))}}var y=Rm(a);if(y.length!=n)throw new Error("Unexpected length: ".concat(y.length," != ").concat(n));return y}function dH(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(hH(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Rm(t)}function gH(e,t,r,n){var a=L2(e),A=a.getUint32(4,!0),c=(n>1?12:8)+XB(A&(n>1?3470:398))*4,d=-1,p=-1,m=NaN,y=new Date(2001,0,1);A&512&&(d=a.getUint32(c,!0),c+=4),c+=XB(A&(n>1?12288:4096))*4,A&16&&(p=a.getUint32(c,!0),c+=4),A&32&&(m=a.getFloat64(c,!0),c+=8),A&64&&(y.setTime(y.getTime()+a.getFloat64(c,!0)*1e3),c+=8);var b;switch(e[2]){case 0:break;case 2:b={t:"n",v:m};break;case 3:b={t:"s",v:t[p]};break;case 5:b={t:"d",v:y};break;case 6:b={t:"b",v:m>0};break;case 7:b={t:"n",v:m/86400};break;case 8:b={t:"e",v:0};break;case 9:if(d>-1)b={t:"s",v:r[d]};else if(p>-1)b={t:"s",v:t[p]};else if(!isNaN(m))b={t:"n",v:m};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return b}function xH(e,t,r){var n=L2(e),a=n.getUint32(8,!0),A=12,c=-1,d=-1,p=NaN,m=NaN,y=new Date(2001,0,1);a&1&&(p=uH(e,A),A+=16),a&2&&(m=n.getFloat64(A,!0),A+=8),a&4&&(y.setTime(y.getTime()+n.getFloat64(A,!0)*1e3),A+=8),a&8&&(d=n.getUint32(A,!0),A+=4),a&16&&(c=n.getUint32(A,!0),A+=4);var b;switch(e[1]){case 0:break;case 2:b={t:"n",v:p};break;case 3:b={t:"s",v:t[d]};break;case 5:b={t:"d",v:y};break;case 6:b={t:"b",v:m>0};break;case 7:b={t:"n",v:m/86400};break;case 8:b={t:"e",v:0};break;case 9:if(c>-1)b={t:"s",v:r[c]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:b={t:"n",v:p};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return b}function pH(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return gH(e,t,r,e[0]);case 5:return xH(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Wo(e){var t=ai(e);return Af(t[1][0].data)}function YB(e,t){var r=ai(t.data),n=xa(r[1][0].data),a=r[3],A=[];return(a||[]).forEach(function(c){var d=ai(c.data),p=xa(d[1][0].data)>>>0;switch(n){case 1:A[p]=Fm(d[3][0].data);break;case 8:{var m=e[Wo(d[9][0].data)][0],y=ai(m.data),b=e[Wo(y[1][0].data)][0],I=xa(b.meta[1][0].data);if(I!=2001)throw new Error("2000 unexpected reference to ".concat(I));var N=ai(b.data);A[p]=N[3].map(function(R){return Fm(R.data)}).join("")}break}}),A}function mH(e,t){var r,n,a,A,c,d,p,m,y,b,I,N,R,F,D=ai(e),K=xa(D[1][0].data)>>>0,W=xa(D[2][0].data)>>>0,H=((n=(r=D[8])==null?void 0:r[0])==null?void 0:n.data)&&xa(D[8][0].data)>0||!1,re,de;if((A=(a=D[7])==null?void 0:a[0])!=null&&A.data&&t!=0)re=(d=(c=D[7])==null?void 0:c[0])==null?void 0:d.data,de=(m=(p=D[6])==null?void 0:p[0])==null?void 0:m.data;else if((b=(y=D[4])==null?void 0:y[0])!=null&&b.data&&t!=1)re=(N=(I=D[4])==null?void 0:I[0])==null?void 0:N.data,de=(F=(R=D[3])==null?void 0:R[0])==null?void 0:F.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var ee=H?4:1,U=L2(re),Q=[],k=0;k<re.length/2;++k){var Y=U.getUint16(k*2,!0);Y<65535&&Q.push([k,Y])}if(Q.length!=W)throw"Expected ".concat(W," cells, found ").concat(Q.length);var q=[];for(k=0;k<Q.length-1;++k)q[Q[k][0]]=de.subarray(Q[k][1]*ee,Q[k+1][1]*ee);return Q.length>=1&&(q[Q[Q.length-1][0]]=de.subarray(Q[Q.length-1][1]*ee)),{R:K,cells:q}}function wH(e,t){var r,n=ai(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?xa(n[7][0].data)>>>0>0?1:0:-1,A=Q2(n[5],function(c){return mH(c,a)});return{nrows:xa(n[4][0].data)>>>0,data:A.reduce(function(c,d){return c[d.R]||(c[d.R]=[]),d.cells.forEach(function(p,m){if(c[d.R][m])throw new Error("Duplicate cell r=".concat(d.R," c=").concat(m));c[d.R][m]=p}),c},[])}}function vH(e,t,r){var n,a=ai(t.data),A={s:{r:0,c:0},e:{r:0,c:0}};if(A.e.r=(xa(a[6][0].data)>>>0)-1,A.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(A.e.c=(xa(a[7][0].data)>>>0)-1,A.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Nr(A);var c=ai(a[4][0].data),d=YB(e,e[Wo(c[4][0].data)][0]),p=(n=c[17])!=null&&n[0]?YB(e,e[Wo(c[17][0].data)][0]):[],m=ai(c[3][0].data),y=0;m[1].forEach(function(b){var I=ai(b.data),N=e[Wo(I[2][0].data)][0],R=xa(N.meta[1][0].data);if(R!=6002)throw new Error("6001 unexpected reference to ".concat(R));var F=wH(e,N);F.data.forEach(function(D,K){D.forEach(function(W,H){var re=ar({r:y+K,c:H}),de=pH(W,d,p);de&&(r[re]=de)})}),y+=F.nrows})}function yH(e,t){var r=ai(t.data),n={"!ref":"A1"},a=e[Wo(r[2][0].data)],A=xa(a[0].meta[1][0].data);if(A!=6001)throw new Error("6000 unexpected reference to ".concat(A));return vH(e,a[0],n),n}function EH(e,t){var r,n=ai(t.data),a={name:(r=n[1])!=null&&r[0]?Fm(n[1][0].data):"",sheets:[]},A=Q2(n[2],Wo);return A.forEach(function(c){e[c].forEach(function(d){var p=xa(d.meta[1][0].data);p==6e3&&a.sheets.push(yH(e,d))})}),a}function CH(e,t){var r=P2(),n=ai(t.data),a=Q2(n[1],Wo);if(a.forEach(function(A){e[A].forEach(function(c){var d=xa(c.meta[1][0].data);if(d==2){var p=EH(e,c);p.sheets.forEach(function(m,y){V2(r,m,y==0?p.name:p.name+"_"+y,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function kp(e){var t,r,n,a,A={},c=[];if(e.FullPaths.forEach(function(p){if(p.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(p){if(p.name.match(/\.iwa$/)){var m;try{m=dH(p.content)}catch(b){return console.log("?? "+p.content.length+" "+(b.message||b))}var y;try{y=fH(m)}catch(b){return console.log("## "+(b.message||b))}y.forEach(function(b){A[b.id]=b.messages,c.push(b.id)})}}),!c.length)throw new Error("File has no messages");var d=((a=(n=(r=(t=A==null?void 0:A[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&xa(A[1][0].meta[1][0].data)==1&&A[1][0];if(d||c.forEach(function(p){A[p].forEach(function(m){var y=xa(m.meta[1][0].data)>>>0;if(y==1)if(!d)d=m;else throw new Error("Document has multiple roots")})}),!d)throw new Error("Cannot find Document root");return CH(A,d)}function BH(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function j2(e){BH([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function bH(e){return Zc.WS.indexOf(e)>-1?"sheet":e==Zc.CS?"chart":e==Zc.DS?"dialog":e==Zc.MS?"macro":e&&e.length?e:"sheet"}function _H(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,bH(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function TH(e,t,r,n,a,A,c,d,p,m,y,b){try{A[n]=Lu(As(e,r,!0),t);var I=sa(e,t),N;switch(d){case"sheet":N=Dj(I,t,a,p,A[n],m,y,b);break;case"chart":if(N=Oj(I,t,a,p,A[n],m,y,b),!N||!N["!drawel"])break;var R=Eu(N["!drawel"].Target,t),F=_m(R),D=RL(As(e,R,!0),Lu(As(e,F,!0),R)),K=Eu(D,R),W=_m(K);N=xj(As(e,K,!0),K,p,Lu(As(e,W,!0),K),m,N);break;case"macro":N=Uj(I,t,a,p,A[n],m,y,b);break;case"dialog":N=kj(I,t,a,p,A[n],m,y,b);break;default:throw new Error("Unrecognized sheet type "+d)}c[n]=N;var H=[];A&&A[n]&&fA(A[n]).forEach(function(re){var de="";if(A[n][re].Type==Zc.CMNT){de=Eu(A[n][re].Target,t);var ee=jj(sa(e,de,!0),de,p);if(!ee||!ee.length)return;OB(N,ee,!1)}A[n][re].Type==Zc.TCMNT&&(de=Eu(A[n][re].Target,t),H=H.concat(OL(sa(e,de,!0),p)))}),H&&H.length&&OB(N,H,!0,p.people||[])}catch(re){if(p.WTF)throw re}}function Bs(e){return e.charAt(0)=="/"?e.slice(1):e}function IH(e,t){if(KT(),t=t||{},j2(t),Ts(e,"META-INF/manifest.xml")||Ts(e,"objectdata.xml"))return zB(e,t);if(Ts(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof kp<"u"){if(e.FileIndex)return kp(e);var r=Sr.utils.cfb_new();return AB(e).forEach(function(ze){SU(r,ze,IU(e,ze))}),kp(r)}throw new Error("Unsupported NUMBERS file")}if(!Ts(e,"[Content_Types].xml"))throw Ts(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ts(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=AB(e),a=Bk(As(e,"[Content_Types].xml")),A=!1,c,d;if(a.workbooks.length===0&&(d="xl/workbook.xml",sa(e,d,!0)&&a.workbooks.push(d)),a.workbooks.length===0){if(d="xl/workbook.bin",!sa(e,d,!0))throw new Error("Could not find workbook");a.workbooks.push(d),A=!0}a.workbooks[0].slice(-3)=="bin"&&(A=!0);var p={},m={};if(!t.bookSheets&&!t.bookProps){if(Hu=[],a.sst)try{Hu=Qj(sa(e,Bs(a.sst)),a.sst,t)}catch(ze){if(t.WTF)throw ze}t.cellStyles&&a.themes.length&&(p=Lj(As(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(m=Mj(sa(e,Bs(a.style)),a.style,p,t))}a.links.map(function(ze){try{var ve=Lu(As(e,_m(Bs(ze))),ze);return Pj(sa(e,Bs(ze)),ve,ze,t)}catch{}});var y=Rj(sa(e,Bs(a.workbooks[0])),a.workbooks[0],t),b={},I="";a.coreprops.length&&(I=sa(e,Bs(a.coreprops[0]),!0),I&&(b=v3(I)),a.extprops.length!==0&&(I=sa(e,Bs(a.extprops[0]),!0),I&&Sk(I,b,t)));var N={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(I=As(e,Bs(a.custprops[0]),!0),I&&(N=Fk(I,t)));var R={};if((t.bookSheets||t.bookProps)&&(y.Sheets?c=y.Sheets.map(function(ve){return ve.name}):b.Worksheets&&b.SheetNames.length>0&&(c=b.SheetNames),t.bookProps&&(R.Props=b,R.Custprops=N),t.bookSheets&&typeof c<"u"&&(R.SheetNames=c),t.bookSheets?R.SheetNames:t.bookProps))return R;c={};var F={};t.bookDeps&&a.calcchain&&(F=Hj(sa(e,Bs(a.calcchain)),a.calcchain));var D=0,K={},W,H;{var re=y.Sheets;b.Worksheets=re.length,b.SheetNames=[];for(var de=0;de!=re.length;++de)b.SheetNames[de]=re[de].name}var ee=A?"bin":"xml",U=a.workbooks[0].lastIndexOf("/"),Q=(a.workbooks[0].slice(0,U+1)+"_rels/"+a.workbooks[0].slice(U+1)+".rels").replace(/^\//,"");Ts(e,Q)||(Q="xl/_rels/workbook."+ee+".rels");var k=Lu(As(e,Q,!0),Q.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Vj(sa(e,Bs(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=UL(sa(e,Bs(a.people[0])),t)),k&&(k=_H(k,y.Sheets));var Y=sa(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(D=0;D!=b.Worksheets;++D){var q="sheet";if(k&&k[D]?(W="xl/"+k[D][1].replace(/[\/]?xl\//,""),Ts(e,W)||(W=k[D][1]),Ts(e,W)||(W=Q.replace(/_rels\/.*$/,"")+k[D][1]),q=k[D][2]):(W="xl/worksheets/sheet"+(D+1-Y)+"."+ee,W=W.replace(/sheet0\./,"sheet.")),H=W.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(D!=t.sheets)continue e;break;case"string":if(b.SheetNames[D].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var V=!1,z=0;z!=t.sheets.length;++z)typeof t.sheets[z]=="number"&&t.sheets[z]==D&&(V=1),typeof t.sheets[z]=="string"&&t.sheets[z].toLowerCase()==b.SheetNames[D].toLowerCase()&&(V=1);if(!V)continue e}}TH(e,W,H,b.SheetNames[D],D,K,c,q,t,y,p,m)}return R={Directory:a,Workbook:y,Props:b,Custprops:N,Deps:F,Sheets:c,SheetNames:b.SheetNames,Strings:Hu,Styles:m,Themes:p,SSF:ja(ur)},t&&t.bookFiles&&(e.files?(R.keys=n,R.files=e.files):(R.keys=[],R.files={},e.FullPaths.forEach(function(ze,ve){ze=ze.replace(/^Root Entry[\/]/,""),R.keys.push(ze),R.files[ze]=e.FileIndex[ve]}))),t&&t.bookVBA&&(a.vba.length>0?R.vbaraw=sa(e,Bs(a.vba[0]),!0):a.defaults&&a.defaults.bin===QL&&(R.vbaraw=sa(e,"xl/vbaProject.bin",!0))),R}function SH(e,t){var r=t||{},n="Workbook",a=Sr.find(e,n);try{if(n="/!DataSpaces/Version",a=Sr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(y9(a.content),n="/!DataSpaces/DataSpaceMap",a=Sr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var A=C9(a.content);if(A.length!==1||A[0].comps.length!==1||A[0].comps[0].t!==0||A[0].name!=="StrongEncryptionDataSpace"||A[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Sr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var c=B9(a.content);if(c.length!=1||c[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Sr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);_9(a.content)}catch{}if(n="/EncryptionInfo",a=Sr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var d=T9(a.content);if(n="/EncryptedPackage",a=Sr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(d[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(d[1],a.content,r.password||"",r);if(d[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(d[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function H2(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=cs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function NH(e,t){return Sr.find(e,"EncryptedPackage")?SH(e,t):aI(e,t)}function FH(e,t){var r,n=e,a=t||{};return a.type||(a.type=_r&&Buffer.isBuffer(e)?"buffer":"base64"),r=JT(n,a),IH(r,a)}function oI(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Sm(e.slice(r),t);default:break e}return nf.to_workbook(e,t)}function RH(e,t){var r="",n=H2(e,t);switch(t.type){case"base64":r=cs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Gl(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=hn(r)),t.type="binary",oI(r,t)}function DH(e,t){var r=e;return t.type=="base64"&&(r=cs(r)),r=$u.utils.decode(1200,r.slice(2),"str"),t.type="binary",oI(r,t)}function OH(e){return e.match(/[^\x00-\x7F]/)?Cu(e):e}function Mp(e,t,r,n){return n?(r.type="string",nf.to_workbook(e,r)):nf.to_workbook(t,r)}function Dm(e,t){DT();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Dm(new Uint8Array(e),(r=ja(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],A=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),a0={},r.dateNF&&(a0.dateNF=r.dateNF),r.type||(r.type=_r&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=_r?"buffer":"binary",n=yU(e),typeof Uint8Array<"u"&&!_r&&(r.type="array")),r.type=="string"&&(A=!0,r.type="binary",r.codepage=65001,n=OH(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var c=new ArrayBuffer(3),d=new Uint8Array(c);if(d.foo="bar",!d.foo)return r=ja(r),r.type="array",Dm(w2(n),r)}switch((a=H2(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return NH(Sr.read(n,r),r);break;case 9:if(a[1]<=8)return aI(n,r);break;case 60:return Sm(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return o9(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return s9.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?FH(n,r):Mp(e,n,r,A);case 239:return a[3]===60?Sm(n,r):Mp(e,n,r,A);case 255:if(a[1]===254)return DH(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return ju.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return ju.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return DB.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Q9.to_workbook(n,r);break;case 10:case 13:case 32:return RH(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return a9.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?DB.to_workbook(n,r):Mp(e,n,r,A)}function UH(e,t,r,n,a,A,c,d){var p=Ha(r),m=d.defval,y=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),b=!0,I=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(I,"__rowNum__",{value:r,enumerable:!1})}catch{I.__rowNum__=r}else I.__rowNum__=r;if(!c||e[r])for(var N=t.s.c;N<=t.e.c;++N){var R=c?e[r][N]:e[n[N]+p];if(R===void 0||R.t===void 0){if(m===void 0)continue;A[N]!=null&&(I[A[N]]=m);continue}var F=R.v;switch(R.t){case"z":if(F==null)break;continue;case"e":F=F==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+R.t)}if(A[N]!=null){if(F==null)if(R.t=="e"&&F===null)I[A[N]]=null;else if(m!==void 0)I[A[N]]=m;else if(y&&F===null)I[A[N]]=null;else continue;else I[A[N]]=y&&(R.t!=="n"||R.t==="n"&&d.rawNumbers!==!1)?F:ZA(R,F,d);F!=null&&(b=!1)}}return{row:I,isempty:b}}function Om(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,A=[],c=0,d="",p={s:{r:0,c:0},e:{r:0,c:0}},m=t||{},y=m.range!=null?m.range:e["!ref"];switch(m.header===1?n=1:m.header==="A"?n=2:Array.isArray(m.header)?n=3:m.header==null&&(n=0),typeof y){case"string":p=Hn(y);break;case"number":p=Hn(e["!ref"]),p.s.r=y;break;default:p=y}n>0&&(a=0);var b=Ha(p.s.r),I=[],N=[],R=0,F=0,D=Array.isArray(e),K=p.s.r,W=0,H={};D&&!e[K]&&(e[K]=[]);var re=m.skipHidden&&e["!cols"]||[],de=m.skipHidden&&e["!rows"]||[];for(W=p.s.c;W<=p.e.c;++W)if(!(re[W]||{}).hidden)switch(I[W]=ga(W),r=D?e[K][W]:e[I[W]+b],n){case 1:A[W]=W-p.s.c;break;case 2:A[W]=I[W];break;case 3:A[W]=m.header[W-p.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),d=c=ZA(r,null,m),F=H[c]||0,!F)H[c]=1;else{do d=c+"_"+F++;while(H[d]);H[c]=F,H[d]=1}A[W]=d}for(K=p.s.r+a;K<=p.e.r;++K)if(!(de[K]||{}).hidden){var ee=UH(e,p,K,I,n,A,D,m);(ee.isempty===!1||(n===1?m.blankrows!==!1:m.blankrows))&&(N[R++]=ee.row)}return N.length=R,N}var qB=/"/g;function kH(e,t,r,n,a,A,c,d){for(var p=!0,m=[],y="",b=Ha(r),I=t.s.c;I<=t.e.c;++I)if(n[I]){var N=d.dense?(e[r]||[])[I]:e[n[I]+b];if(N==null)y="";else if(N.v!=null){p=!1,y=""+(d.rawNumbers&&N.t=="n"?N.v:ZA(N,null,d));for(var R=0,F=0;R!==y.length;++R)if((F=y.charCodeAt(R))===a||F===A||F===34||d.forceQuotes){y='"'+y.replace(qB,'""')+'"';break}y=="ID"&&(y='"ID"')}else N.f!=null&&!N.F?(p=!1,y="="+N.f,y.indexOf(",")>=0&&(y='"'+y.replace(qB,'""')+'"')):y="";m.push(y)}return d.blankrows===!1&&p?null:m.join(c)}function lI(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Hn(e["!ref"]),A=n.FS!==void 0?n.FS:",",c=A.charCodeAt(0),d=n.RS!==void 0?n.RS:`
`,p=d.charCodeAt(0),m=new RegExp((A=="|"?"\\|":A)+"+$"),y="",b=[];n.dense=Array.isArray(e);for(var I=n.skipHidden&&e["!cols"]||[],N=n.skipHidden&&e["!rows"]||[],R=a.s.c;R<=a.e.c;++R)(I[R]||{}).hidden||(b[R]=ga(R));for(var F=0,D=a.s.r;D<=a.e.r;++D)(N[D]||{}).hidden||(y=kH(e,a,D,b,c,p,A,n),y!=null&&(n.strip&&(y=y.replace(m,"")),(y||n.blankrows!==!1)&&r.push((F++?d:"")+y)));return delete n.dense,r.join("")}function MH(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=lI(e,t);return r}function LH(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Hn(e["!ref"]),A="",c=[],d,p=[],m=Array.isArray(e);for(d=a.s.c;d<=a.e.c;++d)c[d]=ga(d);for(var y=a.s.r;y<=a.e.r;++y)for(A=Ha(y),d=a.s.c;d<=a.e.c;++d)if(t=c[d]+A,r=m?(e[y]||[])[d]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}p[p.length]=t+"="+n}return p}function cI(e,t,r){var n=r||{},a=+!n.skipHeader,A=e||{},c=0,d=0;if(A&&n.origin!=null)if(typeof n.origin=="number")c=n.origin;else{var p=typeof n.origin=="string"?wi(n.origin):n.origin;c=p.r,d=p.c}var m,y={s:{c:0,r:0},e:{c:d,r:c+t.length-1+a}};if(A["!ref"]){var b=Hn(A["!ref"]);y.e.c=Math.max(y.e.c,b.e.c),y.e.r=Math.max(y.e.r,b.e.r),c==-1&&(c=b.e.r+1,y.e.r=c+t.length-1+a)}else c==-1&&(c=0,y.e.r=t.length-1+a);var I=n.header||[],N=0;t.forEach(function(F,D){fA(F).forEach(function(K){(N=I.indexOf(K))==-1&&(I[N=I.length]=K);var W=F[K],H="z",re="",de=ar({c:d+N,r:c+D+a});m=of(A,de),W&&typeof W=="object"&&!(W instanceof Date)?A[de]=W:(typeof W=="number"?H="n":typeof W=="boolean"?H="b":typeof W=="string"?H="s":W instanceof Date?(H="d",n.cellDates||(H="n",W=yi(W)),re=n.dateNF||ur[14]):W===null&&n.nullError&&(H="e",W=0),m?(m.t=H,m.v=W,delete m.w,delete m.R,re&&(m.z=re)):A[de]=m={t:H,v:W},re&&(m.z=re))})}),y.e.c=Math.max(y.e.c,d+I.length-1);var R=Ha(c);if(a)for(N=0;N<I.length;++N)A[ga(N+d)+R]={t:"s",v:I[N]};return A["!ref"]=Nr(y),A}function QH(e,t){return cI(null,e,t)}function of(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=wi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?of(e,ar(t)):of(e,ar({r:t,c:r||0}))}function jH(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function P2(){return{SheetNames:[],Sheets:{}}}function V2(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var A=r.match(/(^.*?)(\d+)$/);a=A&&+A[2]||0;var c=A&&A[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=c+a)!=-1;++a);}if(Bj(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function HH(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=jH(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function PH(e,t){return e.z=t,e}function uI(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function VH(e,t,r){return uI(e,"#"+t,r)}function GH(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function KH(e,t,r,n){for(var a=typeof t!="string"?t:Hn(t),A=typeof t=="string"?t:Nr(t),c=a.s.r;c<=a.e.r;++c)for(var d=a.s.c;d<=a.e.c;++d){var p=of(e,c,d);p.t="n",p.F=A,delete p.v,c==a.s.r&&d==a.s.c&&(p.f=r,n&&(p.D=!0))}return e}var zH={encode_col:ga,encode_row:Ha,encode_cell:ar,encode_range:Nr,decode_col:I2,decode_row:T2,split_cell:nk,decode_cell:wi,decode_range:w0,format_cell:ZA,sheet_add_aoa:g3,sheet_add_json:cI,sheet_add_dom:iI,aoa_to_sheet:v0,json_to_sheet:QH,table_to_sheet:sI,table_to_book:oH,sheet_to_csv:lI,sheet_to_txt:MH,sheet_to_json:Om,sheet_to_html:AH,sheet_to_formulae:LH,sheet_to_row_object_array:Om,sheet_get_cell:of,book_new:P2,book_append_sheet:V2,book_set_sheet_visibility:HH,cell_set_number_format:PH,cell_set_hyperlink:uI,cell_set_internal_link:VH,cell_add_comment:GH,sheet_set_array_formula:KH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Ot;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ot||(Ot={}));var JB=new Map([[Ot.QR_CODE,"QR_CODE"],[Ot.AZTEC,"AZTEC"],[Ot.CODABAR,"CODABAR"],[Ot.CODE_39,"CODE_39"],[Ot.CODE_93,"CODE_93"],[Ot.CODE_128,"CODE_128"],[Ot.DATA_MATRIX,"DATA_MATRIX"],[Ot.MAXICODE,"MAXICODE"],[Ot.ITF,"ITF"],[Ot.EAN_13,"EAN_13"],[Ot.EAN_8,"EAN_8"],[Ot.PDF_417,"PDF_417"],[Ot.RSS_14,"RSS_14"],[Ot.RSS_EXPANDED,"RSS_EXPANDED"],[Ot.UPC_A,"UPC_A"],[Ot.UPC_E,"UPC_E"],[Ot.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ZB;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(ZB||(ZB={}));function WH(e){return Object.values(Ot).includes(e)}var u1;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(u1||(u1={}));var XH=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[u1.SCAN_TYPE_CAMERA,u1.SCAN_TYPE_FILE],e})(),fI=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!JB.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,JB.get(t))},e})(),$B=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Um;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Um||(Um={}));var YH=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Um.UNKWOWN_ERROR}},e})(),qH=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function KA(e){return typeof e>"u"||e===null}var $c=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),hI=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],A=new Set(a),c=Object.keys(t),d=0,p=c;d<p.length;d++){var m=p[d];if(A.has(m))return r.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e})(),Bu={exports:{}},JH=Bu.exports,eb;function ZH(){return eb||(eb=1,(function(e,t){(function(r,n){n(t)})(JH,(function(r){function n(P){return P==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,s){P.__proto__=s}||function(P,s){for(var l in s)s.hasOwnProperty(l)&&(P[l]=s[l])};function A(P,s){a(P,s);function l(){this.constructor=P}P.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}function c(P,s){var l=Object.setPrototypeOf;l?l(P,s):P.__proto__=s}function d(P,s){s===void 0&&(s=P.constructor);var l=Error.captureStackTrace;l&&l(P,s)}var p=(function(P){A(s,P);function s(l){var u=this.constructor,g=P.call(this,l)||this;return Object.defineProperty(g,"name",{value:u.name,enumerable:!1}),c(g,u.prototype),d(g),g}return s})(Error);class m extends p{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}m.kind="Exception";class y extends m{}y.kind="ArgumentException";class b extends m{}b.kind="IllegalArgumentException";class I{constructor(s){if(this.binarizer=s,s===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,l){return this.binarizer.getBlackRow(s,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,l,u,g){const x=this.binarizer.getLuminanceSource().crop(s,l,u,g);return new I(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends m{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class R{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class F{static arraycopy(s,l,u,g,x){for(;x--;)u[g++]=s[l++]}static currentTimeMillis(){return Date.now()}}class D extends m{}D.kind="IndexOutOfBoundsException";class K extends D{constructor(s=void 0,l=void 0){super(l),this.index=s,this.message=l}}K.kind="ArrayIndexOutOfBoundsException";class W{static fill(s,l){for(let u=0,g=s.length;u<g;u++)s[u]=l}static fillWithin(s,l,u,g){W.rangeCheck(s.length,l,u);for(let x=l;x<u;x++)s[x]=g}static rangeCheck(s,l,u){if(l>u)throw new b("fromIndex("+l+") > toIndex("+u+")");if(l<0)throw new K(l);if(u>s)throw new K(u)}static asList(...s){return s}static create(s,l,u){return Array.from({length:s}).map(x=>Array.from({length:l}).fill(u))}static createInt32Array(s,l,u){return Array.from({length:s}).map(x=>Int32Array.from({length:l}).fill(u))}static equals(s,l){if(!s||!l||!s.length||!l.length||s.length!==l.length)return!1;for(let u=0,g=s.length;u<g;u++)if(s[u]!==l[u])return!1;return!0}static hashCode(s){if(s===null)return 0;let l=1;for(const u of s)l=31*l+u;return l}static fillUint8Array(s,l){for(let u=0;u!==s.length;u++)s[u]=l}static copyOf(s,l){return s.slice(0,l)}static copyOfUint8Array(s,l){if(s.length<=l){const u=new Uint8Array(l);return u.set(s),u}return s.slice(0,l)}static copyOfRange(s,l,u){const g=u-l,x=new Int32Array(g);return F.arraycopy(s,l,x,0,g),x}static binarySearch(s,l,u){u===void 0&&(u=W.numberComparator);let g=0,x=s.length-1;for(;g<=x;){const v=x+g>>1,E=u(l,s[v]);if(E>0)g=v+1;else if(E<0)x=v-1;else return v}return-g-1}static numberComparator(s,l){return s-l}}class H{static numberOfTrailingZeros(s){let l;if(s===0)return 32;let u=31;return l=s<<16,l!==0&&(u-=16,s=l),l=s<<8,l!==0&&(u-=8,s=l),l=s<<4,l!==0&&(u-=4,s=l),l=s<<2,l!==0&&(u-=2,s=l),u-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let l=1;return s>>>16||(l+=16,s<<=16),s>>>24||(l+=8,s<<=8),s>>>28||(l+=4,s<<=4),s>>>30||(l+=2,s<<=2),l-=s>>>31,l}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,l){return Math.trunc(s/l)}static parseInt(s,l=void 0){return parseInt(s,l)}}H.MIN_VALUE_32_BITS=-2147483648,H.MAX_VALUE=Number.MAX_SAFE_INTEGER;class re{constructor(s,l){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,l==null?this.bits=re.makeArray(s):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const l=re.makeArray(s);F.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const l=this.size;if(s>=l)return l;const u=this.bits;let g=Math.floor(s/32),x=u[g];x&=~((1<<(s&31))-1);const v=u.length;for(;x===0;){if(++g===v)return l;x=u[g]}const E=g*32+H.numberOfTrailingZeros(x);return E>l?l:E}getNextUnset(s){const l=this.size;if(s>=l)return l;const u=this.bits;let g=Math.floor(s/32),x=~u[g];x&=~((1<<(s&31))-1);const v=u.length;for(;x===0;){if(++g===v)return l;x=~u[g]}const E=g*32+H.numberOfTrailingZeros(x);return E>l?l:E}setBulk(s,l){this.bits[Math.floor(s/32)]=l}setRange(s,l){if(l<s||s<0||l>this.size)throw new b;if(l===s)return;l--;const u=Math.floor(s/32),g=Math.floor(l/32),x=this.bits;for(let v=u;v<=g;v++){const E=v>u?0:s&31,S=(2<<(v<g?31:l&31))-(1<<E);x[v]|=S}}clear(){const s=this.bits.length,l=this.bits;for(let u=0;u<s;u++)l[u]=0}isRange(s,l,u){if(l<s||s<0||l>this.size)throw new b;if(l===s)return!0;l--;const g=Math.floor(s/32),x=Math.floor(l/32),v=this.bits;for(let E=g;E<=x;E++){const _=E>g?0:s&31,M=(2<<(E<x?31:l&31))-(1<<_)&4294967295;if((v[E]&M)!==(u?M:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,l){if(l<0||l>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let u=l;u>0;u--)this.appendBit((s>>u-1&1)===1)}appendBitArray(s){const l=s.size;this.ensureCapacity(this.size+l);for(let u=0;u<l;u++)this.appendBit(s.get(u))}xor(s){if(this.size!==s.size)throw new b("Sizes don't match");const l=this.bits;for(let u=0,g=l.length;u<g;u++)l[u]^=s.bits[u]}toBytes(s,l,u,g){for(let x=0;x<g;x++){let v=0;for(let E=0;E<8;E++)this.get(s)&&(v|=1<<7-E),s++;l[u+x]=v}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),u=l+1,g=this.bits;for(let x=0;x<u;x++){let v=g[x];v=v>>1&1431655765|(v&1431655765)<<1,v=v>>2&858993459|(v&858993459)<<2,v=v>>4&252645135|(v&252645135)<<4,v=v>>8&16711935|(v&16711935)<<8,v=v>>16&65535|(v&65535)<<16,s[l-x]=v}if(this.size!==u*32){const x=u*32-this.size;let v=s[0]>>>x;for(let E=1;E<u;E++){const _=s[E];v|=_<<32-x,s[E-1]=v,v=_>>>x}s[u-1]=v}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof re))return!1;const l=s;return this.size===l.size&&W.equals(this.bits,l.bits)}hashCode(){return 31*this.size+W.hashCode(this.bits)}toString(){let s="";for(let l=0,u=this.size;l<u;l++)(l&7)===0&&(s+=" "),s+=this.get(l)?"X":".";return s}clone(){return new re(this.size,this.bits.slice())}}var de;(function(P){P[P.OTHER=0]="OTHER",P[P.PURE_BARCODE=1]="PURE_BARCODE",P[P.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",P[P.TRY_HARDER=3]="TRY_HARDER",P[P.CHARACTER_SET=4]="CHARACTER_SET",P[P.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",P[P.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",P[P.ASSUME_GS1=7]="ASSUME_GS1",P[P.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",P[P.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",P[P.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(de||(de={}));var ee=de;class U extends m{static getFormatInstance(){return new U}}U.kind="FormatException";var Q;(function(P){P[P.Cp437=0]="Cp437",P[P.ISO8859_1=1]="ISO8859_1",P[P.ISO8859_2=2]="ISO8859_2",P[P.ISO8859_3=3]="ISO8859_3",P[P.ISO8859_4=4]="ISO8859_4",P[P.ISO8859_5=5]="ISO8859_5",P[P.ISO8859_6=6]="ISO8859_6",P[P.ISO8859_7=7]="ISO8859_7",P[P.ISO8859_8=8]="ISO8859_8",P[P.ISO8859_9=9]="ISO8859_9",P[P.ISO8859_10=10]="ISO8859_10",P[P.ISO8859_11=11]="ISO8859_11",P[P.ISO8859_13=12]="ISO8859_13",P[P.ISO8859_14=13]="ISO8859_14",P[P.ISO8859_15=14]="ISO8859_15",P[P.ISO8859_16=15]="ISO8859_16",P[P.SJIS=16]="SJIS",P[P.Cp1250=17]="Cp1250",P[P.Cp1251=18]="Cp1251",P[P.Cp1252=19]="Cp1252",P[P.Cp1256=20]="Cp1256",P[P.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",P[P.UTF8=22]="UTF8",P[P.ASCII=23]="ASCII",P[P.Big5=24]="Big5",P[P.GB18030=25]="GB18030",P[P.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class k{constructor(s,l,u,...g){this.valueIdentifier=s,this.name=u,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=g,k.VALUE_IDENTIFIER_TO_ECI.set(s,this),k.NAME_TO_ECI.set(u,this);const x=this.values;for(let v=0,E=x.length;v!==E;v++){const _=x[v];k.VALUES_TO_ECI.set(_,this)}for(const v of g)k.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new U("incorect value");const l=k.VALUES_TO_ECI.get(s);if(l===void 0)throw new U("incorect value");return l}static getCharacterSetECIByName(s){const l=k.NAME_TO_ECI.get(s);if(l===void 0)throw new U("incorect value");return l}equals(s){if(!(s instanceof k))return!1;const l=s;return this.getName()===l.getName()}}k.VALUE_IDENTIFIER_TO_ECI=new Map,k.VALUES_TO_ECI=new Map,k.NAME_TO_ECI=new Map,k.Cp437=new k(Q.Cp437,Int32Array.from([0,2]),"Cp437"),k.ISO8859_1=new k(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),k.ISO8859_2=new k(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),k.ISO8859_3=new k(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),k.ISO8859_4=new k(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),k.ISO8859_5=new k(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),k.ISO8859_6=new k(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),k.ISO8859_7=new k(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),k.ISO8859_8=new k(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),k.ISO8859_9=new k(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),k.ISO8859_10=new k(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),k.ISO8859_11=new k(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),k.ISO8859_13=new k(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),k.ISO8859_14=new k(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),k.ISO8859_15=new k(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),k.ISO8859_16=new k(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),k.SJIS=new k(Q.SJIS,20,"SJIS","Shift_JIS"),k.Cp1250=new k(Q.Cp1250,21,"Cp1250","windows-1250"),k.Cp1251=new k(Q.Cp1251,22,"Cp1251","windows-1251"),k.Cp1252=new k(Q.Cp1252,23,"Cp1252","windows-1252"),k.Cp1256=new k(Q.Cp1256,24,"Cp1256","windows-1256"),k.UnicodeBigUnmarked=new k(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),k.UTF8=new k(Q.UTF8,26,"UTF8","UTF-8"),k.ASCII=new k(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),k.Big5=new k(Q.Big5,28,"Big5"),k.GB18030=new k(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),k.EUC_KR=new k(Q.EUC_KR,30,"EUC_KR","EUC-KR");class Y extends m{}Y.kind="UnsupportedOperationException";class q{static decode(s,l){const u=this.encodingName(l);return this.customDecoder?this.customDecoder(s,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(s,u):new TextDecoder(u).decode(s)}static shouldDecodeOnFallback(s){return!q.isBrowser()&&s==="ISO-8859-1"}static encode(s,l){const u=this.encodingName(l);return this.customEncoder?this.customEncoder(s,u):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof k?s:k.getCharacterSetECIByName(s)}static decodeFallback(s,l){const u=this.encodingCharacterSet(l);if(q.isDecodeFallbackSupported(u)){let g="";for(let x=0,v=s.length;x<v;x++){let E=s[x].toString(16);E.length<2&&(E="0"+E),g+="%"+E}return decodeURIComponent(g)}if(u.equals(k.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new Y(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(k.UTF8)||s.equals(k.ISO8859_1)||s.equals(k.ASCII)}static encodeFallback(s){const u=btoa(unescape(encodeURIComponent(s))).split(""),g=[];for(let x=0;x<u.length;x++)g.push(u[x].charCodeAt(0));return new Uint8Array(g)}}class V{static castAsNonUtf8Char(s,l=null){const u=l?l.getName():this.ISO88591;return q.decode(new Uint8Array([s]),u)}static guessEncoding(s,l){if(l!=null&&l.get(ee.CHARACTER_SET)!==void 0)return l.get(ee.CHARACTER_SET).toString();const u=s.length;let g=!0,x=!0,v=!0,E=0,_=0,S=0,M=0,G=0,Z=0,pe=0,be=0,Te=0,Oe=0,qe=0;const wt=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let mt=0;mt<u&&(g||x||v);mt++){const ut=s[mt]&255;v&&(E>0?(ut&128)===0?v=!1:E--:(ut&128)!==0&&((ut&64)===0?v=!1:(E++,(ut&32)===0?_++:(E++,(ut&16)===0?S++:(E++,(ut&8)===0?M++:v=!1))))),g&&(ut>127&&ut<160?g=!1:ut>159&&(ut<192||ut===215||ut===247)&&qe++),x&&(G>0?ut<64||ut===127||ut>252?x=!1:G--:ut===128||ut===160||ut>239?x=!1:ut>160&&ut<224?(Z++,be=0,pe++,pe>Te&&(Te=pe)):ut>127?(G++,pe=0,be++,be>Oe&&(Oe=be)):(pe=0,be=0))}return v&&E>0&&(v=!1),x&&G>0&&(x=!1),v&&(wt||_+S+M>0)?V.UTF8:x&&(V.ASSUME_SHIFT_JIS||Te>=3||Oe>=3)?V.SHIFT_JIS:g&&x?Te===2&&Z===2||qe*10>=u?V.SHIFT_JIS:V.ISO88591:g?V.ISO88591:x?V.SHIFT_JIS:v?V.UTF8:V.PLATFORM_DEFAULT_ENCODING}static format(s,...l){let u=-1;function g(v,E,_,S,M,G){if(v==="%%")return"%";if(l[++u]===void 0)return;v=S?parseInt(S.substr(1)):void 0;let Z=M?parseInt(M.substr(1)):void 0,pe;switch(G){case"s":pe=l[u];break;case"c":pe=l[u][0];break;case"f":pe=parseFloat(l[u]).toFixed(v);break;case"p":pe=parseFloat(l[u]).toPrecision(v);break;case"e":pe=parseFloat(l[u]).toExponential(v);break;case"x":pe=parseInt(l[u]).toString(Z||16);break;case"d":pe=parseFloat(parseInt(l[u],Z||10).toPrecision(v)).toFixed(0);break}pe=typeof pe=="object"?JSON.stringify(pe):(+pe).toString(Z);let be=parseInt(_),Te=_&&_[0]+""=="0"?"0":" ";for(;pe.length<be;)pe=E!==void 0?pe+Te:Te+pe;return pe}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(x,g)}static getBytes(s,l){return q.encode(s,l)}static getCharCode(s,l=0){return s.charCodeAt(l)}static getCharAt(s){return String.fromCharCode(s)}}V.SHIFT_JIS=k.SJIS.getName(),V.GB2312="GB2312",V.ISO88591=k.ISO8859_1.getName(),V.EUC_JP="EUC_JP",V.UTF8=k.UTF8.getName(),V.PLATFORM_DEFAULT_ENCODING=V.UTF8,V.ASSUME_SHIFT_JIS=!1;class z{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=V.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,l,u){for(let g=l;l<l+u;g++)this.append(s[g]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+1)}substring(s,l){return this.value.substring(s,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+l.length)}}class ze{constructor(s,l,u,g){if(this.width=s,this.height=l,this.rowSize=u,this.bits=g,l==null&&(l=s),this.height=l,s<1||l<1)throw new b("Both dimensions must be greater than 0");u==null&&(u=Math.floor((s+31)/32)),this.rowSize=u,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const l=s.length,u=s[0].length,g=new ze(u,l);for(let x=0;x<l;x++){const v=s[x];for(let E=0;E<u;E++)v[E]&&g.set(E,x)}return g}static parseFromString(s,l,u){if(s===null)throw new b("stringRepresentation cannot be null");const g=new Array(s.length);let x=0,v=0,E=-1,_=0,S=0;for(;S<s.length;)if(s.charAt(S)===`
`||s.charAt(S)==="\r"){if(x>v){if(E===-1)E=x-v;else if(x-v!==E)throw new b("row lengths do not match");v=x,_++}S++}else if(s.substring(S,S+l.length)===l)S+=l.length,g[x]=!0,x++;else if(s.substring(S,S+u.length)===u)S+=u.length,g[x]=!1,x++;else throw new b("illegal character encountered: "+s.substring(S));if(x>v){if(E===-1)E=x-v;else if(x-v!==E)throw new b("row lengths do not match");_++}const M=new ze(E,_);for(let G=0;G<x;G++)g[G]&&M.set(Math.floor(G%E),Math.floor(G/E));return M}get(s,l){const u=l*this.rowSize+Math.floor(s/32);return(this.bits[u]>>>(s&31)&1)!==0}set(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]|=1<<(s&31)&4294967295}unset(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]&=~(1<<(s&31)&4294967295)}flip(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new b("input matrix dimensions do not match");const l=new re(Math.floor(this.width/32)+1),u=this.rowSize,g=this.bits;for(let x=0,v=this.height;x<v;x++){const E=x*u,_=s.getRow(x,l).getBitArray();for(let S=0;S<u;S++)g[E+S]^=_[S]}}clear(){const s=this.bits,l=s.length;for(let u=0;u<l;u++)s[u]=0}setRegion(s,l,u,g){if(l<0||s<0)throw new b("Left and top must be nonnegative");if(g<1||u<1)throw new b("Height and width must be at least 1");const x=s+u,v=l+g;if(v>this.height||x>this.width)throw new b("The region must fit inside the matrix");const E=this.rowSize,_=this.bits;for(let S=l;S<v;S++){const M=S*E;for(let G=s;G<x;G++)_[M+Math.floor(G/32)]|=1<<(G&31)&4294967295}}getRow(s,l){l==null||l.getSize()<this.width?l=new re(this.width):l.clear();const u=this.rowSize,g=this.bits,x=s*u;for(let v=0;v<u;v++)l.setBulk(v*32,g[x+v]);return l}setRow(s,l){F.arraycopy(l.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),l=this.getHeight();let u=new re(s),g=new re(s);for(let x=0,v=Math.floor((l+1)/2);x<v;x++)u=this.getRow(x,u),g=this.getRow(l-1-x,g),u.reverse(),g.reverse(),this.setRow(x,g),this.setRow(l-1-x,u)}getEnclosingRectangle(){const s=this.width,l=this.height,u=this.rowSize,g=this.bits;let x=s,v=l,E=-1,_=-1;for(let S=0;S<l;S++)for(let M=0;M<u;M++){const G=g[S*u+M];if(G!==0){if(S<v&&(v=S),S>_&&(_=S),M*32<x){let Z=0;for(;(G<<31-Z&4294967295)===0;)Z++;M*32+Z<x&&(x=M*32+Z)}if(M*32+31>E){let Z=31;for(;!(G>>>Z);)Z--;M*32+Z>E&&(E=M*32+Z)}}}return E<x||_<v?null:Int32Array.from([x,v,E-x+1,_-v+1])}getTopLeftOnBit(){const s=this.rowSize,l=this.bits;let u=0;for(;u<l.length&&l[u]===0;)u++;if(u===l.length)return null;const g=u/s;let x=u%s*32;const v=l[u];let E=0;for(;(v<<31-E&4294967295)===0;)E++;return x+=E,Int32Array.from([x,g])}getBottomRightOnBit(){const s=this.rowSize,l=this.bits;let u=l.length-1;for(;u>=0&&l[u]===0;)u--;if(u<0)return null;const g=Math.floor(u/s);let x=Math.floor(u%s)*32;const v=l[u];let E=31;for(;!(v>>>E);)E--;return x+=E,Int32Array.from([x,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof ze))return!1;const l=s;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&W.equals(this.bits,l.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+W.hashCode(this.bits),s}toString(s="X ",l="  ",u=`
`){return this.buildToString(s,l,u)}buildToString(s,l,u){let g=new z;for(let x=0,v=this.height;x<v;x++){for(let E=0,_=this.width;E<_;E++)g.append(this.get(E,x)?s:l);g.append(u)}return g.toString()}clone(){return new ze(this.width,this.height,this.rowSize,this.bits.slice())}}class ve extends m{static getNotFoundInstance(){return new ve}}ve.kind="NotFoundException";class me extends R{constructor(s){super(s),this.luminances=me.EMPTY,this.buckets=new Int32Array(me.LUMINANCE_BUCKETS)}getBlackRow(s,l){const u=this.getLuminanceSource(),g=u.getWidth();l==null||l.getSize()<g?l=new re(g):l.clear(),this.initArrays(g);const x=u.getRow(s,this.luminances),v=this.buckets;for(let _=0;_<g;_++)v[(x[_]&255)>>me.LUMINANCE_SHIFT]++;const E=me.estimateBlackPoint(v);if(g<3)for(let _=0;_<g;_++)(x[_]&255)<E&&l.set(_);else{let _=x[0]&255,S=x[1]&255;for(let M=1;M<g-1;M++){const G=x[M+1]&255;(S*4-_-G)/2<E&&l.set(M),_=S,S=G}}return l}getBlackMatrix(){const s=this.getLuminanceSource(),l=s.getWidth(),u=s.getHeight(),g=new ze(l,u);this.initArrays(l);const x=this.buckets;for(let _=1;_<5;_++){const S=Math.floor(u*_/5),M=s.getRow(S,this.luminances),G=Math.floor(l*4/5);for(let Z=Math.floor(l/5);Z<G;Z++){const pe=M[Z]&255;x[pe>>me.LUMINANCE_SHIFT]++}}const v=me.estimateBlackPoint(x),E=s.getMatrix();for(let _=0;_<u;_++){const S=_*l;for(let M=0;M<l;M++)(E[S+M]&255)<v&&g.set(M,_)}return g}createBinarizer(s){return new me(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const l=this.buckets;for(let u=0;u<me.LUMINANCE_BUCKETS;u++)l[u]=0}static estimateBlackPoint(s){const l=s.length;let u=0,g=0,x=0;for(let M=0;M<l;M++)s[M]>x&&(g=M,x=s[M]),s[M]>u&&(u=s[M]);let v=0,E=0;for(let M=0;M<l;M++){const G=M-g,Z=s[M]*G*G;Z>E&&(v=M,E=Z)}if(g>v){const M=g;g=v,v=M}if(v-g<=l/16)throw new ve;let _=v-1,S=-1;for(let M=v-1;M>g;M--){const G=M-g,Z=G*G*(v-M)*(u-s[M]);Z>S&&(_=M,S=Z)}return _<<me.LUMINANCE_SHIFT}}me.LUMINANCE_BITS=5,me.LUMINANCE_SHIFT=8-me.LUMINANCE_BITS,me.LUMINANCE_BUCKETS=1<<me.LUMINANCE_BITS,me.EMPTY=Uint8ClampedArray.from([0]);class oe extends me{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),l=s.getWidth(),u=s.getHeight();if(l>=oe.MINIMUM_DIMENSION&&u>=oe.MINIMUM_DIMENSION){const g=s.getMatrix();let x=l>>oe.BLOCK_SIZE_POWER;(l&oe.BLOCK_SIZE_MASK)!==0&&x++;let v=u>>oe.BLOCK_SIZE_POWER;(u&oe.BLOCK_SIZE_MASK)!==0&&v++;const E=oe.calculateBlackPoints(g,x,v,l,u),_=new ze(l,u);oe.calculateThresholdForBlock(g,x,v,l,u,E,_),this.matrix=_}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new oe(s)}static calculateThresholdForBlock(s,l,u,g,x,v,E){const _=x-oe.BLOCK_SIZE,S=g-oe.BLOCK_SIZE;for(let M=0;M<u;M++){let G=M<<oe.BLOCK_SIZE_POWER;G>_&&(G=_);const Z=oe.cap(M,2,u-3);for(let pe=0;pe<l;pe++){let be=pe<<oe.BLOCK_SIZE_POWER;be>S&&(be=S);const Te=oe.cap(pe,2,l-3);let Oe=0;for(let wt=-2;wt<=2;wt++){const mt=v[Z+wt];Oe+=mt[Te-2]+mt[Te-1]+mt[Te]+mt[Te+1]+mt[Te+2]}const qe=Oe/25;oe.thresholdBlock(s,be,G,qe,g,E)}}}static cap(s,l,u){return s<l?l:s>u?u:s}static thresholdBlock(s,l,u,g,x,v){for(let E=0,_=u*x+l;E<oe.BLOCK_SIZE;E++,_+=x)for(let S=0;S<oe.BLOCK_SIZE;S++)(s[_+S]&255)<=g&&v.set(l+S,u+E)}static calculateBlackPoints(s,l,u,g,x){const v=x-oe.BLOCK_SIZE,E=g-oe.BLOCK_SIZE,_=new Array(u);for(let S=0;S<u;S++){_[S]=new Int32Array(l);let M=S<<oe.BLOCK_SIZE_POWER;M>v&&(M=v);for(let G=0;G<l;G++){let Z=G<<oe.BLOCK_SIZE_POWER;Z>E&&(Z=E);let pe=0,be=255,Te=0;for(let qe=0,wt=M*g+Z;qe<oe.BLOCK_SIZE;qe++,wt+=g){for(let mt=0;mt<oe.BLOCK_SIZE;mt++){const ut=s[wt+mt]&255;pe+=ut,ut<be&&(be=ut),ut>Te&&(Te=ut)}if(Te-be>oe.MIN_DYNAMIC_RANGE)for(qe++,wt+=g;qe<oe.BLOCK_SIZE;qe++,wt+=g)for(let mt=0;mt<oe.BLOCK_SIZE;mt++)pe+=s[wt+mt]&255}let Oe=pe>>oe.BLOCK_SIZE_POWER*2;if(Te-be<=oe.MIN_DYNAMIC_RANGE&&(Oe=be/2,S>0&&G>0)){const qe=(_[S-1][G]+2*_[S][G-1]+_[S-1][G-1])/4;be<qe&&(Oe=qe)}_[S][G]=Oe}}return _}}oe.BLOCK_SIZE_POWER=3,oe.BLOCK_SIZE=1<<oe.BLOCK_SIZE_POWER,oe.BLOCK_SIZE_MASK=oe.BLOCK_SIZE-1,oe.MINIMUM_DIMENSION=oe.BLOCK_SIZE*5,oe.MIN_DYNAMIC_RANGE=24;class Pe{constructor(s,l){this.width=s,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,l,u,g){throw new Y("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Y("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Y("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let l=new z;for(let u=0;u<this.height;u++){const g=this.getRow(u,s);for(let x=0;x<this.width;x++){const v=g[x]&255;let E;v<64?E="#":v<128?E="+":v<192?E=".":E=" ",l.append(E)}l.append(`
`)}return l.toString()}}class Ee extends Pe{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,l){const u=this.delegate.getRow(s,l),g=this.getWidth();for(let x=0;x<g;x++)u[x]=255-(u[x]&255);return u}getMatrix(){const s=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(l);for(let g=0;g<l;g++)u[g]=255-(s[g]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(s,l,u,g){return new Ee(this.delegate.crop(s,l,u,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ee(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ee(this.delegate.rotateCounterClockwise45())}}class $e extends Pe{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=$e.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const l=s.getContext("2d").getImageData(0,0,s.width,s.height);return $e.toGrayscaleBuffer(l.data,s.width,s.height)}static toGrayscaleBuffer(s,l,u){const g=new Uint8ClampedArray(l*u);for(let x=0,v=0,E=s.length;x<E;x+=4,v++){let _;if(s[x+3]===0)_=255;else{const M=s[x],G=s[x+1],Z=s[x+2];_=306*M+601*G+117*Z+512>>10}g[v]=_}return g}getRow(s,l){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const u=this.getWidth(),g=s*u;return l===null?l=this.buffer.slice(g,g+u):(l.length<u&&(l=new Uint8ClampedArray(u)),l.set(this.buffer.slice(g,g+u))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,l,u,g){return super.crop(s,l,u,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const l=this.getTempCanvasElement(),u=l.getContext("2d"),g=s*$e.DEGREE_TO_RADIANS,x=this.canvas.width,v=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(g))*x+Math.abs(Math.sin(g))*v),_=Math.ceil(Math.abs(Math.sin(g))*x+Math.abs(Math.cos(g))*v);return l.width=E,l.height=_,u.translate(E/2,_/2),u.rotate(g),u.drawImage(this.canvas,x/-2,v/-2),this.buffer=$e.makeBufferFromCanvasImageData(l),this}invert(){return new Ee(this)}}$e.DEGREE_TO_RADIANS=Math.PI/180;class ge{constructor(s,l,u){this.deviceId=s,this.label=l,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var X=(globalThis||Qh||self||window||void 0)&&(globalThis||Qh||self||window||void 0).__awaiter||function(P,s,l,u){function g(x){return x instanceof l?x:new l(function(v){v(x)})}return new(l||(l=Promise))(function(x,v){function E(M){try{S(u.next(M))}catch(G){v(G)}}function _(M){try{S(u.throw(M))}catch(G){v(G)}}function S(M){M.done?x(M.value):g(M.value).then(E,_)}S((u=u.apply(P,s||[])).next())})};class ce{constructor(s,l=500,u){this.reader=s,this.timeBetweenScansMillis=l,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return X(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const u of s){const g=u.kind==="video"?"videoinput":u.kind;if(g!=="videoinput")continue;const x=u.deviceId||u.id,v=u.label||`Video device ${l.length+1}`,E=u.groupId,_={deviceId:x,label:v,kind:g,groupId:E};l.push(_)}return l})}getVideoInputDevices(){return X(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new ge(l.deviceId,l.label))})}findDeviceById(s){return X(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(u=>u.deviceId===s):null})}decodeFromInputVideoDevice(s,l){return X(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,l)})}decodeOnceFromVideoDevice(s,l){return X(this,void 0,void 0,function*(){this.reset();let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const g={video:u};return yield this.decodeOnceFromConstraints(g,l)})}decodeOnceFromConstraints(s,l){return X(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(u,l)})}decodeOnceFromStream(s,l){return X(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,l);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(s,l,u){return X(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,l,u)})}decodeFromVideoDevice(s,l,u){return X(this,void 0,void 0,function*(){let g;s?g={deviceId:{exact:s}}:g={facingMode:"environment"};const x={video:g};return yield this.decodeFromConstraints(x,l,u)})}decodeFromConstraints(s,l,u){return X(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(g,l,u)})}decodeFromStream(s,l,u){return X(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(s,l);return yield this.decodeContinuously(g,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,l){return X(this,void 0,void 0,function*(){const u=this.prepareVideoElement(l);return this.addVideoSource(u,s),this.videoElement=u,this.stream=s,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(s){return new Promise((l,u)=>this.playVideoOnLoad(s,()=>l()))}playVideoOnLoad(s,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",l),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return X(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,l){const u=document.getElementById(s);if(!u)throw new y(`element with id '${s}' not found`);if(u.nodeName.toLowerCase()!==l.toLowerCase())throw new y(`element with id '${s}' must be an ${l} element`);return u}decodeFromImage(s,l){if(!s&&!l)throw new y("either imageElement with a src set or an url must be provided");return l&&!s?this.decodeFromImageUrl(l):this.decodeFromImageElement(s)}decodeFromVideo(s,l){if(!s&&!l)throw new y("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,l,u){if(s===void 0&&l===void 0)throw new y("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrlContinuously(l,u):this.decodeFromVideoElementContinuously(s,u)}decodeFromImageElement(s){if(!s)throw new y("An image element must be provided.");this.reset();const l=this.prepareImageElement(s);this.imageElement=l;let u;return this.isImageLoaded(l)?u=this.decodeOnce(l,!1,!0):u=this._decodeOnLoadImage(l),u}decodeFromVideoElement(s){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(s,l){const u=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(u,l)}_decodeFromVideoElementSetup(s){if(!s)throw new y("A video element must be provided.");this.reset();const l=this.prepareVideoElement(s);return this.videoElement=l,l}decodeFromImageUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const u=this._decodeOnLoadImage(l);return l.src=s,u}decodeFromVideoUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElement(l);return l.src=s,u}decodeFromVideoUrlContinuously(s,l){if(!s)throw new y("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(u,l);return u.src=s,g}_decodeOnLoadImage(s){return new Promise((l,u)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(l,u),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return X(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,l){return X(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,l)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let l;return typeof s>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(l=s),l}prepareVideoElement(s){let l;return!s&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(l=s),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(s,l=!0,u=!0){this._stopAsyncDecode=!1;const g=(x,v)=>{if(this._stopAsyncDecode){v(new ve("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(s);x(E)}catch(E){const _=l&&E instanceof ve,M=(E instanceof N||E instanceof U)&&u;if(_||M)return setTimeout(g,this._timeBetweenDecodingAttempts,x,v);v(E)}};return new Promise((x,v)=>g(x,v))}decodeContinuously(s,l){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(s);l(g,null),setTimeout(u,this.timeBetweenScansMillis)}catch(g){l(null,g);const x=g instanceof N||g instanceof U,v=g instanceof ve;(x||v)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(s){const l=this.createBinaryBitmap(s);return this.decodeBitmap(l)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,l,u){l||(l={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(s,l,u=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const l=this.getCaptureCanvas(s),u=new $e(l),g=new oe(u);return new I(g)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const l=this.createCaptureCanvas(s);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let u,g;return typeof s<"u"&&(s instanceof HTMLVideoElement?(u=s.videoWidth,g=s.videoHeight):s instanceof HTMLImageElement&&(u=s.naturalWidth||s.width,g=s.naturalHeight||s.height)),l.style.width=u+"px",l.style.height=g+"px",l.width=u,l.height=g,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,l){try{s.srcObject=l}catch{s.src=URL.createObjectURL(l)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class le{constructor(s,l,u=l==null?0:8*l.length,g,x,v=F.currentTimeMillis()){this.text=s,this.rawBytes=l,this.numBits=u,this.resultPoints=g,this.format=x,this.timestamp=v,this.text=s,this.rawBytes=l,u==null?this.numBits=l==null?0:8*l.length:this.numBits=u,this.resultPoints=g,this.format=x,this.resultMetadata=null,v==null?this.timestamp=F.currentTimeMillis():this.timestamp=v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,l)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const l=this.resultPoints;if(l===null)this.resultPoints=s;else if(s!==null&&s.length>0){const u=new Array(l.length+s.length);F.arraycopy(l,0,u,0,l.length),F.arraycopy(s,0,u,l.length,s.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ae;(function(P){P[P.AZTEC=0]="AZTEC",P[P.CODABAR=1]="CODABAR",P[P.CODE_39=2]="CODE_39",P[P.CODE_93=3]="CODE_93",P[P.CODE_128=4]="CODE_128",P[P.DATA_MATRIX=5]="DATA_MATRIX",P[P.EAN_8=6]="EAN_8",P[P.EAN_13=7]="EAN_13",P[P.ITF=8]="ITF",P[P.MAXICODE=9]="MAXICODE",P[P.PDF_417=10]="PDF_417",P[P.QR_CODE=11]="QR_CODE",P[P.RSS_14=12]="RSS_14",P[P.RSS_EXPANDED=13]="RSS_EXPANDED",P[P.UPC_A=14]="UPC_A",P[P.UPC_E=15]="UPC_E",P[P.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ae||(ae={}));var xe=ae,Xe;(function(P){P[P.OTHER=0]="OTHER",P[P.ORIENTATION=1]="ORIENTATION",P[P.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",P[P.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",P[P.ISSUE_NUMBER=4]="ISSUE_NUMBER",P[P.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",P[P.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",P[P.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",P[P.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",P[P.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",P[P.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Xe||(Xe={}));var Se=Xe;class Ce{constructor(s,l,u,g,x=-1,v=-1){this.rawBytes=s,this.text=l,this.byteSegments=u,this.ecLevel=g,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=v,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ue{exp(s){return this.expTable[s]}log(s){if(s===0)throw new b;return this.logTable[s]}static addOrSubtract(s,l){return s^l}}class xt{constructor(s,l){if(l.length===0)throw new b;this.field=s;const u=l.length;if(u>1&&l[0]===0){let g=1;for(;g<u&&l[g]===0;)g++;g===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-g),F.arraycopy(l,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const l=this.coefficients;let u;if(s===1){u=0;for(let v=0,E=l.length;v!==E;v++){const _=l[v];u=Ue.addOrSubtract(u,_)}return u}u=l[0];const g=l.length,x=this.field;for(let v=1;v<g;v++)u=Ue.addOrSubtract(x.multiply(s,u),l[v]);return u}addOrSubtract(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,u=s.coefficients;if(l.length>u.length){const v=l;l=u,u=v}let g=new Int32Array(u.length);const x=u.length-l.length;F.arraycopy(u,0,g,0,x);for(let v=x;v<u.length;v++)g[v]=Ue.addOrSubtract(l[v-x],u[v]);return new xt(this.field,g)}multiply(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const l=this.coefficients,u=l.length,g=s.coefficients,x=g.length,v=new Int32Array(u+x-1),E=this.field;for(let _=0;_<u;_++){const S=l[_];for(let M=0;M<x;M++)v[_+M]=Ue.addOrSubtract(v[_+M],E.multiply(S,g[M]))}return new xt(E,v)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const l=this.coefficients.length,u=this.field,g=new Int32Array(l),x=this.coefficients;for(let v=0;v<l;v++)g[v]=u.multiply(x[v],s);return new xt(u,g)}multiplyByMonomial(s,l){if(s<0)throw new b;if(l===0)return this.field.getZero();const u=this.coefficients,g=u.length,x=new Int32Array(g+s),v=this.field;for(let E=0;E<g;E++)x[E]=v.multiply(u[E],l);return new xt(v,x)}divide(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new b("Divide by 0");const l=this.field;let u=l.getZero(),g=this;const x=s.getCoefficient(s.getDegree()),v=l.inverse(x);for(;g.getDegree()>=s.getDegree()&&!g.isZero();){const E=g.getDegree()-s.getDegree(),_=l.multiply(g.getCoefficient(g.getDegree()),v),S=s.multiplyByMonomial(E,_),M=l.buildMonomial(E,_);u=u.addOrSubtract(M),g=g.addOrSubtract(S)}return[u,g]}toString(){let s="";for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);if(u!==0){if(u<0?(s+=" - ",u=-u):s.length>0&&(s+=" + "),l===0||u!==1){const g=this.field.log(u);g===0?s+="1":g===1?s+="a":(s+="a^",s+=g)}l!==0&&(l===1?s+="x":(s+="x^",s+=l))}}return s}}class he extends m{}he.kind="ArithmeticException";class _t extends Ue{constructor(s,l,u){super(),this.primitive=s,this.size=l,this.generatorBase=u;const g=new Int32Array(l);let x=1;for(let E=0;E<l;E++)g[E]=x,x*=2,x>=l&&(x^=s,x&=l-1);this.expTable=g;const v=new Int32Array(l);for(let E=0;E<l-1;E++)v[g[E]]=E;this.logTable=v,this.zero=new xt(this,Int32Array.from([0])),this.one=new xt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new b;if(l===0)return this.zero;const u=new Int32Array(s+1);return u[0]=l,new xt(this,u)}inverse(s){if(s===0)throw new he;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+H.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}_t.AZTEC_DATA_12=new _t(4201,4096,1),_t.AZTEC_DATA_10=new _t(1033,1024,1),_t.AZTEC_DATA_6=new _t(67,64,1),_t.AZTEC_PARAM=new _t(19,16,1),_t.QR_CODE_FIELD_256=new _t(285,256,0),_t.DATA_MATRIX_FIELD_256=new _t(301,256,1),_t.AZTEC_DATA_8=_t.DATA_MATRIX_FIELD_256,_t.MAXICODE_FIELD_64=_t.AZTEC_DATA_6;class Rt extends m{}Rt.kind="ReedSolomonException";class Ut extends m{}Ut.kind="IllegalStateException";class Ie{constructor(s){this.field=s}decode(s,l){const u=this.field,g=new xt(u,s),x=new Int32Array(l);let v=!0;for(let pe=0;pe<l;pe++){const be=g.evaluateAt(u.exp(pe+u.getGeneratorBase()));x[x.length-1-pe]=be,be!==0&&(v=!1)}if(v)return;const E=new xt(u,x),_=this.runEuclideanAlgorithm(u.buildMonomial(l,1),E,l),S=_[0],M=_[1],G=this.findErrorLocations(S),Z=this.findErrorMagnitudes(M,G);for(let pe=0;pe<G.length;pe++){const be=s.length-1-u.log(G[pe]);if(be<0)throw new Rt("Bad error location");s[be]=_t.addOrSubtract(s[be],Z[pe])}}runEuclideanAlgorithm(s,l,u){if(s.getDegree()<l.getDegree()){const pe=s;s=l,l=pe}const g=this.field;let x=s,v=l,E=g.getZero(),_=g.getOne();for(;v.getDegree()>=(u/2|0);){let pe=x,be=E;if(x=v,E=_,x.isZero())throw new Rt("r_{i-1} was zero");v=pe;let Te=g.getZero();const Oe=x.getCoefficient(x.getDegree()),qe=g.inverse(Oe);for(;v.getDegree()>=x.getDegree()&&!v.isZero();){const wt=v.getDegree()-x.getDegree(),mt=g.multiply(v.getCoefficient(v.getDegree()),qe);Te=Te.addOrSubtract(g.buildMonomial(wt,mt)),v=v.addOrSubtract(x.multiplyByMonomial(wt,mt))}if(_=Te.multiply(E).addOrSubtract(be),v.getDegree()>=x.getDegree())throw new Ut("Division algorithm failed to reduce polynomial?")}const S=_.getCoefficient(0);if(S===0)throw new Rt("sigmaTilde(0) was zero");const M=g.inverse(S),G=_.multiplyScalar(M),Z=v.multiplyScalar(M);return[G,Z]}findErrorLocations(s){const l=s.getDegree();if(l===1)return Int32Array.from([s.getCoefficient(1)]);const u=new Int32Array(l);let g=0;const x=this.field;for(let v=1;v<x.getSize()&&g<l;v++)s.evaluateAt(v)===0&&(u[g]=x.inverse(v),g++);if(g!==l)throw new Rt("Error locator degree does not match number of roots");return u}findErrorMagnitudes(s,l){const u=l.length,g=new Int32Array(u),x=this.field;for(let v=0;v<u;v++){const E=x.inverse(l[v]);let _=1;for(let S=0;S<u;S++)if(v!==S){const M=x.multiply(l[S],E),G=(M&1)===0?M|1:M&-2;_=x.multiply(_,G)}g[v]=x.multiply(s.evaluateAt(E),x.inverse(_)),x.getGeneratorBase()!==0&&(g[v]=x.multiply(g[v],E))}return g}}var Re;(function(P){P[P.UPPER=0]="UPPER",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.DIGIT=3]="DIGIT",P[P.PUNCT=4]="PUNCT",P[P.BINARY=5]="BINARY"})(Re||(Re={}));class ht{decode(s){this.ddata=s;let l=s.getBits(),u=this.extractBits(l),g=this.correctBits(u),x=ht.convertBoolArrayToByteArray(g),v=ht.getEncodedData(g),E=new Ce(x,v,null,null);return E.setNumBits(g.length),E}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let l=s.length,u=Re.UPPER,g=Re.UPPER,x="",v=0;for(;v<l;)if(g===Re.BINARY){if(l-v<5)break;let E=ht.readCode(s,v,5);if(v+=5,E===0){if(l-v<11)break;E=ht.readCode(s,v,11)+31,v+=11}for(let _=0;_<E;_++){if(l-v<8){v=l;break}const S=ht.readCode(s,v,8);x+=V.castAsNonUtf8Char(S),v+=8}g=u}else{let E=g===Re.DIGIT?4:5;if(l-v<E)break;let _=ht.readCode(s,v,E);v+=E;let S=ht.getCharacter(g,_);S.startsWith("CTRL_")?(u=g,g=ht.getTable(S.charAt(5)),S.charAt(6)==="L"&&(u=g)):(x+=S,g=u)}return x}static getTable(s){switch(s){case"L":return Re.LOWER;case"P":return Re.PUNCT;case"M":return Re.MIXED;case"D":return Re.DIGIT;case"B":return Re.BINARY;case"U":default:return Re.UPPER}}static getCharacter(s,l){switch(s){case Re.UPPER:return ht.UPPER_TABLE[l];case Re.LOWER:return ht.LOWER_TABLE[l];case Re.MIXED:return ht.MIXED_TABLE[l];case Re.PUNCT:return ht.PUNCT_TABLE[l];case Re.DIGIT:return ht.DIGIT_TABLE[l];default:throw new Ut("Bad table")}}correctBits(s){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=_t.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=_t.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=_t.AZTEC_DATA_10):(u=12,l=_t.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),x=s.length/u;if(x<g)throw new U;let v=s.length%u,E=new Int32Array(x);for(let Z=0;Z<x;Z++,v+=u)E[Z]=ht.readCode(s,v,u);try{new Ie(l).decode(E,x-g)}catch(Z){throw new U(Z)}let _=(1<<u)-1,S=0;for(let Z=0;Z<g;Z++){let pe=E[Z];if(pe===0||pe===_)throw new U;(pe===1||pe===_-1)&&S++}let M=new Array(g*u-S),G=0;for(let Z=0;Z<g;Z++){let pe=E[Z];if(pe===1||pe===_-1)M.fill(pe>1,G,G+u-1),G+=u-1;else for(let be=u-1;be>=0;--be)M[G++]=(pe&1<<be)!==0}return M}extractBits(s){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),g=(l?11:14)+u*4,x=new Int32Array(g),v=new Array(this.totalBitsInLayer(u,l));if(l)for(let E=0;E<x.length;E++)x[E]=E;else{let E=g+1+2*H.truncDivision(H.truncDivision(g,2)-1,15),_=g/2,S=H.truncDivision(E,2);for(let M=0;M<_;M++){let G=M+H.truncDivision(M,15);x[_-M-1]=S-G-1,x[_+M]=S+G+1}}for(let E=0,_=0;E<u;E++){let S=(u-E)*4+(l?9:12),M=E*2,G=g-1-M;for(let Z=0;Z<S;Z++){let pe=Z*2;for(let be=0;be<2;be++)v[_+pe+be]=s.get(x[M+be],x[M+Z]),v[_+2*S+pe+be]=s.get(x[M+Z],x[G-be]),v[_+4*S+pe+be]=s.get(x[G-be],x[G-Z]),v[_+6*S+pe+be]=s.get(x[G-Z],x[M+be])}_+=S*8}return v}static readCode(s,l,u){let g=0;for(let x=l;x<l+u;x++)g<<=1,s[x]&&(g|=1);return g}static readByte(s,l){let u=s.length-l;return u>=8?ht.readCode(s,l,8):ht.readCode(s,l,u)<<8-u}static convertBoolArrayToByteArray(s){let l=new Uint8Array((s.length+7)/8);for(let u=0;u<l.length;u++)l[u]=ht.readByte(s,8*u);return l}totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}ht.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ht.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ht.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ht.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ht.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Et{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,l,u,g){const x=s-u,v=l-g;return Math.sqrt(x*x+v*v)}static sum(s){let l=0;for(let u=0,g=s.length;u!==g;u++){const x=s[u];l+=x}return l}}class Ar{static floatToIntBits(s){return s}}Ar.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ct{constructor(s,l){this.x=s,this.y=l}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ct){const l=s;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*Ar.floatToIntBits(this.x)+Ar.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const l=this.distance(s[0],s[1]),u=this.distance(s[1],s[2]),g=this.distance(s[0],s[2]);let x,v,E;if(u>=l&&u>=g?(v=s[0],x=s[1],E=s[2]):g>=u&&g>=l?(v=s[1],x=s[0],E=s[2]):(v=s[2],x=s[0],E=s[1]),this.crossProductZ(x,v,E)<0){const _=x;x=E,E=_}s[0]=x,s[1]=v,s[2]=E}static distance(s,l){return Et.distance(s.x,s.y,l.x,l.y)}static crossProductZ(s,l,u){const g=l.x,x=l.y;return(u.x-g)*(s.y-x)-(u.y-x)*(s.x-g)}}class wn{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class ln extends wn{constructor(s,l,u,g,x){super(s,l),this.compact=u,this.nbDatablocks=g,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class je{constructor(s,l,u,g){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),l==null&&(l=je.INIT_SIZE),u==null&&(u=s.getWidth()/2|0),g==null&&(g=s.getHeight()/2|0);const x=l/2|0;if(this.leftInit=u-x,this.rightInit=u+x,this.upInit=g-x,this.downInit=g+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ve}detect(){let s=this.leftInit,l=this.rightInit,u=this.upInit,g=this.downInit,x=!1,v=!0,E=!1,_=!1,S=!1,M=!1,G=!1;const Z=this.width,pe=this.height;for(;v;){v=!1;let be=!0;for(;(be||!_)&&l<Z;)be=this.containsBlackPoint(u,g,l,!1),be?(l++,v=!0,_=!0):_||l++;if(l>=Z){x=!0;break}let Te=!0;for(;(Te||!S)&&g<pe;)Te=this.containsBlackPoint(s,l,g,!0),Te?(g++,v=!0,S=!0):S||g++;if(g>=pe){x=!0;break}let Oe=!0;for(;(Oe||!M)&&s>=0;)Oe=this.containsBlackPoint(u,g,s,!1),Oe?(s--,v=!0,M=!0):M||s--;if(s<0){x=!0;break}let qe=!0;for(;(qe||!G)&&u>=0;)qe=this.containsBlackPoint(s,l,u,!0),qe?(u--,v=!0,G=!0):G||u--;if(u<0){x=!0;break}v&&(E=!0)}if(!x&&E){const be=l-s;let Te=null;for(let mt=1;Te===null&&mt<be;mt++)Te=this.getBlackPointOnSegment(s,g-mt,s+mt,g);if(Te==null)throw new ve;let Oe=null;for(let mt=1;Oe===null&&mt<be;mt++)Oe=this.getBlackPointOnSegment(s,u+mt,s+mt,u);if(Oe==null)throw new ve;let qe=null;for(let mt=1;qe===null&&mt<be;mt++)qe=this.getBlackPointOnSegment(l,u+mt,l-mt,u);if(qe==null)throw new ve;let wt=null;for(let mt=1;wt===null&&mt<be;mt++)wt=this.getBlackPointOnSegment(l,g-mt,l-mt,g);if(wt==null)throw new ve;return this.centerEdges(wt,Te,qe,Oe)}else throw new ve}getBlackPointOnSegment(s,l,u,g){const x=Et.round(Et.distance(s,l,u,g)),v=(u-s)/x,E=(g-l)/x,_=this.image;for(let S=0;S<x;S++){const M=Et.round(s+S*v),G=Et.round(l+S*E);if(_.get(M,G))return new Ct(M,G)}return null}centerEdges(s,l,u,g){const x=s.getX(),v=s.getY(),E=l.getX(),_=l.getY(),S=u.getX(),M=u.getY(),G=g.getX(),Z=g.getY(),pe=je.CORR;return x<this.width/2?[new Ct(G-pe,Z+pe),new Ct(E+pe,_+pe),new Ct(S-pe,M-pe),new Ct(x+pe,v-pe)]:[new Ct(G+pe,Z+pe),new Ct(E+pe,_-pe),new Ct(S-pe,M+pe),new Ct(x-pe,v-pe)]}containsBlackPoint(s,l,u,g){const x=this.image;if(g){for(let v=s;v<=l;v++)if(x.get(v,u))return!0}else for(let v=s;v<=l;v++)if(x.get(u,v))return!0;return!1}}je.INIT_SIZE=10,je.CORR=1;class Tt{static checkAndNudgePoints(s,l){const u=s.getWidth(),g=s.getHeight();let x=!0;for(let v=0;v<l.length&&x;v+=2){const E=Math.floor(l[v]),_=Math.floor(l[v+1]);if(E<-1||E>u||_<-1||_>g)throw new ve;x=!1,E===-1?(l[v]=0,x=!0):E===u&&(l[v]=u-1,x=!0),_===-1?(l[v+1]=0,x=!0):_===g&&(l[v+1]=g-1,x=!0)}x=!0;for(let v=l.length-2;v>=0&&x;v-=2){const E=Math.floor(l[v]),_=Math.floor(l[v+1]);if(E<-1||E>u||_<-1||_>g)throw new ve;x=!1,E===-1?(l[v]=0,x=!0):E===u&&(l[v]=u-1,x=!0),_===-1?(l[v+1]=0,x=!0):_===g&&(l[v+1]=g-1,x=!0)}}}class Bt{constructor(s,l,u,g,x,v,E,_,S){this.a11=s,this.a21=l,this.a31=u,this.a12=g,this.a22=x,this.a32=v,this.a13=E,this.a23=_,this.a33=S}static quadrilateralToQuadrilateral(s,l,u,g,x,v,E,_,S,M,G,Z,pe,be,Te,Oe){const qe=Bt.quadrilateralToSquare(s,l,u,g,x,v,E,_);return Bt.squareToQuadrilateral(S,M,G,Z,pe,be,Te,Oe).times(qe)}transformPoints(s){const l=s.length,u=this.a11,g=this.a12,x=this.a13,v=this.a21,E=this.a22,_=this.a23,S=this.a31,M=this.a32,G=this.a33;for(let Z=0;Z<l;Z+=2){const pe=s[Z],be=s[Z+1],Te=x*pe+_*be+G;s[Z]=(u*pe+v*be+S)/Te,s[Z+1]=(g*pe+E*be+M)/Te}}transformPointsWithValues(s,l){const u=this.a11,g=this.a12,x=this.a13,v=this.a21,E=this.a22,_=this.a23,S=this.a31,M=this.a32,G=this.a33,Z=s.length;for(let pe=0;pe<Z;pe++){const be=s[pe],Te=l[pe],Oe=x*be+_*Te+G;s[pe]=(u*be+v*Te+S)/Oe,l[pe]=(g*be+E*Te+M)/Oe}}static squareToQuadrilateral(s,l,u,g,x,v,E,_){const S=s-u+x-E,M=l-g+v-_;if(S===0&&M===0)return new Bt(u-s,x-u,s,g-l,v-g,l,0,0,1);{const G=u-x,Z=E-x,pe=g-v,be=_-v,Te=G*be-Z*pe,Oe=(S*be-Z*M)/Te,qe=(G*M-S*pe)/Te;return new Bt(u-s+Oe*u,E-s+qe*E,s,g-l+Oe*g,_-l+qe*_,l,Oe,qe,1)}}static quadrilateralToSquare(s,l,u,g,x,v,E,_){return Bt.squareToQuadrilateral(s,l,u,g,x,v,E,_).buildAdjoint()}buildAdjoint(){return new Bt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Bt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class Xt extends Tt{sampleGrid(s,l,u,g,x,v,E,_,S,M,G,Z,pe,be,Te,Oe,qe,wt,mt){const ut=Bt.quadrilateralToQuadrilateral(g,x,v,E,_,S,M,G,Z,pe,be,Te,Oe,qe,wt,mt);return this.sampleGridWithTransform(s,l,u,ut)}sampleGridWithTransform(s,l,u,g){if(l<=0||u<=0)throw new ve;const x=new ze(l,u),v=new Float32Array(2*l);for(let E=0;E<u;E++){const _=v.length,S=E+.5;for(let M=0;M<_;M+=2)v[M]=M/2+.5,v[M+1]=S;g.transformPoints(v),Tt.checkAndNudgePoints(s,v);try{for(let M=0;M<_;M+=2)s.get(Math.floor(v[M]),Math.floor(v[M+1]))&&x.set(M/2,E)}catch{throw new ve}}return x}}class or{static setGridSampler(s){or.gridSampler=s}static getInstance(){return or.gridSampler}}or.gridSampler=new Xt;class fr{constructor(s,l){this.x=s,this.y=l}toResultPoint(){return new Ct(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Kt{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let l=this.getMatrixCenter(),u=this.getBullsEyeCorners(l);if(s){let v=u[0];u[0]=u[2],u[2]=v}this.extractParameters(u);let g=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),x=this.getMatrixCornerPoints(u);return new ln(g,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new ve;let l=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(s[0],s[1],l),this.sampleLine(s[1],s[2],l),this.sampleLine(s[2],s[3],l),this.sampleLine(s[3],s[0],l)]);this.shift=this.getRotation(u,l);let g=0;for(let v=0;v<4;v++){let E=u[(this.shift+v)%4];this.compact?(g<<=7,g+=E>>1&127):(g<<=10,g+=(E>>2&992)+(E>>1&31))}let x=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(s,l){let u=0;s.forEach((g,x,v)=>{let E=(g>>l-2<<1)+(g&1);u=(u<<3)+E}),u=((u&1)<<11)+(u>>1);for(let g=0;g<4;g++)if(H.bitCount(u^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new ve}getCorrectedParameterData(s,l){let u,g;l?(u=7,g=2):(u=10,g=4);let x=u-g,v=new Int32Array(u);for(let _=u-1;_>=0;--_)v[_]=s&15,s>>=4;try{new Ie(_t.AZTEC_PARAM).decode(v,x)}catch{throw new ve}let E=0;for(let _=0;_<g;_++)E=(E<<4)+v[_];return E}getBullsEyeCorners(s){let l=s,u=s,g=s,x=s,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let G=this.getFirstDifferent(l,v,1,-1),Z=this.getFirstDifferent(u,v,1,1),pe=this.getFirstDifferent(g,v,-1,1),be=this.getFirstDifferent(x,v,-1,-1);if(this.nbCenterLayers>2){let Te=this.distancePoint(be,G)*this.nbCenterLayers/(this.distancePoint(x,l)*(this.nbCenterLayers+2));if(Te<.75||Te>1.25||!this.isWhiteOrBlackRectangle(G,Z,pe,be))break}l=G,u=Z,g=pe,x=be,v=!v}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ve;this.compact=this.nbCenterLayers===5;let E=new Ct(l.getX()+.5,l.getY()-.5),_=new Ct(u.getX()+.5,u.getY()+.5),S=new Ct(g.getX()-.5,g.getY()+.5),M=new Ct(x.getX()-.5,x.getY()-.5);return this.expandSquare([E,_,S,M],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,l,u,g;try{let E=new je(this.image).detect();s=E[0],l=E[1],u=E[2],g=E[3]}catch{let _=this.image.getWidth()/2,S=this.image.getHeight()/2;s=this.getFirstDifferent(new fr(_+7,S-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new fr(_+7,S+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new fr(_-7,S+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new fr(_-7,S-7),!1,-1,-1).toResultPoint()}let x=Et.round((s.getX()+g.getX()+l.getX()+u.getX())/4),v=Et.round((s.getY()+g.getY()+l.getY()+u.getY())/4);try{let E=new je(this.image,15,x,v).detect();s=E[0],l=E[1],u=E[2],g=E[3]}catch{s=this.getFirstDifferent(new fr(x+7,v-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new fr(x+7,v+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new fr(x-7,v+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new fr(x-7,v-7),!1,-1,-1).toResultPoint()}return x=Et.round((s.getX()+g.getX()+l.getX()+u.getX())/4),v=Et.round((s.getY()+g.getY()+l.getY()+u.getY())/4),new fr(x,v)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,l,u,g,x){let v=or.getInstance(),E=this.getDimension(),_=E/2-this.nbCenterLayers,S=E/2+this.nbCenterLayers;return v.sampleGrid(s,E,E,_,_,S,_,S,S,_,S,l.getX(),l.getY(),u.getX(),u.getY(),g.getX(),g.getY(),x.getX(),x.getY())}sampleLine(s,l,u){let g=0,x=this.distanceResultPoint(s,l),v=x/u,E=s.getX(),_=s.getY(),S=v*(l.getX()-s.getX())/x,M=v*(l.getY()-s.getY())/x;for(let G=0;G<u;G++)this.image.get(Et.round(E+G*S),Et.round(_+G*M))&&(g|=1<<u-G-1);return g}isWhiteOrBlackRectangle(s,l,u,g){let x=3;s=new fr(s.getX()-x,s.getY()+x),l=new fr(l.getX()-x,l.getY()-x),u=new fr(u.getX()+x,u.getY()-x),g=new fr(g.getX()+x,g.getY()+x);let v=this.getColor(g,s);if(v===0)return!1;let E=this.getColor(s,l);return E!==v||(E=this.getColor(l,u),E!==v)?!1:(E=this.getColor(u,g),E===v)}getColor(s,l){let u=this.distancePoint(s,l),g=(l.getX()-s.getX())/u,x=(l.getY()-s.getY())/u,v=0,E=s.getX(),_=s.getY(),S=this.image.get(s.getX(),s.getY()),M=Math.ceil(u);for(let Z=0;Z<M;Z++)E+=g,_+=x,this.image.get(Et.round(E),Et.round(_))!==S&&v++;let G=v/u;return G>.1&&G<.9?0:G<=.1===S?1:-1}getFirstDifferent(s,l,u,g){let x=s.getX()+u,v=s.getY()+g;for(;this.isValid(x,v)&&this.image.get(x,v)===l;)x+=u,v+=g;for(x-=u,v-=g;this.isValid(x,v)&&this.image.get(x,v)===l;)x+=u;for(x-=u;this.isValid(x,v)&&this.image.get(x,v)===l;)v+=g;return v-=g,new fr(x,v)}expandSquare(s,l,u){let g=u/(2*l),x=s[0].getX()-s[2].getX(),v=s[0].getY()-s[2].getY(),E=(s[0].getX()+s[2].getX())/2,_=(s[0].getY()+s[2].getY())/2,S=new Ct(E+g*x,_+g*v),M=new Ct(E-g*x,_-g*v);x=s[1].getX()-s[3].getX(),v=s[1].getY()-s[3].getY(),E=(s[1].getX()+s[3].getX())/2,_=(s[1].getY()+s[3].getY())/2;let G=new Ct(E+g*x,_+g*v),Z=new Ct(E-g*x,_-g*v);return[S,G,M,Z]}isValid(s,l){return s>=0&&s<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(s){let l=Et.round(s.getX()),u=Et.round(s.getY());return this.isValid(l,u)}distancePoint(s,l){return Et.distance(s.getX(),s.getY(),l.getX(),l.getY())}distanceResultPoint(s,l){return Et.distance(s.getX(),s.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(H.truncDivision(this.nbLayers-4,8)+1)+15}}class at{decode(s,l=null){let u=null,g=new Kt(s.getBlackMatrix()),x=null,v=null;try{let M=g.detectMirror(!1);x=M.getPoints(),this.reportFoundResultPoints(l,x),v=new ht().decode(M)}catch(M){u=M}if(v==null)try{let M=g.detectMirror(!0);x=M.getPoints(),this.reportFoundResultPoints(l,x),v=new ht().decode(M)}catch(M){throw u??M}let E=new le(v.getText(),v.getRawBytes(),v.getNumBits(),x,xe.AZTEC,F.currentTimeMillis()),_=v.getByteSegments();_!=null&&E.putMetadata(Se.BYTE_SEGMENTS,_);let S=v.getECLevel();return S!=null&&E.putMetadata(Se.ERROR_CORRECTION_LEVEL,S),E}reportFoundResultPoints(s,l){if(s!=null){let u=s.get(ee.NEED_RESULT_POINT_CALLBACK);u!=null&&l.forEach((g,x,v)=>{u.foundPossibleResultPoint(g)})}}reset(){}}class Fe extends ce{constructor(s=500){super(new at,s)}}class Je{decode(s,l){try{return this.doDecode(s,l)}catch{if(l&&l.get(ee.TRY_HARDER)===!0&&s.isRotateSupported()){const x=s.rotateCounterClockwise(),v=this.doDecode(x,l),E=v.getResultMetadata();let _=270;E!==null&&E.get(Se.ORIENTATION)===!0&&(_=_+E.get(Se.ORIENTATION)%360),v.putMetadata(Se.ORIENTATION,_);const S=v.getResultPoints();if(S!==null){const M=x.getHeight();for(let G=0;G<S.length;G++)S[G]=new Ct(M-S[G].getY()-1,S[G].getX())}return v}else throw new ve}}reset(){}doDecode(s,l){const u=s.getWidth(),g=s.getHeight();let x=new re(u);const v=l&&l.get(ee.TRY_HARDER)===!0,E=Math.max(1,g>>(v?8:5));let _;v?_=g:_=15;const S=Math.trunc(g/2);for(let M=0;M<_;M++){const G=Math.trunc((M+1)/2),Z=(M&1)===0,pe=S+E*(Z?G:-G);if(pe<0||pe>=g)break;try{x=s.getBlackRow(pe,x)}catch{continue}for(let be=0;be<2;be++){if(be===1&&(x.reverse(),l&&l.get(ee.NEED_RESULT_POINT_CALLBACK)===!0)){const Te=new Map;l.forEach((Oe,qe)=>Te.set(qe,Oe)),Te.delete(ee.NEED_RESULT_POINT_CALLBACK),l=Te}try{const Te=this.decodeRow(pe,x,l);if(be===1){Te.putMetadata(Se.ORIENTATION,180);const Oe=Te.getResultPoints();Oe!==null&&(Oe[0]=new Ct(u-Oe[0].getX()-1,Oe[0].getY()),Oe[1]=new Ct(u-Oe[1].getX()-1,Oe[1].getY()))}return Te}catch{}}}throw new ve}static recordPattern(s,l,u){const g=u.length;for(let S=0;S<g;S++)u[S]=0;const x=s.getSize();if(l>=x)throw new ve;let v=!s.get(l),E=0,_=l;for(;_<x;){if(s.get(_)!==v)u[E]++;else{if(++E===g)break;u[E]=1,v=!v}_++}if(!(E===g||E===g-1&&_===x))throw new ve}static recordPatternInReverse(s,l,u){let g=u.length,x=s.get(l);for(;l>0&&g>=0;)s.get(--l)!==x&&(g--,x=!x);if(g>=0)throw new ve;Je.recordPattern(s,l+1,u)}static patternMatchVariance(s,l,u){const g=s.length;let x=0,v=0;for(let S=0;S<g;S++)x+=s[S],v+=l[S];if(x<v)return Number.POSITIVE_INFINITY;const E=x/v;u*=E;let _=0;for(let S=0;S<g;S++){const M=s[S],G=l[S]*E,Z=M>G?M-G:G-M;if(Z>u)return Number.POSITIVE_INFINITY;_+=Z}return _/x}}class ye extends Je{static findStartPattern(s){const l=s.getSize(),u=s.getNextSet(0);let g=0,x=Int32Array.from([0,0,0,0,0,0]),v=u,E=!1;const _=6;for(let S=u;S<l;S++)if(s.get(S)!==E)x[g]++;else{if(g===_-1){let M=ye.MAX_AVG_VARIANCE,G=-1;for(let Z=ye.CODE_START_A;Z<=ye.CODE_START_C;Z++){const pe=Je.patternMatchVariance(x,ye.CODE_PATTERNS[Z],ye.MAX_INDIVIDUAL_VARIANCE);pe<M&&(M=pe,G=Z)}if(G>=0&&s.isRange(Math.max(0,v-(S-v)/2),v,!1))return Int32Array.from([v,S,G]);v+=x[0]+x[1],x=x.slice(2,x.length-1),x[g-1]=0,x[g]=0,g--}else g++;x[g]=1,E=!E}throw new ve}static decodeCode(s,l,u){Je.recordPattern(s,u,l);let g=ye.MAX_AVG_VARIANCE,x=-1;for(let v=0;v<ye.CODE_PATTERNS.length;v++){const E=ye.CODE_PATTERNS[v],_=this.patternMatchVariance(l,E,ye.MAX_INDIVIDUAL_VARIANCE);_<g&&(g=_,x=v)}if(x>=0)return x;throw new ve}decodeRow(s,l,u){const g=u&&u.get(ee.ASSUME_GS1)===!0,x=ye.findStartPattern(l),v=x[2];let E=0;const _=new Uint8Array(20);_[E++]=v;let S;switch(v){case ye.CODE_START_A:S=ye.CODE_CODE_A;break;case ye.CODE_START_B:S=ye.CODE_CODE_B;break;case ye.CODE_START_C:S=ye.CODE_CODE_C;break;default:throw new U}let M=!1,G=!1,Z="",pe=x[0],be=x[1];const Te=Int32Array.from([0,0,0,0,0,0]);let Oe=0,qe=0,wt=v,mt=0,ut=!0,gr=!1,tr=!1;for(;!M;){const _A=G;switch(G=!1,Oe=qe,qe=ye.decodeCode(l,Te,be),_[E++]=qe,qe!==ye.CODE_STOP&&(ut=!0),qe!==ye.CODE_STOP&&(mt++,wt+=mt*qe),pe=be,be+=Te.reduce((kf,_0)=>kf+_0,0),qe){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new U}switch(S){case ye.CODE_CODE_A:if(qe<64)tr===gr?Z+=String.fromCharCode(32+qe):Z+=String.fromCharCode(32+qe+128),tr=!1;else if(qe<96)tr===gr?Z+=String.fromCharCode(qe-64):Z+=String.fromCharCode(qe+64),tr=!1;else switch(qe!==ye.CODE_STOP&&(ut=!1),qe){case ye.CODE_FNC_1:g&&(Z.length===0?Z+="]C1":Z+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!gr&&tr?(gr=!0,tr=!1):gr&&tr?(gr=!1,tr=!1):tr=!0;break;case ye.CODE_SHIFT:G=!0,S=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:S=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:S=ye.CODE_CODE_C;break;case ye.CODE_STOP:M=!0;break}break;case ye.CODE_CODE_B:if(qe<96)tr===gr?Z+=String.fromCharCode(32+qe):Z+=String.fromCharCode(32+qe+128),tr=!1;else switch(qe!==ye.CODE_STOP&&(ut=!1),qe){case ye.CODE_FNC_1:g&&(Z.length===0?Z+="]C1":Z+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!gr&&tr?(gr=!0,tr=!1):gr&&tr?(gr=!1,tr=!1):tr=!0;break;case ye.CODE_SHIFT:G=!0,S=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:S=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:S=ye.CODE_CODE_C;break;case ye.CODE_STOP:M=!0;break}break;case ye.CODE_CODE_C:if(qe<100)qe<10&&(Z+="0"),Z+=qe;else switch(qe!==ye.CODE_STOP&&(ut=!1),qe){case ye.CODE_FNC_1:g&&(Z.length===0?Z+="]C1":Z+="");break;case ye.CODE_CODE_A:S=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:S=ye.CODE_CODE_B;break;case ye.CODE_STOP:M=!0;break}break}_A&&(S=S===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const kn=be-pe;if(be=l.getNextUnset(be),!l.isRange(be,Math.min(l.getSize(),be+(be-pe)/2),!1))throw new ve;if(wt-=mt*Oe,wt%103!==Oe)throw new N;const Di=Z.length;if(Di===0)throw new ve;Di>0&&ut&&(S===ye.CODE_CODE_C?Z=Z.substring(0,Di-2):Z=Z.substring(0,Di-1));const Na=(x[1]+x[0])/2,Vr=pe+kn/2,ua=_.length,hi=new Uint8Array(ua);for(let _A=0;_A<ua;_A++)hi[_A]=_[_A];const oo=[new Ct(Na,s),new Ct(Vr,s)];return new le(Z,hi,0,oo,xe.CODE_128,new Date().getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class nt extends Je{constructor(s=!1,l=!1){super(),this.usingCheckDigit=s,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,l,u){let g=this.counters;g.fill(0),this.decodeRowResult="";let x=nt.findAsteriskPattern(l,g),v=l.getNextSet(x[1]),E=l.getSize(),_,S;do{nt.recordPattern(l,v,g);let Te=nt.toNarrowWidePattern(g);if(Te<0)throw new ve;_=nt.patternToChar(Te),this.decodeRowResult+=_,S=v;for(let Oe of g)v+=Oe;v=l.getNextSet(v)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let M=0;for(let Te of g)M+=Te;let G=v-S-M;if(v!==E&&G*2<M)throw new ve;if(this.usingCheckDigit){let Te=this.decodeRowResult.length-1,Oe=0;for(let qe=0;qe<Te;qe++)Oe+=nt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(qe));if(this.decodeRowResult.charAt(Te)!==nt.ALPHABET_STRING.charAt(Oe%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,Te)}if(this.decodeRowResult.length===0)throw new ve;let Z;this.extendedMode?Z=nt.decodeExtended(this.decodeRowResult):Z=this.decodeRowResult;let pe=(x[1]+x[0])/2,be=S+M/2;return new le(Z,null,0,[new Ct(pe,s),new Ct(be,s)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(s,l){let u=s.getSize(),g=s.getNextSet(0),x=0,v=g,E=!1,_=l.length;for(let S=g;S<u;S++)if(s.get(S)!==E)l[x]++;else{if(x===_-1){if(this.toNarrowWidePattern(l)===nt.ASTERISK_ENCODING&&s.isRange(Math.max(0,v-Math.floor((S-v)/2)),v,!1))return[v,S];v+=l[0]+l[1],l.copyWithin(0,2,2+x-1),l[x-1]=0,l[x]=0,x--}else x++;l[x]=1,E=!E}throw new ve}static toNarrowWidePattern(s){let l=s.length,u=0,g;do{let x=2147483647;for(let _ of s)_<x&&_>u&&(x=_);u=x,g=0;let v=0,E=0;for(let _=0;_<l;_++){let S=s[_];S>u&&(E|=1<<l-1-_,g++,v+=S)}if(g===3){for(let _=0;_<l&&g>0;_++){let S=s[_];if(S>u&&(g--,S*2>=v))return-1}return E}}while(g>3);return-1}static patternToChar(s){for(let l=0;l<nt.CHARACTER_ENCODINGS.length;l++)if(nt.CHARACTER_ENCODINGS[l]===s)return nt.ALPHABET_STRING.charAt(l);if(s===nt.ASTERISK_ENCODING)return"*";throw new ve}static decodeExtended(s){let l=s.length,u="";for(let g=0;g<l;g++){let x=s.charAt(g);if(x==="+"||x==="$"||x==="%"||x==="/"){let v=s.charAt(g+1),E="\0";switch(x){case"+":if(v>="A"&&v<="Z")E=String.fromCharCode(v.charCodeAt(0)+32);else throw new U;break;case"$":if(v>="A"&&v<="Z")E=String.fromCharCode(v.charCodeAt(0)-64);else throw new U;break;case"%":if(v>="A"&&v<="E")E=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")E=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")E=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")E=String.fromCharCode(v.charCodeAt(0)+43);else if(v==="U")E="\0";else if(v==="V")E="@";else if(v==="W")E="`";else if(v==="X"||v==="Y"||v==="Z")E="";else throw new U;break;case"/":if(v>="A"&&v<="O")E=String.fromCharCode(v.charCodeAt(0)-32);else if(v==="Z")E=":";else throw new U;break}u+=E,g++}else u+=x}return u}}nt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",nt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],nt.ASTERISK_ENCODING=148;class st extends Je{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,l,u){let g=this.decodeStart(l),x=this.decodeEnd(l),v=new z;st.decodeMiddle(l,g[1],x[0],v);let E=v.toString(),_=null;u!=null&&(_=u.get(ee.ALLOWED_LENGTHS)),_==null&&(_=st.DEFAULT_ALLOWED_LENGTHS);let S=E.length,M=!1,G=0;for(let be of _){if(S===be){M=!0;break}be>G&&(G=be)}if(!M&&S>G&&(M=!0),!M)throw new U;const Z=[new Ct(g[1],s),new Ct(x[0],s)];return new le(E,null,0,Z,xe.ITF,new Date().getTime())}static decodeMiddle(s,l,u,g){let x=new Int32Array(10),v=new Int32Array(5),E=new Int32Array(5);for(x.fill(0),v.fill(0),E.fill(0);l<u;){Je.recordPattern(s,l,x);for(let S=0;S<5;S++){let M=2*S;v[S]=x[M],E[S]=x[M+1]}let _=st.decodeDigit(v);g.append(_.toString()),_=this.decodeDigit(E),g.append(_.toString()),x.forEach(function(S){l+=S})}}decodeStart(s){let l=st.skipWhiteSpace(s),u=st.findGuardPattern(s,l,st.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(s,u[0]),u}validateQuietZone(s,l){let u=this.narrowLineWidth*10;u=u<l?u:l;for(let g=l-1;u>0&&g>=0&&!s.get(g);g--)u--;if(u!==0)throw new ve}static skipWhiteSpace(s){const l=s.getSize(),u=s.getNextSet(0);if(u===l)throw new ve;return u}decodeEnd(s){s.reverse();try{let l=st.skipWhiteSpace(s),u;try{u=st.findGuardPattern(s,l,st.END_PATTERN_REVERSED[0])}catch(x){x instanceof ve&&(u=st.findGuardPattern(s,l,st.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,u[0]);let g=u[0];return u[0]=s.getSize()-u[1],u[1]=s.getSize()-g,u}finally{s.reverse()}}static findGuardPattern(s,l,u){let g=u.length,x=new Int32Array(g),v=s.getSize(),E=!1,_=0,S=l;x.fill(0);for(let M=l;M<v;M++)if(s.get(M)!==E)x[_]++;else{if(_===g-1){if(Je.patternMatchVariance(x,u,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return[S,M];S+=x[0]+x[1],F.arraycopy(x,2,x,0,_-1),x[_-1]=0,x[_]=0,_--}else _++;x[_]=1,E=!E}throw new ve}static decodeDigit(s){let l=st.MAX_AVG_VARIANCE,u=-1,g=st.PATTERNS.length;for(let x=0;x<g;x++){let v=st.PATTERNS[x],E=Je.patternMatchVariance(s,v,st.MAX_INDIVIDUAL_VARIANCE);E<l?(l=E,u=x):E===l&&(u=-1)}if(u>=0)return u%10;throw new ve}}st.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],st.MAX_AVG_VARIANCE=.38,st.MAX_INDIVIDUAL_VARIANCE=.5,st.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],st.START_PATTERN=Int32Array.from([1,1,1,1]),st.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class It extends Je{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let l=!1,u,g=0,x=Int32Array.from([0,0,0]);for(;!l;){x=Int32Array.from([0,0,0]),u=It.findGuardPattern(s,g,!1,this.START_END_PATTERN,x);let v=u[0];g=u[1];let E=v-(g-v);E>=0&&(l=s.isRange(E,v,!1))}return u}static checkChecksum(s){return It.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let u=parseInt(s.charAt(l-1),10);return It.getStandardUPCEANChecksum(s.substring(0,l-1))===u}static getStandardUPCEANChecksum(s){let l=s.length,u=0;for(let g=l-1;g>=0;g-=2){let x=s.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new U;u+=x}u*=3;for(let g=l-2;g>=0;g-=2){let x=s.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new U;u+=x}return(1e3-u)%10}static decodeEnd(s,l){return It.findGuardPattern(s,l,!1,It.START_END_PATTERN,new Int32Array(It.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,l,u,g){return this.findGuardPattern(s,l,u,g,new Int32Array(g.length))}static findGuardPattern(s,l,u,g,x){let v=s.getSize();l=u?s.getNextUnset(l):s.getNextSet(l);let E=0,_=l,S=g.length,M=u;for(let G=l;G<v;G++)if(s.get(G)!==M)x[E]++;else{if(E===S-1){if(Je.patternMatchVariance(x,g,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return Int32Array.from([_,G]);_+=x[0]+x[1];let Z=x.slice(2,x.length-1);for(let pe=0;pe<E-1;pe++)x[pe]=Z[pe];x[E-1]=0,x[E]=0,E--}else E++;x[E]=1,M=!M}throw new ve}static decodeDigit(s,l,u,g){this.recordPattern(s,u,l);let x=this.MAX_AVG_VARIANCE,v=-1,E=g.length;for(let _=0;_<E;_++){let S=g[_],M=Je.patternMatchVariance(l,S,It.MAX_INDIVIDUAL_VARIANCE);M<x&&(x=M,v=_)}if(v>=0)return v;throw new ve}}It.MAX_AVG_VARIANCE=.48,It.MAX_INDIVIDUAL_VARIANCE=.7,It.START_END_PATTERN=Int32Array.from([1,1,1]),It.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),It.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),It.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Kr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,u){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(l,u,g),v=g.toString(),E=Kr.parseExtensionString(v),_=[new Ct((u[0]+u[1])/2,s),new Ct(x,s)],S=new le(v,null,0,_,xe.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&S.putAllMetadata(E),S}decodeMiddle(s,l,u){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=s.getSize(),v=l[1],E=0;for(let S=0;S<5&&v<x;S++){let M=It.decodeDigit(s,g,v,It.L_AND_G_PATTERNS);u+=String.fromCharCode(48+M%10);for(let G of g)v+=G;M>=10&&(E|=1<<4-S),S!==4&&(v=s.getNextSet(v),v=s.getNextUnset(v))}if(u.length!==5)throw new ve;let _=this.determineCheckDigit(E);if(Kr.extensionChecksum(u.toString())!==_)throw new ve;return v}static extensionChecksum(s){let l=s.length,u=0;for(let g=l-2;g>=0;g-=2)u+=s.charAt(g).charCodeAt(0)-48;u*=3;for(let g=l-1;g>=0;g-=2)u+=s.charAt(g).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(s){for(let l=0;l<10;l++)if(s===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new ve}static parseExtensionString(s){if(s.length!==5)return null;let l=Kr.parseExtension5String(s);return l==null?null:new Map([[Se.SUGGESTED_PRICE,l]])}static parseExtension5String(s){let l;switch(s.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let u=parseInt(s.substring(1)),g=(u/100).toString(),x=u%100,v=x<10?"0"+x:x.toString();return l+g+"."+v}}class ma{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,u){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(l,u,g),v=g.toString(),E=ma.parseExtensionString(v),_=[new Ct((u[0]+u[1])/2,s),new Ct(x,s)],S=new le(v,null,0,_,xe.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&S.putAllMetadata(E),S}decodeMiddle(s,l,u){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=s.getSize(),v=l[1],E=0;for(let _=0;_<2&&v<x;_++){let S=It.decodeDigit(s,g,v,It.L_AND_G_PATTERNS);u+=String.fromCharCode(48+S%10);for(let M of g)v+=M;S>=10&&(E|=1<<1-_),_!==1&&(v=s.getNextSet(v),v=s.getNextUnset(v))}if(u.length!==2)throw new ve;if(parseInt(u.toString())%4!==E)throw new ve;return v}static parseExtensionString(s){return s.length!==2?null:new Map([[Se.ISSUE_NUMBER,parseInt(s)]])}}class Ka{static decodeRow(s,l,u){let g=It.findGuardPattern(l,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Kr().decodeRow(s,l,g)}catch{return new ma().decodeRow(s,l,g)}}}Ka.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class qt extends It{constructor(){super(),this.decodeRowStringBuffer="",qt.L_AND_G_PATTERNS=qt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let l=qt.L_PATTERNS[s-10],u=new Int32Array(l.length);for(let g=0;g<l.length;g++)u[g]=l[l.length-g-1];qt.L_AND_G_PATTERNS[s]=u}}decodeRow(s,l,u){let g=qt.findStartGuardPattern(l),x=u==null?null:u.get(ee.NEED_RESULT_POINT_CALLBACK);if(x!=null){const ut=new Ct((g[0]+g[1])/2,s);x.foundPossibleResultPoint(ut)}let v=this.decodeMiddle(l,g,this.decodeRowStringBuffer),E=v.rowOffset,_=v.resultString;if(x!=null){const ut=new Ct(E,s);x.foundPossibleResultPoint(ut)}let S=this.decodeEnd(l,E);if(x!=null){const ut=new Ct((S[0]+S[1])/2,s);x.foundPossibleResultPoint(ut)}let M=S[1],G=M+(M-S[0]);if(G>=l.getSize()||!l.isRange(M,G,!1))throw new ve;let Z=_.toString();if(Z.length<8)throw new U;if(!qt.checkChecksum(Z))throw new N;let pe=(g[1]+g[0])/2,be=(S[1]+S[0])/2,Te=this.getBarcodeFormat(),Oe=[new Ct(pe,s),new Ct(be,s)],qe=new le(Z,null,0,Oe,Te,new Date().getTime()),wt=0;try{let ut=Ka.decodeRow(s,l,S[1]);qe.putMetadata(Se.UPC_EAN_EXTENSION,ut.getText()),qe.putAllMetadata(ut.getResultMetadata()),qe.addResultPoints(ut.getResultPoints()),wt=ut.getText().length}catch{}let mt=u==null?null:u.get(ee.ALLOWED_EAN_EXTENSIONS);if(mt!=null){let ut=!1;for(let gr in mt)if(wt.toString()===gr){ut=!0;break}if(!ut)throw new ve}return qe}decodeEnd(s,l){return qt.findGuardPattern(s,l,!1,qt.START_END_PATTERN,new Int32Array(qt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return qt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let u=parseInt(s.charAt(l-1),10);return qt.getStandardUPCEANChecksum(s.substring(0,l-1))===u}static getStandardUPCEANChecksum(s){let l=s.length,u=0;for(let g=l-1;g>=0;g-=2){let x=s.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new U;u+=x}u*=3;for(let g=l-2;g>=0;g-=2){let x=s.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new U;u+=x}return(1e3-u)%10}}class Jn extends qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,u){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=s.getSize(),v=l[1],E=0;for(let S=0;S<6&&v<x;S++){let M=qt.decodeDigit(s,g,v,qt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+M%10);for(let G of g)v+=G;M>=10&&(E|=1<<5-S)}u=Jn.determineFirstDigit(u,E),v=qt.findGuardPattern(s,v,!0,qt.MIDDLE_PATTERN,new Int32Array(qt.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<6&&v<x;S++){let M=qt.decodeDigit(s,g,v,qt.L_PATTERNS);u+=String.fromCharCode(48+M);for(let G of g)v+=G}return{rowOffset:v,resultString:u}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(s,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return s=String.fromCharCode(48+u)+s,s;throw new ve}}Jn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Qr extends qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,u){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=s.getSize(),v=l[1];for(let _=0;_<4&&v<x;_++){let S=qt.decodeDigit(s,g,v,qt.L_PATTERNS);u+=String.fromCharCode(48+S);for(let M of g)v+=M}v=qt.findGuardPattern(s,v,!0,qt.MIDDLE_PATTERN,new Int32Array(qt.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<4&&v<x;_++){let S=qt.decodeDigit(s,g,v,qt.L_PATTERNS);u+=String.fromCharCode(48+S);for(let M of g)v+=M}return{rowOffset:v,resultString:u}}getBarcodeFormat(){return xe.EAN_8}}class Zn extends qt{constructor(){super(...arguments),this.ean13Reader=new Jn}getBarcodeFormat(){return xe.UPC_A}decode(s,l){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,l,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,l,u))}decodeMiddle(s,l,u){return this.ean13Reader.decodeMiddle(s,l,u)}maybeReturnResult(s){let l=s.getText();if(l.charAt(0)==="0"){let u=new le(l.substring(1),null,null,s.getResultPoints(),xe.UPC_A);return s.getResultMetadata()!=null&&u.putAllMetadata(s.getResultMetadata()),u}else throw new ve}reset(){this.ean13Reader.reset()}}class dn extends qt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,l,u){const g=this.decodeMiddleCounters.map(S=>S);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const x=s.getSize();let v=l[1],E=0;for(let S=0;S<6&&v<x;S++){const M=dn.decodeDigit(s,g,v,dn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+M%10);for(let G of g)v+=G;M>=10&&(E|=1<<5-S)}let _=dn.determineNumSysAndCheckDigit(u,E);return{rowOffset:v,resultString:_}}decodeEnd(s,l){return dn.findGuardPatternWithoutCounters(s,l,!0,dn.MIDDLE_END_PATTERN)}checkChecksum(s){return qt.checkChecksum(dn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,l){for(let u=0;u<=1;u++)for(let g=0;g<10;g++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][g]){let x=String.fromCharCode(48+u),v=String.fromCharCode(48+g);return x+s+v}throw ve.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(s){const l=s.slice(1,7).split("").map(x=>x.charCodeAt(0)),u=new z;u.append(s.charAt(0));let g=l[5];switch(g){case 0:case 1:case 2:u.appendChars(l,0,2),u.append(g),u.append("0000"),u.appendChars(l,2,3);break;case 3:u.appendChars(l,0,3),u.append("00000"),u.appendChars(l,3,2);break;case 4:u.appendChars(l,0,4),u.append("00000"),u.append(l[4]);break;default:u.appendChars(l,0,5),u.append("0000"),u.append(g);break}return s.length>=8&&u.append(s.charAt(7)),u.toString()}}dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class us extends Je{constructor(s){super();let l=s==null?null:s.get(ee.POSSIBLE_FORMATS),u=[];n(l)?(u.push(new Jn),u.push(new Zn),u.push(new Qr),u.push(new dn)):(l.indexOf(xe.EAN_13)>-1&&u.push(new Jn),l.indexOf(xe.UPC_A)>-1&&u.push(new Zn),l.indexOf(xe.EAN_8)>-1&&u.push(new Qr),l.indexOf(xe.UPC_E)>-1&&u.push(new dn)),this.readers=u}decodeRow(s,l,u){for(let g of this.readers)try{const x=g.decodeRow(s,l,u),v=x.getBarcodeFormat()===xe.EAN_13&&x.getText().charAt(0)==="0",E=u==null?null:u.get(ee.POSSIBLE_FORMATS),_=E==null||E.includes(xe.UPC_A);if(v&&_){const S=x.getRawBytes(),M=new le(x.getText().substring(1),S,S?S.length:null,x.getResultPoints(),xe.UPC_A);return M.putAllMetadata(x.getResultMetadata()),M}return x}catch{}throw new ve}reset(){for(let s of this.readers)s.reset()}}class vn extends Je{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,l){for(let u=0;u<l.length;u++)if(Je.patternMatchVariance(s,l[u],vn.MAX_INDIVIDUAL_VARIANCE)<vn.MAX_AVG_VARIANCE)return u;throw new ve}static count(s){return Et.sum(new Int32Array(s))}static increment(s,l){let u=0,g=l[0];for(let x=1;x<s.length;x++)l[x]>g&&(g=l[x],u=x);s[u]++}static decrement(s,l){let u=0,g=l[0];for(let x=1;x<s.length;x++)l[x]<g&&(g=l[x],u=x);s[u]--}static isFinderPattern(s){let l=s[0]+s[1],u=l+s[2]+s[3],g=l/u;if(g>=vn.MIN_FINDER_PATTERN_RATIO&&g<=vn.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;for(let E of s)E>v&&(v=E),E<x&&(x=E);return v<10*x}return!1}}vn.MAX_AVG_VARIANCE=.2,vn.MAX_INDIVIDUAL_VARIANCE=.45,vn.MIN_FINDER_PATTERN_RATIO=9.5/12,vn.MAX_FINDER_PATTERN_RATIO=12.5/14;class wa{constructor(s,l){this.value=s,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof wa))return!1;const l=s;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class li{constructor(s,l,u,g,x){this.value=s,this.startEnd=l,this.value=s,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new Ct(u,x)),this.resultPoints.push(new Ct(g,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof li))return!1;const l=s;return this.value===l.value}hashCode(){return this.value}}class Hr{constructor(){}static getRSSvalue(s,l,u){let g=0;for(let _ of s)g+=_;let x=0,v=0,E=s.length;for(let _=0;_<E-1;_++){let S;for(S=1,v|=1<<_;S<s[_];S++,v&=~(1<<_)){let M=Hr.combins(g-S-1,E-_-2);if(u&&v===0&&g-S-(E-_-1)>=E-_-1&&(M-=Hr.combins(g-S-(E-_),E-_-2)),E-_-1>1){let G=0;for(let Z=g-S-(E-_-2);Z>l;Z--)G+=Hr.combins(g-S-Z-1,E-_-3);M-=G*(E-1-_)}else g-S>l&&M--;x+=M}g-=S}return x}static combins(s,l){let u,g;s-l>l?(g=l,u=s-l):(g=s-l,u=l);let x=1,v=1;for(let E=s;E>u;E--)x*=E,v<=g&&(x/=v,v++);for(;v<=g;)x/=v,v++;return x}}class mA{static buildBitArray(s){let l=s.length*2-1;s[s.length-1].getRightChar()==null&&(l-=1);let u=12*l,g=new re(u),x=0,E=s[0].getRightChar().getValue();for(let _=11;_>=0;--_)(E&1<<_)!=0&&g.set(x),x++;for(let _=1;_<s.length;++_){let S=s[_],M=S.getLeftChar().getValue();for(let G=11;G>=0;--G)(M&1<<G)!=0&&g.set(x),x++;if(S.getRightChar()!=null){let G=S.getRightChar().getValue();for(let Z=11;Z>=0;--Z)(G&1<<Z)!=0&&g.set(x),x++}}return g}}class $n{constructor(s,l){l?this.decodedInformation=null:(this.finished=s,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ci{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Fn extends Ci{constructor(s,l){super(s),this.value=l}getValue(){return this.value}isFNC1(){return this.value===Fn.FNC1}}Fn.FNC1="$";class ci extends Ci{constructor(s,l,u){super(s),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class J extends Ci{constructor(s,l,u){if(super(s),l<0||l>10||u<0||u>10)throw new U;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===J.FNC1}isSecondDigitFNC1(){return this.secondDigit===J.FNC1}isAnyFNC1(){return this.firstDigit===J.FNC1||this.secondDigit===J.FNC1}}J.FNC1=10;class ne{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new ve;let l=s.substring(0,2);for(let x of ne.TWO_DIGIT_DATA_LENGTH)if(x[0]===l)return x[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(2,x[2],s):ne.processFixedAI(2,x[1],s);if(s.length<3)throw new ve;let u=s.substring(0,3);for(let x of ne.THREE_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(3,x[2],s):ne.processFixedAI(3,x[1],s);for(let x of ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,x[2],s):ne.processFixedAI(4,x[1],s);if(s.length<4)throw new ve;let g=s.substring(0,4);for(let x of ne.FOUR_DIGIT_DATA_LENGTH)if(x[0]===g)return x[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,x[2],s):ne.processFixedAI(4,x[1],s);throw new ve}static processFixedAI(s,l,u){if(u.length<s)throw new ve;let g=u.substring(0,s);if(u.length<s+l)throw new ve;let x=u.substring(s,s+l),v=u.substring(s+l),E="("+g+")"+x,_=ne.parseFieldsInGeneralPurpose(v);return _==null?E:E+_}static processVariableAI(s,l,u){let g=u.substring(0,s),x;u.length<s+l?x=u.length:x=s+l;let v=u.substring(s,x),E=u.substring(x),_="("+g+")"+v,S=ne.parseFieldsInGeneralPurpose(E);return S==null?_:_+S}}ne.VARIABLE_LENGTH=[],ne.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ne.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ne.VARIABLE_LENGTH,20],["22",ne.VARIABLE_LENGTH,29],["30",ne.VARIABLE_LENGTH,8],["37",ne.VARIABLE_LENGTH,8],["90",ne.VARIABLE_LENGTH,30],["91",ne.VARIABLE_LENGTH,30],["92",ne.VARIABLE_LENGTH,30],["93",ne.VARIABLE_LENGTH,30],["94",ne.VARIABLE_LENGTH,30],["95",ne.VARIABLE_LENGTH,30],["96",ne.VARIABLE_LENGTH,30],["97",ne.VARIABLE_LENGTH,3],["98",ne.VARIABLE_LENGTH,30],["99",ne.VARIABLE_LENGTH,30]],ne.THREE_DIGIT_DATA_LENGTH=[["240",ne.VARIABLE_LENGTH,30],["241",ne.VARIABLE_LENGTH,30],["242",ne.VARIABLE_LENGTH,6],["250",ne.VARIABLE_LENGTH,30],["251",ne.VARIABLE_LENGTH,30],["253",ne.VARIABLE_LENGTH,17],["254",ne.VARIABLE_LENGTH,20],["400",ne.VARIABLE_LENGTH,30],["401",ne.VARIABLE_LENGTH,30],["402",17],["403",ne.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ne.VARIABLE_LENGTH,20],["421",ne.VARIABLE_LENGTH,15],["422",3],["423",ne.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ne.VARIABLE_LENGTH,15],["391",ne.VARIABLE_LENGTH,18],["392",ne.VARIABLE_LENGTH,15],["393",ne.VARIABLE_LENGTH,18],["703",ne.VARIABLE_LENGTH,30]],ne.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ne.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ne.VARIABLE_LENGTH,20],["8003",ne.VARIABLE_LENGTH,30],["8004",ne.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ne.VARIABLE_LENGTH,30],["8008",ne.VARIABLE_LENGTH,12],["8018",18],["8020",ne.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ne.VARIABLE_LENGTH,70],["8200",ne.VARIABLE_LENGTH,70]];class se{constructor(s){this.buffer=new z,this.information=s}decodeAllCodes(s,l){let u=l,g=null;do{let x=this.decodeGeneralPurposeField(u,g),v=ne.parseFieldsInGeneralPurpose(x.getNewString());if(v!=null&&s.append(v),x.isRemaining()?g=""+x.getRemainingValue():g=null,u===x.getNewPosition())break;u=x.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let l=s;l<s+3;++l)if(this.information.get(l))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(s,4);return x===0?new J(this.information.getSize(),J.FNC1,J.FNC1):new J(this.information.getSize(),x-1,J.FNC1)}let l=this.extractNumericValueFromBitArray(s,7),u=(l-8)/11,g=(l-8)%11;return new J(s+7,u,g)}extractNumericValueFromBitArray(s,l){return se.extractNumericValueFromBitArray(this.information,s,l)}static extractNumericValueFromBitArray(s,l,u){let g=0;for(let x=0;x<u;++x)s.get(l+x)&&(g|=1<<u-x-1);return g}decodeGeneralPurposeField(s,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(s);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new ci(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new ci(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,l;do{let u=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),s=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),s=l.isFinished()):(l=this.parseNumericBlock(),s=l.isFinished()),!(u!==this.current.getPosition())&&!s)break}while(!s);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let l;return s.isSecondDigitFNC1()?l=new ci(this.current.getPosition(),this.buffer.toString()):l=new ci(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new $n(!0,l)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let l=new ci(this.current.getPosition(),this.buffer.toString());return new $n(!0,l)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new $n(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new ci(this.current.getPosition(),this.buffer.toString());return new $n(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new $n(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new ci(this.current.getPosition(),this.buffer.toString());return new $n(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new $n(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<116)return!0;if(s+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(s,8);return g>=232&&g<253}decodeIsoIec646(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new Fn(s+5,Fn.FNC1);if(l>=5&&l<15)return new Fn(s+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<90)return new Fn(s+7,""+(u+1));if(u>=90&&u<116)return new Fn(s+7,""+(u+7));let g=this.extractNumericValueFromBitArray(s,8),x;switch(g){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new U}return new Fn(s+8,x)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,6);return u>=16&&u<63}decodeAlphanumeric(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new Fn(s+5,Fn.FNC1);if(l>=5&&l<15)return new Fn(s+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(s,6);if(u>=32&&u<58)return new Fn(s+6,""+(u+33));let g;switch(u){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new Ut("Decoding invalid alphanumeric value: "+u)}return new Fn(s+6,g)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<5&&l+s<this.information.getSize();++l)if(l===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+l))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let l=s;l<s+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<4&&l+s<this.information.getSize();++l)if(this.information.get(s+l))return!1;return!0}}class Ae{constructor(s){this.information=s,this.generalDecoder=new se(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ue extends Ae{constructor(s){super(s)}encodeCompressedGtin(s,l){s.append("(01)");let u=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,l,u)}encodeCompressedGtinWithoutAI(s,l,u){for(let g=0;g<4;++g){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*g,10);x/100===0&&s.append("0"),x/10===0&&s.append("0"),s.append(x)}ue.appendCheckDigit(s,u)}static appendCheckDigit(s,l){let u=0;for(let g=0;g<13;g++){let x=s.charAt(g+l).charCodeAt(0)-48;u+=(g&1)===0?3*x:x}u=10-u%10,u===10&&(u=0),s.append(u)}}ue.GTIN_SIZE=40;class we extends ue{constructor(s){super(s)}parseInformation(){let s=new z;s.append("(01)");let l=s.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(we.HEADER_SIZE,4);return s.append(u),this.encodeCompressedGtinWithoutAI(s,we.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(s,we.HEADER_SIZE+44)}}we.HEADER_SIZE=4;class Qe extends Ae{constructor(s){super(s)}parseInformation(){let s=new z;return this.getGeneralDecoder().decodeAllCodes(s,Qe.HEADER_SIZE)}}Qe.HEADER_SIZE=5;class tt extends ue{constructor(s){super(s)}encodeCompressedWeight(s,l,u){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(l,u);this.addWeightCode(s,g);let x=this.checkWeight(g),v=1e5;for(let E=0;E<5;++E)x/v===0&&s.append("0"),v/=10;s.append(x)}}class ke extends tt{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=ke.HEADER_SIZE+tt.GTIN_SIZE+ke.WEIGHT_SIZE)throw new ve;let s=new z;return this.encodeCompressedGtin(s,ke.HEADER_SIZE),this.encodeCompressedWeight(s,ke.HEADER_SIZE+tt.GTIN_SIZE,ke.WEIGHT_SIZE),s.toString()}}ke.HEADER_SIZE=5,ke.WEIGHT_SIZE=15;class Ge extends ke{constructor(s){super(s)}addWeightCode(s,l){s.append("(3103)")}checkWeight(s){return s}}class Ke extends ke{constructor(s){super(s)}addWeightCode(s,l){l<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class lt extends ue{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<lt.HEADER_SIZE+ue.GTIN_SIZE)throw new ve;let s=new z;this.encodeCompressedGtin(s,lt.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(lt.HEADER_SIZE+ue.GTIN_SIZE,lt.LAST_DIGIT_SIZE);s.append("(392"),s.append(l),s.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(lt.HEADER_SIZE+ue.GTIN_SIZE+lt.LAST_DIGIT_SIZE,null);return s.append(u.getNewString()),s.toString()}}lt.HEADER_SIZE=8,lt.LAST_DIGIT_SIZE=2;class ft extends ue{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ft.HEADER_SIZE+ue.GTIN_SIZE)throw new ve;let s=new z;this.encodeCompressedGtin(s,ft.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(ft.HEADER_SIZE+ue.GTIN_SIZE,ft.LAST_DIGIT_SIZE);s.append("(393"),s.append(l),s.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(ft.HEADER_SIZE+ue.GTIN_SIZE+ft.LAST_DIGIT_SIZE,ft.FIRST_THREE_DIGITS_SIZE);u/100==0&&s.append("0"),u/10==0&&s.append("0"),s.append(u);let g=this.getGeneralDecoder().decodeGeneralPurposeField(ft.HEADER_SIZE+ue.GTIN_SIZE+ft.LAST_DIGIT_SIZE+ft.FIRST_THREE_DIGITS_SIZE,null);return s.append(g.getNewString()),s.toString()}}ft.HEADER_SIZE=8,ft.LAST_DIGIT_SIZE=2,ft.FIRST_THREE_DIGITS_SIZE=10;class dt extends tt{constructor(s,l,u){super(s),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=dt.HEADER_SIZE+dt.GTIN_SIZE+dt.WEIGHT_SIZE+dt.DATE_SIZE)throw new ve;let s=new z;return this.encodeCompressedGtin(s,dt.HEADER_SIZE),this.encodeCompressedWeight(s,dt.HEADER_SIZE+dt.GTIN_SIZE,dt.WEIGHT_SIZE),this.encodeCompressedDate(s,dt.HEADER_SIZE+dt.GTIN_SIZE+dt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,dt.DATE_SIZE);if(u==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let g=u%32;u/=32;let x=u%12+1;u/=12;let v=u;v/10==0&&s.append("0"),s.append(v),x/10==0&&s.append("0"),s.append(x),g/10==0&&s.append("0"),s.append(g)}addWeightCode(s,l){s.append("("),s.append(this.firstAIdigits),s.append(l/1e5),s.append(")")}checkWeight(s){return s%1e5}}dt.HEADER_SIZE=8,dt.WEIGHT_SIZE=20,dt.DATE_SIZE=16;function pt(P){try{if(P.get(1))return new we(P);if(!P.get(2))return new Qe(P);switch(se.extractNumericValueFromBitArray(P,1,4)){case 4:return new Ge(P);case 5:return new Ke(P)}switch(se.extractNumericValueFromBitArray(P,1,5)){case 12:return new lt(P);case 13:return new ft(P)}switch(se.extractNumericValueFromBitArray(P,1,7)){case 56:return new dt(P,"310","11");case 57:return new dt(P,"320","11");case 58:return new dt(P,"310","13");case 59:return new dt(P,"320","13");case 60:return new dt(P,"310","15");case 61:return new dt(P,"320","15");case 62:return new dt(P,"310","17");case 63:return new dt(P,"320","17")}}catch(s){throw console.log(s),new Ut("unknown decoder: "+P)}}class vt{constructor(s,l,u,g){this.leftchar=s,this.rightchar=l,this.finderpattern=u,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,l){return s instanceof vt?vt.equalsOrNull(s.leftchar,l.leftchar)&&vt.equalsOrNull(s.rightchar,l.rightchar)&&vt.equalsOrNull(s.finderpattern,l.finderpattern):!1}static equalsOrNull(s,l){return s===null?l===null:vt.equals(s,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Nt{constructor(s,l,u){this.pairs=s,this.rowNumber=l,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,l){return s instanceof Nt?this.checkEqualitity(s,l)&&s.wasReversed===l.wasReversed:!1}checkEqualitity(s,l){if(!s||!l)return;let u;return s.forEach((g,x)=>{l.forEach(v=>{g.getLeftChar().getValue()===v.getLeftChar().getValue()&&g.getRightChar().getValue()===v.getRightChar().getValue()&&g.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(u=!0)})}),u}}class rt extends vn{constructor(s){super(...arguments),this.pairs=new Array(rt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,l,u){this.pairs.length=0,this.startFromEven=!1;try{return rt.constructResult(this.decodeRow2pairs(s,l))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,rt.constructResult(this.decodeRow2pairs(s,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,l){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,s))}catch(x){if(x instanceof ve){if(!this.pairs.length)throw new ve;u=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(s,!1),g){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new ve}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return s&&(this.rows=this.rows.reverse()),l}checkRows(s,l){for(let u=l;u<this.rows.length;u++){let g=this.rows[u];this.pairs.length=0;for(let v of s)this.pairs.push(v.getPairs());if(this.pairs.push(g.getPairs()),!rt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(s);x.push(g);try{return this.checkRows(x,u+1)}catch(v){this.verbose&&console.log(v)}}throw new ve}static isValidSequence(s){for(let l of rt.FINDER_PATTERN_SEQUENCES){if(s.length>l.length)continue;let u=!0;for(let g=0;g<s.length;g++)if(s[g].getFinderPattern().getValue()!=l[g]){u=!1;break}if(u)return!0}return!1}storeRow(s,l){let u=0,g=!1,x=!1;for(;u<this.rows.length;){let v=this.rows[u];if(v.getRowNumber()>s){x=v.isEquivalent(this.pairs);break}g=v.isEquivalent(this.pairs),u++}x||g||rt.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Nt(this.pairs,s,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,l){for(let u of l)if(u.getPairs().length!==s.length){for(let g of u.getPairs())for(let x of s)if(vt.equals(g,x))break}}static isPartialRow(s,l){for(let u of l){let g=!0;for(let x of s){let v=!1;for(let E of u.getPairs())if(x.equals(E)){v=!0;break}if(!v){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(s){let l=mA.buildBitArray(s),g=pt(l).parseInformation(),x=s[0].getFinderPattern().getResultPoints(),v=s[s.length-1].getFinderPattern().getResultPoints(),E=[x[0],x[1],v[0],v[1]];return new le(g,null,null,E,xe.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),l=s.getLeftChar(),u=s.getRightChar();if(u==null)return!1;let g=u.getChecksumPortion(),x=2;for(let E=1;E<this.pairs.size();++E){let _=this.pairs.get(E);g+=_.getLeftChar().getChecksumPortion(),x++;let S=_.getRightChar();S!=null&&(g+=S.getChecksumPortion(),x++)}return g%=211,211*(x-4)+g==l.getValue()}static getNextSecondBar(s,l){let u;return s.get(l)?(u=s.getNextUnset(l),u=s.getNextSet(u)):(u=s.getNextSet(l),u=s.getNextUnset(u)),u}retrieveNextPair(s,l,u){let g=l.length%2==0;this.startFromEven&&(g=!g);let x,v=!0,E=-1;do this.findNextPair(s,l,E),x=this.parseFoundFinderPattern(s,u,g),x==null?E=rt.getNextSecondBar(s,this.startEnd[0]):v=!1;while(v);let _=this.decodeDataCharacter(s,x,g,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new ve;let S;try{S=this.decodeDataCharacter(s,x,g,!1)}catch(M){S=null,this.verbose&&console.log(M)}return new vt(_,S,x,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,l,u){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=s.getSize(),v;u>=0?v=u:this.isEmptyPair(l)?v=0:v=l[l.length-1].getFinderPattern().getStartEnd()[1];let E=l.length%2!=0;this.startFromEven&&(E=!E);let _=!1;for(;v<x&&(_=!s.get(v),!!_);)v++;let S=0,M=v;for(let G=v;G<x;G++)if(s.get(G)!=_)g[S]++;else{if(S==3){if(E&&rt.reverseCounters(g),rt.isFinderPattern(g)){this.startEnd[0]=M,this.startEnd[1]=G;return}E&&rt.reverseCounters(g),M+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,S--}else S++;g[S]=1,_=!_}throw new ve}static reverseCounters(s){let l=s.length;for(let u=0;u<l/2;++u){let g=s[u];s[u]=s[l-u-1],s[l-u-1]=g}}parseFoundFinderPattern(s,l,u){let g,x,v;if(u){let S=this.startEnd[0]-1;for(;S>=0&&!s.get(S);)S--;S++,g=this.startEnd[0]-S,x=S,v=this.startEnd[1]}else x=this.startEnd[0],v=s.getNextUnset(this.startEnd[1]+1),g=v-this.startEnd[1];let E=this.getDecodeFinderCounters();F.arraycopy(E,0,E,1,E.length-1),E[0]=g;let _;try{_=this.parseFinderValue(E,rt.FINDER_PATTERNS)}catch{return null}return new li(_,[x,v],x,v,l)}decodeDataCharacter(s,l,u,g){let x=this.getDataCharacterCounters();for(let Vr=0;Vr<x.length;Vr++)x[Vr]=0;if(g)rt.recordPatternInReverse(s,l.getStartEnd()[0],x);else{rt.recordPattern(s,l.getStartEnd()[1],x);for(let Vr=0,ua=x.length-1;Vr<ua;Vr++,ua--){let hi=x[Vr];x[Vr]=x[ua],x[ua]=hi}}let v=17,E=Et.sum(new Int32Array(x))/v,_=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(E-_)/_>.3)throw new ve;let S=this.getOddCounts(),M=this.getEvenCounts(),G=this.getOddRoundingErrors(),Z=this.getEvenRoundingErrors();for(let Vr=0;Vr<x.length;Vr++){let ua=1*x[Vr]/E,hi=ua+.5;if(hi<1){if(ua<.3)throw new ve;hi=1}else if(hi>8){if(ua>8.7)throw new ve;hi=8}let oo=Vr/2;(Vr&1)==0?(S[oo]=hi,G[oo]=ua-hi):(M[oo]=hi,Z[oo]=ua-hi)}this.adjustOddEvenCounts(v);let pe=4*l.getValue()+(u?0:2)+(g?0:1)-1,be=0,Te=0;for(let Vr=S.length-1;Vr>=0;Vr--){if(rt.isNotA1left(l,u,g)){let ua=rt.WEIGHTS[pe][2*Vr];Te+=S[Vr]*ua}be+=S[Vr]}let Oe=0;for(let Vr=M.length-1;Vr>=0;Vr--)if(rt.isNotA1left(l,u,g)){let ua=rt.WEIGHTS[pe][2*Vr+1];Oe+=M[Vr]*ua}let qe=Te+Oe;if((be&1)!=0||be>13||be<4)throw new ve;let wt=(13-be)/2,mt=rt.SYMBOL_WIDEST[wt],ut=9-mt,gr=Hr.getRSSvalue(S,mt,!0),tr=Hr.getRSSvalue(M,ut,!1),kn=rt.EVEN_TOTAL_SUBSET[wt],Di=rt.GSUM[wt],Na=gr*kn+tr+Di;return new wa(Na,qe)}static isNotA1left(s,l,u){return!(s.getValue()==0&&l&&u)}adjustOddEvenCounts(s){let l=Et.sum(new Int32Array(this.getOddCounts())),u=Et.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1;l>13?x=!0:l<4&&(g=!0);let v=!1,E=!1;u>13?E=!0:u<4&&(v=!0);let _=l+u-s,S=(l&1)==1,M=(u&1)==0;if(_==1)if(S){if(M)throw new ve;x=!0}else{if(!M)throw new ve;E=!0}else if(_==-1)if(S){if(M)throw new ve;g=!0}else{if(!M)throw new ve;v=!0}else if(_==0){if(S){if(!M)throw new ve;l<u?(g=!0,E=!0):(x=!0,v=!0)}else if(M)throw new ve}else throw new ve;if(g){if(x)throw new ve;rt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&rt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(E)throw new ve;rt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&rt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}rt.SYMBOL_WIDEST=[7,5,4,3,1],rt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],rt.GSUM=[0,348,1388,2948,3988],rt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],rt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],rt.FINDER_PAT_A=0,rt.FINDER_PAT_B=1,rt.FINDER_PAT_C=2,rt.FINDER_PAT_D=3,rt.FINDER_PAT_E=4,rt.FINDER_PAT_F=5,rt.FINDER_PATTERN_SEQUENCES=[[rt.FINDER_PAT_A,rt.FINDER_PAT_A],[rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B],[rt.FINDER_PAT_A,rt.FINDER_PAT_C,rt.FINDER_PAT_B,rt.FINDER_PAT_D],[rt.FINDER_PAT_A,rt.FINDER_PAT_E,rt.FINDER_PAT_B,rt.FINDER_PAT_D,rt.FINDER_PAT_C],[rt.FINDER_PAT_A,rt.FINDER_PAT_E,rt.FINDER_PAT_B,rt.FINDER_PAT_D,rt.FINDER_PAT_D,rt.FINDER_PAT_F],[rt.FINDER_PAT_A,rt.FINDER_PAT_E,rt.FINDER_PAT_B,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_F,rt.FINDER_PAT_F],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_D],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_E],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_F,rt.FINDER_PAT_F],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_E,rt.FINDER_PAT_F,rt.FINDER_PAT_F]],rt.MAX_PAIRS=11;class Tr extends wa{constructor(s,l,u){super(s,l),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ht extends vn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,l,u){const g=this.decodePair(l,!1,s,u);Ht.addOrTally(this.possibleLeftPairs,g),l.reverse();let x=this.decodePair(l,!0,s,u);Ht.addOrTally(this.possibleRightPairs,x),l.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&Ht.checkChecksum(v,E))return Ht.constructResult(v,E)}throw new ve}static addOrTally(s,l){if(l==null)return;let u=!1;for(let g of s)if(g.getValue()===l.getValue()){g.incrementCount(),u=!0;break}u||s.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,l){let u=4537077*s.getValue()+l.getValue(),g=new String(u).toString(),x=new z;for(let S=13-g.length;S>0;S--)x.append("0");x.append(g);let v=0;for(let S=0;S<13;S++){let M=x.charAt(S).charCodeAt(0)-48;v+=(S&1)===0?3*M:M}v=10-v%10,v===10&&(v=0),x.append(v.toString());let E=s.getFinderPattern().getResultPoints(),_=l.getFinderPattern().getResultPoints();return new le(x.toString(),null,0,[E[0],E[1],_[0],_[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(s,l){let u=(s.getChecksumPortion()+16*l.getChecksumPortion())%79,g=9*s.getFinderPattern().getValue()+l.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,u===g}decodePair(s,l,u,g){try{let x=this.findFinderPattern(s,l),v=this.parseFoundFinderPattern(s,u,l,x),E=g==null?null:g.get(ee.NEED_RESULT_POINT_CALLBACK);if(E!=null){let M=(x[0]+x[1])/2;l&&(M=s.getSize()-1-M),E.foundPossibleResultPoint(new Ct(M,u))}let _=this.decodeDataCharacter(s,v,!0),S=this.decodeDataCharacter(s,v,!1);return new Tr(1597*_.getValue()+S.getValue(),_.getChecksumPortion()+4*S.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(s,l,u){let g=this.getDataCharacterCounters();for(let Oe=0;Oe<g.length;Oe++)g[Oe]=0;if(u)Je.recordPatternInReverse(s,l.getStartEnd()[0],g);else{Je.recordPattern(s,l.getStartEnd()[1]+1,g);for(let Oe=0,qe=g.length-1;Oe<qe;Oe++,qe--){let wt=g[Oe];g[Oe]=g[qe],g[qe]=wt}}let x=u?16:15,v=Et.sum(new Int32Array(g))/x,E=this.getOddCounts(),_=this.getEvenCounts(),S=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let Oe=0;Oe<g.length;Oe++){let qe=g[Oe]/v,wt=Math.floor(qe+.5);wt<1?wt=1:wt>8&&(wt=8);let mt=Math.floor(Oe/2);(Oe&1)===0?(E[mt]=wt,S[mt]=qe-wt):(_[mt]=wt,M[mt]=qe-wt)}this.adjustOddEvenCounts(u,x);let G=0,Z=0;for(let Oe=E.length-1;Oe>=0;Oe--)Z*=9,Z+=E[Oe],G+=E[Oe];let pe=0,be=0;for(let Oe=_.length-1;Oe>=0;Oe--)pe*=9,pe+=_[Oe],be+=_[Oe];let Te=Z+3*pe;if(u){if((G&1)!==0||G>12||G<4)throw new ve;let Oe=(12-G)/2,qe=Ht.OUTSIDE_ODD_WIDEST[Oe],wt=9-qe,mt=Hr.getRSSvalue(E,qe,!1),ut=Hr.getRSSvalue(_,wt,!0),gr=Ht.OUTSIDE_EVEN_TOTAL_SUBSET[Oe],tr=Ht.OUTSIDE_GSUM[Oe];return new wa(mt*gr+ut+tr,Te)}else{if((be&1)!==0||be>10||be<4)throw new ve;let Oe=(10-be)/2,qe=Ht.INSIDE_ODD_WIDEST[Oe],wt=9-qe,mt=Hr.getRSSvalue(E,qe,!0),ut=Hr.getRSSvalue(_,wt,!1),gr=Ht.INSIDE_ODD_TOTAL_SUBSET[Oe],tr=Ht.INSIDE_GSUM[Oe];return new wa(ut*gr+mt+tr,Te)}}findFinderPattern(s,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let g=s.getSize(),x=!1,v=0;for(;v<g&&(x=!s.get(v),l!==x);)v++;let E=0,_=v;for(let S=v;S<g;S++)if(s.get(S)!==x)u[E]++;else{if(E===3){if(vn.isFinderPattern(u))return[_,S];_+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,E--}else E++;u[E]=1,x=!x}throw new ve}parseFoundFinderPattern(s,l,u,g){let x=s.get(g[0]),v=g[0]-1;for(;v>=0&&x!==s.get(v);)v--;v++;const E=g[0]-v,_=this.getDecodeFinderCounters(),S=new Int32Array(_.length);F.arraycopy(_,0,S,1,_.length-1),S[0]=E;const M=this.parseFinderValue(S,Ht.FINDER_PATTERNS);let G=v,Z=g[1];return u&&(G=s.getSize()-1-G,Z=s.getSize()-1-Z),new li(M,[v,g[1]],G,Z,l)}adjustOddEvenCounts(s,l){let u=Et.sum(new Int32Array(this.getOddCounts())),g=Et.sum(new Int32Array(this.getEvenCounts())),x=!1,v=!1,E=!1,_=!1;s?(u>12?v=!0:u<4&&(x=!0),g>12?_=!0:g<4&&(E=!0)):(u>11?v=!0:u<5&&(x=!0),g>10?_=!0:g<4&&(E=!0));let S=u+g-l,M=(u&1)===(s?1:0),G=(g&1)===1;if(S===1)if(M){if(G)throw new ve;v=!0}else{if(!G)throw new ve;_=!0}else if(S===-1)if(M){if(G)throw new ve;x=!0}else{if(!G)throw new ve;E=!0}else if(S===0){if(M){if(!G)throw new ve;u<g?(x=!0,_=!0):(v=!0,E=!0)}else if(G)throw new ve}else throw new ve;if(x){if(v)throw new ve;vn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&vn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(_)throw new ve;vn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&vn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ht.OUTSIDE_GSUM=[0,161,961,2015,2715],Ht.INSIDE_GSUM=[0,336,1036,1516],Ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ht.INSIDE_ODD_WIDEST=[2,4,6,8],Ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class bn extends Je{constructor(s,l){super(),this.readers=[],this.verbose=l===!0;const u=s?s.get(ee.POSSIBLE_FORMATS):null,g=s&&s.get(ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(xe.EAN_13)||u.includes(xe.UPC_A)||u.includes(xe.EAN_8)||u.includes(xe.UPC_E))&&this.readers.push(new us(s)),u.includes(xe.CODE_39)&&this.readers.push(new nt(g)),u.includes(xe.CODE_128)&&this.readers.push(new ye),u.includes(xe.ITF)&&this.readers.push(new st),u.includes(xe.RSS_14)&&this.readers.push(new Ht),u.includes(xe.RSS_EXPANDED)&&this.readers.push(new rt(this.verbose))):(this.readers.push(new us(s)),this.readers.push(new nt),this.readers.push(new us(s)),this.readers.push(new ye),this.readers.push(new st),this.readers.push(new Ht),this.readers.push(new rt(this.verbose)))}decodeRow(s,l,u){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(s,l,u)}catch{}throw new ve}reset(){this.readers.forEach(s=>s.reset())}}class Os extends ce{constructor(s=500,l){super(new bn(l),s,l)}}class lr{constructor(s,l,u){this.ecCodewords=s,this.ecBlocks=[l],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class er{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rr{constructor(s,l,u,g,x,v){this.versionNumber=s,this.symbolSizeRows=l,this.symbolSizeColumns=u,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=x,this.ecBlocks=v;let E=0;const _=v.getECCodewords(),S=v.getECBlocks();for(let M of S)E+=M.getCount()*(M.getDataCodewords()+_);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,l){if((s&1)!==0||(l&1)!==0)throw new U;for(let u of rr.VERSIONS)if(u.symbolSizeRows===s&&u.symbolSizeColumns===l)return u;throw new U}toString(){return""+this.versionNumber}static buildVersions(){return[new rr(1,10,10,8,8,new lr(5,new er(1,3))),new rr(2,12,12,10,10,new lr(7,new er(1,5))),new rr(3,14,14,12,12,new lr(10,new er(1,8))),new rr(4,16,16,14,14,new lr(12,new er(1,12))),new rr(5,18,18,16,16,new lr(14,new er(1,18))),new rr(6,20,20,18,18,new lr(18,new er(1,22))),new rr(7,22,22,20,20,new lr(20,new er(1,30))),new rr(8,24,24,22,22,new lr(24,new er(1,36))),new rr(9,26,26,24,24,new lr(28,new er(1,44))),new rr(10,32,32,14,14,new lr(36,new er(1,62))),new rr(11,36,36,16,16,new lr(42,new er(1,86))),new rr(12,40,40,18,18,new lr(48,new er(1,114))),new rr(13,44,44,20,20,new lr(56,new er(1,144))),new rr(14,48,48,22,22,new lr(68,new er(1,174))),new rr(15,52,52,24,24,new lr(42,new er(2,102))),new rr(16,64,64,14,14,new lr(56,new er(2,140))),new rr(17,72,72,16,16,new lr(36,new er(4,92))),new rr(18,80,80,18,18,new lr(48,new er(4,114))),new rr(19,88,88,20,20,new lr(56,new er(4,144))),new rr(20,96,96,22,22,new lr(68,new er(4,174))),new rr(21,104,104,24,24,new lr(56,new er(6,136))),new rr(22,120,120,18,18,new lr(68,new er(6,175))),new rr(23,132,132,20,20,new lr(62,new er(8,163))),new rr(24,144,144,22,22,new lr(62,new er(8,156),new er(2,155))),new rr(25,8,18,6,16,new lr(7,new er(1,5))),new rr(26,8,32,6,14,new lr(11,new er(1,10))),new rr(27,12,26,10,24,new lr(14,new er(1,16))),new rr(28,12,36,10,16,new lr(18,new er(1,22))),new rr(29,16,36,14,16,new lr(24,new er(1,32))),new rr(30,16,48,14,22,new lr(28,new er(1,49)))]}}rr.VERSIONS=rr.buildVersions();class Rn{constructor(s){const l=s.getHeight();if(l<8||l>144||(l&1)!==0)throw new U;this.version=Rn.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new ze(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const l=s.getHeight(),u=s.getWidth();return rr.getVersionForDimensions(l,u)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let l=0,u=4,g=0;const x=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let E=!1,_=!1,S=!1,M=!1;do if(u===x&&g===0&&!E)s[l++]=this.readCorner1(x,v)&255,u-=2,g+=2,E=!0;else if(u===x-2&&g===0&&(v&3)!==0&&!_)s[l++]=this.readCorner2(x,v)&255,u-=2,g+=2,_=!0;else if(u===x+4&&g===2&&(v&7)===0&&!S)s[l++]=this.readCorner3(x,v)&255,u-=2,g+=2,S=!0;else if(u===x-2&&g===0&&(v&7)===4&&!M)s[l++]=this.readCorner4(x,v)&255,u-=2,g+=2,M=!0;else{do u<x&&g>=0&&!this.readMappingMatrix.get(g,u)&&(s[l++]=this.readUtah(u,g,x,v)&255),u-=2,g+=2;while(u>=0&&g<v);u+=1,g+=3;do u>=0&&g<v&&!this.readMappingMatrix.get(g,u)&&(s[l++]=this.readUtah(u,g,x,v)&255),u+=2,g-=2;while(u<x&&g>=0);u+=3,g+=1}while(u<x||g<v);if(l!==this.version.getTotalCodewords())throw new U;return s}readModule(s,l,u,g){return s<0&&(s+=u,l+=4-(u+4&7)),l<0&&(l+=g,s+=4-(g+4&7)),this.readMappingMatrix.set(l,s),this.mappingBitMatrix.get(l,s)}readUtah(s,l,u,g){let x=0;return this.readModule(s-2,l-2,u,g)&&(x|=1),x<<=1,this.readModule(s-2,l-1,u,g)&&(x|=1),x<<=1,this.readModule(s-1,l-2,u,g)&&(x|=1),x<<=1,this.readModule(s-1,l-1,u,g)&&(x|=1),x<<=1,this.readModule(s-1,l,u,g)&&(x|=1),x<<=1,this.readModule(s,l-2,u,g)&&(x|=1),x<<=1,this.readModule(s,l-1,u,g)&&(x|=1),x<<=1,this.readModule(s,l,u,g)&&(x|=1),x}readCorner1(s,l){let u=0;return this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,1,s,l)&&(u|=1),u<<=1,this.readModule(s-1,2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(2,l-1,s,l)&&(u|=1),u<<=1,this.readModule(3,l-1,s,l)&&(u|=1),u}readCorner2(s,l){let u=0;return this.readModule(s-3,0,s,l)&&(u|=1),u<<=1,this.readModule(s-2,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(0,l-4,s,l)&&(u|=1),u<<=1,this.readModule(0,l-3,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u}readCorner3(s,l){let u=0;return this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(0,l-3,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-3,s,l)&&(u|=1),u<<=1,this.readModule(1,l-2,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u}readCorner4(s,l){let u=0;return this.readModule(s-3,0,s,l)&&(u|=1),u<<=1,this.readModule(s-2,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(2,l-1,s,l)&&(u|=1),u<<=1,this.readModule(3,l-1,s,l)&&(u|=1),u}extractDataRegion(s){const l=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(s.getHeight()!==l)throw new b("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),v=l/g|0,E=u/x|0,_=v*g,S=E*x,M=new ze(S,_);for(let G=0;G<v;++G){const Z=G*g;for(let pe=0;pe<E;++pe){const be=pe*x;for(let Te=0;Te<g;++Te){const Oe=G*(g+2)+1+Te,qe=Z+Te;for(let wt=0;wt<x;++wt){const mt=pe*(x+2)+1+wt;if(s.get(mt,Oe)){const ut=be+wt;M.set(ut,qe)}}}}}return M}}class fs{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l){const u=l.getECBlocks();let g=0;const x=u.getECBlocks();for(let Te of x)g+=Te.getCount();const v=new Array(g);let E=0;for(let Te of x)for(let Oe=0;Oe<Te.getCount();Oe++){const qe=Te.getDataCodewords(),wt=u.getECCodewords()+qe;v[E++]=new fs(qe,new Uint8Array(wt))}const S=v[0].codewords.length-u.getECCodewords(),M=S-1;let G=0;for(let Te=0;Te<M;Te++)for(let Oe=0;Oe<E;Oe++)v[Oe].codewords[Te]=s[G++];const Z=l.getVersionNumber()===24,pe=Z?8:E;for(let Te=0;Te<pe;Te++)v[Te].codewords[S-1]=s[G++];const be=v[0].codewords.length;for(let Te=S;Te<be;Te++)for(let Oe=0;Oe<E;Oe++){const qe=Z?(Oe+8)%E:Oe,wt=Z&&qe>7?Te-1:Te;v[qe].codewords[wt]=s[G++]}if(G!==s.length)throw new b;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class za{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new b(""+s);let l=0,u=this.bitOffset,g=this.byteOffset;const x=this.bytes;if(u>0){const v=8-u,E=s<v?s:v,_=v-E,S=255>>8-E<<_;l=(x[g]&S)>>_,s-=E,u+=E,u===8&&(u=0,g++)}if(s>0){for(;s>=8;)l=l<<8|x[g]&255,g++,s-=8;if(s>0){const v=8-s,E=255>>v<<v;l=l<<s|(x[g]&E)>>v,u+=s}}return this.bitOffset=u,this.byteOffset=g,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Br;(function(P){P[P.PAD_ENCODE=0]="PAD_ENCODE",P[P.ASCII_ENCODE=1]="ASCII_ENCODE",P[P.C40_ENCODE=2]="C40_ENCODE",P[P.TEXT_ENCODE=3]="TEXT_ENCODE",P[P.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",P[P.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",P[P.BASE256_ENCODE=6]="BASE256_ENCODE"})(Br||(Br={}));class Wi{static decode(s){const l=new za(s),u=new z,g=new z,x=new Array;let v=Br.ASCII_ENCODE;do if(v===Br.ASCII_ENCODE)v=this.decodeAsciiSegment(l,u,g);else{switch(v){case Br.C40_ENCODE:this.decodeC40Segment(l,u);break;case Br.TEXT_ENCODE:this.decodeTextSegment(l,u);break;case Br.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,u);break;case Br.EDIFACT_ENCODE:this.decodeEdifactSegment(l,u);break;case Br.BASE256_ENCODE:this.decodeBase256Segment(l,u,x);break;default:throw new U}v=Br.ASCII_ENCODE}while(v!==Br.PAD_ENCODE&&l.available()>0);return g.length()>0&&u.append(g.toString()),new Ce(s,u.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(s,l,u){let g=!1;do{let x=s.readBits(8);if(x===0)throw new U;if(x<=128)return g&&(x+=128),l.append(String.fromCharCode(x-1)),Br.ASCII_ENCODE;if(x===129)return Br.PAD_ENCODE;if(x<=229){const v=x-130;v<10&&l.append("0"),l.append(""+v)}else switch(x){case 230:return Br.C40_ENCODE;case 231:return Br.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:l.append("[)>05"),u.insert(0,"");break;case 237:l.append("[)>06"),u.insert(0,"");break;case 238:return Br.ANSIX12_ENCODE;case 239:return Br.TEXT_ENCODE;case 240:return Br.EDIFACT_ENCODE;case 241:break;default:if(x!==254||s.available()!==0)throw new U;break}}while(s.available()>0);return Br.ASCII_ENCODE}static decodeC40Segment(s,l){let u=!1;const g=[];let x=0;do{if(s.available()===8)return;const v=s.readBits(8);if(v===254)return;this.parseTwoBytes(v,s.readBits(8),g);for(let E=0;E<3;E++){const _=g[E];switch(x){case 0:if(_<3)x=_+1;else if(_<this.C40_BASIC_SET_CHARS.length){const S=this.C40_BASIC_SET_CHARS[_];u?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),u=!1):l.append(S)}else throw new U;break;case 1:u?(l.append(String.fromCharCode(_+128)),u=!1):l.append(String.fromCharCode(_)),x=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){const S=this.C40_SHIFT2_SET_CHARS[_];u?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),u=!1):l.append(S)}else switch(_){case 27:l.append("");break;case 30:u=!0;break;default:throw new U}x=0;break;case 3:u?(l.append(String.fromCharCode(_+224)),u=!1):l.append(String.fromCharCode(_+96)),x=0;break;default:throw new U}}}while(s.available()>0)}static decodeTextSegment(s,l){let u=!1,g=[],x=0;do{if(s.available()===8)return;const v=s.readBits(8);if(v===254)return;this.parseTwoBytes(v,s.readBits(8),g);for(let E=0;E<3;E++){const _=g[E];switch(x){case 0:if(_<3)x=_+1;else if(_<this.TEXT_BASIC_SET_CHARS.length){const S=this.TEXT_BASIC_SET_CHARS[_];u?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),u=!1):l.append(S)}else throw new U;break;case 1:u?(l.append(String.fromCharCode(_+128)),u=!1):l.append(String.fromCharCode(_)),x=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){const S=this.TEXT_SHIFT2_SET_CHARS[_];u?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),u=!1):l.append(S)}else switch(_){case 27:l.append("");break;case 30:u=!0;break;default:throw new U}x=0;break;case 3:if(_<this.TEXT_SHIFT3_SET_CHARS.length){const S=this.TEXT_SHIFT3_SET_CHARS[_];u?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),u=!1):l.append(S),x=0}else throw new U;break;default:throw new U}}}while(s.available()>0)}static decodeAnsiX12Segment(s,l){const u=[];do{if(s.available()===8)return;const g=s.readBits(8);if(g===254)return;this.parseTwoBytes(g,s.readBits(8),u);for(let x=0;x<3;x++){const v=u[x];switch(v){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(v<14)l.append(String.fromCharCode(v+44));else if(v<40)l.append(String.fromCharCode(v+51));else throw new U;break}}}while(s.available()>0)}static parseTwoBytes(s,l,u){let g=(s<<8)+l-1,x=Math.floor(g/1600);u[0]=x,g-=x*1600,x=Math.floor(g/40),u[1]=x,u[2]=g-x*40}static decodeEdifactSegment(s,l){do{if(s.available()<=16)return;for(let u=0;u<4;u++){let g=s.readBits(6);if(g===31){const x=8-s.getBitOffset();x!==8&&s.readBits(x);return}(g&32)===0&&(g|=64),l.append(String.fromCharCode(g))}}while(s.available()>0)}static decodeBase256Segment(s,l,u){let g=1+s.getByteOffset();const x=this.unrandomize255State(s.readBits(8),g++);let v;if(x===0?v=s.available()/8|0:x<250?v=x:v=250*(x-249)+this.unrandomize255State(s.readBits(8),g++),v<0)throw new U;const E=new Uint8Array(v);for(let _=0;_<v;_++){if(s.available()<8)throw new U;E[_]=this.unrandomize255State(s.readBits(8),g++)}u.push(E);try{l.append(q.decode(E,V.ISO88591))}catch(_){throw new Ut("Platform does not support required encoding: "+_.message)}}static unrandomize255State(s,l){const u=149*l%255+1,g=s-u;return g>=0?g:g+256}}Wi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wi.TEXT_SHIFT2_SET_CHARS=Wi.C40_SHIFT2_SET_CHARS,Wi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class B0{constructor(){this.rsDecoder=new Ie(_t.DATA_MATRIX_FIELD_256)}decode(s){const l=new Rn(s),u=l.getVersion(),g=l.readCodewords(),x=fs.getDataBlocks(g,u);let v=0;for(let S of x)v+=S.getNumDataCodewords();const E=new Uint8Array(v),_=x.length;for(let S=0;S<_;S++){const M=x[S],G=M.getCodewords(),Z=M.getNumDataCodewords();this.correctErrors(G,Z);for(let pe=0;pe<Z;pe++)E[pe*_+S]=G[pe]}return Wi.decode(E)}correctErrors(s,l){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-l)}catch{throw new N}for(let g=0;g<l;g++)s[g]=u[g]}}class Jr{constructor(s){this.image=s,this.rectangleDetector=new je(this.image)}detect(){const s=this.rectangleDetector.detect();let l=this.detectSolid1(s);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new ve;l=this.shiftToModuleCenter(l);const u=l[0],g=l[1],x=l[2],v=l[3];let E=this.transitionsBetween(u,v)+1,_=this.transitionsBetween(x,v)+1;(E&1)===1&&(E+=1),(_&1)===1&&(_+=1),4*E<7*_&&4*_<7*E&&(E=_=Math.max(E,_));let S=Jr.sampleGrid(this.image,u,g,x,v,E,_);return new wn(S,[u,g,x,v])}static shiftPoint(s,l,u){let g=(l.getX()-s.getX())/(u+1),x=(l.getY()-s.getY())/(u+1);return new Ct(s.getX()+g,s.getY()+x)}static moveAway(s,l,u){let g=s.getX(),x=s.getY();return g<l?g-=1:g+=1,x<u?x-=1:x+=1,new Ct(g,x)}detectSolid1(s){let l=s[0],u=s[1],g=s[3],x=s[2],v=this.transitionsBetween(l,u),E=this.transitionsBetween(u,g),_=this.transitionsBetween(g,x),S=this.transitionsBetween(x,l),M=v,G=[x,l,u,g];return M>E&&(M=E,G[0]=l,G[1]=u,G[2]=g,G[3]=x),M>_&&(M=_,G[0]=u,G[1]=g,G[2]=x,G[3]=l),M>S&&(G[0]=g,G[1]=x,G[2]=l,G[3]=u),G}detectSolid2(s){let l=s[0],u=s[1],g=s[2],x=s[3],v=this.transitionsBetween(l,x),E=Jr.shiftPoint(u,g,(v+1)*4),_=Jr.shiftPoint(g,u,(v+1)*4),S=this.transitionsBetween(E,l),M=this.transitionsBetween(_,x);return S<M?(s[0]=l,s[1]=u,s[2]=g,s[3]=x):(s[0]=u,s[1]=g,s[2]=x,s[3]=l),s}correctTopRight(s){let l=s[0],u=s[1],g=s[2],x=s[3],v=this.transitionsBetween(l,x),E=this.transitionsBetween(u,x),_=Jr.shiftPoint(l,u,(E+1)*4),S=Jr.shiftPoint(g,u,(v+1)*4);v=this.transitionsBetween(_,x),E=this.transitionsBetween(S,x);let M=new Ct(x.getX()+(g.getX()-u.getX())/(v+1),x.getY()+(g.getY()-u.getY())/(v+1)),G=new Ct(x.getX()+(l.getX()-u.getX())/(E+1),x.getY()+(l.getY()-u.getY())/(E+1));if(!this.isValid(M))return this.isValid(G)?G:null;if(!this.isValid(G))return M;let Z=this.transitionsBetween(_,M)+this.transitionsBetween(S,M),pe=this.transitionsBetween(_,G)+this.transitionsBetween(S,G);return Z>pe?M:G}shiftToModuleCenter(s){let l=s[0],u=s[1],g=s[2],x=s[3],v=this.transitionsBetween(l,x)+1,E=this.transitionsBetween(g,x)+1,_=Jr.shiftPoint(l,u,E*4),S=Jr.shiftPoint(g,u,v*4);v=this.transitionsBetween(_,x)+1,E=this.transitionsBetween(S,x)+1,(v&1)===1&&(v+=1),(E&1)===1&&(E+=1);let M=(l.getX()+u.getX()+g.getX()+x.getX())/4,G=(l.getY()+u.getY()+g.getY()+x.getY())/4;l=Jr.moveAway(l,M,G),u=Jr.moveAway(u,M,G),g=Jr.moveAway(g,M,G),x=Jr.moveAway(x,M,G);let Z,pe;return _=Jr.shiftPoint(l,u,E*4),_=Jr.shiftPoint(_,x,v*4),Z=Jr.shiftPoint(u,l,E*4),Z=Jr.shiftPoint(Z,g,v*4),S=Jr.shiftPoint(g,x,E*4),S=Jr.shiftPoint(S,u,v*4),pe=Jr.shiftPoint(x,g,E*4),pe=Jr.shiftPoint(pe,l,v*4),[_,Z,S,pe]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,l,u,g,x,v,E){return or.getInstance().sampleGrid(s,v,E,.5,.5,v-.5,.5,v-.5,E-.5,.5,E-.5,l.getX(),l.getY(),x.getX(),x.getY(),g.getX(),g.getY(),u.getX(),u.getY())}transitionsBetween(s,l){let u=Math.trunc(s.getX()),g=Math.trunc(s.getY()),x=Math.trunc(l.getX()),v=Math.trunc(l.getY()),E=Math.abs(v-g)>Math.abs(x-u);if(E){let Te=u;u=g,g=Te,Te=x,x=v,v=Te}let _=Math.abs(x-u),S=Math.abs(v-g),M=-_/2,G=g<v?1:-1,Z=u<x?1:-1,pe=0,be=this.image.get(E?g:u,E?u:g);for(let Te=u,Oe=g;Te!==x;Te+=Z){let qe=this.image.get(E?Oe:Te,E?Te:Oe);if(qe!==be&&(pe++,be=qe),M+=S,M>0){if(Oe===v)break;Oe+=G,M-=_}}return pe}}class Bi{constructor(){this.decoder=new B0}decode(s,l=null){let u,g;if(l!=null&&l.has(ee.PURE_BARCODE)){const S=Bi.extractPureBits(s.getBlackMatrix());u=this.decoder.decode(S),g=Bi.NO_POINTS}else{const S=new Jr(s.getBlackMatrix()).detect();u=this.decoder.decode(S.getBits()),g=S.getPoints()}const x=u.getRawBytes(),v=new le(u.getText(),x,8*x.length,g,xe.DATA_MATRIX,F.currentTimeMillis()),E=u.getByteSegments();E!=null&&v.putMetadata(Se.BYTE_SEGMENTS,E);const _=u.getECLevel();return _!=null&&v.putMetadata(Se.ERROR_CORRECTION_LEVEL,_),v}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(l==null||u==null)throw new ve;const g=this.moduleSize(l,s);let x=l[1];const v=u[1];let E=l[0];const S=(u[0]-E+1)/g,M=(v-x+1)/g;if(S<=0||M<=0)throw new ve;const G=g/2;x+=G,E+=G;const Z=new ze(S,M);for(let pe=0;pe<M;pe++){const be=x+pe*g;for(let Te=0;Te<S;Te++)s.get(E+Te*g,be)&&Z.set(Te,pe)}return Z}static moduleSize(s,l){const u=l.getWidth();let g=s[0];const x=s[1];for(;g<u&&l.get(g,x);)g++;if(g===u)throw new ve;const v=g-s[0];if(v===0)throw new ve;return v}}Bi.NO_POINTS=[];class io extends ce{constructor(s=500){super(new Bi,s)}}var Wa;(function(P){P[P.L=0]="L",P[P.M=1]="M",P[P.Q=2]="Q",P[P.H=3]="H"})(Wa||(Wa={}));class Yt{constructor(s,l,u){this.value=s,this.stringValue=l,this.bits=u,Yt.FOR_BITS.set(u,this),Yt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Yt.L;case"M":return Yt.M;case"Q":return Yt.Q;case"H":return Yt.H;default:throw new y(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Yt))return!1;const l=s;return this.value===l.value}static forBits(s){if(s<0||s>=Yt.FOR_BITS.size)throw new b;return Yt.FOR_BITS.get(s)}}Yt.FOR_BITS=new Map,Yt.FOR_VALUE=new Map,Yt.L=new Yt(Wa.L,"L",1),Yt.M=new Yt(Wa.M,"M",0),Yt.Q=new Yt(Wa.Q,"Q",3),Yt.H=new Yt(Wa.H,"H",2);class gn{constructor(s){this.errorCorrectionLevel=Yt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,l){return H.bitCount(s^l)}static decodeFormatInformation(s,l){const u=gn.doDecodeFormatInformation(s,l);return u!==null?u:gn.doDecodeFormatInformation(s^gn.FORMAT_INFO_MASK_QR,l^gn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,l){let u=Number.MAX_SAFE_INTEGER,g=0;for(const x of gn.FORMAT_INFO_DECODE_LOOKUP){const v=x[0];if(v===s||v===l)return new gn(x[1]);let E=gn.numBitsDiffering(s,v);E<u&&(g=x[1],u=E),s!==l&&(E=gn.numBitsDiffering(l,v),E<u&&(g=x[1],u=E))}return u<=3?new gn(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof gn))return!1;const l=s;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}gn.FORMAT_INFO_MASK_QR=21522,gn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Le{constructor(s,...l){this.ecCodewordsPerBlock=s,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const l=this.ecBlocks;for(const u of l)s+=u.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class fe{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class yt{constructor(s,l,...u){this.versionNumber=s,this.alignmentPatternCenters=l,this.ecBlocks=u;let g=0;const x=u[0].getECCodewordsPerBlock(),v=u[0].getECBlocks();for(const E of v)g+=E.getCount()*(E.getDataCodewords()+x);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new U;try{return this.getVersionForNumber((s-17)/4)}catch{throw new U}}static getVersionForNumber(s){if(s<1||s>40)throw new b;return yt.VERSIONS[s-1]}static decodeVersionInformation(s){let l=Number.MAX_SAFE_INTEGER,u=0;for(let g=0;g<yt.VERSION_DECODE_INFO.length;g++){const x=yt.VERSION_DECODE_INFO[g];if(x===s)return yt.getVersionForNumber(g+7);const v=gn.numBitsDiffering(s,x);v<l&&(u=g+7,l=v)}return l<=3?yt.getVersionForNumber(u):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),l=new ze(s);l.setRegion(0,0,9,9),l.setRegion(s-8,0,8,9),l.setRegion(0,s-8,9,8);const u=this.alignmentPatternCenters.length;for(let g=0;g<u;g++){const x=this.alignmentPatternCenters[g]-2;for(let v=0;v<u;v++)g===0&&(v===0||v===u-1)||g===u-1&&v===0||l.setRegion(this.alignmentPatternCenters[v]-2,x,5,5)}return l.setRegion(6,9,1,s-17),l.setRegion(9,6,s-17,1),this.versionNumber>6&&(l.setRegion(s-11,0,3,6),l.setRegion(0,s-11,6,3)),l}toString(){return""+this.versionNumber}}yt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),yt.VERSIONS=[new yt(1,new Int32Array(0),new Le(7,new fe(1,19)),new Le(10,new fe(1,16)),new Le(13,new fe(1,13)),new Le(17,new fe(1,9))),new yt(2,Int32Array.from([6,18]),new Le(10,new fe(1,34)),new Le(16,new fe(1,28)),new Le(22,new fe(1,22)),new Le(28,new fe(1,16))),new yt(3,Int32Array.from([6,22]),new Le(15,new fe(1,55)),new Le(26,new fe(1,44)),new Le(18,new fe(2,17)),new Le(22,new fe(2,13))),new yt(4,Int32Array.from([6,26]),new Le(20,new fe(1,80)),new Le(18,new fe(2,32)),new Le(26,new fe(2,24)),new Le(16,new fe(4,9))),new yt(5,Int32Array.from([6,30]),new Le(26,new fe(1,108)),new Le(24,new fe(2,43)),new Le(18,new fe(2,15),new fe(2,16)),new Le(22,new fe(2,11),new fe(2,12))),new yt(6,Int32Array.from([6,34]),new Le(18,new fe(2,68)),new Le(16,new fe(4,27)),new Le(24,new fe(4,19)),new Le(28,new fe(4,15))),new yt(7,Int32Array.from([6,22,38]),new Le(20,new fe(2,78)),new Le(18,new fe(4,31)),new Le(18,new fe(2,14),new fe(4,15)),new Le(26,new fe(4,13),new fe(1,14))),new yt(8,Int32Array.from([6,24,42]),new Le(24,new fe(2,97)),new Le(22,new fe(2,38),new fe(2,39)),new Le(22,new fe(4,18),new fe(2,19)),new Le(26,new fe(4,14),new fe(2,15))),new yt(9,Int32Array.from([6,26,46]),new Le(30,new fe(2,116)),new Le(22,new fe(3,36),new fe(2,37)),new Le(20,new fe(4,16),new fe(4,17)),new Le(24,new fe(4,12),new fe(4,13))),new yt(10,Int32Array.from([6,28,50]),new Le(18,new fe(2,68),new fe(2,69)),new Le(26,new fe(4,43),new fe(1,44)),new Le(24,new fe(6,19),new fe(2,20)),new Le(28,new fe(6,15),new fe(2,16))),new yt(11,Int32Array.from([6,30,54]),new Le(20,new fe(4,81)),new Le(30,new fe(1,50),new fe(4,51)),new Le(28,new fe(4,22),new fe(4,23)),new Le(24,new fe(3,12),new fe(8,13))),new yt(12,Int32Array.from([6,32,58]),new Le(24,new fe(2,92),new fe(2,93)),new Le(22,new fe(6,36),new fe(2,37)),new Le(26,new fe(4,20),new fe(6,21)),new Le(28,new fe(7,14),new fe(4,15))),new yt(13,Int32Array.from([6,34,62]),new Le(26,new fe(4,107)),new Le(22,new fe(8,37),new fe(1,38)),new Le(24,new fe(8,20),new fe(4,21)),new Le(22,new fe(12,11),new fe(4,12))),new yt(14,Int32Array.from([6,26,46,66]),new Le(30,new fe(3,115),new fe(1,116)),new Le(24,new fe(4,40),new fe(5,41)),new Le(20,new fe(11,16),new fe(5,17)),new Le(24,new fe(11,12),new fe(5,13))),new yt(15,Int32Array.from([6,26,48,70]),new Le(22,new fe(5,87),new fe(1,88)),new Le(24,new fe(5,41),new fe(5,42)),new Le(30,new fe(5,24),new fe(7,25)),new Le(24,new fe(11,12),new fe(7,13))),new yt(16,Int32Array.from([6,26,50,74]),new Le(24,new fe(5,98),new fe(1,99)),new Le(28,new fe(7,45),new fe(3,46)),new Le(24,new fe(15,19),new fe(2,20)),new Le(30,new fe(3,15),new fe(13,16))),new yt(17,Int32Array.from([6,30,54,78]),new Le(28,new fe(1,107),new fe(5,108)),new Le(28,new fe(10,46),new fe(1,47)),new Le(28,new fe(1,22),new fe(15,23)),new Le(28,new fe(2,14),new fe(17,15))),new yt(18,Int32Array.from([6,30,56,82]),new Le(30,new fe(5,120),new fe(1,121)),new Le(26,new fe(9,43),new fe(4,44)),new Le(28,new fe(17,22),new fe(1,23)),new Le(28,new fe(2,14),new fe(19,15))),new yt(19,Int32Array.from([6,30,58,86]),new Le(28,new fe(3,113),new fe(4,114)),new Le(26,new fe(3,44),new fe(11,45)),new Le(26,new fe(17,21),new fe(4,22)),new Le(26,new fe(9,13),new fe(16,14))),new yt(20,Int32Array.from([6,34,62,90]),new Le(28,new fe(3,107),new fe(5,108)),new Le(26,new fe(3,41),new fe(13,42)),new Le(30,new fe(15,24),new fe(5,25)),new Le(28,new fe(15,15),new fe(10,16))),new yt(21,Int32Array.from([6,28,50,72,94]),new Le(28,new fe(4,116),new fe(4,117)),new Le(26,new fe(17,42)),new Le(28,new fe(17,22),new fe(6,23)),new Le(30,new fe(19,16),new fe(6,17))),new yt(22,Int32Array.from([6,26,50,74,98]),new Le(28,new fe(2,111),new fe(7,112)),new Le(28,new fe(17,46)),new Le(30,new fe(7,24),new fe(16,25)),new Le(24,new fe(34,13))),new yt(23,Int32Array.from([6,30,54,78,102]),new Le(30,new fe(4,121),new fe(5,122)),new Le(28,new fe(4,47),new fe(14,48)),new Le(30,new fe(11,24),new fe(14,25)),new Le(30,new fe(16,15),new fe(14,16))),new yt(24,Int32Array.from([6,28,54,80,106]),new Le(30,new fe(6,117),new fe(4,118)),new Le(28,new fe(6,45),new fe(14,46)),new Le(30,new fe(11,24),new fe(16,25)),new Le(30,new fe(30,16),new fe(2,17))),new yt(25,Int32Array.from([6,32,58,84,110]),new Le(26,new fe(8,106),new fe(4,107)),new Le(28,new fe(8,47),new fe(13,48)),new Le(30,new fe(7,24),new fe(22,25)),new Le(30,new fe(22,15),new fe(13,16))),new yt(26,Int32Array.from([6,30,58,86,114]),new Le(28,new fe(10,114),new fe(2,115)),new Le(28,new fe(19,46),new fe(4,47)),new Le(28,new fe(28,22),new fe(6,23)),new Le(30,new fe(33,16),new fe(4,17))),new yt(27,Int32Array.from([6,34,62,90,118]),new Le(30,new fe(8,122),new fe(4,123)),new Le(28,new fe(22,45),new fe(3,46)),new Le(30,new fe(8,23),new fe(26,24)),new Le(30,new fe(12,15),new fe(28,16))),new yt(28,Int32Array.from([6,26,50,74,98,122]),new Le(30,new fe(3,117),new fe(10,118)),new Le(28,new fe(3,45),new fe(23,46)),new Le(30,new fe(4,24),new fe(31,25)),new Le(30,new fe(11,15),new fe(31,16))),new yt(29,Int32Array.from([6,30,54,78,102,126]),new Le(30,new fe(7,116),new fe(7,117)),new Le(28,new fe(21,45),new fe(7,46)),new Le(30,new fe(1,23),new fe(37,24)),new Le(30,new fe(19,15),new fe(26,16))),new yt(30,Int32Array.from([6,26,52,78,104,130]),new Le(30,new fe(5,115),new fe(10,116)),new Le(28,new fe(19,47),new fe(10,48)),new Le(30,new fe(15,24),new fe(25,25)),new Le(30,new fe(23,15),new fe(25,16))),new yt(31,Int32Array.from([6,30,56,82,108,134]),new Le(30,new fe(13,115),new fe(3,116)),new Le(28,new fe(2,46),new fe(29,47)),new Le(30,new fe(42,24),new fe(1,25)),new Le(30,new fe(23,15),new fe(28,16))),new yt(32,Int32Array.from([6,34,60,86,112,138]),new Le(30,new fe(17,115)),new Le(28,new fe(10,46),new fe(23,47)),new Le(30,new fe(10,24),new fe(35,25)),new Le(30,new fe(19,15),new fe(35,16))),new yt(33,Int32Array.from([6,30,58,86,114,142]),new Le(30,new fe(17,115),new fe(1,116)),new Le(28,new fe(14,46),new fe(21,47)),new Le(30,new fe(29,24),new fe(19,25)),new Le(30,new fe(11,15),new fe(46,16))),new yt(34,Int32Array.from([6,34,62,90,118,146]),new Le(30,new fe(13,115),new fe(6,116)),new Le(28,new fe(14,46),new fe(23,47)),new Le(30,new fe(44,24),new fe(7,25)),new Le(30,new fe(59,16),new fe(1,17))),new yt(35,Int32Array.from([6,30,54,78,102,126,150]),new Le(30,new fe(12,121),new fe(7,122)),new Le(28,new fe(12,47),new fe(26,48)),new Le(30,new fe(39,24),new fe(14,25)),new Le(30,new fe(22,15),new fe(41,16))),new yt(36,Int32Array.from([6,24,50,76,102,128,154]),new Le(30,new fe(6,121),new fe(14,122)),new Le(28,new fe(6,47),new fe(34,48)),new Le(30,new fe(46,24),new fe(10,25)),new Le(30,new fe(2,15),new fe(64,16))),new yt(37,Int32Array.from([6,28,54,80,106,132,158]),new Le(30,new fe(17,122),new fe(4,123)),new Le(28,new fe(29,46),new fe(14,47)),new Le(30,new fe(49,24),new fe(10,25)),new Le(30,new fe(24,15),new fe(46,16))),new yt(38,Int32Array.from([6,32,58,84,110,136,162]),new Le(30,new fe(4,122),new fe(18,123)),new Le(28,new fe(13,46),new fe(32,47)),new Le(30,new fe(48,24),new fe(14,25)),new Le(30,new fe(42,15),new fe(32,16))),new yt(39,Int32Array.from([6,26,54,82,110,138,166]),new Le(30,new fe(20,117),new fe(4,118)),new Le(28,new fe(40,47),new fe(7,48)),new Le(30,new fe(43,24),new fe(22,25)),new Le(30,new fe(10,15),new fe(67,16))),new yt(40,Int32Array.from([6,30,58,86,114,142,170]),new Le(30,new fe(19,118),new fe(6,119)),new Le(28,new fe(18,47),new fe(31,48)),new Le(30,new fe(34,24),new fe(34,25)),new Le(30,new fe(20,15),new fe(61,16)))];var cn;(function(P){P[P.DATA_MASK_000=0]="DATA_MASK_000",P[P.DATA_MASK_001=1]="DATA_MASK_001",P[P.DATA_MASK_010=2]="DATA_MASK_010",P[P.DATA_MASK_011=3]="DATA_MASK_011",P[P.DATA_MASK_100=4]="DATA_MASK_100",P[P.DATA_MASK_101=5]="DATA_MASK_101",P[P.DATA_MASK_110=6]="DATA_MASK_110",P[P.DATA_MASK_111=7]="DATA_MASK_111"})(cn||(cn={}));class Pn{constructor(s,l){this.value=s,this.isMasked=l}unmaskBitMatrix(s,l){for(let u=0;u<l;u++)for(let g=0;g<l;g++)this.isMasked(u,g)&&s.flip(g,u)}}Pn.values=new Map([[cn.DATA_MASK_000,new Pn(cn.DATA_MASK_000,(P,s)=>(P+s&1)===0)],[cn.DATA_MASK_001,new Pn(cn.DATA_MASK_001,(P,s)=>(P&1)===0)],[cn.DATA_MASK_010,new Pn(cn.DATA_MASK_010,(P,s)=>s%3===0)],[cn.DATA_MASK_011,new Pn(cn.DATA_MASK_011,(P,s)=>(P+s)%3===0)],[cn.DATA_MASK_100,new Pn(cn.DATA_MASK_100,(P,s)=>(Math.floor(P/2)+Math.floor(s/3)&1)===0)],[cn.DATA_MASK_101,new Pn(cn.DATA_MASK_101,(P,s)=>P*s%6===0)],[cn.DATA_MASK_110,new Pn(cn.DATA_MASK_110,(P,s)=>P*s%6<3)],[cn.DATA_MASK_111,new Pn(cn.DATA_MASK_111,(P,s)=>(P+s+P*s%3&1)===0)]]);class bi{constructor(s){const l=s.getHeight();if(l<21||(l&3)!==1)throw new U;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let x=0;x<6;x++)s=this.copyBit(x,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let x=5;x>=0;x--)s=this.copyBit(8,x,s);const l=this.bitMatrix.getHeight();let u=0;const g=l-7;for(let x=l-1;x>=g;x--)u=this.copyBit(8,x,u);for(let x=l-8;x<l;x++)u=this.copyBit(x,8,u);if(this.parsedFormatInfo=gn.decodeFormatInformation(s,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new U}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),l=Math.floor((s-17)/4);if(l<=6)return yt.getVersionForNumber(l);let u=0;const g=s-11;for(let v=5;v>=0;v--)for(let E=s-9;E>=g;E--)u=this.copyBit(E,v,u);let x=yt.decodeVersionInformation(u);if(x!==null&&x.getDimensionForVersion()===s)return this.parsedVersion=x,x;u=0;for(let v=5;v>=0;v--)for(let E=s-9;E>=g;E--)u=this.copyBit(v,E,u);if(x=yt.decodeVersionInformation(u),x!==null&&x.getDimensionForVersion()===s)return this.parsedVersion=x,x;throw new U}copyBit(s,l,u){return(this.isMirror?this.bitMatrix.get(l,s):this.bitMatrix.get(s,l))?u<<1|1:u<<1}readCodewords(){const s=this.readFormatInformation(),l=this.readVersion(),u=Pn.values.get(s.getDataMask()),g=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,g);const x=l.buildFunctionPattern();let v=!0;const E=new Uint8Array(l.getTotalCodewords());let _=0,S=0,M=0;for(let G=g-1;G>0;G-=2){G===6&&G--;for(let Z=0;Z<g;Z++){const pe=v?g-1-Z:Z;for(let be=0;be<2;be++)x.get(G-be,pe)||(M++,S<<=1,this.bitMatrix.get(G-be,pe)&&(S|=1),M===8&&(E[_++]=S,M=0,S=0))}v=!v}if(_!==l.getTotalCodewords())throw new U;return E}remask(){if(this.parsedFormatInfo===null)return;const s=Pn.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let l=0,u=s.getWidth();l<u;l++)for(let g=l+1,x=s.getHeight();g<x;g++)s.get(l,g)!==s.get(g,l)&&(s.flip(g,l),s.flip(l,g))}}class Al{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l,u){if(s.length!==l.getTotalCodewords())throw new b;const g=l.getECBlocksForLevel(u);let x=0;const v=g.getECBlocks();for(const be of v)x+=be.getCount();const E=new Array(x);let _=0;for(const be of v)for(let Te=0;Te<be.getCount();Te++){const Oe=be.getDataCodewords(),qe=g.getECCodewordsPerBlock()+Oe;E[_++]=new Al(Oe,new Uint8Array(qe))}const S=E[0].codewords.length;let M=E.length-1;for(;M>=0&&E[M].codewords.length!==S;)M--;M++;const G=S-g.getECCodewordsPerBlock();let Z=0;for(let be=0;be<G;be++)for(let Te=0;Te<_;Te++)E[Te].codewords[be]=s[Z++];for(let be=M;be<_;be++)E[be].codewords[G]=s[Z++];const pe=E[0].codewords.length;for(let be=G;be<pe;be++)for(let Te=0;Te<_;Te++){const Oe=Te<M?be:be+1;E[Te].codewords[Oe]=s[Z++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var va;(function(P){P[P.TERMINATOR=0]="TERMINATOR",P[P.NUMERIC=1]="NUMERIC",P[P.ALPHANUMERIC=2]="ALPHANUMERIC",P[P.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",P[P.BYTE=4]="BYTE",P[P.ECI=5]="ECI",P[P.KANJI=6]="KANJI",P[P.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",P[P.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",P[P.HANZI=9]="HANZI"})(va||(va={}));class Qt{constructor(s,l,u,g){this.value=s,this.stringValue=l,this.characterCountBitsForVersions=u,this.bits=g,Qt.FOR_BITS.set(g,this),Qt.FOR_VALUE.set(s,this)}static forBits(s){const l=Qt.FOR_BITS.get(s);if(l===void 0)throw new b;return l}getCharacterCountBits(s){const l=s.getVersionNumber();let u;return l<=9?u=0:l<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Qt))return!1;const l=s;return this.value===l.value}toString(){return this.stringValue}}Qt.FOR_BITS=new Map,Qt.FOR_VALUE=new Map,Qt.TERMINATOR=new Qt(va.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Qt.NUMERIC=new Qt(va.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Qt.ALPHANUMERIC=new Qt(va.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Qt.STRUCTURED_APPEND=new Qt(va.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Qt.BYTE=new Qt(va.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Qt.ECI=new Qt(va.ECI,"ECI",Int32Array.from([0,0,0]),7),Qt.KANJI=new Qt(va.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Qt.FNC1_FIRST_POSITION=new Qt(va.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Qt.FNC1_SECOND_POSITION=new Qt(va.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Qt.HANZI=new Qt(va.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class zr{static decode(s,l,u,g){const x=new za(s);let v=new z;const E=new Array;let _=-1,S=-1;try{let M=null,G=!1,Z;do{if(x.available()<4)Z=Qt.TERMINATOR;else{const pe=x.readBits(4);Z=Qt.forBits(pe)}switch(Z){case Qt.TERMINATOR:break;case Qt.FNC1_FIRST_POSITION:case Qt.FNC1_SECOND_POSITION:G=!0;break;case Qt.STRUCTURED_APPEND:if(x.available()<16)throw new U;_=x.readBits(8),S=x.readBits(8);break;case Qt.ECI:const pe=zr.parseECIValue(x);if(M=k.getCharacterSetECIByValue(pe),M===null)throw new U;break;case Qt.HANZI:const be=x.readBits(4),Te=x.readBits(Z.getCharacterCountBits(l));be===zr.GB2312_SUBSET&&zr.decodeHanziSegment(x,v,Te);break;default:const Oe=x.readBits(Z.getCharacterCountBits(l));switch(Z){case Qt.NUMERIC:zr.decodeNumericSegment(x,v,Oe);break;case Qt.ALPHANUMERIC:zr.decodeAlphanumericSegment(x,v,Oe,G);break;case Qt.BYTE:zr.decodeByteSegment(x,v,Oe,M,E,g);break;case Qt.KANJI:zr.decodeKanjiSegment(x,v,Oe);break;default:throw new U}break}}while(Z!==Qt.TERMINATOR)}catch{throw new U}return new Ce(s,v.toString(),E.length===0?null:E,u===null?null:u.toString(),_,S)}static decodeHanziSegment(s,l,u){if(u*13>s.available())throw new U;const g=new Uint8Array(2*u);let x=0;for(;u>0;){const v=s.readBits(13);let E=v/96<<8&4294967295|v%96;E<959?E+=41377:E+=42657,g[x]=E>>8&255,g[x+1]=E&255,x+=2,u--}try{l.append(q.decode(g,V.GB2312))}catch(v){throw new U(v)}}static decodeKanjiSegment(s,l,u){if(u*13>s.available())throw new U;const g=new Uint8Array(2*u);let x=0;for(;u>0;){const v=s.readBits(13);let E=v/192<<8&4294967295|v%192;E<7936?E+=33088:E+=49472,g[x]=E>>8,g[x+1]=E,x+=2,u--}try{l.append(q.decode(g,V.SHIFT_JIS))}catch(v){throw new U(v)}}static decodeByteSegment(s,l,u,g,x,v){if(8*u>s.available())throw new U;const E=new Uint8Array(u);for(let S=0;S<u;S++)E[S]=s.readBits(8);let _;g===null?_=V.guessEncoding(E,v):_=g.getName();try{l.append(q.decode(E,_))}catch(S){throw new U(S)}x.push(E)}static toAlphaNumericChar(s){if(s>=zr.ALPHANUMERIC_CHARS.length)throw new U;return zr.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,l,u,g){const x=l.length();for(;u>1;){if(s.available()<11)throw new U;const v=s.readBits(11);l.append(zr.toAlphaNumericChar(Math.floor(v/45))),l.append(zr.toAlphaNumericChar(v%45)),u-=2}if(u===1){if(s.available()<6)throw new U;l.append(zr.toAlphaNumericChar(s.readBits(6)))}if(g)for(let v=x;v<l.length();v++)l.charAt(v)==="%"&&(v<l.length()-1&&l.charAt(v+1)==="%"?l.deleteCharAt(v+1):l.setCharAt(v,""))}static decodeNumericSegment(s,l,u){for(;u>=3;){if(s.available()<10)throw new U;const g=s.readBits(10);if(g>=1e3)throw new U;l.append(zr.toAlphaNumericChar(Math.floor(g/100))),l.append(zr.toAlphaNumericChar(Math.floor(g/10)%10)),l.append(zr.toAlphaNumericChar(g%10)),u-=3}if(u===2){if(s.available()<7)throw new U;const g=s.readBits(7);if(g>=100)throw new U;l.append(zr.toAlphaNumericChar(Math.floor(g/10))),l.append(zr.toAlphaNumericChar(g%10))}else if(u===1){if(s.available()<4)throw new U;const g=s.readBits(4);if(g>=10)throw new U;l.append(zr.toAlphaNumericChar(g))}}static parseECIValue(s){const l=s.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const u=s.readBits(8);return(l&63)<<8&4294967295|u}if((l&224)===192){const u=s.readBits(16);return(l&31)<<16&4294967295|u}throw new U}}zr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",zr.GB2312_SUBSET=1;class sc{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const l=s[0];s[0]=s[2],s[2]=l}}class b0{constructor(){this.rsDecoder=new Ie(_t.QR_CODE_FIELD_256)}decodeBooleanArray(s,l){return this.decodeBitMatrix(ze.parseFromBooleanArray(s),l)}decodeBitMatrix(s,l){const u=new bi(s);let g=null;try{return this.decodeBitMatrixParser(u,l)}catch(x){g=x}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const x=this.decodeBitMatrixParser(u,l);return x.setOther(new sc(!0)),x}catch(x){throw g!==null?g:x}}decodeBitMatrixParser(s,l){const u=s.readVersion(),g=s.readFormatInformation().getErrorCorrectionLevel(),x=s.readCodewords(),v=Al.getDataBlocks(x,u,g);let E=0;for(const M of v)E+=M.getNumDataCodewords();const _=new Uint8Array(E);let S=0;for(const M of v){const G=M.getCodewords(),Z=M.getNumDataCodewords();this.correctErrors(G,Z);for(let pe=0;pe<Z;pe++)_[S++]=G[pe]}return zr.decode(_,u,g,l)}correctErrors(s,l){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-l)}catch{throw new N}for(let g=0;g<l;g++)s[g]=u[g]}}class _i extends Ct{constructor(s,l,u){super(s,l),this.estimatedModuleSize=u}aboutEquals(s,l,u){if(Math.abs(l-this.getY())<=s&&Math.abs(u-this.getX())<=s){const g=Math.abs(s-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(s,l,u){const g=(this.getX()+l)/2,x=(this.getY()+s)/2,v=(this.estimatedModuleSize+u)/2;return new _i(g,x,v)}}class _n{constructor(s,l,u,g,x,v,E){this.image=s,this.startX=l,this.startY=u,this.width=g,this.height=x,this.moduleSize=v,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,l=this.height,u=this.width,g=s+u,x=this.startY+l/2,v=new Int32Array(3),E=this.image;for(let _=0;_<l;_++){const S=x+((_&1)===0?Math.floor((_+1)/2):-Math.floor((_+1)/2));v[0]=0,v[1]=0,v[2]=0;let M=s;for(;M<g&&!E.get(M,S);)M++;let G=0;for(;M<g;){if(E.get(M,S))if(G===1)v[1]++;else if(G===2){if(this.foundPatternCross(v)){const Z=this.handlePossibleCenter(v,S,M);if(Z!==null)return Z}v[0]=v[2],v[1]=1,v[2]=0,G=1}else v[++G]++;else G===1&&G++,v[G]++;M++}if(this.foundPatternCross(v)){const Z=this.handlePossibleCenter(v,S,g);if(Z!==null)return Z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ve}static centerFromEnd(s,l){return l-s[2]-s[1]/2}foundPatternCross(s){const l=this.moduleSize,u=l/2;for(let g=0;g<3;g++)if(Math.abs(l-s[g])>=u)return!1;return!0}crossCheckVertical(s,l,u,g){const x=this.image,v=x.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let _=s;for(;_>=0&&x.get(l,_)&&E[1]<=u;)E[1]++,_--;if(_<0||E[1]>u)return NaN;for(;_>=0&&!x.get(l,_)&&E[0]<=u;)E[0]++,_--;if(E[0]>u)return NaN;for(_=s+1;_<v&&x.get(l,_)&&E[1]<=u;)E[1]++,_++;if(_===v||E[1]>u)return NaN;for(;_<v&&!x.get(l,_)&&E[2]<=u;)E[2]++,_++;if(E[2]>u)return NaN;const S=E[0]+E[1]+E[2];return 5*Math.abs(S-g)>=2*g?NaN:this.foundPatternCross(E)?_n.centerFromEnd(E,_):NaN}handlePossibleCenter(s,l,u){const g=s[0]+s[1]+s[2],x=_n.centerFromEnd(s,u),v=this.crossCheckVertical(l,x,2*s[1],g);if(!isNaN(v)){const E=(s[0]+s[1]+s[2])/3;for(const S of this.possibleCenters)if(S.aboutEquals(E,v,x))return S.combineEstimate(v,x,E);const _=new _i(x,v,E);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null}}class Zs extends Ct{constructor(s,l,u,g){super(s,l),this.estimatedModuleSize=u,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,l,u){if(Math.abs(l-this.getY())<=s&&Math.abs(u-this.getX())<=s){const g=Math.abs(s-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(s,l,u){const g=this.count+1,x=(this.count*this.getX()+l)/g,v=(this.count*this.getY()+s)/g,E=(this.count*this.estimatedModuleSize+u)/g;return new Zs(x,v,E,g)}}class so{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Zr{constructor(s,l){this.image=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const l=s!=null&&s.get(ee.TRY_HARDER)!==void 0,u=s!=null&&s.get(ee.PURE_BARCODE)!==void 0,g=this.image,x=g.getHeight(),v=g.getWidth();let E=Math.floor(3*x/(4*Zr.MAX_MODULES));(E<Zr.MIN_SKIP||l)&&(E=Zr.MIN_SKIP);let _=!1;const S=new Int32Array(5);for(let G=E-1;G<x&&!_;G+=E){S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0;let Z=0;for(let pe=0;pe<v;pe++)if(g.get(pe,G))(Z&1)===1&&Z++,S[Z]++;else if((Z&1)===0)if(Z===4)if(Zr.foundPatternCross(S)){if(this.handlePossibleCenter(S,G,pe,u)===!0)if(E=2,this.hasSkipped===!0)_=this.haveMultiplyConfirmedCenters();else{const Te=this.findRowSkip();Te>S[2]&&(G+=Te-S[2]-E,pe=v-1)}else{S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,Z=3;continue}Z=0,S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0}else S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,Z=3;else S[++Z]++;else S[Z]++;Zr.foundPatternCross(S)&&this.handlePossibleCenter(S,G,v,u)===!0&&(E=S[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}const M=this.selectBestPatterns();return Ct.orderBestPatterns(M),new so(M)}static centerFromEnd(s,l){return l-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let l=0;for(let x=0;x<5;x++){const v=s[x];if(v===0)return!1;l+=v}if(l<7)return!1;const u=l/7,g=u/2;return Math.abs(u-s[0])<g&&Math.abs(u-s[1])<g&&Math.abs(3*u-s[2])<3*g&&Math.abs(u-s[3])<g&&Math.abs(u-s[4])<g}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,l,u,g){const x=this.getCrossCheckStateCount();let v=0;const E=this.image;for(;s>=v&&l>=v&&E.get(l-v,s-v);)x[2]++,v++;if(s<v||l<v)return!1;for(;s>=v&&l>=v&&!E.get(l-v,s-v)&&x[1]<=u;)x[1]++,v++;if(s<v||l<v||x[1]>u)return!1;for(;s>=v&&l>=v&&E.get(l-v,s-v)&&x[0]<=u;)x[0]++,v++;if(x[0]>u)return!1;const _=E.getHeight(),S=E.getWidth();for(v=1;s+v<_&&l+v<S&&E.get(l+v,s+v);)x[2]++,v++;if(s+v>=_||l+v>=S)return!1;for(;s+v<_&&l+v<S&&!E.get(l+v,s+v)&&x[3]<u;)x[3]++,v++;if(s+v>=_||l+v>=S||x[3]>=u)return!1;for(;s+v<_&&l+v<S&&E.get(l+v,s+v)&&x[4]<u;)x[4]++,v++;if(x[4]>=u)return!1;const M=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(M-g)<2*g&&Zr.foundPatternCross(x)}crossCheckVertical(s,l,u,g){const x=this.image,v=x.getHeight(),E=this.getCrossCheckStateCount();let _=s;for(;_>=0&&x.get(l,_);)E[2]++,_--;if(_<0)return NaN;for(;_>=0&&!x.get(l,_)&&E[1]<=u;)E[1]++,_--;if(_<0||E[1]>u)return NaN;for(;_>=0&&x.get(l,_)&&E[0]<=u;)E[0]++,_--;if(E[0]>u)return NaN;for(_=s+1;_<v&&x.get(l,_);)E[2]++,_++;if(_===v)return NaN;for(;_<v&&!x.get(l,_)&&E[3]<u;)E[3]++,_++;if(_===v||E[3]>=u)return NaN;for(;_<v&&x.get(l,_)&&E[4]<u;)E[4]++,_++;if(E[4]>=u)return NaN;const S=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(S-g)>=2*g?NaN:Zr.foundPatternCross(E)?Zr.centerFromEnd(E,_):NaN}crossCheckHorizontal(s,l,u,g){const x=this.image,v=x.getWidth(),E=this.getCrossCheckStateCount();let _=s;for(;_>=0&&x.get(_,l);)E[2]++,_--;if(_<0)return NaN;for(;_>=0&&!x.get(_,l)&&E[1]<=u;)E[1]++,_--;if(_<0||E[1]>u)return NaN;for(;_>=0&&x.get(_,l)&&E[0]<=u;)E[0]++,_--;if(E[0]>u)return NaN;for(_=s+1;_<v&&x.get(_,l);)E[2]++,_++;if(_===v)return NaN;for(;_<v&&!x.get(_,l)&&E[3]<u;)E[3]++,_++;if(_===v||E[3]>=u)return NaN;for(;_<v&&x.get(_,l)&&E[4]<u;)E[4]++,_++;if(E[4]>=u)return NaN;const S=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(S-g)>=g?NaN:Zr.foundPatternCross(E)?Zr.centerFromEnd(E,_):NaN}handlePossibleCenter(s,l,u,g){const x=s[0]+s[1]+s[2]+s[3]+s[4];let v=Zr.centerFromEnd(s,u),E=this.crossCheckVertical(l,Math.floor(v),s[2],x);if(!isNaN(E)&&(v=this.crossCheckHorizontal(Math.floor(v),Math.floor(E),s[2],x),!isNaN(v)&&(!g||this.crossCheckDiagonal(Math.floor(E),Math.floor(v),s[2],x)))){const _=x/7;let S=!1;const M=this.possibleCenters;for(let G=0,Z=M.length;G<Z;G++){const pe=M[G];if(pe.aboutEquals(_,E,v)){M[G]=pe.combineEstimate(E,v,_),S=!0;break}}if(!S){const G=new Zs(v,E,_);M.push(G),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(G)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=Zr.CENTER_QUORUM)if(l==null)l=u;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,l=0;const u=this.possibleCenters.length;for(const v of this.possibleCenters)v.getCount()>=Zr.CENTER_QUORUM&&(s++,l+=v.getEstimatedModuleSize());if(s<3)return!1;const g=l/u;let x=0;for(const v of this.possibleCenters)x+=Math.abs(v.getEstimatedModuleSize()-g);return x<=.05*l}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new ve;const l=this.possibleCenters;let u;if(s>3){let g=0,x=0;for(const _ of this.possibleCenters){const S=_.getEstimatedModuleSize();g+=S,x+=S*S}u=g/s;let v=Math.sqrt(x/s-u*u);l.sort((_,S)=>{const M=Math.abs(S.getEstimatedModuleSize()-u),G=Math.abs(_.getEstimatedModuleSize()-u);return M<G?-1:M>G?1:0});const E=Math.max(.2*u,v);for(let _=0;_<l.length&&l.length>3;_++){const S=l[_];Math.abs(S.getEstimatedModuleSize()-u)>E&&(l.splice(_,1),_--)}}if(l.length>3){let g=0;for(const x of l)g+=x.getEstimatedModuleSize();u=g/l.length,l.sort((x,v)=>{if(v.getCount()===x.getCount()){const E=Math.abs(v.getEstimatedModuleSize()-u),_=Math.abs(x.getEstimatedModuleSize()-u);return E<_?1:E>_?-1:0}else return v.getCount()-x.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}Zr.CENTER_QUORUM=2,Zr.MIN_SKIP=3,Zr.MAX_MODULES=57;class ca{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(ee.NEED_RESULT_POINT_CALLBACK);const u=new Zr(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(u)}processFinderPatternInfo(s){const l=s.getTopLeft(),u=s.getTopRight(),g=s.getBottomLeft(),x=this.calculateModuleSize(l,u,g);if(x<1)throw new ve("No pattern found in proccess finder.");const v=ca.computeDimension(l,u,g,x),E=yt.getProvisionalVersionForDimension(v),_=E.getDimensionForVersion()-7;let S=null;if(E.getAlignmentPatternCenters().length>0){const pe=u.getX()-l.getX()+g.getX(),be=u.getY()-l.getY()+g.getY(),Te=1-3/_,Oe=Math.floor(l.getX()+Te*(pe-l.getX())),qe=Math.floor(l.getY()+Te*(be-l.getY()));for(let wt=4;wt<=16;wt<<=1)try{S=this.findAlignmentInRegion(x,Oe,qe,wt);break}catch(mt){if(!(mt instanceof ve))throw mt}}const M=ca.createTransform(l,u,g,S,v),G=ca.sampleGrid(this.image,M,v);let Z;return S===null?Z=[g,l,u]:Z=[g,l,u,S],new wn(G,Z)}static createTransform(s,l,u,g,x){const v=x-3.5;let E,_,S,M;return g!==null?(E=g.getX(),_=g.getY(),S=v-3,M=S):(E=l.getX()-s.getX()+u.getX(),_=l.getY()-s.getY()+u.getY(),S=v,M=v),Bt.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,S,M,3.5,v,s.getX(),s.getY(),l.getX(),l.getY(),E,_,u.getX(),u.getY())}static sampleGrid(s,l,u){return or.getInstance().sampleGridWithTransform(s,u,u,l)}static computeDimension(s,l,u,g){const x=Et.round(Ct.distance(s,l)/g),v=Et.round(Ct.distance(s,u)/g);let E=Math.floor((x+v)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new ve("Dimensions could be not found.")}return E}calculateModuleSize(s,l,u){return(this.calculateModuleSizeOneWay(s,l)+this.calculateModuleSizeOneWay(s,u))/2}calculateModuleSizeOneWay(s,l){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(l.getX()),Math.floor(l.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(u)?g/7:isNaN(g)?u/7:(u+g)/14}sizeOfBlackWhiteBlackRunBothWays(s,l,u,g){let x=this.sizeOfBlackWhiteBlackRun(s,l,u,g),v=1,E=s-(u-s);E<0?(v=s/(s-E),E=0):E>=this.image.getWidth()&&(v=(this.image.getWidth()-1-s)/(E-s),E=this.image.getWidth()-1);let _=Math.floor(l-(g-l)*v);return v=1,_<0?(v=l/(l-_),_=0):_>=this.image.getHeight()&&(v=(this.image.getHeight()-1-l)/(_-l),_=this.image.getHeight()-1),E=Math.floor(s+(E-s)*v),x+=this.sizeOfBlackWhiteBlackRun(s,l,E,_),x-1}sizeOfBlackWhiteBlackRun(s,l,u,g){const x=Math.abs(g-l)>Math.abs(u-s);if(x){let pe=s;s=l,l=pe,pe=u,u=g,g=pe}const v=Math.abs(u-s),E=Math.abs(g-l);let _=-v/2;const S=s<u?1:-1,M=l<g?1:-1;let G=0;const Z=u+S;for(let pe=s,be=l;pe!==Z;pe+=S){const Te=x?be:pe,Oe=x?pe:be;if(G===1===this.image.get(Te,Oe)){if(G===2)return Et.distance(pe,be,s,l);G++}if(_+=E,_>0){if(be===g)break;be+=M,_-=v}}return G===2?Et.distance(u+S,g,s,l):NaN}findAlignmentInRegion(s,l,u,g){const x=Math.floor(g*s),v=Math.max(0,l-x),E=Math.min(this.image.getWidth()-1,l+x);if(E-v<s*3)throw new ve("Alignment top exceeds estimated module size.");const _=Math.max(0,u-x),S=Math.min(this.image.getHeight()-1,u+x);if(S-_<s*3)throw new ve("Alignment bottom exceeds estimated module size.");return new _n(this.image,v,_,E-v,S-_,s,this.resultPointCallback).find()}}class Xi{constructor(){this.decoder=new b0}getDecoder(){return this.decoder}decode(s,l){let u,g;if(l!=null&&l.get(ee.PURE_BARCODE)!==void 0){const _=Xi.extractPureBits(s.getBlackMatrix());u=this.decoder.decodeBitMatrix(_,l),g=Xi.NO_POINTS}else{const _=new ca(s.getBlackMatrix()).detect(l);u=this.decoder.decodeBitMatrix(_.getBits(),l),g=_.getPoints()}u.getOther()instanceof sc&&u.getOther().applyMirroredCorrection(g);const x=new le(u.getText(),u.getRawBytes(),void 0,g,xe.QR_CODE,void 0),v=u.getByteSegments();v!==null&&x.putMetadata(Se.BYTE_SEGMENTS,v);const E=u.getECLevel();return E!==null&&x.putMetadata(Se.ERROR_CORRECTION_LEVEL,E),u.hasStructuredAppend()&&(x.putMetadata(Se.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),x.putMetadata(Se.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),x}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(l===null||u===null)throw new ve;const g=this.moduleSize(l,s);let x=l[1],v=u[1],E=l[0],_=u[0];if(E>=_||x>=v)throw new ve;if(v-x!==_-E&&(_=E+(v-x),_>=s.getWidth()))throw new ve;const S=Math.round((_-E+1)/g),M=Math.round((v-x+1)/g);if(S<=0||M<=0)throw new ve;if(M!==S)throw new ve;const G=Math.floor(g/2);x+=G,E+=G;const Z=E+Math.floor((S-1)*g)-_;if(Z>0){if(Z>G)throw new ve;E-=Z}const pe=x+Math.floor((M-1)*g)-v;if(pe>0){if(pe>G)throw new ve;x-=pe}const be=new ze(S,M);for(let Te=0;Te<M;Te++){const Oe=x+Math.floor(Te*g);for(let qe=0;qe<S;qe++)s.get(E+Math.floor(qe*g),Oe)&&be.set(qe,Te)}return be}static moduleSize(s,l){const u=l.getHeight(),g=l.getWidth();let x=s[0],v=s[1],E=!0,_=0;for(;x<g&&v<u;){if(E!==l.get(x,v)){if(++_===5)break;E=!E}x++,v++}if(x===g||v===u)throw new ve;return(x-s[0])/7}}Xi.NO_POINTS=new Array;class Pt{PDF417Common(){}static getBitCountSum(s){return Et.sum(s)}static toIntArray(s){if(s==null||!s.length)return Pt.EMPTY_INT_ARRAY;const l=new Int32Array(s.length);let u=0;for(const g of s)l[u++]=g;return l}static getCodeword(s){const l=W.binarySearch(Pt.SYMBOL_TABLE,s&262143);return l<0?-1:(Pt.CODEWORD_TABLE[l]-1)%Pt.NUMBER_OF_CODEWORDS}}Pt.NUMBER_OF_CODEWORDS=929,Pt.MAX_CODEWORDS_IN_BARCODE=Pt.NUMBER_OF_CODEWORDS-1,Pt.MIN_ROWS_IN_BARCODE=3,Pt.MAX_ROWS_IN_BARCODE=90,Pt.MODULES_IN_CODEWORD=17,Pt.MODULES_IN_STOP_PATTERN=18,Pt.BARS_IN_MODULE=8,Pt.EMPTY_INT_ARRAY=new Int32Array([]),Pt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Pt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ac{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Vt{static detectMultiple(s,l,u){let g=s.getBlackMatrix(),x=Vt.detect(u,g);return x.length||(g=g.clone(),g.rotate180(),x=Vt.detect(u,g)),new Ac(g,x)}static detect(s,l){const u=new Array;let g=0,x=0,v=!1;for(;g<l.getHeight();){const E=Vt.findVertices(l,g,x);if(E[0]==null&&E[3]==null){if(!v)break;v=!1,x=0;for(const _ of u)_[1]!=null&&(g=Math.trunc(Math.max(g,_[1].getY()))),_[3]!=null&&(g=Math.max(g,Math.trunc(_[3].getY())));g+=Vt.ROW_STEP;continue}if(v=!0,u.push(E),!s)break;E[2]!=null?(x=Math.trunc(E[2].getX()),g=Math.trunc(E[2].getY())):(x=Math.trunc(E[4].getX()),g=Math.trunc(E[4].getY()))}return u}static findVertices(s,l,u){const g=s.getHeight(),x=s.getWidth(),v=new Array(8);return Vt.copyToResult(v,Vt.findRowsWithPattern(s,g,x,l,u,Vt.START_PATTERN),Vt.INDEXES_START_PATTERN),v[4]!=null&&(u=Math.trunc(v[4].getX()),l=Math.trunc(v[4].getY())),Vt.copyToResult(v,Vt.findRowsWithPattern(s,g,x,l,u,Vt.STOP_PATTERN),Vt.INDEXES_STOP_PATTERN),v}static copyToResult(s,l,u){for(let g=0;g<u.length;g++)s[u[g]]=l[g]}static findRowsWithPattern(s,l,u,g,x,v){const E=new Array(4);let _=!1;const S=new Int32Array(v.length);for(;g<l;g+=Vt.ROW_STEP){let G=Vt.findGuardPattern(s,x,g,u,!1,v,S);if(G!=null){for(;g>0;){const Z=Vt.findGuardPattern(s,x,--g,u,!1,v,S);if(Z!=null)G=Z;else{g++;break}}E[0]=new Ct(G[0],g),E[1]=new Ct(G[1],g),_=!0;break}}let M=g+1;if(_){let G=0,Z=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;M<l;M++){const pe=Vt.findGuardPattern(s,Z[0],M,u,!1,v,S);if(pe!=null&&Math.abs(Z[0]-pe[0])<Vt.MAX_PATTERN_DRIFT&&Math.abs(Z[1]-pe[1])<Vt.MAX_PATTERN_DRIFT)Z=pe,G=0;else{if(G>Vt.SKIPPED_ROW_COUNT_MAX)break;G++}}M-=G+1,E[2]=new Ct(Z[0],M),E[3]=new Ct(Z[1],M)}return M-g<Vt.BARCODE_MIN_HEIGHT&&W.fill(E,null),E}static findGuardPattern(s,l,u,g,x,v,E){W.fillWithin(E,0,E.length,0);let _=l,S=0;for(;s.get(_,u)&&_>0&&S++<Vt.MAX_PIXEL_DRIFT;)_--;let M=_,G=0,Z=v.length;for(let pe=x;M<g;M++)if(s.get(M,u)!==pe)E[G]++;else{if(G===Z-1){if(Vt.patternMatchVariance(E,v,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE)return new Int32Array([_,M]);_+=E[0]+E[1],F.arraycopy(E,2,E,0,G-1),E[G-1]=0,E[G]=0,G--}else G++;E[G]=1,pe=!pe}return G===Z-1&&Vt.patternMatchVariance(E,v,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE?new Int32Array([_,M-1]):null}static patternMatchVariance(s,l,u){let g=s.length,x=0,v=0;for(let S=0;S<g;S++)x+=s[S],v+=l[S];if(x<v)return 1/0;let E=x/v;u*=E;let _=0;for(let S=0;S<g;S++){let M=s[S],G=l[S]*E,Z=M>G?M-G:G-M;if(Z>u)return 1/0;_+=Z}return _/x}}Vt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Vt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Vt.MAX_AVG_VARIANCE=.42,Vt.MAX_INDIVIDUAL_VARIANCE=.8,Vt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Vt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Vt.MAX_PIXEL_DRIFT=3,Vt.MAX_PATTERN_DRIFT=5,Vt.SKIPPED_ROW_COUNT_MAX=25,Vt.ROW_STEP=5,Vt.BARCODE_MIN_HEIGHT=10;class Wr{constructor(s,l){if(l.length===0)throw new b;this.field=s;let u=l.length;if(u>1&&l[0]===0){let g=1;for(;g<u&&l[g]===0;)g++;g===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-g),F.arraycopy(l,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let g=0;for(let x of this.coefficients)g=this.field.add(g,x);return g}let l=this.coefficients[0],u=this.coefficients.length;for(let g=1;g<u;g++)l=this.field.add(this.field.multiply(s,l),this.coefficients[g]);return l}add(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,u=s.coefficients;if(l.length>u.length){let v=l;l=u,u=v}let g=new Int32Array(u.length),x=u.length-l.length;F.arraycopy(u,0,g,0,x);for(let v=x;v<u.length;v++)g[v]=this.field.add(l[v-x],u[v]);return new Wr(this.field,g)}subtract(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Wr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Wr(this.field,new Int32Array([0]));let l=this.coefficients,u=l.length,g=s.coefficients,x=g.length,v=new Int32Array(u+x-1);for(let E=0;E<u;E++){let _=l[E];for(let S=0;S<x;S++)v[E+S]=this.field.add(v[E+S],this.field.multiply(_,g[S]))}return new Wr(this.field,v)}negative(){let s=this.coefficients.length,l=new Int32Array(s);for(let u=0;u<s;u++)l[u]=this.field.subtract(0,this.coefficients[u]);return new Wr(this.field,l)}multiplyScalar(s){if(s===0)return new Wr(this.field,new Int32Array([0]));if(s===1)return this;let l=this.coefficients.length,u=new Int32Array(l);for(let g=0;g<l;g++)u[g]=this.field.multiply(this.coefficients[g],s);return new Wr(this.field,u)}multiplyByMonomial(s,l){if(s<0)throw new b;if(l===0)return new Wr(this.field,new Int32Array([0]));let u=this.coefficients.length,g=new Int32Array(u+s);for(let x=0;x<u;x++)g[x]=this.field.multiply(this.coefficients[x],l);return new Wr(this.field,g)}toString(){let s=new z;for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);u!==0&&(u<0?(s.append(" - "),u=-u):s.length()>0&&s.append(" + "),(l===0||u!==1)&&s.append(u),l!==0&&(l===1?s.append("x"):(s.append("x^"),s.append(l))))}return s.toString()}}class ol{add(s,l){return(s+l)%this.modulus}subtract(s,l){return(this.modulus+s-l)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new b;return this.logTable[s]}inverse(s){if(s===0)throw new he;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Ti extends ol{constructor(s,l){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let u=1;for(let g=0;g<s;g++)this.expTable[g]=u,u=u*l%s;for(let g=0;g<s-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new Wr(this,new Int32Array([0])),this.one=new Wr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new b;if(l===0)return this.zero;let u=new Int32Array(s+1);return u[0]=l,new Wr(this,u)}}Ti.PDF417_GF=new Ti(Pt.NUMBER_OF_CODEWORDS,3);class Xa{constructor(){this.field=Ti.PDF417_GF}decode(s,l,u){let g=new Wr(this.field,s),x=new Int32Array(l),v=!1;for(let be=l;be>0;be--){let Te=g.evaluateAt(this.field.exp(be));x[l-be]=Te,Te!==0&&(v=!0)}if(!v)return 0;let E=this.field.getOne();if(u!=null)for(const be of u){let Te=this.field.exp(s.length-1-be),Oe=new Wr(this.field,new Int32Array([this.field.subtract(0,Te),1]));E=E.multiply(Oe)}let _=new Wr(this.field,x),S=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),_,l),M=S[0],G=S[1],Z=this.findErrorLocations(M),pe=this.findErrorMagnitudes(G,M,Z);for(let be=0;be<Z.length;be++){let Te=s.length-1-this.field.log(Z[be]);if(Te<0)throw N.getChecksumInstance();s[Te]=this.field.subtract(s[Te],pe[be])}return Z.length}runEuclideanAlgorithm(s,l,u){if(s.getDegree()<l.getDegree()){let Z=s;s=l,l=Z}let g=s,x=l,v=this.field.getZero(),E=this.field.getOne();for(;x.getDegree()>=Math.round(u/2);){let Z=g,pe=v;if(g=x,v=E,g.isZero())throw N.getChecksumInstance();x=Z;let be=this.field.getZero(),Te=g.getCoefficient(g.getDegree()),Oe=this.field.inverse(Te);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){let qe=x.getDegree()-g.getDegree(),wt=this.field.multiply(x.getCoefficient(x.getDegree()),Oe);be=be.add(this.field.buildMonomial(qe,wt)),x=x.subtract(g.multiplyByMonomial(qe,wt))}E=be.multiply(v).subtract(pe).negative()}let _=E.getCoefficient(0);if(_===0)throw N.getChecksumInstance();let S=this.field.inverse(_),M=E.multiply(S),G=x.multiply(S);return[M,G]}findErrorLocations(s){let l=s.getDegree(),u=new Int32Array(l),g=0;for(let x=1;x<this.field.getSize()&&g<l;x++)s.evaluateAt(x)===0&&(u[g]=this.field.inverse(x),g++);if(g!==l)throw N.getChecksumInstance();return u}findErrorMagnitudes(s,l,u){let g=l.getDegree(),x=new Int32Array(g);for(let S=1;S<=g;S++)x[g-S]=this.field.multiply(S,l.getCoefficient(S));let v=new Wr(this.field,x),E=u.length,_=new Int32Array(E);for(let S=0;S<E;S++){let M=this.field.inverse(u[S]),G=this.field.subtract(0,s.evaluateAt(M)),Z=this.field.inverse(v.evaluateAt(M));_[S]=this.field.multiply(G,Z)}return _}}class Ii{constructor(s,l,u,g,x){s instanceof Ii?this.constructor_2(s):this.constructor_1(s,l,u,g,x)}constructor_1(s,l,u,g,x){const v=l==null||u==null,E=g==null||x==null;if(v&&E)throw new ve;v?(l=new Ct(0,g.getY()),u=new Ct(0,x.getY())):E&&(g=new Ct(s.getWidth()-1,l.getY()),x=new Ct(s.getWidth()-1,u.getY())),this.image=s,this.topLeft=l,this.bottomLeft=u,this.topRight=g,this.bottomRight=x,this.minX=Math.trunc(Math.min(l.getX(),u.getX())),this.maxX=Math.trunc(Math.max(g.getX(),x.getX())),this.minY=Math.trunc(Math.min(l.getY(),g.getY())),this.maxY=Math.trunc(Math.max(u.getY(),x.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,l){return s==null?l:l==null?s:new Ii(s.image,s.topLeft,s.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(s,l,u){let g=this.topLeft,x=this.bottomLeft,v=this.topRight,E=this.bottomRight;if(s>0){let _=u?this.topLeft:this.topRight,S=Math.trunc(_.getY()-s);S<0&&(S=0);let M=new Ct(_.getX(),S);u?g=M:v=M}if(l>0){let _=u?this.bottomLeft:this.bottomRight,S=Math.trunc(_.getY()+l);S>=this.image.getHeight()&&(S=this.image.getHeight()-1);let M=new Ct(_.getX(),S);u?x=M:E=M}return new Ii(this.image,g,x,v,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class hs{constructor(s,l,u,g){this.columnCount=s,this.errorCorrectionLevel=g,this.rowCountUpperPart=l,this.rowCountLowerPart=u,this.rowCount=l+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Si{constructor(){this.buffer=""}static form(s,l){let u=-1;function g(v,E,_,S,M,G){if(v==="%%")return"%";if(l[++u]===void 0)return;v=S?parseInt(S.substr(1)):void 0;let Z=M?parseInt(M.substr(1)):void 0,pe;switch(G){case"s":pe=l[u];break;case"c":pe=l[u][0];break;case"f":pe=parseFloat(l[u]).toFixed(v);break;case"p":pe=parseFloat(l[u]).toPrecision(v);break;case"e":pe=parseFloat(l[u]).toExponential(v);break;case"x":pe=parseInt(l[u]).toString(Z||16);break;case"d":pe=parseFloat(parseInt(l[u],Z||10).toPrecision(v)).toFixed(0);break}pe=typeof pe=="object"?JSON.stringify(pe):(+pe).toString(Z);let be=parseInt(_),Te=_&&_[0]+""=="0"?"0":" ";for(;pe.length<be;)pe=E!==void 0?pe+Te:Te+pe;return pe}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(x,g)}format(s,...l){this.buffer+=Si.form(s,l)}toString(){return this.buffer}}class Yi{constructor(s){this.boundingBox=new Ii(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let l=this.getCodeword(s);if(l!=null)return l;for(let u=1;u<Yi.MAX_NEARBY_DISTANCE;u++){let g=this.imageRowToCodewordIndex(s)-u;if(g>=0&&(l=this.codewords[g],l!=null)||(g=this.imageRowToCodewordIndex(s)+u,g<this.codewords.length&&(l=this.codewords[g],l!=null)))return l}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,l){this.codewords[this.imageRowToCodewordIndex(s)]=l}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Si;let l=0;for(const u of this.codewords){if(u==null){s.format("%3d:    |   %n",l++);continue}s.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue())}return s.toString()}}Yi.MAX_NEARBY_DISTANCE=5;class Ni{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let l=this.values.get(s);l==null&&(l=0),l++,this.values.set(s,l)}getValue(){let s=-1,l=new Array;for(const[u,g]of this.values.entries()){const x={getKey:()=>u,getValue:()=>g};x.getValue()>s?(s=x.getValue(),l=[],l.push(x.getKey())):x.getValue()===s&&l.push(x.getKey())}return Pt.toIntArray(l)}getConfidence(s){return this.values.get(s)}}class $r extends Yi{constructor(s,l){super(s),this._isLeft=l}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,s);let u=this.getBoundingBox(),g=this._isLeft?u.getTopLeft():u.getTopRight(),x=this._isLeft?u.getBottomLeft():u.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(g.getY())),E=this.imageRowToCodewordIndex(Math.trunc(x.getY())),_=-1,S=1,M=0;for(let G=v;G<E;G++){if(l[G]==null)continue;let Z=l[G],pe=Z.getRowNumber()-_;if(pe===0)M++;else if(pe===1)S=Math.max(S,M),M=1,_=Z.getRowNumber();else if(pe<0||Z.getRowNumber()>=s.getRowCount()||pe>G)l[G]=null;else{let be;S>2?be=(S-2)*pe:be=pe;let Te=be>=G;for(let Oe=1;Oe<=be&&!Te;Oe++)Te=l[G-Oe]!=null;Te?l[G]=null:(_=Z.getRowNumber(),M=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let l=new Int32Array(s.getRowCount());for(let u of this.getCodewords())if(u!=null){let g=u.getRowNumber();if(g>=l.length)continue;l[g]++}return l}adjustIncompleteIndicatorColumnRowNumbers(s){let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),g=this._isLeft?l.getBottomLeft():l.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(u.getY())),v=this.imageRowToCodewordIndex(Math.trunc(g.getY())),E=this.getCodewords(),_=-1;for(let S=x;S<v;S++){if(E[S]==null)continue;let M=E[S];M.setRowNumberAsRowIndicatorColumn();let G=M.getRowNumber()-_;G===0||(G===1?_=M.getRowNumber():M.getRowNumber()>=s.getRowCount()?E[S]=null:_=M.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),l=new Ni,u=new Ni,g=new Ni,x=new Ni;for(let E of s){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let _=E.getValue()%30,S=E.getRowNumber();switch(this._isLeft||(S+=2),S%3){case 0:u.setValue(_*3+1);break;case 1:x.setValue(_/3),g.setValue(_%3);break;case 2:l.setValue(_+1);break}}if(l.getValue().length===0||u.getValue().length===0||g.getValue().length===0||x.getValue().length===0||l.getValue()[0]<1||u.getValue()[0]+g.getValue()[0]<Pt.MIN_ROWS_IN_BARCODE||u.getValue()[0]+g.getValue()[0]>Pt.MAX_ROWS_IN_BARCODE)return null;let v=new hs(l.getValue()[0],u.getValue()[0],g.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(s,v),v}removeIncorrectCodewords(s,l){for(let u=0;u<s.length;u++){let g=s[u];if(s[u]==null)continue;let x=g.getValue()%30,v=g.getRowNumber();if(v>l.getRowCount()){s[u]=null;continue}switch(this._isLeft||(v+=2),v%3){case 0:x*3+1!==l.getRowCountUpperPart()&&(s[u]=null);break;case 1:(Math.trunc(x/3)!==l.getErrorCorrectionLevel()||x%3!==l.getRowCountLowerPart())&&(s[u]=null);break;case 2:x+1!==l.getColumnCount()&&(s[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Dn{constructor(s,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Pt.MAX_CODEWORDS_IN_BARCODE,l;do l=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let u=this.detectionResultColumns[l].getCodewords();for(let g=0;g<u.length;g++)u[g]!=null&&(u[g].hasValidRowNumber()||this.adjustRowNumbers(l,g,u))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<s.length;u++)if(s[u]!=null&&l[u]!=null&&s[u].getRowNumber()===l[u].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let x=this.detectionResultColumns[g].getCodewords()[u];x!=null&&(x.setRowNumber(s[u].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let g=l[u].getRowNumber(),x=0;for(let v=this.barcodeColumnCount+1;v>0&&x<this.ADJUST_ROW_NUMBER_SKIP;v--){let E=this.detectionResultColumns[v].getCodewords()[u];E!=null&&(x=Dn.adjustRowNumberIfValid(g,x,E),E.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,l=this.detectionResultColumns[0].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let g=l[u].getRowNumber(),x=0;for(let v=1;v<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;v++){let E=this.detectionResultColumns[v].getCodewords()[u];E!=null&&(x=Dn.adjustRowNumberIfValid(g,x,E),E.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,l,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(s)?(u.setRowNumber(s),l=0):++l),l}adjustRowNumbers(s,l,u){if(!this.detectionResultColumns[s-1])return;let g=u[l],x=this.detectionResultColumns[s-1].getCodewords(),v=x;this.detectionResultColumns[s+1]!=null&&(v=this.detectionResultColumns[s+1].getCodewords());let E=new Array(14);E[2]=x[l],E[3]=v[l],l>0&&(E[0]=u[l-1],E[4]=x[l-1],E[5]=v[l-1]),l>1&&(E[8]=u[l-2],E[10]=x[l-2],E[11]=v[l-2]),l<u.length-1&&(E[1]=u[l+1],E[6]=x[l+1],E[7]=v[l+1]),l<u.length-2&&(E[9]=u[l+2],E[12]=x[l+2],E[13]=v[l+2]);for(let _ of E)if(Dn.adjustRowNumber(g,_))return}static adjustRowNumber(s,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===s.getBucket()?(s.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,l){this.detectionResultColumns[s]=l}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new Si;for(let u=0;u<s.getCodewords().length;u++){l.format("CW %3d:",u);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){l.format("    |   ");continue}let x=this.detectionResultColumns[g].getCodewords()[u];if(x==null){l.format("    |   ");continue}l.format(" %3d|%3d",x.getRowNumber(),x.getValue())}l.format("%n")}return l.toString()}}class ui{constructor(s,l,u,g){this.rowNumber=ui.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==ui.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}ui.BARCODE_ROW_UNKNOWN=-1;class On{static initialize(){for(let s=0;s<Pt.SYMBOL_TABLE.length;s++){let l=Pt.SYMBOL_TABLE[s],u=l&1;for(let g=0;g<Pt.BARS_IN_MODULE;g++){let x=0;for(;(l&1)===u;)x+=1,l>>=1;u=l&1,On.RATIOS_TABLE[s]||(On.RATIOS_TABLE[s]=new Array(Pt.BARS_IN_MODULE)),On.RATIOS_TABLE[s][Pt.BARS_IN_MODULE-g-1]=Math.fround(x/Pt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let l=On.getDecodedCodewordValue(On.sampleBitCounts(s));return l!==-1?l:On.getClosestDecodedValue(s)}static sampleBitCounts(s){let l=Et.sum(s),u=new Int32Array(Pt.BARS_IN_MODULE),g=0,x=0;for(let v=0;v<Pt.MODULES_IN_CODEWORD;v++){let E=l/(2*Pt.MODULES_IN_CODEWORD)+v*l/Pt.MODULES_IN_CODEWORD;x+s[g]<=E&&(x+=s[g],g++),u[g]++}return u}static getDecodedCodewordValue(s){let l=On.getBitValue(s);return Pt.getCodeword(l)===-1?-1:l}static getBitValue(s){let l=0;for(let u=0;u<s.length;u++)for(let g=0;g<s[u];g++)l=l<<1|(u%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(s){let l=Et.sum(s),u=new Array(Pt.BARS_IN_MODULE);if(l>1)for(let v=0;v<u.length;v++)u[v]=Math.fround(s[v]/l);let g=Ar.MAX_VALUE,x=-1;this.bSymbolTableReady||On.initialize();for(let v=0;v<On.RATIOS_TABLE.length;v++){let E=0,_=On.RATIOS_TABLE[v];for(let S=0;S<Pt.BARS_IN_MODULE;S++){let M=Math.fround(_[S]-u[S]);if(E+=Math.fround(M*M),E>=g)break}E<g&&(g=E,x=Pt.SYMBOL_TABLE[v])}return x}}On.bSymbolTableReady=!1,On.RATIOS_TABLE=new Array(Pt.SYMBOL_TABLE.length).map(P=>new Array(Pt.BARS_IN_MODULE));class Us{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class ll{static parseLong(s,l=void 0){return parseInt(s,l)}}class ks extends m{}ks.kind="NullPointerException";class Ao{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,l,u){if(s==null)throw new ks;if(l<0||l>s.length||u<0||l+u>s.length||l+u<0)throw new D;if(u===0)return;for(let g=0;g<u;g++)this.write(s[l+g])}flush(){}close(){}}class Ta extends m{}class wA extends Ao{constructor(s=32){if(super(),this.count=0,s<0)throw new b("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let u=this.buf.length<<1;if(u-s<0&&(u=s),u<0){if(s<0)throw new Ta;u=H.MAX_VALUE}this.buf=W.copyOfUint8Array(this.buf,u)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,l,u){if(l<0||l>s.length||u<0||l+u-s.length>0)throw new D;this.ensureCapacity(this.count+u),F.arraycopy(s,l,this.buf,this.count,u),this.count+=u}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return W.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Fr;(function(P){P[P.ALPHA=0]="ALPHA",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.PUNCT=3]="PUNCT",P[P.ALPHA_SHIFT=4]="ALPHA_SHIFT",P[P.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Fr||(Fr={}));function $s(){if(typeof window<"u")return window.BigInt||null;if(typeof Qh<"u")return Qh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let vA;function Fi(P){if(typeof vA>"u"&&(vA=$s()),vA===null)throw new Error("BigInt is not supported!");return vA(P)}function eA(){let P=[];P[0]=Fi(1);let s=Fi(900);P[1]=s;for(let l=2;l<16;l++)P[l]=P[l-1]*s;return P}class Ye{static decode(s,l){let u=new z(""),g=k.ISO8859_1;u.enableDecoding(g);let x=1,v=s[x++],E=new Us;for(;x<s[0];){switch(v){case Ye.TEXT_COMPACTION_MODE_LATCH:x=Ye.textCompaction(s,x,u);break;case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:x=Ye.byteCompaction(v,s,g,x,u);break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x++]);break;case Ye.NUMERIC_COMPACTION_MODE_LATCH:x=Ye.numericCompaction(s,x,u);break;case Ye.ECI_CHARSET:k.getCharacterSetECIByValue(s[x++]);break;case Ye.ECI_GENERAL_PURPOSE:x+=2;break;case Ye.ECI_USER_DEFINED:x++;break;case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=Ye.decodeMacroBlock(s,x,E);break;case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:throw new U;default:x--,x=Ye.textCompaction(s,x,u);break}if(x<s.length)v=s[x++];else throw U.getFormatInstance()}if(u.length()===0)throw U.getFormatInstance();let _=new Ce(null,u.toString(),null,l);return _.setOther(E),_}static decodeMacroBlock(s,l,u){if(l+Ye.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw U.getFormatInstance();let g=new Int32Array(Ye.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<Ye.NUMBER_OF_SEQUENCE_CODEWORDS;E++,l++)g[E]=s[l];u.setSegmentIndex(H.parseInt(Ye.decodeBase900toBase10(g,Ye.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new z;l=Ye.textCompaction(s,l,x),u.setFileId(x.toString());let v=-1;for(s[l]===Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=l+1);l<s[0];)switch(s[l]){case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,s[l]){case Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new z;l=Ye.textCompaction(s,l+1,E),u.setFileName(E.toString());break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let _=new z;l=Ye.textCompaction(s,l+1,_),u.setSender(_.toString());break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let S=new z;l=Ye.textCompaction(s,l+1,S),u.setAddressee(S.toString());break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let M=new z;l=Ye.numericCompaction(s,l+1,M),u.setSegmentCount(H.parseInt(M.toString()));break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let G=new z;l=Ye.numericCompaction(s,l+1,G),u.setTimestamp(ll.parseLong(G.toString()));break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Z=new z;l=Ye.numericCompaction(s,l+1,Z),u.setChecksum(H.parseInt(Z.toString()));break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let pe=new z;l=Ye.numericCompaction(s,l+1,pe),u.setFileSize(ll.parseLong(pe.toString()));break;default:throw U.getFormatInstance()}break;case Ye.MACRO_PDF417_TERMINATOR:l++,u.setLastSegment(!0);break;default:throw U.getFormatInstance()}if(v!==-1){let E=l-v;u.isLastSegment()&&E--,u.setOptionalData(W.copyOfRange(s,v,v+E))}return l}static textCompaction(s,l,u){let g=new Int32Array((s[0]-l)*2),x=new Int32Array((s[0]-l)*2),v=0,E=!1;for(;l<s[0]&&!E;){let _=s[l++];if(_<Ye.TEXT_COMPACTION_MODE_LATCH)g[v]=_/30,g[v+1]=_%30,v+=2;else switch(_){case Ye.TEXT_COMPACTION_MODE_LATCH:g[v++]=Ye.TEXT_COMPACTION_MODE_LATCH;break;case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.NUMERIC_COMPACTION_MODE_LATCH:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:l--,E=!0;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[v]=Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=s[l++],x[v]=_,v++;break}}return Ye.decodeTextCompaction(g,x,v,u),l}static decodeTextCompaction(s,l,u,g){let x=Fr.ALPHA,v=Fr.ALPHA,E=0;for(;E<u;){let _=s[E],S="";switch(x){case Fr.ALPHA:if(_<26)S=String.fromCharCode(65+_);else switch(_){case 26:S=" ";break;case Ye.LL:x=Fr.LOWER;break;case Ye.ML:x=Fr.MIXED;break;case Ye.PS:v=x,x=Fr.PUNCT_SHIFT;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[E]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.LOWER:if(_<26)S=String.fromCharCode(97+_);else switch(_){case 26:S=" ";break;case Ye.AS:v=x,x=Fr.ALPHA_SHIFT;break;case Ye.ML:x=Fr.MIXED;break;case Ye.PS:v=x,x=Fr.PUNCT_SHIFT;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[E]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.MIXED:if(_<Ye.PL)S=Ye.MIXED_CHARS[_];else switch(_){case Ye.PL:x=Fr.PUNCT;break;case 26:S=" ";break;case Ye.LL:x=Fr.LOWER;break;case Ye.AL:x=Fr.ALPHA;break;case Ye.PS:v=x,x=Fr.PUNCT_SHIFT;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[E]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.PUNCT:if(_<Ye.PAL)S=Ye.PUNCT_CHARS[_];else switch(_){case Ye.PAL:x=Fr.ALPHA;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[E]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.ALPHA_SHIFT:if(x=v,_<26)S=String.fromCharCode(65+_);else switch(_){case 26:S=" ";break;case Ye.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.PUNCT_SHIFT:if(x=v,_<Ye.PAL)S=Ye.PUNCT_CHARS[_];else switch(_){case Ye.PAL:x=Fr.ALPHA;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[E]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break}S!==""&&g.append(S),E++}}static byteCompaction(s,l,u,g,x){let v=new wA,E=0,_=0,S=!1;switch(s){case Ye.BYTE_COMPACTION_MODE_LATCH:let M=new Int32Array(6),G=l[g++];for(;g<l[0]&&!S;)switch(M[E++]=G,_=900*_+G,G=l[g++],G){case Ye.TEXT_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.NUMERIC_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:g--,S=!0;break;default:if(E%5===0&&E>0){for(let Z=0;Z<6;++Z)v.write(Number(Fi(_)>>Fi(8*(5-Z))));_=0,E=0}break}g===l[0]&&G<Ye.TEXT_COMPACTION_MODE_LATCH&&(M[E++]=G);for(let Z=0;Z<E;Z++)v.write(M[Z]);break;case Ye.BYTE_COMPACTION_MODE_LATCH_6:for(;g<l[0]&&!S;){let Z=l[g++];if(Z<Ye.TEXT_COMPACTION_MODE_LATCH)E++,_=900*_+Z;else switch(Z){case Ye.TEXT_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.NUMERIC_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:g--,S=!0;break}if(E%5===0&&E>0){for(let pe=0;pe<6;++pe)v.write(Number(Fi(_)>>Fi(8*(5-pe))));_=0,E=0}}break}return x.append(q.decode(v.toByteArray(),u)),g}static numericCompaction(s,l,u){let g=0,x=!1,v=new Int32Array(Ye.MAX_NUMERIC_CODEWORDS);for(;l<s[0]&&!x;){let E=s[l++];if(l===s[0]&&(x=!0),E<Ye.TEXT_COMPACTION_MODE_LATCH)v[g]=E,g++;else switch(E){case Ye.TEXT_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:l--,x=!0;break}(g%Ye.MAX_NUMERIC_CODEWORDS===0||E===Ye.NUMERIC_COMPACTION_MODE_LATCH||x)&&g>0&&(u.append(Ye.decodeBase900toBase10(v,g)),g=0)}return l}static decodeBase900toBase10(s,l){let u=Fi(0);for(let x=0;x<l;x++)u+=Ye.EXP900[l-x-1]*Fi(s[x]);let g=u.toString();if(g.charAt(0)!=="1")throw new U;return g.substring(1)}}Ye.TEXT_COMPACTION_MODE_LATCH=900,Ye.BYTE_COMPACTION_MODE_LATCH=901,Ye.NUMERIC_COMPACTION_MODE_LATCH=902,Ye.BYTE_COMPACTION_MODE_LATCH_6=924,Ye.ECI_USER_DEFINED=925,Ye.ECI_GENERAL_PURPOSE=926,Ye.ECI_CHARSET=927,Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ye.MACRO_PDF417_TERMINATOR=922,Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ye.MAX_NUMERIC_CODEWORDS=15,Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ye.PL=25,Ye.LL=27,Ye.AS=27,Ye.ML=28,Ye.AL=28,Ye.PS=29,Ye.PAL=29,Ye.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ye.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ye.EXP900=$s()?eA():[],Ye.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Zt{constructor(){}static decode(s,l,u,g,x,v,E){let _=new Ii(s,l,u,g,x),S=null,M=null,G;for(let be=!0;;be=!1){if(l!=null&&(S=Zt.getRowIndicatorColumn(s,_,l,!0,v,E)),g!=null&&(M=Zt.getRowIndicatorColumn(s,_,g,!1,v,E)),G=Zt.merge(S,M),G==null)throw ve.getNotFoundInstance();let Te=G.getBoundingBox();if(be&&Te!=null&&(Te.getMinY()<_.getMinY()||Te.getMaxY()>_.getMaxY()))_=Te;else break}G.setBoundingBox(_);let Z=G.getBarcodeColumnCount()+1;G.setDetectionResultColumn(0,S),G.setDetectionResultColumn(Z,M);let pe=S!=null;for(let be=1;be<=Z;be++){let Te=pe?be:Z-be;if(G.getDetectionResultColumn(Te)!==void 0)continue;let Oe;Te===0||Te===Z?Oe=new $r(_,Te===0):Oe=new Yi(_),G.setDetectionResultColumn(Te,Oe);let qe=-1,wt=qe;for(let mt=_.getMinY();mt<=_.getMaxY();mt++){if(qe=Zt.getStartColumn(G,Te,mt,pe),qe<0||qe>_.getMaxX()){if(wt===-1)continue;qe=wt}let ut=Zt.detectCodeword(s,_.getMinX(),_.getMaxX(),pe,qe,mt,v,E);ut!=null&&(Oe.setCodeword(mt,ut),wt=qe,v=Math.min(v,ut.getWidth()),E=Math.max(E,ut.getWidth()))}}return Zt.createDecoderResult(G)}static merge(s,l){if(s==null&&l==null)return null;let u=Zt.getBarcodeMetadata(s,l);if(u==null)return null;let g=Ii.merge(Zt.adjustBoundingBox(s),Zt.adjustBoundingBox(l));return new Dn(u,g)}static adjustBoundingBox(s){if(s==null)return null;let l=s.getRowHeights();if(l==null)return null;let u=Zt.getMax(l),g=0;for(let E of l)if(g+=u-E,E>0)break;let x=s.getCodewords();for(let E=0;g>0&&x[E]==null;E++)g--;let v=0;for(let E=l.length-1;E>=0&&(v+=u-l[E],!(l[E]>0));E--);for(let E=x.length-1;v>0&&x[E]==null;E--)v--;return s.getBoundingBox().addMissingRows(g,v,s.isLeft())}static getMax(s){let l=-1;for(let u of s)l=Math.max(l,u);return l}static getBarcodeMetadata(s,l){let u;if(s==null||(u=s.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let g;return l==null||(g=l.getBarcodeMetadata())==null?u:u.getColumnCount()!==g.getColumnCount()&&u.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&u.getRowCount()!==g.getRowCount()?null:u}static getRowIndicatorColumn(s,l,u,g,x,v){let E=new $r(l,g);for(let _=0;_<2;_++){let S=_===0?1:-1,M=Math.trunc(Math.trunc(u.getX()));for(let G=Math.trunc(Math.trunc(u.getY()));G<=l.getMaxY()&&G>=l.getMinY();G+=S){let Z=Zt.detectCodeword(s,0,s.getWidth(),g,M,G,x,v);Z!=null&&(E.setCodeword(G,Z),g?M=Z.getStartX():M=Z.getEndX())}}return E}static adjustCodewordCount(s,l){let u=l[0][1],g=u.getValue(),x=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Zt.getNumberOfECCodeWords(s.getBarcodeECLevel());if(g.length===0){if(x<1||x>Pt.MAX_CODEWORDS_IN_BARCODE)throw ve.getNotFoundInstance();u.setValue(x)}else g[0]!==x&&u.setValue(x)}static createDecoderResult(s){let l=Zt.createBarcodeMatrix(s);Zt.adjustCodewordCount(s,l);let u=new Array,g=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),x=[],v=new Array;for(let _=0;_<s.getBarcodeRowCount();_++)for(let S=0;S<s.getBarcodeColumnCount();S++){let M=l[_][S+1].getValue(),G=_*s.getBarcodeColumnCount()+S;M.length===0?u.push(G):M.length===1?g[G]=M[0]:(v.push(G),x.push(M))}let E=new Array(x.length);for(let _=0;_<E.length;_++)E[_]=x[_];return Zt.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),g,Pt.toIntArray(u),Pt.toIntArray(v),E)}static createDecoderResultFromAmbiguousValues(s,l,u,g,x){let v=new Int32Array(g.length),E=100;for(;E-- >0;){for(let _=0;_<v.length;_++)l[g[_]]=x[_][v[_]];try{return Zt.decodeCodewords(l,s,u)}catch(_){if(!(_ instanceof N))throw _}if(v.length===0)throw N.getChecksumInstance();for(let _=0;_<v.length;_++)if(v[_]<x[_].length-1){v[_]++;break}else if(v[_]=0,_===v.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(s){let l=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let g=0;g<l.length;g++)for(let x=0;x<l[g].length;x++)l[g][x]=new Ni;let u=0;for(let g of s.getDetectionResultColumns()){if(g!=null){for(let x of g.getCodewords())if(x!=null){let v=x.getRowNumber();if(v>=0){if(v>=l.length)continue;l[v][u].setValue(x.getValue())}}}u++}return l}static isValidBarcodeColumn(s,l){return l>=0&&l<=s.getBarcodeColumnCount()+1}static getStartColumn(s,l,u,g){let x=g?1:-1,v=null;if(Zt.isValidBarcodeColumn(s,l-x)&&(v=s.getDetectionResultColumn(l-x).getCodeword(u)),v!=null)return g?v.getEndX():v.getStartX();if(v=s.getDetectionResultColumn(l).getCodewordNearby(u),v!=null)return g?v.getStartX():v.getEndX();if(Zt.isValidBarcodeColumn(s,l-x)&&(v=s.getDetectionResultColumn(l-x).getCodewordNearby(u)),v!=null)return g?v.getEndX():v.getStartX();let E=0;for(;Zt.isValidBarcodeColumn(s,l-x);){l-=x;for(let _ of s.getDetectionResultColumn(l).getCodewords())if(_!=null)return(g?_.getEndX():_.getStartX())+x*E*(_.getEndX()-_.getStartX());E++}return g?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,l,u,g,x,v,E,_){x=Zt.adjustCodewordStartColumn(s,l,u,g,x,v);let S=Zt.getModuleBitCount(s,l,u,g,x,v);if(S==null)return null;let M,G=Et.sum(S);if(g)M=x+G;else{for(let be=0;be<S.length/2;be++){let Te=S[be];S[be]=S[S.length-1-be],S[S.length-1-be]=Te}M=x,x=M-G}if(!Zt.checkCodewordSkew(G,E,_))return null;let Z=On.getDecodedValue(S),pe=Pt.getCodeword(Z);return pe===-1?null:new ui(x,M,Zt.getCodewordBucketNumber(Z),pe)}static getModuleBitCount(s,l,u,g,x,v){let E=x,_=new Int32Array(8),S=0,M=g?1:-1,G=g;for(;(g?E<u:E>=l)&&S<_.length;)s.get(E,v)===G?(_[S]++,E+=M):(S++,G=!G);return S===_.length||E===(g?u:l)&&S===_.length-1?_:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,l,u,g,x,v){let E=x,_=g?-1:1;for(let S=0;S<2;S++){for(;(g?E>=l:E<u)&&g===s.get(E,v);){if(Math.abs(x-E)>Zt.CODEWORD_SKEW_SIZE)return x;E+=_}_=-_,g=!g}return E}static checkCodewordSkew(s,l,u){return l-Zt.CODEWORD_SKEW_SIZE<=s&&s<=u+Zt.CODEWORD_SKEW_SIZE}static decodeCodewords(s,l,u){if(s.length===0)throw U.getFormatInstance();let g=1<<l+1,x=Zt.correctErrors(s,u,g);Zt.verifyCodewordCount(s,g);let v=Ye.decode(s,""+l);return v.setErrorsCorrected(x),v.setErasures(u.length),v}static correctErrors(s,l,u){if(l!=null&&l.length>u/2+Zt.MAX_ERRORS||u<0||u>Zt.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return Zt.errorCorrection.decode(s,u,l)}static verifyCodewordCount(s,l){if(s.length<4)throw U.getFormatInstance();let u=s[0];if(u>s.length)throw U.getFormatInstance();if(u===0)if(l<s.length)s[0]=s.length-l;else throw U.getFormatInstance()}static getBitCountForCodeword(s){let l=new Int32Array(8),u=0,g=l.length-1;for(;!((s&1)!==u&&(u=s&1,g--,g<0));)l[g]++,s>>=1;return l}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Zt.getCodewordBucketNumber(Zt.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let l=new Si;for(let u=0;u<s.length;u++){l.format("Row %2d: ",u);for(let g=0;g<s[u].length;g++){let x=s[u][g];x.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}l.format("%n")}return l.toString()}}Zt.CODEWORD_SKEW_SIZE=2,Zt.MAX_ERRORS=3,Zt.MAX_EC_CODEWORDS=512,Zt.errorCorrection=new Xa;class Vn{decode(s,l=null){let u=Vn.decode(s,l,!1);if(u==null||u.length===0||u[0]==null)throw ve.getNotFoundInstance();return u[0]}decodeMultiple(s,l=null){try{return Vn.decode(s,l,!0)}catch(u){throw u instanceof U||u instanceof N?ve.getNotFoundInstance():u}}static decode(s,l,u){const g=new Array,x=Vt.detectMultiple(s,l,u);for(const v of x.getPoints()){const E=Zt.decode(x.getBits(),v[4],v[5],v[6],v[7],Vn.getMinCodewordWidth(v),Vn.getMaxCodewordWidth(v)),_=new le(E.getText(),E.getRawBytes(),void 0,v,xe.PDF_417);_.putMetadata(Se.ERROR_CORRECTION_LEVEL,E.getECLevel());const S=E.getOther();S!=null&&_.putMetadata(Se.PDF417_EXTRA_METADATA,S),g.push(_)}return g.map(v=>v)}static getMaxWidth(s,l){return s==null||l==null?0:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMinWidth(s,l){return s==null||l==null?H.MAX_VALUE:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Vn.getMaxWidth(s[0],s[4]),Vn.getMaxWidth(s[6],s[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.max(Vn.getMaxWidth(s[1],s[5]),Vn.getMaxWidth(s[7],s[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Vn.getMinWidth(s[0],s[4]),Vn.getMinWidth(s[6],s[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.min(Vn.getMinWidth(s[1],s[5]),Vn.getMinWidth(s[7],s[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}reset(){}}class yA extends m{}yA.kind="ReaderException";class tA{constructor(s,l){this.verbose=s===!0,l&&this.setHints(l)}decode(s,l){return l&&this.setHints(l),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const l=!n(s)&&s.get(ee.TRY_HARDER)===!0,u=n(s)?null:s.get(ee.POSSIBLE_FORMATS),g=new Array;if(!n(u)){const x=u.some(v=>v===xe.UPC_A||v===xe.UPC_E||v===xe.EAN_13||v===xe.EAN_8||v===xe.CODABAR||v===xe.CODE_39||v===xe.CODE_93||v===xe.CODE_128||v===xe.ITF||v===xe.RSS_14||v===xe.RSS_EXPANDED);x&&!l&&g.push(new bn(s,this.verbose)),u.includes(xe.QR_CODE)&&g.push(new Xi),u.includes(xe.DATA_MATRIX)&&g.push(new Bi),u.includes(xe.AZTEC)&&g.push(new at),u.includes(xe.PDF_417)&&g.push(new Vn),x&&l&&g.push(new bn(s,this.verbose))}g.length===0&&(l||g.push(new bn(s,this.verbose)),g.push(new Xi),g.push(new Bi),g.push(new at),g.push(new Vn),l&&g.push(new bn(s,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new yA("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(s,this.hints)}catch(u){if(u instanceof yA)continue}throw new ve("No MultiFormat Readers were able to detect the code.")}}class cl extends ce{constructor(s=null,l=500){const u=new tA;u.setHints(s),super(u,l)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class oc extends ce{constructor(s=500){super(new Vn,s)}}class ul extends ce{constructor(s=500){super(new Xi,s)}}var EA;(function(P){P[P.ERROR_CORRECTION=0]="ERROR_CORRECTION",P[P.CHARACTER_SET=1]="CHARACTER_SET",P[P.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",P[P.MIN_SIZE=3]="MIN_SIZE",P[P.MAX_SIZE=4]="MAX_SIZE",P[P.MARGIN=5]="MARGIN",P[P.PDF417_COMPACT=6]="PDF417_COMPACT",P[P.PDF417_COMPACTION=7]="PDF417_COMPACTION",P[P.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",P[P.AZTEC_LAYERS=9]="AZTEC_LAYERS",P[P.QR_VERSION=10]="QR_VERSION"})(EA||(EA={}));var yn=EA;class ds{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new xt(s,Int32Array.from([1])))}buildGenerator(s){const l=this.cachedGenerators;if(s>=l.length){let u=l[l.length-1];const g=this.field;for(let x=l.length;x<=s;x++){const v=u.multiply(new xt(g,Int32Array.from([1,g.exp(x-1+g.getGeneratorBase())])));l.push(v),u=v}}return l[s]}encode(s,l){if(l===0)throw new b("No error correction bytes");const u=s.length-l;if(u<=0)throw new b("No data bytes provided");const g=this.buildGenerator(l),x=new Int32Array(u);F.arraycopy(s,0,x,0,u);let v=new xt(this.field,x);v=v.multiplyByMonomial(l,1);const _=v.divide(g)[1].getCoefficients(),S=l-_.length;for(let M=0;M<S;M++)s[u+M]=0;F.arraycopy(_,0,s,u+S,_.length)}}class an{constructor(){}static applyMaskPenaltyRule1(s){return an.applyMaskPenaltyRule1Internal(s,!0)+an.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let l=0;const u=s.getArray(),g=s.getWidth(),x=s.getHeight();for(let v=0;v<x-1;v++){const E=u[v];for(let _=0;_<g-1;_++){const S=E[_];S===E[_+1]&&S===u[v+1][_]&&S===u[v+1][_+1]&&l++}}return an.N2*l}static applyMaskPenaltyRule3(s){let l=0;const u=s.getArray(),g=s.getWidth(),x=s.getHeight();for(let v=0;v<x;v++)for(let E=0;E<g;E++){const _=u[v];E+6<g&&_[E]===1&&_[E+1]===0&&_[E+2]===1&&_[E+3]===1&&_[E+4]===1&&_[E+5]===0&&_[E+6]===1&&(an.isWhiteHorizontal(_,E-4,E)||an.isWhiteHorizontal(_,E+7,E+11))&&l++,v+6<x&&u[v][E]===1&&u[v+1][E]===0&&u[v+2][E]===1&&u[v+3][E]===1&&u[v+4][E]===1&&u[v+5][E]===0&&u[v+6][E]===1&&(an.isWhiteVertical(u,E,v-4,v)||an.isWhiteVertical(u,E,v+7,v+11))&&l++}return l*an.N3}static isWhiteHorizontal(s,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let g=l;g<u;g++)if(s[g]===1)return!1;return!0}static isWhiteVertical(s,l,u,g){u=Math.max(u,0),g=Math.min(g,s.length);for(let x=u;x<g;x++)if(s[x][l]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let l=0;const u=s.getArray(),g=s.getWidth(),x=s.getHeight();for(let _=0;_<x;_++){const S=u[_];for(let M=0;M<g;M++)S[M]===1&&l++}const v=s.getHeight()*s.getWidth();return Math.floor(Math.abs(l*2-v)*10/v)*an.N4}static getDataMaskBit(s,l,u){let g,x;switch(s){case 0:g=u+l&1;break;case 1:g=u&1;break;case 2:g=l%3;break;case 3:g=(u+l)%3;break;case 4:g=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:x=u*l,g=(x&1)+x%3;break;case 6:x=u*l,g=(x&1)+x%3&1;break;case 7:x=u*l,g=x%3+(u+l&1)&1;break;default:throw new b("Invalid mask pattern: "+s)}return g===0}static applyMaskPenaltyRule1Internal(s,l){let u=0;const g=l?s.getHeight():s.getWidth(),x=l?s.getWidth():s.getHeight(),v=s.getArray();for(let E=0;E<g;E++){let _=0,S=-1;for(let M=0;M<x;M++){const G=l?v[E][M]:v[M][E];G===S?_++:(_>=5&&(u+=an.N1+(_-5)),_=1,S=G)}_>=5&&(u+=an.N1+(_-5))}return u}}an.N1=3,an.N2=3,an.N3=40,an.N4=10;class CA{constructor(s,l){this.width=s,this.height=l;const u=new Array(l);for(let g=0;g!==l;g++)u[g]=new Uint8Array(s);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(s,l){return this.bytes[l][s]}getArray(){return this.bytes}setNumber(s,l,u){this.bytes[l][s]=u}setBoolean(s,l,u){this.bytes[l][s]=u?1:0}clear(s){for(const l of this.bytes)W.fill(l,s)}equals(s){if(!(s instanceof CA))return!1;const l=s;if(this.width!==l.width||this.height!==l.height)return!1;for(let u=0,g=this.height;u<g;++u){const x=this.bytes[u],v=l.bytes[u];for(let E=0,_=this.width;E<_;++E)if(x[E]!==v[E])return!1}return!0}toString(){const s=new z;for(let l=0,u=this.height;l<u;++l){const g=this.bytes[l];for(let x=0,v=this.width;x<v;++x)switch(g[x]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Ia{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new z;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Ia.NUM_MASK_PATTERNS}}Ia.NUM_MASK_PATTERNS=8;class Rr extends m{}Rr.kind="WriterException";class jt{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,l,u,g,x){jt.clearMatrix(x),jt.embedBasicPatterns(u,x),jt.embedTypeInfo(l,g,x),jt.maybeEmbedVersionInfo(u,x),jt.embedDataBits(s,g,x)}static embedBasicPatterns(s,l){jt.embedPositionDetectionPatternsAndSeparators(l),jt.embedDarkDotAtLeftBottomCorner(l),jt.maybeEmbedPositionAdjustmentPatterns(s,l),jt.embedTimingPatterns(l)}static embedTypeInfo(s,l,u){const g=new re;jt.makeTypeInfoBits(s,l,g);for(let x=0,v=g.getSize();x<v;++x){const E=g.get(g.getSize()-1-x),_=jt.TYPE_INFO_COORDINATES[x],S=_[0],M=_[1];if(u.setBoolean(S,M,E),x<8){const G=u.getWidth()-x-1;u.setBoolean(G,8,E)}else{const Z=u.getHeight()-7+(x-8);u.setBoolean(8,Z,E)}}}static maybeEmbedVersionInfo(s,l){if(s.getVersionNumber()<7)return;const u=new re;jt.makeVersionInfoBits(s,u);let g=17;for(let x=0;x<6;++x)for(let v=0;v<3;++v){const E=u.get(g);g--,l.setBoolean(x,l.getHeight()-11+v,E),l.setBoolean(l.getHeight()-11+v,x,E)}}static embedDataBits(s,l,u){let g=0,x=-1,v=u.getWidth()-1,E=u.getHeight()-1;for(;v>0;){for(v===6&&(v-=1);E>=0&&E<u.getHeight();){for(let _=0;_<2;++_){const S=v-_;if(!jt.isEmpty(u.get(S,E)))continue;let M;g<s.getSize()?(M=s.get(g),++g):M=!1,l!==255&&an.getDataMaskBit(l,S,E)&&(M=!M),u.setBoolean(S,E,M)}E+=x}x=-x,E+=x,v-=2}if(g!==s.getSize())throw new Rr("Not all bits consumed: "+g+"/"+s.getSize())}static findMSBSet(s){return 32-H.numberOfLeadingZeros(s)}static calculateBCHCode(s,l){if(l===0)throw new b("0 polynomial");const u=jt.findMSBSet(l);for(s<<=u-1;jt.findMSBSet(s)>=u;)s^=l<<jt.findMSBSet(s)-u;return s}static makeTypeInfoBits(s,l,u){if(!Ia.isValidMaskPattern(l))throw new Rr("Invalid mask pattern");const g=s.getBits()<<3|l;u.appendBits(g,5);const x=jt.calculateBCHCode(g,jt.TYPE_INFO_POLY);u.appendBits(x,10);const v=new re;if(v.appendBits(jt.TYPE_INFO_MASK_PATTERN,15),u.xor(v),u.getSize()!==15)throw new Rr("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(s,l){l.appendBits(s.getVersionNumber(),6);const u=jt.calculateBCHCode(s.getVersionNumber(),jt.VERSION_INFO_POLY);if(l.appendBits(u,12),l.getSize()!==18)throw new Rr("should not happen but we got: "+l.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let l=8;l<s.getWidth()-8;++l){const u=(l+1)%2;jt.isEmpty(s.get(l,6))&&s.setNumber(l,6,u),jt.isEmpty(s.get(6,l))&&s.setNumber(6,l,u)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Rr;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,l,u){for(let g=0;g<8;++g){if(!jt.isEmpty(u.get(s+g,l)))throw new Rr;u.setNumber(s+g,l,0)}}static embedVerticalSeparationPattern(s,l,u){for(let g=0;g<7;++g){if(!jt.isEmpty(u.get(s,l+g)))throw new Rr;u.setNumber(s,l+g,0)}}static embedPositionAdjustmentPattern(s,l,u){for(let g=0;g<5;++g){const x=jt.POSITION_ADJUSTMENT_PATTERN[g];for(let v=0;v<5;++v)u.setNumber(s+v,l+g,x[v])}}static embedPositionDetectionPattern(s,l,u){for(let g=0;g<7;++g){const x=jt.POSITION_DETECTION_PATTERN[g];for(let v=0;v<7;++v)u.setNumber(s+v,l+g,x[v])}}static embedPositionDetectionPatternsAndSeparators(s){const l=jt.POSITION_DETECTION_PATTERN[0].length;jt.embedPositionDetectionPattern(0,0,s),jt.embedPositionDetectionPattern(s.getWidth()-l,0,s),jt.embedPositionDetectionPattern(0,s.getWidth()-l,s);const u=8;jt.embedHorizontalSeparationPattern(0,u-1,s),jt.embedHorizontalSeparationPattern(s.getWidth()-u,u-1,s),jt.embedHorizontalSeparationPattern(0,s.getWidth()-u,s);const g=7;jt.embedVerticalSeparationPattern(g,0,s),jt.embedVerticalSeparationPattern(s.getHeight()-g-1,0,s),jt.embedVerticalSeparationPattern(g,s.getHeight()-g,s)}static maybeEmbedPositionAdjustmentPatterns(s,l){if(s.getVersionNumber()<2)return;const u=s.getVersionNumber()-1,g=jt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let x=0,v=g.length;x!==v;x++){const E=g[x];if(E>=0)for(let _=0;_!==v;_++){const S=g[_];S>=0&&jt.isEmpty(l.get(S,E))&&jt.embedPositionAdjustmentPattern(S-2,E-2,l)}}}}jt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),jt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),jt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),jt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),jt.VERSION_INFO_POLY=7973,jt.TYPE_INFO_POLY=1335,jt.TYPE_INFO_MASK_PATTERN=21522;class lc{constructor(s,l){this.dataBytes=s,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pr{constructor(){}static calculateMaskPenalty(s){return an.applyMaskPenaltyRule1(s)+an.applyMaskPenaltyRule2(s)+an.applyMaskPenaltyRule3(s)+an.applyMaskPenaltyRule4(s)}static encode(s,l,u=null){let g=Pr.DEFAULT_BYTE_MODE_ENCODING;const x=u!==null&&u.get(yn.CHARACTER_SET)!==void 0;x&&(g=u.get(yn.CHARACTER_SET).toString());const v=this.chooseMode(s,g),E=new re;if(v===Qt.BYTE&&(x||Pr.DEFAULT_BYTE_MODE_ENCODING!==g)){const mt=k.getCharacterSetECIByName(g);mt!==void 0&&this.appendECI(mt,E)}this.appendModeInfo(v,E);const _=new re;this.appendBytes(s,v,_,g);let S;if(u!==null&&u.get(yn.QR_VERSION)!==void 0){const mt=Number.parseInt(u.get(yn.QR_VERSION).toString(),10);S=yt.getVersionForNumber(mt);const ut=this.calculateBitsNeeded(v,E,_,S);if(!this.willFit(ut,S,l))throw new Rr("Data too big for requested version")}else S=this.recommendVersion(l,v,E,_);const M=new re;M.appendBitArray(E);const G=v===Qt.BYTE?_.getSizeInBytes():s.length;this.appendLengthInfo(G,S,v,M),M.appendBitArray(_);const Z=S.getECBlocksForLevel(l),pe=S.getTotalCodewords()-Z.getTotalECCodewords();this.terminateBits(pe,M);const be=this.interleaveWithECBytes(M,S.getTotalCodewords(),pe,Z.getNumBlocks()),Te=new Ia;Te.setECLevel(l),Te.setMode(v),Te.setVersion(S);const Oe=S.getDimensionForVersion(),qe=new CA(Oe,Oe),wt=this.chooseMaskPattern(be,l,S,qe);return Te.setMaskPattern(wt),jt.buildMatrix(be,l,S,wt,qe),Te.setMatrix(qe),Te}static recommendVersion(s,l,u,g){const x=this.calculateBitsNeeded(l,u,g,yt.getVersionForNumber(1)),v=this.chooseVersion(x,s),E=this.calculateBitsNeeded(l,u,g,v);return this.chooseVersion(E,s)}static calculateBitsNeeded(s,l,u,g){return l.getSize()+s.getCharacterCountBits(g)+u.getSize()}static getAlphanumericCode(s){return s<Pr.ALPHANUMERIC_TABLE.length?Pr.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,l=null){if(k.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(s))return Qt.KANJI;let u=!1,g=!1;for(let x=0,v=s.length;x<v;++x){const E=s.charAt(x);if(Pr.isDigit(E))u=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)g=!0;else return Qt.BYTE}return g?Qt.ALPHANUMERIC:u?Qt.NUMERIC:Qt.BYTE}static isOnlyDoubleByteKanji(s){let l;try{l=q.encode(s,k.SJIS)}catch{return!1}const u=l.length;if(u%2!==0)return!1;for(let g=0;g<u;g+=2){const x=l[g]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(s,l,u,g){let x=Number.MAX_SAFE_INTEGER,v=-1;for(let E=0;E<Ia.NUM_MASK_PATTERNS;E++){jt.buildMatrix(s,l,u,E,g);let _=this.calculateMaskPenalty(g);_<x&&(x=_,v=E)}return v}static chooseVersion(s,l){for(let u=1;u<=40;u++){const g=yt.getVersionForNumber(u);if(Pr.willFit(s,g,l))return g}throw new Rr("Data too big")}static willFit(s,l,u){const g=l.getTotalCodewords(),v=l.getECBlocksForLevel(u).getTotalECCodewords(),E=g-v,_=(s+7)/8;return E>=_}static terminateBits(s,l){const u=s*8;if(l.getSize()>u)throw new Rr("data bits cannot fit in the QR Code"+l.getSize()+" > "+u);for(let v=0;v<4&&l.getSize()<u;++v)l.appendBit(!1);const g=l.getSize()&7;if(g>0)for(let v=g;v<8;v++)l.appendBit(!1);const x=s-l.getSizeInBytes();for(let v=0;v<x;++v)l.appendBits((v&1)===0?236:17,8);if(l.getSize()!==u)throw new Rr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,l,u,g,x,v){if(g>=u)throw new Rr("Block ID too large");const E=s%u,_=u-E,S=Math.floor(s/u),M=S+1,G=Math.floor(l/u),Z=G+1,pe=S-G,be=M-Z;if(pe!==be)throw new Rr("EC bytes mismatch");if(u!==_+E)throw new Rr("RS blocks mismatch");if(s!==(G+pe)*_+(Z+be)*E)throw new Rr("Total bytes mismatch");g<_?(x[0]=G,v[0]=pe):(x[0]=Z,v[0]=be)}static interleaveWithECBytes(s,l,u,g){if(s.getSizeInBytes()!==u)throw new Rr("Number of bits and data bytes does not match");let x=0,v=0,E=0;const _=new Array;for(let M=0;M<g;++M){const G=new Int32Array(1),Z=new Int32Array(1);Pr.getNumDataBytesAndNumECBytesForBlockID(l,u,g,M,G,Z);const pe=G[0],be=new Uint8Array(pe);s.toBytes(8*x,be,0,pe);const Te=Pr.generateECBytes(be,Z[0]);_.push(new lc(be,Te)),v=Math.max(v,pe),E=Math.max(E,Te.length),x+=G[0]}if(u!==x)throw new Rr("Data bytes does not match offset");const S=new re;for(let M=0;M<v;++M)for(const G of _){const Z=G.getDataBytes();M<Z.length&&S.appendBits(Z[M],8)}for(let M=0;M<E;++M)for(const G of _){const Z=G.getErrorCorrectionBytes();M<Z.length&&S.appendBits(Z[M],8)}if(l!==S.getSizeInBytes())throw new Rr("Interleaving error: "+l+" and "+S.getSizeInBytes()+" differ.");return S}static generateECBytes(s,l){const u=s.length,g=new Int32Array(u+l);for(let v=0;v<u;v++)g[v]=s[v]&255;new ds(_t.QR_CODE_FIELD_256).encode(g,l);const x=new Uint8Array(l);for(let v=0;v<l;v++)x[v]=g[u+v];return x}static appendModeInfo(s,l){l.appendBits(s.getBits(),4)}static appendLengthInfo(s,l,u,g){const x=u.getCharacterCountBits(l);if(s>=1<<x)throw new Rr(s+" is bigger than "+((1<<x)-1));g.appendBits(s,x)}static appendBytes(s,l,u,g){switch(l){case Qt.NUMERIC:Pr.appendNumericBytes(s,u);break;case Qt.ALPHANUMERIC:Pr.appendAlphanumericBytes(s,u);break;case Qt.BYTE:Pr.append8BitBytes(s,u,g);break;case Qt.KANJI:Pr.appendKanjiBytes(s,u);break;default:throw new Rr("Invalid mode: "+l)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const l=Pr.getDigit(s);return l>=0&&l<=9}static appendNumericBytes(s,l){const u=s.length;let g=0;for(;g<u;){const x=Pr.getDigit(s.charAt(g));if(g+2<u){const v=Pr.getDigit(s.charAt(g+1)),E=Pr.getDigit(s.charAt(g+2));l.appendBits(x*100+v*10+E,10),g+=3}else if(g+1<u){const v=Pr.getDigit(s.charAt(g+1));l.appendBits(x*10+v,7),g+=2}else l.appendBits(x,4),g++}}static appendAlphanumericBytes(s,l){const u=s.length;let g=0;for(;g<u;){const x=Pr.getAlphanumericCode(s.charCodeAt(g));if(x===-1)throw new Rr;if(g+1<u){const v=Pr.getAlphanumericCode(s.charCodeAt(g+1));if(v===-1)throw new Rr;l.appendBits(x*45+v,11),g+=2}else l.appendBits(x,6),g++}}static append8BitBytes(s,l,u){let g;try{g=q.encode(s,u)}catch(x){throw new Rr(x)}for(let x=0,v=g.length;x!==v;x++){const E=g[x];l.appendBits(E,8)}}static appendKanjiBytes(s,l){let u;try{u=q.encode(s,k.SJIS)}catch(x){throw new Rr(x)}const g=u.length;for(let x=0;x<g;x+=2){const v=u[x]&255,E=u[x+1]&255,_=v<<8&4294967295|E;let S=-1;if(_>=33088&&_<=40956?S=_-33088:_>=57408&&_<=60351&&(S=_-49472),S===-1)throw new Rr("Invalid byte sequence");const M=(S>>8)*192+(S&255);l.appendBits(M,13)}}static appendECI(s,l){l.appendBits(Qt.ECI.getBits(),4),l.appendBits(s.getValue(),8)}}Pr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pr.DEFAULT_BYTE_MODE_ENCODING=k.UTF8.getName();class Ri{write(s,l,u,g=null){if(s.length===0)throw new b("Found empty contents");if(l<0||u<0)throw new b("Requested dimensions are too small: "+l+"x"+u);let x=Yt.L,v=Ri.QUIET_ZONE_SIZE;g!==null&&(g.get(yn.ERROR_CORRECTION)!==void 0&&(x=Yt.fromString(g.get(yn.ERROR_CORRECTION).toString())),g.get(yn.MARGIN)!==void 0&&(v=Number.parseInt(g.get(yn.MARGIN).toString(),10)));const E=Pr.encode(s,x,g);return this.renderResult(E,l,u,v)}writeToDom(s,l,u,g,x=null){typeof s=="string"&&(s=document.querySelector(s));const v=this.write(l,u,g,x);s&&s.appendChild(v)}renderResult(s,l,u,g){const x=s.getMatrix();if(x===null)throw new Ut;const v=x.getWidth(),E=x.getHeight(),_=v+g*2,S=E+g*2,M=Math.max(l,_),G=Math.max(u,S),Z=Math.min(Math.floor(M/_),Math.floor(G/S)),pe=Math.floor((M-v*Z)/2),be=Math.floor((G-E*Z)/2),Te=this.createSVGElement(M,G);for(let Oe=0,qe=be;Oe<E;Oe++,qe+=Z)for(let wt=0,mt=pe;wt<v;wt++,mt+=Z)if(x.get(wt,Oe)===1){const ut=this.createSvgRectElement(mt,qe,Z,Z);Te.appendChild(ut)}return Te}createSVGElement(s,l){const u=document.createElementNS(Ri.SVG_NS,"svg");return u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(s,l,u,g){const x=document.createElementNS(Ri.SVG_NS,"rect");return x.setAttributeNS(null,"x",s.toString()),x.setAttributeNS(null,"y",l.toString()),x.setAttributeNS(null,"height",u.toString()),x.setAttributeNS(null,"width",g.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Ri.QUIET_ZONE_SIZE=4,Ri.SVG_NS="http://www.w3.org/2000/svg";class Un{encode(s,l,u,g,x){if(s.length===0)throw new b("Found empty contents");if(l!==xe.QR_CODE)throw new b("Can only encode QR_CODE, but got "+l);if(u<0||g<0)throw new b(`Requested dimensions are too small: ${u}x${g}`);let v=Yt.L,E=Un.QUIET_ZONE_SIZE;x!==null&&(x.get(yn.ERROR_CORRECTION)!==void 0&&(v=Yt.fromString(x.get(yn.ERROR_CORRECTION).toString())),x.get(yn.MARGIN)!==void 0&&(E=Number.parseInt(x.get(yn.MARGIN).toString(),10)));const _=Pr.encode(s,v,x);return Un.renderResult(_,u,g,E)}static renderResult(s,l,u,g){const x=s.getMatrix();if(x===null)throw new Ut;const v=x.getWidth(),E=x.getHeight(),_=v+g*2,S=E+g*2,M=Math.max(l,_),G=Math.max(u,S),Z=Math.min(Math.floor(M/_),Math.floor(G/S)),pe=Math.floor((M-v*Z)/2),be=Math.floor((G-E*Z)/2),Te=new ze(M,G);for(let Oe=0,qe=be;Oe<E;Oe++,qe+=Z)for(let wt=0,mt=pe;wt<v;wt++,mt+=Z)x.get(wt,Oe)===1&&Te.setRegion(mt,qe,Z,Z);return Te}}Un.QUIET_ZONE_SIZE=4;class cc{encode(s,l,u,g,x){let v;switch(l){case xe.QR_CODE:v=new Un;break;default:throw new b("No encoder available for format "+l)}return v.encode(s,l,u,g,x)}}class fi extends Pe{constructor(s,l,u,g,x,v,E,_){if(super(v,E),this.yuvData=s,this.dataWidth=l,this.dataHeight=u,this.left=g,this.top=x,g+v>l||x+E>u)throw new b("Crop rectangle does not fit within image data.");_&&this.reverseHorizontal(v,E)}getRow(s,l){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const g=(s+this.top)*this.dataWidth+this.left;return F.arraycopy(this.yuvData,g,l,0,u),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=s*l,g=new Uint8ClampedArray(u);let x=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return F.arraycopy(this.yuvData,x,g,0,u),g;for(let v=0;v<l;v++){const E=v*s;F.arraycopy(this.yuvData,x,g,E,s),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(s,l,u,g){return new fi(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+l,u,g,!1)}renderThumbnail(){const s=this.getWidth()/fi.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/fi.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(s*l),g=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let v=0;v<l;v++){const E=v*s;for(let _=0;_<s;_++){const S=g[x+_*fi.THUMBNAIL_SCALE_FACTOR]&255;u[E+_]=4278190080|S*65793}x+=this.dataWidth*fi.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/fi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/fi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,l){const u=this.yuvData;for(let g=0,x=this.top*this.dataWidth+this.left;g<l;g++,x+=this.dataWidth){const v=x+s/2;for(let E=x,_=x+s-1;E<v;E++,_--){const S=u[E];u[E]=u[_],u[_]=S}}}invert(){return new Ee(this)}}fi.THUMBNAIL_SCALE_FACTOR=2;class gs extends Pe{constructor(s,l,u,g,x,v,E){if(super(l,u),this.dataWidth=g,this.dataHeight=x,this.left=v,this.top=E,s.BYTES_PER_ELEMENT===4){const _=l*u,S=new Uint8ClampedArray(_);for(let M=0;M<_;M++){const G=s[M],Z=G>>16&255,pe=G>>7&510,be=G&255;S[M]=(Z+pe+be)/4&255}this.luminances=S}else this.luminances=s;if(g===void 0&&(this.dataWidth=l),x===void 0&&(this.dataHeight=u),v===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+u>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(s,l){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const g=(s+this.top)*this.dataWidth+this.left;return F.arraycopy(this.luminances,g,l,0,u),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.luminances;const u=s*l,g=new Uint8ClampedArray(u);let x=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return F.arraycopy(this.luminances,x,g,0,u),g;for(let v=0;v<l;v++){const E=v*s;F.arraycopy(this.luminances,x,g,E,s),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(s,l,u,g){return new gs(this.luminances,u,g,this.dataWidth,this.dataHeight,this.left+s,this.top+l)}invert(){return new Ee(this)}}class C extends k{static forName(s){return this.getCharacterSetECIByName(s)}}class O{}O.ISO_8859_1=k.ISO8859_1;class j{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class ie{static singletonList(s){return[s]}static min(s,l){return s.sort(l)[0]}}class Me{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Ze extends Me{constructor(s,l,u){super(s),this.value=l,this.bitCount=u}appendTo(s,l){s.appendBits(this.value,this.bitCount)}add(s,l){return new Ze(this,s,l)}addBinaryShift(s,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ze(this,s,l)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+H.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class bt extends Ze{constructor(s,l,u){super(s,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=u}appendTo(s,l){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):u===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(l[this.binaryShiftStart+u],8)}addBinaryShift(s,l){return new bt(this,s,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ur(P,s,l){return new bt(P,s,l)}function un(P,s,l){return new Ze(P,s,l)}const hr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],sn=0,Tn=1,Gn=2,Sa=3,ya=4,Ms=new Ze(null,0,0),BA=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function dg(P){for(let s of P)W.fill(s,-1);return P[sn][ya]=0,P[Tn][ya]=0,P[Tn][sn]=28,P[Sa][ya]=0,P[Gn][ya]=0,P[Gn][sn]=15,P}const fl=dg(W.createInt32Array(6,6));class qi{constructor(s,l,u,g){this.token=s,this.mode=l,this.binaryShiftByteCount=u,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,l){let u=this.bitCount,g=this.token;if(s!==this.mode){let v=BA[this.mode][s];g=un(g,v&65535,v>>16),u+=v>>16}let x=s===Gn?4:5;return g=un(g,l,x),new qi(g,s,0,u+x)}shiftAndAppend(s,l){let u=this.token,g=this.mode===Gn?4:5;return u=un(u,fl[this.mode][s],g),u=un(u,l,5),new qi(u,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(s){let l=this.token,u=this.mode,g=this.bitCount;if(this.mode===ya||this.mode===Gn){let E=BA[u][sn];l=un(l,E&65535,E>>16),g+=E>>16,u=sn}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,v=new qi(l,u,this.binaryShiftByteCount+1,g+x);return v.binaryShiftByteCount===2078&&(v=v.endBinaryShift(s+1)),v}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=Ur(l,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new qi(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let l=this.bitCount+(BA[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?l+=qi.calculateBinaryShiftCost(s)-qi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(l+=10),l<=s.bitCount}toBitArray(s){let l=[];for(let g=this.endBinaryShift(s.length).token;g!==null;g=g.getPrevious())l.unshift(g);let u=new re;for(const g of l)g.appendTo(u,s);return u}toString(){return V.format("%s bits=%d bytes=%d",hr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}qi.INITIAL_STATE=new qi(Ms,sn,0,0);function Uf(P){const s=V.getCharCode(" "),l=V.getCharCode("."),u=V.getCharCode(",");P[sn][s]=1;const g=V.getCharCode("Z"),x=V.getCharCode("A");for(let Z=x;Z<=g;Z++)P[sn][Z]=Z-x+2;P[Tn][s]=1;const v=V.getCharCode("z"),E=V.getCharCode("a");for(let Z=E;Z<=v;Z++)P[Tn][Z]=Z-E+2;P[Gn][s]=1;const _=V.getCharCode("9"),S=V.getCharCode("0");for(let Z=S;Z<=_;Z++)P[Gn][Z]=Z-S+2;P[Gn][u]=12,P[Gn][l]=13;const M=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Z=0;Z<M.length;Z++)P[Sa][V.getCharCode(M[Z])]=Z;const G=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Z=0;Z<G.length;Z++)V.getCharCode(G[Z])>0&&(P[ya][V.getCharCode(G[Z])]=Z);return P}const hl=Uf(W.createInt32Array(5,256));class bA{constructor(s){this.text=s}encode(){const s=V.getCharCode(" "),l=V.getCharCode(`
`);let u=ie.singletonList(qi.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let v,E=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case V.getCharCode("\r"):v=E===l?2:0;break;case V.getCharCode("."):v=E===s?3:0;break;case V.getCharCode(","):v=E===s?4:0;break;case V.getCharCode(":"):v=E===s?5:0;break;default:v=0}v>0?(u=bA.updateStateListForPair(u,x,v),x++):u=this.updateStateListForChar(u,x)}return ie.min(u,(x,v)=>x.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,l){const u=[];for(let g of s)this.updateStateForChar(g,l,u);return bA.simplifyStates(u)}updateStateForChar(s,l,u){let g=this.text[l]&255,x=hl[s.getMode()][g]>0,v=null;for(let E=0;E<=ya;E++){let _=hl[E][g];if(_>0){if(v==null&&(v=s.endBinaryShift(l)),!x||E===s.getMode()||E===Gn){const S=v.latchAndAppend(E,_);u.push(S)}if(!x&&fl[s.getMode()][E]>=0){const S=v.shiftAndAppend(E,_);u.push(S)}}}if(s.getBinaryShiftByteCount()>0||hl[s.getMode()][g]===0){let E=s.addBinaryShiftChar(l);u.push(E)}}static updateStateListForPair(s,l,u){const g=[];for(let x of s)this.updateStateForPair(x,l,u,g);return this.simplifyStates(g)}static updateStateForPair(s,l,u,g){let x=s.endBinaryShift(l);if(g.push(x.latchAndAppend(ya,u)),s.getMode()!==ya&&g.push(x.shiftAndAppend(ya,u)),u===3||u===4){let v=x.latchAndAppend(Gn,16-u).latchAndAppend(Gn,1);g.push(v)}if(s.getBinaryShiftByteCount()>0){let v=s.addBinaryShiftChar(l).addBinaryShiftChar(l+1);g.push(v)}}static simplifyStates(s){let l=[];for(const u of s){let g=!0;for(const x of l){if(x.isBetterThanOrEqualTo(u)){g=!1;break}u.isBetterThanOrEqualTo(x)&&(l=l.filter(v=>v!==x))}g&&l.push(u)}return l}}class wr{constructor(){}static encodeBytes(s){return wr.encode(s,wr.DEFAULT_EC_PERCENT,wr.DEFAULT_AZTEC_LAYERS)}static encode(s,l,u){let g=new bA(s).encode(),x=H.truncDivision(g.getSize()*l,100)+11,v=g.getSize()+x,E,_,S,M,G;if(u!==wr.DEFAULT_AZTEC_LAYERS){if(E=u<0,_=Math.abs(u),_>(E?wr.MAX_NB_BITS_COMPACT:wr.MAX_NB_BITS))throw new b(V.format("Illegal value %s for layers",u));S=wr.totalBitsInLayer(_,E),M=wr.WORD_SIZE[_];let ut=S-S%M;if(G=wr.stuffBits(g,M),G.getSize()+x>ut)throw new b("Data to large for user specified layer");if(E&&G.getSize()>M*64)throw new b("Data to large for user specified layer")}else{M=0,G=null;for(let ut=0;;ut++){if(ut>wr.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(E=ut<=3,_=E?ut+1:ut,S=wr.totalBitsInLayer(_,E),v>S)continue;(G==null||M!==wr.WORD_SIZE[_])&&(M=wr.WORD_SIZE[_],G=wr.stuffBits(g,M));let gr=S-S%M;if(!(E&&G.getSize()>M*64)&&G.getSize()+x<=gr)break}}let Z=wr.generateCheckWords(G,S,M),pe=G.getSize()/M,be=wr.generateModeMessage(E,_,pe),Te=(E?11:14)+_*4,Oe=new Int32Array(Te),qe;if(E){qe=Te;for(let ut=0;ut<Oe.length;ut++)Oe[ut]=ut}else{qe=Te+1+2*H.truncDivision(H.truncDivision(Te,2)-1,15);let ut=H.truncDivision(Te,2),gr=H.truncDivision(qe,2);for(let tr=0;tr<ut;tr++){let kn=tr+H.truncDivision(tr,15);Oe[ut-tr-1]=gr-kn-1,Oe[ut+tr]=gr+kn+1}}let wt=new ze(qe);for(let ut=0,gr=0;ut<_;ut++){let tr=(_-ut)*4+(E?9:12);for(let kn=0;kn<tr;kn++){let Di=kn*2;for(let Na=0;Na<2;Na++)Z.get(gr+Di+Na)&&wt.set(Oe[ut*2+Na],Oe[ut*2+kn]),Z.get(gr+tr*2+Di+Na)&&wt.set(Oe[ut*2+kn],Oe[Te-1-ut*2-Na]),Z.get(gr+tr*4+Di+Na)&&wt.set(Oe[Te-1-ut*2-Na],Oe[Te-1-ut*2-kn]),Z.get(gr+tr*6+Di+Na)&&wt.set(Oe[Te-1-ut*2-kn],Oe[ut*2+Na])}gr+=tr*8}if(wr.drawModeMessage(wt,E,qe,be),E)wr.drawBullsEye(wt,H.truncDivision(qe,2),5);else{wr.drawBullsEye(wt,H.truncDivision(qe,2),7);for(let ut=0,gr=0;ut<H.truncDivision(Te,2)-1;ut+=15,gr+=16)for(let tr=H.truncDivision(qe,2)&1;tr<qe;tr+=2)wt.set(H.truncDivision(qe,2)-gr,tr),wt.set(H.truncDivision(qe,2)+gr,tr),wt.set(tr,H.truncDivision(qe,2)-gr),wt.set(tr,H.truncDivision(qe,2)+gr)}let mt=new j;return mt.setCompact(E),mt.setSize(qe),mt.setLayers(_),mt.setCodeWords(pe),mt.setMatrix(wt),mt}static drawBullsEye(s,l,u){for(let g=0;g<u;g+=2)for(let x=l-g;x<=l+g;x++)s.set(x,l-g),s.set(x,l+g),s.set(l-g,x),s.set(l+g,x);s.set(l-u,l-u),s.set(l-u+1,l-u),s.set(l-u,l-u+1),s.set(l+u,l-u),s.set(l+u,l-u+1),s.set(l+u,l+u-1)}static generateModeMessage(s,l,u){let g=new re;return s?(g.appendBits(l-1,2),g.appendBits(u-1,6),g=wr.generateCheckWords(g,28,4)):(g.appendBits(l-1,5),g.appendBits(u-1,11),g=wr.generateCheckWords(g,40,4)),g}static drawModeMessage(s,l,u,g){let x=H.truncDivision(u,2);if(l)for(let v=0;v<7;v++){let E=x-3+v;g.get(v)&&s.set(E,x-5),g.get(v+7)&&s.set(x+5,E),g.get(20-v)&&s.set(E,x+5),g.get(27-v)&&s.set(x-5,E)}else for(let v=0;v<10;v++){let E=x-5+v+H.truncDivision(v,5);g.get(v)&&s.set(E,x-7),g.get(v+10)&&s.set(x+7,E),g.get(29-v)&&s.set(E,x+7),g.get(39-v)&&s.set(x-7,E)}}static generateCheckWords(s,l,u){let g=s.getSize()/u,x=new ds(wr.getGF(u)),v=H.truncDivision(l,u),E=wr.bitsToWords(s,u,v);x.encode(E,v-g);let _=l%u,S=new re;S.appendBits(0,_);for(const M of Array.from(E))S.appendBits(M,u);return S}static bitsToWords(s,l,u){let g=new Int32Array(u),x,v;for(x=0,v=s.getSize()/l;x<v;x++){let E=0;for(let _=0;_<l;_++)E|=s.get(x*l+_)?1<<l-_-1:0;g[x]=E}return g}static getGF(s){switch(s){case 4:return _t.AZTEC_PARAM;case 6:return _t.AZTEC_DATA_6;case 8:return _t.AZTEC_DATA_8;case 10:return _t.AZTEC_DATA_10;case 12:return _t.AZTEC_DATA_12;default:throw new b("Unsupported word size "+s)}}static stuffBits(s,l){let u=new re,g=s.getSize(),x=(1<<l)-2;for(let v=0;v<g;v+=l){let E=0;for(let _=0;_<l;_++)(v+_>=g||s.get(v+_))&&(E|=1<<l-1-_);(E&x)===x?(u.appendBits(E&x,l),v--):(E&x)===0?(u.appendBits(E|1,l),v--):u.appendBits(E,l)}return u}static totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}wr.DEFAULT_EC_PERCENT=33,wr.DEFAULT_AZTEC_LAYERS=0,wr.MAX_NB_BITS=32,wr.MAX_NB_BITS_COMPACT=4,wr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class dl{encode(s,l,u,g){return this.encodeWithHints(s,l,u,g,null)}encodeWithHints(s,l,u,g,x){let v=O.ISO_8859_1,E=wr.DEFAULT_EC_PERCENT,_=wr.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(yn.CHARACTER_SET)&&(v=C.forName(x.get(yn.CHARACTER_SET).toString())),x.has(yn.ERROR_CORRECTION)&&(E=H.parseInt(x.get(yn.ERROR_CORRECTION).toString())),x.has(yn.AZTEC_LAYERS)&&(_=H.parseInt(x.get(yn.AZTEC_LAYERS).toString()))),dl.encodeLayers(s,l,u,g,v,E,_)}static encodeLayers(s,l,u,g,x,v,E){if(l!==xe.AZTEC)throw new b("Can only encode AZTEC, but got "+l);let _=wr.encode(V.getBytes(s,x),v,E);return dl.renderResult(_,u,g)}static renderResult(s,l,u){let g=s.getMatrix();if(g==null)throw new Ut;let x=g.getWidth(),v=g.getHeight(),E=Math.max(l,x),_=Math.max(u,v),S=Math.min(E/x,_/v),M=(E-x*S)/2,G=(_-v*S)/2,Z=new ze(E,_);for(let pe=0,be=G;pe<v;pe++,be+=S)for(let Te=0,Oe=M;Te<x;Te++,Oe+=S)g.get(Te,pe)&&Z.setRegion(Oe,be,S,S);return Z}}r.AbstractExpandedDecoder=Ae,r.ArgumentException=y,r.ArithmeticException=he,r.AztecCode=j,r.AztecCodeReader=at,r.AztecCodeWriter=dl,r.AztecDecoder=ht,r.AztecDetector=Kt,r.AztecDetectorResult=ln,r.AztecEncoder=wr,r.AztecHighLevelEncoder=bA,r.AztecPoint=fr,r.BarcodeFormat=xe,r.Binarizer=R,r.BinaryBitmap=I,r.BitArray=re,r.BitMatrix=ze,r.BitSource=za,r.BrowserAztecCodeReader=Fe,r.BrowserBarcodeReader=Os,r.BrowserCodeReader=ce,r.BrowserDatamatrixCodeReader=io,r.BrowserMultiFormatReader=cl,r.BrowserPDF417Reader=oc,r.BrowserQRCodeReader=ul,r.BrowserQRCodeSvgWriter=Ri,r.CharacterSetECI=k,r.ChecksumException=N,r.Code128Reader=ye,r.Code39Reader=nt,r.DataMatrixDecodedBitStreamParser=Wi,r.DataMatrixReader=Bi,r.DecodeHintType=ee,r.DecoderResult=Ce,r.DefaultGridSampler=Xt,r.DetectorResult=wn,r.EAN13Reader=Jn,r.EncodeHintType=yn,r.Exception=m,r.FormatException=U,r.GenericGF=_t,r.GenericGFPoly=xt,r.GlobalHistogramBinarizer=me,r.GridSampler=Tt,r.GridSamplerInstance=or,r.HTMLCanvasElementLuminanceSource=$e,r.HybridBinarizer=oe,r.ITFReader=st,r.IllegalArgumentException=b,r.IllegalStateException=Ut,r.InvertedLuminanceSource=Ee,r.LuminanceSource=Pe,r.MathUtils=Et,r.MultiFormatOneDReader=bn,r.MultiFormatReader=tA,r.MultiFormatWriter=cc,r.NotFoundException=ve,r.OneDReader=Je,r.PDF417DecodedBitStreamParser=Ye,r.PDF417DecoderErrorCorrection=Xa,r.PDF417Reader=Vn,r.PDF417ResultMetadata=Us,r.PerspectiveTransform=Bt,r.PlanarYUVLuminanceSource=fi,r.QRCodeByteMatrix=CA,r.QRCodeDataMask=Pn,r.QRCodeDecodedBitStreamParser=zr,r.QRCodeDecoderErrorCorrectionLevel=Yt,r.QRCodeDecoderFormatInformation=gn,r.QRCodeEncoder=Pr,r.QRCodeEncoderQRCode=Ia,r.QRCodeMaskUtil=an,r.QRCodeMatrixUtil=jt,r.QRCodeMode=Qt,r.QRCodeReader=Xi,r.QRCodeVersion=yt,r.QRCodeWriter=Un,r.RGBLuminanceSource=gs,r.RSS14Reader=Ht,r.RSSExpandedReader=rt,r.ReaderException=yA,r.ReedSolomonDecoder=Ie,r.ReedSolomonEncoder=ds,r.ReedSolomonException=Rt,r.Result=le,r.ResultMetadataType=Se,r.ResultPoint=Ct,r.StringUtils=V,r.UnsupportedOperationException=Y,r.VideoInputDevice=ge,r.WhiteRectangleDetector=je,r.WriterException=Rr,r.ZXingArrays=W,r.ZXingCharset=C,r.ZXingInteger=H,r.ZXingStandardCharsets=O,r.ZXingStringBuilder=z,r.ZXingStringEncoding=q,r.ZXingSystem=F,r.createAbstractExpandedDecoder=pt,Object.defineProperty(r,"__esModule",{value:!0})}))})(Bu,Bu.exports)),Bu.exports}var In=ZH();const $H=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var tb=(function(){function e(t,r,n){if(this.formatMap=new Map([[Ot.QR_CODE,In.BarcodeFormat.QR_CODE],[Ot.AZTEC,In.BarcodeFormat.AZTEC],[Ot.CODABAR,In.BarcodeFormat.CODABAR],[Ot.CODE_39,In.BarcodeFormat.CODE_39],[Ot.CODE_93,In.BarcodeFormat.CODE_93],[Ot.CODE_128,In.BarcodeFormat.CODE_128],[Ot.DATA_MATRIX,In.BarcodeFormat.DATA_MATRIX],[Ot.MAXICODE,In.BarcodeFormat.MAXICODE],[Ot.ITF,In.BarcodeFormat.ITF],[Ot.EAN_13,In.BarcodeFormat.EAN_13],[Ot.EAN_8,In.BarcodeFormat.EAN_8],[Ot.PDF_417,In.BarcodeFormat.PDF_417],[Ot.RSS_14,In.BarcodeFormat.RSS_14],[Ot.RSS_EXPANDED,In.BarcodeFormat.RSS_EXPANDED],[Ot.UPC_A,In.BarcodeFormat.UPC_A],[Ot.UPC_E,In.BarcodeFormat.UPC_E],[Ot.UPC_EAN_EXTENSION,In.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!$H)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var a=this.createZXingFormats(t),A=new Map;A.set(In.DecodeHintType.POSSIBLE_FORMATS,a),A.set(In.DecodeHintType.TRY_HARDER,!1),this.hints=A}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,a){try{n(r.decode(t))}catch(A){a(A)}})},e.prototype.decode=function(t){var r=new In.MultiFormatReader(this.verbose,this.hints),n=new In.HTMLCanvasElementLuminanceSource(t),a=new In.BinaryBitmap(new In.HybridBinarizer(n)),A=r.decode(a);return{text:A.text,format:fI.create(this.toHtml5QrcodeSupportedFormats(A.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,a){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,a=t;n<a.length;n++){var A=a[n];this.formatMap.has(A)?r.push(this.formatMap.get(A)):this.logger.logError("".concat(A," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),eP=function(e,t,r,n){function a(A){return A instanceof r?A:new r(function(c){c(A)})}return new(r||(r=Promise))(function(A,c){function d(y){try{m(n.next(y))}catch(b){c(b)}}function p(y){try{m(n.throw(y))}catch(b){c(b)}}function m(y){y.done?A(y.value):a(y.value).then(d,p)}m((n=n.apply(e,t||[])).next())})},tP=function(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,a,A,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(y){return p([m,y])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(A=m[0]&2?a.return:m[0]?a.throw||((A=a.return)&&A.call(a),0):a.next)&&!(A=A.call(a,m[1])).done)return A;switch(a=0,A&&(m=[m[0]&2,A.value]),m[0]){case 0:case 1:A=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!A||m[1]>A[0]&&m[1]<A[3])){r.label=m[1];break}if(m[0]===6&&r.label<A[1]){r.label=A[1],A=m;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(m);break}A[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(y){m=[6,y],a=0}finally{n=A=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},rb=(function(){function e(t,r,n){if(this.formatMap=new Map([[Ot.QR_CODE,"qr_code"],[Ot.AZTEC,"aztec"],[Ot.CODABAR,"codabar"],[Ot.CODE_39,"code_39"],[Ot.CODE_93,"code_93"],[Ot.CODE_128,"code_128"],[Ot.DATA_MATRIX,"data_matrix"],[Ot.ITF,"itf"],[Ot.EAN_13,"ean_13"],[Ot.EAN_8,"ean_8"],[Ot.PDF_417,"pdf417"],[Ot.UPC_A,"upc_a"],[Ot.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return eP(this,void 0,void 0,function(){var r,n;return tP(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=a.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:fI.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,a=0,A=t;a<A.length;a++){var c=A[a],d=c.boundingBox.width*c.boundingBox.height;d>n&&(n=d,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,a=t;n<a.length;n++){var A=a[n];this.formatMap.has(A)?r.push(this.formatMap.get(A)):this.logger.warn("".concat(A," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,a){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),nb=function(e,t,r,n){function a(A){return A instanceof r?A:new r(function(c){c(A)})}return new(r||(r=Promise))(function(A,c){function d(y){try{m(n.next(y))}catch(b){c(b)}}function p(y){try{m(n.throw(y))}catch(b){c(b)}}function m(y){y.done?A(y.value):a(y.value).then(d,p)}m((n=n.apply(e,t||[])).next())})},ab=function(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,a,A,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(y){return p([m,y])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(A=m[0]&2?a.return:m[0]?a.throw||((A=a.return)&&A.call(a),0):a.next)&&!(A=A.call(a,m[1])).done)return A;switch(a=0,A&&(m=[m[0]&2,A.value]),m[0]){case 0:case 1:A=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!A||m[1]>A[0]&&m[1]<A[3])){r.label=m[1];break}if(m[0]===6&&r.label<A[1]){r.label=A[1],A=m;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(m);break}A[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(y){m=[6,y],a=0}finally{n=A=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},rP=(function(){function e(t,r,n,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&rb.isSupported()?(this.primaryDecoder=new rb(t,n,a),this.secondaryDecoder=new tb(t,n,a)):this.primaryDecoder=new tb(t,n,a)}return e.prototype.decodeAsync=function(t){return nb(this,void 0,void 0,function(){var r;return ab(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return nb(this,void 0,void 0,function(){var r,n;return ab(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(n=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var a=n[r];t+=a}var A=t/this.executionResults.length;console.log("".concat(A," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),G2=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var A in a)Object.prototype.hasOwnProperty.call(a,A)&&(n[A]=a[A])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),f1=function(e,t,r,n){function a(A){return A instanceof r?A:new r(function(c){c(A)})}return new(r||(r=Promise))(function(A,c){function d(y){try{m(n.next(y))}catch(b){c(b)}}function p(y){try{m(n.throw(y))}catch(b){c(b)}}function m(y){y.done?A(y.value):a(y.value).then(d,p)}m((n=n.apply(e,t||[])).next())})},h1=function(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,a,A,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(y){return p([m,y])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(A=m[0]&2?a.return:m[0]?a.throw||((A=a.return)&&A.call(a),0):a.next)&&!(A=A.call(a,m[1])).done)return A;switch(a=0,A&&(m=[m[0]&2,A.value]),m[0]){case 0:case 1:A=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!A||m[1]>A[0]&&m[1]<A[3])){r.label=m[1];break}if(m[0]===6&&r.label<A[1]){r.label=A[1],A=m;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(m);break}A[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(y){m=[6,y],a=0}finally{n=A=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},dI=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),nP=(function(e){G2(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var a={advanced:[n]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(dI),aP=(function(e){G2(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(nP),iP=(function(e){G2(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(dI),sP=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new aP(this.track)},e.prototype.torchFeature=function(){return new iP(this.track)},e})(),AP=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,a),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,a){return f1(this,void 0,void 0,function(){var A,c;return h1(this,function(d){switch(d.label){case 0:return A=new e(t,r,a),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,A.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:d.sent(),d.label=2;case 2:return A.setupSurface(),[2,A]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return f1(this,void 0,void 0,function(){return h1(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var a=t.mediaStream.getVideoTracks(),A=a.length,c=0;t.mediaStream.getVideoTracks().forEach(function(d){t.mediaStream.removeTrack(d),d.stop(),++c,c>=A&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new sP(this.getFirstTrackOrFail())},e})(),oP=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return f1(this,void 0,void 0,function(){return h1(this,function(a){return[2,AP.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return f1(this,void 0,void 0,function(){var r,n;return h1(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=a.sent(),[2,new e(n)]}})})},e})(),ib=function(e,t,r,n){function a(A){return A instanceof r?A:new r(function(c){c(A)})}return new(r||(r=Promise))(function(A,c){function d(y){try{m(n.next(y))}catch(b){c(b)}}function p(y){try{m(n.throw(y))}catch(b){c(b)}}function m(y){y.done?A(y.value):a(y.value).then(d,p)}m((n=n.apply(e,t||[])).next())})},sb=function(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,a,A,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(y){return p([m,y])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(A=m[0]&2?a.return:m[0]?a.throw||((A=a.return)&&A.call(a),0):a.next)&&!(A=A.call(a,m[1])).done)return A;switch(a=0,A&&(m=[m[0]&2,A.value]),m[0]){case 0:case 1:A=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!A||m[1]>A[0]&&m[1]<A[3])){r.label=m[1];break}if(m[0]===6&&r.label<A[1]){r.label=A[1],A=m;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(m);break}A[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(y){m=[6,y],a=0}finally{n=A=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},lP=(function(){function e(){}return e.failIfNotSupported=function(){return ib(this,void 0,void 0,function(){return sb(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return ib(this,void 0,void 0,function(){return sb(this,function(r){return[2,oP.create(t)]})})},e})(),cP=function(e,t,r,n){function a(A){return A instanceof r?A:new r(function(c){c(A)})}return new(r||(r=Promise))(function(A,c){function d(y){try{m(n.next(y))}catch(b){c(b)}}function p(y){try{m(n.throw(y))}catch(b){c(b)}}function m(y){y.done?A(y.value):a(y.value).then(d,p)}m((n=n.apply(e,t||[])).next())})},uP=function(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,a,A,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(y){return p([m,y])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,a&&(A=m[0]&2?a.return:m[0]?a.throw||((A=a.return)&&A.call(a),0):a.next)&&!(A=A.call(a,m[1])).done)return A;switch(a=0,A&&(m=[m[0]&2,A.value]),m[0]){case 0:case 1:A=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!A||m[1]>A[0]&&m[1]<A[3])){r.label=m[1];break}if(m[0]===6&&r.label<A[1]){r.label=A[1],A=m;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(m);break}A[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(y){m=[6,y],a=0}finally{n=A=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},fP=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=$c.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=$c.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return cP(this,void 0,void 0,function(){var t,r,n,a,A,c,d;return uP(this,function(p){switch(p.label){case 0:return t=function(m){for(var y=m.getVideoTracks(),b=0,I=y;b<I.length;b++){var N=I[b];N.enabled=!1,N.stop(),m.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=p.sent(),a=[],A=0,c=n;A<c.length;A++)d=c[A],d.kind==="videoinput"&&a.push({id:d.deviceId,label:d.label});return t(r),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(A){for(var c=[],d=0,p=A;d<p.length;d++){var m=p[d];m.kind==="video"&&c.push({id:m.id,label:m.label})}t(c)},a=MediaStreamTrack;a.getSources(n)})},e})(),Qn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Qn||(Qn={}));var hP=(function(){function e(){this.state=Qn.NOT_STARTED,this.onGoingTransactionNewState=Qn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Qn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Qn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Qn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Qn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Qn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Qn.UNKNOWN:throw"Transition from unknown is not allowed";case Qn.NOT_STARTED:this.failIfNewStateIs(t,[Qn.PAUSED]);break;case Qn.SCANNING:break;case Qn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,a=r;n<a.length;n++){var A=a[n];if(t===A)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),dP=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Qn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Qn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Qn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Qn.PAUSED},e})(),gP=(function(){function e(){}return e.create=function(){return new dP(new hP)},e})(),xP=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var A in a)Object.prototype.hasOwnProperty.call(a,A)&&(n[A]=a[A])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),is=(function(e){xP(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(XH),pP=(function(){function e(t,r){this.logger=r,this.fps=is.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=is.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?hI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!KA(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),gI=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new qH(this.verbose),this.qrcode=new rP(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=gP.create()}return e.prototype.start=function(t,r,n,a){var A=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;a?c=a:c=this.verbose?this.logger.log:function(){};var d=pP.create(r,this.logger);this.clearElement();var p=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=p,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:is.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var b=this,I=this.stateManagerProxy.startTransition(Qn.SCANNING);return new Promise(function(N,R){var F=m?d.videoConstraints:b.createVideoConstraints(t);if(!F){I.cancel(),R("videoConstraints should be defined");return}var D={};(!m||d.aspectRatio)&&(D.aspectRatio=d.aspectRatio);var K={onRenderSurfaceReady:function(W,H){b.setupUi(W,H,d),b.isScanning=!0,b.foreverScan(d,n,c)}};lP.failIfNotSupported().then(function(W){W.create(F).then(function(H){return H.render(A.element,D,K).then(function(re){b.renderedCamera=re,I.execute(),N(null)}).catch(function(re){I.cancel(),R(re)})}).catch(function(H){I.cancel(),R($c.errorGettingUserMedia(H))})}).catch(function(W){I.cancel(),R($c.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Qn.PAUSED),this.showPausedState(),(KA(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Qn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Qn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var A=document.getElementById(is.SHADED_REGION_ELEMENT_ID);A&&t.element.removeChild(A)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),n(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),r.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(KA(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,A){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var d=c.width,p=c.height,m=document.getElementById(n.elementId),y=m.clientWidth?m.clientWidth:is.DEFAULT_WIDTH,b=Math.max(m.clientHeight?m.clientHeight:p,is.FILE_SCAN_MIN_HEIGHT),I=n.computeCanvasDrawConfig(d,p,y,b);if(r){var N=n.createCanvasElement(y,b,"qr-canvas-visible");N.style.display="inline-block",m.appendChild(N);var R=N.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=y,R.canvas.height=b,R.drawImage(c,0,0,d,p,I.x,I.y,I.width,I.height)}var F=is.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(c.width,I.width),K=Math.max(c.height,I.height),W=D+2*F,H=K+2*F,re=n.createCanvasElement(W,H);m.appendChild(re);var de=re.getContext("2d");if(!de)throw"Unable to get 2d context from canvas";de.canvas.width=W,de.canvas.height=H,de.drawImage(c,0,0,d,p,F,F,D,K);try{n.qrcode.decodeRobustlyAsync(re).then(function(ee){a($B.createFromQrcodeResult(ee))}).catch(A)}catch(ee){A("QR code parse error, error = ".concat(ee))}},c.onerror=A,c.onabort=A,c.onstalled=A,c.onsuspend=A,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return fP.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!hI.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ot.QR_CODE,Ot.AZTEC,Ot.CODABAR,Ot.CODE_39,Ot.CODE_93,Ot.CODE_128,Ot.DATA_MATRIX,Ot.MAXICODE,Ot.ITF,Ot.EAN_13,Ot.EAN_8,Ot.PDF_417,Ot.RSS_14,Ot.RSS_EXPANDED,Ot.UPC_A,Ot.UPC_E,Ot.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],a=0,A=t.formatsToSupport;a<A.length;a++){var c=A[a];WH(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(KA(t))return!0;if(!KA(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(KA(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return KA(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var a=this,A=n.qrbox;this.validateQrboxConfig(A);var c=this.toQrdimensions(t,r,A),d=function(m){if(m<is.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(is.MIN_QR_BOX_SIZE,"px.")},p=function(m){return m>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};d(c.width),d(c.height),c.width=p(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var a=KA(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(a);var A=this.toQrdimensions(t,r,a);A.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&A.height<=r,d={x:0,y:0,width:t,height:r},p=c?this.getShadedRegionBounds(t,r,A):d,m=this.createCanvasElement(p.width,p.height),y={willReadFrequently:!0},b=m.getContext("2d",y);b.canvas.width=p.width,b.canvas.height=p.height,this.element.append(m),c&&this.possiblyInsertShadingElement(this.element,t,r,A),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=b,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=$c.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,$B.createFromQrcodeResult(a)),n.possiblyUpdateShaders(!0),!0}).catch(function(a){n.possiblyUpdateShaders(!1);var A=$c.codeParseError(a);return r(A,YH.createFrom(A)),!1})},e.prototype.foreverScan=function(t,r,n){var a=this;if(this.shouldScan&&this.renderedCamera){var A=this.renderedCamera.getSurface(),c=A.videoWidth/A.clientWidth,d=A.videoHeight/A.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*c,m=this.qrRegion.height*d,y=this.qrRegion.x*c,b=this.qrRegion.y*d;this.context.drawImage(A,y,b,p,m,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,r,n)},a.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(N){!N&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(r,n).finally(function(){I()})):I()}).catch(function(N){a.logger.logError("Error happend while scanning context",N),I()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",a={user:!0,environment:!0},A="exact",c=function(R){if(R in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},d=Object.keys(t);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var p=Object.keys(t)[0];if(p!==r&&p!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(p===r){var m=t.facingMode;if(typeof m=="string"){if(c(m))return{facingMode:m}}else if(typeof m=="object")if(A in m){if(c(m["".concat(A)]))return{facingMode:{exact:m["".concat(A)]}}}else throw"'facingMode' should be string or object with"+" ".concat(A," as key.");else{var y=typeof m;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var b=t.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(A in b)return{deviceId:{exact:b["".concat(A)]}};throw"'deviceId' should be string or object with"+" ".concat(A," as key.")}else{var I=typeof b;throw"Invalid type of 'deviceId' = ".concat(I)}}}var N=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},e.prototype.computeCanvasDrawConfig=function(t,r,n,a){if(t<=n&&r<=a){var A=(n-t)/2,c=(a-r)/2;return{x:A,y:c,width:t,height:r}}else{var d=t,p=r;return t>n&&(r=n/t*r,t=n),r>a&&(t=a/r*t,r=a),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(p)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?is.BORDER_SHADER_MATCH_COLOR:is.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var a=t,A=r,c=document.createElement("canvas");return c.style.width="".concat(a,"px"),c.style.height="".concat(A,"px"),c.style.display="none",c.id=KA(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,a){if(!(r-a.width<1||n-a.height<1)){var A=document.createElement("div");A.style.position="absolute";var c=(r-a.width)/2,d=(n-a.height)/2;if(A.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),A.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),A.style.boxSizing="border-box",A.style.top="0px",A.style.bottom="0px",A.style.left="0px",A.style.right="0px",A.id="".concat(is.SHADED_REGION_ELEMENT_ID),r-a.width<11||n-a.height<11)this.hasBorderShaders=!1;else{var p=5,m=40;this.insertShaderBorders(A,m,p,-p,null,0,!0),this.insertShaderBorders(A,m,p,-p,null,0,!1),this.insertShaderBorders(A,m,p,null,-p,0,!0),this.insertShaderBorders(A,m,p,null,-p,0,!1),this.insertShaderBorders(A,p,m+p,-p,null,-p,!0),this.insertShaderBorders(A,p,m+p,null,-p,-p,!0),this.insertShaderBorders(A,p,m+p,-p,null,-p,!1),this.insertShaderBorders(A,p,m+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(A)}},e.prototype.insertShaderBorders=function(t,r,n,a,A,c,d){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=is.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(r,"px"),p.style.height="".concat(n,"px"),a!==null&&(p.style.top="".concat(a,"px")),A!==null&&(p.style.bottom="".concat(A,"px")),d?p.style.left="".concat(c,"px"):p.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),Ab;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ab||(Ab={}));const mP=({currentUser:e,products:t,onAddProduct:r,onUpdateProduct:n,onDeleteProduct:a,onLogout:A,onNavigateToHome:c,onNavigateToCreateInvoice:d,onNavigateToCustomers:p,onNavigateToSettings:m,isSelectionMode:y=!1,onSelectProduct:b,onStartInvoiceWithProduct:I,selectedItems:N=[],settings:R,invoicePriceMode:F="retail",initialSearchTerm:D=""})=>{var Je;const[K,W]=_e.useState(D),[H,re]=_e.useState(!1),[de,ee]=_e.useState(!1),[U,Q]=_e.useState(!1),[k,Y]=_e.useState(!1),[q,V]=_e.useState(!1),[z,ze]=_e.useState([]),ve=_e.useRef(null),me=_e.useRef(null),[oe,Pe]=_e.useState(null),[Ee,$e]=_e.useState([]),ge=_e.useRef(null),X=_e.useRef(null),[ce,le]=_e.useState(null),[ae,xe]=_e.useState(null),[Xe,Se]=_e.useState(null),[Ce,Ue]=_e.useState(null),[xt,he]=_e.useState(1),[_t,Rt]=_e.useState(""),[Ut,Ie]=_e.useState(null),Re=_e.useRef(null),ht=_e.useRef(!1),Et=_e.useRef(null),Ar=_e.useRef(null),Ct=_e.useRef(null),wn=_e.useRef(null);_e.useEffect(()=>{D&&W(D)},[D]);const ln=_e.useMemo(()=>e.role==="admin"||e.permissions.isManager||e.permissions.viewWholesalePrice,[e]),[je,Tt]=_e.useState({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]});_e.useEffect(()=>()=>{me.current&&me.current.getTracks().forEach(ye=>ye.stop())},[]),_e.useEffect(()=>{let ye=null,nt=!0;if(H){const st=setTimeout(()=>{if(nt)try{ye=new gI("reader"),Ct.current=ye,ye.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},It=>{nt&&(W(It),re(!1))},()=>{}).catch(()=>{nt&&re(!1)})}catch{nt&&re(!1)}},300);return()=>{nt=!1,clearTimeout(st),ye!=null&&ye.isScanning&&ye.stop().then(()=>ye==null?void 0:ye.clear()).catch(()=>{})}}},[H]),_e.useEffect(()=>(oe&&X.current&&(ge.current&&ge.current.destroy(),ge.current=new Cropper(X.current,{aspectRatio:1,viewMode:1,dragMode:"move",autoCropArea:.8})),()=>{ge.current&&ge.current.destroy()}),[oe]);const Bt=async()=>{V(!0);try{const ye=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});me.current=ye,ve.current&&(ve.current.srcObject=ye)}catch{V(!1)}},Xt=()=>{me.current&&me.current.getTracks().forEach(ye=>ye.stop()),V(!1)},or=()=>{var ye;if(ve.current){const nt=document.createElement("canvas");nt.width=ve.current.videoWidth,nt.height=ve.current.videoHeight,(ye=nt.getContext("2d"))==null||ye.drawImage(ve.current,0,0),ze(st=>[...st,nt.toDataURL("image/jpeg",.9)])}};_e.useEffect(()=>{ae&&wn.current&&setTimeout(()=>{try{JsBarcode(wn.current,ae.code,{format:"CODE128",width:2,height:50,displayValue:!0})}catch{}},50)},[ae]);const fr=ye=>{var It;const nt=(It=ye.target.files)==null?void 0:It[0];if(!nt)return;Y(!0);const st=new FileReader;st.onload=async Kr=>{var ma,Ka;try{const qt=Dm((ma=Kr.target)==null?void 0:ma.result,{type:"array"}),Jn=zH.sheet_to_json(qt.Sheets[qt.SheetNames[0]],{defval:""});for(const Qr of Jn){const Zn=(Ka=Qr[" "]||Qr.||Qr.name)==null?void 0:Ka.toString().trim(),dn=parseFloat(Qr.||Qr.||Qr.price)||0;Zn&&dn>0&&r({id:`prd-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,name:Zn,code:Qr.||`ID-${Math.floor(Math.random()*9e4)}`,price:dn,wholesalePrice:parseFloat(Qr.)||0,purchasePrice:parseFloat(Qr.)||0,stock:parseInt(Qr.)||0,category:Qr.||""})}}catch{}finally{Y(!1),ye.target.value=""}},st.readAsArrayBuffer(nt)},Kt=ye=>{const nt=ye.target.files;if(nt&&nt.length>0){const st=[];Array.from(nt).forEach(It=>{st.push(new Promise(Kr=>{const ma=new FileReader;ma.onloadend=()=>Kr(ma.result),ma.readAsDataURL(It)}))}),Promise.all(st).then(It=>{Pe(It[0]),$e(It.slice(1))})}ye.target.value=""},at=_e.useMemo(()=>t.filter(ye=>ye.name.toLowerCase().includes(K.toLowerCase())||ye.code.toLowerCase().includes(K.toLowerCase())||ye.id===K),[K,t]),Fe=()=>{Ce&&(a(Ce),Ue(null),xe(null))};return h.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[h.jsx("input",{type:"file",ref:Et,onChange:fr,accept:".xlsx, .xls, .csv",className:"hidden"}),h.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:y?" ":""}),y&&h.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${F==="wholesale"?"bg-orange-500 animate-pulse":"bg-[#57b385]"}`}),h.jsx("span",{className:"text-[10px] font-black uppercase text-[#57b385]",children:F==="wholesale"?" : ":" :  "})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[y&&h.jsxs("button",{onClick:d,className:"bg-[#57b385] px-4 py-2 rounded-xl text-xs font-black text-white shadow-lg flex items-center gap-2",children:[h.jsx("span",{children:" "}),h.jsx("div",{className:"bg-white/20 px-2 py-0.5 rounded-md",children:N.reduce((ye,nt)=>ye+nt.count,0)})]}),!y&&e.permissions.editProducts&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>{var ye;return(ye=Et.current)==null?void 0:ye.click()},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),h.jsx("polyline",{points:"14.5 2 14.5 8 20 8"}),h.jsx("path",{d:"M8 13h2"}),h.jsx("path",{d:"M8 17h2"}),h.jsx("path",{d:"M14 13h2"}),h.jsx("path",{d:"M14 17h2"})]})}),h.jsx("button",{onClick:()=>{Tt({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]}),ee(!0)},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]})]})]}),h.jsx("div",{className:"px-6 py-4",children:h.jsxs("div",{className:"relative group",children:[h.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-14 text-white focus:border-[#57b385] outline-none text-right font-medium",value:K,onChange:ye=>W(ye.target.value)}),h.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})}),h.jsx("button",{onClick:()=>re(!0),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-[#57b385] transition-colors active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),h.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),h.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),h.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),h.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})})]})}),h.jsx("div",{className:"flex-1 px-4 md:px-6 overflow-y-auto space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 pb-32 custom-scrollbar",children:at.length>0?at.map(ye=>{var st,It;const nt=((st=N.find(Kr=>Kr.id===ye.id))==null?void 0:st.count)||0;return h.jsxs("div",{onClick:()=>{y&&b?b({id:ye.id,name:ye.name,price:F==="wholesale"?ye.wholesalePrice:ye.price},1):xe(ye)},onTouchStart:()=>{Re.current=setTimeout(()=>{ht.current=!0,le(ye),he(1),Rt((F==="wholesale"?ye.wholesalePrice:ye.price).toString()),navigator.vibrate&&navigator.vibrate(50)},500)},onTouchEnd:()=>{clearTimeout(Re.current),setTimeout(()=>ht.current=!1,10)},className:`bg-[#111111] rounded-[2.5rem] border ${nt>0?"border-[#57b385]":"border-gray-800/40"} p-5 flex flex-col gap-4 transition-all relative overflow-hidden active:scale-[0.97] cursor-pointer h-full`,children:[nt>0&&h.jsxs("div",{className:"absolute top-0 right-0 bg-[#57b385] text-white text-[12px] font-black px-4 py-1.5 rounded-bl-3xl",children:[": ",nt]}),h.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[h.jsx("div",{className:"w-16 h-16 bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-[#57b385] overflow-hidden",children:(It=ye.images)!=null&&It[0]?h.jsx("img",{src:ye.images[0],className:"w-full h-full object-cover"}):h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),h.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),h.jsx("path",{d:"M12 22V12"})]})}),h.jsxs("div",{className:"flex-1 text-right",children:[h.jsx("h4",{className:"text-xl font-bold text-white mb-1 line-clamp-1",children:ye.name}),h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-mono",children:ye.code}),h.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-2 py-0.5 rounded-md text-[#57b385] font-bold border border-[#57b385]/20",children:ye.category})]})]})]}),h.jsxs("div",{className:"flex items-center justify-between bg-black/20 rounded-2xl p-3 border border-gray-800/50 mt-auto",children:[h.jsxs("div",{className:"flex flex-col items-start",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),h.jsxs("div",{className:"text-lg font-black",children:[(F==="wholesale"?ye.wholesalePrice:ye.price).toFixed(2)," ."]})]}),h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),h.jsxs("div",{className:`text-sm font-black ${ye.stock>0?"text-gray-200":"text-red-500"}`,children:[ye.stock," "]})]})]})]},ye.id)}):h.jsx("div",{className:"text-center py-20 text-gray-600 opacity-30 col-span-full font-bold",children:"  "})}),q&&h.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[h.jsx("video",{ref:ve,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),h.jsxs("div",{className:"absolute bottom-10 flex gap-10",children:[h.jsx("button",{onClick:Xt,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),h.jsx("button",{onClick:or,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:h.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),h.jsx("button",{onClick:()=>{z.length>0&&(Pe(z[0]),$e(z.slice(1)),Xt())},className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white shadow-xl",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:h.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})]}),oe&&h.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col animate-in fade-in duration-300",children:[h.jsx("div",{className:"flex-1 bg-[#111111] flex items-center justify-center",children:h.jsx("img",{ref:X,src:oe,className:"max-w-full max-h-full object-contain"})}),h.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 justify-center",children:[h.jsx("button",{onClick:()=>{if(ge.current){const ye=ge.current.getCroppedCanvas({width:800,height:800}).toDataURL("image/jpeg",.8);Tt(nt=>({...nt,images:[...nt.images,ye]})),Ee.length>0?(Pe(Ee[0]),$e(nt=>nt.slice(1))):Pe(null)}},className:"flex-1 max-w-xs bg-[#57b385] py-4 rounded-2xl font-black",children:" "}),h.jsx("button",{onClick:()=>Pe(null),className:"flex-1 max-w-xs bg-[#1a1a1a] py-4 rounded-2xl font-bold border border-gray-800",children:""})]})]}),(de||U)&&h.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-2xl bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-4 overflow-y-auto max-h-[90vh]",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("button",{onClick:()=>{ee(!1),Q(!1)},className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M18 6 6 18"}),h.jsx("path",{d:"m6 6 12 12"})]})}),h.jsx("h2",{className:"text-xl font-black",children:de?" ":" "})]}),h.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[h.jsxs("div",{className:"flex flex-col items-center gap-3",children:[h.jsx("div",{className:"flex gap-2 overflow-x-auto w-full pb-3 no-scrollbar",children:je.images.map((ye,nt)=>h.jsxs("div",{className:"relative flex-shrink-0 w-24 h-24 bg-[#1a1a1a] rounded-2xl border border-gray-800 overflow-hidden",children:[h.jsx("img",{src:ye,className:"w-full h-full object-cover"}),h.jsx("button",{onClick:()=>Tt(st=>({...st,images:st.images.filter((It,Kr)=>Kr!==nt)})),className:"absolute top-1 right-1 w-6 h-6 bg-red-600 rounded-full flex items-center justify-center active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("path",{d:"M18 6 6 18"}),h.jsx("path",{d:"m6 6 12 12"})]})})]},nt))}),h.jsxs("div",{className:"flex gap-2 w-full",children:[h.jsxs("button",{onClick:Bt,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center text-blue-500",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),h.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),h.jsx("span",{className:"text-[10px] font-bold",children:""})]}),h.jsxs("div",{onClick:()=>{var ye;return(ye=Ar.current)==null?void 0:ye.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 cursor-pointer flex flex-col items-center justify-center text-gray-500",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"17 8 12 3 7 8"}),h.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),h.jsx("span",{className:"text-[10px] font-bold",children:" "}),h.jsx("input",{ref:Ar,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Kt})]})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold",value:je.name,onChange:ye=>Tt({...je,name:ye.target.value})}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:je.price,onChange:ye=>Tt({...je,price:ye.target.value})}),h.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:je.wholesalePrice,onChange:ye=>Tt({...je,wholesalePrice:ye.target.value})}),h.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:je.purchasePrice,onChange:ye=>Tt({...je,purchasePrice:ye.target.value})})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx("input",{type:"text",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-mono",value:je.code,onChange:ye=>Tt({...je,code:ye.target.value})}),h.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black",value:je.stock,onChange:ye=>Tt({...je,stock:ye.target.value})})]}),h.jsxs("select",{className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold appearance-none",value:je.category,onChange:ye=>Tt({...je,category:ye.target.value}),children:[h.jsx("option",{value:"",children:""}),h.jsx("option",{value:"",children:""}),h.jsx("option",{value:"",children:""}),h.jsx("option",{value:"",children:""}),h.jsx("option",{value:"",children:""})]})]})]}),h.jsx("button",{onClick:()=>{if(de){if(!je.name||!je.price)return;r({id:Date.now().toString(),name:je.name,code:je.code||`PRD-${Math.floor(Math.random()*1e4)}`,price:parseFloat(je.price),wholesalePrice:parseFloat(je.wholesalePrice||"0"),purchasePrice:parseFloat(je.purchasePrice||"0"),stock:parseInt(je.stock||"0"),category:je.category,image:je.images[0],images:je.images}),ee(!1)}else Xe&&(n({id:Xe,name:je.name,code:je.code,price:parseFloat(je.price),wholesalePrice:parseFloat(je.wholesalePrice||"0"),purchasePrice:parseFloat(je.purchasePrice||"0"),stock:parseInt(je.stock||"0"),category:je.category,image:je.images[0],images:je.images}),Q(!1),Se(null))},className:"w-full bg-[#57b385] py-5 rounded-2xl text-white font-black text-lg shadow-xl mt-4",children:de?"":""})]})}),ae&&h.jsx("div",{className:"fixed inset-0 z-[400] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 overflow-y-auto max-h-[90vh]",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("div",{className:"flex gap-2",children:e.permissions.editProducts&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>{Tt({name:ae.name,code:ae.code,price:ae.price.toString(),wholesalePrice:ae.wholesalePrice.toString(),purchasePrice:ae.purchasePrice.toString(),stock:ae.stock.toString(),category:ae.category,images:ae.images||[]}),Se(ae.id),xe(null),Q(!0)},className:"p-3 bg-orange-500/10 rounded-2xl border border-orange-500/20 text-orange-500 font-bold text-xs",children:""}),h.jsxs("button",{onClick:()=>Ue(ae.id),className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 font-bold text-xs flex items-center gap-1.5",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),h.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),h.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),""]})]})}),h.jsx("div",{onClick:()=>{var ye;return Ie(((ye=ae.images)==null?void 0:ye[0])||ae.image||null)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] border border-[#57b385]/30 flex items-center justify-center overflow-hidden",children:(Je=ae.images)!=null&&Je[0]?h.jsx("img",{src:ae.images[0],className:"w-full h-full object-cover"}):h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),h.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),h.jsx("path",{d:"M12 22V12"})]})})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest",children:" "}),h.jsx("p",{className:"text-2xl font-black text-white leading-tight",children:ae.name})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),h.jsx("div",{className:"text-sm font-black text-[#57b385]",children:ae.price.toFixed(2)})]}),ln&&h.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),h.jsx("div",{className:"text-sm font-black text-orange-400",children:ae.wholesalePrice.toFixed(2)})]}),e.permissions.viewPurchasePrice&&h.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),h.jsx("div",{className:"text-sm font-black text-red-400",children:ae.purchasePrice.toFixed(2)})]})]}),h.jsxs("div",{className:"bg-black/40 rounded-3xl p-5 border border-gray-800 space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-400 font-bold text-sm",children:ae.code}),h.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("span",{className:`text-sm font-black ${ae.stock>0?"text-white":"text-red-500"}`,children:[ae.stock," "]}),h.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]})]}),h.jsx("div",{className:"bg-white rounded-3xl p-3 flex flex-col items-center justify-center",children:h.jsx("svg",{ref:wn,className:"w-full h-auto max-h-20"})})]}),h.jsx("button",{onClick:()=>xe(null),className:"w-full bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-black active:scale-95",children:""})]})}),Ce&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),h.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),h.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),h.jsx("p",{className:"text-sm text-gray-400",children:"               ."})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:Fe,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),h.jsx("button",{onClick:()=>Ue(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),ce&&h.jsx("div",{className:"fixed inset-0 z-[300] bg-black/80 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"text-gray-400 text-sm font-bold",children:y?" ":"  "}),h.jsx("p",{className:"text-xl font-black text-white",children:ce.name})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("input",{type:"number",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black text-lg",value:_t,onChange:ye=>Rt(ye.target.value)}),h.jsxs("div",{className:"flex items-center justify-between w-full bg-black/40 rounded-3xl p-4 border border-gray-800",children:[h.jsx("button",{onClick:()=>he(ye=>ye+1),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("input",{type:"number",className:"w-20 bg-transparent text-center text-4xl font-black text-[#57b385]",value:xt,onChange:ye=>he(parseInt(ye.target.value)||1)}),h.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:""})]}),h.jsx("button",{onClick:()=>he(ye=>Math.max(1,ye-1)),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),h.jsxs("div",{className:"w-full text-center py-2 bg-[#57b385]/5 rounded-2xl border border-[#57b385]/10",children:[h.jsx("p",{className:"text-[10px] text-gray-500 font-bold",children:""}),h.jsxs("p",{className:"text-2xl font-black text-white",children:[((parseFloat(_t)||0)*xt).toFixed(2)," ."]})]})]}),h.jsxs("div",{className:"flex gap-4 pt-2",children:[h.jsx("button",{onClick:()=>{y&&b?b({id:ce.id,name:ce.name,price:parseFloat(_t)||0},xt):I&&I({id:ce.id,name:ce.name,price:parseFloat(_t)||0},xt),le(null)},className:"flex-1 bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:y?"":" "}),h.jsx("button",{onClick:()=>le(null),className:"px-6 bg-[#222222] text-gray-400 py-4 rounded-2xl font-bold border border-gray-700",children:""})]})]})}),H&&h.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[h.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[h.jsx("button",{onClick:()=>re(!1),className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M18 6 6 18"}),h.jsx("path",{d:"m6 6 12 12"})]})}),h.jsx("h2",{className:"text-lg font-bold",children:" "}),h.jsx("div",{className:"w-10"})]}),h.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[h.jsx("div",{id:"reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),h.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:h.jsx("div",{className:"w-64 h-32 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),h.jsx("button",{onClick:()=>re(!1),className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),Ut&&h.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>Ie(null),children:[h.jsx("img",{src:Ut,className:"max-w-full max-h-full object-contain shadow-2xl"}),h.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90 transition-all",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:h.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]}),h.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[h.jsx(wd,{onClick:c,icon:h.jsx(wP,{}),label:""}),h.jsx(wd,{icon:h.jsx(vP,{}),label:"",active:!y}),h.jsx("div",{className:"relative -top-6",children:h.jsx("button",{disabled:!e.permissions.createInvoices,onClick:d,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all group ${e.permissions.createInvoices?y?"bg-[#57b385]":"bg-[#1a1a1a]":"bg-gray-800 opacity-50"}`,children:h.jsx("svg",{className:"transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:y?h.jsx("path",{d:"M20 6L9 17l-5-5"}):h.jsxs(h.Fragment,{children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}),h.jsx(wd,{onClick:p,icon:h.jsx(yP,{}),label:""}),h.jsx(wd,{onClick:m,icon:h.jsx(EP,{}),label:""})]})]})},wd=({icon:e,label:t,active:r=!1,onClick:n})=>h.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[h.jsx("div",{className:r?"scale-110":"",children:e}),h.jsx("span",{className:"text-[10px] font-bold",children:t})]}),wP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),h.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),vP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),h.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),h.jsx("path",{d:"M12 22V12"})]}),yP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),h.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),EP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),h.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),CP=({currentUser:e,onNavigateToHome:t,onNavigateToProductSelection:r,items:n,setInvoiceItems:a,products:A,onUpdateQuantity:c,onClearInvoice:d,onAddManualItem:p,onSaveInvoice:m,initialInvoice:y,settings:b,onUpdateItem:I,customerName:N,setCustomerName:R,customerPhone:F,setCustomerPhone:D,priceMode:K,setPriceMode:W})=>{const[H,re]=_e.useState(new Date().toISOString().split("T")[0]),[de,ee]=_e.useState(!1),[U,Q]=_e.useState(""),[k,Y]=_e.useState(""),[q,V]=_e.useState(""),[z,ze]=_e.useState(""),[ve,me]=_e.useState(null),[oe,Pe]=_e.useState({name:"",price:"",count:1}),[Ee,$e]=_e.useState(!1),[ge,X]=_e.useState("direct"),[ce,le]=_e.useState(""),[ae,xe]=_e.useState(!1);_e.useEffect(()=>{y?(re(y.date),Q(y.id),$e(y.type==="paid"),X(y.method),xe(y.type==="partial"),le(y.paidAmount>0?y.paidAmount.toString():""),y.priceMode&&W(y.priceMode)):Q(`INV-${Math.floor(1e5+Math.random()*9e5)}`)},[y,W]);const Xe=Ie=>{Ie!==K&&(W(Ie),a(Re=>Re.map(ht=>{if(ht.isManual)return ht;const Et=A.find(Ct=>Ct.id===ht.id);if(!Et)return ht;const Ar=Ie==="wholesale"?Et.wholesalePrice:Et.price;return{...ht,price:Ar,total:Ar*ht.count}})),navigator.vibrate&&navigator.vibrate(40))},Se=_e.useMemo(()=>n.reduce((Ie,Re)=>Ie+Re.total,0),[n]),Ce=_e.useMemo(()=>ae?parseFloat(ce)||0:Ee?Se:0,[Ee,ae,ce,Se]),Ue=_e.useMemo(()=>Math.max(0,Se-Ce),[Se,Ce]),xt=Ie=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(Ie),he=()=>{if(k&&q){const Ie=parseFloat(z)||0;p(k,parseFloat(q),Ie),Y(""),V(""),ze(""),ee(!1)}},_t=Ie=>{me(Ie),Pe({name:Ie.productName,price:Ie.price.toString(),count:Ie.count})},Rt=()=>{ve&&oe.name&&oe.price&&(I(ve.id,{productName:oe.name,price:parseFloat(oe.price),count:oe.count}),me(null))},Ut=(Ie=!1)=>{const Re=Ce,ht=Ue;let Et="unpaid";ht<=0?Et="paid":Re>0&&(Et="partial");const Ar={id:U,creatorName:y&&y.creatorName||e.name,name:N||" ",phone:F,amount:Se,paidAmount:Re,remainingAmount:ht,date:H,type:Et,method:ge,createdAt:y?y.createdAt:Date.now(),items:[...n],payments:y?y.payments:Re>0?[{id:`init-${Date.now()}`,amount:Re,timestamp:Date.now(),method:ge}]:[],priceMode:K};Ie&&I_(Ar,b),m(Ar)};return h.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none border-gray-800 font-['Tajawal']",children:[h.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[h.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})}),h.jsx("h1",{className:"text-xl font-bold",children:y?" ":" "}),h.jsx("button",{onClick:d,className:"text-red-500 text-xs font-bold px-2 py-1 hover:bg-red-500/10 rounded-lg transition-all",children:""})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-48 md:pb-32 space-y-6 custom-scrollbar md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[h.jsxs("div",{className:"space-y-6 md:h-full md:flex md:flex-col",children:[h.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800/40 p-1.5 flex gap-1 animate-in fade-in slide-in-from-top-2 duration-400",children:[h.jsxs("button",{onClick:()=>Xe("retail"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${K==="retail"?"bg-[#57b385] text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"12",cy:"7",r:"4"})]})," ()"]}),h.jsxs("button",{onClick:()=>Xe("wholesale"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${K==="wholesale"?"bg-orange-500 text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),h.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})," ()"]})]}),h.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("div",{className:"w-8 h-8 bg-[#57b385]/10 rounded-lg flex items-center justify-center border border-[#57b385]/20",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#57b385",strokeWidth:"2.5",children:[h.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),h.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right font-bold",value:N,onChange:Ie=>R(Ie.target.value)}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx("input",{type:"tel",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:F,onChange:Ie=>D(Ie.target.value)}),h.jsx("input",{type:"date",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:H,onChange:Ie=>re(Ie.target.value)})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("button",{onClick:r,className:`flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-[#57b385]/30 transition-all active:scale-95 ${K==="wholesale"?"border-orange-500/20":""}`,children:[h.jsx("div",{className:`w-10 h-10 ${K==="wholesale"?"bg-orange-500/10 text-orange-500":"bg-[#57b385]/10 text-[#57b385]"} rounded-full flex items-center justify-center`,children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),h.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),h.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),h.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]})}),h.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]}),h.jsxs("button",{onClick:()=>ee(!0),className:"flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-blue-500/30 transition-all active:scale-95",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),h.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),h.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]})]}),n.length>0&&h.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4 animate-in slide-in-from-bottom duration-300",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-500/10 rounded-lg flex items-center justify-center border border-blue-500/20",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",children:[h.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),h.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),h.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),h.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[h.jsx("button",{onClick:()=>{$e(!0),xe(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${Ee&&!ae?"bg-[#57b385] text-white":"text-gray-500"}`,children:""}),h.jsx("button",{onClick:()=>xe(!0),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ae?"bg-orange-500 text-white":"text-gray-500"}`,children:""}),h.jsx("button",{onClick:()=>{$e(!1),xe(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${!Ee&&!ae?"bg-red-500 text-white":"text-gray-500"}`,children:""})]})]}),ae&&h.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top duration-200",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:"   (.)"}),h.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 md:py-2 px-4 text-white text-center font-black",value:ce,onChange:Ie=>le(Ie.target.value),placeholder:"0.00"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[h.jsx("button",{onClick:()=>X("direct"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ge==="direct"?"bg-white text-black":"text-gray-500"}`,children:" (Cash)"}),h.jsx("button",{onClick:()=>X("cheque"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ge==="cheque"?"bg-blue-600 text-white":"text-gray-500"}`,children:" (Cheque)"})]})]})]})]}),h.jsxs("div",{className:"space-y-4 md:flex md:flex-col md:h-full",children:[h.jsx("div",{className:"flex items-center gap-2 px-1",children:h.jsxs("h2",{className:"text-sm font-bold text-gray-500",children:["  (",n.length,")"]})}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] md:bg-transparent rounded-2xl md:rounded-none md:border-none border border-gray-800/40 p-4 md:p-0",children:n.length>0?h.jsx("div",{className:"space-y-3",children:n.map(Ie=>h.jsxs("div",{onClick:()=>_t(Ie),className:"bg-[#111111] md:bg-[#161616] rounded-2xl border border-gray-800/40 p-4 flex flex-col gap-3 group animate-in slide-in-from-left duration-300 active:scale-[0.98] transition-all cursor-pointer hover:border-gray-700",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsx("button",{onClick:Re=>{Re.stopPropagation(),c(Ie.id,-Ie.count)},className:"text-red-500/50 hover:text-red-500 p-1 transition-colors z-10 relative",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),h.jsxs("div",{className:"text-right flex-1 pr-3",children:[h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ie.isManual&&h.jsx("span",{className:"text-[8px] bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded border border-blue-500/30",children:""}),h.jsx("h3",{className:"font-bold text-white text-base",children:Ie.productName})]}),h.jsxs("p",{className:"text-xs text-gray-500 font-bold",children:[xt(Ie.price)," "]})]})]}),h.jsxs("div",{className:"flex items-center justify-between bg-black/30 rounded-xl p-2 border border-gray-800/30",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:Re=>{Re.stopPropagation(),c(Ie.id,1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),h.jsx("span",{className:"text-lg font-black min-w-[30px] text-center",children:Ie.count}),h.jsx("button",{onClick:Re=>{Re.stopPropagation(),c(Ie.id,-1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:"text-xs text-gray-500 font-bold ml-1",children:":"}),h.jsxs("span",{className:"text-[#57b385] font-black",children:[xt(Ie.total)," ."]})]})]})]},Ie.id))}):h.jsxs("div",{onClick:r,className:"border-2 border-dashed border-gray-800 rounded-[2rem] py-12 flex flex-col items-center justify-center gap-4 text-gray-600 cursor-pointer hover:border-[#57b385]/30 hover:bg-[#57b385]/5 transition-all h-full",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-800/30 rounded-full flex items-center justify-center",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),h.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})}),h.jsx("p",{className:"font-bold text-sm",children:"  "})]})})]})]}),h.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-[#0c0c0c]/80 backdrop-blur-xl border-t border-gray-800 p-6 z-30 md:static md:w-full md:max-w-4xl md:mx-auto md:bg-transparent md:border-none",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 bg-black/60 p-4 rounded-2xl border border-gray-800/50",children:[h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),h.jsxs("h3",{className:"text-2xl font-black text-[#57b385]",children:[xt(Se)," ",h.jsx("span",{className:"text-sm",children:"."})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-xs text-gray-500 font-bold",children:""}),h.jsxs("h3",{className:`text-xl font-black ${Ue>0?"text-red-500":"text-gray-500"}`,children:[xt(Ue)," ."]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:()=>Ut(!0),disabled:n.length===0,className:`flex-1 py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#1a1a1a] border border-gray-700 hover:bg-gray-800"}`,children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),h.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),h.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})," "]}),h.jsxs("button",{onClick:()=>Ut(!1),disabled:n.length===0,className:`flex-[1.5] py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#57b385] hover:brightness-110"}`,children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),h.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),h.jsx("polyline",{points:"7 3 7 8 15 8"})]})," "]})]})]}),de&&h.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500 mx-auto border border-blue-500/20",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),h.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),h.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),h.jsx("p",{className:"text-xs text-gray-500",children:"    "})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  / "}),h.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold",value:k,onChange:Ie=>Y(Ie.target.value),autoFocus:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),h.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-center font-black",value:q,onChange:Ie=>V(Ie.target.value)})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),h.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[h.jsx("button",{onClick:()=>ze(Ie=>(parseFloat(Ie)||0)+1+""),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),h.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:z,onChange:Ie=>ze(Ie.target.value),placeholder:"0"}),h.jsx("button",{onClick:()=>ze(Ie=>Math.max(0,(parseFloat(Ie)||0)-1)+""),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),h.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[h.jsx("button",{onClick:he,disabled:!k||!q,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!k||!q?"bg-gray-800 opacity-50":"bg-blue-600 hover:bg-blue-500"}`,children:" "}),h.jsx("button",{onClick:()=>ee(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),ve&&h.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("div",{className:"w-16 h-16 bg-orange-500/10 rounded-full flex items-center justify-center text-orange-500 mx-auto border border-orange-500/20",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M12 20h9"}),h.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})}),h.jsx("h3",{className:"text-xl font-black text-white",children:" "}),h.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),h.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-right font-bold",value:oe.name,onChange:Ie=>Pe({...oe,name:Ie.target.value}),autoFocus:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),h.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-center font-black",value:oe.price,onChange:Ie=>Pe({...oe,price:Ie.target.value})})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),h.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[h.jsx("button",{onClick:()=>Pe(Ie=>({...Ie,count:Math.max(1,Ie.count+1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),h.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:oe.count,onChange:Ie=>Pe(Re=>({...Re,count:Math.max(1,parseInt(Ie.target.value)||1)}))}),h.jsx("button",{onClick:()=>Pe(Ie=>({...Ie,count:Math.max(1,Ie.count-1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),h.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[h.jsx("button",{onClick:Rt,disabled:!oe.name||!oe.price,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!oe.name||!oe.price?"bg-gray-800 opacity-50":"bg-orange-500 hover:bg-orange-400"}`,children:" "}),h.jsx("button",{onClick:()=>me(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})})]})},BP=({currentUser:e,onNavigateToHome:t,settings:r,onUpdateSettings:n,onTriggerManualBackup:a,invoices:A,onEditInvoice:c,onNavigateToProducts:d,onNavigateToCustomers:p,onNavigateToCreateInvoice:m,onLogout:y})=>{var me,oe,Pe,Ee,$e,ge,X,ce,le,ae,xe,Xe,Se;const[b,I]=_e.useState(!1),[N,R]=_e.useState(!1),[F,D]=_e.useState(null),[K,W]=_e.useState(null),[H,re]=_e.useState(null),[de,ee]=_e.useState({name:"",phone:"",password:""}),U=_e.useRef(null);_e.useEffect(()=>{let Ce=null;if(b){const Ue=setTimeout(()=>{if(document.getElementById("invoice-reader"))try{U.current&&U.current.clear(),Ce=new gI("invoice-reader"),U.current=Ce,Ce.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},xt=>{const he=A.find(_t=>_t.id===xt);he&&(I(!1),W(he))},xt=>{}).catch(xt=>{console.error("Scanner Error",xt),alert("  .      ."),I(!1)})}catch(xt){console.error("Scanner Init Error",xt),I(!1)}},300);return()=>{clearTimeout(Ue),Ce&&Ce.isScanning&&Ce.stop().then(()=>Ce==null?void 0:Ce.clear()).catch(console.error)}}},[b,A]);const Q=Ce=>{var xt;const Ue=(xt=Ce.target.files)==null?void 0:xt[0];if(Ue){const he=new FileReader;he.onloadend=()=>{n(_t=>({..._t,businessLogo:he.result}))},he.readAsDataURL(Ue)}},k=(Ce,Ue)=>{n(xt=>({...xt,[Ce]:Ue}))},Y=()=>{I(!0)},q=()=>{I(!1)},V=()=>{if(!de.name||!de.phone||!de.password)return;const Ce={id:Date.now().toString(),name:de.name,phone:de.phone,password:de.password,permissions:{manageDebt:!1,editProducts:!1,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!1,viewPurchasePrice:!1,viewWholesalePrice:!1,manageSuppliers:!1,manageRequests:!1,manageCheckbook:!1,manageSpecialOrders:!1,viewAllWork:!1,isManager:!1}};n(Ue=>({...Ue,staffList:[Ce,...Ue.staffList]})),ee({name:"",phone:"",password:""}),R(!1)},z=(Ce,Ue)=>{n(xt=>({...xt,staffList:xt.staffList.map(he=>he.id===Ce?Ue==="isManager"?he.permissions.isManager?{...he,permissions:{...he.permissions,isManager:!1}}:{...he,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,viewWholesalePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}}:{...he,permissions:{...he.permissions,[Ue]:!he.permissions[Ue]}}:he)}))},ze=()=>{H&&(n(Ce=>({...Ce,staffList:Ce.staffList.filter(Ue=>Ue.id!==H)})),re(null),D(null))},ve=e.role==="admin"||e.permissions.isManager;return h.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[h.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[h.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})}),h.jsx("h1",{className:"text-xl font-bold",children:""}),h.jsx("div",{className:"w-10"})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-32 space-y-6 custom-scrollbar pt-2 md:grid md:grid-cols-2 md:gap-6 md:space-y-0 md:auto-rows-min",children:[ve&&h.jsxs(h.Fragment,{children:[h.jsx(vd,{title:"  ",icon:h.jsx(bP,{}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2 uppercase tracking-wider",children:"     "}),h.jsx("div",{className:"space-y-3",children:(r.staffList||[]).map(Ce=>h.jsxs("div",{onClick:()=>D(Ce),className:"bg-black/40 p-4 rounded-2xl border border-gray-800 flex items-center justify-between group cursor-pointer active:scale-[0.98] transition-all",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black ${Ce.permissions.isManager?"bg-orange-500/20 text-orange-500 border border-orange-500/30":"bg-[#57b385]/10 text-[#57b385]"}`,children:Ce.name.charAt(0)}),h.jsxs("div",{className:"text-right",children:[h.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[Ce.name,Ce.permissions.isManager&&h.jsx("span",{className:"text-[8px] bg-orange-500 text-white px-1.5 py-0.5 rounded-md",children:""})]}),h.jsx("span",{className:"text-[9px] text-gray-500",children:Ce.phone})]})]}),h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-700 group-hover:text-gray-400 transition-colors",children:h.jsx("path",{d:"m9 18 6-6-6-6"})})]},Ce.id))}),h.jsxs("button",{onClick:()=>R(!0),className:"w-full bg-[#57b385]/10 border border-[#57b385]/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-2 text-[#57b385] font-black text-sm active:scale-95 transition-all",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"   "]})]})}),h.jsx(vd,{title:"  ()",icon:h.jsx(_P,{}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsx(Do,{label:"  ",value:r.loginPhone,onChange:Ce=>k("loginPhone",Ce)}),h.jsx(Do,{label:"  ",value:r.loginPassword,onChange:Ce=>k("loginPassword",Ce)})]})})]}),h.jsx(vd,{title:" ",icon:h.jsx(TP,{}),children:h.jsxs("button",{onClick:Y,className:"w-full bg-[#1a1a1a] border border-gray-800 hover:border-[#57b385]/50 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-4 transition-all active:scale-95 group",children:[h.jsx("div",{className:"w-10 h-10 bg-[#57b385]/10 rounded-xl flex items-center justify-center text-[#57b385] group-hover:scale-110 transition-transform",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),h.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),h.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),h.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),h.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})}),h.jsx("span",{className:"text-sm font-bold text-gray-200",children:"  "})]})}),ve&&h.jsx(vd,{title:" ",icon:h.jsx(IP,{}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex flex-col items-center gap-3 py-2",children:[h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"w-24 h-24 bg-[#1a1a1a] rounded-3xl border-2 border-dashed border-gray-700 flex items-center justify-center overflow-hidden",children:r.businessLogo?h.jsx("img",{src:r.businessLogo,alt:"Logo",className:"w-full h-full object-contain p-2"}):h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#4b5563",strokeWidth:"2",children:[h.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),h.jsx("circle",{cx:"9",cy:"9",r:"2"}),h.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),h.jsxs("label",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-[#57b385] rounded-xl flex items-center justify-center cursor-pointer shadow-lg active:scale-90 transition-all",children:[h.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Q}),h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[h.jsx("path",{d:"M12 20h9"}),h.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})]})]}),h.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"  "})]}),h.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-4",children:[h.jsx(Do,{label:"  ",value:r.userName,onChange:Ce=>k("userName",Ce)}),h.jsx(Do,{label:" ",value:r.businessName,onChange:Ce=>k("businessName",Ce)}),h.jsx("div",{className:"md:col-span-2",children:h.jsx(Do,{label:"   ()",value:r.specialOrderLabel||" ",onChange:Ce=>k("specialOrderLabel",Ce)})})]})]})}),h.jsx("div",{className:"pt-4 md:col-span-2",children:h.jsxs("button",{onClick:y,className:"w-full bg-red-500/10 border border-red-500/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-3 text-red-500 font-black text-sm active:scale-95 transition-all hover:bg-red-500 hover:text-white group",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:stroke-white transition-colors",children:[h.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),h.jsx("polyline",{points:"16 17 21 12 16 7"}),h.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"   "]})}),h.jsx("div",{className:"text-center pt-2 pb-12 opacity-30 md:col-span-2",children:h.jsx("p",{className:"text-[10px] font-bold",children:"MAMA System v2.1.0"})})]}),N&&h.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("button",{onClick:()=>R(!1),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M18 6 6 18"}),h.jsx("path",{d:"m6 6 12 12"})]})}),h.jsx("h2",{className:"text-xl font-black",children:" "})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Do,{label:" ",value:de.name,onChange:Ce=>ee({...de,name:Ce})}),h.jsx(Do,{label:" ",value:de.phone,onChange:Ce=>ee({...de,phone:Ce})}),h.jsx(Do,{label:" ",value:de.password,onChange:Ce=>ee({...de,password:Ce})})]}),h.jsx("button",{onClick:V,className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all",children:" "})]})}),F&&h.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("button",{onClick:()=>D(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M18 6 6 18"}),h.jsx("path",{d:"m6 6 12 12"})]})}),h.jsxs("h2",{className:"text-xl font-black text-orange-500",children:[" ",F.name]})]}),h.jsxs("div",{className:"space-y-5 bg-black/40 p-6 rounded-[2rem] border border-gray-800",children:[h.jsx("div",{className:"bg-orange-500/10 border border-orange-500/30 p-3 rounded-2xl",children:h.jsx(ns,{label:"  (Full Admin)",description:"     ",enabled:((me=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:me.permissions.isManager)||!1,onToggle:()=>z(F.id,"isManager")})}),h.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),h.jsx(ns,{label:"  ",description:"      ",enabled:((oe=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:oe.permissions.viewAllWork)||!1,onToggle:()=>z(F.id,"viewAllWork")}),h.jsx(ns,{label:"  ()",description:"      ",enabled:((Pe=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:Pe.permissions.manageDebt)||!1,onToggle:()=>z(F.id,"manageDebt")}),h.jsx(ns,{label:"  ",description:"      ",enabled:((Ee=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:Ee.permissions.editProducts)||!1,onToggle:()=>z(F.id,"editProducts")}),h.jsx(ns,{label:" ",description:"    ",enabled:(($e=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:$e.permissions.createInvoices)||!1,onToggle:()=>z(F.id,"createInvoices")}),h.jsx(ns,{label:" ",description:"    ",enabled:((ge=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:ge.permissions.viewNotifications)||!1,onToggle:()=>z(F.id,"viewNotifications")}),h.jsx(ns,{label:"  ",description:"      ()",enabled:((X=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:X.permissions.viewAdminInvoices)||!1,onToggle:()=>z(F.id,"viewAdminInvoices")}),h.jsx(ns,{label:"  ",description:"     ",enabled:((ce=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:ce.permissions.viewPurchasePrice)||!1,onToggle:()=>z(F.id,"viewPurchasePrice")}),h.jsx(ns,{label:"  ",description:"      ",enabled:((le=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:le.permissions.viewWholesalePrice)||!1,onToggle:()=>z(F.id,"viewWholesalePrice")}),h.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),h.jsx(ns,{label:"  ",description:"   (Supplier Invoices)",enabled:((ae=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:ae.permissions.manageSuppliers)||!1,onToggle:()=>z(F.id,"manageSuppliers")}),h.jsx(ns,{label:"  (Demand)",description:"   (Client Requests)",enabled:((xe=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:xe.permissions.manageRequests)||!1,onToggle:()=>z(F.id,"manageRequests")}),h.jsx(ns,{label:"  ",description:"    ",enabled:((Xe=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:Xe.permissions.manageCheckbook)||!1,onToggle:()=>z(F.id,"manageCheckbook")}),h.jsx(ns,{label:"  ",description:"    (Special Orders)",enabled:((Se=(r.staffList||[]).find(Ce=>Ce.id===F.id))==null?void 0:Se.permissions.manageSpecialOrders)||!1,onToggle:()=>z(F.id,"manageSpecialOrders")})]}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsx("button",{onClick:()=>D(null),className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:" "}),h.jsx("button",{onClick:()=>re(F.id),className:"w-full bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all hover:bg-red-500 hover:text-white",children:" "})]})]})}),H&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),h.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),h.jsx("p",{className:"text-sm text-gray-400",children:"       "}),h.jsx("p",{className:"text-[10px] text-orange-500 font-bold mt-2",children:":              ."})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:ze,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),h.jsx("button",{onClick:()=>re(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),b&&h.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[h.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[h.jsx("button",{onClick:q,className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white active:scale-90 transition-all",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M18 6 6 18"}),h.jsx("path",{d:"m6 6 12 12"})]})}),h.jsx("h2",{className:"text-lg font-bold",children:" "}),h.jsx("div",{className:"w-10"})]}),h.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[h.jsx("div",{id:"invoice-reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),h.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:h.jsx("div",{className:"w-64 h-64 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),h.jsx("button",{onClick:q,className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),K&&h.jsx("div",{className:"fixed inset-0 z-[700] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 text-center",children:[h.jsx("div",{className:"w-20 h-20 bg-[#57b385]/10 rounded-full flex items-center justify-center mx-auto border border-[#57b385]/20 text-[#57b385]",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("polyline",{points:"20 6 9 17 4 12"})})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black text-white",children:"   "}),h.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[K.name," - ",K.date]}),h.jsx("p",{className:"text-gray-500 text-xs font-mono mt-1",children:K.id})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>{W(null),c(K)},className:"flex-1 bg-[#57b385] text-white py-4 rounded-2xl font-black shadow-lg active:scale-95 transition-all",children:" "}),h.jsx("button",{onClick:()=>W(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),h.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[h.jsx(yd,{onClick:t,icon:h.jsx(SP,{}),label:""}),h.jsx(yd,{onClick:d,icon:h.jsx(NP,{}),label:""}),h.jsx("div",{className:"relative -top-6",children:h.jsx("button",{onClick:m,disabled:!e.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${e.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:h.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),h.jsx(yd,{onClick:p,icon:h.jsx(FP,{}),label:""}),h.jsx(yd,{onClick:()=>{},icon:h.jsx(RP,{}),label:"",active:!0})]})]})},vd=({title:e,icon:t,children:r})=>h.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400",children:t}),h.jsx("h3",{className:"text-lg font-bold text-gray-200",children:e})]}),r]}),Do=({label:e,value:t,onChange:r,type:n="text"})=>h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-wider",children:e}),h.jsx("input",{type:n,className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-3 px-4 text-white focus:border-[#57b385] outline-none transition-all text-right font-bold text-sm",value:t,onChange:a=>r(a.target.value)})]}),ns=({label:e,description:t,enabled:r,onToggle:n})=>h.jsxs("div",{className:"flex items-center justify-between py-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"text-sm font-bold text-white mb-0.5",children:e}),h.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:t})]}),h.jsx("button",{onClick:n,className:`w-12 h-7 rounded-full p-1 transition-all duration-300 ${r?"bg-[#57b385]":"bg-gray-800"}`,children:h.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-md transition-all duration-300 ${r?"translate-x-0":"-translate-x-5"}`})})]}),yd=({icon:e,label:t,active:r=!1,onClick:n})=>h.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[h.jsx("div",{className:r?"scale-110":"",children:e}),h.jsx("span",{className:"text-[10px] font-bold",children:t})]}),bP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),h.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),_P=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),TP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),IP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),h.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),h.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),h.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),SP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),h.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),NP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),h.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),h.jsx("path",{d:"M12 22V12"})]}),FP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),h.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),RP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),h.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),DP=({currentUser:e,onNavigateToHome:t,onNavigateToProducts:r,onNavigateToSettings:n,onNavigateToCreateInvoice:a,invoices:A,generalPayments:c,onAddGeneralPayment:d,onDeleteGeneralPayment:p,onDeleteCustomer:m,onProcessPayment:y,onEditInvoice:b,settings:I})=>{const[N,R]=_e.useState(""),[F,D]=_e.useState(null),[K,W]=_e.useState(null),H=_e.useRef(null),re=_e.useRef(!1),[de,ee]=_e.useState(null),[U,Q]=_e.useState("full"),[k,Y]=_e.useState(""),[q,V]=_e.useState("direct"),[z,ze]=_e.useState(""),[ve,me]=_e.useState("direct"),[oe,Pe]=_e.useState(null),[Ee,$e]=_e.useState(!1),ge=_e.useRef(null),[X,ce]=_e.useState(!1),le=_e.useRef(null),ae=_e.useMemo(()=>{const Ie=new Map;return A.forEach(Re=>{const ht=Ie.get(Re.name)||{name:Re.name,phone:Re.phone,totalPurchased:0,totalPaid:0,totalDebt:0,lastInvoiceDate:Re.date,lastInvoiceTimestamp:Re.createdAt,invoiceCount:0,invoices:[],generalPayments:[]};ht.totalPurchased+=Re.amount,ht.totalPaid+=Re.paidAmount,ht.totalDebt+=Re.remainingAmount,ht.invoiceCount+=1,ht.invoices.push(Re),Re.createdAt>=ht.lastInvoiceTimestamp&&(ht.lastInvoiceDate=Re.date,ht.lastInvoiceTimestamp=Re.createdAt,Re.phone&&(ht.phone=Re.phone)),Ie.set(Re.name,ht)}),c.forEach(Re=>{const ht=Ie.get(Re.customerName);if(ht)ht.totalDebt-=Re.amount,ht.totalPaid+=Re.amount,ht.generalPayments||(ht.generalPayments=[]),ht.generalPayments.push(Re);else{const Et={name:Re.customerName,totalPurchased:0,totalPaid:Re.amount,totalDebt:-Re.amount,lastInvoiceDate:Re.date,lastInvoiceTimestamp:Re.timestamp,invoiceCount:0,invoices:[],generalPayments:[Re]};Ie.set(Re.customerName,Et)}}),Array.from(Ie.values()).filter(Re=>Re.name.includes(N)).sort((Re,ht)=>ht.lastInvoiceTimestamp-Re.lastInvoiceTimestamp)},[A,c,N]),xe=_e.useMemo(()=>F&&ae.find(Ie=>Ie.name===F)||null,[ae,F]);_e.useEffect(()=>{F&&window.scrollTo({top:0,behavior:"smooth"})},[F]);const Xe=Ie=>{re.current=!1,H.current=setTimeout(()=>{re.current=!0,(e.role==="admin"||e.permissions.isManager)&&(W(Ie),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},Se=()=>{H.current&&(clearTimeout(H.current),H.current=null)},Ce=()=>{K&&m&&(m(K),W(null))},Ue=Ie=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(Ie),xt=()=>{if(!de)return;const Ie=U==="full"?de.remainingAmount:parseFloat(k)||0;Ie>0&&(y(de.id,Ie,q),ee(null),Y(""),Q("full"))},he=()=>{const Ie=parseFloat(z);if(!Ie||Ie<=0||!xe)return;const Re={id:`gen-pay-${Date.now()}`,customerName:xe.name,amount:Ie,date:new Date().toISOString().split("T")[0],timestamp:Date.now(),method:ve};d(Re),ze(""),new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{})},_t=()=>{oe&&(p(oe),Pe(null))},Rt=async()=>{if(!(!xe||!ge.current)){$e(!0);try{(await Pl(ge.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Re=>{if(!Re){$e(!1),alert("  ");return}try{const ht=new ClipboardItem({"image/png":Re});await navigator.clipboard.write([ht]);let Et=xe.phone?xe.phone.replace(/\D/g,""):"";(Et.startsWith("06")||Et.startsWith("07")||Et.startsWith("05"))&&(Et="212"+Et.substring(1));const Ar=Et?`https://wa.me/${Et}`:"https://wa.me/";window.open(Ar,"_blank")}catch(ht){console.error("Clipboard write failed:",ht),alert("   ."),window.open("https://wa.me/","_blank")}finally{$e(!1)}},"image/png",1)}catch(Ie){console.error("Error creating debt image:",Ie),$e(!1)}}},Ut=async()=>{if(!(!xe||!le.current)){ce(!0);try{(await Pl(le.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Re=>{if(!Re){ce(!1),alert("  ");return}try{const ht=new ClipboardItem({"image/png":Re});await navigator.clipboard.write([ht]);let Et=xe.phone?xe.phone.replace(/\D/g,""):"";(Et.startsWith("06")||Et.startsWith("07")||Et.startsWith("05"))&&(Et="212"+Et.substring(1));const Ar=Et?`https://wa.me/${Et}`:"https://wa.me/";window.open(Ar,"_blank")}catch(ht){console.error("Clipboard write failed:",ht),alert("   ."),window.open("https://wa.me/","_blank")}finally{ce(!1)}},"image/png",1)}catch(Ie){console.error("Error creating summary image:",Ie),ce(!1)}}};return h.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:rounded-[3rem] border border-gray-800 font-['Tajawal']",children:[xe&&h.jsxs("div",{ref:ge,style:{position:"fixed",top:0,left:-9999,width:"400px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,borderRadius:"12px",border:"1px solid #eee"},children:[h.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[h.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 5px 0"},children:I.businessName}),h.jsx("h1",{style:{fontSize:"24px",fontWeight:"900",margin:"0 0 5px 0"},children:" "}),h.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),h.jsxs("div",{style:{marginBottom:"25px"},children:[h.jsx("p",{style:{fontSize:"16px",margin:"0 0 5px 0",color:"#666"},children:"():"}),h.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",margin:0},children:xe.name}),xe.phone&&h.jsx("p",{style:{fontSize:"14px",color:"#888",margin:"5px 0 0 0"},children:xe.phone})]}),h.jsxs("div",{style:{backgroundColor:"#fff0f0",border:"2px solid #ffcccc",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[h.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",margin:"0 0 10px 0",color:"#cc0000"},children:"  ( )"}),h.jsxs("div",{style:{fontSize:"32px",fontWeight:"900",color:"#cc0000",direction:"ltr"},children:[Ue(xe.totalDebt)," ",h.jsx("span",{style:{fontSize:"18px"},children:"DH"})]})]}),h.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888",borderTop:"1px solid #eee",paddingTop:"10px"},children:h.jsxs("p",{children:["   - ",I.signatureName||"MAMA App"]})})]}),xe&&h.jsxs("div",{ref:le,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,border:"1px solid #eee"},children:[h.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[h.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:I.businessName}),h.jsx("h1",{style:{fontSize:"26px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),h.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",xe.name]}),h.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[h.jsx("thead",{children:h.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[h.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),h.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:" "})]})}),h.jsx("tbody",{children:xe.invoices.sort((Ie,Re)=>Ie.createdAt-Re.createdAt).map((Ie,Re)=>h.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[h.jsx("td",{style:{padding:"10px",fontSize:"16px",fontWeight:"bold"},children:Ie.date}),h.jsx("td",{style:{padding:"10px",fontSize:"18px",fontWeight:"900",textAlign:"left"},children:Ue(Ie.amount)})]},Re))})]}),h.jsxs("div",{style:{borderTop:"2px solid #000",paddingTop:"15px",marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" :"}),h.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[Ue(xe.totalPurchased)," ."]})]}),xe.generalPayments&&xe.generalPayments.length>0&&h.jsxs("div",{style:{marginTop:"20px"},children:[h.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"2px solid #ddd",paddingBottom:"5px",marginBottom:"10px"},children:"  "}),h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[h.jsx("thead",{children:h.jsxs("tr",{style:{backgroundColor:"#e6fffa"},children:[h.jsx("th",{style:{padding:"8px",textAlign:"right",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""}),h.jsx("th",{style:{padding:"8px",textAlign:"center",fontSize:"14px",borderBottom:"1px solid #ddd"},children:" "}),h.jsx("th",{style:{padding:"8px",textAlign:"left",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""})]})}),h.jsx("tbody",{children:xe.generalPayments.sort((Ie,Re)=>Ie.timestamp-Re.timestamp).map((Ie,Re)=>h.jsxs("tr",{style:{borderBottom:"1px dashed #eee"},children:[h.jsx("td",{style:{padding:"8px",fontSize:"14px"},children:new Date(Ie.date).toLocaleDateString("ar-MA")}),h.jsx("td",{style:{padding:"8px",fontSize:"14px",textAlign:"center"},children:Ie.method==="direct"?"":""}),h.jsx("td",{style:{padding:"8px",fontSize:"14px",fontWeight:"bold",textAlign:"left",color:"#059669"},children:Ue(Ie.amount)})]},Re))})]})]}),h.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"15px",borderRadius:"8px",marginTop:"20px",border:"1px solid #eee"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[h.jsx("span",{style:{fontWeight:"bold"},children:" :"}),h.jsxs("span",{style:{fontWeight:"bold",color:"#059669"},children:[Ue(xe.totalPaid)," ."]})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"20px",marginTop:"10px",borderTop:"1px solid #ccc",paddingTop:"10px"},children:[h.jsx("span",{style:{fontWeight:"900",color:"#dc2626"},children:"  ( ):"}),h.jsxs("span",{style:{fontWeight:"900",color:"#dc2626",direction:"ltr"},children:[Ue(xe.totalDebt)," DH"]})]})]}),h.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888"},children:h.jsx("p",{children:I.signatureName||"MAMA App"})})]}),h.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),h.jsx("span",{className:"text-[10px] text-[#57b385] font-bold",children:"   "})]}),h.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-[#57b385]",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),h.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})})]}),h.jsx("div",{className:"px-6 py-4",children:h.jsxs("div",{className:"relative group",children:[h.jsx("input",{type:"text",placeholder:"   ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-4 text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:N,onChange:Ie=>R(Ie.target.value)}),h.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),h.jsx("div",{className:"flex-1 px-4 overflow-y-auto space-y-4 pb-32 custom-scrollbar",children:ae.length>0?ae.map(Ie=>{const Re=Ie.totalPurchased>0?Math.max(0,Ie.totalDebt)/Ie.totalPurchased*100:0;return h.jsxs("div",{onMouseDown:()=>Xe(Ie.name),onMouseUp:Se,onMouseLeave:Se,onTouchStart:()=>Xe(Ie.name),onTouchEnd:Se,onClick:()=>!re.current&&D(Ie.name),className:"bg-[#111111] rounded-[2.5rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-gray-500 group-hover:text-[#57b385] transition-all",children:h.jsx("span",{className:"text-xl font-black",children:Ie.name.charAt(0)})}),h.jsxs("div",{className:"flex-1 text-right",children:[h.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1",children:Ie.name}),h.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",Ie.lastInvoiceDate]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),h.jsxs("div",{className:"text-sm font-black text-white",children:[Ue(Ie.totalPurchased)," ."]})]}),h.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),h.jsxs("div",{className:`text-sm font-black ${Ie.totalDebt>0?"text-red-500":"text-[#57b385]"}`,children:[Ue(Ie.totalDebt)," ."]})]})]}),Ie.totalPurchased>0&&h.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:h.jsx("div",{className:`h-full transition-all duration-1000 ${Ie.totalDebt>0?"bg-red-500":"bg-[#57b385]"}`,style:{width:`${Math.max(2,Re)}%`}})})]},Ie.name)}):h.jsx("div",{className:"text-center py-20 text-gray-600",children:h.jsx("p",{className:"font-bold",children:"    "})})}),xe&&h.jsxs("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] flex flex-col animate-in slide-in-from-bottom duration-400",children:[h.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c]",children:[h.jsx("button",{onClick:()=>{D(null),ze("")},className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})}),h.jsx("h2",{className:"text-xl font-bold",children:"  "}),h.jsx("div",{className:"w-10"})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:xe.name.charAt(0)}),h.jsx("h3",{className:"text-2xl font-black",children:xe.name}),h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[xe.phone&&h.jsxs("div",{className:"flex items-center gap-2 bg-[#1a1a1a] px-4 py-1.5 rounded-full border border-gray-800 text-[#57b385] font-black text-xs",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),h.jsx("a",{href:`tel:${xe.phone}`,children:xe.phone})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[xe.invoiceCount," "]}),h.jsxs("div",{className:`flex items-center gap-2 px-1.5 py-1 rounded-full border ${xe.totalDebt>0?"bg-red-500/10 border-red-500/20":"bg-green-500/10 border-green-500/20"}`,children:[h.jsxs("span",{className:`text-[10px] font-bold px-2 ${xe.totalDebt>0?"text-red-500":"text-green-500"}`,children:[" : ",Ue(xe.totalDebt)," ."]}),xe.totalDebt>0&&h.jsx("button",{onClick:Rt,disabled:Ee,className:`w-7 h-7 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-md active:scale-90 transition-all ${Ee?"opacity-50 cursor-wait":""}`,children:Ee?h.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]})]})]})]}),xe.totalDebt>0&&e.permissions.manageDebt&&h.jsxs("div",{className:"bg-[#1a1a1a] rounded-3xl border border-gray-800 p-5 space-y-4 shadow-xl",children:[h.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-700/50 pb-2",children:[h.jsx("div",{className:"w-8 h-8 bg-green-500/10 rounded-lg flex items-center justify-center text-green-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("path",{d:"M12 2v20"}),h.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),h.jsx("h3",{className:"font-bold text-white text-sm",children:"  "})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("input",{type:"number",className:"w-full bg-black border border-gray-700 rounded-xl py-3 pr-4 pl-12 text-white font-black text-center focus:border-green-500 outline-none transition-colors",placeholder:" (.)",value:z,onChange:Ie=>ze(Ie.target.value)}),h.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs font-bold",children:"DH"})]}),h.jsx("button",{onClick:()=>me(Ie=>Ie==="direct"?"cheque":"direct"),className:`w-12 rounded-xl flex items-center justify-center border font-bold text-xs transition-all ${ve==="direct"?"bg-white text-black border-white":"bg-blue-600 text-white border-blue-600"}`,children:ve==="direct"?"":""})]}),parseFloat(z)>0&&h.jsxs("div",{className:"text-center text-[10px] text-gray-400",children:["  : ",h.jsxs("span",{className:"text-white font-bold",children:[Ue(Math.max(0,xe.totalDebt-parseFloat(z)))," ."]})]}),h.jsxs("button",{onClick:he,disabled:!z||parseFloat(z)<=0,className:`w-full py-3 rounded-xl font-black text-sm shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 ${z?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:h.jsx("polyline",{points:"20 6 9 17 4 12"})})," "]})]}),xe.generalPayments&&xe.generalPayments.length>0&&h.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[h.jsxs("h4",{className:"text-sm font-bold text-green-500 border-b border-gray-800/30 pb-3 flex items-center gap-2",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),h.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"  "]}),h.jsx("div",{className:"space-y-3",children:xe.generalPayments.sort((Ie,Re)=>Re.timestamp-Ie.timestamp).map(Ie=>h.jsxs("div",{className:"bg-green-500/5 p-4 rounded-2xl border border-green-500/10 flex justify-between items-center group",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"text-white font-black text-sm",children:[Ue(Ie.amount)," ."]}),h.jsxs("div",{className:"text-[10px] text-gray-500 flex gap-2",children:[h.jsx("span",{children:new Date(Ie.date).toLocaleDateString("ar-MA")}),h.jsxs("span",{className:"text-green-600/70 font-bold",children:["(",Ie.method==="direct"?"":"",")"]})]})]}),e.permissions.manageDebt&&h.jsx("button",{onClick:()=>Pe(Ie.id),className:"p-2 text-gray-600 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},Ie.id))})]}),h.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[h.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:"  "}),h.jsx("div",{className:"space-y-3",children:xe.invoices.sort((Ie,Re)=>Re.createdAt-Ie.createdAt).map(Ie=>h.jsxs("div",{className:"bg-black/40 p-4 rounded-2xl border border-gray-800",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs font-black text-white",children:Ie.id}),h.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded border font-bold ${Ie.type==="paid"?"bg-green-500/10 text-green-500 border-green-500/20":Ie.type==="partial"?"bg-orange-500/10 text-orange-500 border-orange-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:Ie.type==="paid"?"":Ie.type==="partial"?" ":""})]}),h.jsx("span",{className:"text-[10px] text-gray-500",children:Ie.date})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[Ie.type!=="paid"&&e.permissions.manageDebt&&h.jsx("button",{onClick:()=>ee(Ie),className:"flex items-center gap-1.5 px-3 h-9 bg-gray-800 hover:bg-gray-700 rounded-xl text-gray-300 shadow-lg active:scale-90 transition-all border border-gray-700",children:h.jsx("span",{className:"text-[10px] font-bold",children:" "})}),h.jsx("button",{disabled:!e.permissions.createInvoices,onClick:()=>b(Ie),className:`w-9 h-9 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-500 hover:text-white border border-gray-800 transition-colors ${e.permissions.createInvoices?"":"opacity-20 cursor-not-allowed"}`,children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M12 20h9"}),h.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-2 border-t border-gray-800/50 pt-3",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),h.jsx("span",{className:"text-[10px] font-black text-white",children:Ue(Ie.amount)})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),h.jsx("span",{className:"text-[10px] font-black text-[#57b385]",children:Ue(Ie.paidAmount)})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),h.jsx("span",{className:"text-[10px] font-black text-red-500",children:Ue(Ie.remainingAmount)})]})]}),Ie.payments&&Ie.payments.length>0&&h.jsxs("div",{className:"mt-3 bg-black/20 rounded-xl p-2 space-y-1",children:[h.jsx("span",{className:"text-[8px] text-gray-600 font-bold block mb-1",children:" :"}),Ie.payments.map((Re,ht)=>h.jsxs("div",{className:"flex justify-between items-center text-[8px]",children:[h.jsx("span",{className:"text-gray-400",children:new Date(Re.timestamp).toLocaleDateString("ar-MA")}),h.jsxs("span",{className:"text-[#57b385] font-bold",children:["+",Ue(Re.amount)," . (",Re.method==="direct"?"":"",")"]})]},ht))]})]},Ie.id))})]})]}),h.jsxs("div",{className:"p-6 bg-[#0c0c0c] border-t border-gray-800 pb-10 relative",children:[h.jsx("button",{onClick:()=>{D(null),ze("")},className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "}),h.jsx("div",{className:"absolute bottom-24 right-6 z-50",children:h.jsx("button",{onClick:Ut,disabled:X||xe.invoices.length===0,className:`w-14 h-14 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-2xl shadow-green-900/40 active:scale-90 transition-all border-4 border-[#0c0c0c] ${X?"opacity-50 cursor-wait":""}`,children:X?h.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})})]})]}),K&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),h.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),h.jsxs("p",{className:"text-sm text-gray-400",children:["      ",h.jsx("span",{className:"text-white font-bold",children:K}),"    "]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:Ce,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),h.jsx("button",{onClick:()=>W(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),oe&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),h.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),h.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),h.jsx("p",{className:"text-sm text-gray-400",children:"           ."})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:_t,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),h.jsx("button",{onClick:()=>Pe(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),de&&h.jsx("div",{className:"fixed inset-0 z-[250] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"w-16 h-16 bg-[#57b385]/10 rounded-full flex items-center justify-center text-[#57b385] mx-auto border border-[#57b385]/20",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("polyline",{points:"16 12 12 8 8 12"}),h.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"8"})]})}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),h.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["  : ",h.jsxs("span",{className:"text-red-500 font-black",children:[Ue(de.remainingAmount)," ."]})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1 rounded-2xl border border-gray-800",children:[h.jsx("button",{onClick:()=>Q("full"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${U==="full"?"bg-[#57b385] text-white shadow-lg":"text-gray-500"}`,children:"  "}),h.jsx("button",{onClick:()=>Q("partial"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${U==="partial"?"bg-orange-500 text-white shadow-lg":"text-gray-500"}`,children:" "})]}),U==="partial"&&h.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-200",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),h.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-black border border-gray-800 rounded-xl py-4 px-4 text-white focus:border-[#57b385] outline-none text-center font-black text-lg",value:k,onChange:Ie=>Y(Ie.target.value),autoFocus:!0})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx("button",{onClick:()=>V("direct"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${q==="direct"?"bg-white text-black border-white":"bg-transparent text-gray-500 border-gray-800"}`,children:""}),h.jsx("button",{onClick:()=>V("cheque"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${q==="cheque"?"bg-blue-600 text-white border-blue-600":"bg-transparent text-gray-500 border-gray-800"}`,children:""})]})]})]}),h.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[h.jsx("button",{onClick:xt,disabled:U==="partial"&&(!k||parseFloat(k)<=0),className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${U==="partial"&&(!k||parseFloat(k)<=0)?"bg-gray-800 opacity-50":"bg-[#57b385]"}`,children:"  "}),h.jsx("button",{onClick:()=>ee(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),h.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[h.jsx(Ed,{onClick:t,icon:h.jsx(OP,{}),label:""}),h.jsx(Ed,{onClick:r,icon:h.jsx(UP,{}),label:""}),h.jsx("div",{className:"relative -top-6",children:h.jsx("button",{disabled:!e.permissions.createInvoices,onClick:a,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all ${e.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),h.jsx(Ed,{icon:h.jsx(kP,{}),label:"",active:!0}),h.jsx(Ed,{onClick:n,icon:h.jsx(MP,{}),label:""})]})]})},Ed=({icon:e,label:t,active:r=!1,onClick:n})=>h.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[h.jsx("div",{className:r?"scale-110":"",children:e}),h.jsx("span",{className:"text-[10px] font-bold",children:t})]}),OP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),h.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),UP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),h.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),h.jsx("path",{d:"M12 22V12"})]}),kP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),h.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),MP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),h.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),LP=({onNavigateToHome:e,notifications:t,onMarkAllAsRead:r,onClearAll:n,onMarkAsRead:a})=>{const[A,c]=_e.useState("all"),d=_e.useMemo(()=>A==="all"?t:t.filter(b=>b.type===A),[t,A]),p=_e.useMemo(()=>({unread:t.filter(b=>!b.isRead).length,debt:t.filter(b=>b.type==="debt").length,stock:t.filter(b=>b.type==="stock").length,sale:t.filter(b=>b.type==="sale").length}),[t]),m=b=>{const I=Date.now()-b,N=Math.floor(I/6e4);if(N<1)return"";if(N<60)return` ${N} `;const R=Math.floor(N/60);return R<24?` ${R} `:new Date(b).toLocaleDateString("ar-MA")},y=b=>{switch(b){case"debt":return{bg:"bg-red-500/10",border:"border-red-500/20",iconColor:"text-red-500",iconBg:"bg-red-500/20",dot:"bg-red-500"};case"stock":return{bg:"bg-orange-500/10",border:"border-orange-500/20",iconColor:"text-orange-500",iconBg:"bg-orange-500/20",dot:"bg-orange-500"};case"sale":return{bg:"bg-[#57b385]/10",border:"border-[#57b385]/20",iconColor:"text-[#57b385]",iconBg:"bg-[#57b385]/20",dot:"bg-[#57b385]"}}};return h.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[h.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center bg-[#0c0c0c] border-b border-gray-800/50 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md z-20",children:[h.jsx("button",{onClick:e,className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white transition-all active:scale-90",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("h1",{className:"text-xl font-black",children:" "}),h.jsxs("span",{className:"text-[10px] text-[#57b385] font-bold",children:[" ",p.unread,"  "]})]}),h.jsx("button",{onClick:n,className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white transition-all active:scale-90",title:" ",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]}),h.jsxs("div",{className:"px-6 py-4 flex gap-2 overflow-x-auto custom-scrollbar no-scrollbar md:justify-center",children:[h.jsx(Cd,{active:A==="all",label:"",count:t.length,onClick:()=>c("all"),color:"gray"}),h.jsx(Cd,{active:A==="debt",label:"",count:p.debt,onClick:()=>c("debt"),color:"red"}),h.jsx(Cd,{active:A==="stock",label:"",count:p.stock,onClick:()=>c("stock"),color:"orange"}),h.jsx(Cd,{active:A==="sale",label:"",count:p.sale,onClick:()=>c("sale"),color:"green"})]}),h.jsx("div",{className:"px-6 pb-4 md:max-w-lg md:mx-auto",children:h.jsxs("button",{onClick:r,className:"w-full py-3 bg-[#1a1a1a] border border-gray-800 rounded-2xl text-xs font-bold text-gray-400 hover:text-white transition-all flex items-center justify-center gap-2 active:scale-[0.98]",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M20 6L9 17l-5-5"})}),"  "]})}),h.jsx("div",{className:"flex-1 overflow-y-auto px-6 space-y-4 pb-32 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:d.length>0?d.map(b=>{const I=y(b.type);return h.jsxs("div",{onClick:()=>a(b.id),className:`relative group p-5 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer h-full ${b.isRead?"bg-[#111111] border-gray-800/40":`${I.bg} ${I.border} shadow-lg shadow-black/20`}`,children:[!b.isRead&&h.jsx("div",{className:`absolute top-5 left-5 w-2 h-2 rounded-full ${I.dot} animate-pulse shadow-lg`}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:`w-12 h-12 min-w-[48px] rounded-2xl flex items-center justify-center ${I.iconBg} ${I.iconColor} shadow-inner`,children:[b.type==="debt"&&h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M12 2v20"}),h.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),b.type==="stock"&&h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),h.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),h.jsx("path",{d:"M12 22V12"})]}),b.type==="sale"&&h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M20 6L9 17l-5-5"})})]}),h.jsxs("div",{className:"flex-1 text-right space-y-1",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:m(b.timestamp)}),h.jsx("h4",{className:`text-base font-black ${b.isRead?"text-gray-200":"text-white"}`,children:b.title})]}),h.jsx("p",{className:`text-xs leading-relaxed ${b.isRead?"text-gray-500":"text-gray-300 font-medium"}`,children:b.message})]})]})]},b.id)}):h.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-600 space-y-4 col-span-full",children:[h.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full flex items-center justify-center opacity-20",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),h.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]})}),h.jsx("p",{className:"font-bold text-sm",children:"   "})]})}),h.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[h.jsx(Bd,{onClick:e,icon:h.jsx(QP,{}),label:""}),h.jsx(Bd,{onClick:()=>{},icon:h.jsx(jP,{}),label:""}),h.jsx("div",{className:"relative -top-6",children:h.jsx("button",{className:"bg-[#1a1a1a] p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),h.jsx(Bd,{onClick:()=>{},icon:h.jsx(HP,{}),label:""}),h.jsx(Bd,{onClick:()=>{},icon:h.jsx(PP,{}),label:""})]})]})},Cd=({active:e,label:t,count:r,onClick:n,color:a})=>{const A={red:e?"bg-red-500 text-white shadow-red-900/20":"text-red-500 bg-red-500/10 border-red-500/20",orange:e?"bg-orange-500 text-white shadow-orange-900/20":"text-orange-500 bg-orange-500/10 border-orange-500/20",green:e?"bg-[#57b385] text-white shadow-green-900/20":"text-[#57b385] bg-[#57b385]/10 border-[#57b385]/20",gray:e?"bg-white text-black shadow-white/10":"text-gray-400 bg-white/5 border-white/10"};return h.jsxs("button",{onClick:n,className:`px-5 py-2.5 rounded-2xl border text-xs font-black transition-all flex items-center gap-2 whitespace-nowrap active:scale-95 ${A[a]}`,children:[t,h.jsx("span",{className:`px-1.5 py-0.5 rounded-lg text-[10px] ${e?"bg-black/20 text-white":"bg-black/40"}`,children:r})]})},Bd=({icon:e,label:t,onClick:r})=>h.jsxs("button",{onClick:r,className:"flex flex-col items-center gap-1 text-gray-500 hover:text-gray-300 transition-all",children:[h.jsx("div",{className:"",children:e}),h.jsx("span",{className:"text-[10px] font-bold",children:t})]}),QP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),h.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),jP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),h.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),h.jsx("path",{d:"M12 22V12"})]}),HP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),h.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),PP=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),h.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),VP=({currentUser:e,onNavigateToHome:t,onAddInvoice:r,onUpdateInvoice:n,onDeleteInvoice:a,onDeleteSupplier:A,invoices:c})=>{const[d,p]=_e.useState(!1),[m,y]=_e.useState(null),[b,I]=_e.useState(null),[N,R]=_e.useState(""),F=_e.useRef(null),D=_e.useRef(!1),[K,W]=_e.useState(null),[H,re]=_e.useState(!1),de=_e.useRef(null),ee=_e.useRef(null),[U,Q]=_e.useState(null),[k,Y]=_e.useState([]),[q,V]=_e.useState(null),[z,ze]=_e.useState([]),[ve,me]=_e.useState(null),oe=_e.useRef(null),Pe=_e.useRef(null),Ee=_e.useRef(null),[$e,ge]=_e.useState(null),[X,ce]=_e.useState(""),[le,ae]=_e.useState(""),[xe,Xe]=_e.useState(""),[Se,Ce]=_e.useState(""),[Ue,xt]=_e.useState(new Date().toISOString().split("T")[0]),[he,_t]=_e.useState(new Date().toISOString().split("T")[0]),Rt=_e.useMemo(()=>{const at=new Map;return c.forEach(Fe=>{const Je=at.get(Fe.supplierName)||{name:Fe.supplierName,totalAmount:0,totalPaid:0,totalRemaining:0,lastInvoiceDate:Fe.date,invoiceCount:0,invoices:[]},ye=Fe.amount-(Fe.paidAmount||0);Je.totalAmount+=Fe.amount,Je.totalPaid+=Fe.paidAmount||0,Je.totalRemaining+=ye,Je.invoiceCount+=1,Je.invoices.push(Fe),new Date(Fe.date)>new Date(Je.lastInvoiceDate)&&(Je.lastInvoiceDate=Fe.date),at.set(Fe.supplierName,Je)}),Array.from(at.values()).filter(Fe=>Fe.name.includes(N)).sort((Fe,Je)=>new Date(Je.lastInvoiceDate).getTime()-new Date(Fe.lastInvoiceDate).getTime())},[c,N]),Ut=_e.useMemo(()=>b&&Rt.find(at=>at.name===b)||null,[Rt,b]),Ie=at=>{D.current=!1,F.current=setTimeout(()=>{D.current=!0,(e.role==="admin"||e.permissions.isManager)&&(W(at),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},Re=()=>{F.current&&(clearTimeout(F.current),F.current=null)},ht=()=>{K&&(A(K.name),W(null))};_e.useEffect(()=>()=>{ee.current&&ee.current.getTracks().forEach(at=>at.stop())},[]);const Et=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}re(!0);try{const at=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});ee.current=at,de.current&&(de.current.srcObject=at,de.current.onloadedmetadata=()=>{var Fe;(Fe=de.current)==null||Fe.play().catch(Je=>console.error("Play error",Je))})}catch(at){console.error("Camera access error:",at),re(!1);let Fe="  .";(at.name==="NotAllowedError"||at.name==="PermissionDeniedError")&&(Fe="    ."),alert(Fe)}},Ar=()=>{ee.current&&(ee.current.getTracks().forEach(at=>at.stop()),ee.current=null),de.current&&(de.current.srcObject=null),re(!1)},Ct=()=>{if(de.current){const at=document.createElement("canvas");at.width=de.current.videoWidth,at.height=de.current.videoHeight;const Fe=at.getContext("2d");if(Fe){Fe.drawImage(de.current,0,0);const Je=at.toDataURL("image/jpeg",.9);Q(Je),Ar()}}};_e.useEffect(()=>{if(U&&Pe.current){oe.current&&oe.current.destroy();const at=new Cropper(Pe.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});oe.current=at}return()=>{oe.current&&(oe.current.destroy(),oe.current=null)}},[U]);const wn=at=>{const Fe=at.target.files;if(Fe&&Fe.length>0){const Je=[];Array.from(Fe).forEach(ye=>{Je.push(new Promise(nt=>{const st=new FileReader;st.onloadend=()=>nt(st.result),st.readAsDataURL(ye)}))}),Promise.all(Je).then(ye=>{Q(ye[0]),ze(ye.slice(1))})}at.target.value=""},ln=()=>{if(oe.current){const Fe=oe.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);Y(Je=>[...Je,Fe]),z.length>0?(Q(z[0]),ze(Je=>Je.slice(1))):Q(null)}},je=()=>{z.length>0?(Q(z[0]),ze(at=>at.slice(1))):Q(null)},Tt=at=>{Y(Fe=>Fe.filter((Je,ye)=>ye!==at))},Bt=at=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(at),Xt=()=>{ce(b||""),ae(""),Xe(""),Ce(""),Y([]),ze([]),_t(new Date().toISOString().split("T")[0]),xt(new Date().toISOString().split("T")[0]),ge(null)},or=at=>{ge(at.id),ce(at.supplierName),ae(at.amount.toString()),Xe(at.paidAmount?at.paidAmount.toString():""),Ce(""),xt(new Date().toISOString().split("T")[0]),_t(at.date),at.images&&at.images.length>0?Y(at.images):at.image?Y([at.image]):Y([]),p(!0)},fr=()=>{if(!X||!le)return;const at=parseFloat(xe)||0,Fe=parseFloat(Se)||0,Je=at+Fe,ye=c.find(It=>It.id===$e);let nt=(ye==null?void 0:ye.payments)||[];!$e&&Je>0?nt=[{id:`pay-${Date.now()}`,amount:Je,timestamp:new Date(he).getTime(),method:"direct"}]:$e&&Fe>0&&(nt=[...nt,{id:`pay-${Date.now()}`,amount:Fe,timestamp:new Date(Ue).getTime(),method:"direct"}]);const st={id:$e||`sup-${Date.now()}`,supplierName:X,amount:parseFloat(le),paidAmount:Je,date:he,image:k.length>0?k[0]:void 0,images:k,createdAt:$e&&(ye==null?void 0:ye.createdAt)||Date.now(),payments:nt};$e?n(st):r(st),p(!1),Xt()},Kt=Rt.reduce((at,Fe)=>at+Fe.totalRemaining,0);return h.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[h.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),h.jsx("span",{className:"text-[10px] text-red-500 font-bold",children:"    "})]}),h.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),h.jsxs("div",{className:"px-6 py-4 space-y-4 md:grid md:grid-cols-2 md:gap-4 md:space-y-0",children:[h.jsxs("div",{className:"bg-red-500/5 rounded-2xl p-4 border border-red-500/20 flex justify-between items-center shadow-lg",children:[h.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"  "}),h.jsxs("span",{className:"text-xl font-black text-red-500",children:[Bt(Kt)," ."]})]}),h.jsxs("div",{className:"relative group",children:[h.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-10 pl-4 text-white focus:border-red-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:N,onChange:at=>R(at.target.value)}),h.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:Rt.length>0?Rt.map(at=>h.jsxs("div",{onMouseDown:()=>Ie(at),onMouseUp:Re,onMouseLeave:Re,onTouchStart:()=>Ie(at),onTouchEnd:Re,onClick:()=>!D.current&&I(at.name),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer h-full",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-red-500 group-hover:scale-105 transition-all shadow-inner",children:h.jsx("span",{className:"text-xl font-black",children:at.name.charAt(0)})}),h.jsxs("div",{className:"flex-1 text-right",children:[h.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1 line-clamp-1",children:at.name}),h.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",at.invoiceCount]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[h.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),h.jsx("div",{className:"text-sm font-black text-white",children:Bt(at.totalAmount)})]}),h.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[h.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),h.jsx("div",{className:`text-sm font-black ${at.totalRemaining>0?"text-red-500":"text-[#57b385]"}`,children:Bt(at.totalRemaining)})]})]}),h.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${Math.min(100,at.totalRemaining/Math.max(1,at.totalAmount)*100)}%`}})})]},at.name)):h.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),h.jsx("p",{children:"    "})]})}),K&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),h.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),h.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),h.jsxs("p",{className:"text-sm text-gray-400",children:["      ",h.jsx("span",{className:"text-white font-bold",children:K.name}),"   (",K.invoiceCount,") "]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:ht,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),h.jsx("button",{onClick:()=>W(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),h.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-30",children:h.jsxs("button",{onClick:()=>{Xt(),p(!0)},className:"bg-red-600 hover:bg-red-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-red-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),h.jsx("span",{children:"  "})]})}),Ut&&h.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/95 md:backdrop-blur-sm flex flex-col items-center justify-center animate-in slide-in-from-bottom duration-400",children:h.jsxs("div",{className:"w-full h-full md:max-w-2xl md:h-[90vh] md:bg-[#161616] md:rounded-[3rem] md:border md:border-gray-800 flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#161616]",children:[h.jsx("button",{onClick:()=>I(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})}),h.jsx("h2",{className:"text-xl font-bold",children:"  "}),h.jsx("div",{className:"w-10"})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-red-500 shadow-xl",children:Ut.name.charAt(0)}),h.jsx("h3",{className:"text-2xl font-black",children:Ut.name}),h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsxs("span",{className:"text-[10px] bg-red-500/10 px-3 py-1 rounded-full border border-red-500/20 text-red-500 font-bold",children:[" : ",Bt(Ut.totalRemaining)," ."]}),h.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[Ut.invoiceCount," "]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:" "}),h.jsx("div",{className:"space-y-3 md:grid md:grid-cols-2 md:gap-3 md:space-y-0",children:Ut.invoices.sort((at,Fe)=>new Date(Fe.date).getTime()-new Date(at.date).getTime()).map(at=>{const Fe=at.amount-(at.paidAmount||0);return h.jsxs("div",{onClick:()=>y(at),className:"bg-[#111111] md:bg-black/40 p-4 rounded-2xl border border-gray-800 flex justify-between items-center active:scale-95 transition-all cursor-pointer group hover:border-gray-600",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-black/40 rounded-xl flex items-center justify-center text-gray-500 group-hover:text-red-500 transition-colors",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),h.jsx("path",{d:"M14 2v6h6"})]})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-white font-bold text-sm",children:at.date}),h.jsxs("div",{className:"text-[10px] text-gray-500",children:[" : ",Bt(at.paidAmount||0)]})]})]}),h.jsxs("div",{className:"text-left",children:[h.jsxs("div",{className:"text-white font-black text-sm",children:[Bt(at.amount)," ."]}),h.jsx("div",{className:`text-[10px] font-bold ${Fe>0?"text-red-500":"text-green-500"}`,children:Fe>0?`: ${Bt(Fe)}`:""})]})]},at.id)})})]})]}),h.jsx("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#161616] border-t border-gray-800 pb-10 md:pb-6",children:h.jsx("button",{onClick:()=>I(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "})})]})}),m&&h.jsx("div",{className:"fixed inset-0 z-[450] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[h.jsx("button",{onClick:()=>y(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M18 6 6 18"}),h.jsx("path",{d:"m6 6 12 12"})]})}),h.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),h.jsxs("div",{className:"text-center space-y-1",children:[h.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full mx-auto flex items-center justify-center text-red-500 border border-red-500/20 mb-2",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),h.jsx("path",{d:"M14 2v6h6"}),h.jsx("path",{d:"M16 13H8"}),h.jsx("path",{d:"M16 17H8"}),h.jsx("path",{d:"M10 9H8"})]})}),h.jsx("h3",{className:"text-2xl font-black text-white",children:m.supplierName}),h.jsx("p",{className:"text-sm text-gray-500 font-bold",children:m.date})]}),h.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/50 p-4 space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-400 text-xs font-bold",children:" "}),h.jsx("span",{className:"text-lg font-black text-white",children:Bt(m.amount)})]}),h.jsx("div",{className:"w-full h-px bg-gray-800"}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),h.jsx("span",{className:"text-sm font-black text-[#57b385]",children:Bt(m.paidAmount||0)})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),h.jsx("span",{className:`text-sm font-black ${m.amount-(m.paidAmount||0)>0?"text-red-500":"text-gray-500"}`,children:Bt(m.amount-(m.paidAmount||0))})]})]}),m.images&&m.images.length>0&&h.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.images.map((at,Fe)=>h.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800",onClick:()=>V(at),children:h.jsx("img",{src:at,alt:"Bon",className:"w-full h-full object-cover"})},Fe))}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{onClick:()=>or(m),className:"flex-1 bg-orange-500 hover:bg-orange-400 text-white py-4 rounded-2xl font-bold shadow-lg active:scale-95 transition-all",children:""}),h.jsx("button",{onClick:()=>{a(m.id),y(null)},className:"flex-1 bg-[#1a1a1a] text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),H&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[h.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[h.jsx("video",{ref:de,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:h.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),h.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[h.jsx("button",{onClick:Ar,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),h.jsx("button",{onClick:Ct,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20",children:h.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),h.jsx("div",{className:"w-14"})]})]})}),d&&h.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"text-xl font-black text-white mb-1",children:$e?" ":"  "}),h.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),k.length>0&&h.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:k.map((at,Fe)=>h.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[h.jsx("img",{src:at,alt:`Img ${Fe}`,className:"w-full h-full object-cover"}),h.jsx("button",{onClick:()=>Tt(Fe),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},Fe))}),h.jsxs("div",{className:"flex gap-2 w-full",children:[h.jsxs("button",{onClick:Et,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-2",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),h.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),h.jsx("span",{className:"text-[10px] font-bold",children:""})]}),h.jsxs("div",{onClick:()=>{var at;return(at=Ee.current)==null?void 0:at.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 flex items-center justify-center hover:border-red-500/50 transition-all cursor-pointer",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"17 8 12 3 7 8"}),h.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),h.jsx("span",{className:"text-[10px] font-bold",children:" "})]}),h.jsx("input",{ref:Ee,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:wn})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),h.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none transition-all text-right font-bold md:text-sm",value:X,onChange:at=>ce(at.target.value),autoFocus:!0})]}),h.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),h.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-center font-black text-lg md:text-sm",value:le,onChange:at=>ae(at.target.value)})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:$e?" ":" "}),h.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] text-center font-black text-lg md:text-sm opacity-70",value:xe,onChange:at=>Xe(at.target.value),readOnly:!!$e})]})]}),$e&&h.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-300",children:[h.jsx("label",{className:"text-[10px] text-[#57b385] font-bold mr-2",children:"  ( )"}),h.jsx("input",{type:"number",className:"w-full bg-[#57b385]/10 border border-[#57b385]/50 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] outline-none text-center font-black text-lg md:text-sm placeholder:text-[#57b385]/30",value:Se,onChange:at=>Ce(at.target.value),placeholder:"0.00"})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),h.jsx("input",{type:"date",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-right md:text-sm",value:he,onChange:at=>_t(at.target.value)})]})]}),h.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[h.jsx("button",{onClick:fr,disabled:!X||!le,className:"w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg bg-red-600 hover:bg-red-500 disabled:bg-gray-800 active:scale-95 transition-all",children:""}),h.jsx("button",{onClick:()=>{p(!1),Xt()},className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),U&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[h.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:h.jsx("img",{ref:Pe,src:U,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),h.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4",children:[h.jsx("button",{onClick:ln,className:"flex-1 bg-red-600 text-white py-4 rounded-2xl font-black text-lg active:scale-95",children:" "}),h.jsx("button",{onClick:je,className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]})}),q&&h.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>V(null),children:[h.jsx("img",{src:q,alt:"Full",className:"max-w-full max-h-full object-contain"}),h.jsx("button",{className:"absolute top-6 right-6 p-4 bg-white/10 rounded-full text-white",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:h.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},GP=({onNavigateToHome:e,requests:t,onAddRequest:r,onUpdateRequest:n,onDeleteRequest:a,settings:A})=>{var ln;const[c,d]=_e.useState(!1),[p,m]=_e.useState(null),[y,b]=_e.useState(""),[I,N]=_e.useState(null),[R,F]=_e.useState(!1),[D,K]=_e.useState([]),W=_e.useRef(null),H=_e.useRef(null),[re,de]=_e.useState(""),[ee,U]=_e.useState([]),[Q,k]=_e.useState(null),[Y,q]=_e.useState([]),[V,z]=_e.useState(null),[ze,ve]=_e.useState(null),[me,oe]=_e.useState(!1),[Pe,Ee]=_e.useState(!1),$e=_e.useRef(null),ge=_e.useRef(null),X=_e.useRef(null),ce=_e.useRef(null),le=_e.useRef(null);_e.useEffect(()=>()=>{H.current&&H.current.getTracks().forEach(je=>je.stop())},[]);const ae=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}K([]),F(!0);try{const je=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});H.current=je,W.current&&(W.current.srcObject=je,W.current.onloadedmetadata=()=>{var Tt;(Tt=W.current)==null||Tt.play().catch(Bt=>console.error("Play error",Bt))})}catch(je){console.error("Camera access error:",je),F(!1);let Tt="  .";(je.name==="NotAllowedError"||je.name==="PermissionDeniedError")&&(Tt="    .      ."),alert(Tt)}},xe=()=>{H.current&&(H.current.getTracks().forEach(je=>je.stop()),H.current=null),W.current&&(W.current.srcObject=null),F(!1)},Xe=()=>{if(W.current){const je=document.createElement("canvas");je.width=W.current.videoWidth,je.height=W.current.videoHeight;const Tt=je.getContext("2d");if(Tt){Tt.drawImage(W.current,0,0);const Bt=je.toDataURL("image/jpeg",.9);K(Xt=>[...Xt,Bt]),navigator.vibrate&&navigator.vibrate(50)}}},Se=()=>{D.length>0&&(k(D[0]),q(D.slice(1))),xe()};_e.useEffect(()=>{if(Q&&le.current){ce.current&&ce.current.destroy();const je=new Cropper(le.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});ce.current=je}return()=>{ce.current&&(ce.current.destroy(),ce.current=null)}},[Q]);const Ce=_e.useMemo(()=>t.filter(je=>je.status==="pending").filter(je=>je.productName.toLowerCase().includes(y.toLowerCase())),[t,y]),Ue=()=>{de(""),U([]),q([]),N(null)},xt=()=>{Ue(),d(!0)},he=je=>{N(je.id),de(je.productName),je.images&&je.images.length>0?U(je.images):je.image?U([je.image]):U([]),d(!0),m(null)},_t=je=>{const Tt=je.target.files;if(Tt&&Tt.length>0){const Bt=[];Array.from(Tt).forEach(Xt=>{Bt.push(new Promise(or=>{const fr=new FileReader;fr.onloadend=()=>or(fr.result),fr.readAsDataURL(Xt)}))}),Promise.all(Bt).then(Xt=>{k(Xt[0]),q(Xt.slice(1))})}je.target.value=""},Rt=()=>{if(ce.current){const Tt=ce.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);U(Bt=>[...Bt,Tt]),Y.length>0?(k(Y[0]),q(Bt=>Bt.slice(1))):k(null)}},Ut=()=>{Y.length>0?(k(Y[0]),q(je=>je.slice(1))):k(null)},Ie=je=>{U(Tt=>Tt.filter((Bt,Xt)=>Xt!==je))},Re=()=>{var Tt;if(!re)return;const je={id:I||`req-${Date.now()}`,productName:re,image:ee.length>0?ee[0]:void 0,images:ee,status:"pending",createdAt:I&&((Tt=t.find(Bt=>Bt.id===I))==null?void 0:Tt.createdAt)||Date.now()};I?n(je):r(je),d(!1),Ue()},ht=()=>{ze&&(a(ze),ve(null),m(null))},Et=async()=>{if(!(!p||!ge.current)){oe(!0);try{(await Pl(ge.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Tt=>{if(!Tt){oe(!1),alert("  ");return}try{const Bt=new ClipboardItem({"image/png":Tt});await navigator.clipboard.write([Bt]),window.open("https://wa.me/","_blank")}catch(Bt){console.error("Clipboard failed",Bt),alert("       ."),window.open("https://wa.me/","_blank")}finally{oe(!1)}},"image/png",1)}catch(je){console.error("Share error",je),oe(!1)}}},Ar=async()=>{if(!(Ce.length===0||!$e.current)){Ee(!0);try{(await Pl($e.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Tt=>{if(!Tt){Ee(!1),alert("  ");return}try{const Bt=new ClipboardItem({"image/png":Tt});await navigator.clipboard.write([Bt]),window.open("https://wa.me/","_blank")}catch(Bt){console.error("Clipboard failed",Bt),window.open("https://wa.me/","_blank")}finally{Ee(!1)}},"image/png",1)}catch(je){console.error("Share error",je),Ee(!1)}}},Ct=()=>{if(!p)return;const je=window.open("","_blank");if(!je){alert("   ");return}const Tt=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>  - ${p.productName}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 40px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 20px; }
            .content { margin-top: 30px; font-size: 24px; text-align: center; }
            .images { display: grid; grid-template-cols: 1fr 1fr; gap: 20px; margin-top: 30px; }
            img { width: 100%; border-radius: 12px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${A.businessName}</h3>
            <h1> </h1>
            <p>: ${new Date(p.createdAt).toLocaleDateString("ar-MA")}</p>
          </div>
          <div class="content">
            <strong> :</strong>
            <p>${p.productName}</p>
          </div>
          <div class="images">
            ${(p.images||[]).map(Bt=>`<img src="${Bt}" />`).join("")}
          </div>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;je.document.write(Tt),je.document.close()},wn=()=>{if(Ce.length===0)return;const je=window.open("","_blank");if(!je){alert("   ");return}const Tt=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title> </title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 30px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
            table { width: 100%; border-collapse: collapse; }
            th { background: #f4f4f4; padding: 12px; border: 1px solid #ddd; text-align: right; }
            td { padding: 12px; border: 1px solid #ddd; }
            .date { font-size: 12px; color: #666; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${A.businessName}</h3>
            <h1>  </h1>
            <p class="date"> : ${new Date().toLocaleDateString("ar-MA")}</p>
          </div>
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th> </th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              ${Ce.map((Bt,Xt)=>`
                <tr>
                  <td>${Xt+1}</td>
                  <td><strong>${Bt.productName}</strong></td>
                  <td>${new Date(Bt.createdAt).toLocaleDateString("ar-MA")}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;je.document.write(Tt),je.document.close()};return h.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[h.jsxs("div",{ref:ge,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[h.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[h.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:A.businessName}),h.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),h.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",p?new Date(p.createdAt).toLocaleDateString("ar-MA"):""]})]}),h.jsxs("div",{style:{padding:"20px",backgroundColor:"#f9fafb",borderRadius:"12px",border:"1px solid #eee",textAlign:"center"},children:[h.jsx("p",{style:{fontSize:"16px",color:"#666",marginBottom:"5px"},children:"  :"}),h.jsx("h2",{style:{fontSize:"24px",fontWeight:"900",margin:0},children:p==null?void 0:p.productName})]})]}),h.jsxs("div",{ref:$e,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[h.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[h.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:A.businessName}),h.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:"  (Demand)"}),h.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[h.jsx("thead",{children:h.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[h.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),h.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"14px",width:"30%"},children:""})]})}),h.jsx("tbody",{children:Ce.map((je,Tt)=>h.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[h.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:je.productName}),h.jsx("td",{style:{padding:"12px 10px",fontSize:"14px",textAlign:"center"},children:" "})]},Tt))})]}),h.jsx("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:h.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:["  : ",Ce.length]})})]}),h.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),h.jsx("span",{className:"text-[10px] text-blue-500 font-bold",children:"    "})]}),h.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),h.jsx("div",{className:"px-6 py-4",children:h.jsxs("div",{className:"relative group md:max-w-2xl md:mx-auto",children:[h.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3.5 pr-10 pl-4 text-white focus:border-blue-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:y,onChange:je=>b(je.target.value)}),h.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),h.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:max-w-2xl md:mx-auto w-full",children:Ce.length>0?Ce.map(je=>{var Tt;return h.jsxs("div",{onClick:()=>m(je),className:"bg-[#111111] rounded-[2rem] border border-gray-800/60 p-4 flex items-center gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer w-full hover:border-gray-600 shadow-lg shadow-black/20",children:[h.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-blue-500 overflow-hidden shadow-inner",children:je.image||je.images&&je.images.length>0?h.jsx("img",{src:((Tt=je.images)==null?void 0:Tt[0])||je.image,alt:"req",className:"w-full h-full object-cover"}):h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),h.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),h.jsx("path",{d:"M12 11h4"}),h.jsx("path",{d:"M12 16h4"}),h.jsx("path",{d:"M8 11h.01"}),h.jsx("path",{d:"M8 16h.01"})]})}),h.jsxs("div",{className:"flex-1 text-right",children:[h.jsx("h3",{className:"text-lg font-black text-white leading-tight line-clamp-1",children:je.productName}),h.jsxs("p",{className:"text-[10px] text-gray-500 font-bold mt-1",children:[" : ",new Date(je.createdAt).toLocaleDateString("ar-MA")]})]}),h.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-600 group-hover:text-blue-500 transition-colors",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})})]},je.id)}):h.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M16 4h2a2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),h.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"})]}),h.jsx("p",{children:"   "})]})}),h.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[h.jsx("button",{onClick:wn,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:"  ",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),h.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),h.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),h.jsx("button",{onClick:Ar,disabled:Pe,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${Pe?"opacity-50 cursor-wait":""}`,title:"  ",children:Pe?h.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/80 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:h.jsxs("button",{onClick:xt,className:"pointer-events-auto bg-blue-600 hover:bg-blue-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-blue-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),h.jsx("span",{children:"  "})]})}),p&&h.jsx("div",{className:"fixed inset-0 z-[150] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[h.jsx("button",{onClick:()=>m(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M18 6 6 18"}),h.jsx("path",{d:"m6 6 12 12"})]})}),h.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),h.jsxs("div",{className:"text-center space-y-3",children:[h.jsx("div",{onClick:()=>{var Tt;const je=((Tt=p.images)==null?void 0:Tt[0])||p.image;je&&z(je)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] mx-auto flex items-center justify-center text-blue-500 border border-blue-500/20 shadow-2xl overflow-hidden cursor-pointer active:scale-95 transition-transform",children:p.image||p.images&&p.images.length>0?h.jsx("img",{src:((ln=p.images)==null?void 0:ln[0])||p.image,alt:"req",className:"w-full h-full object-cover"}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})})}),h.jsx("h3",{className:"text-2xl font-black text-white",children:p.productName}),h.jsx("p",{className:"text-sm text-gray-500 font-bold bg-black/40 px-4 py-1.5 rounded-full inline-block",children:new Date(p.createdAt).toLocaleDateString("ar-MA")})]}),p.images&&p.images.length>1&&h.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.images.slice(1).map((je,Tt)=>h.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800 cursor-pointer active:scale-95 transition-transform",onClick:()=>z(je),children:h.jsx("img",{src:je,alt:"req",className:"w-full h-full object-cover"})},Tt))}),h.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("button",{onClick:Et,disabled:me,className:`bg-[#25D366] text-white py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all ${me?"opacity-50":""}`,children:[me?h.jsx("svg",{className:"animate-spin",width:"20",height:"20",viewBox:"0 0 24 24",children:h.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),""]}),h.jsxs("button",{onClick:Ct,className:"bg-white text-black py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),h.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),h.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),""]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx("button",{onClick:()=>he(p),className:"bg-orange-500/10 text-orange-500 border border-orange-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-orange-500 hover:text-white transition-all",children:" "}),h.jsx("button",{onClick:()=>ve(p.id),className:"bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-red-500 hover:text-white transition-all",children:" "})]})]})]})}),c&&h.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"text-xl font-black text-white mb-1",children:I?" ":" "}),h.jsx("p",{className:"text-xs text-gray-500",children:"      "})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  ()"}),ee.length>0&&h.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:ee.map((je,Tt)=>h.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[h.jsx("img",{src:je,alt:`Img ${Tt}`,className:"w-full h-full object-cover"}),h.jsx("button",{onClick:()=>Ie(Tt),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},Tt))}),h.jsxs("div",{className:"flex gap-2 w-full",children:[h.jsxs("button",{onClick:ae,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-1 active:scale-95",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),h.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),h.jsx("span",{className:"text-[10px] font-bold",children:""})]}),h.jsx("div",{onClick:()=>{var je;return(je=X.current)==null?void 0:je.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 hover:border-blue-500 hover:bg-blue-500/5 transition-all cursor-pointer flex flex-col items-center justify-center relative overflow-hidden group active:scale-95",children:h.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500 group-hover:text-blue-500 transition-colors",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"17 8 12 3 7 8"}),h.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),h.jsx("span",{className:"text-[10px] font-bold",children:" "})]})})]}),h.jsx("input",{ref:X,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:_t})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  "}),h.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-3 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold text-lg md:text-sm",value:re,onChange:je=>de(je.target.value),placeholder:"  ...",autoFocus:!0})]})]}),h.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[h.jsx("button",{onClick:Re,disabled:!re,className:`w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${re?"bg-blue-600 hover:bg-blue-500":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:I?" ":" "}),h.jsx("button",{onClick:()=>d(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),R&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[h.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[h.jsx("video",{ref:W,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),D.length>0&&h.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 bg-blue-600 px-4 py-1.5 rounded-full border-2 border-white shadow-lg animate-bounce",children:h.jsxs("span",{className:"text-sm font-black text-white",children:[D.length,"  "]})}),h.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:h.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),h.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[h.jsx("button",{onClick:xe,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),h.jsx("button",{onClick:Xe,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20 relative",children:h.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),D.length>0?h.jsx("button",{onClick:Se,className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white active:scale-90 transition-all shadow-xl shadow-green-900/40",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:h.jsx("polyline",{points:"20 6 9 17 4 12"})})}):h.jsx("div",{className:"w-14"})]})]})}),Q&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[h.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:h.jsx("img",{ref:le,src:Q,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),h.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 items-center",children:[h.jsx("div",{className:"flex-1",children:h.jsx("button",{onClick:Rt,className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all",children:Y.length>0?` (${Y.length+1} )`:" "})}),h.jsx("div",{className:"flex-1",children:h.jsx("button",{onClick:Ut,className:"w-full bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:Y.length>0?"":""})})]})]})}),ze&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:h.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),h.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:ht,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),h.jsx("button",{onClick:()=>ve(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),V&&h.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>z(null),children:[h.jsx("img",{src:V,alt:"Full",className:"max-w-full max-h-full object-contain shadow-2xl"}),h.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90 transition-all",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:h.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},KP=({onNavigateToHome:e,checks:t,onAddCheck:r,onUpdateCheck:n,onDeleteCheck:a,settings:A})=>{const[c,d]=_e.useState("primary"),[p,m]=_e.useState(!1),[y,b]=_e.useState(""),[I,N]=_e.useState(null),[R,F]=_e.useState(null),[D,K]=_e.useState(!1),W=_e.useRef(null),[H,re]=_e.useState(null),[de,ee]=_e.useState(new Date().toISOString().split("T")[0]),[U,Q]=_e.useState(""),[k,Y]=_e.useState(""),[q,V]=_e.useState(new Date().toISOString().split("T")[0]),[z,ze]=_e.useState(""),ve=new Date().toISOString().split("T")[0],me=_e.useMemo(()=>c==="primary"?{name:"  1",accentColor:"text-purple-500",bgColor:"bg-purple-600",btnBg:"bg-purple-600 hover:bg-purple-500",borderColor:"focus:border-purple-500",shadow:"shadow-purple-900/30",lightBg:"bg-purple-500/10",lightText:"text-purple-400",borderLight:"border-purple-500/20"}:{name:"  2",accentColor:"text-blue-500",bgColor:"bg-blue-600",btnBg:"bg-blue-600 hover:bg-blue-500",borderColor:"focus:border-blue-500",shadow:"shadow-blue-900/30",lightBg:"bg-blue-500/10",lightText:"text-blue-400",borderLight:"border-blue-500/20"},[c]),oe=_e.useMemo(()=>t.filter(Se=>{if((Se.checkbookType||"primary")!==c||!(Se.name.includes(y)||Se.amount.toString().includes(y)||Se.serialNumber&&Se.serialNumber.includes(y)))return!1;if(R!==null)try{if(parseInt(Se.paymentDate.split("-")[1],10)!==R)return!1}catch{return!1}return!0}),[t,y,R,c]),Pe=_e.useMemo(()=>oe.reduce((Se,Ce)=>Ce.paymentDate<ve?Se:Se+Ce.amount,0),[oe,ve]),Ee=()=>{const Se=new Date;if(ee(Se.toISOString().split("T")[0]),Q(""),Y(""),R!==null){const Ce=Se.getFullYear(),Ue=new Date(Ce,R,0).getDate(),xt=Math.min(Se.getDate(),Ue),he=R.toString().padStart(2,"0"),_t=xt.toString().padStart(2,"0");V(`${Ce}-${he}-${_t}`)}else V(Se.toISOString().split("T")[0]);ze(""),N(null)},$e=()=>{Ee(),m(!0)},ge=Se=>{N(Se.id),ee(Se.creationDate),Q(Se.name),Y(Se.amount.toString()),V(Se.paymentDate),ze(Se.serialNumber||""),m(!0)},X=()=>{var Ce;if(!U||!k)return;const Se={id:I||`chk-${Date.now()}`,creationDate:de,name:U,amount:parseFloat(k),paymentDate:q,serialNumber:z,checkbookType:c,createdAt:I&&((Ce=t.find(Ue=>Ue.id===I))==null?void 0:Ce.createdAt)||Date.now()};I?n(Se):r(Se),m(!1),Ee()},ce=()=>{H&&(a(H),re(null),m(!1),Ee())},le=()=>{if(oe.length===0){alert("   ");return}const Se=window.open("","_blank");if(!Se){alert("   ");return}const Ce=R?` ${R}`:" ",Ue=c==="primary"?"  1":"  2",xt=`
        <!DOCTYPE html>
        <html lang="ar" dir="rtl">
        <head>
            <title> </title>
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
                body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
                .header { text-align: center; margin-bottom: 20px; border-bottom: 2px dashed #000; padding-bottom: 10px; }
                h2 { margin: 0; font-size: 20px; }
                p { margin: 5px 0 0; color: #555; font-size: 14px; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th { border-bottom: 2px solid #000; padding: 8px; font-weight: 800; font-size: 14px; }
                td { padding: 8px; border-bottom: 1px solid #ddd; font-size: 14px; }
                .amount-col { text-align: left; font-weight: bold; }
                .status-paid { color: green; font-size: 12px; }
                .total { margin-top: 30px; border-top: 2px solid #000; padding-top: 15px; font-weight: 900; font-size: 18px; display: flex; justify-content: space-between; }
                @media print {
                   @page { margin: 0; size: A4; }
                   body { padding: 1cm; }
                }
            </style>
        </head>
        <body>
            <div class="header">
                <h3>${A.businessName}</h3>
                <h2>   - ${Ue}</h2>
                <p>: ${Ce}</p>
                <p> : ${new Date().toLocaleDateString("ar-MA")}</p>
            </div>
            <table>
                <thead>
                    <tr>
                        <th style="text-align: right;"> </th>
                        <th style="text-align: center;"></th>
                        <th style="text-align: left;"> (.)</th>
                    </tr>
                </thead>
                <tbody>
                    ${oe.map(he=>{const _t=he.paymentDate<ve;return`
                        <tr>
                            <td>${he.name} ${_t?'<span class="status-paid">( )</span>':""}</td>
                            <td style="text-align: center;">${he.paymentDate}</td>
                            <td class="amount-col">${he.amount.toFixed(2)}</td>
                        </tr>
                    `}).join("")}
                </tbody>
            </table>
            <div class="total">
                <span> ( ):</span>
                <span>${Pe.toFixed(2)} .</span>
            </div>
            <script>
                window.onload = function() { window.print(); setTimeout(function(){ window.close() }, 500); }
            <\/script>
        </body>
        </html>
    `;Se.document.write(xt),Se.document.close()},ae=async()=>{if(oe.length!==0&&W.current){K(!0);try{(await Pl(W.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Ce=>{if(!Ce){alert("  "),K(!1);return}try{const Ue=new ClipboardItem({"image/png":Ce});await navigator.clipboard.write([Ue]),window.open("https://wa.me/","_blank")}catch(Ue){console.error("Clipboard failed",Ue),alert("  .      ."),window.open("https://wa.me/","_blank")}finally{K(!1)}},"image/png",1)}catch(Se){console.error("Error generating report image",Se),K(!1),alert("    ")}}},xe=R?` ${R}`:" ",Xe=c==="primary"?"  1":"  2";return h.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[h.jsxs("div",{ref:W,style:{position:"fixed",top:0,left:-9999,width:"600px",padding:"40px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[h.jsxs("div",{style:{textAlign:"center",borderBottom:"3px solid #000",paddingBottom:"20px",marginBottom:"20px"},children:[h.jsx("h3",{style:{fontSize:"22px",fontWeight:"bold",margin:"0 0 5px 0"},children:A.businessName}),h.jsxs("h1",{style:{fontSize:"28px",fontWeight:"900",margin:0,color:"#000"},children:["  (",Xe,")"]}),h.jsxs("p",{style:{fontSize:"18px",color:"#555",marginTop:"10px"},children:[": ",xe]}),h.jsxs("p",{style:{fontSize:"14px",color:"#777"},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"30px"},children:[h.jsx("thead",{children:h.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[h.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),h.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"center",fontSize:"16px"},children:""}),h.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:""})]})}),h.jsx("tbody",{children:oe.map((Se,Ce)=>{const Ue=Se.paymentDate<ve;return h.jsxs("tr",{style:{borderBottom:"1px solid #ddd",backgroundColor:Ue?"#f0fff4":"transparent"},children:[h.jsxs("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"bold"},children:[Se.name,Ue&&h.jsx("span",{style:{color:"green",fontSize:"12px",marginRight:"5px"},children:"( )"})]}),h.jsx("td",{style:{padding:"12px",fontSize:"14px",textAlign:"center",fontFamily:"monospace"},children:Se.paymentDate}),h.jsx("td",{style:{padding:"12px",fontSize:"16px",textAlign:"left",fontWeight:"900"},children:Se.amount.toFixed(2)})]},Ce)})})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#000",color:"white",padding:"15px 20px",borderRadius:"12px"},children:[h.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" ( ):"}),h.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[Pe.toFixed(2)," ."]})]})]}),h.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),h.jsxs("span",{className:`text-[10px] ${me.accentColor} font-bold transition-colors`,children:[me.name," -  "]})]}),h.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),h.jsx("div",{className:"px-6 pb-4 md:pt-4",children:h.jsxs("div",{className:"flex bg-[#1a1a1a] p-1 rounded-2xl border border-gray-800 relative max-w-lg md:mx-auto",children:[h.jsx("button",{onClick:()=>d("primary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${c==="primary"?"bg-purple-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  1"}),h.jsx("button",{onClick:()=>d("secondary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${c==="secondary"?"bg-blue-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  2"})]})}),h.jsx("div",{className:"px-6 pb-4",children:h.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-4 border border-gray-800 flex justify-between items-center shadow-lg transition-all md:max-w-lg md:mx-auto",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-8 h-8 ${me.lightBg} rounded-lg flex items-center justify-center ${me.accentColor} transition-colors`,children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("path",{d:"M12 2v20"}),h.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{className:"text-gray-400 text-xs font-bold",children:[" ",me.name]}),h.jsx("span",{className:"text-[9px] text-gray-600",children:"(   )"})]})]}),h.jsxs("span",{className:"text-xl font-black text-white tracking-tight",children:[Pe.toFixed(2)," ",h.jsx("span",{className:`text-xs ${me.accentColor}`,children:"."})]})]})}),h.jsxs("div",{className:"px-6 pb-4 md:grid md:grid-cols-2 md:gap-4 md:items-start",children:[h.jsxs("div",{className:"relative group",children:[h.jsx("input",{type:"text",placeholder:"    ...",className:`w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white ${me.borderColor} outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm`,value:y,onChange:Se=>b(Se.target.value)}),h.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})})]}),h.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2 overflow-x-auto custom-scrollbar pb-2 no-scrollbar",children:[h.jsx("button",{onClick:()=>F(null),className:`px-4 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap flex-shrink-0 ${R===null?`${me.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:""}),Array.from({length:12},(Se,Ce)=>Ce+1).map(Se=>h.jsx("button",{onClick:()=>F(Se===R?null:Se),className:`w-10 h-10 min-w-[40px] rounded-xl text-xs font-bold flex items-center justify-center transition-all flex-shrink-0 ${R===Se?`${me.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:Se},Se))]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:oe.length>0?oe.map(Se=>{const Ce=Se.paymentDate<ve;return h.jsxs("div",{onClick:()=>ge(Se),className:`bg-[#111111] rounded-2xl border p-4 flex flex-col gap-2 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full ${Ce?"border-green-500/30 bg-green-900/5":"border-gray-800/60"}`,children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-12 h-12 rounded-xl border flex items-center justify-center ${Ce?"bg-green-500/10 border-green-500/20 text-green-500":`bg-[#1a1a1a] border-gray-800 ${me.accentColor}`}`,children:Ce?h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M20 6 9 17l-5-5"})}):h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),h.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:`font-bold text-base leading-tight mb-0.5 line-clamp-1 ${Ce?"text-green-100":"text-white"}`,children:Se.name}),Se.serialNumber&&h.jsxs("span",{className:`text-[10px] ${me.lightBg} ${me.lightText} px-1.5 py-0.5 rounded border ${me.borderLight} font-mono`,children:["#",Se.serialNumber]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-[10px] text-gray-500 block",children:[" : ",Se.paymentDate]}),Ce&&h.jsx("span",{className:"text-[8px] bg-green-500 text-white px-1.5 py-0.5 rounded-full font-bold",children:" "})]})]})]}),h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:`text-lg font-black ${Ce?"text-green-500":"text-white"}`,children:Se.amount.toFixed(2)}),h.jsx("span",{className:"text-[10px] text-gray-500 block font-bold",children:"."})]})]}),h.jsx("div",{className:"w-full h-px bg-gray-800/50 my-1 mt-auto"}),h.jsx("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:h.jsxs("span",{children:[" : ",Se.creationDate]})})]},Se.id)}):h.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),h.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),h.jsx("p",{children:"   "})]})}),h.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[h.jsx("button",{onClick:le,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:" ",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),h.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),h.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),h.jsx("button",{onClick:ae,disabled:D,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${D?"opacity-50 cursor-wait":""}`,title:"   ",children:D?h.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:h.jsxs("button",{onClick:$e,className:`pointer-events-auto ${me.btnBg} text-white px-8 py-4 rounded-full font-black ${me.shadow} shadow-2xl active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]`,children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),h.jsx("span",{children:" "})]})}),p&&h.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"text-xl font-black text-white mb-1",children:I?" ":" "}),h.jsx("p",{className:`text-xs ${me.accentColor} font-bold`,children:me.name})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),h.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${me.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:de,onChange:Se=>ee(Se.target.value)})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),h.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${me.borderColor} outline-none transition-all text-right font-bold font-mono md:text-sm`,value:z,onChange:Se=>ze(Se.target.value),placeholder:"  "})]})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" ()"}),h.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${me.borderColor} outline-none transition-all text-right font-bold text-lg md:text-sm`,value:U,onChange:Se=>Q(Se.target.value),placeholder:"  ...",autoFocus:!0})]}),h.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),h.jsx("input",{type:"number",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${me.borderColor} outline-none transition-all text-center font-black text-lg md:text-sm`,value:k,onChange:Se=>Y(Se.target.value),placeholder:"0.00"})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),h.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${me.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:q,onChange:Se=>V(Se.target.value)})]})]})]}),h.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[h.jsx("div",{className:"flex gap-2",children:h.jsx("button",{onClick:X,disabled:!U||!k,className:`flex-1 py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!U||!k?"bg-gray-800 opacity-50":`${me.btnBg}`}`,children:""})}),I&&h.jsx("button",{onClick:()=>re(I),className:"w-full bg-red-500/10 text-red-500 py-3 md:py-2.5 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),h.jsx("button",{onClick:()=>m(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),H&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),h.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),h.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),h.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:ce,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),h.jsx("button",{onClick:()=>re(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},zP=({onNavigateToHome:e,orders:t,onAddOrder:r,onUpdateOrder:n,onDeleteOrder:a,settings:A})=>{const[c,d]=_e.useState(!1),[p,m]=_e.useState(""),[y,b]=_e.useState(null),[I,N]=_e.useState(null),[R,F]=_e.useState([]),[D,K]=_e.useState(""),[W,H]=_e.useState(""),[re,de]=_e.useState(!1),ee=_e.useRef(null),U=_e.useMemo(()=>t.filter(oe=>{const Pe=oe.items.some($e=>$e.name.includes(p)),Ee=oe.productName&&oe.productName.includes(p);return Pe||Ee}).sort((oe,Pe)=>Pe.createdAt-oe.createdAt),[t,p]),Q=()=>{F([]),K(""),H(""),b(null)},k=()=>{Q(),d(!0)},Y=oe=>{b(oe.id),K(""),H(""),oe.items&&oe.items.length>0?F([...oe.items]):oe.productName?F([{id:`legacy-${Date.now()}`,name:oe.productName,quantity:oe.quantity||1}]):F([]),d(!0)},q=()=>{if(!D||!W)return;const oe={id:`item-${Date.now()}-${Math.random()}`,name:D,quantity:parseFloat(W)};F(Pe=>[...Pe,oe]),K(""),H("")},V=oe=>{F(Pe=>Pe.filter(Ee=>Ee.id!==oe))},z=()=>{var Pe;if(R.length===0)return;const oe={id:y||`ord-${Date.now()}`,items:R,productName:void 0,quantity:void 0,status:"pending",createdAt:y&&((Pe=t.find(Ee=>Ee.id===y))==null?void 0:Pe.createdAt)||Date.now()};y?n(oe):r(oe),d(!1),Q()},ze=()=>{I&&(a(I),N(null),d(!1),Q())},ve=()=>{if(R.length===0)return;const oe=window.open("","_blank");if(!oe){alert("   ");return}const Pe=A.specialOrderLabel||" ",Ee=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>${Pe}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
            .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
            h2 { margin: 0; }
            ul { list-style: none; padding: 0; }
            li { padding: 10px 0; border-bottom: 1px dashed #ccc; display: flex; justify-content: space-between; font-size: 18px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${A.businessName}</h3>
            <h2>${Pe}</h2>
            <p>: ${new Date().toLocaleDateString("ar-MA")}</p>
          </div>
          <ul>
            ${R.map($e=>`<li><span>${$e.name}</span><span>${$e.quantity}</span></li>`).join("")}
          </ul>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;oe.document.write(Ee),oe.document.close()},me=async()=>{if(!(R.length===0||!ee.current)){de(!0);try{(await Pl(ee.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Pe=>{if(!Pe){de(!1),alert("  ");return}try{const Ee=new ClipboardItem({"image/png":Pe});await navigator.clipboard.write([Ee]),window.open("https://wa.me/","_blank")}catch(Ee){console.error("Clipboard write failed:",Ee),alert("   .    ."),window.open("https://wa.me/","_blank")}finally{de(!1)}},"image/png",1)}catch(oe){console.error("Error generating image:",oe),de(!1)}}};return h.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[c&&h.jsxs("div",{ref:ee,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[h.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[h.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:A.businessName}),h.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:A.specialOrderLabel||" "}),h.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric"})]})]}),h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[h.jsx("thead",{children:h.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[h.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),h.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:""})]})}),h.jsx("tbody",{children:R.map((oe,Pe)=>h.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[h.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:oe.name}),h.jsx("td",{style:{padding:"12px 10px",fontSize:"20px",fontWeight:"900",textAlign:"center"},children:oe.quantity})]},Pe))})]}),h.jsxs("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:[h.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:[" : ",R.length]}),h.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:"    MAMA"})]})]}),h.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),h.jsx("span",{className:"text-[10px] text-rose-500 font-bold",children:"   "})]}),h.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),h.jsx("div",{className:"px-6 py-4",children:h.jsxs("div",{className:"relative group",children:[h.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white focus:border-rose-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:p,onChange:oe=>m(oe.target.value)}),h.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),h.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:U.length>0?U.map(oe=>h.jsxs("div",{onClick:()=>Y(oe),className:"bg-[#111111] rounded-2xl border border-gray-800/60 p-4 flex justify-between items-start gap-3 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full hover:border-gray-600",children:[h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-12 h-12 min-w-[48px] bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-rose-500 mt-1",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h3",{className:"font-black text-sm text-gray-400 mb-1",children:new Date(oe.createdAt).toLocaleDateString("ar-MA")}),h.jsxs("div",{className:"space-y-1",children:[oe.items.slice(0,2).map((Pe,Ee)=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-white font-bold text-sm",children:Pe.name}),h.jsxs("span",{className:"text-[10px] text-rose-500 bg-rose-500/10 px-1.5 py-0.5 rounded font-mono",children:["x",Pe.quantity]})]},Ee)),oe.items.length>2&&h.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",oe.items.length-2,"  ..."]})]})]})]}),h.jsx("div",{className:"bg-[#1a1a1a] px-2 py-1 rounded-lg border border-gray-800",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-500",children:h.jsx("path",{d:"m15 18-6-6 6-6"})})})]},oe.id)):h.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:h.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),h.jsx("p",{children:"    "})]})}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:h.jsxs("button",{onClick:k,className:"pointer-events-auto bg-rose-600 hover:bg-rose-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-rose-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),h.jsx("span",{children:"  "})]})}),c&&h.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 flex flex-col max-h-[90vh]",children:[h.jsxs("div",{className:"text-center flex-shrink-0",children:[h.jsx("h3",{className:"text-xl font-black text-white mb-1",children:y?" ":"  "}),h.jsx("p",{className:"text-xs text-rose-500 font-bold",children:"   "})]}),h.jsxs("div",{className:"flex gap-2 items-center flex-shrink-0",children:[h.jsx("div",{className:"flex-1 space-y-1",children:h.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-3 text-white focus:border-rose-500 outline-none transition-all text-right font-bold text-sm",value:D,onChange:oe=>K(oe.target.value),placeholder:" ...",onKeyDown:oe=>oe.key==="Enter"&&q()})}),h.jsx("div",{className:"w-20 space-y-1",children:h.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-1 text-white focus:border-rose-500 outline-none transition-all text-center font-black text-sm",value:W,onChange:oe=>H(oe.target.value),placeholder:"",onKeyDown:oe=>oe.key==="Enter"&&q()})}),h.jsx("button",{onClick:q,disabled:!D||!W,className:`w-12 h-[46px] rounded-xl flex items-center justify-center text-white transition-all active:scale-90 ${!D||!W?"bg-gray-800 text-gray-500":"bg-rose-600 hover:bg-rose-500 shadow-lg"}`,children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] rounded-2xl border border-gray-800 p-3 space-y-2 min-h-[150px]",children:R.length>0?R.map(oe=>h.jsxs("div",{className:"flex justify-between items-center bg-[#1a1a1a] p-3 rounded-xl border border-gray-800/50",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>V(oe.id),className:"text-red-500 hover:text-red-400 p-1 active:scale-90",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),h.jsx("span",{className:"text-white font-bold text-sm",children:oe.name})]}),h.jsx("span",{className:"text-rose-500 bg-rose-500/10 px-2 py-1 rounded font-mono font-bold text-xs",children:oe.quantity})]},oe.id)):h.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 text-xs gap-2",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),h.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),h.jsx("p",{children:"  "})]})}),h.jsxs("div",{className:"flex flex-col gap-3 pt-2 flex-shrink-0",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:z,disabled:R.length===0,className:`flex-[2] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${R.length===0?"bg-gray-800 opacity-50":"bg-rose-600 hover:bg-rose-500"}`,children:""}),h.jsx("button",{onClick:ve,disabled:R.length===0,className:"w-14 bg-[#1a1a1a] hover:bg-white/10 text-white rounded-2xl flex items-center justify-center border border-gray-800 active:scale-90 transition-all disabled:opacity-50",title:"",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[h.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),h.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),h.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),h.jsx("button",{onClick:me,disabled:R.length===0||re,className:`w-14 bg-[#25D366] hover:bg-[#20b858] text-white rounded-2xl flex items-center justify-center border border-[#25D366]/20 active:scale-90 transition-all disabled:opacity-50 ${re?"opacity-50 cursor-wait":""}`,title:"  ",children:re?h.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),h.jsxs("div",{className:"flex gap-2",children:[y&&h.jsx("button",{onClick:()=>N(y),className:"flex-1 bg-red-500/10 text-red-500 py-3 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),h.jsx("button",{onClick:()=>d(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})]})}),I&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:h.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),h.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),h.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),h.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:ze,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),h.jsx("button",{onClick:()=>N(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})};var WP={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ob;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ob||(ob={}));var lb;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(lb||(lb={}));var cb;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(cb||(cb={}));var ub;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ub||(ub={}));var fb;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fb||(fb={}));var hb;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(hb||(hb={}));var db;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(db||(db={}));var gb;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(gb||(gb={}));var xb;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(xb||(xb={}));var pb;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(pb||(pb={}));var mb;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(mb||(mb={}));var wb;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(wb||(wb={}));var vb;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(vb||(vb={}));var yb;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(yb||(yb={}));var Eb;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Eb||(Eb={}));var Cb;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Cb||(Cb={}));var Bb;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Bb||(Bb={}));var bb;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(bb||(bb={}));var _b;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(_b||(_b={}));var Tb;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Tb||(Tb={}));var Ib;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ib||(Ib={}));var Sb;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Sb||(Sb={}));var Nb;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Nb||(Nb={}));var Fb;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Fb||(Fb={}));var Rb;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Rb||(Rb={}));var Db;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Db||(Db={}));var Ob;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ob||(Ob={}));var Ub;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ub||(Ub={}));var kb;(function(e){e.COLLECTION="COLLECTION"})(kb||(kb={}));var Mb;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Mb||(Mb={}));var Lb;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Lb||(Lb={}));var Qb;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Qb||(Qb={}));var jb;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(jb||(jb={}));var Hb;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Hb||(Hb={}));var Pb;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Pb||(Pb={}));var Vb;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Vb||(Vb={}));var Gb;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Gb||(Gb={}));var Kb;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Kb||(Kb={}));var zb;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(zb||(zb={}));var Wb;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Wb||(Wb={}));var Xb;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Xb||(Xb={}));var Yb;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Yb||(Yb={}));var qb;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(qb||(qb={}));var Jb;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Jb||(Jb={}));var Zb;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Zb||(Zb={}));var $b;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})($b||($b={}));var e4;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(e4||(e4={}));var t4;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(t4||(t4={}));var r4;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(r4||(r4={}));var n4;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(n4||(n4={}));var a4;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(a4||(a4={}));var i4;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(i4||(i4={}));var s4;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(s4||(s4={}));var A4;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(A4||(A4={}));var o4;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(o4||(o4={}));var l4;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(l4||(l4={}));var c4;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(c4||(c4={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var u4;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(u4||(u4={}));function d1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function f4(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sn(e){return this instanceof Sn?(this.v=e,this):new Sn(e)}function Gu(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,A=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(N){return function(R){return Promise.resolve(R).then(N,b)}}function d(N,R){n[N]&&(a[N]=function(F){return new Promise(function(D,K){A.push([N,F,D,K])>1||p(N,F)})},R&&(a[N]=R(a[N])))}function p(N,R){try{m(n[N](R))}catch(F){I(A[0][3],F)}}function m(N){N.value instanceof Sn?Promise.resolve(N.value.v).then(y,b):I(A[0][2],N)}function y(N){p("next",N)}function b(N){p("throw",N)}function I(N,R){N(R),A.shift(),A.length&&p(A[0][0],A[0][1])}}function i0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof f4=="function"?f4(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(A){r[A]=e[A]&&function(c){return new Promise(function(d,p){c=e[A](c),a(d,p,c.done,c.value)})}}function a(A,c,d,p){Promise.resolve(p).then(function(m){A({value:m,done:d})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xI=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return xI=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const XP=()=>xI();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function km(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Mm=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rs extends Error{}class Ei extends Rs{constructor(t,r,n,a){super(`${Ei.makeMessage(t,r,n)}`),this.status=t,this.headers=a,this.error=r}static makeMessage(t,r,n){const a=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,r,n,a){if(!t||!a)return new K1({message:n,cause:Mm(r)});const A=r;return t===400?new mI(t,A,n,a):t===401?new wI(t,A,n,a):t===403?new vI(t,A,n,a):t===404?new yI(t,A,n,a):t===409?new EI(t,A,n,a):t===422?new CI(t,A,n,a):t===429?new BI(t,A,n,a):t>=500?new bI(t,A,n,a):new Ei(t,A,n,a)}}class Lm extends Ei{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class K1 extends Ei{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class pI extends K1{constructor({message:t}={}){super({message:t??"Request timed out."})}}class mI extends Ei{}class wI extends Ei{}class vI extends Ei{}class yI extends Ei{}class EI extends Ei{}class CI extends Ei{}class BI extends Ei{}class bI extends Ei{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YP=/^[a-z][a-z0-9+.-]*:/i,qP=e=>YP.test(e);let Qm=e=>(Qm=Array.isArray,Qm(e));const JP=Qm;let ZP=JP;const h4=ZP;function $P(e){if(!e)return!0;for(const t in e)return!1;return!0}function eV(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const tV=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Rs(`${e} must be an integer`);if(t<0)throw new Rs(`${e} must be a positive integer`);return t},rV=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nV=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wc="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aV(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const iV=()=>{var e,t,r,n,a;const A=aV();if(A==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wc,"X-Stainless-OS":g4(Deno.build.os),"X-Stainless-Arch":d4(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(A==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wc,"X-Stainless-OS":g4((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":d4((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=sV();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function sV(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const a=n[1]||0,A=n[2]||0,c=n[3]||0;return{browser:t,version:`${a}.${A}.${c}`}}}return null}const d4=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",g4=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let bd;const AV=()=>bd??(bd=iV());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oV(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function _I(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function lV(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return _I({start(){},async pull(r){const{done:n,value:a}=await t.next();n?r.close():r.enqueue(a)},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}function TI(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function cV(e){var t,r;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((r=(t=e[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(t));return}const n=e.getReader(),a=n.cancel();n.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uV=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const II=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,r=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Lp(e,t,r){return II(),new File(e,t??"unknown_file",r)}function fV(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const hV=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SI=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",dV=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&SI(e),gV=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function xV(e,t,r){if(II(),e=await e,dV(e))return e instanceof File?e:Lp([await e.arrayBuffer()],e.name);if(gV(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Lp(await jm(a),t,r)}const n=await jm(e);if(t||(t=fV(e)),!(r!=null&&r.type)){const a=n.find(A=>typeof A=="object"&&"type"in A&&A.type);typeof a=="string"&&(r=Object.assign(Object.assign({},r),{type:a}))}return Lp(n,t,r)}async function jm(e){var t,r,n,a,A;let c=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)c.push(e);else if(SI(e))c.push(e instanceof Blob?e:await e.arrayBuffer());else if(hV(e))try{for(var d=!0,p=i0(e),m;m=await p.next(),t=m.done,!t;d=!0){a=m.value,d=!1;const y=a;c.push(...await jm(y))}}catch(y){r={error:y}}finally{try{!d&&!t&&(n=p.return)&&await n.call(p)}finally{if(r)throw r.error}}else{const y=(A=e==null?void 0:e.constructor)===null||A===void 0?void 0:A.name;throw new Error(`Unexpected data type: ${typeof e}${y?`; constructor: ${y}`:""}${pV(e)}`)}return c}function pV(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NI{constructor(t){this._client=t}}NI._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FI(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const x4=Object.freeze(Object.create(null)),mV=(e=FI)=>(function(r,...n){if(r.length===1)return r[0];let a=!1;const A=[],c=r.reduce((y,b,I)=>{var N,R,F;/[?#]/.test(b)&&(a=!0);const D=n[I];let K=(a?encodeURIComponent:e)(""+D);return I!==n.length&&(D==null||typeof D=="object"&&D.toString===((F=Object.getPrototypeOf((R=Object.getPrototypeOf((N=D.hasOwnProperty)!==null&&N!==void 0?N:x4))!==null&&R!==void 0?R:x4))===null||F===void 0?void 0:F.toString))&&(K=D+"",A.push({start:y.length+b.length,length:K.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),y+b+(I===n.length?"":K)},""),d=c.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=p.exec(d))!==null;)A.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(A.sort((y,b)=>y.start-b.start),A.length>0){let y=0;const b=A.reduce((I,N)=>{const R=" ".repeat(N.start-y),F="^".repeat(N.length);return y=N.start+N.length,I+R+F},"");throw new Rs(`Path parameters result in path with invalid segments:
${A.map(I=>I.error).join(`
`)}
${c}
${b}`)}return c}),_d=mV(FI);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RI extends NI{create(t,r){var n;const{api_version:a=this._client.apiVersion}=t,A=d1(t,["api_version"]);if("model"in A&&"agent_config"in A)throw new Rs("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in A&&"generation_config"in A)throw new Rs("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(_d`/${a}/interactions`,Object.assign(Object.assign({body:A},r),{stream:(n=t.stream)!==null&&n!==void 0?n:!1}))}delete(t,r={},n){const{api_version:a=this._client.apiVersion}=r??{};return this._client.delete(_d`/${a}/interactions/${t}`,n)}cancel(t,r={},n){const{api_version:a=this._client.apiVersion}=r??{};return this._client.post(_d`/${a}/interactions/${t}/cancel`,n)}get(t,r={},n){var a;const A=r??{},{api_version:c=this._client.apiVersion}=A,d=d1(A,["api_version"]);return this._client.get(_d`/${c}/interactions/${t}`,Object.assign(Object.assign({query:d},n),{stream:(a=r==null?void 0:r.stream)!==null&&a!==void 0?a:!1}))}}RI._key=Object.freeze(["interactions"]);class DI extends RI{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wV(e){let t=0;for(const a of e)t+=a.length;const r=new Uint8Array(t);let n=0;for(const a of e)r.set(a,n),n+=a.length;return r}let Td;function K2(e){let t;return(Td??(t=new globalThis.TextEncoder,Td=t.encode.bind(t)))(e)}let Id;function p4(e){let t;return(Id??(t=new globalThis.TextDecoder,Id=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z1{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?K2(t):t;this.buffer=wV([this.buffer,r]);const n=[];let a;for(;(a=vV(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){n.push(p4(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const A=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=p4(this.buffer.subarray(0,A));n.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}z1.NEWLINE_CHARS=new Set([`
`,"\r"]);z1.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function vV(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function yV(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g1={off:0,error:200,warn:300,info:400,debug:500},m4=(e,t,r)=>{if(e){if(eV(g1,e))return e;xi(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(g1))}`)}};function bu(){}function Sd(e,t,r){return!t||g1[e]>g1[r]?bu:t[e].bind(t)}const EV={error:bu,warn:bu,info:bu,debug:bu};let w4=new WeakMap;function xi(e){var t;const r=e.logger,n=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!r)return EV;const a=w4.get(r);if(a&&a[0]===n)return a[1];const A={error:Sd("error",r,n),warn:Sd("warn",r,n),info:Sd("info",r,n),debug:Sd("debug",r,n)};return w4.set(r,[n,A]),A}const Sl=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e0{constructor(t,r,n){this.iterator=t,this.controller=r,this.client=n}static fromSSEResponse(t,r,n){let a=!1;const A=n?xi(n):console;function c(){return Gu(this,arguments,function*(){var p,m,y,b;if(a)throw new Rs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let I=!1;try{try{for(var N=!0,R=i0(CV(t,r)),F;F=yield Sn(R.next()),p=F.done,!p;N=!0){b=F.value,N=!1;const D=b;if(!I)if(D.data.startsWith("[DONE]")){I=!0;continue}else try{yield yield Sn(JSON.parse(D.data))}catch(K){throw A.error("Could not parse message into JSON:",D.data),A.error("From chunk:",D.raw),K}}}catch(D){m={error:D}}finally{try{!N&&!p&&(y=R.return)&&(yield Sn(y.call(R)))}finally{if(m)throw m.error}}I=!0}catch(D){if(km(D))return yield Sn(void 0);throw D}finally{I||r.abort()}})}return new e0(c,r,n)}static fromReadableStream(t,r,n){let a=!1;function A(){return Gu(this,arguments,function*(){var p,m,y,b;const I=new z1,N=TI(t);try{for(var R=!0,F=i0(N),D;D=yield Sn(F.next()),p=D.done,!p;R=!0){b=D.value,R=!1;const K=b;for(const W of I.decode(K))yield yield Sn(W)}}catch(K){m={error:K}}finally{try{!R&&!p&&(y=F.return)&&(yield Sn(y.call(F)))}finally{if(m)throw m.error}}for(const K of I.flush())yield yield Sn(K)})}function c(){return Gu(this,arguments,function*(){var p,m,y,b;if(a)throw new Rs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let I=!1;try{try{for(var N=!0,R=i0(A()),F;F=yield Sn(R.next()),p=F.done,!p;N=!0){b=F.value,N=!1;const D=b;I||D&&(yield yield Sn(JSON.parse(D)))}}catch(D){m={error:D}}finally{try{!N&&!p&&(y=R.return)&&(yield Sn(y.call(R)))}finally{if(m)throw m.error}}I=!0}catch(D){if(km(D))return yield Sn(void 0);throw D}finally{I||r.abort()}})}return new e0(c,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),a=A=>({next:()=>{if(A.length===0){const c=n.next();t.push(c),r.push(c)}return A.shift()}});return[new e0(()=>a(t),this.controller,this.client),new e0(()=>a(r),this.controller,this.client)]}toReadableStream(){const t=this;let r;return _I({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:a,done:A}=await r.next();if(A)return n.close();const c=K2(JSON.stringify(a)+`
`);n.enqueue(c)}catch(a){n.error(a)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function CV(e,t){return Gu(this,arguments,function*(){var n,a,A,c;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Rs("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Rs("Attempted to iterate over a response with no body");const d=new bV,p=new z1,m=TI(e.body);try{for(var y=!0,b=i0(BV(m)),I;I=yield Sn(b.next()),n=I.done,!n;y=!0){c=I.value,y=!1;const N=c;for(const R of p.decode(N)){const F=d.decode(R);F&&(yield yield Sn(F))}}}catch(N){a={error:N}}finally{try{!y&&!n&&(A=b.return)&&(yield Sn(A.call(b)))}finally{if(a)throw a.error}}for(const N of p.flush()){const R=d.decode(N);R&&(yield yield Sn(R))}})}function BV(e){return Gu(this,arguments,function*(){var r,n,a,A;let c=new Uint8Array;try{for(var d=!0,p=i0(e),m;m=yield Sn(p.next()),r=m.done,!r;d=!0){A=m.value,d=!1;const y=A;if(y==null)continue;const b=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?K2(y):y;let I=new Uint8Array(c.length+b.length);I.set(c),I.set(b,c.length),c=I;let N;for(;(N=yV(c))!==-1;)yield yield Sn(c.slice(0,N)),c=c.slice(N)}}catch(y){n={error:y}}finally{try{!d&&!r&&(a=p.return)&&(yield Sn(a.call(p)))}finally{if(n)throw n.error}}c.length>0&&(yield yield Sn(c))})}class bV{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const A={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],A}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,a]=_V(t,":");return a.startsWith(" ")&&(a=a.substring(1)),r==="event"?this.event=a:r==="data"&&this.data.push(a),null}}function _V(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TV(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:a,startTime:A}=t,c=await(async()=>{var d;if(t.options.stream)return xi(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):e0.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const p=r.headers.get("content-type"),m=(d=p==null?void 0:p.split(";")[0])===null||d===void 0?void 0:d.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?r.headers.get("content-length")==="0"?void 0:await r.json():await r.text()})();return xi(e).debug(`[${n}] response parsed`,Sl({retryOfRequestLogID:a,url:r.url,status:r.status,body:c,durationMs:Date.now()-A})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z2 extends Promise{constructor(t,r,n=TV){super(a=>{a(null)}),this.responsePromise=r,this.parseResponse=n,this.client=t}_thenUnwrap(t){return new z2(this.client,this.responsePromise,async(r,n)=>t(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OI=Symbol("brand.privateNullableHeaders");function*IV(e){if(!e)return;if(OI in e){const{values:n,nulls:a}=e;yield*n.entries();for(const A of a)yield[A,null];return}let t=!1,r;e instanceof Headers?r=e.entries():h4(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const a=n[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const A=h4(n[1])?n[1]:[n[1]];let c=!1;for(const d of A)d!==void 0&&(t&&!c&&(c=!0,yield[a,null]),yield[a,d])}}const uu=e=>{const t=new Headers,r=new Set;for(const n of e){const a=new Set;for(const[A,c]of IV(n)){const d=A.toLowerCase();a.has(d)||(t.delete(A),a.add(d)),c===null?(t.delete(A),r.add(d)):(t.append(A,c),r.delete(d))}}return{[OI]:!0,values:t,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qp=e=>{var t,r,n,a,A,c;if(typeof globalThis.process<"u")return(n=(r=(t=WP)===null||t===void 0?void 0:t[e])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(c=(A=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||A===void 0?void 0:A.call(a,e))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var UI;class W1{constructor(t){var r,n,a,A,c,d,p,{baseURL:m=Qp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(r=Qp("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:b="v1beta"}=t,I=d1(t,["baseURL","apiKey","apiVersion"]);const N=Object.assign(Object.assign({apiKey:y,apiVersion:b},I),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=N.baseURL,this.timeout=(n=N.timeout)!==null&&n!==void 0?n:W1.DEFAULT_TIMEOUT,this.logger=(a=N.logger)!==null&&a!==void 0?a:console;const R="warn";this.logLevel=R,this.logLevel=(c=(A=m4(N.logLevel,"ClientOptions.logLevel",this))!==null&&A!==void 0?A:m4(Qp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:R,this.fetchOptions=N.fetchOptions,this.maxRetries=(d=N.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(p=N.fetch)!==null&&p!==void 0?p:oV(),this.encoder=uV,this._options=N,this.apiKey=y,this.apiVersion=b,this.clientAdapter=N.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const r=uu([t.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return uu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return uu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Rs(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Wc}`}defaultIdempotencyKey(){return`stainless-node-retry-${XP()}`}makeStatusError(t,r,n,a){return Ei.generate(t,r,n,a)}buildURL(t,r,n){const a=!this.baseURLOverridden()&&n||this.baseURL,A=qP(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),c=this.defaultQuery();return $P(c)||(r=Object.assign(Object.assign({},c),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(A.search=this.stringifyQuery(r)),A.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const r=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(a=>Object.assign({method:t,path:r},a)))}request(t,r=null){return new z2(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){var a,A,c;const d=await t,p=(a=d.maxRetries)!==null&&a!==void 0?a:this.maxRetries;r==null&&(r=p),await this.prepareOptions(d);const{req:m,url:y,timeout:b}=await this.buildRequest(d,{retryCount:p-r});await this.prepareRequest(m,{url:y,options:d});const I="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),N=n===void 0?"":`, retryOf: ${n}`,R=Date.now();if(xi(this).debug(`[${I}] sending request`,Sl({retryOfRequestLogID:n,method:d.method,url:y,options:d,headers:m.headers})),!((A=d.signal)===null||A===void 0)&&A.aborted)throw new Lm;const F=new AbortController,D=await this.fetchWithTimeout(y,m,b,F).catch(Mm),K=Date.now();if(D instanceof globalThis.Error){const H=`retrying, ${r} attempts remaining`;if(!((c=d.signal)===null||c===void 0)&&c.aborted)throw new Lm;const re=km(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(r)return xi(this).info(`[${I}] connection ${re?"timed out":"failed"} - ${H}`),xi(this).debug(`[${I}] connection ${re?"timed out":"failed"} (${H})`,Sl({retryOfRequestLogID:n,url:y,durationMs:K-R,message:D.message})),this.retryRequest(d,r,n??I);throw xi(this).info(`[${I}] connection ${re?"timed out":"failed"} - error; no more retries left`),xi(this).debug(`[${I}] connection ${re?"timed out":"failed"} (error; no more retries left)`,Sl({retryOfRequestLogID:n,url:y,durationMs:K-R,message:D.message})),re?new pI:new K1({cause:D})}const W=`[${I}${N}] ${m.method} ${y} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${K-R}ms`;if(!D.ok){const H=await this.shouldRetry(D);if(r&&H){const k=`retrying, ${r} attempts remaining`;return await cV(D.body),xi(this).info(`${W} - ${k}`),xi(this).debug(`[${I}] response error (${k})`,Sl({retryOfRequestLogID:n,url:D.url,status:D.status,headers:D.headers,durationMs:K-R})),this.retryRequest(d,r,n??I,D.headers)}const re=H?"error; no more retries left":"error; not retryable";xi(this).info(`${W} - ${re}`);const de=await D.text().catch(k=>Mm(k).message),ee=rV(de),U=ee?void 0:de;throw xi(this).debug(`[${I}] response error (${re})`,Sl({retryOfRequestLogID:n,url:D.url,status:D.status,headers:D.headers,message:U,durationMs:Date.now()-R})),this.makeStatusError(D.status,ee,U,D.headers)}return xi(this).info(W),xi(this).debug(`[${I}] response start`,Sl({retryOfRequestLogID:n,url:D.url,status:D.status,headers:D.headers,durationMs:K-R})),{response:D,options:d,controller:F,requestLogID:I,retryOfRequestLogID:n,startTime:R}}async fetchWithTimeout(t,r,n,a){const A=r||{},{signal:c,method:d}=A,p=d1(A,["signal","method"]),m=a.abort.bind(a);c&&c.addEventListener("abort",m,{once:!0});const y=setTimeout(m,n),b=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,I=Object.assign(Object.assign(Object.assign({signal:a.signal},b?{duplex:"half"}:{}),{method:"GET"}),p);d&&(I.method=d.toUpperCase());try{return await this.fetch.call(void 0,t,I)}finally{clearTimeout(y)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,a){var A;let c;const d=a==null?void 0:a.get("retry-after-ms");if(d){const m=parseFloat(d);Number.isNaN(m)||(c=m)}const p=a==null?void 0:a.get("retry-after");if(p&&!c){const m=parseFloat(p);Number.isNaN(m)?c=Date.parse(p)-Date.now():c=m*1e3}if(!(c&&0<=c&&c<60*1e3)){const m=(A=t.maxRetries)!==null&&A!==void 0?A:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(r,m)}return await nV(c),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const A=r-t,c=Math.min(.5*Math.pow(2,A),8),d=1-Math.random()*.25;return c*d*1e3}async buildRequest(t,{retryCount:r=0}={}){var n,a,A;const c=Object.assign({},t),{method:d,path:p,query:m,defaultBaseURL:y}=c,b=this.buildURL(p,m,y);"timeout"in c&&tV("timeout",c.timeout),c.timeout=(n=c.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:I,body:N}=this.buildBody({options:c}),R=await this.buildHeaders({options:t,method:d,bodyHeaders:I,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:R},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&N instanceof globalThis.ReadableStream&&{duplex:"half"}),N&&{body:N}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(A=c.fetchOptions)!==null&&A!==void 0?A:{}),url:b,timeout:c.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:a}){let A={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),A[this.idempotencyHeader]=t.idempotencyKey);const c=await this.authHeaders(t);let d=uu([A,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),AV()),this._options.defaultHeaders,n,t.headers,c]);return this.validateHeaders(d),d.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=uu([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:lV(t)}:this.encoder({body:t,headers:n})}}W1.DEFAULT_TIMEOUT=6e4;class Ga extends W1{constructor(){super(...arguments),this.interactions=new DI(this)}}UI=Ga;Ga.GeminiNextGenAPIClient=UI;Ga.GeminiNextGenAPIClientError=Rs;Ga.APIError=Ei;Ga.APIConnectionError=K1;Ga.APIConnectionTimeoutError=pI;Ga.APIUserAbortError=Lm;Ga.NotFoundError=yI;Ga.ConflictError=EI;Ga.RateLimitError=BI;Ga.BadRequestError=mI;Ga.AuthenticationError=wI;Ga.InternalServerError=bI;Ga.PermissionDeniedError=vI;Ga.UnprocessableEntityError=CI;Ga.toFile=xV;Ga.Interactions=DI;const SV=({products:e,invoices:t,currentUser:r,onAction:n,onSearchProduct:a})=>{const[A,c]=_e.useState(!1),[d,p]=_e.useState(!1),[m,y]=_e.useState(null),[b,I]=_e.useState(""),N=_e.useRef(null),R=_e.useRef(null),F=()=>{const W=window.SpeechRecognition||window.webkitSpeechRecognition;if(!W||!window.isSecureContext)return null;const H=new W;return H.continuous=!1,H.lang="ar-MA",H.interimResults=!0,H.onresult=re=>{let de="";for(let ee=re.resultIndex;ee<re.results.length;++ee)de+=re.results[ee][0].transcript;I(de),re.results[0].isFinal&&K(de)},H.onend=()=>{c(!1)},H.onerror=re=>{console.error("Speech error",re.error),c(!1)},H};_e.useEffect(()=>{N.current=F()},[]);const D=()=>{var W;if(A)(W=N.current)==null||W.stop();else if(N.current||(N.current=F()),N.current){R.current&&clearTimeout(R.current),y(null),I("");try{N.current.start(),c(!0),navigator.vibrate&&navigator.vibrate(50)}catch(H){console.error("Recognition start error",H),N.current=F()}}else alert("         HTTPS")},K=async W=>{if(W.trim()){y(":  API .    GitHub   GEMINI_API_KEY   Secrets.");return}};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"fixed bottom-24 right-6 z-[200] flex flex-col items-end gap-3 pointer-events-none",children:[(b||m||d)&&h.jsxs("div",{className:"pointer-events-auto bg-[#1a1a1a]/95 backdrop-blur-xl border border-gray-800 p-4 rounded-[2rem] rounded-br-none shadow-2xl max-w-[280px] animate-in fade-in slide-in-from-bottom-2 duration-300",children:[b&&h.jsxs("div",{className:"mb-2 border-b border-gray-800/50 pb-2",children:[h.jsx("span",{className:"text-[10px] text-[#57b385] font-black uppercase block mb-1",children:" :"}),h.jsxs("p",{className:"text-xs font-medium text-gray-300 italic",children:['"',b,'"']})]}),d?h.jsxs("div",{className:"flex items-center gap-2 py-1",children:[h.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:" ..."}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce"}),h.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-75"}),h.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-150"})]})]}):m&&h.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-300",children:h.jsx("p",{className:"text-sm font-bold text-white leading-relaxed",children:m})})]}),h.jsxs("button",{onClick:D,className:`pointer-events-auto w-16 h-16 rounded-full flex items-center justify-center shadow-2xl transition-all duration-300 border-4 border-[#0c0c0c] relative group ${A?"bg-red-500 scale-110":"bg-[#57b385] hover:scale-110"}`,children:[A&&h.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500 animate-ping opacity-20"}),h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),h.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),h.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]})]})]})})};var v4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},NV=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const A=e[r++];t[n++]=String.fromCharCode((a&31)<<6|A&63)}else if(a>239&&a<365){const A=e[r++],c=e[r++],d=e[r++],p=((a&7)<<18|(A&63)<<12|(c&63)<<6|d&63)-65536;t[n++]=String.fromCharCode(55296+(p>>10)),t[n++]=String.fromCharCode(56320+(p&1023))}else{const A=e[r++],c=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(A&63)<<6|c&63)}}return t.join("")},MI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const A=e[a],c=a+1<e.length,d=c?e[a+1]:0,p=a+2<e.length,m=p?e[a+2]:0,y=A>>2,b=(A&3)<<4|d>>4;let I=(d&15)<<2|m>>6,N=m&63;p||(N=64,c||(I=64)),n.push(r[y],r[b],r[I],r[N])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):NV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const A=r[e.charAt(a++)],d=a<e.length?r[e.charAt(a)]:0;++a;const m=a<e.length?r[e.charAt(a)]:64;++a;const b=a<e.length?r[e.charAt(a)]:64;if(++a,A==null||d==null||m==null||b==null)throw new FV;const I=A<<2|d>>4;if(n.push(I),m!==64){const N=d<<4&240|m>>2;if(n.push(N),b!==64){const R=m<<6&192|b;n.push(R)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class FV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RV=function(e){const t=kI(e);return MI.encodeByteArray(t,!0)},x1=function(e){return RV(e).replace(/\./g,"")},DV=function(e){try{return MI.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=()=>OV().__FIREBASE_DEFAULTS__,kV=()=>{if(typeof process>"u"||typeof v4>"u")return;const e=v4.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},MV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&DV(e[1]);return t&&JSON.parse(t)},W2=()=>{try{return UV()||kV()||MV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},LV=e=>{var t,r;return(r=(t=W2())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},QV=e=>{const t=LV(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},LI=()=>{var e;return(e=W2())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,A=e.sub||e.user_id;if(!A)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:A,user_id:A,firebase:{sign_in_provider:"custom",identities:{}}},e);return[x1(JSON.stringify(r)),x1(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VV(){var e;const t=(e=W2())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GV(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function KV(){return!VV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QI(){try{return typeof indexedDB=="object"}catch{return!1}}function jI(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var A;t(((A=a.error)===null||A===void 0?void 0:A.message)||"")}}catch(r){t(r)}})}function zV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="FirebaseError";class il extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=WV,Object.setPrototypeOf(this,il.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X1.prototype.create)}}class X1{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,A=this.errors[t],c=A?XV(A,n):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new il(a,d,n)}}function XV(e,t){return e.replace(YV,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const YV=/\{\$([^}]+)}/g;function p1(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const A=e[a],c=t[a];if(y4(A)&&y4(c)){if(!p1(A,c))return!1}else if(A!==c)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function y4(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=1e3,JV=2,ZV=14400*1e3,$V=.5;function E4(e,t=qV,r=JV){const n=t*Math.pow(r,e),a=Math.round($V*n*(Math.random()-.5)*2);return Math.min(ZV,n+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(e){return e&&e._delegate?e._delegate:e}class $A{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new jV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(A){if(a)return null;throw A}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rG(t))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const A=this.getOrInitializeService({instanceIdentifier:a});n.resolve(A)}catch{}}}}clearInstance(t=Nl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Nl){return this.instances.has(t)}getOptions(t=Nl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[A,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(A);n===d&&c.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),A=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;A.add(t),this.onInitCallbacks.set(a,A);const c=this.instances.get(a);return c&&t(c,a),()=>{A.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:tG(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Nl){return this.component?this.component.multipleInstances?t:Nl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tG(e){return e===Nl?void 0:e}function rG(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new eG(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Dr||(Dr={}));const aG={debug:Dr.DEBUG,verbose:Dr.VERBOSE,info:Dr.INFO,warn:Dr.WARN,error:Dr.ERROR,silent:Dr.SILENT},iG=Dr.INFO,sG={[Dr.DEBUG]:"log",[Dr.VERBOSE]:"log",[Dr.INFO]:"info",[Dr.WARN]:"warn",[Dr.ERROR]:"error"},AG=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=sG[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class X2{constructor(t){this.name=t,this._logLevel=iG,this._logHandler=AG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aG[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dr.DEBUG,...t),this._logHandler(this,Dr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dr.VERBOSE,...t),this._logHandler(this,Dr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dr.INFO,...t),this._logHandler(this,Dr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dr.WARN,...t),this._logHandler(this,Dr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dr.ERROR,...t),this._logHandler(this,Dr.ERROR,...t)}}const oG=(e,t)=>t.some(r=>e instanceof r);let C4,B4;function lG(){return C4||(C4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cG(){return B4||(B4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HI=new WeakMap,Hm=new WeakMap,PI=new WeakMap,jp=new WeakMap,Y2=new WeakMap;function uG(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",A),e.removeEventListener("error",c)},A=()=>{r(Xo(e.result)),a()},c=()=>{n(e.error),a()};e.addEventListener("success",A),e.addEventListener("error",c)});return t.then(r=>{r instanceof IDBCursor&&HI.set(r,e)}).catch(()=>{}),Y2.set(t,e),t}function fG(e){if(Hm.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",A),e.removeEventListener("error",c),e.removeEventListener("abort",c)},A=()=>{r(),a()},c=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",A),e.addEventListener("error",c),e.addEventListener("abort",c)});Hm.set(e,t)}let Pm={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Hm.get(e);if(t==="objectStoreNames")return e.objectStoreNames||PI.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Xo(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function hG(e){Pm=e(Pm)}function dG(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Hp(this),t,...r);return PI.set(n,t.sort?t.sort():[t]),Xo(n)}:cG().includes(e)?function(...t){return e.apply(Hp(this),t),Xo(HI.get(this))}:function(...t){return Xo(e.apply(Hp(this),t))}}function gG(e){return typeof e=="function"?dG(e):(e instanceof IDBTransaction&&fG(e),oG(e,lG())?new Proxy(e,Pm):e)}function Xo(e){if(e instanceof IDBRequest)return uG(e);if(jp.has(e))return jp.get(e);const t=gG(e);return t!==e&&(jp.set(e,t),Y2.set(t,e)),t}const Hp=e=>Y2.get(e);function VI(e,t,{blocked:r,upgrade:n,blocking:a,terminated:A}={}){const c=indexedDB.open(e,t),d=Xo(c);return n&&c.addEventListener("upgradeneeded",p=>{n(Xo(c.result),p.oldVersion,p.newVersion,Xo(c.transaction),p)}),r&&c.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),d.then(p=>{A&&p.addEventListener("close",()=>A()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const xG=["get","getKey","getAll","getAllKeys","count"],pG=["put","add","delete","clear"],Pp=new Map;function b4(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Pp.get(t))return Pp.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=pG.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||xG.includes(r)))return;const A=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return n&&(m=m.index(d.shift())),(await Promise.all([m[r](...d),a&&p.done]))[0]};return Pp.set(t,A),A}hG(e=>({...e,get:(t,r,n)=>b4(t,r)||e.get(t,r,n),has:(t,r)=>!!b4(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(wG(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function wG(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vm="@firebase/app",_4="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new X2("@firebase/app"),vG="@firebase/app-compat",yG="@firebase/analytics-compat",EG="@firebase/analytics",CG="@firebase/app-check-compat",BG="@firebase/app-check",bG="@firebase/auth",_G="@firebase/auth-compat",TG="@firebase/database",IG="@firebase/data-connect",SG="@firebase/database-compat",NG="@firebase/functions",FG="@firebase/functions-compat",RG="@firebase/installations",DG="@firebase/installations-compat",OG="@firebase/messaging",UG="@firebase/messaging-compat",kG="@firebase/performance",MG="@firebase/performance-compat",LG="@firebase/remote-config",QG="@firebase/remote-config-compat",jG="@firebase/storage",HG="@firebase/storage-compat",PG="@firebase/firestore",VG="@firebase/vertexai-preview",GG="@firebase/firestore-compat",KG="firebase",zG="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",WG={[Vm]:"fire-core",[vG]:"fire-core-compat",[EG]:"fire-analytics",[yG]:"fire-analytics-compat",[BG]:"fire-app-check",[CG]:"fire-app-check-compat",[bG]:"fire-auth",[_G]:"fire-auth-compat",[TG]:"fire-rtdb",[IG]:"fire-data-connect",[SG]:"fire-rtdb-compat",[NG]:"fire-fn",[FG]:"fire-fn-compat",[RG]:"fire-iid",[DG]:"fire-iid-compat",[OG]:"fire-fcm",[UG]:"fire-fcm-compat",[kG]:"fire-perf",[MG]:"fire-perf-compat",[LG]:"fire-rc",[QG]:"fire-rc-compat",[jG]:"fire-gcs",[HG]:"fire-gcs-compat",[PG]:"fire-fst",[GG]:"fire-fst-compat",[VG]:"fire-vertex","fire-js":"fire-js",[KG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Map,XG=new Map,Km=new Map;function T4(e,t){try{e.container.addComponent(t)}catch(r){eo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function el(e){const t=e.name;if(Km.has(t))return eo.debug(`There were multiple attempts to register component ${t}.`),!1;Km.set(t,e);for(const r of m1.values())T4(r,e);for(const r of XG.values())T4(r,e);return!0}function Bf(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new X1("app","Firebase",YG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $A("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=zG;function GI(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Gm,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw Yo.create("bad-app-name",{appName:String(a)});if(r||(r=LI()),!r)throw Yo.create("no-options");const A=m1.get(a);if(A){if(p1(r,A.options)&&p1(n,A.config))return A;throw Yo.create("duplicate-app",{appName:a})}const c=new nG(a);for(const p of Km.values())c.addComponent(p);const d=new qG(r,n,c);return m1.set(a,d),d}function KI(e=Gm){const t=m1.get(e);if(!t&&e===Gm&&LI())return GI();if(!t)throw Yo.create("no-app",{appName:e});return t}function lA(e,t,r){var n;let a=(n=WG[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const A=a.match(/\s|\//),c=t.match(/\s|\//);if(A||c){const d=[`Unable to register library "${a}" with version "${t}":`];A&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),A&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eo.warn(d.join(" "));return}el(new $A(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG="firebase-heartbeat-database",$G=1,lf="firebase-heartbeat-store";let Vp=null;function zI(){return Vp||(Vp=VI(ZG,$G,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(lf)}catch(r){console.warn(r)}}}}).catch(e=>{throw Yo.create("idb-open",{originalErrorMessage:e.message})})),Vp}async function eK(e){try{const r=(await zI()).transaction(lf),n=await r.objectStore(lf).get(WI(e));return await r.done,n}catch(t){if(t instanceof il)eo.warn(t.message);else{const r=Yo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});eo.warn(r.message)}}}async function I4(e,t){try{const n=(await zI()).transaction(lf,"readwrite");await n.objectStore(lf).put(t,WI(e)),await n.done}catch(r){if(r instanceof il)eo.warn(r.message);else{const n=Yo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});eo.warn(n.message)}}}function WI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK=1024,rK=720*60*60*1e3;class nK{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new iK(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),A=S4();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===A||this._heartbeatsCache.heartbeats.some(c=>c.date===A)?void 0:(this._heartbeatsCache.heartbeats.push({date:A,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=rK}),this._storage.overwrite(this._heartbeatsCache))}catch(n){eo.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=S4(),{heartbeatsToSend:n,unsentEntries:a}=aK(this._heartbeatsCache.heartbeats),A=x1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),A}catch(r){return eo.warn(r),""}}}function S4(){return new Date().toISOString().substring(0,10)}function aK(e,t=tK){const r=[];let n=e.slice();for(const a of e){const A=r.find(c=>c.agent===a.agent);if(A){if(A.dates.push(a.date),N4(r)>t){A.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),N4(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class iK{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QI()?jI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await eK(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return I4(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return I4(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function N4(e){return x1(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(e){el(new $A("platform-logger",t=>new mG(t),"PRIVATE")),el(new $A("heartbeat",t=>new nK(t),"PRIVATE")),lA(Vm,_4,e),lA(Vm,_4,"esm2017"),lA("fire-js","")}sK("");var AK="firebase",oK="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lA(AK,oK,"app");var F4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hl,XI;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(U,Q){function k(){}k.prototype=Q.prototype,U.D=Q.prototype,U.prototype=new k,U.prototype.constructor=U,U.C=function(Y,q,V){for(var z=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)z[ze-2]=arguments[ze];return Q.prototype[q].apply(Y,z)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(U,Q,k){k||(k=0);var Y=Array(16);if(typeof Q=="string")for(var q=0;16>q;++q)Y[q]=Q.charCodeAt(k++)|Q.charCodeAt(k++)<<8|Q.charCodeAt(k++)<<16|Q.charCodeAt(k++)<<24;else for(q=0;16>q;++q)Y[q]=Q[k++]|Q[k++]<<8|Q[k++]<<16|Q[k++]<<24;Q=U.g[0],k=U.g[1],q=U.g[2];var V=U.g[3],z=Q+(V^k&(q^V))+Y[0]+3614090360&4294967295;Q=k+(z<<7&4294967295|z>>>25),z=V+(q^Q&(k^q))+Y[1]+3905402710&4294967295,V=Q+(z<<12&4294967295|z>>>20),z=q+(k^V&(Q^k))+Y[2]+606105819&4294967295,q=V+(z<<17&4294967295|z>>>15),z=k+(Q^q&(V^Q))+Y[3]+3250441966&4294967295,k=q+(z<<22&4294967295|z>>>10),z=Q+(V^k&(q^V))+Y[4]+4118548399&4294967295,Q=k+(z<<7&4294967295|z>>>25),z=V+(q^Q&(k^q))+Y[5]+1200080426&4294967295,V=Q+(z<<12&4294967295|z>>>20),z=q+(k^V&(Q^k))+Y[6]+2821735955&4294967295,q=V+(z<<17&4294967295|z>>>15),z=k+(Q^q&(V^Q))+Y[7]+4249261313&4294967295,k=q+(z<<22&4294967295|z>>>10),z=Q+(V^k&(q^V))+Y[8]+1770035416&4294967295,Q=k+(z<<7&4294967295|z>>>25),z=V+(q^Q&(k^q))+Y[9]+2336552879&4294967295,V=Q+(z<<12&4294967295|z>>>20),z=q+(k^V&(Q^k))+Y[10]+4294925233&4294967295,q=V+(z<<17&4294967295|z>>>15),z=k+(Q^q&(V^Q))+Y[11]+2304563134&4294967295,k=q+(z<<22&4294967295|z>>>10),z=Q+(V^k&(q^V))+Y[12]+1804603682&4294967295,Q=k+(z<<7&4294967295|z>>>25),z=V+(q^Q&(k^q))+Y[13]+4254626195&4294967295,V=Q+(z<<12&4294967295|z>>>20),z=q+(k^V&(Q^k))+Y[14]+2792965006&4294967295,q=V+(z<<17&4294967295|z>>>15),z=k+(Q^q&(V^Q))+Y[15]+1236535329&4294967295,k=q+(z<<22&4294967295|z>>>10),z=Q+(q^V&(k^q))+Y[1]+4129170786&4294967295,Q=k+(z<<5&4294967295|z>>>27),z=V+(k^q&(Q^k))+Y[6]+3225465664&4294967295,V=Q+(z<<9&4294967295|z>>>23),z=q+(Q^k&(V^Q))+Y[11]+643717713&4294967295,q=V+(z<<14&4294967295|z>>>18),z=k+(V^Q&(q^V))+Y[0]+3921069994&4294967295,k=q+(z<<20&4294967295|z>>>12),z=Q+(q^V&(k^q))+Y[5]+3593408605&4294967295,Q=k+(z<<5&4294967295|z>>>27),z=V+(k^q&(Q^k))+Y[10]+38016083&4294967295,V=Q+(z<<9&4294967295|z>>>23),z=q+(Q^k&(V^Q))+Y[15]+3634488961&4294967295,q=V+(z<<14&4294967295|z>>>18),z=k+(V^Q&(q^V))+Y[4]+3889429448&4294967295,k=q+(z<<20&4294967295|z>>>12),z=Q+(q^V&(k^q))+Y[9]+568446438&4294967295,Q=k+(z<<5&4294967295|z>>>27),z=V+(k^q&(Q^k))+Y[14]+3275163606&4294967295,V=Q+(z<<9&4294967295|z>>>23),z=q+(Q^k&(V^Q))+Y[3]+4107603335&4294967295,q=V+(z<<14&4294967295|z>>>18),z=k+(V^Q&(q^V))+Y[8]+1163531501&4294967295,k=q+(z<<20&4294967295|z>>>12),z=Q+(q^V&(k^q))+Y[13]+2850285829&4294967295,Q=k+(z<<5&4294967295|z>>>27),z=V+(k^q&(Q^k))+Y[2]+4243563512&4294967295,V=Q+(z<<9&4294967295|z>>>23),z=q+(Q^k&(V^Q))+Y[7]+1735328473&4294967295,q=V+(z<<14&4294967295|z>>>18),z=k+(V^Q&(q^V))+Y[12]+2368359562&4294967295,k=q+(z<<20&4294967295|z>>>12),z=Q+(k^q^V)+Y[5]+4294588738&4294967295,Q=k+(z<<4&4294967295|z>>>28),z=V+(Q^k^q)+Y[8]+2272392833&4294967295,V=Q+(z<<11&4294967295|z>>>21),z=q+(V^Q^k)+Y[11]+1839030562&4294967295,q=V+(z<<16&4294967295|z>>>16),z=k+(q^V^Q)+Y[14]+4259657740&4294967295,k=q+(z<<23&4294967295|z>>>9),z=Q+(k^q^V)+Y[1]+2763975236&4294967295,Q=k+(z<<4&4294967295|z>>>28),z=V+(Q^k^q)+Y[4]+1272893353&4294967295,V=Q+(z<<11&4294967295|z>>>21),z=q+(V^Q^k)+Y[7]+4139469664&4294967295,q=V+(z<<16&4294967295|z>>>16),z=k+(q^V^Q)+Y[10]+3200236656&4294967295,k=q+(z<<23&4294967295|z>>>9),z=Q+(k^q^V)+Y[13]+681279174&4294967295,Q=k+(z<<4&4294967295|z>>>28),z=V+(Q^k^q)+Y[0]+3936430074&4294967295,V=Q+(z<<11&4294967295|z>>>21),z=q+(V^Q^k)+Y[3]+3572445317&4294967295,q=V+(z<<16&4294967295|z>>>16),z=k+(q^V^Q)+Y[6]+76029189&4294967295,k=q+(z<<23&4294967295|z>>>9),z=Q+(k^q^V)+Y[9]+3654602809&4294967295,Q=k+(z<<4&4294967295|z>>>28),z=V+(Q^k^q)+Y[12]+3873151461&4294967295,V=Q+(z<<11&4294967295|z>>>21),z=q+(V^Q^k)+Y[15]+530742520&4294967295,q=V+(z<<16&4294967295|z>>>16),z=k+(q^V^Q)+Y[2]+3299628645&4294967295,k=q+(z<<23&4294967295|z>>>9),z=Q+(q^(k|~V))+Y[0]+4096336452&4294967295,Q=k+(z<<6&4294967295|z>>>26),z=V+(k^(Q|~q))+Y[7]+1126891415&4294967295,V=Q+(z<<10&4294967295|z>>>22),z=q+(Q^(V|~k))+Y[14]+2878612391&4294967295,q=V+(z<<15&4294967295|z>>>17),z=k+(V^(q|~Q))+Y[5]+4237533241&4294967295,k=q+(z<<21&4294967295|z>>>11),z=Q+(q^(k|~V))+Y[12]+1700485571&4294967295,Q=k+(z<<6&4294967295|z>>>26),z=V+(k^(Q|~q))+Y[3]+2399980690&4294967295,V=Q+(z<<10&4294967295|z>>>22),z=q+(Q^(V|~k))+Y[10]+4293915773&4294967295,q=V+(z<<15&4294967295|z>>>17),z=k+(V^(q|~Q))+Y[1]+2240044497&4294967295,k=q+(z<<21&4294967295|z>>>11),z=Q+(q^(k|~V))+Y[8]+1873313359&4294967295,Q=k+(z<<6&4294967295|z>>>26),z=V+(k^(Q|~q))+Y[15]+4264355552&4294967295,V=Q+(z<<10&4294967295|z>>>22),z=q+(Q^(V|~k))+Y[6]+2734768916&4294967295,q=V+(z<<15&4294967295|z>>>17),z=k+(V^(q|~Q))+Y[13]+1309151649&4294967295,k=q+(z<<21&4294967295|z>>>11),z=Q+(q^(k|~V))+Y[4]+4149444226&4294967295,Q=k+(z<<6&4294967295|z>>>26),z=V+(k^(Q|~q))+Y[11]+3174756917&4294967295,V=Q+(z<<10&4294967295|z>>>22),z=q+(Q^(V|~k))+Y[2]+718787259&4294967295,q=V+(z<<15&4294967295|z>>>17),z=k+(V^(q|~Q))+Y[9]+3951481745&4294967295,U.g[0]=U.g[0]+Q&4294967295,U.g[1]=U.g[1]+(q+(z<<21&4294967295|z>>>11))&4294967295,U.g[2]=U.g[2]+q&4294967295,U.g[3]=U.g[3]+V&4294967295}n.prototype.u=function(U,Q){Q===void 0&&(Q=U.length);for(var k=Q-this.blockSize,Y=this.B,q=this.h,V=0;V<Q;){if(q==0)for(;V<=k;)a(this,U,V),V+=this.blockSize;if(typeof U=="string"){for(;V<Q;)if(Y[q++]=U.charCodeAt(V++),q==this.blockSize){a(this,Y),q=0;break}}else for(;V<Q;)if(Y[q++]=U[V++],q==this.blockSize){a(this,Y),q=0;break}}this.h=q,this.o+=Q},n.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var Q=1;Q<U.length-8;++Q)U[Q]=0;var k=8*this.o;for(Q=U.length-8;Q<U.length;++Q)U[Q]=k&255,k/=256;for(this.u(U),U=Array(16),Q=k=0;4>Q;++Q)for(var Y=0;32>Y;Y+=8)U[k++]=this.g[Q]>>>Y&255;return U};function A(U,Q){var k=d;return Object.prototype.hasOwnProperty.call(k,U)?k[U]:k[U]=Q(U)}function c(U,Q){this.h=Q;for(var k=[],Y=!0,q=U.length-1;0<=q;q--){var V=U[q]|0;Y&&V==Q||(k[q]=V,Y=!1)}this.g=k}var d={};function p(U){return-128<=U&&128>U?A(U,function(Q){return new c([Q|0],0>Q?-1:0)}):new c([U|0],0>U?-1:0)}function m(U){if(isNaN(U)||!isFinite(U))return b;if(0>U)return D(m(-U));for(var Q=[],k=1,Y=0;U>=k;Y++)Q[Y]=U/k|0,k*=4294967296;return new c(Q,0)}function y(U,Q){if(U.length==0)throw Error("number format error: empty string");if(Q=Q||10,2>Q||36<Q)throw Error("radix out of range: "+Q);if(U.charAt(0)=="-")return D(y(U.substring(1),Q));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(Q,8)),Y=b,q=0;q<U.length;q+=8){var V=Math.min(8,U.length-q),z=parseInt(U.substring(q,q+V),Q);8>V?(V=m(Math.pow(Q,V)),Y=Y.j(V).add(m(z))):(Y=Y.j(k),Y=Y.add(m(z)))}return Y}var b=p(0),I=p(1),N=p(16777216);e=c.prototype,e.m=function(){if(F(this))return-D(this).m();for(var U=0,Q=1,k=0;k<this.g.length;k++){var Y=this.i(k);U+=(0<=Y?Y:4294967296+Y)*Q,Q*=4294967296}return U},e.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(R(this))return"0";if(F(this))return"-"+D(this).toString(U);for(var Q=m(Math.pow(U,6)),k=this,Y="";;){var q=re(k,Q).g;k=K(k,q.j(Q));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(U);if(k=q,R(k))return V+Y;for(;6>V.length;)V="0"+V;Y=V+Y}},e.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function R(U){if(U.h!=0)return!1;for(var Q=0;Q<U.g.length;Q++)if(U.g[Q]!=0)return!1;return!0}function F(U){return U.h==-1}e.l=function(U){return U=K(this,U),F(U)?-1:R(U)?0:1};function D(U){for(var Q=U.g.length,k=[],Y=0;Y<Q;Y++)k[Y]=~U.g[Y];return new c(k,~U.h).add(I)}e.abs=function(){return F(this)?D(this):this},e.add=function(U){for(var Q=Math.max(this.g.length,U.g.length),k=[],Y=0,q=0;q<=Q;q++){var V=Y+(this.i(q)&65535)+(U.i(q)&65535),z=(V>>>16)+(this.i(q)>>>16)+(U.i(q)>>>16);Y=z>>>16,V&=65535,z&=65535,k[q]=z<<16|V}return new c(k,k[k.length-1]&-2147483648?-1:0)};function K(U,Q){return U.add(D(Q))}e.j=function(U){if(R(this)||R(U))return b;if(F(this))return F(U)?D(this).j(D(U)):D(D(this).j(U));if(F(U))return D(this.j(D(U)));if(0>this.l(N)&&0>U.l(N))return m(this.m()*U.m());for(var Q=this.g.length+U.g.length,k=[],Y=0;Y<2*Q;Y++)k[Y]=0;for(Y=0;Y<this.g.length;Y++)for(var q=0;q<U.g.length;q++){var V=this.i(Y)>>>16,z=this.i(Y)&65535,ze=U.i(q)>>>16,ve=U.i(q)&65535;k[2*Y+2*q]+=z*ve,W(k,2*Y+2*q),k[2*Y+2*q+1]+=V*ve,W(k,2*Y+2*q+1),k[2*Y+2*q+1]+=z*ze,W(k,2*Y+2*q+1),k[2*Y+2*q+2]+=V*ze,W(k,2*Y+2*q+2)}for(Y=0;Y<Q;Y++)k[Y]=k[2*Y+1]<<16|k[2*Y];for(Y=Q;Y<2*Q;Y++)k[Y]=0;return new c(k,0)};function W(U,Q){for(;(U[Q]&65535)!=U[Q];)U[Q+1]+=U[Q]>>>16,U[Q]&=65535,Q++}function H(U,Q){this.g=U,this.h=Q}function re(U,Q){if(R(Q))throw Error("division by zero");if(R(U))return new H(b,b);if(F(U))return Q=re(D(U),Q),new H(D(Q.g),D(Q.h));if(F(Q))return Q=re(U,D(Q)),new H(D(Q.g),Q.h);if(30<U.g.length){if(F(U)||F(Q))throw Error("slowDivide_ only works with positive integers.");for(var k=I,Y=Q;0>=Y.l(U);)k=de(k),Y=de(Y);var q=ee(k,1),V=ee(Y,1);for(Y=ee(Y,2),k=ee(k,2);!R(Y);){var z=V.add(Y);0>=z.l(U)&&(q=q.add(k),V=z),Y=ee(Y,1),k=ee(k,1)}return Q=K(U,q.j(Q)),new H(q,Q)}for(q=b;0<=U.l(Q);){for(k=Math.max(1,Math.floor(U.m()/Q.m())),Y=Math.ceil(Math.log(k)/Math.LN2),Y=48>=Y?1:Math.pow(2,Y-48),V=m(k),z=V.j(Q);F(z)||0<z.l(U);)k-=Y,V=m(k),z=V.j(Q);R(V)&&(V=I),q=q.add(V),U=K(U,z)}return new H(q,U)}e.A=function(U){return re(this,U).h},e.and=function(U){for(var Q=Math.max(this.g.length,U.g.length),k=[],Y=0;Y<Q;Y++)k[Y]=this.i(Y)&U.i(Y);return new c(k,this.h&U.h)},e.or=function(U){for(var Q=Math.max(this.g.length,U.g.length),k=[],Y=0;Y<Q;Y++)k[Y]=this.i(Y)|U.i(Y);return new c(k,this.h|U.h)},e.xor=function(U){for(var Q=Math.max(this.g.length,U.g.length),k=[],Y=0;Y<Q;Y++)k[Y]=this.i(Y)^U.i(Y);return new c(k,this.h^U.h)};function de(U){for(var Q=U.g.length+1,k=[],Y=0;Y<Q;Y++)k[Y]=U.i(Y)<<1|U.i(Y-1)>>>31;return new c(k,U.h)}function ee(U,Q){var k=Q>>5;Q%=32;for(var Y=U.g.length-k,q=[],V=0;V<Y;V++)q[V]=0<Q?U.i(V+k)>>>Q|U.i(V+k+1)<<32-Q:U.i(V+k);return new c(q,U.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,XI=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Hl=c}).apply(typeof F4<"u"?F4:typeof self<"u"?self:typeof window<"u"?window:{});var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YI,_u,qI,Qd,zm,JI,ZI,$I;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(C,O,j){return C==Array.prototype||C==Object.prototype||(C[O]=j.value),C};function r(C){C=[typeof globalThis=="object"&&globalThis,C,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nd=="object"&&Nd];for(var O=0;O<C.length;++O){var j=C[O];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var n=r(this);function a(C,O){if(O)e:{var j=n;C=C.split(".");for(var ie=0;ie<C.length-1;ie++){var Me=C[ie];if(!(Me in j))break e;j=j[Me]}C=C[C.length-1],ie=j[C],O=O(ie),O!=ie&&O!=null&&t(j,C,{configurable:!0,writable:!0,value:O})}}function A(C,O){C instanceof String&&(C+="");var j=0,ie=!1,Me={next:function(){if(!ie&&j<C.length){var Ze=j++;return{value:O(Ze,C[Ze]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return Me[Symbol.iterator]=function(){return Me},Me}a("Array.prototype.values",function(C){return C||function(){return A(this,function(O,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(C){var O=typeof C;return O=O!="object"?O:C?Array.isArray(C)?"array":O:"null",O=="array"||O=="object"&&typeof C.length=="number"}function m(C){var O=typeof C;return O=="object"&&C!=null||O=="function"}function y(C,O,j){return C.call.apply(C.bind,arguments)}function b(C,O,j){if(!C)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var Me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Me,ie),C.apply(O,Me)}}return function(){return C.apply(O,arguments)}}function I(C,O,j){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,I.apply(null,arguments)}function N(C,O){var j=Array.prototype.slice.call(arguments,1);return function(){var ie=j.slice();return ie.push.apply(ie,arguments),C.apply(this,ie)}}function R(C,O){function j(){}j.prototype=O.prototype,C.aa=O.prototype,C.prototype=new j,C.prototype.constructor=C,C.Qb=function(ie,Me,Ze){for(var bt=Array(arguments.length-2),Ur=2;Ur<arguments.length;Ur++)bt[Ur-2]=arguments[Ur];return O.prototype[Me].apply(ie,bt)}}function F(C){const O=C.length;if(0<O){const j=Array(O);for(let ie=0;ie<O;ie++)j[ie]=C[ie];return j}return[]}function D(C,O){for(let j=1;j<arguments.length;j++){const ie=arguments[j];if(p(ie)){const Me=C.length||0,Ze=ie.length||0;C.length=Me+Ze;for(let bt=0;bt<Ze;bt++)C[Me+bt]=ie[bt]}else C.push(ie)}}class K{constructor(O,j){this.i=O,this.j=j,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function W(C){return/^[\s\xa0]*$/.test(C)}function H(){var C=d.navigator;return C&&(C=C.userAgent)?C:""}function re(C){return re[" "](C),C}re[" "]=function(){};var de=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ee(C,O,j){for(const ie in C)O.call(j,C[ie],ie,C)}function U(C,O){for(const j in C)O.call(void 0,C[j],j,C)}function Q(C){const O={};for(const j in C)O[j]=C[j];return O}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(C,O){let j,ie;for(let Me=1;Me<arguments.length;Me++){ie=arguments[Me];for(j in ie)C[j]=ie[j];for(let Ze=0;Ze<k.length;Ze++)j=k[Ze],Object.prototype.hasOwnProperty.call(ie,j)&&(C[j]=ie[j])}}function q(C){var O=1;C=C.split(":");const j=[];for(;0<O&&C.length;)j.push(C.shift()),O--;return C.length&&j.push(C.join(":")),j}function V(C){d.setTimeout(()=>{throw C},0)}function z(){var C=Ee;let O=null;return C.g&&(O=C.g,C.g=C.g.next,C.g||(C.h=null),O.next=null),O}class ze{constructor(){this.h=this.g=null}add(O,j){const ie=ve.get();ie.set(O,j),this.h?this.h.next=ie:this.g=ie,this.h=ie}}var ve=new K(()=>new me,C=>C.reset());class me{constructor(){this.next=this.g=this.h=null}set(O,j){this.h=O,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Pe=!1,Ee=new ze,$e=()=>{const C=d.Promise.resolve(void 0);oe=()=>{C.then(ge)}};var ge=()=>{for(var C;C=z();){try{C.h.call(C.g)}catch(j){V(j)}var O=ve;O.j(C),100>O.h&&(O.h++,C.next=O.g,O.g=C)}Pe=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(C,O){this.type=C,this.g=this.target=O,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var C=!1,O=Object.defineProperty({},"passive",{get:function(){C=!0}});try{const j=()=>{};d.addEventListener("test",j,O),d.removeEventListener("test",j,O)}catch{}return C})();function ae(C,O){if(ce.call(this,C?C.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,C){var j=this.type=C.type,ie=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:null;if(this.target=C.target||C.srcElement,this.g=O,O=C.relatedTarget){if(de){e:{try{re(O.nodeName);var Me=!0;break e}catch{}Me=!1}Me||(O=null)}}else j=="mouseover"?O=C.fromElement:j=="mouseout"&&(O=C.toElement);this.relatedTarget=O,ie?(this.clientX=ie.clientX!==void 0?ie.clientX:ie.pageX,this.clientY=ie.clientY!==void 0?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0),this.button=C.button,this.key=C.key||"",this.ctrlKey=C.ctrlKey,this.altKey=C.altKey,this.shiftKey=C.shiftKey,this.metaKey=C.metaKey,this.pointerId=C.pointerId||0,this.pointerType=typeof C.pointerType=="string"?C.pointerType:xe[C.pointerType]||"",this.state=C.state,this.i=C,C.defaultPrevented&&ae.aa.h.call(this)}}R(ae,ce);var xe={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var C=this.i;C.preventDefault?C.preventDefault():C.returnValue=!1};var Xe="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ce(C,O,j,ie,Me){this.listener=C,this.proxy=null,this.src=O,this.type=j,this.capture=!!ie,this.ha=Me,this.key=++Se,this.da=this.fa=!1}function Ue(C){C.da=!0,C.listener=null,C.proxy=null,C.src=null,C.ha=null}function xt(C){this.src=C,this.g={},this.h=0}xt.prototype.add=function(C,O,j,ie,Me){var Ze=C.toString();C=this.g[Ze],C||(C=this.g[Ze]=[],this.h++);var bt=_t(C,O,ie,Me);return-1<bt?(O=C[bt],j||(O.fa=!1)):(O=new Ce(O,this.src,Ze,!!ie,Me),O.fa=j,C.push(O)),O};function he(C,O){var j=O.type;if(j in C.g){var ie=C.g[j],Me=Array.prototype.indexOf.call(ie,O,void 0),Ze;(Ze=0<=Me)&&Array.prototype.splice.call(ie,Me,1),Ze&&(Ue(O),C.g[j].length==0&&(delete C.g[j],C.h--))}}function _t(C,O,j,ie){for(var Me=0;Me<C.length;++Me){var Ze=C[Me];if(!Ze.da&&Ze.listener==O&&Ze.capture==!!j&&Ze.ha==ie)return Me}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),Ut={};function Ie(C,O,j,ie,Me){if(Array.isArray(O)){for(var Ze=0;Ze<O.length;Ze++)Ie(C,O[Ze],j,ie,Me);return null}return j=Tt(j),C&&C[Xe]?C.K(O,j,m(ie)?!!ie.capture:!1,Me):Re(C,O,j,!1,ie,Me)}function Re(C,O,j,ie,Me,Ze){if(!O)throw Error("Invalid event type");var bt=m(Me)?!!Me.capture:!!Me,Ur=ln(C);if(Ur||(C[Rt]=Ur=new xt(C)),j=Ur.add(O,j,ie,bt,Ze),j.proxy)return j;if(ie=ht(),j.proxy=ie,ie.src=C,ie.listener=j,C.addEventListener)le||(Me=bt),Me===void 0&&(Me=!1),C.addEventListener(O.toString(),ie,Me);else if(C.attachEvent)C.attachEvent(Ct(O.toString()),ie);else if(C.addListener&&C.removeListener)C.addListener(ie);else throw Error("addEventListener and attachEvent are unavailable.");return j}function ht(){function C(j){return O.call(C.src,C.listener,j)}const O=wn;return C}function Et(C,O,j,ie,Me){if(Array.isArray(O))for(var Ze=0;Ze<O.length;Ze++)Et(C,O[Ze],j,ie,Me);else ie=m(ie)?!!ie.capture:!!ie,j=Tt(j),C&&C[Xe]?(C=C.i,O=String(O).toString(),O in C.g&&(Ze=C.g[O],j=_t(Ze,j,ie,Me),-1<j&&(Ue(Ze[j]),Array.prototype.splice.call(Ze,j,1),Ze.length==0&&(delete C.g[O],C.h--)))):C&&(C=ln(C))&&(O=C.g[O.toString()],C=-1,O&&(C=_t(O,j,ie,Me)),(j=-1<C?O[C]:null)&&Ar(j))}function Ar(C){if(typeof C!="number"&&C&&!C.da){var O=C.src;if(O&&O[Xe])he(O.i,C);else{var j=C.type,ie=C.proxy;O.removeEventListener?O.removeEventListener(j,ie,C.capture):O.detachEvent?O.detachEvent(Ct(j),ie):O.addListener&&O.removeListener&&O.removeListener(ie),(j=ln(O))?(he(j,C),j.h==0&&(j.src=null,O[Rt]=null)):Ue(C)}}}function Ct(C){return C in Ut?Ut[C]:Ut[C]="on"+C}function wn(C,O){if(C.da)C=!0;else{O=new ae(O,this);var j=C.listener,ie=C.ha||C.src;C.fa&&Ar(C),C=j.call(ie,O)}return C}function ln(C){return C=C[Rt],C instanceof xt?C:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(C){return typeof C=="function"?C:(C[je]||(C[je]=function(O){return C.handleEvent(O)}),C[je])}function Bt(){X.call(this),this.i=new xt(this),this.M=this,this.F=null}R(Bt,X),Bt.prototype[Xe]=!0,Bt.prototype.removeEventListener=function(C,O,j,ie){Et(this,C,O,j,ie)};function Xt(C,O){var j,ie=C.F;if(ie)for(j=[];ie;ie=ie.F)j.push(ie);if(C=C.M,ie=O.type||O,typeof O=="string")O=new ce(O,C);else if(O instanceof ce)O.target=O.target||C;else{var Me=O;O=new ce(ie,C),Y(O,Me)}if(Me=!0,j)for(var Ze=j.length-1;0<=Ze;Ze--){var bt=O.g=j[Ze];Me=or(bt,ie,!0,O)&&Me}if(bt=O.g=C,Me=or(bt,ie,!0,O)&&Me,Me=or(bt,ie,!1,O)&&Me,j)for(Ze=0;Ze<j.length;Ze++)bt=O.g=j[Ze],Me=or(bt,ie,!1,O)&&Me}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var C=this.i,O;for(O in C.g){for(var j=C.g[O],ie=0;ie<j.length;ie++)Ue(j[ie]);delete C.g[O],C.h--}}this.F=null},Bt.prototype.K=function(C,O,j,ie){return this.i.add(String(C),O,!1,j,ie)},Bt.prototype.L=function(C,O,j,ie){return this.i.add(String(C),O,!0,j,ie)};function or(C,O,j,ie){if(O=C.i.g[String(O)],!O)return!0;O=O.concat();for(var Me=!0,Ze=0;Ze<O.length;++Ze){var bt=O[Ze];if(bt&&!bt.da&&bt.capture==j){var Ur=bt.listener,un=bt.ha||bt.src;bt.fa&&he(C.i,bt),Me=Ur.call(un,ie)!==!1&&Me}}return Me&&!ie.defaultPrevented}function fr(C,O,j){if(typeof C=="function")j&&(C=I(C,j));else if(C&&typeof C.handleEvent=="function")C=I(C.handleEvent,C);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:d.setTimeout(C,O||0)}function Kt(C){C.g=fr(()=>{C.g=null,C.i&&(C.i=!1,Kt(C))},C.l);const O=C.h;C.h=null,C.m.apply(null,O)}class at extends X{constructor(O,j){super(),this.m=O,this.l=j,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:Kt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fe(C){X.call(this),this.h=C,this.g={}}R(Fe,X);var Je=[];function ye(C){ee(C.g,function(O,j){this.g.hasOwnProperty(j)&&Ar(O)},C),C.g={}}Fe.prototype.N=function(){Fe.aa.N.call(this),ye(this)},Fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nt=d.JSON.stringify,st=d.JSON.parse,It=class{stringify(C){return d.JSON.stringify(C,void 0)}parse(C){return d.JSON.parse(C,void 0)}};function Kr(){}Kr.prototype.h=null;function ma(C){return C.h||(C.h=C.i())}function Ka(){}var qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jn(){ce.call(this,"d")}R(Jn,ce);function Qr(){ce.call(this,"c")}R(Qr,ce);var Zn={},dn=null;function us(){return dn=dn||new Bt}Zn.La="serverreachability";function vn(C){ce.call(this,Zn.La,C)}R(vn,ce);function wa(C){const O=us();Xt(O,new vn(O))}Zn.STAT_EVENT="statevent";function li(C,O){ce.call(this,Zn.STAT_EVENT,C),this.stat=O}R(li,ce);function Hr(C){const O=us();Xt(O,new li(O,C))}Zn.Ma="timingevent";function mA(C,O){ce.call(this,Zn.Ma,C),this.size=O}R(mA,ce);function $n(C,O){if(typeof C!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){C()},O)}function Ci(){this.g=!0}Ci.prototype.xa=function(){this.g=!1};function Fn(C,O,j,ie,Me,Ze){C.info(function(){if(C.g)if(Ze)for(var bt="",Ur=Ze.split("&"),un=0;un<Ur.length;un++){var hr=Ur[un].split("=");if(1<hr.length){var sn=hr[0];hr=hr[1];var Tn=sn.split("_");bt=2<=Tn.length&&Tn[1]=="type"?bt+(sn+"="+hr+"&"):bt+(sn+"=redacted&")}}else bt=null;else bt=Ze;return"XMLHTTP REQ ("+ie+") [attempt "+Me+"]: "+O+`
`+j+`
`+bt})}function ci(C,O,j,ie,Me,Ze,bt){C.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+Me+"]: "+O+`
`+j+`
`+Ze+" "+bt})}function J(C,O,j,ie){C.info(function(){return"XMLHTTP TEXT ("+O+"): "+se(C,j)+(ie?" "+ie:"")})}function ne(C,O){C.info(function(){return"TIMEOUT: "+O})}Ci.prototype.info=function(){};function se(C,O){if(!C.g)return O;if(!O)return null;try{var j=JSON.parse(O);if(j){for(C=0;C<j.length;C++)if(Array.isArray(j[C])){var ie=j[C];if(!(2>ie.length)){var Me=ie[1];if(Array.isArray(Me)&&!(1>Me.length)){var Ze=Me[0];if(Ze!="noop"&&Ze!="stop"&&Ze!="close")for(var bt=1;bt<Me.length;bt++)Me[bt]=""}}}}return nt(j)}catch{return O}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function Qe(){}R(Qe,Kr),Qe.prototype.g=function(){return new XMLHttpRequest},Qe.prototype.i=function(){return{}},we=new Qe;function tt(C,O,j,ie){this.j=C,this.i=O,this.l=j,this.R=ie||1,this.U=new Fe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ke}function ke(){this.i=null,this.g="",this.h=!1}var Ge={},Ke={};function lt(C,O,j){C.L=1,C.v=cn(Yt(O)),C.m=j,C.P=!0,ft(C,null)}function ft(C,O){C.F=Date.now(),vt(C),C.A=Yt(C.v);var j=C.A,ie=C.R;Array.isArray(ie)||(ie=[String(ie)]),Zr(j.i,"t",ie),C.C=0,j=C.j.J,C.h=new ke,C.g=lc(C.j,j?O:null,!C.m),0<C.O&&(C.M=new at(I(C.Y,C,C.g),C.O)),O=C.U,j=C.g,ie=C.ca;var Me="readystatechange";Array.isArray(Me)||(Me&&(Je[0]=Me.toString()),Me=Je);for(var Ze=0;Ze<Me.length;Ze++){var bt=Ie(j,Me[Ze],ie||O.handleEvent,!1,O.h||O);if(!bt)break;O.g[bt.key]=bt}O=C.H?Q(C.H):{},C.m?(C.u||(C.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",C.g.ea(C.A,C.u,C.m,O)):(C.u="GET",C.g.ea(C.A,C.u,null,O)),wa(),Fn(C.i,C.u,C.A,C.l,C.R,C.m)}tt.prototype.ca=function(C){C=C.target;const O=this.M;O&&Ta(C)==3?O.j():this.Y(C)},tt.prototype.Y=function(C){try{if(C==this.g)e:{const Tn=Ta(this.g);var O=this.g.Ba();const Gn=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||wA(this.g)))){this.J||Tn!=4||O==7||(O==8||0>=Gn?wa(3):wa(2)),rt(this);var j=this.g.Z();this.X=j;t:if(dt(this)){var ie=wA(this.g);C="";var Me=ie.length,Ze=Ta(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),Tr(this);var bt="";break t}this.h.i=new d.TextDecoder}for(O=0;O<Me;O++)this.h.h=!0,C+=this.h.i.decode(ie[O],{stream:!(Ze&&O==Me-1)});ie.length=0,this.h.g+=C,this.C=0,bt=this.h.g}else bt=this.g.oa();if(this.o=j==200,ci(this.i,this.u,this.A,this.l,this.R,Tn,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Ur,un=this.g;if((Ur=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ur)){var hr=Ur;break t}}hr=null}if(j=hr)J(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bn(this,j);else{this.o=!1,this.s=3,Hr(12),Ht(this),Tr(this);break e}}if(this.P){j=!0;let Sa;for(;!this.J&&this.C<bt.length;)if(Sa=pt(this,bt),Sa==Ke){Tn==4&&(this.s=4,Hr(14),j=!1),J(this.i,this.l,null,"[Incomplete Response]");break}else if(Sa==Ge){this.s=4,Hr(15),J(this.i,this.l,bt,"[Invalid Chunk]"),j=!1;break}else J(this.i,this.l,Sa,null),bn(this,Sa);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||bt.length!=0||this.h.h||(this.s=1,Hr(16),j=!1),this.o=this.o&&j,!j)J(this.i,this.l,bt,"[Invalid Chunked Response]"),Ht(this),Tr(this);else if(0<bt.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+bt.length),EA(sn),sn.M=!0,Hr(11))}}else J(this.i,this.l,bt,null),bn(this,bt);Tn==4&&Ht(this),this.o&&!this.J&&(Tn==4?an(this.j,this):(this.o=!1,vt(this)))}else Fr(this.g),j==400&&0<bt.indexOf("Unknown SID")?(this.s=3,Hr(12)):(this.s=0,Hr(13)),Ht(this),Tr(this)}}}catch{}finally{}};function dt(C){return C.g?C.u=="GET"&&C.L!=2&&C.j.Ca:!1}function pt(C,O){var j=C.C,ie=O.indexOf(`
`,j);return ie==-1?Ke:(j=Number(O.substring(j,ie)),isNaN(j)?Ge:(ie+=1,ie+j>O.length?Ke:(O=O.slice(ie,ie+j),C.C=ie+j,O)))}tt.prototype.cancel=function(){this.J=!0,Ht(this)};function vt(C){C.S=Date.now()+C.I,Nt(C,C.I)}function Nt(C,O){if(C.B!=null)throw Error("WatchDog timer not null");C.B=$n(I(C.ba,C),O)}function rt(C){C.B&&(d.clearTimeout(C.B),C.B=null)}tt.prototype.ba=function(){this.B=null;const C=Date.now();0<=C-this.S?(ne(this.i,this.A),this.L!=2&&(wa(),Hr(17)),Ht(this),this.s=2,Tr(this)):Nt(this,this.S-C)};function Tr(C){C.j.G==0||C.J||an(C.j,C)}function Ht(C){rt(C);var O=C.M;O&&typeof O.ma=="function"&&O.ma(),C.M=null,ye(C.U),C.g&&(O=C.g,C.g=null,O.abort(),O.ma())}function bn(C,O){try{var j=C.j;if(j.G!=0&&(j.g==C||Rn(j.h,C))){if(!C.K&&Rn(j.h,C)&&j.G==3){try{var ie=j.Da.g.parse(O)}catch{ie=null}if(Array.isArray(ie)&&ie.length==3){var Me=ie;if(Me[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<C.F)ds(j),eA(j);else break e;ul(j),Hr(18)}}else j.za=Me[1],0<j.za-j.T&&37500>Me[2]&&j.F&&j.v==0&&!j.C&&(j.C=$n(I(j.Za,j),6e3));if(1>=rr(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Ia(j,11)}else if((C.K||j.g==C)&&ds(j),!W(O))for(Me=j.Da.g.parse(O),O=0;O<Me.length;O++){let hr=Me[O];if(j.T=hr[0],hr=hr[1],j.G==2)if(hr[0]=="c"){j.K=hr[1],j.ia=hr[2];const sn=hr[3];sn!=null&&(j.la=sn,j.j.info("VER="+j.la));const Tn=hr[4];Tn!=null&&(j.Aa=Tn,j.j.info("SVER="+j.Aa));const Gn=hr[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(ie=1.5*Gn,j.L=ie,j.j.info("backChannelRequestTimeoutMs_="+ie)),ie=j;const Sa=C.g;if(Sa){const ya=Sa.g?Sa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var Ze=ie.h;Ze.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(Ze.j=Ze.l,Ze.g=new Set,Ze.h&&(fs(Ze,Ze.h),Ze.h=null))}if(ie.D){const Ms=Sa.g?Sa.g.getResponseHeader("X-HTTP-Session-Id"):null;Ms&&(ie.ya=Ms,yt(ie.I,ie.D,Ms))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-C.F,j.j.info("Handshake RTT: "+j.R+"ms")),ie=j;var bt=C;if(ie.qa=jt(ie,ie.J?ie.ia:null,ie.W),bt.K){za(ie.h,bt);var Ur=bt,un=ie.L;un&&(Ur.I=un),Ur.B&&(rt(Ur),vt(Ur)),ie.g=bt}else oc(ie);0<j.i.length&&Zt(j)}else hr[0]!="stop"&&hr[0]!="close"||Ia(j,7);else j.G==3&&(hr[0]=="stop"||hr[0]=="close"?hr[0]=="stop"?Ia(j,7):Fi(j):hr[0]!="noop"&&j.l&&j.l.ta(hr),j.v=0)}}wa(4)}catch{}}var Os=class{constructor(C,O){this.g=C,this.map=O}};function lr(C){this.l=C||10,d.PerformanceNavigationTiming?(C=d.performance.getEntriesByType("navigation"),C=0<C.length&&(C[0].nextHopProtocol=="hq"||C[0].nextHopProtocol=="h2")):C=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=C?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function er(C){return C.h?!0:C.g?C.g.size>=C.j:!1}function rr(C){return C.h?1:C.g?C.g.size:0}function Rn(C,O){return C.h?C.h==O:C.g?C.g.has(O):!1}function fs(C,O){C.g?C.g.add(O):C.h=O}function za(C,O){C.h&&C.h==O?C.h=null:C.g&&C.g.has(O)&&C.g.delete(O)}lr.prototype.cancel=function(){if(this.i=Br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const C of this.g.values())C.cancel();this.g.clear()}};function Br(C){if(C.h!=null)return C.i.concat(C.h.D);if(C.g!=null&&C.g.size!==0){let O=C.i;for(const j of C.g.values())O=O.concat(j.D);return O}return F(C.i)}function Wi(C){if(C.V&&typeof C.V=="function")return C.V();if(typeof Map<"u"&&C instanceof Map||typeof Set<"u"&&C instanceof Set)return Array.from(C.values());if(typeof C=="string")return C.split("");if(p(C)){for(var O=[],j=C.length,ie=0;ie<j;ie++)O.push(C[ie]);return O}O=[],j=0;for(ie in C)O[j++]=C[ie];return O}function B0(C){if(C.na&&typeof C.na=="function")return C.na();if(!C.V||typeof C.V!="function"){if(typeof Map<"u"&&C instanceof Map)return Array.from(C.keys());if(!(typeof Set<"u"&&C instanceof Set)){if(p(C)||typeof C=="string"){var O=[];C=C.length;for(var j=0;j<C;j++)O.push(j);return O}O=[],j=0;for(const ie in C)O[j++]=ie;return O}}}function Jr(C,O){if(C.forEach&&typeof C.forEach=="function")C.forEach(O,void 0);else if(p(C)||typeof C=="string")Array.prototype.forEach.call(C,O,void 0);else for(var j=B0(C),ie=Wi(C),Me=ie.length,Ze=0;Ze<Me;Ze++)O.call(void 0,ie[Ze],j&&j[Ze],C)}var Bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(C,O){if(C){C=C.split("&");for(var j=0;j<C.length;j++){var ie=C[j].indexOf("="),Me=null;if(0<=ie){var Ze=C[j].substring(0,ie);Me=C[j].substring(ie+1)}else Ze=C[j];O(Ze,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function Wa(C){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,C instanceof Wa){this.h=C.h,gn(this,C.j),this.o=C.o,this.g=C.g,Le(this,C.s),this.l=C.l;var O=C.i,j=new _i;j.i=O.i,O.g&&(j.g=new Map(O.g),j.h=O.h),fe(this,j),this.m=C.m}else C&&(O=String(C).match(Bi))?(this.h=!1,gn(this,O[1]||"",!0),this.o=Pn(O[2]||""),this.g=Pn(O[3]||"",!0),Le(this,O[4]),this.l=Pn(O[5]||"",!0),fe(this,O[6]||"",!0),this.m=Pn(O[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}Wa.prototype.toString=function(){var C=[],O=this.j;O&&C.push(bi(O,va,!0),":");var j=this.g;return(j||O=="file")&&(C.push("//"),(O=this.o)&&C.push(bi(O,va,!0),"@"),C.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&C.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&C.push("/"),C.push(bi(j,j.charAt(0)=="/"?zr:Qt,!0))),(j=this.i.toString())&&C.push("?",j),(j=this.m)&&C.push("#",bi(j,b0)),C.join("")};function Yt(C){return new Wa(C)}function gn(C,O,j){C.j=j?Pn(O,!0):O,C.j&&(C.j=C.j.replace(/:$/,""))}function Le(C,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);C.s=O}else C.s=null}function fe(C,O,j){O instanceof _i?(C.i=O,Xi(C.i,C.h)):(j||(O=bi(O,sc)),C.i=new _i(O,C.h))}function yt(C,O,j){C.i.set(O,j)}function cn(C){return yt(C,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),C}function Pn(C,O){return C?O?decodeURI(C.replace(/%25/g,"%2525")):decodeURIComponent(C):""}function bi(C,O,j){return typeof C=="string"?(C=encodeURI(C).replace(O,Al),j&&(C=C.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C):null}function Al(C){return C=C.charCodeAt(0),"%"+(C>>4&15).toString(16)+(C&15).toString(16)}var va=/[#\/\?@]/g,Qt=/[#\?:]/g,zr=/[#\?]/g,sc=/[#\?@]/g,b0=/#/g;function _i(C,O){this.h=this.g=null,this.i=C||null,this.j=!!O}function _n(C){C.g||(C.g=new Map,C.h=0,C.i&&io(C.i,function(O,j){C.add(decodeURIComponent(O.replace(/\+/g," ")),j)}))}e=_i.prototype,e.add=function(C,O){_n(this),this.i=null,C=ca(this,C);var j=this.g.get(C);return j||this.g.set(C,j=[]),j.push(O),this.h+=1,this};function Zs(C,O){_n(C),O=ca(C,O),C.g.has(O)&&(C.i=null,C.h-=C.g.get(O).length,C.g.delete(O))}function so(C,O){return _n(C),O=ca(C,O),C.g.has(O)}e.forEach=function(C,O){_n(this),this.g.forEach(function(j,ie){j.forEach(function(Me){C.call(O,Me,ie,this)},this)},this)},e.na=function(){_n(this);const C=Array.from(this.g.values()),O=Array.from(this.g.keys()),j=[];for(let ie=0;ie<O.length;ie++){const Me=C[ie];for(let Ze=0;Ze<Me.length;Ze++)j.push(O[ie])}return j},e.V=function(C){_n(this);let O=[];if(typeof C=="string")so(this,C)&&(O=O.concat(this.g.get(ca(this,C))));else{C=Array.from(this.g.values());for(let j=0;j<C.length;j++)O=O.concat(C[j])}return O},e.set=function(C,O){return _n(this),this.i=null,C=ca(this,C),so(this,C)&&(this.h-=this.g.get(C).length),this.g.set(C,[O]),this.h+=1,this},e.get=function(C,O){return C?(C=this.V(C),0<C.length?String(C[0]):O):O};function Zr(C,O,j){Zs(C,O),0<j.length&&(C.i=null,C.g.set(ca(C,O),F(j)),C.h+=j.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const C=[],O=Array.from(this.g.keys());for(var j=0;j<O.length;j++){var ie=O[j];const Ze=encodeURIComponent(String(ie)),bt=this.V(ie);for(ie=0;ie<bt.length;ie++){var Me=Ze;bt[ie]!==""&&(Me+="="+encodeURIComponent(String(bt[ie]))),C.push(Me)}}return this.i=C.join("&")};function ca(C,O){return O=String(O),C.j&&(O=O.toLowerCase()),O}function Xi(C,O){O&&!C.j&&(_n(C),C.i=null,C.g.forEach(function(j,ie){var Me=ie.toLowerCase();ie!=Me&&(Zs(this,ie),Zr(this,Me,j))},C)),C.j=O}function Pt(C,O){const j=new Ci;if(d.Image){const ie=new Image;ie.onload=N(Vt,j,"TestLoadImage: loaded",!0,O,ie),ie.onerror=N(Vt,j,"TestLoadImage: error",!1,O,ie),ie.onabort=N(Vt,j,"TestLoadImage: abort",!1,O,ie),ie.ontimeout=N(Vt,j,"TestLoadImage: timeout",!1,O,ie),d.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=C}else O(!1)}function Ac(C,O){const j=new Ci,ie=new AbortController,Me=setTimeout(()=>{ie.abort(),Vt(j,"TestPingServer: timeout",!1,O)},1e4);fetch(C,{signal:ie.signal}).then(Ze=>{clearTimeout(Me),Ze.ok?Vt(j,"TestPingServer: ok",!0,O):Vt(j,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(Me),Vt(j,"TestPingServer: error",!1,O)})}function Vt(C,O,j,ie,Me){try{Me&&(Me.onload=null,Me.onerror=null,Me.onabort=null,Me.ontimeout=null),ie(j)}catch{}}function Wr(){this.g=new It}function ol(C,O,j){const ie=j||"";try{Jr(C,function(Me,Ze){let bt=Me;m(Me)&&(bt=nt(Me)),O.push(ie+Ze+"="+encodeURIComponent(bt))})}catch(Me){throw O.push(ie+"type="+encodeURIComponent("_badmap")),Me}}function Ti(C){this.l=C.Ub||null,this.j=C.eb||!1}R(Ti,Kr),Ti.prototype.g=function(){return new Xa(this.l,this.j)},Ti.prototype.i=(function(C){return function(){return C}})({});function Xa(C,O){Bt.call(this),this.D=C,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Xa,Bt),e=Xa.prototype,e.open=function(C,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=C,this.A=O,this.readyState=1,Si(this)},e.send=function(C){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};C&&(O.body=C),(this.D||d).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},e.Sa=function(C){if(this.g&&(this.l=C,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=C.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")C.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in C){if(this.j=C.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ii(this)}else C.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ii(C){C.j.read().then(C.Pa.bind(C)).catch(C.ga.bind(C))}e.Pa=function(C){if(this.g){if(this.o&&C.value)this.response.push(C.value);else if(!this.o){var O=C.value?C.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!C.done}))&&(this.response=this.responseText+=O)}C.done?hs(this):Si(this),this.readyState==3&&Ii(this)}},e.Ra=function(C){this.g&&(this.response=this.responseText=C,hs(this))},e.Qa=function(C){this.g&&(this.response=C,hs(this))},e.ga=function(){this.g&&hs(this)};function hs(C){C.readyState=4,C.l=null,C.j=null,C.v=null,Si(C)}e.setRequestHeader=function(C,O){this.u.append(C,O)},e.getResponseHeader=function(C){return this.h&&this.h.get(C.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const C=[],O=this.h.entries();for(var j=O.next();!j.done;)j=j.value,C.push(j[0]+": "+j[1]),j=O.next();return C.join(`\r
`)};function Si(C){C.onreadystatechange&&C.onreadystatechange.call(C)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(C){this.m=C?"include":"same-origin"}});function Yi(C){let O="";return ee(C,function(j,ie){O+=ie,O+=":",O+=j,O+=`\r
`}),O}function Ni(C,O,j){e:{for(ie in j){var ie=!1;break e}ie=!0}ie||(j=Yi(j),typeof C=="string"?j!=null&&encodeURIComponent(String(j)):yt(C,O,j))}function $r(C){Bt.call(this),this.headers=new Map,this.o=C||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R($r,Bt);var Dn=/^https?$/i,ui=["POST","PUT"];e=$r.prototype,e.Ha=function(C){this.J=C},e.ea=function(C,O,j,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+C);O=O?O.toUpperCase():"GET",this.D=C,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?ma(this.o):ma(we),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(O,String(C),!0),this.B=!1}catch(Ze){On(this,Ze);return}if(C=j||"",j=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var Me in ie)j.set(Me,ie[Me]);else if(typeof ie.keys=="function"&&typeof ie.get=="function")for(const Ze of ie.keys())j.set(Ze,ie.get(Ze));else throw Error("Unknown input type for opt_headers: "+String(ie));ie=Array.from(j.keys()).find(Ze=>Ze.toLowerCase()=="content-type"),Me=d.FormData&&C instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ui,O,void 0))||ie||Me||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ze,bt]of j)this.g.setRequestHeader(Ze,bt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ao(this),this.u=!0,this.g.send(C),this.u=!1}catch(Ze){On(this,Ze)}};function On(C,O){C.h=!1,C.g&&(C.j=!0,C.g.abort(),C.j=!1),C.l=O,C.m=5,Us(C),ks(C)}function Us(C){C.A||(C.A=!0,Xt(C,"complete"),Xt(C,"error"))}e.abort=function(C){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=C||7,Xt(this,"complete"),Xt(this,"abort"),ks(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ks(this,!0)),$r.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ll(this):this.bb())},e.bb=function(){ll(this)};function ll(C){if(C.h&&typeof c<"u"&&(!C.v[1]||Ta(C)!=4||C.Z()!=2)){if(C.u&&Ta(C)==4)fr(C.Ea,0,C);else if(Xt(C,"readystatechange"),Ta(C)==4){C.h=!1;try{const bt=C.Z();e:switch(bt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var j;if(!(j=O)){var ie;if(ie=bt===0){var Me=String(C.D).match(Bi)[1]||null;!Me&&d.self&&d.self.location&&(Me=d.self.location.protocol.slice(0,-1)),ie=!Dn.test(Me?Me.toLowerCase():"")}j=ie}if(j)Xt(C,"complete"),Xt(C,"success");else{C.m=6;try{var Ze=2<Ta(C)?C.g.statusText:""}catch{Ze=""}C.l=Ze+" ["+C.Z()+"]",Us(C)}}finally{ks(C)}}}}function ks(C,O){if(C.g){Ao(C);const j=C.g,ie=C.v[0]?()=>{}:null;C.g=null,C.v=null,O||Xt(C,"ready");try{j.onreadystatechange=ie}catch{}}}function Ao(C){C.I&&(d.clearTimeout(C.I),C.I=null)}e.isActive=function(){return!!this.g};function Ta(C){return C.g?C.g.readyState:0}e.Z=function(){try{return 2<Ta(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(C){if(this.g){var O=this.g.responseText;return C&&O.indexOf(C)==0&&(O=O.substring(C.length)),st(O)}};function wA(C){try{if(!C.g)return null;if("response"in C.g)return C.g.response;switch(C.H){case"":case"text":return C.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in C.g)return C.g.mozResponseArrayBuffer}return null}catch{return null}}function Fr(C){const O={};C=(C.g&&2<=Ta(C)&&C.g.getAllResponseHeaders()||"").split(`\r
`);for(let ie=0;ie<C.length;ie++){if(W(C[ie]))continue;var j=q(C[ie]);const Me=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Ze=O[Me]||[];O[Me]=Ze,Ze.push(j)}U(O,function(ie){return ie.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(C,O,j){return j&&j.internalChannelParams&&j.internalChannelParams[C]||O}function vA(C){this.Aa=0,this.i=[],this.j=new Ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,C),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,C),this.cb=$s("retryDelaySeedMs",1e4,C),this.Wa=$s("forwardChannelMaxRetries",2,C),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,C),this.pa=C&&C.xmlHttpFactory||void 0,this.Xa=C&&C.Tb||void 0,this.Ca=C&&C.useFetchStreams||!1,this.L=void 0,this.J=C&&C.supportsCrossDomainXhr||!1,this.K="",this.h=new lr(C&&C.concurrentRequestLimit),this.Da=new Wr,this.P=C&&C.fastHandshake||!1,this.O=C&&C.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=C&&C.Rb||!1,C&&C.xa&&this.j.xa(),C&&C.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&C&&C.detectBufferingProxy||!1,this.ja=void 0,C&&C.longPollingTimeout&&0<C.longPollingTimeout&&(this.ja=C.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=vA.prototype,e.la=8,e.G=1,e.connect=function(C,O,j,ie){Hr(0),this.W=C,this.H=O||{},j&&ie!==void 0&&(this.H.OSID=j,this.H.OAID=ie),this.F=this.X,this.I=jt(this,null,this.W),Zt(this)};function Fi(C){if(Ye(C),C.G==3){var O=C.U++,j=Yt(C.I);if(yt(j,"SID",C.K),yt(j,"RID",O),yt(j,"TYPE","terminate"),tA(C,j),O=new tt(C,C.j,O),O.L=2,O.v=cn(Yt(j)),j=!1,d.navigator&&d.navigator.sendBeacon)try{j=d.navigator.sendBeacon(O.v.toString(),"")}catch{}!j&&d.Image&&(new Image().src=O.v,j=!0),j||(O.g=lc(O.j,null),O.g.ea(O.v)),O.F=Date.now(),vt(O)}Rr(C)}function eA(C){C.g&&(EA(C),C.g.cancel(),C.g=null)}function Ye(C){eA(C),C.u&&(d.clearTimeout(C.u),C.u=null),ds(C),C.h.cancel(),C.s&&(typeof C.s=="number"&&d.clearTimeout(C.s),C.s=null)}function Zt(C){if(!er(C.h)&&!C.s){C.s=!0;var O=C.Ga;oe||$e(),Pe||(oe(),Pe=!0),Ee.add(O,C),C.B=0}}function Vn(C,O){return rr(C.h)>=C.h.j-(C.s?1:0)?!1:C.s?(C.i=O.D.concat(C.i),!0):C.G==1||C.G==2||C.B>=(C.Va?0:C.Wa)?!1:(C.s=$n(I(C.Ga,C,O),CA(C,C.B)),C.B++,!0)}e.Ga=function(C){if(this.s)if(this.s=null,this.G==1){if(!C){this.U=Math.floor(1e5*Math.random()),C=this.U++;const Me=new tt(this,this.j,C);let Ze=this.o;if(this.S&&(Ze?(Ze=Q(Ze),Y(Ze,this.S)):Ze=this.S),this.m!==null||this.O||(Me.H=Ze,Ze=null),this.P)e:{for(var O=0,j=0;j<this.i.length;j++){t:{var ie=this.i[j];if("__data__"in ie.map&&(ie=ie.map.__data__,typeof ie=="string")){ie=ie.length;break t}ie=void 0}if(ie===void 0)break;if(O+=ie,4096<O){O=j;break e}if(O===4096||j===this.i.length-1){O=j+1;break e}}O=1e3}else O=1e3;O=cl(this,Me,O),j=Yt(this.I),yt(j,"RID",C),yt(j,"CVER",22),this.D&&yt(j,"X-HTTP-Session-Id",this.D),tA(this,j),Ze&&(this.O?O="headers="+encodeURIComponent(String(Yi(Ze)))+"&"+O:this.m&&Ni(j,this.m,Ze)),fs(this.h,Me),this.Ua&&yt(j,"TYPE","init"),this.P?(yt(j,"$req",O),yt(j,"SID","null"),Me.T=!0,lt(Me,j,null)):lt(Me,j,O),this.G=2}}else this.G==3&&(C?yA(this,C):this.i.length==0||er(this.h)||yA(this))};function yA(C,O){var j;O?j=O.l:j=C.U++;const ie=Yt(C.I);yt(ie,"SID",C.K),yt(ie,"RID",j),yt(ie,"AID",C.T),tA(C,ie),C.m&&C.o&&Ni(ie,C.m,C.o),j=new tt(C,C.j,j,C.B+1),C.m===null&&(j.H=C.o),O&&(C.i=O.D.concat(C.i)),O=cl(C,j,1e3),j.I=Math.round(.5*C.wa)+Math.round(.5*C.wa*Math.random()),fs(C.h,j),lt(j,ie,O)}function tA(C,O){C.H&&ee(C.H,function(j,ie){yt(O,ie,j)}),C.l&&Jr({},function(j,ie){yt(O,ie,j)})}function cl(C,O,j){j=Math.min(C.i.length,j);var ie=C.l?I(C.l.Na,C.l,C):null;e:{var Me=C.i;let Ze=-1;for(;;){const bt=["count="+j];Ze==-1?0<j?(Ze=Me[0].g,bt.push("ofs="+Ze)):Ze=0:bt.push("ofs="+Ze);let Ur=!0;for(let un=0;un<j;un++){let hr=Me[un].g;const sn=Me[un].map;if(hr-=Ze,0>hr)Ze=Math.max(0,Me[un].g-100),Ur=!1;else try{ol(sn,bt,"req"+hr+"_")}catch{ie&&ie(sn)}}if(Ur){ie=bt.join("&");break e}}}return C=C.i.splice(0,j),O.D=C,ie}function oc(C){if(!C.g&&!C.u){C.Y=1;var O=C.Fa;oe||$e(),Pe||(oe(),Pe=!0),Ee.add(O,C),C.v=0}}function ul(C){return C.g||C.u||3<=C.v?!1:(C.Y++,C.u=$n(I(C.Fa,C),CA(C,C.v)),C.v++,!0)}e.Fa=function(){if(this.u=null,yn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var C=2*this.R;this.j.info("BP detection timer enabled: "+C),this.A=$n(I(this.ab,this),C)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Hr(10),eA(this),yn(this))};function EA(C){C.A!=null&&(d.clearTimeout(C.A),C.A=null)}function yn(C){C.g=new tt(C,C.j,"rpc",C.Y),C.m===null&&(C.g.H=C.o),C.g.O=0;var O=Yt(C.qa);yt(O,"RID","rpc"),yt(O,"SID",C.K),yt(O,"AID",C.T),yt(O,"CI",C.F?"0":"1"),!C.F&&C.ja&&yt(O,"TO",C.ja),yt(O,"TYPE","xmlhttp"),tA(C,O),C.m&&C.o&&Ni(O,C.m,C.o),C.L&&(C.g.I=C.L);var j=C.g;C=C.ia,j.L=1,j.v=cn(Yt(O)),j.m=null,j.P=!0,ft(j,C)}e.Za=function(){this.C!=null&&(this.C=null,eA(this),ul(this),Hr(19))};function ds(C){C.C!=null&&(d.clearTimeout(C.C),C.C=null)}function an(C,O){var j=null;if(C.g==O){ds(C),EA(C),C.g=null;var ie=2}else if(Rn(C.h,O))j=O.D,za(C.h,O),ie=1;else return;if(C.G!=0){if(O.o)if(ie==1){j=O.m?O.m.length:0,O=Date.now()-O.F;var Me=C.B;ie=us(),Xt(ie,new mA(ie,j)),Zt(C)}else oc(C);else if(Me=O.s,Me==3||Me==0&&0<O.X||!(ie==1&&Vn(C,O)||ie==2&&ul(C)))switch(j&&0<j.length&&(O=C.h,O.i=O.i.concat(j)),Me){case 1:Ia(C,5);break;case 4:Ia(C,10);break;case 3:Ia(C,6);break;default:Ia(C,2)}}}function CA(C,O){let j=C.Ta+Math.floor(Math.random()*C.cb);return C.isActive()||(j*=2),j*O}function Ia(C,O){if(C.j.info("Error code "+O),O==2){var j=I(C.fb,C),ie=C.Xa;const Me=!ie;ie=new Wa(ie||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||gn(ie,"https"),cn(ie),Me?Pt(ie.toString(),j):Ac(ie.toString(),j)}else Hr(2);C.G=0,C.l&&C.l.sa(O),Rr(C),Ye(C)}e.fb=function(C){C?(this.j.info("Successfully pinged google.com"),Hr(2)):(this.j.info("Failed to ping google.com"),Hr(1))};function Rr(C){if(C.G=0,C.ka=[],C.l){const O=Br(C.h);(O.length!=0||C.i.length!=0)&&(D(C.ka,O),D(C.ka,C.i),C.h.i.length=0,F(C.i),C.i.length=0),C.l.ra()}}function jt(C,O,j){var ie=j instanceof Wa?Yt(j):new Wa(j);if(ie.g!="")O&&(ie.g=O+"."+ie.g),Le(ie,ie.s);else{var Me=d.location;ie=Me.protocol,O=O?O+"."+Me.hostname:Me.hostname,Me=+Me.port;var Ze=new Wa(null);ie&&gn(Ze,ie),O&&(Ze.g=O),Me&&Le(Ze,Me),j&&(Ze.l=j),ie=Ze}return j=C.D,O=C.ya,j&&O&&yt(ie,j,O),yt(ie,"VER",C.la),tA(C,ie),ie}function lc(C,O,j){if(O&&!C.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=C.Ca&&!C.pa?new $r(new Ti({eb:j})):new $r(C.pa),O.Ha(C.J),O}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pr(){}e=Pr.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ri(){}Ri.prototype.g=function(C,O){return new Un(C,O)};function Un(C,O){Bt.call(this),this.g=new vA(O),this.l=C,this.h=O&&O.messageUrlParams||null,C=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"}),this.g.o=C,C=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(C?C["X-WebChannel-Content-Type"]=O.messageContentType:C={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(C?C["X-WebChannel-Client-Profile"]=O.va:C={"X-WebChannel-Client-Profile":O.va}),this.g.S=C,(C=O&&O.Sb)&&!W(C)&&(this.g.m=C),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!W(O)&&(this.g.D=O,C=this.h,C!==null&&O in C&&(C=this.h,O in C&&delete C[O])),this.j=new gs(this)}R(Un,Bt),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){Fi(this.g)},Un.prototype.o=function(C){var O=this.g;if(typeof C=="string"){var j={};j.__data__=C,C=j}else this.u&&(j={},j.__data__=nt(C),C=j);O.i.push(new Os(O.Ya++,C)),O.G==3&&Zt(O)},Un.prototype.N=function(){this.g.l=null,delete this.j,Fi(this.g),delete this.g,Un.aa.N.call(this)};function cc(C){Jn.call(this),C.__headers__&&(this.headers=C.__headers__,this.statusCode=C.__status__,delete C.__headers__,delete C.__status__);var O=C.__sm__;if(O){e:{for(const j in O){C=j;break e}C=void 0}(this.i=C)&&(C=this.i,O=O!==null&&C in O?O[C]:void 0),this.data=O}else this.data=C}R(cc,Jn);function fi(){Qr.call(this),this.status=1}R(fi,Qr);function gs(C){this.g=C}R(gs,Pr),gs.prototype.ua=function(){Xt(this.g,"a")},gs.prototype.ta=function(C){Xt(this.g,new cc(C))},gs.prototype.sa=function(C){Xt(this.g,new fi)},gs.prototype.ra=function(){Xt(this.g,"b")},Ri.prototype.createWebChannel=Ri.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,$I=function(){return new Ri},ZI=function(){return us()},JI=Zn,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Qd=Ae,ue.COMPLETE="complete",qI=ue,Ka.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,_u=Ka,$r.prototype.listenOnce=$r.prototype.L,$r.prototype.getLastError=$r.prototype.Ka,$r.prototype.getLastErrorCode=$r.prototype.Ba,$r.prototype.getStatus=$r.prototype.Z,$r.prototype.getResponseJson=$r.prototype.Oa,$r.prototype.getResponseText=$r.prototype.oa,$r.prototype.send=$r.prototype.ea,$r.prototype.setWithCredentials=$r.prototype.Ha,YI=$r}).apply(typeof Nd<"u"?Nd:typeof self<"u"?self:typeof window<"u"?window:{});const R4="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$a.UNAUTHENTICATED=new $a(null),$a.GOOGLE_CREDENTIALS=new $a("google-credentials-uid"),$a.FIRST_PARTY=new $a("first-party-uid"),$a.MOCK_USER=new $a("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y0="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new X2("@firebase/firestore");function fu(){return zl.logLevel}function Mt(e,...t){if(zl.logLevel<=Dr.DEBUG){const r=t.map(q2);zl.debug(`Firestore (${y0}): ${e}`,...r)}}function to(e,...t){if(zl.logLevel<=Dr.ERROR){const r=t.map(q2);zl.error(`Firestore (${y0}): ${e}`,...r)}}function c0(e,...t){if(zl.logLevel<=Dr.WARN){const r=t.map(q2);zl.warn(`Firestore (${y0}): ${e}`,...r)}}function q2(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e="Unexpected state"){const t=`FIRESTORE (${y0}) INTERNAL ASSERTION FAILED: `+e;throw to(t),new Error(t)}function qr(e,t){e||$t()}function sr(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends il{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r($a.UNAUTHENTICATED)))}shutdown(){}}class cK{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class uK{constructor(t){this.t=t,this.currentUser=$a.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){qr(this.o===void 0);let n=this.i;const a=p=>this.i!==n?(n=this.i,r(p)):Promise.resolve();let A=new qA;this.o=()=>{this.i++,this.currentUser=this.u(),A.resolve(),A=new qA,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=A;t.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),A.resolve(),A=new qA)}}),0),c()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==t?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(qr(typeof n.accessToken=="string"),new eS(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qr(t===null||typeof t=="string"),new $a(t)}}class fK{constructor(t,r,n){this.l=t,this.h=r,this.P=n,this.type="FirstParty",this.user=$a.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hK{constructor(t,r,n){this.l=t,this.h=r,this.P=n}getToken(){return Promise.resolve(new fK(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable((()=>r($a.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dK{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gK{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){qr(this.o===void 0);const n=A=>{A.error!=null&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${A.error.message}`);const c=A.token!==this.R;return this.R=A.token,Mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?r(A.token):Promise.resolve()};this.o=A=>{t.enqueueRetryable((()=>n(A)))};const a=A=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=A,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((A=>a(A))),setTimeout((()=>{if(!this.appCheck){const A=this.A.getImmediate({optional:!0});A?a(A):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(qr(typeof r.token=="string"),this.R=r.token,new dK(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xK(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const a=xK(40);for(let A=0;A<a.length;++A)n.length<20&&a[A]<r&&(n+=t.charAt(a[A]%t.length))}return n}}function Lr(e,t){return e<t?-1:e>t?1:0}function u0(e,t,r){return e.length===t.length&&e.every(((n,a)=>r(n,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Dt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Dt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new Dt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return pa.fromMillis(Date.now())}static fromDate(t){return pa.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*r));return new pa(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Lr(this.nanoseconds,t.nanoseconds):Lr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ir(t)}static min(){return new ir(new pa(0,0))}static max(){return new ir(new pa(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,r,n){r===void 0?r=0:r>t.length&&$t(),n===void 0?n=t.length-r:n>t.length-r&&$t(),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return cf.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof cf?t.forEach((n=>{r.push(n)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const A=t.get(a),c=r.get(a);if(A<c)return-1;if(A>c)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class mn extends cf{construct(t,r,n){return new mn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Dt(ct.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((a=>a.length>0)))}return new mn(r)}static emptyPath(){return new mn([])}}const pK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class La extends cf{construct(t,r,n){return new La(t,r,n)}static isValidIdentifier(t){return pK.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),La.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new La(["__name__"])}static fromServerFormat(t){const r=[];let n="",a=0;const A=()=>{if(n.length===0)throw new Dt(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new Dt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Dt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(n+=d,a++):(A(),a++)}if(A(),c)throw new Dt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new La(r)}static emptyPath(){return new La([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.path=t}static fromPath(t){return new zt(mn.fromString(t))}static fromName(t){return new zt(mn.fromString(t).popFirst(5))}static empty(){return new zt(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&mn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return mn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zt(new mn(t.slice()))}}function mK(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=ir.fromTimestamp(n===1e9?new pa(r+1,0):new pa(r,n));return new tl(a,zt.empty(),t)}function wK(e){return new tl(e.readTime,e.key,-1)}class tl{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new tl(ir.min(),zt.empty(),-1)}static max(){return new tl(ir.max(),zt.empty(),-1)}}function vK(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=zt.comparator(e.documentKey,t.documentKey),r!==0?r:Lr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(e){if(e.code!==ct.FAILED_PRECONDITION||e.message!==yK)throw e;Mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&$t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new gt(((n,a)=>{this.nextCallback=A=>{this.wrapSuccess(t,A).next(n,a)},this.catchCallback=A=>{this.wrapFailure(r,A).next(n,a)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof gt?r:gt.resolve(r)}catch(r){return gt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):gt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):gt.reject(r)}static resolve(t){return new gt(((r,n)=>{r(t)}))}static reject(t){return new gt(((r,n)=>{n(t)}))}static waitFor(t){return new gt(((r,n)=>{let a=0,A=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++A,c&&A===a&&r()}),(p=>n(p)))})),c=!0,A===a&&r()}))}static or(t){let r=gt.resolve(!1);for(const n of t)r=r.next((a=>a?gt.resolve(a):n()));return r}static forEach(t,r){const n=[];return t.forEach(((a,A)=>{n.push(r.call(this,a,A))})),this.waitFor(n)}static mapArray(t,r){return new gt(((n,a)=>{const A=t.length,c=new Array(A);let d=0;for(let p=0;p<A;p++){const m=p;r(t[m]).next((y=>{c[m]=y,++d,d===A&&n(c)}),(y=>a(y)))}}))}static doWhile(t,r){return new gt(((n,a)=>{const A=()=>{t()===!0?r().next((()=>{A()}),a):n()};A()}))}}function CK(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function _f(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}J2.oe=-1;function Y1(e){return e==null}function w1(e){return e===0&&1/e==-1/0}function BK(e){return typeof e=="number"&&Number.isInteger(e)&&!w1(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function nc(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function rS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t,r){this.comparator=t,this.root=r||ka.EMPTY}insert(t,r){return new Nn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,ka.BLACK,null,null))}remove(t){return new Nn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ka.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,n)=>(t(r,n),!1)))}toString(){const t=[];return this.inorderTraversal(((r,n)=>(t.push(`${r}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fd(this.root,t,this.comparator,!0)}}class Fd{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let A=1;for(;!t.isEmpty();)if(A=r?n(t.key,r):1,r&&a&&(A*=-1),A<0)t=this.isReverse?t.left:t.right;else{if(A===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ka{constructor(t,r,n,a,A){this.key=t,this.value=r,this.color=n??ka.RED,this.left=a??ka.EMPTY,this.right=A??ka.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,A){return new ka(t??this.key,r??this.value,n??this.color,a??this.left,A??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const A=n(t,a.key);return a=A<0?a.copy(null,null,null,a.left.insert(t,r,n),null):A===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ka.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return ka.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ka.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ka.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $t();const t=this.left.check();if(t!==this.right.check())throw $t();return t+(this.isRed()?0:1)}}ka.EMPTY=null,ka.RED=!0,ka.BLACK=!1;ka.EMPTY=new class{constructor(){this.size=0}get key(){throw $t()}get value(){throw $t()}get color(){throw $t()}get left(){throw $t()}get right(){throw $t()}copy(t,r,n,a,A){return this}insert(t,r,n){return new ka(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t){this.comparator=t,this.data=new Nn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,n)=>(t(r),!1)))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new O4(this.data.getIterator())}getIteratorFrom(t){return new O4(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((n=>{r=r.add(n)})),r}isEqual(t){if(!(t instanceof Pa)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,A=n.getNext().key;if(this.comparator(a,A)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Pa(this.comparator);return r.data=t,r}}class O4{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t){this.fields=t,t.sort(La.comparator)}static empty(){return new os([])}unionWith(t){let r=new Pa(La.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new os(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return u0(this.fields,t.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(a){try{return atob(a)}catch(A){throw typeof DOMException<"u"&&A instanceof DOMException?new nS("Invalid base64 string: "+A):A}})(t);return new Va(r)}static fromUint8Array(t){const r=(function(a){let A="";for(let c=0;c<a.length;++c)A+=String.fromCharCode(a[c]);return A})(t);return new Va(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Va.EMPTY_BYTE_STRING=new Va("");const bK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rl(e){if(qr(!!e),typeof e=="string"){let t=0;const r=bK.exec(e);if(qr(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:qn(e.seconds),nanos:qn(e.nanos)}}function qn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Wl(e){return typeof e=="string"?Va.fromBase64String(e):Va.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function $2(e){const t=e.mapValue.fields.__previous_value__;return Z2(t)?$2(t):t}function uf(e){const t=rl(e.mapValue.fields.__local_write_time__.timestampValue);return new pa(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(t,r,n,a,A,c,d,p,m){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=A,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m}}class ff{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new ff("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ff&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd={mapValue:{}};function Xl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Z2(e)?4:IK(e)?9007199254740991:TK(e)?10:11:$t()}function hA(e,t){if(e===t)return!0;const r=Xl(e);if(r!==Xl(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uf(e).isEqual(uf(t));case 3:return(function(a,A){if(typeof a.timestampValue=="string"&&typeof A.timestampValue=="string"&&a.timestampValue.length===A.timestampValue.length)return a.timestampValue===A.timestampValue;const c=rl(a.timestampValue),d=rl(A.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,A){return Wl(a.bytesValue).isEqual(Wl(A.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,A){return qn(a.geoPointValue.latitude)===qn(A.geoPointValue.latitude)&&qn(a.geoPointValue.longitude)===qn(A.geoPointValue.longitude)})(e,t);case 2:return(function(a,A){if("integerValue"in a&&"integerValue"in A)return qn(a.integerValue)===qn(A.integerValue);if("doubleValue"in a&&"doubleValue"in A){const c=qn(a.doubleValue),d=qn(A.doubleValue);return c===d?w1(c)===w1(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return u0(e.arrayValue.values||[],t.arrayValue.values||[],hA);case 10:case 11:return(function(a,A){const c=a.mapValue.fields||{},d=A.mapValue.fields||{};if(D4(c)!==D4(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!hA(c[p],d[p])))return!1;return!0})(e,t);default:return $t()}}function hf(e,t){return(e.values||[]).find((r=>hA(r,t)))!==void 0}function f0(e,t){if(e===t)return 0;const r=Xl(e),n=Xl(t);if(r!==n)return Lr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Lr(e.booleanValue,t.booleanValue);case 2:return(function(A,c){const d=qn(A.integerValue||A.doubleValue),p=qn(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return U4(e.timestampValue,t.timestampValue);case 4:return U4(uf(e),uf(t));case 5:return Lr(e.stringValue,t.stringValue);case 6:return(function(A,c){const d=Wl(A),p=Wl(c);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(A,c){const d=A.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=Lr(d[m],p[m]);if(y!==0)return y}return Lr(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(A,c){const d=Lr(qn(A.latitude),qn(c.latitude));return d!==0?d:Lr(qn(A.longitude),qn(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return k4(e.arrayValue,t.arrayValue);case 10:return(function(A,c){var d,p,m,y;const b=A.fields||{},I=c.fields||{},N=(d=b.value)===null||d===void 0?void 0:d.arrayValue,R=(p=I.value)===null||p===void 0?void 0:p.arrayValue,F=Lr(((m=N==null?void 0:N.values)===null||m===void 0?void 0:m.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return F!==0?F:k4(N,R)})(e.mapValue,t.mapValue);case 11:return(function(A,c){if(A===Rd.mapValue&&c===Rd.mapValue)return 0;if(A===Rd.mapValue)return 1;if(c===Rd.mapValue)return-1;const d=A.fields||{},p=Object.keys(d),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let b=0;b<p.length&&b<y.length;++b){const I=Lr(p[b],y[b]);if(I!==0)return I;const N=f0(d[p[b]],m[y[b]]);if(N!==0)return N}return Lr(p.length,y.length)})(e.mapValue,t.mapValue);default:throw $t()}}function U4(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Lr(e,t);const r=rl(e),n=rl(t),a=Lr(r.seconds,n.seconds);return a!==0?a:Lr(r.nanos,n.nanos)}function k4(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const A=f0(r[a],n[a]);if(A)return A}return Lr(r.length,n.length)}function h0(e){return Wm(e)}function Wm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(r){const n=rl(r);return`time(${n.seconds},${n.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(r){return Wl(r).toBase64()})(e.bytesValue):"referenceValue"in e?(function(r){return zt.fromName(r).toString()})(e.referenceValue):"geoPointValue"in e?(function(r){return`geo(${r.latitude},${r.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(r){let n="[",a=!0;for(const A of r.values||[])a?a=!1:n+=",",n+=Wm(A);return n+"]"})(e.arrayValue):"mapValue"in e?(function(r){const n=Object.keys(r.fields||{}).sort();let a="{",A=!0;for(const c of n)A?A=!1:a+=",",a+=`${c}:${Wm(r.fields[c])}`;return a+"}"})(e.mapValue):$t()}function M4(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Xm(e){return!!e&&"integerValue"in e}function ew(e){return!!e&&"arrayValue"in e}function L4(e){return!!e&&"nullValue"in e}function Q4(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jd(e){return!!e&&"mapValue"in e}function TK(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Ku(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return nc(e.mapValue.fields,((r,n)=>t.mapValue.fields[r]=Ku(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Ku(e.arrayValue.values[r]);return t}return Object.assign({},e)}function IK(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this.value=t}static empty(){return new Pi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!jd(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ku(r)}setAll(t){let r=La.emptyPath(),n={},a=[];t.forEach(((c,d)=>{if(!r.isImmediateParentOf(d)){const p=this.getFieldsMap(r);this.applyChanges(p,n,a),n={},a=[],r=d.popLast()}c?n[d.lastSegment()]=Ku(c):a.push(d.lastSegment())}));const A=this.getFieldsMap(r);this.applyChanges(A,n,a)}delete(t){const r=this.field(t.popLast());jd(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return hA(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];jd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){nc(r,((a,A)=>t[a]=A));for(const a of n)delete t[a]}clone(){return new Pi(Ku(this.value))}}function aS(e){const t=[];return nc(e.fields,((r,n)=>{const a=new La([r]);if(jd(n)){const A=aS(n.mapValue).fields;if(A.length===0)t.push(a);else for(const c of A)t.push(a.child(c))}else t.push(a)})),new os(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t,r,n,a,A,c,d){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=A,this.data=c,this.documentState=d}static newInvalidDocument(t){return new ri(t,0,ir.min(),ir.min(),ir.min(),Pi.empty(),0)}static newFoundDocument(t,r,n,a){return new ri(t,1,r,ir.min(),n,a,0)}static newNoDocument(t,r){return new ri(t,2,r,ir.min(),ir.min(),Pi.empty(),0)}static newUnknownDocument(t,r){return new ri(t,3,r,ir.min(),ir.min(),Pi.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ir.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ir.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ri&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,r){this.position=t,this.inclusive=r}}function j4(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const A=t[a],c=e.position[a];if(A.field.isKeyField()?n=zt.comparator(zt.fromName(c.referenceValue),r.key):n=f0(c,r.data.field(A.field)),A.dir==="desc"&&(n*=-1),n!==0)break}return n}function H4(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!hA(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,r="asc"){this.field=t,this.dir=r}}function SK(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{}class la extends iS{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new FK(t,r,n):r==="array-contains"?new OK(t,n):r==="in"?new UK(t,n):r==="not-in"?new kK(t,n):r==="array-contains-any"?new MK(t,n):new la(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new RK(t,n):new DK(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(f0(r,this.value)):r!==null&&Xl(this.value)===Xl(r)&&this.matchesComparison(f0(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return $t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qs extends iS{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new qs(t,r)}matches(t){return sS(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sS(e){return e.op==="and"}function AS(e){return NK(e)&&sS(e)}function NK(e){for(const t of e.filters)if(t instanceof qs)return!1;return!0}function Ym(e){if(e instanceof la)return e.field.canonicalString()+e.op.toString()+h0(e.value);if(AS(e))return e.filters.map((t=>Ym(t))).join(",");{const t=e.filters.map((r=>Ym(r))).join(",");return`${e.op}(${t})`}}function oS(e,t){return e instanceof la?(function(n,a){return a instanceof la&&n.op===a.op&&n.field.isEqual(a.field)&&hA(n.value,a.value)})(e,t):e instanceof qs?(function(n,a){return a instanceof qs&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((A,c,d)=>A&&oS(c,a.filters[d])),!0):!1})(e,t):void $t()}function lS(e){return e instanceof la?(function(r){return`${r.field.canonicalString()} ${r.op} ${h0(r.value)}`})(e):e instanceof qs?(function(r){return r.op.toString()+" {"+r.getFilters().map(lS).join(" ,")+"}"})(e):"Filter"}class FK extends la{constructor(t,r,n){super(t,r,n),this.key=zt.fromName(n.referenceValue)}matches(t){const r=zt.comparator(t.key,this.key);return this.matchesComparison(r)}}class RK extends la{constructor(t,r){super(t,"in",r),this.keys=cS("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class DK extends la{constructor(t,r){super(t,"not-in",r),this.keys=cS("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function cS(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>zt.fromName(n.referenceValue)))}class OK extends la{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return ew(r)&&hf(r.arrayValue,this.value)}}class UK extends la{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&hf(this.value.arrayValue,r)}}class kK extends la{constructor(t,r){super(t,"not-in",r)}matches(t){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!hf(this.value.arrayValue,r)}}class MK extends la{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!ew(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>hf(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(t,r=null,n=[],a=[],A=null,c=null,d=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=A,this.startAt=c,this.endAt=d,this.ue=null}}function P4(e,t=null,r=[],n=[],a=null,A=null,c=null){return new LK(e,t,r,n,a,A,c)}function tw(e){const t=sr(e);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((n=>Ym(n))).join(","),r+="|ob:",r+=t.orderBy.map((n=>(function(A){return A.field.canonicalString()+A.dir})(n))).join(","),Y1(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((n=>h0(n))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((n=>h0(n))).join(",")),t.ue=r}return t.ue}function rw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!SK(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!oS(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!H4(e.startAt,t.startAt)&&H4(e.endAt,t.endAt)}function qm(e){return zt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,r=null,n=[],a=[],A=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=A,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QK(e,t,r,n,a,A,c,d){return new Tf(e,t,r,n,a,A,c,d)}function q1(e){return new Tf(e)}function V4(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function uS(e){return e.collectionGroup!==null}function zu(e){const t=sr(e);if(t.ce===null){t.ce=[];const r=new Set;for(const A of t.explicitOrderBy)t.ce.push(A),r.add(A.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Pa(La.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(t).forEach((A=>{r.has(A.canonicalString())||A.isKeyField()||t.ce.push(new y1(A,n))})),r.has(La.keyField().canonicalString())||t.ce.push(new y1(La.keyField(),n))}return t.ce}function cA(e){const t=sr(e);return t.le||(t.le=jK(t,zu(e))),t.le}function jK(e,t){if(e.limitType==="F")return P4(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const A=a.dir==="desc"?"asc":"desc";return new y1(a.field,A)}));const r=e.endAt?new v1(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new v1(e.startAt.position,e.startAt.inclusive):null;return P4(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Jm(e,t){const r=e.filters.concat([t]);return new Tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Zm(e,t,r){return new Tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function J1(e,t){return rw(cA(e),cA(t))&&e.limitType===t.limitType}function fS(e){return`${tw(cA(e))}|lt:${e.limitType}`}function Xc(e){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((a=>lS(a))).join(", ")}]`),Y1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((a=>h0(a))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((a=>h0(a))).join(",")),`Target(${n})`})(cA(e))}; limitType=${e.limitType})`}function Z1(e,t){return t.isFoundDocument()&&(function(n,a){const A=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(A):zt.isDocumentKey(n.path)?n.path.isEqual(A):n.path.isImmediateParentOf(A)})(e,t)&&(function(n,a){for(const A of zu(n))if(!A.field.isKeyField()&&a.data.field(A.field)===null)return!1;return!0})(e,t)&&(function(n,a){for(const A of n.filters)if(!A.matches(a))return!1;return!0})(e,t)&&(function(n,a){return!(n.startAt&&!(function(c,d,p){const m=j4(c,d,p);return c.inclusive?m<=0:m<0})(n.startAt,zu(n),a)||n.endAt&&!(function(c,d,p){const m=j4(c,d,p);return c.inclusive?m>=0:m>0})(n.endAt,zu(n),a))})(e,t)}function HK(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hS(e){return(t,r)=>{let n=!1;for(const a of zu(e)){const A=PK(a,t,r);if(A!==0)return A;n=n||a.field.isKeyField()}return 0}}function PK(e,t,r){const n=e.field.isKeyField()?zt.comparator(t.key,r.key):(function(A,c,d){const p=c.data.field(A),m=d.data.field(A);return p!==null&&m!==null?f0(p,m):$t()})(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return $t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,A]of n)if(this.equalsFn(a,t))return A}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let A=0;A<a.length;A++)if(this.equalsFn(a[A][0],t))return void(a[A]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){nc(this.inner,((r,n)=>{for(const[a,A]of n)t(a,A)}))}isEmpty(){return rS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK=new Nn(zt.comparator);function ro(){return VK}const dS=new Nn(zt.comparator);function Tu(...e){let t=dS;for(const r of e)t=t.insert(r.key,r);return t}function gS(e){let t=dS;return e.forEach(((r,n)=>t=t.insert(r,n.overlayedDocument))),t}function Ul(){return Wu()}function xS(){return Wu()}function Wu(){return new E0((e=>e.toString()),((e,t)=>e.isEqual(t)))}const GK=new Nn(zt.comparator),KK=new Pa(zt.comparator);function Cr(...e){let t=KK;for(const r of e)t=t.add(r);return t}const zK=new Pa(Lr);function WK(){return zK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:w1(t)?"-0":t}}function pS(e){return{integerValue:""+e}}function XK(e,t){return BK(t)?pS(t):nw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this._=void 0}}function YK(e,t,r){return e instanceof E1?(function(a,A){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return A&&Z2(A)&&(A=$2(A)),A&&(c.fields.__previous_value__=A),{mapValue:c}})(r,t):e instanceof df?wS(e,t):e instanceof gf?vS(e,t):(function(a,A){const c=mS(a,A),d=G4(c)+G4(a.Pe);return Xm(c)&&Xm(a.Pe)?pS(d):nw(a.serializer,d)})(e,t)}function qK(e,t,r){return e instanceof df?wS(e,t):e instanceof gf?vS(e,t):r}function mS(e,t){return e instanceof C1?(function(n){return Xm(n)||(function(A){return!!A&&"doubleValue"in A})(n)})(t)?t:{integerValue:0}:null}class E1 extends $1{}class df extends $1{constructor(t){super(),this.elements=t}}function wS(e,t){const r=yS(t);for(const n of e.elements)r.some((a=>hA(a,n)))||r.push(n);return{arrayValue:{values:r}}}class gf extends $1{constructor(t){super(),this.elements=t}}function vS(e,t){let r=yS(t);for(const n of e.elements)r=r.filter((a=>!hA(a,n)));return{arrayValue:{values:r}}}class C1 extends $1{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function G4(e){return qn(e.integerValue||e.doubleValue)}function yS(e){return ew(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function JK(e,t){return e.field.isEqual(t.field)&&(function(n,a){return n instanceof df&&a instanceof df||n instanceof gf&&a instanceof gf?u0(n.elements,a.elements,hA):n instanceof C1&&a instanceof C1?hA(n.Pe,a.Pe):n instanceof E1&&a instanceof E1})(e.transform,t.transform)}class ZK{constructor(t,r){this.version=t,this.transformResults=r}}class Vi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Vi}static exists(t){return new Vi(void 0,t)}static updateTime(t){return new Vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class eg{}function ES(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new tg(e.key,Vi.none()):new If(e.key,e.data,Vi.none());{const r=e.data,n=Pi.empty();let a=new Pa(La.comparator);for(let A of t.fields)if(!a.has(A)){let c=r.field(A);c===null&&A.length>1&&(A=A.popLast(),c=r.field(A)),c===null?n.delete(A):n.set(A,c),a=a.add(A)}return new sl(e.key,n,new os(a.toArray()),Vi.none())}}function $K(e,t,r){e instanceof If?(function(a,A,c){const d=a.value.clone(),p=z4(a.fieldTransforms,A,c.transformResults);d.setAll(p),A.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,r):e instanceof sl?(function(a,A,c){if(!Hd(a.precondition,A))return void A.convertToUnknownDocument(c.version);const d=z4(a.fieldTransforms,A,c.transformResults),p=A.data;p.setAll(CS(a)),p.setAll(d),A.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,r):(function(a,A,c){A.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,r)}function Xu(e,t,r,n){return e instanceof If?(function(A,c,d,p){if(!Hd(A.precondition,c))return d;const m=A.value.clone(),y=W4(A.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(e,t,r,n):e instanceof sl?(function(A,c,d,p){if(!Hd(A.precondition,c))return d;const m=W4(A.fieldTransforms,p,c),y=c.data;return y.setAll(CS(A)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(A.fieldMask.fields).unionWith(A.fieldTransforms.map((b=>b.field)))})(e,t,r,n):(function(A,c,d){return Hd(A.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,r)}function ez(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),A=mS(n.transform,a||null);A!=null&&(r===null&&(r=Pi.empty()),r.set(n.field,A))}return r||null}function K4(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&u0(n,a,((A,c)=>JK(A,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class If extends eg{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class sl extends eg{constructor(t,r,n,a,A=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=A,this.type=1}getFieldMask(){return this.fieldMask}}function CS(e){const t=new Map;return e.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}})),t}function z4(e,t,r){const n=new Map;qr(e.length===r.length);for(let a=0;a<r.length;a++){const A=e[a],c=A.transform,d=t.data.field(A.field);n.set(A.field,qK(c,d,r[a]))}return n}function W4(e,t,r){const n=new Map;for(const a of e){const A=a.transform,c=r.data.field(a.field);n.set(a.field,YK(A,c,t))}return n}class tg extends eg{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tz extends eg{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const A=this.mutations[a];A.key.isEqual(t.key)&&$K(A,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Xu(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Xu(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=xS();return this.mutations.forEach((a=>{const A=t.get(a.key),c=A.overlayedDocument;let d=this.applyToLocalView(c,A.mutatedFields);d=r.has(a.key)?null:d;const p=ES(c,d);p!==null&&n.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(ir.min())})),n}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Cr())}isEqual(t){return this.batchId===t.batchId&&u0(this.mutations,t.mutations,((r,n)=>K4(r,n)))&&u0(this.baseMutations,t.baseMutations,((r,n)=>K4(r,n)))}}class aw{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){qr(t.mutations.length===n.length);let a=(function(){return GK})();const A=t.mutations;for(let c=0;c<A.length;c++)a=a.insert(A[c].key,n[c].version);return new aw(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ia,Ir;function iz(e){switch(e){default:return $t();case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0}}function BS(e){if(e===void 0)return to("GRPC error has no .code"),ct.UNKNOWN;switch(e){case ia.OK:return ct.OK;case ia.CANCELLED:return ct.CANCELLED;case ia.UNKNOWN:return ct.UNKNOWN;case ia.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case ia.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case ia.INTERNAL:return ct.INTERNAL;case ia.UNAVAILABLE:return ct.UNAVAILABLE;case ia.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case ia.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case ia.NOT_FOUND:return ct.NOT_FOUND;case ia.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case ia.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case ia.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case ia.ABORTED:return ct.ABORTED;case ia.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case ia.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case ia.DATA_LOSS:return ct.DATA_LOSS;default:return $t()}}(Ir=ia||(ia={}))[Ir.OK=0]="OK",Ir[Ir.CANCELLED=1]="CANCELLED",Ir[Ir.UNKNOWN=2]="UNKNOWN",Ir[Ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ir[Ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ir[Ir.NOT_FOUND=5]="NOT_FOUND",Ir[Ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ir[Ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ir[Ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ir[Ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ir[Ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ir[Ir.ABORTED=10]="ABORTED",Ir[Ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ir[Ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ir[Ir.INTERNAL=13]="INTERNAL",Ir[Ir.UNAVAILABLE=14]="UNAVAILABLE",Ir[Ir.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=new Hl([4294967295,4294967295],0);function X4(e){const t=sz().encode(e),r=new XI;return r.update(t),new Uint8Array(r.digest())}function Y4(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),A=t.getUint32(12,!0);return[new Hl([r,n],0),new Hl([a,A],0)]}class iw{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Iu(`Invalid padding: ${r}`);if(n<0)throw new Iu(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=Hl.fromNumber(this.Ie)}Ee(t,r,n){let a=t.add(r.multiply(Hl.fromNumber(n)));return a.compare(Az)===1&&(a=new Hl([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const r=X4(t),[n,a]=Y4(r);for(let A=0;A<this.hashCount;A++){const c=this.Ee(n,a,A);if(!this.de(c))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,A=new Uint8Array(Math.ceil(t/8)),c=new iw(A,a,r);return n.forEach((d=>c.insert(d))),c}insert(t){if(this.Ie===0)return;const r=X4(t),[n,a]=Y4(r);for(let A=0;A<this.hashCount;A++){const c=this.Ee(n,a,A);this.Ae(c)}}Ae(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t,r,n,a,A){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=A}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,Sf.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new rg(ir.min(),a,new Nn(Lr),ro(),Cr())}}class Sf{constructor(t,r,n,a,A){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=A}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Sf(n,r,Cr(),Cr(),Cr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(t,r,n,a){this.Re=t,this.removedTargetIds=r,this.key=n,this.Ve=a}}class bS{constructor(t,r){this.targetId=t,this.me=r}}class _S{constructor(t,r,n=Va.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class q4{constructor(){this.fe=0,this.ge=Z4(),this.pe=Va.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Cr(),r=Cr(),n=Cr();return this.ge.forEach(((a,A)=>{switch(A){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:$t()}})),new Sf(this.pe,this.ye,t,r,n)}Ce(){this.we=!1,this.ge=Z4()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,qr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oz{constructor(t){this.Le=t,this.Be=new Map,this.ke=ro(),this.qe=J4(),this.Qe=new Nn(Lr)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,(r=>{const n=this.Ge(r);switch(t.state){case 0:this.ze(r)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(t.resumeToken));break;default:$t()}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach(((n,a)=>{this.ze(a)&&r(a)}))}He(t){const r=t.targetId,n=t.me.count,a=this.Je(r);if(a){const A=a.target;if(qm(A))if(n===0){const c=new zt(A.path);this.Ue(r,c,ri.newNoDocument(c,ir.min()))}else qr(n===1);else{const c=this.Ye(r);if(c!==n){const d=this.Ze(t),p=d?this.Xe(d,t,c):1;if(p!==0){this.je(r);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,m)}}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:A=0}=r;let c,d;try{c=Wl(n).toUint8Array()}catch(p){if(p instanceof nS)return c0("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new iw(c,a,A)}catch(p){return c0(p instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ie===0?null:d}Xe(t,r,n){return r.me.count===n-this.nt(t,r.targetId)?0:2}nt(t,r){const n=this.Le.getRemoteKeysForTarget(r);let a=0;return n.forEach((A=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${A.path.canonicalString()}`;t.mightContain(d)||(this.Ue(r,A,null),a++)})),a}rt(t){const r=new Map;this.Be.forEach(((A,c)=>{const d=this.Je(c);if(d){if(A.current&&qm(d.target)){const p=new zt(d.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,ri.newNoDocument(p,t))}A.be&&(r.set(c,A.ve()),A.Ce())}}));let n=Cr();this.qe.forEach(((A,c)=>{let d=!0;c.forEachWhile((p=>{const m=this.Je(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(n=n.add(A))})),this.ke.forEach(((A,c)=>c.setReadTime(t)));const a=new rg(t,r,this.Qe,this.ke,n);return this.ke=ro(),this.qe=J4(),this.Qe=new Nn(Lr),a}$e(t,r){if(!this.ze(t))return;const n=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,n){if(!this.ze(t))return;const a=this.Ge(t);this.it(t,r)?a.Fe(r,1):a.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new q4,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new Pa(Lr),this.qe=this.qe.insert(t,r)),r}ze(t){const r=this.Je(t)!==null;return r||Mt("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new q4),this.Le.getRemoteKeysForTarget(t).forEach((r=>{this.Ue(t,r,null)}))}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function J4(){return new Nn(zt.comparator)}function Z4(){return new Nn(zt.comparator)}const lz={asc:"ASCENDING",desc:"DESCENDING"},cz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uz={and:"AND",or:"OR"};class fz{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function $m(e,t){return e.useProto3Json||Y1(t)?t:{value:t}}function B1(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function TS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hz(e,t){return B1(e,t.toTimestamp())}function uA(e){return qr(!!e),ir.fromTimestamp((function(r){const n=rl(r);return new pa(n.seconds,n.nanos)})(e))}function sw(e,t){return e2(e,t).canonicalString()}function e2(e,t){const r=(function(a){return new mn(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?r:r.child(t)}function IS(e){const t=mn.fromString(e);return qr(DS(t)),t}function t2(e,t){return sw(e.databaseId,t.path)}function Gp(e,t){const r=IS(t);if(r.get(1)!==e.databaseId.projectId)throw new Dt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Dt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new zt(NS(r))}function SS(e,t){return sw(e.databaseId,t)}function dz(e){const t=IS(e);return t.length===4?mn.emptyPath():NS(t)}function r2(e){return new mn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function NS(e){return qr(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function $4(e,t,r){return{name:t2(e,t),fields:r.value.mapValue.fields}}function gz(e,t){let r;if("targetChange"in t){t.targetChange;const n=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:$t()})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],A=(function(m,y){return m.useProto3Json?(qr(y===void 0||typeof y=="string"),Va.fromBase64String(y||"")):(qr(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Va.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(m){const y=m.code===void 0?ct.UNKNOWN:BS(m.code);return new Dt(y,m.message||"")})(c);r=new _S(n,a,A,d||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=Gp(e,n.document.name),A=uA(n.document.updateTime),c=n.document.createTime?uA(n.document.createTime):ir.min(),d=new Pi({mapValue:{fields:n.document.fields}}),p=ri.newFoundDocument(a,A,c,d),m=n.targetIds||[],y=n.removedTargetIds||[];r=new Pd(m,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=Gp(e,n.document),A=n.readTime?uA(n.readTime):ir.min(),c=ri.newNoDocument(a,A),d=n.removedTargetIds||[];r=new Pd([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=Gp(e,n.document),A=n.removedTargetIds||[];r=new Pd([],A,a,null)}else{if(!("filter"in t))return $t();{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:A}=n,c=new az(a,A),d=n.targetId;r=new bS(d,c)}}return r}function xz(e,t){let r;if(t instanceof If)r={update:$4(e,t.key,t.value)};else if(t instanceof tg)r={delete:t2(e,t.key)};else if(t instanceof sl)r={update:$4(e,t.key,t.data),updateMask:bz(t.fieldMask)};else{if(!(t instanceof tz))return $t();r={verify:t2(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((n=>(function(A,c){const d=c.transform;if(d instanceof E1)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof df)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof gf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof C1)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw $t()})(0,n)))),t.precondition.isNone||(r.currentDocument=(function(a,A){return A.updateTime!==void 0?{updateTime:hz(a,A.updateTime)}:A.exists!==void 0?{exists:A.exists}:$t()})(e,t.precondition)),r}function pz(e,t){return e&&e.length>0?(qr(t!==void 0),e.map((r=>(function(a,A){let c=a.updateTime?uA(a.updateTime):uA(A);return c.isEqual(ir.min())&&(c=uA(A)),new ZK(c,a.transformResults||[])})(r,t)))):[]}function mz(e,t){return{documents:[SS(e,t.path)]}}function wz(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=SS(e,a);const A=(function(m){if(m.length!==0)return RS(qs.create(m,"and"))})(t.filters);A&&(r.structuredQuery.where=A);const c=(function(m){if(m.length!==0)return m.map((y=>(function(I){return{field:Yc(I.field),direction:Ez(I.dir)}})(y)))})(t.orderBy);c&&(r.structuredQuery.orderBy=c);const d=$m(e,t.limit);return d!==null&&(r.structuredQuery.limit=d),t.startAt&&(r.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{_t:r,parent:a}}function vz(e){let t=dz(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){qr(n===1);const y=r.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let A=[];r.where&&(A=(function(b){const I=FS(b);return I instanceof qs&&AS(I)?I.getFilters():[I]})(r.where));let c=[];r.orderBy&&(c=(function(b){return b.map((I=>(function(R){return new y1(qc(R.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(I)))})(r.orderBy));let d=null;r.limit&&(d=(function(b){let I;return I=typeof b=="object"?b.value:b,Y1(I)?null:I})(r.limit));let p=null;r.startAt&&(p=(function(b){const I=!!b.before,N=b.values||[];return new v1(N,I)})(r.startAt));let m=null;return r.endAt&&(m=(function(b){const I=!b.before,N=b.values||[];return new v1(N,I)})(r.endAt)),QK(t,a,c,A,d,"F",p,m)}function yz(e,t){const r=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t()}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function FS(e){return e.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=qc(r.unaryFilter.field);return la.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=qc(r.unaryFilter.field);return la.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const A=qc(r.unaryFilter.field);return la.create(A,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=qc(r.unaryFilter.field);return la.create(c,"!=",{nullValue:"NULL_VALUE"});default:return $t()}})(e):e.fieldFilter!==void 0?(function(r){return la.create(qc(r.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $t()}})(r.fieldFilter.op),r.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(r){return qs.create(r.compositeFilter.filters.map((n=>FS(n))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return $t()}})(r.compositeFilter.op))})(e):$t()}function Ez(e){return lz[e]}function Cz(e){return cz[e]}function Bz(e){return uz[e]}function Yc(e){return{fieldPath:e.canonicalString()}}function qc(e){return La.fromServerFormat(e.fieldPath)}function RS(e){return e instanceof la?(function(r){if(r.op==="=="){if(Q4(r.value))return{unaryFilter:{field:Yc(r.field),op:"IS_NAN"}};if(L4(r.value))return{unaryFilter:{field:Yc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Q4(r.value))return{unaryFilter:{field:Yc(r.field),op:"IS_NOT_NAN"}};if(L4(r.value))return{unaryFilter:{field:Yc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yc(r.field),op:Cz(r.op),value:r.value}}})(e):e instanceof qs?(function(r){const n=r.getFilters().map((a=>RS(a)));return n.length===1?n[0]:{compositeFilter:{op:Bz(r.op),filters:n}}})(e):$t()}function bz(e){const t=[];return e.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function DS(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,r,n,a,A=ir.min(),c=ir.min(),d=Va.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=A,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Go(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(t){this.ct=t}}function Tz(e){const t=vz({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Zm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.un=new Sz}addToCollectionParentIndex(t,r){return this.un.add(r),gt.resolve()}getCollectionParents(t,r){return gt.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return gt.resolve()}deleteFieldIndex(t,r){return gt.resolve()}deleteAllFieldIndexes(t){return gt.resolve()}createTargetIndexes(t,r){return gt.resolve()}getDocumentsMatchingTarget(t,r){return gt.resolve(null)}getIndexType(t,r){return gt.resolve(0)}getFieldIndexes(t,r){return gt.resolve([])}getNextCollectionGroupToUpdate(t){return gt.resolve(null)}getMinOffset(t,r){return gt.resolve(tl.min())}getMinOffsetFromCollectionGroup(t,r){return gt.resolve(tl.min())}updateCollectionGroup(t,r,n){return gt.resolve()}updateIndexEntries(t,r){return gt.resolve()}}class Sz{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Pa(mn.comparator),A=!a.has(n);return this.index[r]=a.add(n),A}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Pa(mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new d0(0)}static kn(){return new d0(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.changes=new E0((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ri.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?gt.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next((a=>(n=a,this.remoteDocumentCache.getEntry(t,r)))).next((a=>(n!==null&&Xu(n.mutation,a,os.empty(),pa.now()),a)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.getLocalViewOfDocuments(t,n,Cr()).next((()=>n))))}getLocalViewOfDocuments(t,r,n=Cr()){const a=Ul();return this.populateOverlays(t,a,r).next((()=>this.computeViews(t,r,a,n).next((A=>{let c=Tu();return A.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,r){const n=Ul();return this.populateOverlays(t,n,r).next((()=>this.computeViews(t,r,n,Cr())))}populateOverlays(t,r,n){const a=[];return n.forEach((A=>{r.has(A)||a.push(A)})),this.documentOverlayCache.getOverlays(t,a).next((A=>{A.forEach(((c,d)=>{r.set(c,d)}))}))}computeViews(t,r,n,a){let A=ro();const c=Wu(),d=(function(){return Wu()})();return r.forEach(((p,m)=>{const y=n.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof sl)?A=A.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Xu(y.mutation,m,y.mutation.getFieldMask(),pa.now())):c.set(m.key,os.empty())})),this.recalculateAndSaveOverlays(t,A).next((p=>(p.forEach(((m,y)=>c.set(m,y))),r.forEach(((m,y)=>{var b;return d.set(m,new Fz(y,(b=c.get(m))!==null&&b!==void 0?b:null))})),d)))}recalculateAndSaveOverlays(t,r){const n=Wu();let a=new Nn(((c,d)=>c-d)),A=Cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((c=>{for(const d of c)d.keys().forEach((p=>{const m=r.get(p);if(m===null)return;let y=n.get(p)||os.empty();y=d.applyToLocalView(m,y),n.set(p,y);const b=(a.get(d.batchId)||Cr()).add(p);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,y=p.value,b=xS();y.forEach((I=>{if(!A.has(I)){const N=ES(r.get(I),n.get(I));N!==null&&b.set(I,N),A=A.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,b))}return gt.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,r,n,a){return(function(c){return zt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):uS(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next((A=>{const c=a-A.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-A.size):gt.resolve(Ul());let d=-1,p=A;return c.next((m=>gt.forEach(m,((y,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),A.get(y)?gt.resolve():this.remoteDocumentCache.getEntry(t,y).next((I=>{p=p.insert(y,I)}))))).next((()=>this.populateOverlays(t,m,A))).next((()=>this.computeViews(t,p,m,Cr()))).next((y=>({batchId:d,changes:gS(y)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new zt(r)).next((n=>{let a=Tu();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a}))}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const A=r.collectionGroup;let c=Tu();return this.indexManager.getCollectionParents(t,A).next((d=>gt.forEach(d,(p=>{const m=(function(b,I){return new Tf(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(r,p.child(A));return this.getDocumentsMatchingCollectionQuery(t,m,n,a).next((y=>{y.forEach(((b,I)=>{c=c.insert(b,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,r,n,a){let A;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next((c=>(A=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,A,a)))).next((c=>{A.forEach(((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,ri.newInvalidDocument(y)))}));let d=Tu();return c.forEach(((p,m)=>{const y=A.get(p);y!==void 0&&Xu(y.mutation,m,os.empty(),pa.now()),Z1(r,m)&&(d=d.insert(p,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return gt.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,(function(a){return{id:a.id,version:a.version,createTime:uA(a.createTime)}})(r)),gt.resolve()}getNamedQuery(t,r){return gt.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,(function(a){return{name:a.name,query:Tz(a.bundledQuery),readTime:uA(a.readTime)}})(r)),gt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(){this.overlays=new Nn(zt.comparator),this.Ir=new Map}getOverlay(t,r){return gt.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Ul();return gt.forEach(r,(a=>this.getOverlay(t,a).next((A=>{A!==null&&n.set(a,A)})))).next((()=>n))}saveOverlays(t,r,n){return n.forEach(((a,A)=>{this.ht(t,r,A)})),gt.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Ir.get(n);return a!==void 0&&(a.forEach((A=>this.overlays=this.overlays.remove(A))),this.Ir.delete(n)),gt.resolve()}getOverlaysForCollection(t,r,n){const a=Ul(),A=r.length+1,c=new zt(r.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!r.isPrefixOf(m.path))break;m.path.length===A&&p.largestBatchId>n&&a.set(p.getKey(),p)}return gt.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let A=new Nn(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===r&&m.largestBatchId>n){let y=A.get(m.largestBatchId);y===null&&(y=Ul(),A=A.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=Ul(),p=A.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>d.set(m,y))),!(d.size()>=a)););return gt.resolve(d)}ht(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const c=this.Ir.get(a.largestBatchId).delete(n.key);this.Ir.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new nz(r,n));let A=this.Ir.get(r);A===void 0&&(A=Cr(),this.Ir.set(r,A)),this.Ir.set(r,A.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.sessionToken=Va.EMPTY_BYTE_STRING}getSessionToken(t){return gt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,gt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.Tr=new Pa(ba.Er),this.dr=new Pa(ba.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const n=new ba(t,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,r){t.forEach((n=>this.addReference(n,r)))}removeReference(t,r){this.Vr(new ba(t,r))}mr(t,r){t.forEach((n=>this.removeReference(n,r)))}gr(t){const r=new zt(new mn([])),n=new ba(r,t),a=new ba(r,t+1),A=[];return this.dr.forEachInRange([n,a],(c=>{this.Vr(c),A.push(c.key)})),A}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new zt(new mn([])),n=new ba(r,t),a=new ba(r,t+1);let A=Cr();return this.dr.forEachInRange([n,a],(c=>{A=A.add(c.key)})),A}containsKey(t){const r=new ba(t,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class ba{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return zt.comparator(t.key,r.key)||Lr(t.wr,r.wr)}static Ar(t,r){return Lr(t.wr,r.wr)||zt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Pa(ba.Er)}checkEmpty(t){return gt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const A=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rz(A,r,n,a);this.mutationQueue.push(c);for(const d of a)this.br=this.br.add(new ba(d.key,A)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return gt.resolve(c)}lookupMutationBatch(t,r){return gt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.vr(n),A=a<0?0:a;return gt.resolve(this.mutationQueue.length>A?this.mutationQueue[A]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new ba(r,0),a=new ba(r,Number.POSITIVE_INFINITY),A=[];return this.br.forEachInRange([n,a],(c=>{const d=this.Dr(c.wr);A.push(d)})),gt.resolve(A)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Pa(Lr);return r.forEach((a=>{const A=new ba(a,0),c=new ba(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([A,c],(d=>{n=n.add(d.wr)}))})),gt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let A=n;zt.isDocumentKey(A)||(A=A.child(""));const c=new ba(new zt(A),0);let d=new Pa(Lr);return this.br.forEachWhile((p=>{const m=p.key.path;return!!n.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.wr)),!0)}),c),gt.resolve(this.Cr(d))}Cr(t){const r=[];return t.forEach((n=>{const a=this.Dr(n);a!==null&&r.push(a)})),r}removeMutationBatch(t,r){qr(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return gt.forEach(r.mutations,(a=>{const A=new ba(a.key,r.batchId);return n=n.delete(A),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.br=n}))}On(t){}containsKey(t,r){const n=new ba(r,0),a=this.br.firstAfterOrEqual(n);return gt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,gt.resolve()}Fr(t,r){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(t){this.Mr=t,this.docs=(function(){return new Nn(zt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),A=a?a.size:0,c=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:c}),this.size+=c-A,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return gt.resolve(n?n.document.mutableCopy():ri.newInvalidDocument(r))}getEntries(t,r){let n=ro();return r.forEach((a=>{const A=this.docs.get(a);n=n.insert(a,A?A.document.mutableCopy():ri.newInvalidDocument(a))})),gt.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let A=ro();const c=r.path,d=new zt(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||vK(wK(y),n)<=0||(a.has(y.key)||Z1(r,y))&&(A=A.insert(y.key,y.mutableCopy()))}return gt.resolve(A)}getAllFromCollectionGroup(t,r,n,a){$t()}Or(t,r){return gt.forEach(this.docs,(n=>r(n)))}newChangeBuffer(t){return new Lz(this)}getSize(t){return gt.resolve(this.size)}}class Lz extends Nz{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach(((n,a)=>{a.isValidDocument()?r.push(this.cr.addEntry(t,a)):this.cr.removeEntry(n)})),gt.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(t){this.persistence=t,this.Nr=new E0((r=>tw(r)),rw),this.lastRemoteSnapshotVersion=ir.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Aw,this.targetCount=0,this.kr=d0.Bn()}forEachTarget(t,r){return this.Nr.forEach(((n,a)=>r(a))),gt.resolve()}getLastRemoteSnapshotVersion(t){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return gt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),gt.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new d0(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,gt.resolve()}updateTargetData(t,r){return this.Kn(r),gt.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,gt.resolve()}removeTargets(t,r,n){let a=0;const A=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=r&&n.get(d.targetId)===null&&(this.Nr.delete(c),A.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),gt.waitFor(A).next((()=>a))}getTargetCount(t){return gt.resolve(this.targetCount)}getTargetData(t,r){const n=this.Nr.get(r)||null;return gt.resolve(n)}addMatchingKeys(t,r,n){return this.Br.Rr(r,n),gt.resolve()}removeMatchingKeys(t,r,n){this.Br.mr(r,n);const a=this.persistence.referenceDelegate,A=[];return a&&r.forEach((c=>{A.push(a.markPotentiallyOrphaned(t,c))})),gt.waitFor(A)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),gt.resolve()}getMatchingKeysForTargetId(t,r){const n=this.Br.yr(r);return gt.resolve(n)}containsKey(t,r){return gt.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(t,r){this.qr={},this.overlays={},this.Qr=new J2(0),this.Kr=!1,this.Kr=!0,this.$r=new Uz,this.referenceDelegate=t(this),this.Ur=new Qz(this),this.indexManager=new Iz,this.remoteDocumentCache=(function(a){return new Mz(a)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new _z(r),this.Gr=new Dz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Oz,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.qr[t.toKey()];return n||(n=new kz(r,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,n){Mt("MemoryPersistence","Starting transaction:",t);const a=new Hz(this.Qr.next());return this.referenceDelegate.zr(),n(a).next((A=>this.referenceDelegate.jr(a).next((()=>A)))).toPromise().then((A=>(a.raiseOnCommittedEvent(),A)))}Hr(t,r){return gt.or(Object.values(this.qr).map((n=>()=>n.containsKey(t,r))))}}class Hz extends EK{constructor(t){super(),this.currentSequenceNumber=t}}class ow{constructor(t){this.persistence=t,this.Jr=new Aw,this.Yr=null}static Zr(t){return new ow(t)}get Xr(){if(this.Yr)return this.Yr;throw $t()}addReference(t,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),gt.resolve()}removeReference(t,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),gt.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),gt.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach((a=>this.Xr.add(a.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next((a=>{a.forEach((A=>this.Xr.add(A.toString())))})).next((()=>n.removeTargetData(t,r)))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.Xr,(n=>{const a=zt.fromPath(n);return this.ei(t,a).next((A=>{A||r.removeEntry(a,ir.min())}))})).next((()=>(this.Yr=null,r.apply(t))))}updateLimboDocument(t,r){return this.ei(t,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(t){return 0}ei(t,r){return gt.or([()=>gt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.$i=n,this.Ui=a}static Wi(t,r){let n=Cr(),a=Cr();for(const A of r.docChanges)switch(A.type){case 0:n=n.add(A.doc.key);break;case 1:a=a.add(A.doc.key)}return new lw(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return KV()?8:CK(PV())>0?6:4})()}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,n,a){const A={result:null};return this.Yi(t,r).next((c=>{A.result=c})).next((()=>{if(!A.result)return this.Zi(t,r,a,n).next((c=>{A.result=c}))})).next((()=>{if(A.result)return;const c=new Pz;return this.Xi(t,r,c).next((d=>{if(A.result=d,this.zi)return this.es(t,r,c,d.size)}))})).next((()=>A.result))}es(t,r,n,a){return n.documentReadCount<this.ji?(fu()<=Dr.DEBUG&&Mt("QueryEngine","SDK will not create cache indexes for query:",Xc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),gt.resolve()):(fu()<=Dr.DEBUG&&Mt("QueryEngine","Query:",Xc(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.Hi*a?(fu()<=Dr.DEBUG&&Mt("QueryEngine","The SDK decides to create cache indexes for query:",Xc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cA(r))):gt.resolve())}Yi(t,r){if(V4(r))return gt.resolve(null);let n=cA(r);return this.indexManager.getIndexType(t,n).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=Zm(r,null,"F"),n=cA(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next((A=>{const c=Cr(...A);return this.Ji.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,n).next((p=>{const m=this.ts(r,d);return this.ns(r,m,c,p.readTime)?this.Yi(t,Zm(r,null,"F")):this.rs(t,m,r,p)}))))})))))}Zi(t,r,n,a){return V4(r)||a.isEqual(ir.min())?gt.resolve(null):this.Ji.getDocuments(t,n).next((A=>{const c=this.ts(r,A);return this.ns(r,c,n,a)?gt.resolve(null):(fu()<=Dr.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Xc(r)),this.rs(t,c,r,mK(a,-1)).next((d=>d)))}))}ts(t,r){let n=new Pa(hS(t));return r.forEach(((a,A)=>{Z1(t,A)&&(n=n.add(A))})),n}ns(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const A=t.limitType==="F"?r.last():r.first();return!!A&&(A.hasPendingWrites||A.version.compareTo(a)>0)}Xi(t,r,n){return fu()<=Dr.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",Xc(r)),this.Ji.getDocumentsMatchingQuery(t,r,tl.min(),n)}rs(t,r,n,a){return this.Ji.getDocumentsMatchingQuery(t,n,a).next((A=>(r.forEach((c=>{A=A.insert(c.key,c)})),A)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(t,r,n,a){this.persistence=t,this.ss=r,this.serializer=a,this.os=new Nn(Lr),this._s=new E0((A=>tw(A)),rw),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Rz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.os)))}}function Kz(e,t,r,n){return new Gz(e,t,r,n)}async function OS(e,t){const r=sr(e);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next((A=>(a=A,r.ls(t),r.mutationQueue.getAllMutationBatches(n)))).next((A=>{const c=[],d=[];let p=Cr();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of A){d.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return r.localDocuments.getDocuments(n,p).next((m=>({hs:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function zz(e,t){const r=sr(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const a=t.batch.keys(),A=r.cs.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,y){const b=m.batch,I=b.keys();let N=gt.resolve();return I.forEach((R=>{N=N.next((()=>y.getEntry(p,R))).next((F=>{const D=m.docVersions.get(R);qr(D!==null),F.version.compareTo(D)<0&&(b.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),y.addEntry(F)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(p,b)))})(r,n,t,A).next((()=>A.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(d){let p=Cr();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(t)))).next((()=>r.localDocuments.getDocuments(n,a)))}))}function US(e){const t=sr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.Ur.getLastRemoteSnapshotVersion(r)))}function Wz(e,t){const r=sr(e),n=t.snapshotVersion;let a=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(A=>{const c=r.cs.newChangeBuffer({trackRemovals:!0});a=r.os;const d=[];t.targetChanges.forEach(((y,b)=>{const I=a.get(b);if(!I)return;d.push(r.Ur.removeMatchingKeys(A,y.removedDocuments,b).next((()=>r.Ur.addMatchingKeys(A,y.addedDocuments,b))));let N=I.withSequenceNumber(A.currentSequenceNumber);t.targetMismatches.get(b)!==null?N=N.withResumeToken(Va.EMPTY_BYTE_STRING,ir.min()).withLastLimboFreeSnapshotVersion(ir.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,n)),a=a.insert(b,N),(function(F,D,K){return F.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(I,N,y)&&d.push(r.Ur.updateTargetData(A,N))}));let p=ro(),m=Cr();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(r.persistence.referenceDelegate.updateLimboDocument(A,y))})),d.push(Xz(A,c,t.documentUpdates).next((y=>{p=y.Ps,m=y.Is}))),!n.isEqual(ir.min())){const y=r.Ur.getLastRemoteSnapshotVersion(A).next((b=>r.Ur.setTargetsMetadata(A,A.currentSequenceNumber,n)));d.push(y)}return gt.waitFor(d).next((()=>c.apply(A))).next((()=>r.localDocuments.getLocalViewOfDocuments(A,p,m))).next((()=>p))})).then((A=>(r.os=a,A)))}function Xz(e,t,r){let n=Cr(),a=Cr();return r.forEach((A=>n=n.add(A))),t.getEntries(e,n).next((A=>{let c=ro();return r.forEach(((d,p)=>{const m=A.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(ir.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):Mt("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)})),{Ps:c,Is:a}}))}function Yz(e,t){const r=sr(e);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function qz(e,t){const r=sr(e);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let a;return r.Ur.getTargetData(n,t).next((A=>A?(a=A,gt.resolve(a)):r.Ur.allocateTargetId(n).next((c=>(a=new Go(t,c,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,a).next((()=>a)))))))})).then((n=>{const a=r.os.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(t,n.targetId)),n}))}async function n2(e,t,r){const n=sr(e),a=n.os.get(t),A=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",A,(c=>n.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!_f(c))throw c;Mt("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}n.os=n.os.remove(t),n._s.delete(a.target)}function e_(e,t,r){const n=sr(e);let a=ir.min(),A=Cr();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,y){const b=sr(p),I=b._s.get(y);return I!==void 0?gt.resolve(b.os.get(I)):b.Ur.getTargetData(m,y)})(n,c,cA(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(c,d.targetId).next((p=>{A=p}))})).next((()=>n.ss.getDocumentsMatchingQuery(c,t,r?a:ir.min(),r?A:Cr()))).next((d=>(Jz(n,HK(t),d),{documents:d,Ts:A})))))}function Jz(e,t,r){let n=e.us.get(t)||ir.min();r.forEach(((a,A)=>{A.readTime.compareTo(n)>0&&(n=A.readTime)})),e.us.set(t,n)}class t_{constructor(){this.activeTargetIds=WK()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Zz{constructor(){this.so=new t_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,n){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new t_,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=null;function Kp(){return Dd===null?Dd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dd++,"0x"+Dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="WebChannelConnection";class rW extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),A=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${a}/databases/${A}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${A}`}get Fo(){return!1}Mo(r,n,a,A,c){const d=Kp(),p=this.xo(r,n.toUriEncodedString());Mt("RestConnection",`Sending RPC '${r}' ${d}:`,p,a);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,A,c),this.No(r,p,m,a).then((y=>(Mt("RestConnection",`Received RPC '${r}' ${d}: `,y),y)),(y=>{throw c0("RestConnection",`RPC '${r}' ${d} failed with error: `,y,"url: ",p,"request:",a),y}))}Lo(r,n,a,A,c,d){return this.Mo(r,n,a,A,c)}Oo(r,n,a){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+y0})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((A,c)=>r[c]=A)),a&&a.headers.forEach(((A,c)=>r[c]=A))}xo(r,n){const a=eW[r];return`${this.Do}/v1/${n}:${a}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,n,a){const A=Kp();return new Promise(((c,d)=>{const p=new YI;p.setWithCredentials(!0),p.listenOnce(qI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Qd.NO_ERROR:const y=p.getResponseJson();Mt(Ja,`XHR for RPC '${t}' ${A} received:`,JSON.stringify(y)),c(y);break;case Qd.TIMEOUT:Mt(Ja,`RPC '${t}' ${A} timed out`),d(new Dt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const b=p.getStatus();if(Mt(Ja,`RPC '${t}' ${A} failed with status:`,b,"response text:",p.getResponseText()),b>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I==null?void 0:I.error;if(N&&N.status&&N.message){const R=(function(D){const K=D.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(K)>=0?K:ct.UNKNOWN})(N.status);d(new Dt(R,N.message))}else d(new Dt(ct.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Dt(ct.UNAVAILABLE,"Connection failed."));break;default:$t()}}finally{Mt(Ja,`RPC '${t}' ${A} completed.`)}}));const m=JSON.stringify(a);Mt(Ja,`RPC '${t}' ${A} sending request:`,a),p.send(r,"POST",m,n,15)}))}Bo(t,r,n){const a=Kp(),A=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=$I(),d=ZI(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,r,n),p.encodeInitMessageHeaders=!0;const y=A.join("");Mt(Ja,`Creating RPC '${t}' stream ${a}: ${y}`,p);const b=c.createWebChannel(y,p);let I=!1,N=!1;const R=new tW({Io:D=>{N?Mt(Ja,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(I||(Mt(Ja,`Opening RPC '${t}' stream ${a} transport.`),b.open(),I=!0),Mt(Ja,`RPC '${t}' stream ${a} sending:`,D),b.send(D))},To:()=>b.close()}),F=(D,K,W)=>{D.listen(K,(H=>{try{W(H)}catch(re){setTimeout((()=>{throw re}),0)}}))};return F(b,_u.EventType.OPEN,(()=>{N||(Mt(Ja,`RPC '${t}' stream ${a} transport opened.`),R.yo())})),F(b,_u.EventType.CLOSE,(()=>{N||(N=!0,Mt(Ja,`RPC '${t}' stream ${a} transport closed`),R.So())})),F(b,_u.EventType.ERROR,(D=>{N||(N=!0,c0(Ja,`RPC '${t}' stream ${a} transport errored:`,D),R.So(new Dt(ct.UNAVAILABLE,"The operation could not be completed")))})),F(b,_u.EventType.MESSAGE,(D=>{var K;if(!N){const W=D.data[0];qr(!!W);const H=W,re=H.error||((K=H[0])===null||K===void 0?void 0:K.error);if(re){Mt(Ja,`RPC '${t}' stream ${a} received error:`,re);const de=re.status;let ee=(function(k){const Y=ia[k];if(Y!==void 0)return BS(Y)})(de),U=re.message;ee===void 0&&(ee=ct.INTERNAL,U="Unknown error status: "+de+" with message "+re.message),N=!0,R.So(new Dt(ee,U)),b.close()}else Mt(Ja,`RPC '${t}' stream ${a} received:`,W),R.bo(W)}})),F(d,JI.STAT_EVENT,(D=>{D.stat===zm.PROXY?Mt(Ja,`RPC '${t}' stream ${a} detected buffering proxy`):D.stat===zm.NOPROXY&&Mt(Ja,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{R.wo()}),0),R}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(e){return new fz(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t,r,n=1e3,a=1.5,A=6e4){this.ui=t,this.timerId=r,this.ko=n,this.qo=a,this.Qo=A,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),a=Math.max(0,r-n);a>0&&Mt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,r,n,a,A,c,d,p){this.ui=t,this.Ho=n,this.Jo=a,this.connection=A,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kS(t,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():r&&r.code===ct.RESOURCE_EXHAUSTED?(to(r.toString()),to("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(r)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,a])=>{this.Yo===r&&this.P_(n,a)}),(n=>{t((()=>{const a=new Dt(ct.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(a)}))}))}P_(t,r){const n=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((a=>{n((()=>this.I_(a)))})),this.stream.onMessage((a=>{n((()=>++this.e_==1?this.E_(a):this.onNext(a)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return Mt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget((()=>this.Yo===t?r():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nW extends MS{constructor(t,r,n,a,A,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,c),this.serializer=A}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=gz(this.serializer,t),n=(function(A){if(!("targetChange"in A))return ir.min();const c=A.targetChange;return c.targetIds&&c.targetIds.length?ir.min():c.readTime?uA(c.readTime):ir.min()})(t);return this.listener.d_(r,n)}A_(t){const r={};r.database=r2(this.serializer),r.addTarget=(function(A,c){let d;const p=c.target;if(d=qm(p)?{documents:mz(A,p)}:{query:wz(A,p)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=TS(A,c.resumeToken);const m=$m(A,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(ir.min())>0){d.readTime=B1(A,c.snapshotVersion.toTimestamp());const m=$m(A,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,t);const n=yz(this.serializer,t);n&&(r.labels=n),this.a_(r)}R_(t){const r={};r.database=r2(this.serializer),r.removeTarget=t,this.a_(r)}}class aW extends MS{constructor(t,r,n,a,A,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,c),this.serializer=A}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return qr(!!t.streamToken),this.lastStreamToken=t.streamToken,qr(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){qr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=pz(t.writeResults,t.commitTime),n=uA(t.commitTime);return this.listener.g_(n,r)}p_(){const t={};t.database=r2(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map((n=>xz(this.serializer,n)))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW extends class{}{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Dt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,n,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([A,c])=>this.connection.Mo(t,e2(r,n),a,A,c))).catch((A=>{throw A.name==="FirebaseError"?(A.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new Dt(ct.UNKNOWN,A.toString())}))}Lo(t,r,n,a,A){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(t,e2(r,n),a,c,d,A))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Dt(ct.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class sW{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(to(r),this.D_=!1):Mt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(t,r,n,a,A){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=A,this.k_._o((c=>{n.enqueueAndForget((async()=>{ac(this)&&(Mt("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const m=sr(p);m.L_.add(4),await Nf(m),m.q_.set("Unknown"),m.L_.delete(4),await ag(m)})(this))}))})),this.q_=new sW(n,a)}}async function ag(e){if(ac(e))for(const t of e.B_)await t(!0)}async function Nf(e){for(const t of e.B_)await t(!1)}function LS(e,t){const r=sr(e);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),hw(r)?fw(r):C0(r).r_()&&uw(r,t))}function cw(e,t){const r=sr(e),n=C0(r);r.N_.delete(t),n.r_()&&QS(r,t),r.N_.size===0&&(n.r_()?n.o_():ac(r)&&r.q_.set("Unknown"))}function uw(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ir.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}C0(e).A_(t)}function QS(e,t){e.Q_.xe(t),C0(e).R_(t)}function fw(e){e.Q_=new oz({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),C0(e).start(),e.q_.v_()}function hw(e){return ac(e)&&!C0(e).n_()&&e.N_.size>0}function ac(e){return sr(e).L_.size===0}function jS(e){e.Q_=void 0}async function oW(e){e.q_.set("Online")}async function lW(e){e.N_.forEach(((t,r)=>{uw(e,t)}))}async function cW(e,t){jS(e),hw(e)?(e.q_.M_(t),fw(e)):e.q_.set("Unknown")}async function uW(e,t,r){if(e.q_.set("Online"),t instanceof _S&&t.state===2&&t.cause)try{await(async function(a,A){const c=A.cause;for(const d of A.targetIds)a.N_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.N_.delete(d),a.Q_.removeTarget(d))})(e,t)}catch(n){Mt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await b1(e,n)}else if(t instanceof Pd?e.Q_.Ke(t):t instanceof bS?e.Q_.He(t):e.Q_.We(t),!r.isEqual(ir.min()))try{const n=await US(e.localStore);r.compareTo(n)>=0&&await(function(A,c){const d=A.Q_.rt(c);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=A.N_.get(m);y&&A.N_.set(m,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,m)=>{const y=A.N_.get(p);if(!y)return;A.N_.set(p,y.withResumeToken(Va.EMPTY_BYTE_STRING,y.snapshotVersion)),QS(A,p);const b=new Go(y.target,p,m,y.sequenceNumber);uw(A,b)})),A.remoteSyncer.applyRemoteEvent(d)})(e,r)}catch(n){Mt("RemoteStore","Failed to raise snapshot:",n),await b1(e,n)}}async function b1(e,t,r){if(!_f(t))throw t;e.L_.add(1),await Nf(e),e.q_.set("Offline"),r||(r=()=>US(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Mt("RemoteStore","Retrying IndexedDB access"),await r(),e.L_.delete(1),await ag(e)}))}function HS(e,t){return t().catch((r=>b1(e,r,t)))}async function ig(e){const t=sr(e),r=nl(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;fW(t);)try{const a=await Yz(t.localStore,n);if(a===null){t.O_.length===0&&r.o_();break}n=a.batchId,hW(t,a)}catch(a){await b1(t,a)}PS(t)&&VS(t)}function fW(e){return ac(e)&&e.O_.length<10}function hW(e,t){e.O_.push(t);const r=nl(e);r.r_()&&r.V_&&r.m_(t.mutations)}function PS(e){return ac(e)&&!nl(e).n_()&&e.O_.length>0}function VS(e){nl(e).start()}async function dW(e){nl(e).p_()}async function gW(e){const t=nl(e);for(const r of e.O_)t.m_(r.mutations)}async function xW(e,t,r){const n=e.O_.shift(),a=aw.from(n,t,r);await HS(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await ig(e)}async function pW(e,t){t&&nl(e).V_&&await(async function(n,a){if((function(c){return iz(c)&&c!==ct.ABORTED})(a.code)){const A=n.O_.shift();nl(n).s_(),await HS(n,(()=>n.remoteSyncer.rejectFailedWrite(A.batchId,a))),await ig(n)}})(e,t),PS(e)&&VS(e)}async function n_(e,t){const r=sr(e);r.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const n=ac(r);r.L_.add(3),await Nf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),await ag(r)}async function mW(e,t){const r=sr(e);t?(r.L_.delete(2),await ag(r)):t||(r.L_.add(2),await Nf(r),r.q_.set("Unknown"))}function C0(e){return e.K_||(e.K_=(function(r,n,a){const A=sr(r);return A.w_(),new nW(n,A.connection,A.authCredentials,A.appCheckCredentials,A.serializer,a)})(e.datastore,e.asyncQueue,{Eo:oW.bind(null,e),Ro:lW.bind(null,e),mo:cW.bind(null,e),d_:uW.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),hw(e)?fw(e):e.q_.set("Unknown")):(await e.K_.stop(),jS(e))}))),e.K_}function nl(e){return e.U_||(e.U_=(function(r,n,a){const A=sr(r);return A.w_(),new aW(n,A.connection,A.authCredentials,A.appCheckCredentials,A.serializer,a)})(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:dW.bind(null,e),mo:pW.bind(null,e),f_:gW.bind(null,e),g_:xW.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await ig(e)):(await e.U_.stop(),e.O_.length>0&&(Mt("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,r,n,a,A){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=A,this.deferred=new qA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,A){const c=Date.now()+n,d=new dw(t,r,c,a,A);return d.start(n),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Dt(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gw(e,t){if(to("AsyncQueue",`${t}: ${e}`),_f(e))return new Dt(ct.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t){this.comparator=t?(r,n)=>t(r,n)||zt.comparator(r.key,n.key):(r,n)=>zt.comparator(r.key,n.key),this.keyedMap=Tu(),this.sortedSet=new Nn(this.comparator)}static emptySet(t){return new s0(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,n)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof s0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,A=n.getNext().key;if(!a.isEqual(A))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new s0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.W_=new Nn(zt.comparator)}track(t){const r=t.doc.key,n=this.W_.get(r);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(r,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(r):t.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):$t():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal(((r,n)=>{t.push(n)})),t}}class g0{constructor(t,r,n,a,A,c,d,p,m){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=A,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,r,n,a,A){const c=[];return r.forEach((d=>{c.push({type:0,doc:d})})),new g0(t,r,s0.emptySet(r),c,n,a,!0,!1,A)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&J1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class vW{constructor(){this.queries=i_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const a=sr(r),A=a.queries;a.queries=i_(),A.forEach(((c,d)=>{for(const p of d.j_)p.onError(n)}))})(this,new Dt(ct.ABORTED,"Firestore shutting down"))}}function i_(){return new E0((e=>fS(e)),J1)}async function xw(e,t){const r=sr(e);let n=3;const a=t.query;let A=r.queries.get(a);A?!A.H_()&&t.J_()&&(n=2):(A=new wW,n=t.J_()?0:1);try{switch(n){case 0:A.z_=await r.onListen(a,!0);break;case 1:A.z_=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(c){const d=gw(c,`Initialization of query '${Xc(t.query)}' failed`);return void t.onError(d)}r.queries.set(a,A),A.j_.push(t),t.Z_(r.onlineState),A.z_&&t.X_(A.z_)&&mw(r)}async function pw(e,t){const r=sr(e),n=t.query;let a=3;const A=r.queries.get(n);if(A){const c=A.j_.indexOf(t);c>=0&&(A.j_.splice(c,1),A.j_.length===0?a=t.J_()?0:1:!A.H_()&&t.J_()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function yW(e,t){const r=sr(e);let n=!1;for(const a of t){const A=a.query,c=r.queries.get(A);if(c){for(const d of c.j_)d.X_(a)&&(n=!0);c.z_=a}}n&&mw(r)}function EW(e,t,r){const n=sr(e),a=n.queries.get(t);if(a)for(const A of a.j_)A.onError(r);n.queries.delete(t)}function mw(e){e.Y_.forEach((t=>{t.next()}))}var a2,s_;(s_=a2||(a2={})).ea="default",s_.Cache="cache";class ww{constructor(t,r,n){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new g0(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){if(!t.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(t){t=g0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==a2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.key=t}}class KS{constructor(t){this.key=t}}class CW{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Cr(),this.mutatedKeys=Cr(),this.Aa=hS(t),this.Ra=new s0(this.Aa)}get Va(){return this.Ta}ma(t,r){const n=r?r.fa:new a_,a=r?r.Ra:this.Ra;let A=r?r.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,b)=>{const I=a.get(y),N=Z1(this.query,b)?b:null,R=!!I&&this.mutatedKeys.has(I.key),F=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let D=!1;I&&N?I.data.isEqual(N.data)?R!==F&&(n.track({type:3,doc:N}),D=!0):this.ga(I,N)||(n.track({type:2,doc:N}),D=!0,(p&&this.Aa(N,p)>0||m&&this.Aa(N,m)<0)&&(d=!0)):!I&&N?(n.track({type:0,doc:N}),D=!0):I&&!N&&(n.track({type:1,doc:I}),D=!0,(p||m)&&(d=!0)),D&&(N?(c=c.add(N),A=F?A.add(y):A.delete(y)):(c=c.delete(y),A=A.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),A=A.delete(y.key),n.track({type:1,doc:y})}return{Ra:c,fa:n,ns:d,mutatedKeys:A}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const A=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const c=t.fa.G_();c.sort(((y,b)=>(function(N,R){const F=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t()}};return F(N)-F(R)})(y.type,b.type)||this.Aa(y.doc,b.doc))),this.pa(n),a=a!=null&&a;const d=r&&!a?this.ya():[],p=this.da.size===0&&this.current&&!a?1:0,m=p!==this.Ea;return this.Ea=p,c.length!==0||m?{snapshot:new g0(this.query,t.Ra,A,c,t.mutatedKeys,p===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new a_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Cr(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const r=[];return t.forEach((n=>{this.da.has(n)||r.push(new KS(n))})),this.da.forEach((n=>{t.has(n)||r.push(new GS(n))})),r}ba(t){this.Ta=t.Ts,this.da=Cr();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return g0.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class BW{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class bW{constructor(t){this.key=t,this.va=!1}}class _W{constructor(t,r,n,a,A,c){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=A,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new E0((d=>fS(d)),J1),this.Ma=new Map,this.xa=new Set,this.Oa=new Nn(zt.comparator),this.Na=new Map,this.La=new Aw,this.Ba={},this.ka=new Map,this.qa=d0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function TW(e,t,r=!0){const n=JS(e);let a;const A=n.Fa.get(t);return A?(n.sharedClientState.addLocalQueryTarget(A.targetId),a=A.view.Da()):a=await zS(n,t,r,!0),a}async function IW(e,t){const r=JS(e);await zS(r,t,!0,!1)}async function zS(e,t,r,n){const a=await qz(e.localStore,cA(t)),A=a.targetId,c=e.sharedClientState.addLocalQueryTarget(A,r);let d;return n&&(d=await SW(e,t,A,c==="current",a.resumeToken)),e.isPrimaryClient&&r&&LS(e.remoteStore,a),d}async function SW(e,t,r,n,a){e.Ka=(b,I,N)=>(async function(F,D,K,W){let H=D.view.ma(K);H.ns&&(H=await e_(F.localStore,D.query,!1).then((({documents:U})=>D.view.ma(U,H))));const re=W&&W.targetChanges.get(D.targetId),de=W&&W.targetMismatches.get(D.targetId)!=null,ee=D.view.applyChanges(H,F.isPrimaryClient,re,de);return o_(F,D.targetId,ee.wa),ee.snapshot})(e,b,I,N);const A=await e_(e.localStore,t,!0),c=new CW(t,A.Ts),d=c.ma(A.documents),p=Sf.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),m=c.applyChanges(d,e.isPrimaryClient,p);o_(e,r,m.wa);const y=new BW(t,r,c);return e.Fa.set(t,y),e.Ma.has(r)?e.Ma.get(r).push(t):e.Ma.set(r,[t]),m.snapshot}async function NW(e,t,r){const n=sr(e),a=n.Fa.get(t),A=n.Ma.get(a.targetId);if(A.length>1)return n.Ma.set(a.targetId,A.filter((c=>!J1(c,t)))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await n2(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),r&&cw(n.remoteStore,a.targetId),i2(n,a.targetId)})).catch(bf)):(i2(n,a.targetId),await n2(n.localStore,a.targetId,!0))}async function FW(e,t){const r=sr(e),n=r.Fa.get(t),a=r.Ma.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),cw(r.remoteStore,n.targetId))}async function RW(e,t,r){const n=QW(e);try{const a=await(function(c,d){const p=sr(c),m=pa.now(),y=d.reduce(((N,R)=>N.add(R.key)),Cr());let b,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let R=ro(),F=Cr();return p.cs.getEntries(N,y).next((D=>{R=D,R.forEach(((K,W)=>{W.isValidDocument()||(F=F.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,R))).next((D=>{b=D;const K=[];for(const W of d){const H=ez(W,b.get(W.key).overlayedDocument);H!=null&&K.push(new sl(W.key,H,aS(H.value.mapValue),Vi.exists(!0)))}return p.mutationQueue.addMutationBatch(N,m,K,d)})).next((D=>{I=D;const K=D.applyToLocalDocumentSet(b,F);return p.documentOverlayCache.saveOverlays(N,D.batchId,K)}))})).then((()=>({batchId:I.batchId,changes:gS(b)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let m=c.Ba[c.currentUser.toKey()];m||(m=new Nn(Lr)),m=m.insert(d,p),c.Ba[c.currentUser.toKey()]=m})(n,a.batchId,r),await Ff(n,a.changes),await ig(n.remoteStore)}catch(a){const A=gw(a,"Failed to persist write");r.reject(A)}}async function WS(e,t){const r=sr(e);try{const n=await Wz(r.localStore,t);t.targetChanges.forEach(((a,A)=>{const c=r.Na.get(A);c&&(qr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.va=!0:a.modifiedDocuments.size>0?qr(c.va):a.removedDocuments.size>0&&(qr(c.va),c.va=!1))})),await Ff(r,n,t)}catch(n){await bf(n)}}function A_(e,t,r){const n=sr(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Fa.forEach(((A,c)=>{const d=c.view.Z_(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=sr(c);p.onlineState=d;let m=!1;p.queries.forEach(((y,b)=>{for(const I of b.j_)I.Z_(d)&&(m=!0)})),m&&mw(p)})(n.eventManager,t),a.length&&n.Ca.d_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function DW(e,t,r){const n=sr(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Na.get(t),A=a&&a.key;if(A){let c=new Nn(zt.comparator);c=c.insert(A,ri.newNoDocument(A,ir.min()));const d=Cr().add(A),p=new rg(ir.min(),new Map,new Nn(Lr),c,d);await WS(n,p),n.Oa=n.Oa.remove(A),n.Na.delete(t),vw(n)}else await n2(n.localStore,t,!1).then((()=>i2(n,t,r))).catch(bf)}async function OW(e,t){const r=sr(e),n=t.batch.batchId;try{const a=await zz(r.localStore,t);YS(r,n,null),XS(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ff(r,a)}catch(a){await bf(a)}}async function UW(e,t,r){const n=sr(e);try{const a=await(function(c,d){const p=sr(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next((b=>(qr(b!==null),y=b.keys(),p.mutationQueue.removeMutationBatch(m,b)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(n.localStore,t);YS(n,t,r),XS(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Ff(n,a)}catch(a){await bf(a)}}function XS(e,t){(e.ka.get(t)||[]).forEach((r=>{r.resolve()})),e.ka.delete(t)}function YS(e,t,r){const n=sr(e);let a=n.Ba[n.currentUser.toKey()];if(a){const A=a.get(t);A&&(r?A.reject(r):A.resolve(),a=a.remove(t)),n.Ba[n.currentUser.toKey()]=a}}function i2(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Ma.get(t))e.Fa.delete(n),r&&e.Ca.$a(n,r);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((n=>{e.La.containsKey(n)||qS(e,n)}))}function qS(e,t){e.xa.delete(t.path.canonicalString());const r=e.Oa.get(t);r!==null&&(cw(e.remoteStore,r),e.Oa=e.Oa.remove(t),e.Na.delete(r),vw(e))}function o_(e,t,r){for(const n of r)n instanceof GS?(e.La.addReference(n.key,t),kW(e,n)):n instanceof KS?(Mt("SyncEngine","Document no longer in limbo: "+n.key),e.La.removeReference(n.key,t),e.La.containsKey(n.key)||qS(e,n.key)):$t()}function kW(e,t){const r=t.key,n=r.path.canonicalString();e.Oa.get(r)||e.xa.has(n)||(Mt("SyncEngine","New document in limbo: "+r),e.xa.add(n),vw(e))}function vw(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const r=new zt(mn.fromString(t)),n=e.qa.next();e.Na.set(n,new bW(r)),e.Oa=e.Oa.insert(r,n),LS(e.remoteStore,new Go(cA(q1(r.path)),n,"TargetPurposeLimboResolution",J2.oe))}}async function Ff(e,t,r){const n=sr(e),a=[],A=[],c=[];n.Fa.isEmpty()||(n.Fa.forEach(((d,p)=>{c.push(n.Ka(p,t,r).then((m=>{var y;if((m||r)&&n.isPrimaryClient){const b=m?!m.fromCache:(y=r==null?void 0:r.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;n.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(m){a.push(m);const b=lw.Wi(p.targetId,m);A.push(b)}})))})),await Promise.all(c),n.Ca.d_(a),await(async function(p,m){const y=sr(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>gt.forEach(m,(I=>gt.forEach(I.$i,(N=>y.persistence.referenceDelegate.addReference(b,I.targetId,N))).next((()=>gt.forEach(I.Ui,(N=>y.persistence.referenceDelegate.removeReference(b,I.targetId,N)))))))))}catch(b){if(!_f(b))throw b;Mt("LocalStore","Failed to update sequence numbers: "+b)}for(const b of m){const I=b.targetId;if(!b.fromCache){const N=y.os.get(I),R=N.snapshotVersion,F=N.withLastLimboFreeSnapshotVersion(R);y.os=y.os.insert(I,F)}}})(n.localStore,A))}async function MW(e,t){const r=sr(e);if(!r.currentUser.isEqual(t)){Mt("SyncEngine","User change. New user:",t.toKey());const n=await OS(r.localStore,t);r.currentUser=t,(function(A,c){A.ka.forEach((d=>{d.forEach((p=>{p.reject(new Dt(ct.CANCELLED,c))}))})),A.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Ff(r,n.hs)}}function LW(e,t){const r=sr(e),n=r.Na.get(t);if(n&&n.va)return Cr().add(n.key);{let a=Cr();const A=r.Ma.get(t);if(!A)return a;for(const c of A){const d=r.Fa.get(c);a=a.unionWith(d.view.Va)}return a}}function JS(e){const t=sr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=WS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LW.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DW.bind(null,t),t.Ca.d_=yW.bind(null,t.eventManager),t.Ca.$a=EW.bind(null,t.eventManager),t}function QW(e){const t=sr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OW.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UW.bind(null,t),t}class _1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ng(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,r){return null}Ha(t,r){return null}za(t){return Kz(this.persistence,new Vz,t.initialUser,this.serializer)}Ga(t){return new jz(ow.Zr,this.serializer)}Wa(t){return new Zz}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_1.provider={build:()=>new _1};class s2{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>A_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=MW.bind(null,this.syncEngine),await mW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new vW})()}createDatastore(t){const r=ng(t.databaseInfo.databaseId),n=(function(A){return new rW(A)})(t.databaseInfo);return(function(A,c,d,p){return new iW(A,c,d,p)})(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return(function(n,a,A,c,d){return new AW(n,a,A,c,d)})(this.localStore,this.datastore,t.asyncQueue,(r=>A_(this.syncEngine,r,0)),(function(){return r_.D()?new r_:new $z})())}createSyncEngine(t,r){return(function(a,A,c,d,p,m,y){const b=new _W(a,A,c,d,p,m);return y&&(b.Qa=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(a){const A=sr(a);Mt("RemoteStore","RemoteStore shutting down."),A.L_.add(5),await Nf(A),A.k_.shutdown(),A.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}s2.provider={build:()=>new s2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):to("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(t,r,n,a,A){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=$a.UNAUTHENTICATED,this.clientId=tS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=A,this.authCredentials.start(n,(async c=>{Mt("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(Mt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=gw(r,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Wp(e,t){e.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener((async a=>{n.isEqual(a)||(await OS(t.localStore,a),n=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function l_(e,t){e.asyncQueue.verifyOperationInProgress();const r=await HW(e);Mt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener((n=>n_(t.remoteStore,n))),e.setAppCheckTokenChangeListener(((n,a)=>n_(t.remoteStore,a))),e._onlineComponents=t}async function HW(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Mt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wp(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(a){return a.name==="FirebaseError"?a.code===ct.FAILED_PRECONDITION||a.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(r))throw r;c0("Error using user provided cache. Falling back to memory cache: "+r),await Wp(e,new _1)}}else Mt("FirestoreClient","Using default OfflineComponentProvider"),await Wp(e,new _1);return e._offlineComponents}async function ZS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Mt("FirestoreClient","Using user provided OnlineComponentProvider"),await l_(e,e._uninitializedComponentsProvider._online)):(Mt("FirestoreClient","Using default OnlineComponentProvider"),await l_(e,new s2))),e._onlineComponents}function PW(e){return ZS(e).then((t=>t.syncEngine))}async function T1(e){const t=await ZS(e),r=t.eventManager;return r.onListen=TW.bind(null,t.syncEngine),r.onUnlisten=NW.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=IW.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=FW.bind(null,t.syncEngine),r}function VW(e,t,r={}){const n=new qA;return e.asyncQueue.enqueueAndForget((async()=>(function(A,c,d,p,m){const y=new yw({next:I=>{y.Za(),c.enqueueAndForget((()=>pw(A,b)));const N=I.docs.has(d);!N&&I.fromCache?m.reject(new Dt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&p&&p.source==="server"?m.reject(new Dt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),b=new ww(q1(d.path),y,{includeMetadataChanges:!0,_a:!0});return xw(A,b)})(await T1(e),e.asyncQueue,t,r,n))),n.promise}function GW(e,t,r={}){const n=new qA;return e.asyncQueue.enqueueAndForget((async()=>(function(A,c,d,p,m){const y=new yw({next:I=>{y.Za(),c.enqueueAndForget((()=>pw(A,b))),I.fromCache&&p.source==="server"?m.reject(new Dt(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),b=new ww(d,y,{includeMetadataChanges:!0,_a:!0});return xw(A,b)})(await T1(e),e.asyncQueue,t,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(e,t,r){if(!r)throw new Dt(ct.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function KW(e,t,r,n){if(t===!0&&n===!0)throw new Dt(ct.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function u_(e){if(!zt.isDocumentKey(e))throw new Dt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function f_(e){if(zt.isDocumentKey(e))throw new Dt(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function sg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":$t()}function Gi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=sg(e);throw new Dt(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Dt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Dt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KW("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$S((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(A){if(A.timeoutSeconds!==void 0){if(isNaN(A.timeoutSeconds))throw new Dt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${A.timeoutSeconds} (must not be NaN)`);if(A.timeoutSeconds<5)throw new Dt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${A.timeoutSeconds} (minimum allowed value is 5)`);if(A.timeoutSeconds>30)throw new Dt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${A.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ag{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Dt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Dt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(t),t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new lK;switch(n.type){case"firstParty":return new hK(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Dt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=c_.get(r);n&&(Mt("ComponentProvider","Removing Datastore"),c_.delete(r),n.terminate())})(this),Promise.resolve()}}function zW(e,t,r,n={}){var a;const A=(e=Gi(e,Ag))._getSettings(),c=`${t}:${r}`;if(A.host!=="firestore.googleapis.com"&&A.host!==c&&c0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},A),{host:c,ssl:!1})),n.mockUserToken){let d,p;if(typeof n.mockUserToken=="string")d=n.mockUserToken,p=$a.MOCK_USER;else{d=HV(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new Dt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new $a(m)}e._authCredentials=new cK(new eS(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new ic(this.firestore,t,this._query)}}class si{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new si(this.firestore,t,this._key)}}class qo extends ic{constructor(t,r,n){super(t,r,q1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new si(this.firestore,null,new zt(t))}withConverter(t){return new qo(this.firestore,t,this._path)}}function Vs(e,t,...r){if(e=zi(e),e8("collection","path",t),e instanceof Ag){const n=mn.fromString(t,...r);return f_(n),new qo(e,null,n)}{if(!(e instanceof si||e instanceof qo))throw new Dt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(mn.fromString(t,...r));return f_(n),new qo(e.firestore,null,n)}}function on(e,t,...r){if(e=zi(e),arguments.length===1&&(t=tS.newId()),e8("doc","path",t),e instanceof Ag){const n=mn.fromString(t,...r);return u_(n),new si(e,null,new zt(n))}{if(!(e instanceof si||e instanceof qo))throw new Dt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(mn.fromString(t,...r));return u_(n),new si(e.firestore,e instanceof qo?e.converter:null,new zt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kS(this,"async_queue_retry"),this.Vu=()=>{const n=zp();n&&Mt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const r=zp();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=zp();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new qA;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!_f(t))throw t;Mt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const r=this.mu.then((()=>(this.du=!0,t().catch((n=>{this.Eu=n,this.du=!1;const a=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(n);throw to("INTERNAL UNHANDLED ERROR: ",a),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(t,r,n){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const a=dw.createAndSchedule(this,t,r,n,(A=>this.yu(A)));return this.Tu.push(a),a}fu(){this.Eu&&$t()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function g_(e){return(function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const A of n)if(A in a&&typeof a[A]=="function")return!0;return!1})(e,["next","error","complete"])}class no extends Ag{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new d_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new d_(t),this._firestoreClient=void 0,await t}}}function WW(e,t){const r=typeof e=="object"?e:KI(),n=typeof e=="string"?e:"(default)",a=Bf(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const A=QV("firestore");A&&zW(a,...A)}return a}function Rf(e){if(e._terminated)throw new Dt(ct.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||XW(e),e._firestoreClient}function XW(e){var t,r,n;const a=e._freezeSettings(),A=(function(d,p,m,y){return new _K(d,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,$S(y.experimentalLongPollingOptions),y.useFetchStreams)})(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new jW(e._authCredentials,e._appCheckCredentials,e._queue,A,e._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t){this._byteString=t}static fromBase64String(t){try{return new x0(Va.fromBase64String(t))}catch(r){throw new Dt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new x0(Va.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Dt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new La(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Dt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Dt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Lr(this._lat,t._lat)||Lr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,a){if(n.length!==a.length)return!1;for(let A=0;A<n.length;++A)if(n[A]!==a[A])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=/^__.*__$/;class qW{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new sl(t,this.data,this.fieldMask,r,this.fieldTransforms):new If(t,this.data,r,this.fieldTransforms)}}class t8{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new sl(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function r8(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t()}}class bw{constructor(t,r,n,a,A,c){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,A===void 0&&this.vu(),this.fieldTransforms=A||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new bw(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.Fu({path:n,xu:!1});return a.Ou(t),a}Nu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.Fu({path:n,xu:!1});return a.vu(),a}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return I1(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(r8(this.Cu)&&YW.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class JW{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||ng(t)}Qu(t,r,n,a=!1){return new bw({Cu:t,methodName:r,qu:n,path:La.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function og(e){const t=e._freezeSettings(),r=ng(e._databaseId);return new JW(e._databaseId,!!t.ignoreUndefinedProperties,r)}function n8(e,t,r,n,a,A={}){const c=e.Qu(A.merge||A.mergeFields?2:0,t,r,a);_w("Data must be an object, but it was:",c,n);const d=s8(n,c);let p,m;if(A.merge)p=new os(c.fieldMask),m=c.fieldTransforms;else if(A.mergeFields){const y=[];for(const b of A.mergeFields){const I=A2(t,b,r);if(!c.contains(I))throw new Dt(ct.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);o8(y,I)||y.push(I)}p=new os(y),m=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,m=c.fieldTransforms;return new qW(new Pi(d),p,m)}class lg extends Ew{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof lg}}function a8(e,t,r,n){const a=e.Qu(1,t,r);_w("Data must be an object, but it was:",a,n);const A=[],c=Pi.empty();nc(n,((p,m)=>{const y=Tw(t,p,r);m=zi(m);const b=a.Nu(y);if(m instanceof lg)A.push(y);else{const I=Of(m,b);I!=null&&(A.push(y),c.set(y,I))}}));const d=new os(A);return new t8(c,d,a.fieldTransforms)}function i8(e,t,r,n,a,A){const c=e.Qu(1,t,r),d=[A2(t,n,r)],p=[a];if(A.length%2!=0)throw new Dt(ct.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<A.length;I+=2)d.push(A2(t,A[I])),p.push(A[I+1]);const m=[],y=Pi.empty();for(let I=d.length-1;I>=0;--I)if(!o8(m,d[I])){const N=d[I];let R=p[I];R=zi(R);const F=c.Nu(N);if(R instanceof lg)m.push(N);else{const D=Of(R,F);D!=null&&(m.push(N),y.set(N,D))}}const b=new os(m);return new t8(y,b,c.fieldTransforms)}function ZW(e,t,r,n=!1){return Of(r,e.Qu(n?4:3,t))}function Of(e,t){if(A8(e=zi(e)))return _w("Unsupported field value:",t,e),s8(e,t);if(e instanceof Ew)return(function(n,a){if(!r8(a.Cu))throw a.Bu(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${n._methodName}() is not currently supported inside arrays`);const A=n._toFieldTransform(a);A&&a.fieldTransforms.push(A)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(n,a){const A=[];let c=0;for(const d of n){let p=Of(d,a.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),A.push(p),c++}return{arrayValue:{values:A}}})(e,t)}return(function(n,a){if((n=zi(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return XK(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const A=pa.fromDate(n);return{timestampValue:B1(a.serializer,A)}}if(n instanceof pa){const A=new pa(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:B1(a.serializer,A)}}if(n instanceof Cw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof x0)return{bytesValue:TS(a.serializer,n._byteString)};if(n instanceof si){const A=a.databaseId,c=n.firestore._databaseId;if(!c.isEqual(A))throw a.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${A.projectId}/${A.database}`);return{referenceValue:sw(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Bw)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Bu("VectorValues must only contain numeric values.");return nw(d.serializer,p)}))}}}}}})(n,a);throw a.Bu(`Unsupported field value: ${sg(n)}`)})(e,t)}function s8(e,t){const r={};return rS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nc(e,((n,a)=>{const A=Of(a,t.Mu(n));A!=null&&(r[n]=A)})),{mapValue:{fields:r}}}function A8(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof pa||e instanceof Cw||e instanceof x0||e instanceof si||e instanceof Ew||e instanceof Bw)}function _w(e,t,r){if(!A8(r)||!(function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)})(r)){const n=sg(r);throw n==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+n)}}function A2(e,t,r){if((t=zi(t))instanceof Df)return t._internalPath;if(typeof t=="string")return Tw(e,t);throw I1("Field path arguments must be of type string or ",e,!1,void 0,r)}const $W=new RegExp("[~\\*/\\[\\]]");function Tw(e,t,r){if(t.search($W)>=0)throw I1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Df(...t.split("."))._internalPath}catch{throw I1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function I1(e,t,r,n,a){const A=n&&!n.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;r&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(A||c)&&(p+=" (found",A&&(p+=` in field ${n}`),c&&(p+=` in document ${a}`),p+=")"),new Dt(ct.INVALID_ARGUMENT,d+e+p)}function o8(e,t){return e.some((r=>r.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(t,r,n,a,A){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=A}get id(){return this._key.path.lastSegment()}get ref(){return new si(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new eX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Iw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class eX extends l8{data(){return super.data()}}function Iw(e,t){return typeof t=="string"?Tw(e,t):t instanceof Df?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Dt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sw{}class tX extends Sw{}function Gs(e,t,...r){let n=[];t instanceof Sw&&n.push(t),n=n.concat(r),(function(A){const c=A.filter((p=>p instanceof Nw)).length,d=A.filter((p=>p instanceof cg)).length;if(c>1||c>0&&d>0)throw new Dt(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const a of n)e=a._apply(e);return e}class cg extends tX{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new cg(t,r,n)}_apply(t){const r=this._parse(t);return u8(t._query,r),new ic(t.firestore,t.converter,Jm(t._query,r))}_parse(t){const r=og(t.firestore);return(function(A,c,d,p,m,y,b){let I;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Dt(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){p_(b,y);const N=[];for(const R of b)N.push(x_(p,A,R));I={arrayValue:{values:N}}}else I=x_(p,A,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||p_(b,y),I=ZW(d,c,b,y==="in"||y==="not-in");return la.create(m,y,I)})(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Xp(e,t,r){const n=t,a=Iw("where",e);return cg._create(a,n,r)}class Nw extends Sw{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Nw(t,r)}_parse(t){const r=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:qs.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:((function(a,A){let c=a;const d=A.getFlattenedFilters();for(const p of d)u8(c,p),c=Jm(c,p)})(t._query,r),new ic(t.firestore,t.converter,Jm(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function x_(e,t,r){if(typeof(r=zi(r))=="string"){if(r==="")throw new Dt(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uS(t)&&r.indexOf("/")!==-1)throw new Dt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(mn.fromString(r));if(!zt.isDocumentKey(n))throw new Dt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return M4(e,new zt(n))}if(r instanceof si)return M4(e,r._key);throw new Dt(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sg(r)}.`)}function p_(e,t){if(!Array.isArray(e)||e.length===0)throw new Dt(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function u8(e,t){const r=(function(a,A){for(const c of a)for(const d of c.getFlattenedFilters())if(A.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(r!==null)throw r===t.op?new Dt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Dt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class rX{convertValue(t,r="none"){switch(Xl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Wl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw $t()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return nc(t,((a,A)=>{n[a]=this.convertValue(A,r)})),n}convertVectorValue(t){var r,n,a;const A=(a=(n=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map((c=>qn(c.doubleValue)));return new Bw(A)}convertGeoPoint(t){return new Cw(qn(t.latitude),qn(t.longitude))}convertArray(t,r){return(t.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const n=$2(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(uf(t));default:return null}}convertTimestamp(t){const r=rl(t);return new pa(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=mn.fromString(t);qr(DS(n));const a=new ff(n.get(1),n.get(3)),A=new zt(n.popFirst(5));return a.isEqual(r)||to(`Document ${A} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class h8 extends l8{constructor(t,r,n,a,A,c){super(t,r,n,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=A}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(Iw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Vd extends h8{data(t={}){return super.data(t)}}class d8{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new Su(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((n=>{t.call(r,new Vd(this._firestore,this._userDataWriter,n.key,n,new Su(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Dt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,A){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new Vd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>A||d.type!==3)).map((d=>{const p=new Vd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:nX(d.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function nX(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(e){e=Gi(e,si);const t=Gi(e.firestore,no);return VW(Rf(t),e._key).then((r=>g8(t,e,r)))}class Fw extends rX{constructor(t){super(),this.firestore=t}convertBytes(t){return new x0(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new si(this.firestore,null,r)}}function Yp(e){e=Gi(e,ic);const t=Gi(e.firestore,no),r=Rf(t),n=new Fw(t);return c8(e._query),GW(r,e._query).then((a=>new d8(t,n,e,a)))}function Qi(e,t,r){e=Gi(e,si);const n=Gi(e.firestore,no),a=f8(e.converter,t,r);return ug(n,[n8(og(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Vi.none())])}function Od(e,t,r,...n){e=Gi(e,si);const a=Gi(e.firestore,no),A=og(a);let c;return c=typeof(t=zi(t))=="string"||t instanceof Df?i8(A,"updateDoc",e._key,t,r,n):a8(A,"updateDoc",e._key,t),ug(a,[c.toMutation(e._key,Vi.exists(!0))])}function Oo(e){return ug(Gi(e.firestore,no),[new tg(e._key,Vi.none())])}function GA(e,...t){var r,n,a;e=zi(e);let A={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||g_(t[c])||(A=t[c],c++);const d={includeMetadataChanges:A.includeMetadataChanges,source:A.source};if(g_(t[c])){const b=t[c];t[c]=(r=b.next)===null||r===void 0?void 0:r.bind(b),t[c+1]=(n=b.error)===null||n===void 0?void 0:n.bind(b),t[c+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let p,m,y;if(e instanceof si)m=Gi(e.firestore,no),y=q1(e._key.path),p={next:b=>{t[c]&&t[c](g8(m,e,b))},error:t[c+1],complete:t[c+2]};else{const b=Gi(e,ic);m=Gi(b.firestore,no),y=b._query;const I=new Fw(m);p={next:N=>{t[c]&&t[c](new d8(m,I,b,N))},error:t[c+1],complete:t[c+2]},c8(e._query)}return(function(I,N,R,F){const D=new yw(F),K=new ww(N,D,R);return I.asyncQueue.enqueueAndForget((async()=>xw(await T1(I),K))),()=>{D.Za(),I.asyncQueue.enqueueAndForget((async()=>pw(await T1(I),K)))}})(Rf(m),y,d,p)}function ug(e,t){return(function(n,a){const A=new qA;return n.asyncQueue.enqueueAndForget((async()=>RW(await PW(n),a,A))),A.promise})(Rf(e),t)}function g8(e,t,r){const n=r.docs.get(t._key),a=new Fw(e);return new h8(e,a,t._key,n,new Su(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=og(t)}set(t,r,n){this._verifyNotCommitted();const a=qp(t,this._firestore),A=f8(a.converter,r,n),c=n8(this._dataReader,"WriteBatch.set",a._key,A,a.converter!==null,n);return this._mutations.push(c.toMutation(a._key,Vi.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const A=qp(t,this._firestore);let c;return c=typeof(r=zi(r))=="string"||r instanceof Df?i8(this._dataReader,"WriteBatch.update",A._key,r,n,a):a8(this._dataReader,"WriteBatch.update",A._key,r),this._mutations.push(c.toMutation(A._key,Vi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=qp(t,this._firestore);return this._mutations=this._mutations.concat(new tg(r._key,Vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Dt(ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qp(e,t){if((e=zi(e)).firestore!==t)throw new Dt(ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(e){return Rf(e=Gi(e,no)),new iX(e,(t=>ug(e,t)))}(function(t,r=!0){(function(a){y0=a})(JG),el(new $A("firestore",((n,{instanceIdentifier:a,options:A})=>{const c=n.getProvider("app").getImmediate(),d=new no(new uK(n.getProvider("auth-internal")),new gK(n.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Dt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(m.options.projectId,y)})(c,a),c);return A=Object.assign({useFetchStreams:r},A),d._setSettings(A),d}),"PUBLIC").setMultipleInstances(!0)),lA(R4,"4.7.3",t),lA(R4,"4.7.3","esm2017")})();const x8="@firebase/installations",Rw="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=1e4,m8=`w:${Rw}`,w8="FIS_v2",sX="https://firebaseinstallations.googleapis.com/v1",AX=3600*1e3,oX="installations",lX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yl=new X1(oX,lX,cX);function v8(e){return e instanceof il&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8({projectId:e}){return`${sX}/projects/${e}/installations`}function E8(e){return{token:e.token,requestStatus:2,expiresIn:fX(e.expiresIn),creationTime:Date.now()}}async function C8(e,t){const n=(await t.json()).error;return Yl.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function B8({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function uX(e,{refreshToken:t}){const r=B8(e);return r.append("Authorization",hX(t)),r}async function b8(e){const t=await e();return t.status>=500&&t.status<600?e():t}function fX(e){return Number(e.replace("s","000"))}function hX(e){return`${w8} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dX({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=y8(e),a=B8(e),A=t.getImmediate({optional:!0});if(A){const m=await A.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={fid:r,authVersion:w8,appId:e.appId,sdkVersion:m8},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await b8(()=>fetch(n,d));if(p.ok){const m=await p.json();return{fid:m.fid||r,registrationStatus:2,refreshToken:m.refreshToken,authToken:E8(m.authToken)}}else throw await C8("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX=/^[cdef][\w-]{21}$/,o2="";function pX(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=mX(e);return xX.test(r)?r:o2}catch{return o2}}function mX(e){return gX(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=new Map;function I8(e,t){const r=fg(e);S8(r,t),wX(r,t)}function S8(e,t){const r=T8.get(e);if(r)for(const n of r)n(t)}function wX(e,t){const r=vX();r&&r.postMessage({key:e,fid:t}),yX()}let kl=null;function vX(){return!kl&&"BroadcastChannel"in self&&(kl=new BroadcastChannel("[Firebase] FID Change"),kl.onmessage=e=>{S8(e.data.key,e.data.fid)}),kl}function yX(){T8.size===0&&kl&&(kl.close(),kl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX="firebase-installations-database",CX=1,ql="firebase-installations-store";let Jp=null;function Dw(){return Jp||(Jp=VI(EX,CX,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ql)}}})),Jp}async function S1(e,t){const r=fg(e),a=(await Dw()).transaction(ql,"readwrite"),A=a.objectStore(ql),c=await A.get(r);return await A.put(t,r),await a.done,(!c||c.fid!==t.fid)&&I8(e,t.fid),t}async function N8(e){const t=fg(e),n=(await Dw()).transaction(ql,"readwrite");await n.objectStore(ql).delete(t),await n.done}async function hg(e,t){const r=fg(e),a=(await Dw()).transaction(ql,"readwrite"),A=a.objectStore(ql),c=await A.get(r),d=t(c);return d===void 0?await A.delete(r):await A.put(d,r),await a.done,d&&(!c||c.fid!==d.fid)&&I8(e,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(e){let t;const r=await hg(e.appConfig,n=>{const a=BX(n),A=bX(e,a);return t=A.registrationPromise,A.installationEntry});return r.fid===o2?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function BX(e){const t=e||{fid:pX(),registrationStatus:0};return F8(t)}function bX(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Yl.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=_X(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:TX(e)}:{installationEntry:t}}async function _X(e,t){try{const r=await dX(e,t);return S1(e.appConfig,r)}catch(r){throw v8(r)&&r.customData.serverCode===409?await N8(e.appConfig):await S1(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function TX(e){let t=await w_(e.appConfig);for(;t.registrationStatus===1;)await _8(100),t=await w_(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Ow(e);return n||r}return t}function w_(e){return hg(e,t=>{if(!t)throw Yl.create("installation-not-found");return F8(t)})}function F8(e){return IX(e)?{fid:e.fid,registrationStatus:0}:e}function IX(e){return e.registrationStatus===1&&e.registrationTime+p8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SX({appConfig:e,heartbeatServiceProvider:t},r){const n=NX(e,r),a=uX(e,r),A=t.getImmediate({optional:!0});if(A){const m=await A.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={installation:{sdkVersion:m8,appId:e.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await b8(()=>fetch(n,d));if(p.ok){const m=await p.json();return E8(m)}else throw await C8("Generate Auth Token",p)}function NX(e,{fid:t}){return`${y8(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(e,t=!1){let r;const n=await hg(e.appConfig,A=>{if(!R8(A))throw Yl.create("not-registered");const c=A.authToken;if(!t&&DX(c))return A;if(c.requestStatus===1)return r=FX(e,t),A;{if(!navigator.onLine)throw Yl.create("app-offline");const d=UX(A);return r=RX(e,d),d}});return r?await r:n.authToken}async function FX(e,t){let r=await v_(e.appConfig);for(;r.authToken.requestStatus===1;)await _8(100),r=await v_(e.appConfig);const n=r.authToken;return n.requestStatus===0?Uw(e,t):n}function v_(e){return hg(e,t=>{if(!R8(t))throw Yl.create("not-registered");const r=t.authToken;return kX(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function RX(e,t){try{const r=await SX(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return await S1(e.appConfig,n),r}catch(r){if(v8(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await N8(e.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await S1(e.appConfig,n)}throw r}}function R8(e){return e!==void 0&&e.registrationStatus===2}function DX(e){return e.requestStatus===2&&!OX(e)}function OX(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+AX}function UX(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function kX(e){return e.requestStatus===1&&e.requestTime+p8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MX(e){const t=e,{installationEntry:r,registrationPromise:n}=await Ow(t);return n?n.catch(console.error):Uw(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LX(e,t=!1){const r=e;return await QX(r),(await Uw(r,t)).token}async function QX(e){const{registrationPromise:t}=await Ow(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jX(e){if(!e||!e.options)throw Zp("App Configuration");if(!e.name)throw Zp("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw Zp(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Zp(e){return Yl.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="installations",HX="installations-internal",PX=e=>{const t=e.getProvider("app").getImmediate(),r=jX(t),n=Bf(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},VX=e=>{const t=e.getProvider("app").getImmediate(),r=Bf(t,D8).getImmediate();return{getId:()=>MX(r),getToken:a=>LX(r,a)}};function GX(){el(new $A(D8,PX,"PUBLIC")),el(new $A(HX,VX,"PRIVATE"))}GX();lA(x8,Rw);lA(x8,Rw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="analytics",KX="firebase_id",zX="origin",WX=60*1e3,XX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new X2("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YX={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ls=new X1("analytics","Analytics",YX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(e){if(!e.startsWith(kw)){const t=ls.create("invalid-gtag-resource",{gtagURL:e});return Ki.warn(t.message),""}return e}function O8(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function JX(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function ZX(e,t){const r=JX("firebase-js-sdk-policy",{createScriptURL:qX}),n=document.createElement("script"),a=`${kw}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function $X(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function eY(e,t,r,n,a,A){const c=n[a];try{if(c)await t[c];else{const p=(await O8(r)).find(m=>m.measurementId===a);p&&await t[p.appId]}}catch(d){Ki.error(d)}e("config",a,A)}async function tY(e,t,r,n,a){try{let A=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await O8(r);for(const p of c){const m=d.find(b=>b.measurementId===p),y=m&&t[m.appId];if(y)A.push(y);else{A=[];break}}}A.length===0&&(A=Object.values(t)),await Promise.all(A),e("event",n,a||{})}catch(A){Ki.error(A)}}function rY(e,t,r,n){async function a(A,...c){try{if(A==="event"){const[d,p]=c;await tY(e,t,r,d,p)}else if(A==="config"){const[d,p]=c;await eY(e,t,r,n,d,p)}else if(A==="consent"){const[d,p]=c;e("consent",d,p)}else if(A==="get"){const[d,p,m]=c;e("get",d,p,m)}else if(A==="set"){const[d]=c;e("set",d)}else e(A,...c)}catch(d){Ki.error(d)}}return a}function nY(e,t,r,n,a){let A=function(...c){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(A=window[a]),window[a]=rY(A,e,t,r),{gtagCore:A,wrappedGtag:window[a]}}function aY(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(kw)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY=30,sY=1e3;class AY{constructor(t={},r=sY){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const U8=new AY;function oY(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function lY(e){var t;const{appId:r,apiKey:n}=e,a={method:"GET",headers:oY(n)},A=XX.replace("{app-id}",r),c=await fetch(A,a);if(c.status!==200&&c.status!==304){let d="";try{const p=await c.json();!((t=p.error)===null||t===void 0)&&t.message&&(d=p.error.message)}catch{}throw ls.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function cY(e,t=U8,r){const{appId:n,apiKey:a,measurementId:A}=e.options;if(!n)throw ls.create("no-app-id");if(!a){if(A)return{measurementId:A,appId:n};throw ls.create("no-api-key")}const c=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new hY;return setTimeout(async()=>{d.abort()},WX),k8({appId:n,apiKey:a,measurementId:A},c,d,t)}async function k8(e,{throttleEndTimeMillis:t,backoffCount:r},n,a=U8){var A;const{appId:c,measurementId:d}=e;try{await uY(n,t)}catch(p){if(d)return Ki.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:d};throw p}try{const p=await lY(e);return a.deleteThrottleMetadata(c),p}catch(p){const m=p;if(!fY(m)){if(a.deleteThrottleMetadata(c),d)return Ki.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:d};throw p}const y=Number((A=m==null?void 0:m.customData)===null||A===void 0?void 0:A.httpStatus)===503?E4(r,a.intervalMillis,iY):E4(r,a.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:r+1};return a.setThrottleMetadata(c,b),Ki.debug(`Calling attemptFetch again in ${y} millis`),k8(e,b,n,a)}}function uY(e,t){return new Promise((r,n)=>{const a=Math.max(t-Date.now(),0),A=setTimeout(r,a);e.addEventListener(()=>{clearTimeout(A),n(ls.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function fY(e){if(!(e instanceof il)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class hY{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function dY(e,t,r,n,a){if(a&&a.global){e("event",r,n);return}else{const A=await t,c=Object.assign(Object.assign({},n),{send_to:A});e("event",r,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gY(){if(QI())try{await jI()}catch(e){return Ki.warn(ls.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ki.warn(ls.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xY(e,t,r,n,a,A,c){var d;const p=cY(e);p.then(N=>{r[N.measurementId]=N.appId,e.options.measurementId&&N.measurementId!==e.options.measurementId&&Ki.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>Ki.error(N)),t.push(p);const m=gY().then(N=>{if(N)return n.getId()}),[y,b]=await Promise.all([p,m]);aY(A)||ZX(A,y.measurementId),a("js",new Date);const I=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return I[zX]="firebase",I.update=!0,b!=null&&(I[KX]=b),a("config",y.measurementId,I),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(t){this.app=t}_delete(){return delete Yu[this.app.options.appId],Promise.resolve()}}let Yu={},y_=[];const E_={};let $p="dataLayer",mY="gtag",C_,M8,B_=!1;function wY(){const e=[];if(GV()&&e.push("This is a browser extension environment."),zV()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,a)=>`(${a+1}) ${n}`).join(" "),r=ls.create("invalid-analytics-context",{errorInfo:t});Ki.warn(r.message)}}function vY(e,t,r){wY();const n=e.options.appId;if(!n)throw ls.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ki.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ls.create("no-api-key");if(Yu[n]!=null)throw ls.create("already-exists",{id:n});if(!B_){$X($p);const{wrappedGtag:A,gtagCore:c}=nY(Yu,y_,E_,$p,mY);M8=A,C_=c,B_=!0}return Yu[n]=xY(e,y_,E_,t,C_,$p,r),new pY(e)}function yY(e=KI()){e=zi(e);const t=Bf(e,N1);return t.isInitialized()?t.getImmediate():EY(e)}function EY(e,t={}){const r=Bf(e,N1);if(r.isInitialized()){const a=r.getImmediate();if(p1(t,r.getOptions()))return a;throw ls.create("already-initialized")}return r.initialize({options:t})}function CY(e,t,r,n){e=zi(e),dY(M8,Yu[e.app.options.appId],t,r,n).catch(a=>Ki.error(a))}const b_="@firebase/analytics",__="0.10.8";function BY(){el(new $A(N1,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return vY(n,a,r)},"PUBLIC")),el(new $A("analytics-internal",e,"PRIVATE")),lA(b_,__),lA(b_,__,"esm2017");function e(t){try{const r=t.getProvider(N1).getImmediate();return{logEvent:(n,a,A)=>CY(r,n,a,A)}}catch(r){throw ls.create("interop-component-reg-failed",{reason:r})}}}BY();const bY={apiKey:"AIzaSyC8yzlyr_lSdPWWbmODXThX-vPNAgpAn-c",authDomain:"mama-2951e.firebaseapp.com",projectId:"mama-2951e",storageBucket:"mama-2951e.firebasestorage.app",messagingSenderId:"881003136686",appId:"1:881003136686:web:819d11969d25fe32c28f3f",measurementId:"G-HZDLYN3PK7"},L8=GI(bY),xr=WW(L8);yY(L8);const em={userName:" ",signatureName:"Thank you for your visit",businessName:"Droguerie Taliouine",businessLogo:null,receiptSize:"80mm",showBarcode:!0,stockThreshold:10,backupTime:"00:00",lastBackupDate:null,autoBackupEnabled:!0,loginPhone:"0671276651",loginPassword:"1234",staffList:[],specialOrderLabel:" "},_Y=()=>{const[e,t]=_e.useState("login"),[r,n]=_e.useState([]),[a,A]=_e.useState(""),[c,d]=_e.useState(""),[p,m]=_e.useState("retail"),[y,b]=_e.useState(!1),[I,N]=_e.useState(null),[R,F]=_e.useState(!1),[D,K]=_e.useState(null),[W,H]=_e.useState(em),[re,de]=_e.useState([]),[ee,U]=_e.useState([]),[Q,k]=_e.useState([]),[Y,q]=_e.useState([]),[V,z]=_e.useState([]),[ze,ve]=_e.useState([]),[me,oe]=_e.useState([]),[Pe,Ee]=_e.useState([]),[$e,ge]=_e.useState(!0),[X,ce]=_e.useState("");_e.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e]),_e.useEffect(()=>{const Fe=on(xr,"settings","global");aX(Fe).then(ye=>{ye.exists()||Qi(Fe,em)});const Je=GA(Fe,ye=>{if(ye.exists()){const nt=ye.data();H(st=>({...em,...st,...nt}))}ge(!1)});return()=>Je()},[]),_e.useEffect(()=>{const Fe=Gs(Vs(xr,"invoices")),Je=GA(Fe,ye=>{const nt=ye.docs.map(st=>{const It=st.data();return{...It,items:It.items||[],payments:It.payments||[]}});nt.sort((st,It)=>It.createdAt-st.createdAt),de(nt)});return()=>Je()},[]),_e.useEffect(()=>{const Fe=Gs(Vs(xr,"supplier_invoices")),Je=GA(Fe,ye=>{const nt=ye.docs.map(st=>st.data());nt.sort((st,It)=>It.createdAt-st.createdAt),U(nt)});return()=>Je()},[]),_e.useEffect(()=>{const Fe=Gs(Vs(xr,"client_requests")),Je=GA(Fe,ye=>{const nt=ye.docs.map(st=>st.data());nt.sort((st,It)=>It.createdAt-st.createdAt),k(nt)});return()=>Je()},[]),_e.useEffect(()=>{const Fe=Gs(Vs(xr,"checks")),Je=GA(Fe,ye=>{const nt=ye.docs.map(st=>st.data());nt.sort((st,It)=>It.createdAt-st.createdAt),q(nt)});return()=>Je()},[]),_e.useEffect(()=>{const Fe=Gs(Vs(xr,"special_orders")),Je=GA(Fe,ye=>{const nt=ye.docs.map(st=>{const It=st.data();return!It.items&&It.productName&&(It.items=[{id:"legacy-1",name:It.productName,quantity:It.quantity||1}]),It});nt.sort((st,It)=>It.createdAt-st.createdAt),z(nt)});return()=>Je()},[]),_e.useEffect(()=>{const Fe=Gs(Vs(xr,"notifications")),Je=GA(Fe,ye=>{const nt=ye.docs.map(st=>st.data());nt.sort((st,It)=>It.timestamp-st.timestamp),ve(nt)});return()=>Je()},[]),_e.useEffect(()=>{const Fe=Gs(Vs(xr,"general_payments")),Je=GA(Fe,ye=>{const nt=ye.docs.map(st=>st.data());nt.sort((st,It)=>It.timestamp-st.timestamp),oe(nt)});return()=>Je()},[]),_e.useEffect(()=>{const Fe=Gs(Vs(xr,"products")),Je=GA(Fe,ye=>{const nt=ye.docs.map(st=>st.data());Ee(nt)});return()=>Je()},[]);const le=async Fe=>{H(Je=>{const ye=typeof Fe=="function"?Fe(Je):Fe,nt=JSON.parse(JSON.stringify(ye));return Qi(on(xr,"settings","global"),nt).catch(st=>{console.error("Critical: Failed to sync settings to Firestore",st)}),ye})},ae=async Fe=>{await Qi(on(xr,"products",Fe.id),JSON.parse(JSON.stringify(Fe)))},xe=async Fe=>{await Qi(on(xr,"products",Fe.id),JSON.parse(JSON.stringify(Fe)))},Xe=async Fe=>{await Oo(on(xr,"products",Fe))},Se=async Fe=>{await Qi(on(xr,"supplier_invoices",Fe.id),JSON.parse(JSON.stringify(Fe)))},Ce=async Fe=>{await Od(on(xr,"supplier_invoices",Fe.id),JSON.parse(JSON.stringify(Fe)))},Ue=async Fe=>{await Oo(on(xr,"supplier_invoices",Fe))},xt=async Fe=>{const Je=m_(xr),ye=Gs(Vs(xr,"supplier_invoices"),Xp("supplierName","==",Fe));(await Yp(ye)).forEach(st=>{Je.delete(st.ref)}),await Je.commit()},he=async Fe=>{await Qi(on(xr,"client_requests",Fe.id),JSON.parse(JSON.stringify(Fe)))},_t=async Fe=>{await Qi(on(xr,"client_requests",Fe.id),JSON.parse(JSON.stringify(Fe)))},Rt=async Fe=>{await Oo(on(xr,"client_requests",Fe))},Ut=async Fe=>{await Qi(on(xr,"checks",Fe.id),JSON.parse(JSON.stringify(Fe)))},Ie=async Fe=>{await Qi(on(xr,"checks",Fe.id),JSON.parse(JSON.stringify(Fe)))},Re=async Fe=>{await Oo(on(xr,"checks",Fe))},ht=async Fe=>{await Qi(on(xr,"special_orders",Fe.id),JSON.parse(JSON.stringify(Fe)))},Et=async Fe=>{await Qi(on(xr,"special_orders",Fe.id),JSON.parse(JSON.stringify(Fe)))},Ar=async Fe=>{await Oo(on(xr,"special_orders",Fe))},Ct=async Fe=>{await Qi(on(xr,"general_payments",Fe.id),JSON.parse(JSON.stringify(Fe)))},wn=async Fe=>{await Oo(on(xr,"general_payments",Fe))},ln=async Fe=>{await Oo(on(xr,"invoices",Fe)),await Oo(on(xr,"notifications",`debt-${Fe}`))},je=async Fe=>{const Je=m_(xr),ye=Gs(Vs(xr,"invoices"),Xp("name","==",Fe));(await Yp(ye)).forEach(Kr=>{Je.delete(Kr.ref),Je.delete(on(xr,"notifications",`debt-${Kr.id}`))});const st=Gs(Vs(xr,"general_payments"),Xp("customerName","==",Fe));(await Yp(st)).forEach(Kr=>Je.delete(Kr.ref)),await Je.commit()},Tt=()=>{t("login"),K(null),Bt()},Bt=()=>{n([]),N(null),A(""),d(""),m("retail")},Xt=Fe=>{D!=null&&D.permissions.createInvoices&&(N(Fe),n(Fe.items),A(Fe.name),d(Fe.phone||""),m(Fe.priceMode||"retail"),t("create-invoice"))},or=(Fe,Je)=>{D!=null&&D.permissions.createInvoices&&(Bt(),A(Fe),d(Je||""),t("create-invoice"))},fr=async Fe=>{await Qi(on(xr,"invoices",Fe.id),JSON.parse(JSON.stringify(Fe)));for(const Je of Fe.items)if(!Je.isManual){const ye=Pe.find(nt=>nt.id===Je.id);if(ye){let nt=Je.count;if(I){const st=I.items.find(It=>It.id===Je.id);st&&(nt=Je.count-st.count)}if(nt!==0){const st=Math.max(0,ye.stock-nt);await Od(on(xr,"products",Je.id),{stock:st})}}}Bt(),t("dashboard")},Kt=_e.useMemo(()=>D?D.role==="admin"||D.permissions.isManager||D.permissions.viewAllWork?re:re.filter(Fe=>Fe.creatorName===D.name):[],[re,D]),at=(Fe,Je)=>{if(Fe==="OPEN_INVOICE"&&Je){const ye=re.find(nt=>nt.id===Je);ye&&Xt(ye)}else Fe==="OPEN_PRODUCT"&&Je?(ce(Je),t("products")):Fe==="NAVIGATE"?Object.values(["dashboard","products","customers","settings","create-invoice","suppliers"]).includes(Je)&&t(Je):Fe==="SEARCH"&&(ce(Je||""),t("products"))};return $e?h.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white font-bold",children:"  ..."}):h.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-black font-['Tajawal'] relative overflow-x-hidden text-white",children:[e==="login"&&h.jsx(gF,{onLoginSuccess:Fe=>{K(Fe),t("dashboard")},settings:W}),e==="dashboard"&&D&&h.jsx(jO,{currentUser:D,onLogout:Tt,invoices:Kt,settings:W,products:Pe,onNavigateToProducts:()=>{ce(""),t("products")},onNavigateToCreateInvoice:()=>{I||Bt(),t("create-invoice")},onNavigateToSettings:()=>t("settings"),onNavigateToCustomers:()=>t("customers"),onNavigateToNotifications:()=>t("notifications"),onNavigateToSuppliers:()=>t("suppliers"),onNavigateToClientRequests:()=>t("client-requests"),onNavigateToCheckbook:()=>t("checkbook"),onNavigateToSpecialOrders:()=>t("special-orders"),onEditInvoice:Xt,onDeleteInvoice:ln,onNewInvoiceForCustomer:or,unreadNotificationsCount:ze.filter(Fe=>!Fe.isRead).length}),e==="products"&&D&&h.jsx(mP,{currentUser:D,products:Pe,onAddProduct:ae,onUpdateProduct:xe,onDeleteProduct:Xe,onLogout:Tt,onNavigateToHome:()=>t("dashboard"),onNavigateToCreateInvoice:()=>t("create-invoice"),onNavigateToCustomers:()=>t("customers"),onNavigateToSettings:()=>t("settings"),isSelectionMode:y,onSelectProduct:(Fe,Je)=>n(ye=>ye.find(st=>st.id===Fe.id)?ye.map(st=>st.id===Fe.id?{...st,count:st.count+Je,total:(st.count+Je)*Fe.price}:st):[...ye,{...Fe,productName:Fe.name,count:Je,total:Fe.price*Je}]),onStartInvoiceWithProduct:(Fe,Je)=>{Bt(),n([{...Fe,productName:Fe.name,count:Je,total:Fe.price*Je}]),t("create-invoice")},selectedItems:r,settings:W,invoicePriceMode:p,initialSearchTerm:X}),e==="create-invoice"&&D&&h.jsx(CP,{currentUser:D,onNavigateToHome:()=>{Bt(),t("dashboard")},onNavigateToProductSelection:()=>{b(!0),t("products")},items:r,setInvoiceItems:n,products:Pe,onUpdateQuantity:(Fe,Je)=>n(ye=>ye.map(nt=>nt.id===Fe?{...nt,count:Math.max(0,nt.count+Je),total:Math.max(0,nt.count+Je)*nt.price}:nt).filter(nt=>nt.count>0)),onClearInvoice:Bt,onAddManualItem:(Fe,Je,ye)=>n(nt=>[...nt,{id:`manual-${Date.now()}`,productName:Fe,price:Je,count:ye,total:Je*ye,isManual:!0}]),onSaveInvoice:fr,initialInvoice:I,settings:W,onUpdateItem:(Fe,Je)=>n(ye=>ye.map(nt=>nt.id===Fe?{...nt,...Je,total:(Je.price||nt.price)*(Je.count||nt.count)}:nt)),customerName:a,setCustomerName:A,customerPhone:c,setCustomerPhone:d,priceMode:p,setPriceMode:m}),e==="settings"&&D&&h.jsx(BP,{currentUser:D,onNavigateToHome:()=>t("dashboard"),settings:W,onUpdateSettings:le,onTriggerManualBackup:()=>{},invoices:re,onEditInvoice:Xt,onNavigateToProducts:()=>t("products"),onNavigateToCustomers:()=>t("customers"),onNavigateToCreateInvoice:()=>t("create-invoice"),onLogout:Tt}),e==="customers"&&D&&h.jsx(DP,{currentUser:D,onNavigateToHome:()=>t("dashboard"),onNavigateToProducts:()=>t("products"),onNavigateToSettings:()=>t("settings"),onNavigateToCreateInvoice:()=>t("create-invoice"),invoices:Kt,generalPayments:me,onAddGeneralPayment:Ct,onDeleteGeneralPayment:wn,onDeleteCustomer:je,onProcessPayment:async(Fe,Je,ye)=>{const nt=re.find(st=>st.id===Fe);if(nt){const st=nt.paidAmount+Je,It=Math.max(0,nt.amount-st),Kr={...nt,paidAmount:st,remainingAmount:It,type:It<=0?"paid":"partial",payments:[...nt.payments,{id:`pay-${Date.now()}`,amount:Je,timestamp:Date.now(),method:ye}]};await Qi(on(xr,"invoices",Fe),JSON.parse(JSON.stringify(Kr)))}},onEditInvoice:Xt,settings:W}),D&&e==="dashboard"&&h.jsx(SV,{products:Pe,invoices:re,currentUser:D,onAction:at,onSearchProduct:Fe=>{ce(Fe),t("products")}}),e==="notifications"&&D&&h.jsx(LP,{onNavigateToHome:()=>t("dashboard"),notifications:ze,onMarkAllAsRead:()=>ze.forEach(Fe=>Od(on(xr,"notifications",Fe.id),{isRead:!0})),onClearAll:()=>{},onMarkAsRead:Fe=>Od(on(xr,"notifications",Fe),{isRead:!0})}),e==="suppliers"&&D&&h.jsx(VP,{currentUser:D,onNavigateToHome:()=>t("dashboard"),onAddInvoice:Se,onUpdateInvoice:Ce,onDeleteInvoice:Ue,onDeleteSupplier:xt,invoices:ee}),e==="client-requests"&&D&&h.jsx(GP,{onNavigateToHome:()=>t("dashboard"),requests:Q,onAddRequest:he,onUpdateRequest:_t,onDeleteRequest:Rt,settings:W}),e==="checkbook"&&D&&h.jsx(KP,{onNavigateToHome:()=>t("dashboard"),checks:Y,onAddCheck:Ut,onUpdateCheck:Ie,onDeleteCheck:Re,settings:W}),e==="special-orders"&&D&&h.jsx(zP,{onNavigateToHome:()=>t("dashboard"),orders:V,onAddOrder:ht,onUpdateOrder:Et,onDeleteOrder:Ar,settings:W})]})},Q8=document.getElementById("root");if(!Q8)throw new Error("Could not find root element to mount to");const TY=dF.createRoot(Q8);TY.render(h.jsx(sF.StrictMode,{children:h.jsx(_Y,{})}));
